!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=74)}({0:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return bson_54});var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__),commonjsGlobal="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var map=createCommonjsModule(function(t){if(void 0!==commonjsGlobal.Map)t.exports=commonjsGlobal.Map,t.exports.Map=commonjsGlobal.Map;else{var e=function(t){this._keys=[],this._values={};for(var e=0;e<t.length;e++)if(null!=t[e]){var n=t[e],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(t){var e=this._values[t];return null!=e&&(delete this._values[t],this._keys.splice(e.i,1),!0)},e.prototype.entries=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?[n,t._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(t,e){e=e||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];t.call(e,this._values[r].v,r,e)}},e.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},e.prototype.has=function(t){return null!=this._values[t]},e.prototype.keys=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(t,e){return this._values[t]?(this._values[t].v=e,this):(this._keys.push(t),this._values[t]={v:e,i:this._keys.length-1},this)},e.prototype.values=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?t._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),t.exports=e}}),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(t,e){var n=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(t.$numberLong);return e&&e.relaxed?n.toNumber():n},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Double=function(){function t(e){_classCallCheck(this,t),this.value=e}return _createClass(t,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(t){return t&&t.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(e,n){return n&&n.relaxed?parseFloat(e.$numberDouble):new t(parseFloat(e.$numberDouble))}}]),t}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),n&&_defineProperties$1(t,n),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Timestamp=function(t){function e(t,n){return _classCallCheck$1(this,e),_possibleConstructorReturn(long_1.isLong(t)?_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t.low,t.high)):_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n)))}return _inherits(e,long_1),_createClass$1(e,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(t){return new e(long_1.fromInt(t))}},{key:"fromNumber",value:function(t){return new e(long_1.fromNumber(t))}},{key:"fromBits",value:function(t,n){return new e(t,n)}},{key:"fromString",value:function(t,n){return new e(long_1.fromString(t,n))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$timestamp.i,t.$timestamp.t)}}]),e}();Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(t){return t.toString().replace("function(","function (")}function insecureRandomBytes(t){for(var e=new Uint8Array(t),n=0;n<t;++n)e[n]=Math.floor(256*Math.random());return e}var randomBytes=insecureRandomBytes;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(t){return window.crypto.getRandomValues(new Uint8Array(t))};else{try{randomBytes=require$$0.randomBytes}catch(t){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}function nextTick(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(t,e)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(t){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(t){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(t){var e=.001*performanceNow.call(performance),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var inherits$1=inherits;function _typeof$1(t){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var formatRegExp=/%[sdj%]/g;function format(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(formatRegExp,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),s=r[n];n<i;s=r[++n])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o}function deprecate(t,e){if(isUndefined(global.process))return function(){return deprecate(t,e).apply(this,arguments)};var n=!1;return function(){return n||(console.error(e),n=!0),t.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(t){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!debugs[t])if(new RegExp("\\b"+t+"\\b","i").test(debugEnviron)){debugs[t]=function(){var e=format.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else debugs[t]=function(){};return debugs[t]}function inspect(t,e){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(e)?n.showHidden=e:e&&_extend(n,e),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"["+inspect.colors[n][0]+"m"+t+"["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function formatValue(t,e,n){if(t.customInspect&&e&&isFunction(e.inspect)&&e.inspect!==inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return isString(r)||(r=formatValue(t,r,n)),r}var i=formatPrimitive(t,e);if(i)return i;var o=Object.keys(e),s=arrayToHash(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),isError(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(e);if(0===o.length){if(isFunction(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var u,l="",c=!1,h=["{","}"];(isArray(e)&&(c=!0,h=["[","]"]),isFunction(e))&&(l=" [Function"+(e.name?": "+e.name:"")+"]");return isRegExp(e)&&(l=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(l=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(l=" "+formatError(e)),0!==o.length||c&&0!=e.length?n<0?isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=c?formatArray(t,e,n,s,o):o.map(function(r){return formatProperty(t,e,n,s,r,c)}),t.seen.pop(),reduceToSingleString(u,l,h)):h[0]+l+h[1]}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return isNumber(e)?t.stylize(""+e,"number"):isBoolean(e)?t.stylize(""+e,"boolean"):isNull(e)?t.stylize("null","null"):void 0}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)hasOwnProperty(e,String(s))?o.push(formatProperty(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(t,e,n,r,i,!0))}),o}function formatProperty(t,e,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),hasOwnProperty(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(u.value)<0?(a=isNull(n)?formatValue(t,u.value,null):formatValue(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function reduceToSingleString(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"==typeof t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}function isNumber(t){return"number"==typeof t}function isString(t){return"string"==typeof t}function isSymbol(t){return"symbol"===_typeof$1(t)}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===_typeof$1(t)&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"==typeof t}function isPrimitive(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===_typeof$1(t)||void 0===t}function isBuffer(t){return Buffer.isBuffer(t)}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),months[t.getMonth()],e].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),n&&_defineProperties$2(t,n),t}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(t){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(t){return t.toString("hex")}function makeObjectIdError(t,e){var n=t[e];return new TypeError('ObjectId string "'.concat(t,'" contains invalid character "').concat(n,'" with character code (').concat(t.charCodeAt(e),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function t(e){if(_classCallCheck$2(this,t),e instanceof t)return e;if(null==e||"number"==typeof e)return this.id=t.generate(e),void(t.cacheHexString&&(this.__id=this.toString("hex")));var n=t.isValid(e);if(!n&&null!=e)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"==typeof e&&24===e.length&&hasBufferType)return new t(Buffer$1.from(e,"hex"));if(n&&"string"==typeof e&&24===e.length)return t.createFromHexString(e);if(null==e||12!==e.length){if(null!=e&&e.toHexString)return t.createFromHexString(e.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=e,t.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(t,[{key:"toHexString",value:function(){if(t.cacheHexString&&this.__id)return this.__id;var e="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return e=convertToHex(this.id),t.cacheHexString&&(this.__id=e),e;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!=typeof r)throw makeObjectIdError(this.id,n);e+=r}return t.cacheHexString&&(this.__id=e),e}},{key:"toString",value:function(t){return this.id&&this.id.copy?this.id.toString("string"==typeof t?t:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(e){return e instanceof t?this.toString()===e.toString():"string"==typeof e&&t.isValid(e)&&12===e.length&&this.id instanceof _Buffer?e===this.id.toString("binary"):"string"==typeof e&&t.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&t.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof t||e.toHexString))&&e.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var t=new Date,e=this.id.readUInt32BE(0);return t.setTime(1e3*Math.floor(e)),t}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return t.index=(t.index+1)%16777215}},{key:"generate",value:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3));var n=t.getInc(),r=Buffer$1.alloc(12);return r[3]=255&e,r[2]=e>>8&255,r[1]=e>>16&255,r[0]=e>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new t}},{key:"createFromTime",value:function(e){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&e,n[2]=e>>8&255,n[1]=e>>16&255,n[0]=e>>24&255,new t(n)}},{key:"createFromHexString",value:function(e){if(void 0===e||null!=e&&24!==e.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new t(Buffer$1.from(e,"hex"));for(var n=new _Buffer(12),r=0,i=0;i<24;)n[r++]=decodeLookup[e.charCodeAt(i++)]<<4|decodeLookup[e.charCodeAt(i++)];return new t(n)}},{key:"isValid",value:function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&checkForHexRegExp.test(e):e instanceof t||(e instanceof _Buffer&&12===e.length||!!e.toHexString&&(12===e.id.length||24===e.id.length&&checkForHexRegExp.test(e.id)))))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$oid)}}]),t}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(t){return ObjectId.generate(t)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(t){this.id[3]=255&t,this.id[2]=t>>8&255,this.id[1]=t>>16&255,this.id[0]=t>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),n&&_defineProperties$3(t,n),t}function alphabetize(t){return t.split("").sort().join("")}var BSONRegExp=function(){function t(e,n){_classCallCheck$3(this,t),this.pattern=e||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(t,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$regularExpression.pattern,e.$regularExpression.options.split("").sort().join(""))}}]),t}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),t}var BSONSymbol=function(){function t(e){_classCallCheck$4(this,t),this.value=e}return _createClass$4(t,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$symbol)}}]),t}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),n&&_defineProperties$5(t,n),t}var Int32=function(){function t(e){_classCallCheck$5(this,t),this.value=e}return _createClass$5(t,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(t){return t&&t.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)}}]),t}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),n&&_defineProperties$6(t,n),t}var Code=function(){function t(e,n){_classCallCheck$6(this,t),this.code=e,this.scope=n}return _createClass$6(t,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$code,e.$scope)}}]),t}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(t){return!isNaN(parseInt(t,10))}function divideu128(t){var e=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!(t.parts[0]||t.parts[1]||t.parts[2]||t.parts[3]))return{quotient:t,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new long_1(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function multiply64x2(t,e){if(!t&&!e)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=t.shiftRightUnsigned(32),r=new long_1(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new long_1(e.getLowBits(),0),s=n.multiply(i),a=n.multiply(o),u=r.multiply(i),l=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new long_1(a.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:l=a.shiftLeft(32).add(new long_1(l.getLowBits(),0))}}function lessThan(t,e){var n=t.high>>>0,r=e.high>>>0;return n<r||n===r&&t.low>>>0<e.low>>>0}function invalidErr(t,e){throw new TypeError('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}function Decimal128(t){this.bytes=t}Decimal128.fromString=function(t){var e,n=!1,r=!1,i=!1,o=0,s=0,a=0,u=0,l=0,c=[0],h=0,f=0,d=0,p=0,_=0,y=0,m=[0,0],g=[0,0],v=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var b=t.match(PARSE_STRING_REGEXP),w=t.match(PARSE_INF_REGEXP),E=t.match(PARSE_NAN_REGEXP);if(!b&&!w&&!E||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(b){var S=b[2],A=b[4],N=b[5],T=b[6];A&&void 0===T&&invalidErr(t,"missing exponent power"),A&&void 0===S&&invalidErr(t,"missing exponent base"),void 0===A&&(N||T)&&invalidErr(t,"missing e before exponent")}if("+"!==t[v]&&"-"!==t[v]||(n="-"===t[v++]),!isDigit(t[v])&&"."!==t[v]){if("i"===t[v]||"I"===t[v])return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===t[v])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(t[v])||"."===t[v];)"."!==t[v]?(h<34&&("0"!==t[v]||i)&&(i||(l=s),i=!0,c[f++]=parseInt(t[v],10),h+=1),i&&(a+=1),r&&(u+=1),s+=1,v+=1):(r&&invalidErr(t,"contains multiple periods"),r=!0,v+=1);if(r&&!s)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[v]||"E"===t[v]){var O=t.substr(++v).match(EXPONENT_REGEX);if(!O||!O[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));_=parseInt(O[0],10),v+=O[0].length}if(t[v])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(d=0,h){if(p=h-1,1!==(o=a))for(;"0"===t[l+o-1];)o-=1}else d=0,p=0,c[0]=0,a=1,h=1,o=0;for(_<=u&&u-_>16384?_=EXPONENT_MIN:_-=u;_>EXPONENT_MAX;){if((p+=1)-d>MAX_DIGITS){if(c.join("").match(/^0+$/)){_=EXPONENT_MAX;break}invalidErr(t,"overflow")}_-=1}for(;_<EXPONENT_MIN||h<a;){if(0===p&&o<h){_=EXPONENT_MIN,o=0;break}if(h<a?a-=1:p-=1,_<EXPONENT_MAX)_+=1;else{if(c.join("").match(/^0+$/)){_=EXPONENT_MAX;break}invalidErr(t,"overflow")}}if(p-d+1<o){var P=s;r&&(l+=1,P+=1),n&&(l+=1,P+=1);var C=parseInt(t[l+p+1],10),x=0;if(C>=5&&(x=1,5===C))for(x=c[p]%2==1,y=l+p+2;y<P;y++)if(parseInt(t[y],10)){x=1;break}if(x)for(var I=p;I>=0;I--)if(++c[I]>9&&(c[I]=0,0===I)){if(!(_<EXPONENT_MAX))return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));_+=1,c[I]=1}}if(m=long_1.fromNumber(0),g=long_1.fromNumber(0),0===o)m=long_1.fromNumber(0),g=long_1.fromNumber(0);else if(p-d<17){var R=d;for(g=long_1.fromNumber(c[R++]),m=new long_1(0,0);R<=p;R++)g=(g=g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(c[R]))}else{var B=d;for(m=long_1.fromNumber(c[B++]);B<=p-17;B++)m=(m=m.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(c[B]));for(g=long_1.fromNumber(c[B++]);B<=p;B++)g=(g=g.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(c[B]))}var D=multiply64x2(m,long_1.fromString("100000000000000000"));D.low=D.low.add(g),lessThan(D.low,g)&&(D.high=D.high.add(long_1.fromNumber(1))),e=_+EXPONENT_BIAS;var M={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};D.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(M.high=M.high.or(long_1.fromNumber(3).shiftLeft(61)),M.high=M.high.or(long_1.fromNumber(e).and(long_1.fromNumber(16383).shiftLeft(47))),M.high=M.high.or(D.high.and(long_1.fromNumber(0x7fffffffffff)))):(M.high=M.high.or(long_1.fromNumber(16383&e).shiftLeft(49)),M.high=M.high.or(D.high.and(long_1.fromNumber(562949953421311)))),M.low=D.low,n&&(M.high=M.high.or(long_1.fromString("9223372036854775808")));var U=Buffer$2.alloc(16);return v=0,U[v++]=255&M.low.low,U[v++]=M.low.low>>8&255,U[v++]=M.low.low>>16&255,U[v++]=M.low.low>>24&255,U[v++]=255&M.low.high,U[v++]=M.low.high>>8&255,U[v++]=M.low.high>>16&255,U[v++]=M.low.high>>24&255,U[v++]=255&M.high.low,U[v++]=M.high.low>>8&255,U[v++]=M.high.low>>16&255,U[v++]=M.high.low>>24&255,U[v++]=255&M.high.high,U[v++]=M.high.high>>8&255,U[v++]=M.high.high>>16&255,U[v++]=M.high.high>>24&255,new Decimal128(U)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var t,e,n,r,i,o,s=0,a=new Array(36),u=0;u<a.length;u++)a[u]=0;var l,c,h,f,d,p=0,_=!1,y={parts:new Array(4)},m=[];p=0;var g=this.bytes;if(r=g[p++]|g[p++]<<8|g[p++]<<16|g[p++]<<24,n=g[p++]|g[p++]<<8|g[p++]<<16|g[p++]<<24,e=g[p++]|g[p++]<<8|g[p++]<<16|g[p++]<<24,t=g[p++]|g[p++]<<8|g[p++]<<16|g[p++]<<24,p=0,{low:new long_1(r,n),high:new long_1(e,t)}.high.lessThan(long_1.ZERO)&&m.push("-"),(i=t>>26&COMBINATION_MASK)>>3==3){if(i===COMBINATION_INFINITY)return m.join("")+"Infinity";if(i===COMBINATION_NAN)return"NaN";o=t>>15&EXPONENT_MASK,h=8+(t>>14&1)}else h=t>>14&7,o=t>>17&EXPONENT_MASK;if(l=o-EXPONENT_BIAS,y.parts[0]=(16383&t)+((15&h)<<14),y.parts[1]=e,y.parts[2]=n,y.parts[3]=r,0===y.parts[0]&&0===y.parts[1]&&0===y.parts[2]&&0===y.parts[3])_=!0;else for(d=3;d>=0;d--){var v=0,b=divideu128(y);if(y=b.quotient,v=b.rem.low)for(f=8;f>=0;f--)a[9*d+f]=v%10,v=Math.floor(v/10)}if(_)s=1,a[p]=0;else for(s=36;!a[p];)s-=1,p+=1;if((c=s-1+l)>=34||c<=-7||l>0){if(s>34)return m.push(0),l>0?m.push("E+"+l):l<0&&m.push("E"+l),m.join("");m.push(a[p++]),(s-=1)&&m.push(".");for(var w=0;w<s;w++)m.push(a[p++]);m.push("E"),c>0?m.push("+"+c):m.push(c)}else if(l>=0)for(var E=0;E<s;E++)m.push(a[p++]);else{var S=s+l;if(S>0)for(var A=0;A<S;A++)m.push(a[p++]);else m.push("0");for(m.push(".");S++<0;)m.push("0");for(var N=0;N<s-Math.max(S-1,0);N++)m.push(a[p++])}return m.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(t){return Decimal128.fromString(t.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),n&&_defineProperties$7(t,n),t}var MinKey=function(){function t(){_classCallCheck$7(this,t)}return _createClass$7(t,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new t}}]),t}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),t}var MaxKey=function(){function t(){_classCallCheck$8(this,t)}return _createClass$8(t,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new t}}]),t}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),n&&_defineProperties$9(t,n),t}var DBRef=function(){function t(e,n,r,i){_classCallCheck$9(this,t);var o=e.split(".");2===o.length&&(r=o.shift(),e=o.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(t,[{key:"toJSON",value:function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(t.$db=this.db),t}},{key:"toExtendedJSON",value:function(){var t={$ref:this.collection,$id:this.oid};return this.db&&(t.$db=this.db),t=Object.assign(t,this.fields)}}],[{key:"fromExtendedJSON",value:function(e){var n=Object.assign({},e);return["$ref","$id","$db"].forEach(function(t){return delete n[t]}),new t(e.$ref,e.$id,e.$db,n)}}]),t}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),n&&_defineProperties$a(t,n),t}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function t(e,n){if(_classCallCheck$a(this,t),!(null==e||"string"==typeof e||Buffer$3.isBuffer(e)||e instanceof Uint8Array||Array.isArray(e)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==e||e instanceof Number)void 0!==Buffer$3?this.buffer=Buffer$3.alloc(t.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE)):this.buffer=new Array(t.BUFFER_SIZE);else{if("string"==typeof e)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(e);else{if("undefined"==typeof Uint8Array&&!Array.isArray(e))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(e)}else this.buffer=e;this.position=e.length}}return _createClass$a(t,[{key:"put",value:function(e){if(null!=e.length&&"number"!=typeof e&&1!==e.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof e&&e<0||e>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"==typeof e?e.charCodeAt(0):null!=e.length?e[0]:e,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE+this.buffer.length)):new Array(t.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:"write",value:function(t,e){if(e="number"==typeof e?e:this.position,this.buffer.length<e+t.length){var n=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+t.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+t.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if(void 0!==Buffer$3&&Buffer$3.isBuffer(t)&&Buffer$3.isBuffer(this.buffer))t.copy(this.buffer,e,0,t.length),this.position=e+t.length>this.position?e+t.length:this.position;else if(void 0!==Buffer$3&&"string"==typeof t&&Buffer$3.isBuffer(this.buffer))this.buffer.write(t,e,"binary"),this.position=e+t.length>this.position?e+t.length:this.position;else if(isUint8Array(t)||Array.isArray(t)&&"string"!=typeof t){for(var i=0;i<t.length;i++)this.buffer[e++]=t[i];this.position=e>this.position?e:this.position}else if("string"==typeof t){for(var o=0;o<t.length;o++)this.buffer[e++]=t.charCodeAt(o);this.position=e>this.position?e:this.position}}},{key:"read",value:function(t,e){if(e=e&&e>0?e:this.position,this.buffer.slice)return this.buffer.slice(t,t+e);for(var n="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e)):new Array(e),r=0;r<e;r++)n[r]=this.buffer[t++];return n}},{key:"value",value:function(t){if((t=null!=t&&t)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(t){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var e=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)e[n]=this.buffer[n];return e}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(t){return null!=this.buffer?this.buffer.slice(0,this.position).toString(t):""}},{key:"toExtendedJSON",value:function(){var t=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),e=Number(this.sub_type).toString(16);return{$binary:{base64:t,subType:1===e.length?"0"+e:e}}}}],[{key:"fromExtendedJSON",value:function(e){var n=e.$binary.subType?parseInt(e.$binary.subType,16):0;return new t(Buffer$3.from(e.$binary.base64,"base64"),n)}}]),t}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function writeStringToArray(t){for(var e="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t.length)):new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function convertArraytoUtf8BinaryString(t,e,n){for(var r="",i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(t){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(t,e,n,r){if("number"==typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter(function(t){return t.startsWith("$")&&null!=n[t]}),o=0;o<i.length;o++){var s=keysToCodecs[i[o]];if(s)return s.fromExtendedJSON(n,r)}if(null!=n.$date){var a=n.$date,u=new Date;return"string"==typeof a?u.setTime(Date.parse(a)):long_1.isLong(a)?u.setTime(a.toNumber()):"number"==typeof a&&r.relaxed&&u.setTime(a),u}if(null!=n.$code){var l=Object.assign({},n);return n.$scope&&(l.$scope=deserializeValue(t,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var c=n.$ref?n:n.$dbPointer;if(c instanceof db_ref)return c;var h=!0;if(Object.keys(c).filter(function(t){return t.startsWith("$")}).forEach(function(t){-1===["$ref","$id","$db"].indexOf(t)&&(h=!1)}),h)return db_ref.fromExtendedJSON(c)}return n}function parse(t,e){var n=this;return"boolean"==typeof(e=Object.assign({},{relaxed:!0},e)).relaxed&&(e.strict=!e.relaxed),"boolean"==typeof e.strict&&(e.relaxed=!e.strict),JSON.parse(t,function(t,r){return deserializeValue(n,t,r,e)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(t,e,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==e||"object"!==_typeof$2(e)||Array.isArray(e)||(r=e,e=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(t)?serializeArray(t,r):serializeDocument(t,r);return JSON.stringify(i,e,n)}function serialize(t,e){return e=e||{},JSON.parse(stringify(t,e))}function deserialize(t,e){return e=e||{},parse(JSON.stringify(t),e)}function serializeArray(t,e){return t.map(function(t){return serializeValue(t,e)})}function getISOString(t){var e=t.toISOString();return 0!==t.getUTCMilliseconds()?e:e.slice(0,-5)+"Z"}function serializeValue(t,e){if(Array.isArray(t))return serializeArray(t,e);if(void 0===t)return null;if(t instanceof Date){var n=t.getTime(),r=n>-1&&n<2534023188e5;return e.relaxed&&r?{$date:getISOString(t)}:{$date:{$numberLong:t.getTime().toString()}}}if("number"==typeof t&&!e.relaxed){if(Math.floor(t)===t){var i=t>=BSON_INT64_MIN&&t<=BSON_INT64_MAX;if(t>=BSON_INT32_MIN&&t<=BSON_INT32_MAX)return{$numberInt:t.toString()};if(i)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp){var o=t.flags;return void 0===o&&(o=t.toString().match(/[gimuy]*$/)[0]),new regexp(t.source,o).toExtendedJSON()}return null!=t&&"object"===_typeof$2(t)?serializeDocument(t,e):t}var BSON_TYPE_MAPPINGS={Binary:function(t){return new binary(t.value(),t.subtype)},Code:function(t){return new code(t.code,t.scope)},DBRef:function(t){return new db_ref(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new decimal128(t.bytes)},Double:function(t){return new double_1(t.value)},Int32:function(t){return new int_32(t.value)},Long:function(t){return long_1.fromBits(null!=t.low?t.low:t.low_,null!=t.low?t.high:t.high_,null!=t.low?t.unsigned:t.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(t){return new objectid(t)},ObjectId:function(t){return new objectid(t)},BSONRegExp:function(t){return new regexp(t.pattern,t.options)},Symbol:function(t){return new symbol(t.value)},Timestamp:function(t){return timestamp.fromBits(t.low,t.high)}};function serializeDocument(t,e){if(null==t||"object"!==_typeof$2(t))throw new Error("not an object instance");var n=t._bsontype;if(void 0===n){var r={};for(var i in t)r[i]=serializeValue(t[i],e);return r}if("string"==typeof n){var o=t;if("function"!=typeof o.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[n];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+n);o=s(o)}return"Code"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,e)):"DBRef"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,e),o.db,o.fields)),o.toExtendedJSON(e)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(t,e,n){for(var r=0,i=e;i<n;i+=1){var o=t[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(t,e,n){var r=(e=null==e?{}:e)&&e.index?e.index:0,i=t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(e.allowObjectSmallerThanBufferSize&&t.length<i)throw new Error("buffer length ".concat(t.length," must be >= bson size ").concat(i));if(!e.allowObjectSmallerThanBufferSize&&t.length!==i)throw new Error("buffer length ".concat(t.length," must === bson size ").concat(i));if(i+r>t.length)throw new Error("(bson size ".concat(i," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(t),")"));if(0!==t[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(t,r,e,n)}function deserializeObject(t,e,n,r){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,s=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!s)var a=null;var u=null==n.fieldsAsRaw?null:n.fieldsAsRaw,l=null!=n.raw&&n.raw,c="boolean"==typeof n.bsonRegExp&&n.bsonRegExp,h=null!=n.promoteBuffers&&n.promoteBuffers,f=null==n.promoteLongs||n.promoteLongs,d=null==n.promoteValues||n.promoteValues,p=e;if(t.length<5)throw new Error("corrupt bson message < 5 bytes long");var _=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(_<5||_>t.length)throw new Error("corrupt bson message");for(var y=r?[]:{},m=0;;){var g=t[e++];if(0===g)break;for(var v=e;0!==t[v]&&v<t.length;)v++;if(v>=Buffer$4.byteLength(t))throw new Error("Bad BSON Document: illegal CString");var b=r?m++:t.toString("utf8",e,v);if(e=v+1,g===constants.BSON_DATA_STRING){var w=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(w<=0||w>t.length-e||0!==t[e+w-1])throw new Error("bad string length in bson");if(!validateUtf8$1(t,e,e+w-1))throw new Error("Invalid UTF-8 string in BSON document");var E=t.toString("utf8",e,e+w-1);y[b]=E,e+=w}else if(g===constants.BSON_DATA_OID){var S=Buffer$4.alloc(12);t.copy(S,0,e,e+12),y[b]=new objectid(S),e+=12}else if(g===constants.BSON_DATA_INT&&!1===d)y[b]=new int_32(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24);else if(g===constants.BSON_DATA_INT)y[b]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;else if(g===constants.BSON_DATA_NUMBER&&!1===d)y[b]=new double_1(t.readDoubleLE(e)),e+=8;else if(g===constants.BSON_DATA_NUMBER)y[b]=t.readDoubleLE(e),e+=8;else if(g===constants.BSON_DATA_DATE){var A=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,N=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;y[b]=new Date(new long_1(A,N).toNumber())}else if(g===constants.BSON_DATA_BOOLEAN){if(0!==t[e]&&1!==t[e])throw new Error("illegal boolean type value");y[b]=1===t[e++]}else if(g===constants.BSON_DATA_OBJECT){var T=e,O=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;if(O<=0||O>t.length-e)throw new Error("bad embedded document length in bson");y[b]=l?t.slice(e,e+O):deserializeObject(t,T,n,!1),e+=O}else if(g===constants.BSON_DATA_ARRAY){var P=e,C=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,x=n,I=e+C;if(u&&u[b]){for(var R in x={},n)x[R]=n[R];x.raw=!0}if(y[b]=deserializeObject(t,P,x,!0),0!==t[(e+=C)-1])throw new Error("invalid array terminator byte");if(e!==I)throw new Error("corrupted array bson")}else if(g===constants.BSON_DATA_UNDEFINED)y[b]=void 0;else if(g===constants.BSON_DATA_NULL)y[b]=null;else if(g===constants.BSON_DATA_LONG){var B=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,D=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,M=new long_1(B,D);y[b]=f&&!0===d&&M.lessThanOrEqual(JS_INT_MAX_LONG)&&M.greaterThanOrEqual(JS_INT_MIN_LONG)?M.toNumber():M}else if(g===constants.BSON_DATA_DECIMAL128){var U=Buffer$4.alloc(16);t.copy(U,0,e,e+16),e+=16;var k=new decimal128(U);y[b]=k.toObject?k.toObject():k}else if(g===constants.BSON_DATA_BINARY){var L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,F=L,j=t[e++];if(L<0)throw new Error("Negative binary type element size found");if(L>Buffer$4.byteLength(t))throw new Error("Binary type size larger than document size");if(null!=t.slice){if(j===binary.SUBTYPE_BYTE_ARRAY){if((L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}y[b]=h&&d?t.slice(e,e+L):new binary(t.slice(e,e+L),j)}else{var $="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(L)):new Array(L);if(j===binary.SUBTYPE_BYTE_ARRAY){if((L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(v=0;v<L;v++)$[v]=t[e+v];y[b]=h&&d?$:new binary($,j)}e+=L}else if(g===constants.BSON_DATA_REGEXP&&!1===c){for(v=e;0!==t[v]&&v<t.length;)v++;if(v>=t.length)throw new Error("Bad BSON Document: illegal CString");var z=t.toString("utf8",e,v);for(v=e=v+1;0!==t[v]&&v<t.length;)v++;if(v>=t.length)throw new Error("Bad BSON Document: illegal CString");var Y=t.toString("utf8",e,v);e=v+1;var V=new Array(Y.length);for(v=0;v<Y.length;v++)switch(Y[v]){case"m":V[v]="m";break;case"s":V[v]="g";break;case"i":V[v]="i"}y[b]=new RegExp(z,V.join(""))}else if(g===constants.BSON_DATA_REGEXP&&!0===c){for(v=e;0!==t[v]&&v<t.length;)v++;if(v>=t.length)throw new Error("Bad BSON Document: illegal CString");var q=t.toString("utf8",e,v);for(v=e=v+1;0!==t[v]&&v<t.length;)v++;if(v>=t.length)throw new Error("Bad BSON Document: illegal CString");var H=t.toString("utf8",e,v);e=v+1,y[b]=new regexp(q,H)}else if(g===constants.BSON_DATA_SYMBOL){var W=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(W<=0||W>t.length-e||0!==t[e+W-1])throw new Error("bad string length in bson");y[b]=t.toString("utf8",e,e+W-1),e+=W}else if(g===constants.BSON_DATA_TIMESTAMP){var J=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,K=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;y[b]=new timestamp(J,K)}else if(g===constants.BSON_DATA_MIN_KEY)y[b]=new min_key;else if(g===constants.BSON_DATA_MAX_KEY)y[b]=new max_key;else if(g===constants.BSON_DATA_CODE){var G=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(G<=0||G>t.length-e||0!==t[e+G-1])throw new Error("bad string length in bson");var X=t.toString("utf8",e,e+G-1);if(i)if(o){var Z=s?a(X):X;y[b]=isolateEvalWithHash(functionCache,Z,X,y)}else y[b]=isolateEval(X);else y[b]=new code(X);e+=G}else if(g===constants.BSON_DATA_CODE_W_SCOPE){var Q=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(Q<13)throw new Error("code_w_scope total size shorter minimum expected length");var tt=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(tt<=0||tt>t.length-e||0!==t[e+tt-1])throw new Error("bad string length in bson");var et=t.toString("utf8",e,e+tt-1),nt=e+=tt,rt=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,it=deserializeObject(t,nt,n,!1);if(e+=rt,Q<8+rt+tt)throw new Error("code_w_scope total size is to short, truncating scope");if(Q>8+rt+tt)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var ot=s?a(et):et;y[b]=isolateEvalWithHash(functionCache,ot,et,y)}else y[b]=isolateEval(et);y[b].scope=it}else y[b]=new code(et,it)}else{if(g!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+g.toString(16)+' for fieldname "'+b+'", are you using the latest BSON parser?');var st=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(st<=0||st>t.length-e||0!==t[e+st-1])throw new Error("bad string length in bson");if(!validateUtf8$1(t,e,e+st-1))throw new Error("Invalid UTF-8 string in BSON document");var at=t.toString("utf8",e,e+st-1);e+=st;var ut=Buffer$4.alloc(12);t.copy(ut,0,e,e+12);var lt=new objectid(ut);e+=12,y[b]=new db_ref(at,lt)}}if(_!==e-p){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var ct=!0;if(Object.keys(y).filter(function(t){return t.startsWith("$")}).forEach(function(t){-1===["$ref","$id","$db"].indexOf(t)&&(ct=!1)}),!ct)return y;if(null!=y.$id&&null!=y.$ref){var ht=Object.assign({},y);return delete ht.$ref,delete ht.$id,delete ht.$db,new db_ref(y.$ref,y.$id,y.$db||null,ht)}return y}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(t,e,n,r,i){var o,s,a="big"===n,u=8*i-r-1,l=(1<<u)-1,c=l>>1,h=-7,f=a?0:i-1,d=a?1:-1,p=t[e+f];for(f+=d,o=p&(1<<-h)-1,p>>=-h,h+=u;h>0;o=256*o+t[e+f],f+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+f],f+=d,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)}function writeIEEE754(t,e,n,r,i,o){var s,a,u,l="big"===r,c=8*o-i-1,h=(1<<c)-1,f=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=l?o-1:0,_=l?-1:1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0)),isNaN(e)&&(a=0);i>=8;)t[n+p]=255&a,p+=_,a/=256,i-=8;for(s=s<<i|a,isNaN(e)&&(s+=8),c+=i;c>0;)t[n+p]=255&s,p+=_,s/=256,c-=8;t[n+p-_]|=128*y}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(t){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(t){return"object"===_typeof$3(t)&&"[object Date]"===Object.prototype.toString.call(t)},isRegExp$1=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)};function serializeString(t,e,n,r,i){t[r++]=constants.BSON_DATA_STRING,t[(r=r+(i?t.write(e,r,"ascii"):t.write(e,r,"utf8"))+1)-1]=0;var o=t.write(n,r+4,"utf8");return t[r+3]=o+1>>24&255,t[r+2]=o+1>>16&255,t[r+1]=o+1>>8&255,t[r]=o+1&255,r=r+4+o,t[r++]=0,r}function serializeNumber(t,e,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX)t[r++]=constants.BSON_DATA_INT,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=n>>16&255,t[r++]=n>>24&255;else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){t[r++]=constants.BSON_DATA_NUMBER,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,writeIEEE754$1(t,n,r,"little",52,8),r+=8}else{t[r++]=constants.BSON_DATA_LONG,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=long_1.fromNumber(n),s=o.getLowBits(),a=o.getHighBits();t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255}else t[r++]=constants.BSON_DATA_NUMBER,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,writeIEEE754$1(t,n,r,"little",52,8),r+=8;return r}function serializeNull(t,e,n,r,i){return t[r++]=constants.BSON_DATA_NULL,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,r}function serializeBoolean(t,e,n,r,i){return t[r++]=constants.BSON_DATA_BOOLEAN,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,t[r++]=n?1:0,r}function serializeDate(t,e,n,r,i){t[r++]=constants.BSON_DATA_DATE,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=long_1.fromNumber(n.getTime()),s=o.getLowBits(),a=o.getHighBits();return t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255,r}function serializeRegExp(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_REGEXP,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=t.write(n.source,r,"utf8"),t[r++]=0,n.ignoreCase&&(t[r++]=105),n.global&&(t[r++]=115),n.multiline&&(t[r++]=109),t[r++]=0,r}function serializeBSONRegExp(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_REGEXP,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=t.write(n.pattern,r,"utf8"),t[r++]=0,r+=t.write(n.options.split("").sort().join(""),r,"utf8"),t[r++]=0,r}function serializeMinMax(t,e,n,r,i){return null===n?t[r++]=constants.BSON_DATA_NULL:"MinKey"===n._bsontype?t[r++]=constants.BSON_DATA_MIN_KEY:t[r++]=constants.BSON_DATA_MAX_KEY,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,r}function serializeObjectId(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_OID,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,"string"==typeof n.id)t.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(t,r,0,12)}return r+12}function serializeBuffer(t,e,n,r,i){t[r++]=constants.BSON_DATA_BINARY,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=n.length;return t[r++]=255&o,t[r++]=o>>8&255,t[r++]=o>>16&255,t[r++]=o>>24&255,t[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(t,r,0,o),r+=o}function serializeObject(t,e,n,r,i,o,s,a,u,l){for(var c=0;c<l.length;c++)if(l[c]===n)throw new Error("cyclic dependency detected");l.push(n),t[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=u?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var h=serializeInto(t,n,i,r,o+1,s,a,l);return l.pop(),h}function serializeDecimal128(t,e,n,r,i){return t[r++]=constants.BSON_DATA_DECIMAL128,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,n.bytes.copy(t,r,0,16),r+16}function serializeLong(t,e,n,r,i){t[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=n.getLowBits(),s=n.getHighBits();return t[r++]=255&o,t[r++]=o>>8&255,t[r++]=o>>16&255,t[r++]=o>>24&255,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,r}function serializeInt32(t,e,n,r,i){return t[r++]=constants.BSON_DATA_INT,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=n>>16&255,t[r++]=n>>24&255,r}function serializeDouble(t,e,n,r,i){return t[r++]=constants.BSON_DATA_NUMBER,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0,writeIEEE754$1(t,n.value,r,"little",52,8),r+=8}function serializeFunction(t,e,n,r,i,o,s){t[r++]=constants.BSON_DATA_CODE,r+=s?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var a=normalizedFunctionString$1(n),u=t.write(a,r+4,"utf8")+1;return t[r]=255&u,t[r+1]=u>>8&255,t[r+2]=u>>16&255,t[r+3]=u>>24&255,r=r+4+u-1,t[r++]=0,r}function serializeCode(t,e,n,r,i,o,s,a,u){if(n.scope&&"object"===_typeof$3(n.scope)){t[r++]=constants.BSON_DATA_CODE_W_SCOPE,r+=u?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var l=r,c="string"==typeof n.code?n.code:n.code.toString();r+=4;var h=t.write(c,r+4,"utf8")+1;t[r]=255&h,t[r+1]=h>>8&255,t[r+2]=h>>16&255,t[r+3]=h>>24&255,t[r+4+h-1]=0,r=r+h+4;var f=serializeInto(t,n.scope,i,r,o+1,s,a);r=f-1;var d=f-l;t[l++]=255&d,t[l++]=d>>8&255,t[l++]=d>>16&255,t[l++]=d>>24&255,t[r++]=0}else{t[r++]=constants.BSON_DATA_CODE,r+=u?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var p=n.code.toString(),_=t.write(p,r+4,"utf8")+1;t[r]=255&_,t[r+1]=_>>8&255,t[r+2]=_>>16&255,t[r+3]=_>>24&255,r=r+4+_-1,t[r++]=0}return r}function serializeBinary(t,e,n,r,i){t[r++]=constants.BSON_DATA_BINARY,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=n.value(!0),s=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s+=4),t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s-=4,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255),o.copy(t,r,0,n.position),r+=n.position}function serializeSymbol(t,e,n,r,i){t[r++]=constants.BSON_DATA_SYMBOL,r+=i?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var o=t.write(n.value,r+4,"utf8")+1;return t[r]=255&o,t[r+1]=o>>8&255,t[r+2]=o>>16&255,t[r+3]=o>>24&255,r=r+4+o-1,t[r++]=0,r}function serializeDBRef(t,e,n,r,i,o,s){t[r++]=constants.BSON_DATA_OBJECT,r+=s?t.write(e,r,"ascii"):t.write(e,r,"utf8"),t[r++]=0;var a,u=r,l={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(l.$db=n.db);var c=(a=serializeInto(t,l=Object.assign(l,n.fields),!1,r,i+1,o))-u;return t[u++]=255&c,t[u++]=c>>8&255,t[u++]=c>>16&255,t[u++]=c>>24&255,a}function serializeInto(t,e,n,r,i,o,s,a){r=r||0,(a=a||[]).push(e);var u=r+4;if(Array.isArray(e))for(var l=0;l<e.length;l++){var c=""+l,h=e[l];if(h&&h.toBSON){if("function"!=typeof h.toBSON)throw new TypeError("toBSON is not a function");h=h.toBSON()}var f=_typeof$3(h);if("string"===f)u=serializeString(t,c,h,u,!0);else if("number"===f)u=serializeNumber(t,c,h,u,!0);else if("boolean"===f)u=serializeBoolean(t,c,h,u,!0);else if(h instanceof Date||isDate$1(h))u=serializeDate(t,c,h,u,!0);else if(void 0===h)u=serializeNull(t,c,h,u,!0);else if(null===h)u=serializeNull(t,c,h,u,!0);else if("ObjectId"===h._bsontype||"ObjectID"===h._bsontype)u=serializeObjectId(t,c,h,u,!0);else if(Buffer$5.isBuffer(h))u=serializeBuffer(t,c,h,u,!0);else if(h instanceof RegExp||isRegExp$1(h))u=serializeRegExp(t,c,h,u,!0);else if("object"===f&&null==h._bsontype)u=serializeObject(t,c,h,u,n,i,o,s,!0,a);else if("object"===f&&"Decimal128"===h._bsontype)u=serializeDecimal128(t,c,h,u,!0);else if("Long"===h._bsontype||"Timestamp"===h._bsontype)u=serializeLong(t,c,h,u,!0);else if("Double"===h._bsontype)u=serializeDouble(t,c,h,u,!0);else if("function"==typeof h&&o)u=serializeFunction(t,c,h,u,n,i,o,!0);else if("Code"===h._bsontype)u=serializeCode(t,c,h,u,n,i,o,s,!0);else if("Binary"===h._bsontype)u=serializeBinary(t,c,h,u,!0);else if("Symbol"===h._bsontype)u=serializeSymbol(t,c,h,u,!0);else if("DBRef"===h._bsontype)u=serializeDBRef(t,c,h,u,i,o,!0);else if("BSONRegExp"===h._bsontype)u=serializeBSONRegExp(t,c,h,u,!0);else if("Int32"===h._bsontype)u=serializeInt32(t,c,h,u,!0);else if("MinKey"===h._bsontype||"MaxKey"===h._bsontype)u=serializeMinMax(t,c,h,u,!0);else if(void 0!==h._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+h._bsontype)}else if(e instanceof map)for(var d=e.entries(),p=!1;!p;){var _=d.next();if(!(p=_.done)){var y=_.value[0],m=_.value[1],g=_typeof$3(m);if("string"==typeof y&&!ignoreKeys.has(y)){if(null!=y.match(regexp$1))throw Error("key "+y+" must not contain null bytes");if(n){if("$"===y[0])throw Error("key "+y+" must not start with '$'");if(~y.indexOf("."))throw Error("key "+y+" must not contain '.'")}}if("string"===g)u=serializeString(t,y,m,u);else if("number"===g)u=serializeNumber(t,y,m,u);else if("boolean"===g)u=serializeBoolean(t,y,m,u);else if(m instanceof Date||isDate$1(m))u=serializeDate(t,y,m,u);else if(null===m||void 0===m&&!1===s)u=serializeNull(t,y,m,u);else if("ObjectId"===m._bsontype||"ObjectID"===m._bsontype)u=serializeObjectId(t,y,m,u);else if(Buffer$5.isBuffer(m))u=serializeBuffer(t,y,m,u);else if(m instanceof RegExp||isRegExp$1(m))u=serializeRegExp(t,y,m,u);else if("object"===g&&null==m._bsontype)u=serializeObject(t,y,m,u,n,i,o,s,!1,a);else if("object"===g&&"Decimal128"===m._bsontype)u=serializeDecimal128(t,y,m,u);else if("Long"===m._bsontype||"Timestamp"===m._bsontype)u=serializeLong(t,y,m,u);else if("Double"===m._bsontype)u=serializeDouble(t,y,m,u);else if("Code"===m._bsontype)u=serializeCode(t,y,m,u,n,i,o,s);else if("function"==typeof m&&o)u=serializeFunction(t,y,m,u,n,i,o);else if("Binary"===m._bsontype)u=serializeBinary(t,y,m,u);else if("Symbol"===m._bsontype)u=serializeSymbol(t,y,m,u);else if("DBRef"===m._bsontype)u=serializeDBRef(t,y,m,u,i,o);else if("BSONRegExp"===m._bsontype)u=serializeBSONRegExp(t,y,m,u);else if("Int32"===m._bsontype)u=serializeInt32(t,y,m,u);else if("MinKey"===m._bsontype||"MaxKey"===m._bsontype)u=serializeMinMax(t,y,m,u);else if(void 0!==m._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+m._bsontype)}}else{if(e.toBSON){if("function"!=typeof e.toBSON)throw new TypeError("toBSON is not a function");if(null!=(e=e.toBSON())&&"object"!==_typeof$3(e))throw new TypeError("toBSON function did not return an object")}for(var v in e){var b=e[v];if(b&&b.toBSON){if("function"!=typeof b.toBSON)throw new TypeError("toBSON is not a function");b=b.toBSON()}var w=_typeof$3(b);if("string"==typeof v&&!ignoreKeys.has(v)){if(null!=v.match(regexp$1))throw Error("key "+v+" must not contain null bytes");if(n){if("$"===v[0])throw Error("key "+v+" must not start with '$'");if(~v.indexOf("."))throw Error("key "+v+" must not contain '.'")}}if("string"===w)u=serializeString(t,v,b,u);else if("number"===w)u=serializeNumber(t,v,b,u);else if("boolean"===w)u=serializeBoolean(t,v,b,u);else if(b instanceof Date||isDate$1(b))u=serializeDate(t,v,b,u);else if(void 0===b)!1===s&&(u=serializeNull(t,v,b,u));else if(null===b)u=serializeNull(t,v,b,u);else if("ObjectId"===b._bsontype||"ObjectID"===b._bsontype)u=serializeObjectId(t,v,b,u);else if(Buffer$5.isBuffer(b))u=serializeBuffer(t,v,b,u);else if(b instanceof RegExp||isRegExp$1(b))u=serializeRegExp(t,v,b,u);else if("object"===w&&null==b._bsontype)u=serializeObject(t,v,b,u,n,i,o,s,!1,a);else if("object"===w&&"Decimal128"===b._bsontype)u=serializeDecimal128(t,v,b,u);else if("Long"===b._bsontype||"Timestamp"===b._bsontype)u=serializeLong(t,v,b,u);else if("Double"===b._bsontype)u=serializeDouble(t,v,b,u);else if("Code"===b._bsontype)u=serializeCode(t,v,b,u,n,i,o,s);else if("function"==typeof b&&o)u=serializeFunction(t,v,b,u,n,i,o);else if("Binary"===b._bsontype)u=serializeBinary(t,v,b,u);else if("Symbol"===b._bsontype)u=serializeSymbol(t,v,b,u);else if("DBRef"===b._bsontype)u=serializeDBRef(t,v,b,u,i,o);else if("BSONRegExp"===b._bsontype)u=serializeBSONRegExp(t,v,b,u);else if("Int32"===b._bsontype)u=serializeInt32(t,v,b,u);else if("MinKey"===b._bsontype||"MaxKey"===b._bsontype)u=serializeMinMax(t,v,b,u);else if(void 0!==b._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+b._bsontype)}}a.pop(),t[u++]=0;var E=u-r;return t[r++]=255&E,t[r++]=E>>8&255,t[r++]=E>>16&255,t[r++]=E>>24&255,u}var serializer=serializeInto;function _typeof$4(t){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(t){return"object"===_typeof$4(t)&&"[object Date]"===Object.prototype.toString.call(t)}function calculateObjectSize(t,e,n){var r=5;if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=calculateElement(i.toString(),t[i],e,!0,n);else for(var o in t.toBSON&&(t=t.toBSON()),t)r+=calculateElement(o,t[o],e,!1,n);return r}function calculateElement(t,e,n,r,i){switch(e&&e.toBSON&&(e=e.toBSON()),_typeof$4(e)){case"string":return 1+Buffer$6.byteLength(t,"utf8")+1+4+Buffer$6.byteLength(e,"utf8")+1;case"number":return Math.floor(e)===e&&e>=constants.JS_INT_MIN&&e<=constants.JS_INT_MAX&&e>=constants.BSON_INT32_MIN&&e<=constants.BSON_INT32_MAX?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+5:(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;case"undefined":return r||!i?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1:0;case"boolean":return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+2;case"object":if(null==e||"MinKey"===e._bsontype||"MaxKey"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1;if("ObjectId"===e._bsontype||"ObjectID"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+13;if(e instanceof Date||isDate$2(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+6+e.length;if("Long"===e._bsontype||"Double"===e._bsontype||"Timestamp"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;if("Decimal128"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+17;if("Code"===e._bsontype)return null!=e.scope&&Object.keys(e.scope).length>0?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(e.code.toString(),"utf8")+1+calculateObjectSize(e.scope,n,i):(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+Buffer$6.byteLength(e.code.toString(),"utf8")+1;if("Binary"===e._bsontype)return e.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+(e.position+1+4+1+4):(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+(e.position+1+4+1);if("Symbol"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+Buffer$6.byteLength(e.value,"utf8")+4+1+1;if("DBRef"===e._bsontype){var o=Object.assign({$ref:e.collection,$id:e.oid},e.fields);return null!=e.db&&(o.$db=e.db),(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+calculateObjectSize(o,n,i)}return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1:"BSONRegExp"===e._bsontype?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.pattern,"utf8")+1+Buffer$6.byteLength(e.options,"utf8")+1:(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+calculateObjectSize(e,n,i)+1;case"function":if(e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)||"[object RegExp]"===String.call(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1;if(n&&null!=e.scope&&Object.keys(e.scope).length>0)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(e),"utf8")+1+calculateObjectSize(e.scope,n,i);if(n)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(e),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(t){if(t instanceof Buffer$7)return t;if(t instanceof Uint8Array)return Buffer$7.from(t.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(t){buffer$1.length<t&&(buffer$1=Buffer$8.alloc(t))}function serialize$1(t,e){var n="boolean"==typeof(e=e||{}).checkKeys&&e.checkKeys,r="boolean"==typeof e.serializeFunctions&&e.serializeFunctions,i="boolean"!=typeof e.ignoreUndefined||e.ignoreUndefined,o="number"==typeof e.minInternalBufferSize?e.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var s=serializer(buffer$1,t,n,0,0,r,i,[]),a=Buffer$8.alloc(s);return buffer$1.copy(a,0,0,a.length),a}function serializeWithBufferAndIndex(t,e,n){var r="boolean"==typeof(n=n||{}).checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,a=serializer(buffer$1,t,r,0,0,i,o);return buffer$1.copy(e,s,0,a),s+a-1}function deserialize$2(t,e){return t=ensure_buffer(t),deserializer(t,e)}function calculateObjectSize$1(t,e){var n="boolean"==typeof(e=e||{}).serializeFunctions&&e.serializeFunctions,r="boolean"!=typeof e.ignoreUndefined||e.ignoreUndefined;return calculate_size(t,n,r)}function deserializeStream(t,e,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),t=ensure_buffer(t);for(var s=e,a=0;a<n;a++){var u=t[s]|t[s+1]<<8|t[s+2]<<16|t[s+3]<<24;o.index=s,r[i+a]=deserializer(t,o),s+=u}return s}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.b=bson}).call(this,__webpack_require__(8),__webpack_require__(1).Buffer)},1:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(9),i=n(72),o=n(73);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function g(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function v(t,e,n,r){return z(j(e,t.length-n),t,n,r)}function b(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function E(t,e,n,r){return z($(e),t,n,r)}function S(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function N(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?N(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function x(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function k(t,e,n,r,o){return o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:j(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(8))},17:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},24:function(t,e,n){"use strict";(function(t,n){class r{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(void 0===t)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((e,r)=>{this.tasks.push(()=>{var t=!1;e(()=>{t||(t=!0,this.count++,this.sched())})}),t&&t.nextTick?t.nextTick(this.sched.bind(this)):n(this.sched.bind(this))})}use(t){return this.acquire().then(e=>t().then(t=>(e(),t)).catch(t=>{throw e(),t}))}}e.Semaphore=r;e.Mutex=class extends r{constructor(){super(1)}}}).call(this,n(17),n(70).setImmediate)},25:function(t,e,n){(function(e){function n(t){var e=o([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter(function(e){return e.rule&&e.rule.test(t)})[0];return e?e.name:null}function r(){return void 0!==e&&e.version&&{name:"node",version:e.version.slice(1),os:e.platform}}function i(t){var e=o([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!t)return null;var r=e.map(function(e){var n=e.rule.exec(t),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:e.name,version:r.join(".")}}).filter(Boolean)[0]||null;return r&&(r.os=n(t)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(t)&&((r=r||{}).bot=!0),r}function o(t){return t.map(function(t){return{name:t[0],rule:t[1]}})}t.exports={detect:function(){return"undefined"!=typeof navigator?i(navigator.userAgent):r()},detectOS:n,getNodeVersion:r,parseUserAgent:i}}).call(this,n(17))},3:function(t,e){t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function r(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function i(t){return!0===(t&&t.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function a(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=s[t])?r:(n=l(t,(0|t)<0?-1:0,!0),i&&(s[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=o[t])?r:(n=l(t,t<0?-1:0,!1),i&&(o[t]=n),n)}function u(t,e){if(isNaN(t))return e?g:m;if(e){if(t<0)return g;if(t>=p)return S}else{if(t<=-_)return A;if(t+1>=_)return E}return t<0?u(-t,e).neg():l(t%d|0,t/d|0,e)}function l(t,e,n){return new r(t,e,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=l;var c=Math.pow;function h(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return m;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(t.substring(1),e,n).neg();for(var i=u(c(n,8)),o=m,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+a),n);if(a<8){var f=u(c(n,a));o=o.mul(f).add(u(l))}else o=(o=o.mul(i)).add(u(l))}return o.unsigned=e,o}function f(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?h(t,e):l(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=h,r.fromValue=f;var d=4294967296,p=d*d,_=p/2,y=a(1<<24),m=a(0);r.ZERO=m;var g=a(0,!0);r.UZERO=g;var v=a(1);r.ONE=v;var b=a(1,!0);r.UONE=b;var w=a(-1);r.NEG_ONE=w;var E=l(-1,2147483647,!1);r.MAX_VALUE=E;var S=l(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var A=l(0,-2147483648,!1);r.MIN_VALUE=A;var N=r.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},N.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var e=u(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=u(c(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),l=(o.sub(a.mul(i)).toInt()>>>0).toString(t);if((o=a).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1==(1&this.low)},N.isEven=function(){return 0==(1&this.low)},N.equals=function(t){return i(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},N.eq=N.equals,N.notEquals=function(t){return!this.eq(t)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(t){return this.comp(t)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(t){return this.comp(t)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(t){return this.comp(t)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(t){return this.comp(t)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(t){if(i(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(v)},N.neg=N.negate,N.add=function(t){i(t)||(t=f(t));var e=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=0,h=0,d=0,p=0;return d+=(p+=o+(65535&t.low))>>>16,h+=(d+=r+u)>>>16,c+=(h+=n+a)>>>16,c+=e+s,l((d&=65535)<<16|(p&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},N.subtract=function(t){return i(t)||(t=f(t)),this.add(t.neg())},N.sub=N.subtract,N.multiply=function(t){if(this.isZero())return m;if(i(t)||(t=f(t)),n)return l(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(A))return t.isOdd()?A:m;if(t.eq(A))return this.isOdd()?A:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(y)&&t.lt(y))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,a=t.high>>>16,c=65535&t.high,h=t.low>>>16,d=65535&t.low,p=0,_=0,g=0,v=0;return g+=(v+=s*d)>>>16,_+=(g+=o*d)>>>16,g&=65535,_+=(g+=s*h)>>>16,p+=(_+=r*d)>>>16,_&=65535,p+=(_+=o*h)>>>16,_&=65535,p+=(_+=s*c)>>>16,p+=e*d+r*h+o*c+s*a,l((g&=65535)<<16|(v&=65535),(p&=65535)<<16|(_&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(t){if(i(t)||(t=f(t)),t.isZero())throw Error("division by zero");var e,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?l((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return g;if(t.gt(this.shru(1)))return b;o=g}else{if(this.eq(A))return t.eq(v)||t.eq(w)?A:t.eq(A)?v:(e=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?v:w:(r=this.sub(t.mul(e)),o=e.add(r.div(t)));else if(t.eq(A))return this.unsigned?g:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=m}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),a=s<=48?1:c(2,s-48),h=u(e),d=h.mul(t);d.isNegative()||d.gt(r);)d=(h=u(e-=a,this.unsigned)).mul(t);h.isZero()&&(h=v),o=o.add(h),r=r.sub(d)}return o},N.div=N.divide,N.modulo=function(t){return i(t)||(t=f(t)),n?l((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return l(~this.low,~this.high,this.unsigned)},N.and=function(t){return i(t)||(t=f(t)),l(this.low&t.low,this.high&t.high,this.unsigned)},N.or=function(t){return i(t)||(t=f(t)),l(this.low|t.low,this.high|t.high,this.unsigned)},N.xor=function(t){return i(t)||(t=f(t)),l(this.low^t.low,this.high^t.high,this.unsigned)},N.shiftLeft=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?l(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):l(0,this.low<<t-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?l(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):l(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(t){if(i(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?l(this.low>>>t|e<<32-t,e>>>t,this.unsigned):l(32===t?e:e>>>t-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},N.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},N.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},69:function(t,e,n){},70:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(71),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(8))},71:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return o[i]=s,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(s)setTimeout(c,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(8),n(17))},72:function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=l}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+d]=255&s,d+=p,s/=256,l-=8);t[n+d-p]|=128*_}},73:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},74:function(t,e,n){"use strict";n.r(e);n(69);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const r="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},o=`{{lit-${String(Math.random()).slice(2)}}}`,s=`\x3c!--${o}--\x3e`,a=new RegExp(`${o}|${s}`),u="$lit$";class l{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],i=document.createTreeWalker(e.content,133,null,!1);let s=0,l=-1,h=0;const{strings:p,values:{length:_}}=t;for(;h<_;){const t=i.nextNode();if(null!==t){if(l++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)c(e[t].name,u)&&r++;for(;r-- >0;){const e=p[h],n=d.exec(e)[2],r=n.toLowerCase()+u,i=t.getAttribute(r);t.removeAttribute(r);const o=i.split(a);this.parts.push({type:"attribute",index:l,name:n,strings:o}),h+=o.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(o)>=0){const r=t.parentNode,i=e.split(a),o=i.length-1;for(let e=0;e<o;e++){let n,o=i[e];if(""===o)n=f();else{const t=d.exec(o);null!==t&&c(t[2],u)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-u.length)+t[3]),n=document.createTextNode(o)}r.insertBefore(n,t),this.parts.push({type:"node",index:++l})}""===i[o]?(r.insertBefore(f(),t),n.push(t)):t.data=i[o],h+=o}}else if(8===t.nodeType)if(t.data===o){const e=t.parentNode;null!==t.previousSibling&&l!==s||(l++,e.insertBefore(f(),t)),s=l,this.parts.push({type:"node",index:l}),null===t.nextSibling?t.data="":(n.push(t),l--),h++}else{let e=-1;for(;-1!==(e=t.data.indexOf(o,e+1));)this.parts.push({type:"node",index:-1}),h++}}else i.currentNode=r.pop()}for(const t of n)t.parentNode.removeChild(t)}}const c=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},h=t=>-1!==t.index,f=()=>document.createComment(""),d=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,p=133;function _(t,e){const{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,p,null,!1);let o=m(r),s=r[o],a=-1,u=0;const l=[];let c=null;for(;i.nextNode();){a++;const t=i.currentNode;for(t.previousSibling===c&&(c=null),e.has(t)&&(l.push(t),null===c&&(c=t)),null!==c&&u++;void 0!==s&&s.index===a;)s.index=null!==c?-1:s.index-u,s=r[o=m(r,o)]}l.forEach(t=>t.parentNode.removeChild(t))}const y=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,p,null,!1);for(;n.nextNode();)e++;return e},m=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(h(e))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const g=new WeakMap,v=t=>"function"==typeof t&&g.has(t),b={},w={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class E{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=r?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let o,s=0,a=0,u=i.nextNode();for(;s<n.length;)if(o=n[s],h(o)){for(;a<o.index;)a++,"TEMPLATE"===u.nodeName&&(e.push(u),i.currentNode=u.content),null===(u=i.nextNode())&&(i.currentNode=e.pop(),u=i.nextNode());if("node"===o.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(u.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(u,o.name,o.strings,this.options));s++}else this.__parts.push(void 0),s++;return r&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const S=` ${o} `;class A{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const a=d.exec(t);e+=null===a?t+(n?S:s):t.substr(0,a.index)+a[1]+a[2]+u+a[3]+o}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const N=t=>null===t||!("object"==typeof t||"function"==typeof t),T=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class O{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new P(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let r=0;r<e;r++){n+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(N(t)||!T(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class P{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===b||N(t)&&t===this.value||(this.value=t,v(t)||(this.committer.dirty=!0))}commit(){for(;v(this.value);){const t=this.value;this.value=b,t(this)}this.value!==b&&this.committer.commit()}}class C{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(f()),this.endNode=t.appendChild(f())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=f()),t.__insert(this.endNode=f())}insertAfterPart(t){t.__insert(this.startNode=f()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;v(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=b,t(this)}const t=this.__pendingValue;t!==b&&(N(t)?t!==this.value&&this.__commitText(t):t instanceof A?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):T(t)?this.__commitIterable(t):t===w?(this.value=w,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof E&&this.value.template===e)this.value.update(t.values);else{const n=new E(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)void 0===(n=e[r])&&(n=new C(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){i(this.startNode.parentNode,t.nextSibling,this.endNode)}}class x{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;v(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=b,t(this)}if(this.__pendingValue===b)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=b}}class I extends O{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new R(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class R extends P{}let B=!1;(()=>{try{const t={get capture(){return B=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class D{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=(t=>this.handleEvent(t))}setValue(t){this.__pendingValue=t}commit(){for(;v(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=b,t(this)}if(this.__pendingValue===b)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=M(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=b}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const M=t=>t&&(B?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function U(t){let e=k.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},k.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(o);return void 0===(n=e.keyString.get(r))&&(n=new l(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const k=new Map,L=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const F=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class{handleAttributeExpressions(t,e,n,r){const i=e[0];return"."===i?new I(t,e.slice(1),n).parts:"@"===i?[new D(t,e.slice(1),r.eventContext)]:"?"===i?[new x(t,e.slice(1),n)]:new O(t,e,n).parts}handleTextExpression(t){return new C(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");const j=(t,...e)=>new A(t,e,"html",F),$=(t,e)=>`${t}--${e}`;let z=!0;void 0===window.ShadyCSS?z=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),z=!1);const Y=["html","svg"],V=new Set,q=(t,e,n)=>{V.add(t);const r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(r,t);const s=document.createElement("style");for(let t=0;t<o;t++){const e=i[t];e.parentNode.removeChild(e),s.textContent+=e.textContent}(t=>{Y.forEach(e=>{const n=k.get($(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),_(t,n)})})})(t);const a=r.content;n?function(t,e,n=null){const{element:{content:r},parts:i}=t;if(null===n||void 0===n)return void r.appendChild(e);const o=document.createTreeWalker(r,p,null,!1);let s=m(i),a=0,u=-1;for(;o.nextNode();)for(u++,o.currentNode===n&&(a=y(e),n.parentNode.insertBefore(e,n));-1!==s&&i[s].index===u;){if(a>0){for(;-1!==s;)i[s].index+=a,s=m(i,s);return}s=m(i,s)}}(n,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const u=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(s,a.firstChild);const t=new Set;t.add(s),_(n,t)}};window.JSCompiler_renameProperty=((t,e)=>t);const H={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},W=(t,e)=>e!==t&&(e==e||t==t),J={attribute:!0,type:String,converter:H,reflect:!1,hasChanged:W},K=1,G=4,X=8,Z=16,Q="finalized";class tt extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const r=this._attributeNameForProperty(n,e);void 0!==r&&(this._attributeToPropertyMap.set(r,n),t.push(r))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=J){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`,r=this.getPropertyDescriptor(t,n,e);void 0!==r&&Object.defineProperty(this.prototype,t,r)}static getPropertyDescriptor(t,e,n){return{get(){return this[e]},set(n){const r=this[t];this[e]=n,this._requestUpdate(t,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||J}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty(Q)||t.finalize(),this[Q]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=W){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||H,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||H.toAttribute)(t,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=J){const r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=this._updateState|X,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=this._updateState&~X}}_attributeToProperty(t,e){if(this._updateState&X)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n.getPropertyOptions(r);this._updateState=this._updateState|Z,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=this._updateState&~Z}}_requestUpdate(t,e){let n=!0;if(void 0!==t){const r=this.constructor,i=r.getPropertyOptions(t);r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||this._updateState&Z||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=this._updateState|G;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return this._updateState&G}get hasUpdated(){return this._updateState&K}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{(t=this.shouldUpdate(e))?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(this._updateState&K||(this._updateState=this._updateState|K,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~G}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}tt[Q]=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const et=(t,e)=>"method"!==e.kind||!e.descriptor||"value"in e.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}}:Object.assign(Object.assign({},e),{finisher(n){n.createProperty(e.key,t)}}),nt=(t,e,n)=>{e.constructor.createProperty(n,t)};function rt(t){return(e,n)=>void 0!==n?nt(t,e,n):et(t,e)}
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const it="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;Symbol();
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");const ot={};class st extends tt{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(void 0===t)this._styles=[];else if(Array.isArray(t)){const e=(t,n)=>t.reduceRight((t,n)=>Array.isArray(n)?e(n,t):(t.add(n),t),n),n=[];e(t,new Set).forEach(t=>n.unshift(t)),this._styles=n}else this._styles=[t]}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?it?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const e=this.render();super.update(t),e!==ot&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return ot}}st.finalized=!0,st.render=((t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const r=n.scopeName,s=L.has(e),a=z&&11===e.nodeType&&!!e.host,u=a&&!V.has(r),c=u?document.createDocumentFragment():e;if(((t,e,n)=>{let r=L.get(e);void 0===r&&(i(e,e.firstChild),L.set(e,r=new C(Object.assign({templateFactory:U},n))),r.appendInto(e)),r.setValue(t),r.commit()})(t,c,Object.assign({templateFactory:(t=>e=>{const n=$(e.type,t);let r=k.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},k.set(n,r));let i=r.stringsArray.get(e.strings);if(void 0!==i)return i;const s=e.strings.join(o);if(void 0===(i=r.keyString.get(s))){const n=e.getTemplateElement();z&&window.ShadyCSS.prepareTemplateDom(n,t),i=new l(e,n),r.keyString.set(s,i)}return r.stringsArray.set(e.strings,i),i})(r)},n)),u){const t=L.get(c);L.delete(c);const n=t.value instanceof E?t.value.template:void 0;q(r,c,n),i(e,e.firstChild),e.appendChild(c),L.set(e,t)}!s&&a&&window.ShadyCSS.styleElement(e.host)});var at,ut=n(24);!function(t){t[t.Disconnected=1]="Disconnected",t[t.Connecting=2]="Connecting",t[t.Connected=3]="Connected",t[t.Disconnecting=4]="Disconnecting",t[t.Error=5]="Error"}(at||(at={}));var lt,ct=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.read=0]="read",t[t.write=1]="write",t[t.enableNotify=2]="enableNotify",t[t.disableNotify=3]="disableNotify"}(lt||(lt={}));let ht=class extends st{constructor(){super(),this.name="nameit",this.connectedStr="connect",this.connected=!1,this.primaryServiceObject=[[{service:"heart_rate",characteristic:"heart_rate_measurement"}]],this.read=!1,this.btledata=null,this.buttonColour="blue",this.buttonPointer="pointer",this.bluetoothDevice=null,this.bluetoothGatt=null,this.prevConnectedStr="",this._handleBtGattStateChange=this._handleBtGattStateChange.bind(this),this._handleNotifyChanged=this._handleNotifyChanged.bind(this)}bluetoothCallback(t){this.connectedStr=t}render(){if("connected"==this.connectedStr){if(this.buttonColour="green",null!=this.btledata&&(this.processBTLEcommands(),this.btledata=null),null!=this.data){var t=this.data;this.bluetoothGatt.writevalueToService(t[0],0).then(e=>{t.length>1&&this.bluetoothGatt.writevalueToService(t[1],0)}),this.data=null}this.read&&this.readBtle(0)}else"connect"==this.connectedStr?this.buttonColour="#429e9d":"connecting"==this.connectedStr?this.buttonColour="#ad7d73":this.buttonColour="red";return this.prevConnectedStr=this.connectedStr,j`
       <style>
       
        .button {
        background-color: ${this.buttonColour}; 
        border: none;
        color: var(--btn-color, white);
        padding: 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 4px;
        border-radius: 15px 50px 30px;
        cursor: ${this.buttonPointer};
        outline:0;
        }
      </style>
      <button class="button" @click="${this.connect}">${this.connectedStr} ${this.name}</button>`}async connect(){let t=this.connectedStr;if(null!=this.bluetoothGatt&&this.bluetoothGatt.disconnect(this.bluetoothGatt),"connect"==t)try{var e=[this.primaryServiceObject[0][0].service];void 0!==this.primaryServiceObject[1]&&e.push(this.primaryServiceObject[1][0].service),this.bluetoothDevice=await navigator.bluetooth.requestDevice({filters:[{services:e}],optionalServices:e}),this.bluetoothGatt=new class extends EventTarget{constructor(t,e){super(),this.bluetoothDevice=null,this.connectionStr="disconnected",this.gatServer=null,this.currentService=null,this.currentCharacteristics=null,this.notifyCharacteristics=null,this.primaryServiceObject=[],this.semaphore=new ut.Semaphore(1),this.maxretry=0,this.state=at.Disconnected,this.bluetoothDevice=t,this.state=at.Disconnected,this.primaryServiceObject=e,this.SetNotify=this.SetNotify.bind(this),this.handleNotifyChanged=this.handleNotifyChanged.bind(this)}log(t){console.log(t)}setState(t){let e="old state = "+at[this.state]+" new state = "+at[t];switch(this.log(e),this.state=t,this.state){case at.Disconnected:this.currentService=null,this.currentCharacteristics=null,this.connectionStr="connect";break;case at.Connecting:this.connectionStr="connecting";break;case at.Disconnecting:this.connectionStr="disconnecting";break;case at.Connected:this.connectionStr="connected";break;default:this.connectionStr="error"}this.dispatchEvent(new Event("state-change"))}async timeout(){this.maxretry<10&&this.state===at.Connecting&&(this.maxretry++,this.connectit())}connect(){this.state===at.Disconnected&&(this.setState(at.Connecting),this.maxretry=0,this.connectit())}disconnect(t){this.bluetoothDevice&&(this.setState(at.Disconnecting),console.log("Disconnecting from Bluetooth Device..."),this.bluetoothDevice.gatt.connected?this.bluetoothDevice.gatt.disconnect():(console.log("> Bluetooth Device is already disconnected"),this.setState(at.Disconnected)),this.bluetoothDevice=null)}async connectit(){try{this.gatServer=await this.bluetoothDevice.gatt.connect(),this.setState(at.Connected)}catch(t){console.log("connecting failed  \n"),this.state,at.Connecting,console.log("try again over 5 seconds \n"),setTimeout(this.timeout.bind(this),5e3)}}onDisconnected(){switch(console.log("> Bluetooth Device disconnected"),this.state){case at.Disconnecting:case at.Error:this.setState(at.Disconnected);break;default:this.setState(at.Disconnected),this.connect()}}async getCharacteristic(t){this.currentService=await this.gatServer.getPrimaryService(this.primaryServiceObject[t][0].service),this.currentCharacteristics=await this.currentService.getCharacteristic(this.primaryServiceObject[t][0].characteristic)}async readvalueFromService(t){if(this.state===at.Connected){let e=await this.semaphore.acquire();try{await this.getCharacteristic(t);let n=await this.currentCharacteristics.readValue();return n.getUint8(0),e(),n}catch(t){console.log("Argh! "+t),e()}}}async SetNotify(t,e){if(this.state===at.Connected){let n=await this.semaphore.acquire();try{await this.getCharacteristic(e),!0===t?(await this.currentCharacteristics.startNotifications(),this.notifyCharacteristics=this.currentCharacteristics,console.log("notify set"),this.notifyCharacteristics.addEventListener("characteristicvaluechanged",this.handleNotifyChanged)):await this.currentCharacteristics.stopNotifications(),n()}catch(t){console.log("Argh! "+t),n()}}}async writevalueToService(t,e){if(this.state===at.Connected){let n=await this.semaphore.acquire();try{await this.getCharacteristic(e),await this.currentCharacteristics.writeValue(t),n()}catch(t){console.log("Argh! "+t),n()}}}handleNotifyChanged(t){let e=event.target.value;e=e.buffer?e:new DataView(e);let n=new CustomEvent("notify-data-event",{detail:{message:e},bubbles:!0,composed:!0});this.dispatchEvent(n)}}(this.bluetoothDevice,this.primaryServiceObject),this.bluetoothDevice.addEventListener("gattserverdisconnected",this.bluetoothGatt.onDisconnected.bind(this.bluetoothGatt)),this.bluetoothGatt.addEventListener("state-change",this._handleBtGattStateChange),this.bluetoothGatt.addEventListener("notify-data-event",this._handleNotifyChanged),this.bluetoothGatt.connect()}catch(t){console.log("Argh! "+t)}}async readBtle(t){await this.bluetoothGatt.readvalueFromService(t).then(t=>{this.read=!1,console.log(t);let e=new CustomEvent("data-event",{detail:{message:t},bubbles:!0,composed:!0});this.dispatchEvent(e)},t=>{this.read=!1})}async processBTLEcommands(){for(const t of this.btledata)t.action==lt.write&&await this.bluetoothGatt.writevalueToService(t.data,t.serviceNr),t.action==lt.read&&await this.readBtle(t.serviceNr),t.action==lt.enableNotify&&await this.bluetoothGatt.SetNotify(!0,t.serviceNr),t.action==lt.disableNotify&&await this.bluetoothGatt.SetNotify(!1,t.serviceNr)}_handleBtGattStateChange(t){if(this.connectedStr=t.target.connectionStr,"connected"==this.connectedStr){let t=new CustomEvent("data-event",{detail:{message:"connected"},bubbles:!0,composed:!0});this.dispatchEvent(t)}}_handleNotifyChanged(t){if("connected"==this.connectedStr){let e=new CustomEvent("data-event",{detail:{message:t.detail.message},bubbles:!0,composed:!0});this.dispatchEvent(e)}}};ct([rt()],ht.prototype,"name",void 0),ct([rt()],ht.prototype,"connectedStr",void 0),ct([rt()],ht.prototype,"connected",void 0),ct([rt({type:Array})],ht.prototype,"primaryServiceObject",void 0),ct([rt()],ht.prototype,"read",void 0),ct([rt()],ht.prototype,"data",void 0),ct([rt()],ht.prototype,"btledata",void 0),ht=ct([(t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(e){window.customElements.define(t,e)}}})(t,e))("lsg-bluetooth")],ht);var ft=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},dt=function(t){return 1===t.length&&(t=function(t){return function(e,n){return ft(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var pt=dt(ft),_t=pt.right,yt=(pt.left,_t);var mt=Array.prototype,gt=(mt.slice,mt.map,Math.sqrt(50)),vt=Math.sqrt(10),bt=Math.sqrt(2),wt=function(t,e,n){var r,i,o,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=Et(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(i=Math.ceil(e-t+1));++a<i;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(i=Math.ceil(t-e+1));++a<i;)o[a]=(t-a)/s;return r&&o.reverse(),o};function Et(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=gt?10:o>=vt?5:o>=bt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=gt?10:o>=vt?5:o>=bt?2:1)}function St(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=gt?i*=10:o>=vt?i*=5:o>=bt&&(i*=2),e<t?-i:i}var At=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},Nt=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r};Array.prototype.slice;var Tt={value:function(){}};function Ot(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Pt(r)}function Pt(t){this._=t}function Ct(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function xt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Tt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Pt.prototype=Ot.prototype={constructor:Pt,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=xt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=xt(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=Ct(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var It=Ot;function Rt(){}var Bt=function(t){return null==t?Rt:function(){return this.querySelector(t)}};function Dt(){return[]}var Mt=function(t){return null==t?Dt:function(){return this.querySelectorAll(t)}},Ut=function(t){return function(){return this.matches(t)}},kt=function(t){return new Array(t.length)};function Lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Lt.prototype={constructor:Lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ft="$";function jt(t,e,n,r,i,o){for(var s,a=0,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Lt(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function $t(t,e,n,r,i,o,s){var a,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(d[a]=l=Ft+s.call(u,u.__data__,a,e),l in c?i[a]=u:c[l]=u);for(a=0;a<f;++a)(u=c[l=Ft+s.call(t,o[a],a,o)])?(r[a]=u,u.__data__=o[a],c[l]=null):n[a]=new Lt(t,o[a]);for(a=0;a<h;++a)(u=e[a])&&c[d[a]]===u&&(i[a]=u)}function zt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Yt="http://www.w3.org/1999/xhtml",Vt={svg:"http://www.w3.org/2000/svg",xhtml:Yt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Vt.hasOwnProperty(e)?{space:Vt[e],local:t}:t};var Ht=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Wt(t,e){return t.style.getPropertyValue(e)||Ht(t).getComputedStyle(t,null).getPropertyValue(e)}function Jt(t){return t.trim().split(/^|\s+/)}function Kt(t){return t.classList||new Gt(t)}function Gt(t){this._node=t,this._names=Jt(t.getAttribute("class")||"")}function Xt(t,e){for(var n=Kt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Zt(t,e){for(var n=Kt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}Gt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Qt(){this.textContent=""}function te(){this.innerHTML=""}function ee(){this.nextSibling&&this.parentNode.appendChild(this)}function ne(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var re=function(t){var e=qt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yt&&e.documentElement.namespaceURI===Yt?e.createElement(t):e.createElementNS(n,t)}})(e)};function ie(){return null}function oe(){var t=this.parentNode;t&&t.removeChild(this)}function se(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ae(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ue={},le=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ue={mouseenter:"mouseover",mouseleave:"mouseout"}));function ce(t,e,n){return t=he(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function he(t,e,n){return function(r){var i=le;le=r;try{t.call(this,this.__data__,e,n)}finally{le=i}}}function fe(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function de(t,e,n){var r=ue.hasOwnProperty(t.type)?ce:he;return function(i,o,s){var a,u=this.__on,l=r(e,o,s);if(u)for(var c=0,h=u.length;c<h;++c)if((a=u[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(a):this.__on=[a]}}function pe(t,e,n){var r=Ht(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var _e=[null];function ye(t,e){this._groups=t,this._parents=e}function me(){return new ye([[document.documentElement]],_e)}ye.prototype=me.prototype={constructor:ye,select:function(t){"function"!=typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],u=a.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),l[c]=s);return new ye(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Mt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,l=0;l<u;++l)(s=a[l])&&(r.push(t.call(s,s.__data__,l,a)),i.push(s));return new ye(r,i)},filter:function(t){"function"!=typeof t&&(t=Ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new ye(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n=e?$t:jt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,d=t.call(c,c&&c.__data__,l,r),p=d.length,_=a[l]=new Array(p),y=s[l]=new Array(p);n(c,h,_,y,u[l]=new Array(f),d,e);for(var m,g,v=0,b=0;v<p;++v)if(m=_[v]){for(v>=b&&(b=v+1);!(g=y[b])&&++b<p;);m._next=g||null}}return(s=new ye(s,r))._enter=a,s._exit=u,s},enter:function(){return new ye(this._enter||this._groups.map(kt),this._parents)},exit:function(){return new ye(this._exit||this._groups.map(kt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<r;++a)s[a]=e[a];return new ye(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=zt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,l=i[o]=new Array(u),c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(e)}return new ye(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=qt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Wt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Jt(t+"");if(arguments.length<2){for(var r=Kt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Xt:Zt)(this,t)}}:e?function(t){return function(){Xt(this,t)}}:function(t){return function(){Zt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Qt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?te:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ee)},lower:function(){return this.each(ne)},append:function(t){var e="function"==typeof t?t:re(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:re(t),r=null==e?ie:"function"==typeof e?e:Bt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(oe)},clone:function(t){return this.select(t?ae:se)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?de:fe,null==n&&(n=!1),r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(r=0,u=a[l];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return pe(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return pe(this,t,e)}})(t,e))}};var ge=me,ve=function(t){return"string"==typeof t?new ye([[document.querySelector(t)]],[document.documentElement]):new ye([[t]],_e)};var be=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function we(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ee(){}var Se="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Te=/^#([0-9a-f]{3,8})$/,Oe=new RegExp("^rgb\\("+[Se,Se,Se]+"\\)$"),Pe=new RegExp("^rgb\\("+[Ne,Ne,Ne]+"\\)$"),Ce=new RegExp("^rgba\\("+[Se,Se,Se,Ae]+"\\)$"),xe=new RegExp("^rgba\\("+[Ne,Ne,Ne,Ae]+"\\)$"),Ie=new RegExp("^hsl\\("+[Ae,Ne,Ne]+"\\)$"),Re=new RegExp("^hsla\\("+[Ae,Ne,Ne,Ae]+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function De(){return this.rgb().formatHex()}function Me(){return this.rgb().formatRgb()}function Ue(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Te.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ke(e):3===n?new je(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new je(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Oe.exec(t))?new je(e[1],e[2],e[3],1):(e=Pe.exec(t))?new je(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ce.exec(t))?Le(e[1],e[2],e[3],e[4]):(e=xe.exec(t))?Le(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ie.exec(t))?Ve(e[1],e[2]/100,e[3]/100,1):(e=Re.exec(t))?Ve(e[1],e[2]/100,e[3]/100,e[4]):Be.hasOwnProperty(t)?ke(Be[t]):"transparent"===t?new je(NaN,NaN,NaN,0):null}function ke(t){return new je(t>>16&255,t>>8&255,255&t,1)}function Le(t,e,n,r){return r<=0&&(t=e=n=NaN),new je(t,e,n,r)}function Fe(t,e,n,r){return 1===arguments.length?function(t){return t instanceof Ee||(t=Ue(t)),t?new je((t=t.rgb()).r,t.g,t.b,t.opacity):new je}(t):new je(t,e,n,null==r?1:r)}function je(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function $e(){return"#"+Ye(this.r)+Ye(this.g)+Ye(this.b)}function ze(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ye(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ve(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new He(t,e,n,r)}function qe(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof Ee||(t=Ue(t)),!t)return new He;if(t instanceof He)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new He(s,a,u,t.opacity)}function He(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function We(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Je(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}be(Ee,Ue,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:De,formatHex:De,formatHsl:function(){return qe(this).formatHsl()},formatRgb:Me,toString:Me}),be(je,Fe,we(Ee,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new je(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$e,formatHex:$e,formatRgb:ze,toString:ze})),be(He,function(t,e,n,r){return 1===arguments.length?qe(t):new He(t,e,n,null==r?1:r)},we(Ee,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new He(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new je(We(t>=240?t-240:t+120,i,r),We(t,i,r),We(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ke=function(t){return function(){return t}};function Ge(t,e){return function(n){return t+n*e}}function Xe(t){return 1==(t=+t)?Ze:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ke(isNaN(e)?n:e)}}function Ze(t,e){var n=e-t;return n?Ge(t,n):Ke(isNaN(t)?e:t)}var Qe=function t(e){var n=Xe(e);function r(t,e){var r=n((t=Fe(t)).r,(e=Fe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Ze(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function tn(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Fe(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}tn(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Je((n-r/e)*e,s,i,o,a)}}),tn(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Je((n-r/e)*e,i,o,s,a)}});var en=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(nn.source,"g");var on,sn,an=function(t,e){var n,r,i,o=nn.lastIndex=rn.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=nn.exec(t))&&(r=rn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:en(n,r)})),o=rn.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})},un=0,ln=0,cn=0,hn=1e3,fn=0,dn=0,pn=0,_n="object"==typeof performance&&performance.now?performance:Date,yn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mn(){return dn||(yn(gn),dn=_n.now()+pn)}function gn(){dn=0}function vn(){this._call=this._time=this._next=null}function bn(t,e,n){var r=new vn;return r.restart(t,e,n),r}function wn(){dn=(fn=_n.now())+pn,un=ln=0;try{!function(){mn(),++un;for(var t,e=on;e;)(t=dn-e._time)>=0&&e._call.call(null,t),e=e._next;--un}()}finally{un=0,function(){var t,e,n=on,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:on=e);sn=t,Sn(r)}(),dn=0}}function En(){var t=_n.now(),e=t-fn;e>hn&&(pn-=e,fn=t)}function Sn(t){un||(ln&&(ln=clearTimeout(ln)),t-dn>24?(t<1/0&&(ln=setTimeout(wn,t-_n.now()-pn)),cn&&(cn=clearInterval(cn))):(cn||(fn=_n.now(),cn=setInterval(En,hn)),un=1,yn(wn)))}vn.prototype=bn.prototype={constructor:vn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?mn():+n)+(null==e?0:+e),this._next||sn===this||(sn?sn._next=this:on=this,sn=this),this._call=t,this._time=n,Sn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sn())}};var An=function(t,e,n){var r=new vn;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},Nn=It("start","end","cancel","interrupt"),Tn=[],On=0,Pn=1,Cn=2,xn=3,In=4,Rn=5,Bn=6,Dn=function(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var l,c,h,f;if(n.state!==Pn)return a();for(l in i)if((f=i[l]).name===n.name){if(f.state===xn)return An(o);f.state===In?(f.state=Bn,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Bn,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(An(function(){n.state===xn&&(n.state=In,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Cn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Cn){for(n.state=xn,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Rn,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);n.state===Rn&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=Bn,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=bn(function(t){n.state=Pn,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:Nn,tween:Tn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:On})};function Mn(t,e){var n=kn(t,e);if(n.state>On)throw new Error("too late; already scheduled");return n}function Un(t,e){var n=kn(t,e);if(n.state>xn)throw new Error("too late; already running");return n}function kn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ln,Fn,jn,$n,zn=function(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Cn&&n.state<Rn,n.state=Bn,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}},Yn=180/Math.PI,Vn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},qn=function(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Yn,skewX:Math.atan(u)*Yn,scaleX:s,scaleY:a}};function Hn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],u=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:en(t,i)},{i:u-2,x:en(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:en(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:en(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,u),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:en(t,n)},{i:a-2,x:en(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,u),o=s=null,function(t){for(var e,n=-1,r=u.length;++n<r;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var Wn=Hn(function(t){return"none"===t?Vn:(Ln||(Ln=document.createElement("DIV"),Fn=document.documentElement,jn=document.defaultView),Ln.style.transform=t,t=jn.getComputedStyle(Fn.appendChild(Ln),null).getPropertyValue("transform"),Fn.removeChild(Ln),t=t.slice(7,-1).split(","),qn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Jn=Hn(function(t){return null==t?Vn:($n||($n=document.createElementNS("http://www.w3.org/2000/svg","g")),$n.setAttribute("transform",t),(t=$n.transform.baseVal.consolidate())?(t=t.matrix,qn(t.a,t.b,t.c,t.d,t.e,t.f)):Vn)},", ",")",")");function Kn(t,e,n){var r=t._id;return t.each(function(){var t=Un(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return kn(t,r).value[e]}}var Gn=function(t,e){var n;return("number"==typeof e?en:e instanceof Ue?Qe:(n=Ue(e))?(e=n,Qe):an)(t,e)};var Xn=ge.prototype.constructor;function Zn(t){return function(){this.style.removeProperty(t)}}var Qn=0;function tr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function er(){return++Qn}var nr=ge.prototype;tr.prototype=function(t){return ge().transition(t)}.prototype={constructor:tr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,u,l=r[s],c=l.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=l[f])&&(u=t.call(a,a.__data__,f,l))&&("__data__"in a&&(u.__data__=a.__data__),h[f]=u,Dn(h[f],e,n,f,h,kn(a,n)));return new tr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Mt(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,l=r[a],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=kn(u,n),_=0,y=d.length;_<y;++_)(f=d[_])&&Dn(f,e,n,_,d,p);o.push(d),s.push(u)}return new tr(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new tr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,l=e[a],c=n[a],h=l.length,f=s[a]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;a<r;++a)s[a]=e[a];return new tr(s,this._parents,this._name,this._id)},selection:function(){return new Xn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=er(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,l=0;l<u;++l)if(s=a[l]){var c=kn(s,e);Dn(s,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tr(r,this._parents,t,n)},call:nr.call,nodes:nr.nodes,node:nr.node,size:nr.size,empty:nr.empty,each:nr.each,on:function(t,e){var n=this._id;return arguments.length<2?kn(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Mn:Un;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=qt(t),r="transform"===n?Jn:Gn;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var s,a,u=n(this);if(null!=u)return(s=this.getAttribute(t))===(a=u+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,u));this.removeAttribute(t)}})(n,r,Kn(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}:function(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=qt(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Wn:Gn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Wt(this,t),s=(this.style.removeProperty(t),Wt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,Zn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Wt(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=Wt(this,t)),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}(t,r,Kn(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var u=Un(this,t),l=u.on,c=null==u.value[s]?o||(o=Zn(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(a,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=Wt(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Kn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=kn(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=Un(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Un(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Mn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Mn(this,t).delay=e}})(e,t)):kn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Un(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Un(this,t).duration=e}})(e,t)):kn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Un(this,t).ease=e}}(e,t)):kn(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){0==--i&&o()}};n.each(function(){var n=Un(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e})})}};var rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ir(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return rr.time=mn(),rr;return n}ge.prototype.interrupt=function(t){return this.each(function(){zn(this,t)})},ge.prototype.transition=function(t){var e,n;t instanceof tr?(e=t._id,t=t._name):(e=er(),(n=rr).time=mn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,l=0;l<u;++l)(s=a[l])&&Dn(s,t,e,l,a,n||ir(s,e));return new tr(r,this._parents,t,e)};function or(t){return[+t[0],+t[1]]}function sr(t){return[or(t[0]),or(t[1])]}["w","e"].map(ar),["n","s"].map(ar),["n","w","e","s","nw","ne","sw","se"].map(ar);function ar(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var ur=Math.PI,lr=2*ur,cr=lr-1e-6;function hr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function fr(){return new hr}hr.prototype=fr.prototype={constructor:hr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,l=o-t,c=s-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*a-u*l)>1e-6&&i){var f=n-o,d=r-s,p=a*a+u*u,_=f*f+d*d,y=Math.sqrt(p),m=Math.sqrt(h),g=i*Math.tan((ur-Math.acos((p+h-_)/(2*y*m)))/2),v=g/m,b=g/y;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*l)+","+(e+v*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=t+s,l=e+a,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%lr+lr),h>cr?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=ur)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var dr=fr;function pr(){}function _r(t,e){var n=new pr;if(t instanceof pr)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}pr.prototype=_r.prototype={constructor:pr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var yr=_r;function mr(){}var gr=yr.prototype;function vr(t,e){var n=new mr;if(t instanceof mr)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}mr.prototype=vr.prototype={constructor:mr,has:gr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:gr.remove,clear:gr.clear,values:gr.keys,size:gr.size,empty:gr.empty,each:gr.each};Array.prototype.slice;var br={},wr={},Er=34,Sr=10,Ar=13;function Nr(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Tr(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Or(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Pr(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Or(-t,6):t>9999?"+"+Or(t,6):Or(t,4)}(t.getUTCFullYear())+"-"+Or(t.getUTCMonth()+1,2)+"-"+Or(t.getUTCDate(),2)+(i?"T"+Or(e,2)+":"+Or(n,2)+":"+Or(r,2)+"."+Or(i,3)+"Z":r?"T"+Or(e,2)+":"+Or(n,2)+":"+Or(r,2)+"Z":n||e?"T"+Or(e,2)+":"+Or(n,2)+"Z":"")}var Cr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,s=0,a=0,u=o<=0,l=!1;function c(){if(u)return wr;if(l)return l=!1,br;var e,r,i=s;if(t.charCodeAt(i)===Er){for(;s++<o&&t.charCodeAt(s)!==Er||t.charCodeAt(++s)===Er;);return(e=s)>=o?u=!0:(r=t.charCodeAt(s++))===Sr?l=!0:r===Ar&&(l=!0,t.charCodeAt(s)===Sr&&++s),t.slice(i+1,e-1).replace(/""/g,'"')}for(;s<o;){if((r=t.charCodeAt(e=s++))===Sr)l=!0;else if(r===Ar)l=!0,t.charCodeAt(s)===Sr&&++s;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Sr&&--o,t.charCodeAt(o-1)===Ar&&--o;(r=c())!==wr;){for(var h=[];r!==br&&r!==wr;)h.push(r),r=c();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?Pr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Nr(t);return function(r,i){return e(n(r),i,t)}}(t,e):Nr(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=Tr(e)),[n.map(s).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Tr(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}},xr=Cr(","),Ir=xr.parse,Rr=(xr.parseRows,xr.format,xr.formatBody,xr.formatRows,xr.formatRow,xr.formatValue,Cr("\t")),Br=Rr.parse;Rr.parseRows,Rr.format,Rr.formatBody,Rr.formatRows,Rr.formatRow,Rr.formatValue;function Dr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Mr=function(t,e){return fetch(t,e).then(Dr)};function Ur(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Mr(e,n).then(function(e){return t(e,r)})}}Ur(Ir),Ur(Br);function kr(t){return function(e,n){return Mr(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}kr("application/xml"),kr("text/html"),kr("image/svg+xml");function Lr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,u,l,c,h,f,d=t._root,p={data:r},_=t._x0,y=t._y0,m=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(_+m)/2))?_=o:m=o,(c=n>=(s=(y+g)/2))?y=s:g=s,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(a=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===a&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(_+m)/2))?_=o:m=o,(c=n>=(s=(y+g)/2))?y=s:g=s}while((h=c<<1|l)==(f=(u>=s)<<1|a>=o));return i[f]=d,i[h]=p,t}var Fr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function jr(t){return t[0]}function $r(t){return t[1]}function zr(t,e,n){var r=new Yr(null==e?jr:e,null==n?$r:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Yr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Vr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var qr=zr.prototype=Yr.prototype;qr.copy=function(){var t,e,n=new Yr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Vr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Vr(e));return n},qr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Lr(this.cover(e,n),e,n,t)},qr.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)Lr(this,s[n],a[n],t[n]);return this},qr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,u=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=l,l=s,u*=2,a){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},qr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},qr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},qr.find=function(t,e,n){var r,i,o,s,a,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],_=this._root;for(_&&p.push(new Fr(_,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(_=u.node)||(i=u.x0)>f||(o=u.y0)>d||(s=u.x1)<c||(a=u.y1)<h))if(_.length){var y=(i+s)/2,m=(o+a)/2;p.push(new Fr(_[3],y,m,s,a),new Fr(_[2],i,m,y,a),new Fr(_[1],y,o,s,m),new Fr(_[0],i,o,y,m)),(l=(e>=m)<<1|t>=y)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var g=t-+this._x.call(null,_.data),v=e-+this._y.call(null,_.data),b=g*g+v*v;if(b<n){var w=Math.sqrt(n=b);c=t-w,h=e-w,f=t+w,d=e+w,r=_.data}}return r},qr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,u,l,c,h,f,d=this._root,p=this._x0,_=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(a=(p+y)/2))?p=a:y=a,(c=s>=(u=(_+m)/2))?_=u:m=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},qr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},qr.root=function(){return this._root},qr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},qr.visit=function(t){var e,n,r,i,o,s,a=[],u=this._root;for(u&&a.push(new Fr(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&u.length){var l=(r+o)/2,c=(i+s)/2;(n=u[3])&&a.push(new Fr(n,l,c,o,s)),(n=u[2])&&a.push(new Fr(n,r,c,l,s)),(n=u[1])&&a.push(new Fr(n,l,i,o,c)),(n=u[0])&&a.push(new Fr(n,r,i,l,c))}return this},qr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Fr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,u=e.x1,l=e.y1,c=(s+u)/2,h=(a+l)/2;(o=i[0])&&n.push(new Fr(o,s,a,c,h)),(o=i[1])&&n.push(new Fr(o,c,a,u,h)),(o=i[2])&&n.push(new Fr(o,s,h,c,l)),(o=i[3])&&n.push(new Fr(o,c,h,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},qr.x=function(t){return arguments.length?(this._x=t,this):this._x},qr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Hr=function(){return Math.random()},Wr=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Hr),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Hr)),Jr=(function t(e){function n(){var t=Wr.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Hr),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Hr));(function t(e){function n(t){var n=Jr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Hr),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Hr);function Kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Gr=Array.prototype,Xr=(Gr.map,Gr.slice);var Zr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qr(t){if(!(e=Zr.exec(t)))throw new Error("invalid format: "+t);var e;return new ti({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ti(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Qr.prototype=ti.prototype,ti.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ei,ni,ri,ii,oi=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},si=function(t){return(t=oi(Math.abs(t)))?t[1]:NaN},ai=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t},ui=function(t,e){var n=oi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},li={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ui(100*t,e)},r:ui,s:function(t,e){var n=oi(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ei=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+oi(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ci=function(t){return t},hi=Array.prototype.map,fi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],di=function(t){var e=void 0===t.grouping||void 0===t.thousands?ci:function(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}(hi.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?ci:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(hi.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function l(t){var l=(t=Qr(t)).fill,c=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,_=t.comma,y=t.precision,m=t.trim,g=t.type;"n"===g?(_=!0,g="g"):li[g]||(void 0===y&&(y=12),m=!0,g="g"),(d||"0"===l&&"="===c)&&(d=!0,l="0",c="=");var v="$"===f?n:"#"===f&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===f?r:/[%p]/.test(g)?s:"",w=li[g],E=/[defgprs%]/.test(g);function S(t){var n,r,s,f=v,S=b;if("c"===g)S=w(t)+S,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),y),m&&(t=ai(t)),A&&0==+t&&"+"!==h&&(A=!1),f=(A?"("===h?h:a:"-"===h||"("===h?"":h)+f,S=("s"===g?fi[8+ei/3]:"")+S+(A&&"("===h?")":""),E)for(n=-1,r=t.length;++n<r;)if(48>(s=t.charCodeAt(n))||s>57){S=(46===s?i+t.slice(n+1):t.slice(n))+S,t=t.slice(0,n);break}}_&&!d&&(t=e(t,1/0));var N=f.length+t.length+S.length,T=N<p?new Array(p-N+1).join(l):"";switch(_&&d&&(t=e(T+t,T.length?p-S.length:1/0),T=""),c){case"<":t=f+t+S+T;break;case"=":t=f+T+t+S;break;case"^":t=T.slice(0,N=T.length>>1)+f+t+S+T.slice(N);break;default:t=T+f+t+S}return o(t)}return y=void 0===y?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),S.toString=function(){return t+""},S}return{format:l,formatPrefix:function(t,e){var n=l(((t=Qr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(si(e)/3))),i=Math.pow(10,-r),o=fi[8+r/3];return function(t){return n(i*t)+o}}}};!function(t){ni=di(t),ri=ni.format,ii=ni.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var pi=function(t,e,n,r){var i,o=St(t,e,n);switch((r=Qr(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(si(e)/3)))-si(Math.abs(t)))}(o,s))||(r.precision=i),ii(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,si(e)-si(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-si(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ri(r)};function _i(t){var e=t.domain;return t.ticks=function(t){var n=e();return wt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return pi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,s=i.length-1,a=i[o],u=i[s];return u<a&&(r=a,a=u,u=r,r=o,o=s,s=r),(r=Et(a,u,n))>0?r=Et(a=Math.floor(a/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=Et(a=Math.ceil(a*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(a/r)*r,i[s]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[s]=Math.floor(u*r)/r,e(i)),t},t}function yi(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function s(e){return e<=e?o[yt(i,e,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return s}return s.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],a()):[e,n]},s.range=function(t){return arguments.length?(r=(o=Xr.call(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,i[0]]:s>=r?[i[r-1],n]:[i[s-1],i[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return yi().domain([e,n]).range(o).unknown(t)},Kr.apply(_i(s),arguments)}var mi=new Date,gi=new Date;function vi(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var s,a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=function(n){return vi(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return mi.setTime(+e),gi.setTime(+r),t(mi),t(gi),Math.floor(n(mi,gi))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var bi=vi(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});bi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?vi(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var wi=bi,Ei=(bi.range,vi(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Si=(Ei.range,6e4),Ai=6048e5;function Ni(t){return vi(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/Ai})}var Ti=Ni(0),Oi=Ni(1),Pi=Ni(2),Ci=Ni(3),xi=Ni(4),Ii=Ni(5),Ri=Ni(6),Bi=(Ti.range,Oi.range,Pi.range,Ci.range,xi.range,Ii.range,Ri.range,vi(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/864e5},function(t){return t.getDate()-1})),Di=Bi,Mi=(Bi.range,vi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Si)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Ui=(Mi.range,vi(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*Si)},function(t,e){return(e-t)/Si},function(t){return t.getMinutes()})),ki=(Ui.range,vi(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()})),Li=(ki.range,vi(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t}));Li.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?vi(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Li:null};Li.range;function Fi(t){return vi(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Ai})}var ji=Fi(0),$i=Fi(1),zi=Fi(2),Yi=Fi(3),Vi=Fi(4),qi=Fi(5),Hi=Fi(6),Wi=(ji.range,$i.range,zi.range,Yi.range,Vi.range,qi.range,Hi.range,vi(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Ji=Wi,Ki=(Wi.range,vi(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Ki.every=function(t){return isFinite(t=Math.floor(t))&&t>0?vi(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Gi=Ki;Ki.range;function Xi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zi(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var to,eo={"-":"",_:" ",0:"0"},no=/^\s*\d+/,ro=/^%/,io=/[\\^$*+?|[\]().{}]/g;function oo(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function so(t){return t.replace(io,"\\$&")}function ao(t){return new RegExp("^(?:"+t.map(so).join("|")+")","i")}function uo(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function lo(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function co(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function po(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _o(t,e,n){var r=no.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function go(t,e,n){var r=no.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function vo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function wo(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Eo(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function So(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ao(t,e,n){var r=no.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function No(t,e,n){var r=no.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function To(t,e,n){var r=no.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Oo(t,e,n){var r=ro.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Po(t,e,n){var r=no.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Co(t,e,n){var r=no.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xo(t,e){return oo(t.getDate(),e,2)}function Io(t,e){return oo(t.getHours(),e,2)}function Ro(t,e){return oo(t.getHours()%12||12,e,2)}function Bo(t,e){return oo(1+Di.count(wi(t),t),e,3)}function Do(t,e){return oo(t.getMilliseconds(),e,3)}function Mo(t,e){return Do(t,e)+"000"}function Uo(t,e){return oo(t.getMonth()+1,e,2)}function ko(t,e){return oo(t.getMinutes(),e,2)}function Lo(t,e){return oo(t.getSeconds(),e,2)}function Fo(t){var e=t.getDay();return 0===e?7:e}function jo(t,e){return oo(Ti.count(wi(t)-1,t),e,2)}function $o(t,e){var n=t.getDay();return t=n>=4||0===n?xi(t):xi.ceil(t),oo(xi.count(wi(t),t)+(4===wi(t).getDay()),e,2)}function zo(t){return t.getDay()}function Yo(t,e){return oo(Oi.count(wi(t)-1,t),e,2)}function Vo(t,e){return oo(t.getFullYear()%100,e,2)}function qo(t,e){return oo(t.getFullYear()%1e4,e,4)}function Ho(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+oo(e/60|0,"0",2)+oo(e%60,"0",2)}function Wo(t,e){return oo(t.getUTCDate(),e,2)}function Jo(t,e){return oo(t.getUTCHours(),e,2)}function Ko(t,e){return oo(t.getUTCHours()%12||12,e,2)}function Go(t,e){return oo(1+Ji.count(Gi(t),t),e,3)}function Xo(t,e){return oo(t.getUTCMilliseconds(),e,3)}function Zo(t,e){return Xo(t,e)+"000"}function Qo(t,e){return oo(t.getUTCMonth()+1,e,2)}function ts(t,e){return oo(t.getUTCMinutes(),e,2)}function es(t,e){return oo(t.getUTCSeconds(),e,2)}function ns(t){var e=t.getUTCDay();return 0===e?7:e}function rs(t,e){return oo(ji.count(Gi(t)-1,t),e,2)}function is(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Vi(t):Vi.ceil(t),oo(Vi.count(Gi(t),t)+(4===Gi(t).getUTCDay()),e,2)}function os(t){return t.getUTCDay()}function ss(t,e){return oo($i.count(Gi(t)-1,t),e,2)}function as(t,e){return oo(t.getUTCFullYear()%100,e,2)}function us(t,e){return oo(t.getUTCFullYear()%1e4,e,4)}function ls(){return"+0000"}function cs(){return"%"}function hs(t){return+t}function fs(t){return Math.floor(+t/1e3)}!function(t){to=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,l=ao(i),c=uo(i),h=ao(o),f=uo(o),d=ao(s),p=uo(s),_=ao(a),y=uo(a),m=ao(u),g=uo(u),v={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:xo,e:xo,f:Mo,H:Io,I:Ro,j:Bo,L:Do,m:Uo,M:ko,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:hs,s:fs,S:Lo,u:Fo,U:jo,V:$o,w:zo,W:Yo,x:null,X:null,y:Vo,Y:qo,Z:Ho,"%":cs},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Wo,e:Wo,f:Zo,H:Jo,I:Ko,j:Go,L:Xo,m:Qo,M:ts,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:hs,s:fs,S:es,u:ns,U:rs,V:is,w:os,W:ss,x:null,X:null,y:as,Y:us,Z:ls,"%":cs},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return A(t,e,n,r)},d:bo,e:bo,f:To,H:Eo,I:Eo,j:wo,L:No,m:vo,M:So,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:go,Q:Po,s:Co,S:Ao,u:co,U:ho,V:fo,w:lo,W:po,x:function(t,e,r){return A(t,n,e,r)},X:function(t,e,n){return A(t,r,e,n)},y:yo,Y:_o,Z:mo,"%":Oo};function E(t,e){return function(n){var r,i,o,s=[],a=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=eo[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function S(t,e){return function(n){var r,i,o=Qi(1900,void 0,1);if(A(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=Zi(Qi(o.y,0,1))).getUTCDay())>4||0===i?$i.ceil(r):$i(r),r=Ji.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=Xi(Qi(o.y,0,1))).getDay())>4||0===i?Oi.ceil(r):Oi(r),r=Di.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Zi(Qi(o.y,0,1)).getUTCDay():Xi(Qi(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Zi(o)):Xi(o)}}function A(t,e,n,r){for(var i,o,s=0,a=e.length,u=n.length;s<a;){if(r>=u)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=w[i in eo?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=E(n,v),v.X=E(r,v),v.c=E(e,v),b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),{format:function(t){var e=E(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=E(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),to.format,to.parse,to.utcFormat,to.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ds=vi(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ps=(ds.range,vi(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),_s=(ps.range,vi(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Si)},function(t,e){return(e-t)/Si},function(t){return t.getUTCMinutes()}));_s.range;var ys=function(t){return function(){return t}},ms=Math.abs,gs=Math.atan2,vs=Math.cos,bs=Math.max,ws=Math.min,Es=Math.sin,Ss=Math.sqrt,As=1e-12,Ns=Math.PI,Ts=Ns/2,Os=2*Ns;function Ps(t){return t>=1?Ts:t<=-1?-Ts:Math.asin(t)}function Cs(t){return t.innerRadius}function xs(t){return t.outerRadius}function Is(t){return t.startAngle}function Rs(t){return t.endAngle}function Bs(t){return t&&t.padAngle}function Ds(t,e,n,r,i,o,s){var a=t-n,u=e-r,l=(s?o:-o)/Ss(a*a+u*u),c=l*u,h=-l*a,f=t+c,d=e+h,p=n+c,_=r+h,y=(f+p)/2,m=(d+_)/2,g=p-f,v=_-d,b=g*g+v*v,w=i-o,E=f*_-p*d,S=(v<0?-1:1)*Ss(bs(0,w*w*b-E*E)),A=(E*v-g*S)/b,N=(-E*g-v*S)/b,T=(E*v+g*S)/b,O=(-E*g+v*S)/b,P=A-y,C=N-m,x=T-y,I=O-m;return P*P+C*C>x*x+I*I&&(A=T,N=O),{cx:A,cy:N,x01:-c,y01:-h,x11:A*(i/w-1),y11:N*(i/w-1)}}var Ms=function(){var t=Cs,e=xs,n=ys(0),r=null,i=Is,o=Rs,s=Bs,a=null;function u(){var u,l,c=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-Ts,d=o.apply(this,arguments)-Ts,p=ms(d-f),_=d>f;if(a||(a=u=dr()),h<c&&(l=h,h=c,c=l),h>As)if(p>Os-As)a.moveTo(h*vs(f),h*Es(f)),a.arc(0,0,h,f,d,!_),c>As&&(a.moveTo(c*vs(d),c*Es(d)),a.arc(0,0,c,d,f,_));else{var y,m,g=f,v=d,b=f,w=d,E=p,S=p,A=s.apply(this,arguments)/2,N=A>As&&(r?+r.apply(this,arguments):Ss(c*c+h*h)),T=ws(ms(h-c)/2,+n.apply(this,arguments)),O=T,P=T;if(N>As){var C=Ps(N/c*Es(A)),x=Ps(N/h*Es(A));(E-=2*C)>As?(b+=C*=_?1:-1,w-=C):(E=0,b=w=(f+d)/2),(S-=2*x)>As?(g+=x*=_?1:-1,v-=x):(S=0,g=v=(f+d)/2)}var I=h*vs(g),R=h*Es(g),B=c*vs(w),D=c*Es(w);if(T>As){var M,U=h*vs(v),k=h*Es(v),L=c*vs(b),F=c*Es(b);if(p<Ns&&(M=function(t,e,n,r,i,o,s,a){var u=n-t,l=r-e,c=s-i,h=a-o,f=h*u-c*l;if(!(f*f<As))return[t+(f=(c*(e-o)-h*(t-i))/f)*u,e+f*l]}(I,R,L,F,U,k,B,D))){var j=I-M[0],$=R-M[1],z=U-M[0],Y=k-M[1],V=1/Es(function(t){return t>1?0:t<-1?Ns:Math.acos(t)}((j*z+$*Y)/(Ss(j*j+$*$)*Ss(z*z+Y*Y)))/2),q=Ss(M[0]*M[0]+M[1]*M[1]);O=ws(T,(c-q)/(V-1)),P=ws(T,(h-q)/(V+1))}}S>As?P>As?(y=Ds(L,F,I,R,h,P,_),m=Ds(U,k,B,D,h,P,_),a.moveTo(y.cx+y.x01,y.cy+y.y01),P<T?a.arc(y.cx,y.cy,P,gs(y.y01,y.x01),gs(m.y01,m.x01),!_):(a.arc(y.cx,y.cy,P,gs(y.y01,y.x01),gs(y.y11,y.x11),!_),a.arc(0,0,h,gs(y.cy+y.y11,y.cx+y.x11),gs(m.cy+m.y11,m.cx+m.x11),!_),a.arc(m.cx,m.cy,P,gs(m.y11,m.x11),gs(m.y01,m.x01),!_))):(a.moveTo(I,R),a.arc(0,0,h,g,v,!_)):a.moveTo(I,R),c>As&&E>As?O>As?(y=Ds(B,D,U,k,c,-O,_),m=Ds(I,R,L,F,c,-O,_),a.lineTo(y.cx+y.x01,y.cy+y.y01),O<T?a.arc(y.cx,y.cy,O,gs(y.y01,y.x01),gs(m.y01,m.x01),!_):(a.arc(y.cx,y.cy,O,gs(y.y01,y.x01),gs(y.y11,y.x11),!_),a.arc(0,0,c,gs(y.cy+y.y11,y.cx+y.x11),gs(m.cy+m.y11,m.cx+m.x11),_),a.arc(m.cx,m.cy,O,gs(m.y11,m.x11),gs(m.y01,m.x01),!_))):a.arc(0,0,c,w,b,_):a.lineTo(B,D)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ns/2;return[vs(r)*n,Es(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ys(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ys(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ys(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ys(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ys(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:ys(+t),u):o},u.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:ys(+t),u):s},u.context=function(t){return arguments.length?(a=null==t?null:t,u):a},u},Us=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ks=function(t){return t},Ls=function(){var t=ks,e=Us,n=null,r=ys(0),i=ys(Os),o=ys(0);function s(s){var a,u,l,c,h,f=s.length,d=0,p=new Array(f),_=new Array(f),y=+r.apply(this,arguments),m=Math.min(Os,Math.max(-Os,i.apply(this,arguments)-y)),g=Math.min(Math.abs(m)/f,o.apply(this,arguments)),v=g*(m<0?-1:1);for(a=0;a<f;++a)(h=_[p[a]=a]=+t(s[a],a,s))>0&&(d+=h);for(null!=e?p.sort(function(t,n){return e(_[t],_[n])}):null!=n&&p.sort(function(t,e){return n(s[t],s[e])}),a=0,l=d?(m-f*v)/d:0;a<f;++a,y=c)u=p[a],c=y+((h=_[u])>0?h*l:0)+v,_[u]={data:s[u],index:a,value:h,startAngle:y,endAngle:c,padAngle:g};return _}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:ys(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:ys(+t),s):r},s.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:ys(+t),s):i},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ys(+t),s):o},s};function Fs(){this._=null}function js(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function $s(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function zs(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ys(t){for(;t.L;)t=t.L;return t}Fs.prototype={constructor:Fs,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ys(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&($s(this,n),n=(t=n).U),n.C=!1,r.C=!0,zs(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(zs(this,n),n=(t=n).U),n.C=!1,r.C=!0,$s(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Ys(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,$s(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,zs(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,$s(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,zs(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,$s(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,zs(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Vs=Fs;function qs(t,e,n,r){var i=[null,null],o=da.push(i)-1;return i.left=t,i.right=e,n&&Ws(i,t,e,n),r&&Ws(i,e,t,r),ha[t.index].halfedges.push(o),ha[e.index].halfedges.push(o),i}function Hs(t,e,n){var r=[e,n];return r.left=t,r}function Ws(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Js(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,d=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function Ks(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],_=(h+d)/2,y=(f+p)/2;if(p===f){if(_<e||_>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[_,n];o=[_,i]}else{if(u){if(u[1]<n)return}else u=[_,i];o=[_,n]}}else if(a=y-(s=(h-d)/(p-f))*_,s<-1||s>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Gs(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Xs(t,e){return e[+(e.left!==t.site)]}function Zs(t,e){return e[+(e.left===t.site)]}var Qs,ta=[];function ea(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(f>=-_a)){var d=u*u+l*l,p=c*c+h*h,_=(h*d-l*p)/f,y=(u*p-c*d)/f,m=ta.pop()||new function(){js(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=_+s,m.y=(m.cy=y+a)+Math.sqrt(_*_+y*y),t.circle=m;for(var g=null,v=fa._;v;)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){g=v.P;break}v=v.L}else{if(!v.R){g=v;break}v=v.R}fa.insert(g,m),g||(Qs=m)}}}}function na(t){var e=t.circle;e&&(e.P||(Qs=e.N),fa.remove(e),ta.push(e),js(e),t.circle=null)}var ra=[];function ia(t){var e=ra.pop()||new function(){js(this),this.edge=this.site=this.circle=null};return e.site=t,e}function oa(t){na(t),ca.remove(t),ra.push(t),js(t)}function sa(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];oa(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<pa&&Math.abs(r-u.circle.cy)<pa;)o=u.P,a.unshift(u),oa(u),u=o;a.unshift(u),na(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<pa&&Math.abs(r-l.circle.cy)<pa;)s=l.N,a.push(l),oa(l),l=s;a.push(l),na(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],Ws(l.edge,u.site,l.site,i);u=a[0],(l=a[h-1]).edge=qs(u.site,l.site,null,i),ea(u),ea(l)}function aa(t){for(var e,n,r,i,o=t[0],s=t[1],a=ca._;a;)if((r=ua(a,s)-o)>pa)a=a.L;else{if(!((i=o-la(a,s))>pa)){r>-pa?(e=a.P,n=a):i>-pa?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){ha[t.index]={site:t,halfedges:[]}}(t);var u=ia(t);if(ca.insert(e,u),e||n){if(e===n)return na(e),n=ia(e.site),ca.insert(u,n),u.edge=n.edge=qs(e.site,u.site),ea(e),void ea(n);if(n){na(e),na(n);var l=e.site,c=l[0],h=l[1],f=t[0]-c,d=t[1]-h,p=n.site,_=p[0]-c,y=p[1]-h,m=2*(f*y-d*_),g=f*f+d*d,v=_*_+y*y,b=[(y*g-d*v)/m+c,(f*v-_*g)/m+h];Ws(n.edge,l,p,b),u.edge=qs(l,t,null,b),n.edge=qs(t,p,null,b),ea(e),ea(n)}else u.edge=qs(e.site,u.site)}}function ua(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+a)/2}function la(t,e){var n=t.N;if(n)return ua(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var ca,ha,fa,da,pa=1e-6,_a=1e-12;function ya(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function ma(t,e){return e[1]-t[1]||e[0]-t[0]}function ga(t,e){var n,r,i,o=t.sort(ma).pop();for(da=[],ha=new Array(t.length),ca=new Vs,fa=new Vs;;)if(i=Qs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(aa(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;sa(i.arc)}if(function(){for(var t,e,n,r,i=0,o=ha.length;i<o;++i)if((t=ha[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Gs(t,da[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=da.length;o--;)Ks(i=da[o],t,e,n,r)&&Js(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pa||Math.abs(i[0][1]-i[1][1])>pa)||delete da[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,h,f,d,p,_,y=ha.length,m=!0;for(i=0;i<y;++i)if(o=ha[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)da[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)p=(d=Zs(o,da[u[a]]))[0],_=d[1],h=(c=Xs(o,da[u[++a%l]]))[0],f=c[1],(Math.abs(p-h)>pa||Math.abs(_-f)>pa)&&(u.splice(a,0,da.push(Hs(s,d,Math.abs(p-t)<pa&&r-_>pa?[t,Math.abs(h-t)<pa?f:r]:Math.abs(_-r)<pa&&n-p>pa?[Math.abs(f-r)<pa?h:n,r]:Math.abs(p-n)<pa&&_-e>pa?[n,Math.abs(h-n)<pa?f:e]:Math.abs(_-e)<pa&&p-t>pa?[Math.abs(f-e)<pa?h:t,e]:null))-1),++l);l&&(m=!1)}if(m){var g,v,b,w=1/0;for(i=0,m=null;i<y;++i)(o=ha[i])&&(b=(g=(s=o.site)[0]-t)*g+(v=s[1]-e)*v)<w&&(w=b,m=o);if(m){var E=[t,e],S=[t,r],A=[n,r],N=[n,e];m.halfedges.push(da.push(Hs(s=m.site,E,S))-1,da.push(Hs(s,S,A))-1,da.push(Hs(s,A,N))-1,da.push(Hs(s,N,E))-1)}}for(i=0;i<y;++i)(o=ha[i])&&(o.halfedges.length||delete ha[i])}(s,a,u,l)}this.edges=da,this.cells=ha,ca=fa=da=ha=null}ga.prototype={constructor:ga,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Xs(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,l=e[i[o-1]],c=l.left===a?l.right:l.left;++u<o;)s=c,c=(l=e[i[u]]).left===a?l.right:l.left,s&&c&&r<s.index&&r<c.index&&ya(a,s,c)<0&&t.push([a.data,s.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach(function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}};Math.SQRT2;function va(t,e,n){this.k=t,this.x=e,this.y=n}va.prototype={constructor:va,scale:function(t){return 1===t?this:new va(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new va(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new va(1,0,0);va.prototype;customElements.define("lsg-pie",class extends st{static get properties(){return{dataPoints:{type:Array},curAngle:{type:Number,attribute:"angle"},interval:{type:Number},alarm:{type:Number}}}constructor(){super(),this.firsttime=1,this.degrees=10,this.NR_ELEMENTS=360/this.degrees,this.dataForColering=null,this.dataSizeElements=null,this._handleClick=this._handleClick.bind(this),this.alarm=-1}createRenderRoot(){return this}render(){return 0===this.firsttime&&this.doUpdate(this.dataPoints),j`
            
            `}firstUpdated(t){this.firsttime=0;var e=ve("#chart");e.classed("svg-container",!0).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","-60 -60 320 320").classed("svg-content-responsive",!0);for(var n=Math.min(175,175)/2,r=10..toString(),i=e.append("g").attr("transform","translate(100,100)"),o=[],s=0;s<this.NR_ELEMENTS;s++)o.push(s);var a=yi().range(["#fff5f0","#fff4ef","#fff4ee","#fff3ed","#fff2ec","#fff2eb","#fff1ea","#fff0e9","#fff0e8","#ffefe7","#ffeee6","#ffeee6","#ffede5","#ffece4","#ffece3","#ffebe2","#feeae1","#fee9e0","#fee9de","#fee8dd","#fee7dc","#fee6db","#fee6da","#fee5d9","#fee4d8","#fee3d7","#fee2d6","#fee2d5","#fee1d4","#fee0d2","#fedfd1","#feded0","#feddcf","#fedccd","#fedbcc","#fedacb","#fed9ca","#fed8c8","#fed7c7","#fdd6c6","#fdd5c4","#fdd4c3","#fdd3c1","#fdd2c0","#fdd1bf","#fdd0bd","#fdcfbc","#fdceba","#fdcdb9","#fdccb7","#fdcbb6","#fdc9b4","#fdc8b3","#fdc7b2","#fdc6b0","#fdc5af","#fdc4ad","#fdc2ac","#fdc1aa","#fdc0a8","#fcbfa7","#fcbea5","#fcbca4","#fcbba2","#fcbaa1","#fcb99f","#fcb89e","#fcb69c","#fcb59b","#fcb499","#fcb398","#fcb196","#fcb095","#fcaf94","#fcae92","#fcac91","#fcab8f","#fcaa8e","#fca98c","#fca78b","#fca689","#fca588","#fca486","#fca285","#fca183","#fca082","#fc9e81","#fc9d7f","#fc9c7e","#fc9b7c","#fc997b","#fc987a","#fc9778","#fc9677","#fc9475","#fc9374","#fc9273","#fc9071","#fc8f70","#fc8e6f","#fc8d6d","#fc8b6c","#fc8a6b","#fc8969","#fc8868","#fc8667","#fc8565","#fc8464","#fb8263","#fb8162","#fb8060","#fb7f5f","#fb7d5e","#fb7c5d","#fb7b5b","#fb795a","#fb7859","#fb7758","#fb7657","#fb7455","#fa7354","#fa7253","#fa7052","#fa6f51","#fa6e50","#fa6c4e","#f96b4d","#f96a4c","#f9684b","#f9674a","#f96549","#f86448","#f86347","#f86146","#f86045","#f75e44","#f75d43","#f75c42","#f65a41","#f65940","#f6573f","#f5563e","#f5553d","#f4533c","#f4523b","#f4503a","#f34f39","#f34e38","#f24c37","#f24b37","#f14936","#f14835","#f04734","#ef4533","#ef4433","#ee4332","#ed4131","#ed4030","#ec3f2f","#eb3d2f","#eb3c2e","#ea3b2d","#e93a2d","#e8382c","#e7372b","#e6362b","#e6352a","#e5342a","#e43229","#e33128","#e23028","#e12f27","#e02e27","#df2d26","#de2c26","#dd2b25","#dc2a25","#db2924","#da2824","#d92723","#d72623","#d62522","#d52422","#d42321","#d32221","#d22121","#d12020","#d01f20","#ce1f1f","#cd1e1f","#cc1d1f","#cb1d1e","#ca1c1e","#c91b1e","#c71b1d","#c61a1d","#c5191d","#c4191c","#c3181c","#c2181c","#c0171b","#bf171b","#be161b","#bd161a","#bb151a","#ba151a","#b91419","#b81419","#b61419","#b51319","#b41318","#b21218","#b11218","#b01218","#ae1117","#ad1117","#ac1117","#aa1017","#a91016","#a71016","#a60f16","#a40f16","#a30e15","#a10e15","#a00e15","#9e0d15","#9c0d14","#9b0c14","#990c14","#970c14","#960b13","#940b13","#920a13","#900a13","#8f0a12","#8d0912","#8b0912","#890812","#870811","#860711","#840711","#820711","#800610","#7e0610","#7c0510","#7a0510","#78040f","#76040f","#75030f","#73030f","#71020e","#6f020e","#6d010e","#6b010e","#69000d","#67000d"]);a.domain([Nt(o,function(t){return t}),At(o,function(t){return t})]);var u=Array(this.NR_ELEMENTS).fill(this.degrees),l=Ls().sort(null).value(function(t){return t}),c=Ms().outerRadius(n-10).innerRadius(n-200/12),h=Ms().outerRadius(n).innerRadius(n);console.log(h);var f=h({startAngle:0,endAngle:2*Math.PI});console.log(f),e.append("path").attr("id","wavy").attr("d",f).style("fill","none").style("stroke","#0AAAAA").style("stroke-opacity",0).attr("transform","translate(100,100)"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","12.5%").attr("font-size",r).text("Zijligging rechts"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","37.5%").attr("font-size",r).text("Zijligging links"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","37.5%").attr("font-size",r).text("Zijligging links"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","right").attr("startOffset","48.2%").attr("font-size",r).text("Rug "),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","left").attr("startOffset","0%").attr("font-size",r).text("ligging"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","75%").attr("font-size",r).text("Buik ligging");var d=i.selectAll(".arc").data(l(u)).enter().append("g").attr("class","arc");for(d.append("path").attr("d",c).attr("fill",function(t,e){return a(o[e])}).on("click",this._handleClick),s=0;s<this.NR_ELEMENTS;s++)o[s]=0;this.dataForColering=o,this.width=200,this.height=200,this.arc=d,this.path=c,this.color=a;var p=e.append("g").attr("transform","translate(100,100)").append("g");p.append("svg:image").attr("id","feet").attr("width",100).attr("height",100).attr("x",-50).attr("y",-50).attr("xlink:href","./img/icons/feet2.png"),p.attr("transform","rotate(0)")}_handleClick(){this.doUpdate()}doUpdate(t){var e=this.color,n=this.dataForColering,r=t[0],i=r/this.degrees;if(i=Math.floor(i),-1==this.alarm)n[i]=n[i]+1;else{for(var o=0;o<this.NR_ELEMENTS;o++)n[o]=0;n[i]=1}e=yi().range(["#fff5f0","#fff4ef","#fff4ee","#fff3ed","#fff2ec","#fff2eb","#fff1ea","#fff0e9","#fff0e8","#ffefe7","#ffeee6","#ffeee6","#ffede5","#ffece4","#ffece3","#ffebe2","#feeae1","#fee9e0","#fee9de","#fee8dd","#fee7dc","#fee6db","#fee6da","#fee5d9","#fee4d8","#fee3d7","#fee2d6","#fee2d5","#fee1d4","#fee0d2","#fedfd1","#feded0","#feddcf","#fedccd","#fedbcc","#fedacb","#fed9ca","#fed8c8","#fed7c7","#fdd6c6","#fdd5c4","#fdd4c3","#fdd3c1","#fdd2c0","#fdd1bf","#fdd0bd","#fdcfbc","#fdceba","#fdcdb9","#fdccb7","#fdcbb6","#fdc9b4","#fdc8b3","#fdc7b2","#fdc6b0","#fdc5af","#fdc4ad","#fdc2ac","#fdc1aa","#fdc0a8","#fcbfa7","#fcbea5","#fcbca4","#fcbba2","#fcbaa1","#fcb99f","#fcb89e","#fcb69c","#fcb59b","#fcb499","#fcb398","#fcb196","#fcb095","#fcaf94","#fcae92","#fcac91","#fcab8f","#fcaa8e","#fca98c","#fca78b","#fca689","#fca588","#fca486","#fca285","#fca183","#fca082","#fc9e81","#fc9d7f","#fc9c7e","#fc9b7c","#fc997b","#fc987a","#fc9778","#fc9677","#fc9475","#fc9374","#fc9273","#fc9071","#fc8f70","#fc8e6f","#fc8d6d","#fc8b6c","#fc8a6b","#fc8969","#fc8868","#fc8667","#fc8565","#fc8464","#fb8263","#fb8162","#fb8060","#fb7f5f","#fb7d5e","#fb7c5d","#fb7b5b","#fb795a","#fb7859","#fb7758","#fb7657","#fb7455","#fa7354","#fa7253","#fa7052","#fa6f51","#fa6e50","#fa6c4e","#f96b4d","#f96a4c","#f9684b","#f9674a","#f96549","#f86448","#f86347","#f86146","#f86045","#f75e44","#f75d43","#f75c42","#f65a41","#f65940","#f6573f","#f5563e","#f5553d","#f4533c","#f4523b","#f4503a","#f34f39","#f34e38","#f24c37","#f24b37","#f14936","#f14835","#f04734","#ef4533","#ef4433","#ee4332","#ed4131","#ed4030","#ec3f2f","#eb3d2f","#eb3c2e","#ea3b2d","#e93a2d","#e8382c","#e7372b","#e6362b","#e6352a","#e5342a","#e43229","#e33128","#e23028","#e12f27","#e02e27","#df2d26","#de2c26","#dd2b25","#dc2a25","#db2924","#da2824","#d92723","#d72623","#d62522","#d52422","#d42321","#d32221","#d22121","#d12020","#d01f20","#ce1f1f","#cd1e1f","#cc1d1f","#cb1d1e","#ca1c1e","#c91b1e","#c71b1d","#c61a1d","#c5191d","#c4191c","#c3181c","#c2181c","#c0171b","#bf171b","#be161b","#bd161a","#bb151a","#ba151a","#b91419","#b81419","#b61419","#b51319","#b41318","#b21218","#b11218","#b01218","#ae1117","#ad1117","#ac1117","#aa1017","#a91016","#a71016","#a60f16","#a40f16","#a30e15","#a10e15","#a00e15","#9e0d15","#9c0d14","#9b0c14","#990c14","#970c14","#960b13","#940b13","#920a13","#900a13","#8f0a12","#8d0912","#8b0912","#890812","#870811","#860711","#840711","#820711","#800610","#7e0610","#7c0510","#7a0510","#78040f","#76040f","#75030f","#73030f","#71020e","#6f020e","#6d010e","#6b010e","#69000d","#67000d"]),-1==this.alarm?e.domain([Nt(n,function(t){return t}),14400/this.interval]):e.domain([Nt(n,function(t){return t}),240/this.alarm]),ve("#chart").selectAll("path").attr("fill",function(t,r){return e(n[r])}),ve("#chart").select("#feet").attr("transform","rotate("+r+")")}});customElements.define("vaadin-lumo-styles",class extends HTMLElement{static get version(){return"1.5.0"}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ba,wa=null,Ea=window.HTMLImports&&window.HTMLImports.whenReady||null;function Sa(t){requestAnimationFrame(function(){Ea?Ea(t):(wa||(wa=new Promise(t=>{ba=t}),"complete"===document.readyState?ba():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&ba()})),wa.then(function(){t&&t()}))})}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Aa="__seenByShadyCSS",Na="__shadyCSSCachedStyle";let Ta=null,Oa=null;class Pa{constructor(){this.customStyles=[],this.enqueued=!1,Sa(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&Oa&&(this.enqueued=!0,Sa(Oa))}addCustomStyle(t){t[Aa]||(t[Aa]=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[Na])return t[Na];let e;return e=t.getStyle?t.getStyle():t}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const n=t[e];if(n[Na])continue;const r=this.getStyleForCustomStyle(n);if(r){const t=r.__appliedElement||r;Ta&&Ta(t),n[Na]=t}}return t}}Pa.prototype.addCustomStyle=Pa.prototype.addCustomStyle,Pa.prototype.getStyleForCustomStyle=Pa.prototype.getStyleForCustomStyle,Pa.prototype.processStyles=Pa.prototype.processStyles,Object.defineProperties(Pa.prototype,{transformCallback:{get:()=>Ta,set(t){Ta=t}},validateCallback:{get:()=>Oa,set(t){let e=!1;Oa||(e=!0),Oa=t,e&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Ca=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,xa=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,Ia=/@media\s(.*)/;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Ra(t,e){for(let n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n])}function Ba(t,e){const n=window.getComputedStyle(t).getPropertyValue(e);return n?n.trim():""}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Da=!(window.ShadyDOM&&window.ShadyDOM.inUse);let Ma,Ua;function ka(t){Ma=(!t||!t.shimcssproperties)&&(Da||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Ua=window.ShadyCSS.cssBuild);const La=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Ma=window.ShadyCSS.nativeCss:window.ShadyCSS?(ka(window.ShadyCSS),window.ShadyCSS=void 0):ka(window.WebComponents&&window.WebComponents.flags);const Fa=Ma,ja=new Pa;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,n){},prepareTemplateDom(t,e){},prepareTemplateStyles(t,e,n){},styleSubtree(t,e){ja.processStyles(),Ra(t,e)},styleElement(t){ja.processStyles()},styleDocument(t){ja.processStyles(),Ra(document.body,t)},getComputedStyleValue:(t,e)=>Ba(t,e),flushCustomStyles(){},nativeCss:Fa,nativeShadow:Da,cssBuild:Ua,disableRuntime:La}),window.ShadyCSS.CustomStyleInterface=ja,
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(t,e){return t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let $a,za,Ya=/(url\()([^)]*)(\))/g,Va=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function qa(t,e){if(t&&Va.test(t))return t;if("//"===t)return t;if(void 0===$a){$a=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",$a="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),$a)try{return new URL(t,e).href}catch(e){return t}return za||((za=document.implementation.createHTMLDocument("temp")).base=za.createElement("base"),za.head.appendChild(za.base),za.anchor=za.createElement("a"),za.body.appendChild(za.anchor)),za.base.href=e,za.anchor.href=t,za.anchor.href||t}function Ha(t,e){return t.replace(Ya,function(t,n,r,i){return n+"'"+qa(r.replace(/["']/g,""),e)+"'"+i})}function Wa(t){return t.substring(0,t.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ja=!window.ShadyDOM;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback;let Ka=Wa(document.baseURI||window.location.href);let Ga=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let Xa=!1;let Za=!1;let Qa=!1;let tu=!1;let eu=!1;let nu=!0;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ru={},iu={};function ou(t,e){ru[t]=iu[t.toLowerCase()]=e}function su(t){return ru[t]||iu[t.toLowerCase()]}class au extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let n=su(t);return n&&e?n.querySelector(e):n}return null}attributeChangedCallback(t,e,n,r){e!==n&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=qa(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=Wa(e)}return this.__assetpath}register(t){if(t=t||this.id){if(Za&&void 0!==su(t))throw ou(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,ou(t,this),function(t){t.querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}(this)}}}au.prototype.modules=ru,customElements.define("dom-module",au);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const uu="link[rel=import][type~=css]",lu="include",cu="shady-unscoped";function hu(t){return au.import(t)}function fu(t){const e=Ha((t.body?t.body:t).textContent,t.baseURI),n=document.createElement("style");return n.textContent=e,n}function du(t){const e=t.trim().split(/\s+/),n=[];for(let t=0;t<e.length;t++)n.push(...pu(e[t]));return n}function pu(t){const e=hu(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...yu(e));const n=e.querySelector("template");n&&t.push(..._u(n,e.assetpath)),e._styles=t}return e._styles}function _u(t,e){if(!t._styles){const n=[],r=t.content.querySelectorAll("style");for(let t=0;t<r.length;t++){let i=r[t],o=i.getAttribute(lu);o&&n.push(...du(o).filter(function(t,e,n){return n.indexOf(t)===e})),e&&(i.textContent=Ha(i.textContent,e)),n.push(i)}t._styles=n}return t._styles}function yu(t){const e=[],n=t.querySelectorAll(uu);for(let t=0;t<n.length;t++){let r=n[t];if(r.import){const t=r.import,n=r.hasAttribute(cu);if(n&&!t._unscopedStyle){const e=fu(t);e.setAttribute(cu,""),t._unscopedStyle=e}else t._style||(t._style=fu(t));e.push(n?t._unscopedStyle:t._style)}}return e}function mu(t){let e=hu(t);if(e&&void 0===e._cssText){let t=gu(e),n=e.querySelector("template");n&&(t+=function(t,e){let n="";const r=_u(t,e);for(let t=0;t<r.length;t++){let e=r[t];e.parentNode&&e.parentNode.removeChild(e),n+=e.textContent}return n}(n,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function gu(t){let e="",n=yu(t);for(let t=0;t<n.length;t++)e+=n[t].textContent;return e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const vu="include",bu=window.ShadyCSS.CustomStyleInterface;window.customElements.define("custom-style",class extends HTMLElement{constructor(){super(),this._style=null,bu.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute(vu);return e&&(t.removeAttribute(vu),t.textContent=function(t){let e=t.trim().split(/\s+/),n="";for(let t=0;t<e.length;t++)n+=mu(e[t]);return n}(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}});const wu=document.createElement("template");wu.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id="lumo-color">\n  <template>\n    <style>\n      [theme~="dark"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~="dark"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id="lumo-color-legacy">\n  <template>\n    <style include="lumo-color">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(wu.content);const Eu=document.createElement("template");Eu.innerHTML="<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>",document.head.appendChild(Eu.content);const Su=document.createElement("template");Su.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>",document.head.appendChild(Su.content);const Au=document.createElement("template");Au.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>",document.head.appendChild(Au.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Nu{constructor(t){this.value=t.toString()}toString(){return this.value}}function Tu(t){if(t instanceof Nu)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}const Ou=function(t,...e){const n=document.createElement("template");return n.innerHTML=e.reduce((e,n,r)=>e+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof Nu)return Tu(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}(n)+t[r+1],t[0]),n},Pu=Ou`<dom-module id="lumo-split-layout" theme-for="vaadin-split-layout">
  <template>
    <style>
      [part="splitter"] {
        min-width: var(--lumo-space-s);
        min-height: var(--lumo-space-s);
        background-color: var(--lumo-contrast-5pct);
        transition: 0.1s background-color;
      }

      [part="handle"] {
        display: flex;
        align-items: center;
        justify-content: center;
        width: var(--lumo-size-m);
        height: var(--lumo-size-m);
      }

      [part="handle"]::after {
        content: "";
        display: block;
        width: 4px;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-30pct);
        transition: 0.1s opacity, 0.1s background-color;
      }

      :host([orientation="vertical"]) [part="handle"]::after {
        width: 100%;
        height: 4px;
      }

      /* Hover style */

      [part="splitter"]:hover [part="handle"]::after {
        background-color: var(--lumo-contrast-40pct);
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        [part="splitter"]:hover [part="handle"]::after {
          background-color: var(--lumo-contrast-30pct);
        }
      }

      /* Active style */

      [part="splitter"]:active [part="handle"]::after {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Small/minimal */

      :host([theme~="small"]) > [part="splitter"] {
        border-left: 1px solid var(--lumo-contrast-10pct);
        border-top: 1px solid var(--lumo-contrast-10pct);
      }

      :host([theme~="small"]) > [part="splitter"],
      :host([theme~="minimal"]) > [part="splitter"] {
        min-width: 0;
        min-height: 0;
        background-color: transparent;
      }

      :host([theme~="small"]) > [part="splitter"]::after,
      :host([theme~="minimal"]) > [part="splitter"]::after {
        content: "";
        position: absolute;
        top: -4px;
        right: -4px;
        bottom: -4px;
        left: -4px;
      }

      :host([theme~="small"]) > [part="splitter"] > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"] > [part="handle"]::after {
        opacity: 0;
      }

      :host([theme~="small"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="small"]) > [part="splitter"]:active > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:active > [part="handle"]::after {
        opacity: 1;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild(Pu.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Cu=0;function xu(){}xu.prototype.__mixinApplications,xu.prototype.__mixinSet;const Iu=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let n=Cu++;return function(r){let i=r.__mixinSet;if(i&&i[n])return r;let o=e,s=o.get(r);s||(s=t(r),o.set(r,s));let a=Object.create(s.__mixinSet||i||null);return a[n]=!0,s.__mixinSet=a,s}},Ru=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Bu(t){return t.indexOf(".")>=0}function Du(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function Mu(t,e){return 0===t.indexOf(e+".")}function Uu(t,e){return 0===e.indexOf(t+".")}function ku(t,e,n){return e+n.slice(t.length)}function Lu(t){if(Array.isArray(t)){let e=[];for(let n=0;n<t.length;n++){let r=t[n].toString().split(".");for(let t=0;t<r.length;t++)e.push(r[t])}return e.join(".")}return t}function Fu(t){return Array.isArray(t)?Lu(t).split("."):t.toString().split(".")}function ju(t,e,n){let r=t,i=Fu(e);for(let t=0;t<i.length;t++){if(!r)return;r=r[i[t]]}return n&&(n.path=i.join(".")),r}function $u(t,e,n){let r=t,i=Fu(e),o=i[i.length-1];if(i.length>1){for(let t=0;t<i.length-1;t++){if(!(r=r[i[t]]))return}r[o]=n}else r[e]=n;return i.join(".")}const zu={},Yu=/-[a-z]/g,Vu=/([A-Z])/g;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function qu(t){return zu[t]||(zu[t]=t.indexOf("-")<0?t:t.replace(Yu,t=>t[1].toUpperCase()))}function Hu(t){return zu[t]||(zu[t]=t.replace(Vu,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Wu=0,Ju=0,Ku=[],Gu=0,Xu=document.createTextNode("");new window.MutationObserver(function(){const t=Ku.length;for(let e=0;e<t;e++){let t=Ku[e];if(t)try{t()}catch(t){setTimeout(()=>{throw t})}}Ku.splice(0,t),Ju+=t}).observe(Xu,{characterData:!0});const Zu={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},Qu={run:t=>window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16),cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},tl={run:t=>(Xu.textContent=Gu++,Ku.push(t),Wu++),cancel(t){const e=t-Ju;if(e>=0){if(!Ku[e])throw new Error("invalid async handle: "+t);Ku[e]=null}}},el=tl,nl=Iu(t=>{return class extends t{static createProperties(t){const e=this.prototype;for(let n in t)n in e||e._createPropertyAccessor(n)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){if(this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){const e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,n){let r=this.__data[t],i=this._shouldPropertyChange(t,e,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=r),this.__data[t]=e,this.__dataPending[t]=e),i}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,el.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const t=this.__data,e=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,e,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,n))}_shouldPropertiesChange(t,e,n){return Boolean(e)}_propertiesChanged(t,e,n){}_shouldPropertyChange(t,e,n){return n!==e&&(n==n||e==e)}attributeChangedCallback(t,e,n,r){e!==n&&this._attributeToProperty(t,n),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,n,r)}_attributeToProperty(t,e,n){if(!this.__serializing){const r=this.__dataAttributes,i=r&&r[t]||t;this[i]=this._deserializeValue(e,n||this.constructor.typeForProperty(i))}}_propertyToAttribute(t,e,n){this.__serializing=!0,n=arguments.length<3?this[t]:n,this._valueToNodeAttribute(this,n,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,n){const r=this._serializeValue(e);"class"!==n&&"name"!==n&&"slot"!==n||(t=Ru(t)),void 0===r?t.removeAttribute(n):t.setAttribute(n,r)}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}}),rl={};let il=HTMLElement.prototype;for(;il;){let t=Object.getOwnPropertyNames(il);for(let e=0;e<t.length;e++)rl[t[e]]=!0;il=Object.getPrototypeOf(il)}const ol=Iu(t=>{const e=nl(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor(qu(t[e]))}static attributeNameForProperty(t){return Hu(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const n=this;n.hasAttribute(t)||this._valueToNodeAttribute(n,e,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,e){let n;switch(e){case Object:try{n=JSON.parse(t)}catch(e){n=t}break;case Array:try{n=JSON.parse(t)}catch(e){n=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:n=isNaN(t)?String(t):Number(t),n=new Date(n);break;default:n=super._deserializeValue(t,e)}return n}_definePropertyAccessor(t,e){!function(t,e){if(!rl[e]){let n=t[e];void 0!==n&&(t.__data?t._setPendingProperty(e,n):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=n))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}}),sl={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let al=!1,ul=!1;function ll(t){(function(){if(!al){al=!0;const t=document.createElement("textarea");t.placeholder="a",ul=t.placeholder===t.textContent}return ul})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}function cl(t){let e=t.getAttribute("is");if(e&&sl[e]){let n=t;for(n.removeAttribute("is"),t=n.ownerDocument.createElement(e),n.parentNode.replaceChild(t,n),t.appendChild(n);n.attributes.length;)t.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return t}function hl(t,e){let n=e.parentInfo&&hl(t,e.parentInfo);if(!n)return t;for(let t=n.firstChild,r=0;t;t=t.nextSibling)if(e.parentIndex===r++)return t}function fl(t,e,n,r){r.id&&(e[r.id]=n)}function dl(t,e,n){if(n.events&&n.events.length)for(let r,i=0,o=n.events;i<o.length&&(r=o[i]);i++)t._addMethodEventListenerToNode(e,r.name,r.value,t)}function pl(t,e,n){n.templateInfo&&(e._templateInfo=n.templateInfo)}const _l=Iu(t=>{return class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let n=t._templateInfo={};n.nodeInfoList=[],n.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,n,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,n){return this._parseTemplateNode(t.content,e,n)}static _parseTemplateNode(t,e,n){let r=!1,i=t;return"template"!=i.localName||i.hasAttribute("preserve-content")?"slot"===i.localName&&(e.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(i,e,n)||r,ll(i),i.firstChild&&this._parseTemplateChildNodes(i,e,n),i.hasAttributes&&i.hasAttributes()&&(r=this._parseTemplateNodeAttributes(i,e,n)||r),r}static _parseTemplateChildNodes(t,e,n){if("script"!==t.localName&&"style"!==t.localName)for(let r,i=t.firstChild,o=0;i;i=r){if("template"==i.localName&&(i=cl(i)),r=i.nextSibling,i.nodeType===Node.TEXT_NODE){let n=r;for(;n&&n.nodeType===Node.TEXT_NODE;)i.textContent+=n.textContent,r=n.nextSibling,t.removeChild(n),n=r;if(e.stripWhiteSpace&&!i.textContent.trim()){t.removeChild(i);continue}}let s={parentIndex:o,parentInfo:n};this._parseTemplateNode(i,e,s)&&(s.infoIndex=e.nodeInfoList.push(s)-1),i.parentNode&&o++}}static _parseTemplateNestedTemplate(t,e,n){let r=t,i=this._parseTemplate(r,e);return(i.content=r.content.ownerDocument.createDocumentFragment()).appendChild(r.content),n.templateInfo=i,!0}static _parseTemplateNodeAttributes(t,e,n){let r=!1,i=Array.from(t.attributes);for(let o,s=i.length-1;o=i[s];s--)r=this._parseTemplateNodeAttribute(t,e,n,o.name,o.value)||r;return r}static _parseTemplateNodeAttribute(t,e,n,r,i){return"on-"===r.slice(0,3)?(t.removeAttribute(r),n.events=n.events||[],n.events.push({name:r.slice(3),value:i}),!0):"id"===r&&(n.id=i,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let e=this.constructor._parseTemplate(t),n=e.nodeInfoList,r=e.content||t.content,i=document.importNode(r,!0);i.__noInsertionPoint=!e.hasInsertionPoint;let o=i.nodeList=new Array(n.length);i.$={};for(let t,e=0,r=n.length;e<r&&(t=n[e]);e++){let n=o[e]=hl(i,t);fl(0,i.$,n,t),pl(0,n,t),dl(this,n,t)}return i=i}_addMethodEventListenerToNode(t,e,n,r){let i=function(t,e,n){return t=t._methodHost||t,function(e){t[n]?t[n](e,e.detail):console.warn("listener method `"+n+"` not defined")}}(r=r||t,0,n);return this._addEventListenerToNode(t,e,i),i}_addEventListenerToNode(t,e,n){t.addEventListener(e,n)}_removeEventListenerFromNode(t,e,n){t.removeEventListener(e,n)}}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let yl=0;const ml={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},gl=/[A-Z]/;function vl(t,e){let n=t[e];if(n){if(!t.hasOwnProperty(e)){n=t[e]=Object.create(t[e]);for(let t in n){let e=n[t],r=n[t]=Array(e.length);for(let t=0;t<e.length;t++)r[t]=e[t]}}}else n=t[e]={};return n}function bl(t,e,n,r,i,o){if(e){let s=!1,a=yl++;for(let u in n)wl(t,e,a,u,n,r,i,o)&&(s=!0);return s}return!1}function wl(t,e,n,r,i,o,s,a){let u=!1,l=e[s?Du(r):r];if(l)for(let e,c=0,h=l.length;c<h&&(e=l[c]);c++)e.info&&e.info.lastRun===n||s&&!El(r,e.trigger)||(e.info&&(e.info.lastRun=n),e.fn(t,r,i,o,e.info,s,a),u=!0);return u}function El(t,e){if(e){let n=e.name;return n==t||!(!e.structured||!Mu(n,t))||!(!e.wildcard||!Uu(n,t))}return!0}function Sl(t,e,n,r,i){let o="string"==typeof i.method?t[i.method]:i.method,s=i.property;o?o.call(t,t.__data[s],r[s]):i.dynamicFn||console.warn("observer method `"+i.method+"` not defined")}function Al(t,e,n){let r=Du(e);if(r!==e){return Nl(t,Hu(r)+"-changed",n[e],e),!0}return!1}function Nl(t,e,n,r){let i={value:n,queueProperty:!0};r&&(i.path=r),Ru(t).dispatchEvent(new CustomEvent(e,{detail:i}))}function Tl(t,e,n,r,i,o){let s=(o?Du(e):e)!=e?e:null,a=s?ju(t,s):t.__data[e];s&&void 0===a&&(a=n[e]),Nl(t,i.eventName,a,s)}function Ol(t,e,n,r,i){let o=t.__data[e];Ga&&(o=Ga(o,i.attrName,"attribute",t)),t._propertyToAttribute(e,i.attrName,o)}function Pl(t,e,n,r,i){let o=Ml(t,e,n,r,i),s=i.methodInfo;t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,o,!0):t[s]=o}function Cl(t,e,n,r,i,o,s){n.bindings=n.bindings||[];let a={kind:r,target:i,parts:o,literal:s,isCompound:1!==o.length};if(n.bindings.push(a),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(a)){let{event:t,negate:e}=a.parts[0];a.listenerEvent=t||Hu(i)+"-changed",a.listenerNegate=e}let u=e.nodeInfoList.length;for(let n=0;n<a.parts.length;n++){let r=a.parts[n];r.compoundIndex=n,xl(t,e,a,r,u)}}function xl(t,e,n,r,i){if(!r.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let o=r.dependencies,s={index:i,binding:n,part:r,evaluator:t};for(let n=0;n<o.length;n++){let r=o[n];"string"==typeof r&&((r=jl(r)).wildcard=!0),t._addTemplatePropertyEffect(e,r.rootProperty,{fn:Il,info:s,trigger:r})}}}function Il(t,e,n,r,i,o,s){let a=s[i.index],u=i.binding,l=i.part;if(o&&l.source&&e.length>l.source.length&&"property"==u.kind&&!u.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[u.target]){let r=n[e];e=ku(l.source,u.target,e),a._setPendingPropertyOrPath(e,r,!1,!0)&&t._enqueueClient(a)}else{!function(t,e,n,r,i){i=function(t,e,n,r){if(n.isCompound){let i=t.__dataCompoundStorage[n.target];i[r.compoundIndex]=e,e=i.join("")}return"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=void 0==e?"":e)),e}(e,i,n,r),Ga&&(i=Ga(i,n.target,n.kind,e));if("attribute"==n.kind)t._valueToNodeAttribute(e,i,n.target);else{let r=n.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[r]?e[ml.READ_ONLY]&&e[ml.READ_ONLY][r]||e._setPendingProperty(r,i)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,r,i)}}(t,a,u,l,i.evaluator._evaluateBinding(t,l,e,n,r,o))}}function Rl(t,e){if(e.isCompound){let n=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),r=e.parts,i=new Array(r.length);for(let t=0;t<r.length;t++)i[t]=r[t].literal;let o=e.target;n[o]=i,e.literal&&"property"==e.kind&&("className"===o&&(t=Ru(t)),t[o]=e.literal)}}function Bl(t,e,n){if(n.listenerEvent){let r=n.parts[0];t.addEventListener(n.listenerEvent,function(t){!function(t,e,n,r,i){let o,s=t.detail,a=s&&s.path;a?(r=ku(n,r,a),o=s&&s.value):o=t.currentTarget[n],o=i?!o:o,e[ml.READ_ONLY]&&e[ml.READ_ONLY][r]||!e._setPendingPropertyOrPath(r,o,!0,Boolean(a))||s&&s.queueProperty||e._invalidateProperties()}(t,e,n.target,r.source,r.negate)})}}function Dl(t,e,n,r,i,o){o=e.static||o&&("object"!=typeof o||o[e.methodName]);let s={methodName:e.methodName,args:e.args,methodInfo:i,dynamicFn:o};for(let i,o=0;o<e.args.length&&(i=e.args[o]);o++)i.literal||t._addPropertyEffect(i.rootProperty,n,{fn:r,info:s,trigger:i});o&&t._addPropertyEffect(e.methodName,n,{fn:r,info:s})}function Ml(t,e,n,r,i){let o=t._methodHost||t,s=o[i.methodName];if(s){let r=t._marshalArgs(i.args,e,n);return s.apply(o,r)}i.dynamicFn||console.warn("method `"+i.methodName+"` not defined")}const Ul=[],kl=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function Ll(t){let e="";for(let n=0;n<t.length;n++){e+=t[n].literal||""}return e}function Fl(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:Ul};if(e[2].trim()){return function(t,e){return e.args=t.map(function(t){let n=jl(t);return n.literal||(e.static=!1),n},this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function jl(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:e,value:"",literal:!1},r=e[0];switch("-"===r&&(r=e[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':n.value=e.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(e),n.literal=!0}return n.literal||(n.rootProperty=Du(e),n.structured=Bu(e),n.structured&&(n.wildcard=".*"==e.slice(-2),n.wildcard&&(n.name=e.slice(0,-2)))),n}function $l(t,e,n){let r=ju(t,n);return void 0===r&&(r=e[n]),r}function zl(t,e,n,r){t.notifyPath(n+".splices",{indexSplices:r}),t.notifyPath(n+".length",e.length)}function Yl(t,e,n,r,i,o){zl(t,e,n,[{index:r,addedCount:i,removed:o,object:e,type:"splice"}])}const Vl=Iu(t=>{const e=_l(ol(t));return class extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return ml}_initializeProperties(){super._initializeProperties(),ql.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[ml.READ_ONLY];for(let n in t)e&&e[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=t[n])}_addPropertyEffect(t,e,n){this._createPropertyAccessor(t,e==ml.READ_ONLY);let r=vl(this,e)[t];r||(r=this[e][t]=[]),r.push(n)}_removePropertyEffect(t,e,n){let r=vl(this,e)[t],i=r.indexOf(n);i>=0&&r.splice(i,1)}_hasPropertyEffect(t,e){let n=this[e];return Boolean(n&&n[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,ml.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,ml.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,ml.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,ml.COMPUTE)}_setPendingPropertyOrPath(t,e,n,r){if(r||Du(Array.isArray(t)?t[0]:t)!==t){if(!r){let n=ju(this,t);if(!(t=$u(this,t,e))||!super._shouldPropertyChange(t,e,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,n))return function(t,e,n){let r=t.__dataLinkedPaths;if(r){let i;for(let o in r){let s=r[o];Uu(o,e)?(i=ku(o,s,e),t._setPendingPropertyOrPath(i,n,!0,!0)):Uu(s,e)&&(i=ku(s,o,e),t._setPendingPropertyOrPath(i,n,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,n);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,n){n===t[e]&&"object"!=typeof n||("className"===e&&(t=Ru(t)),t[e]=n)}_setPendingProperty(t,e,n){let r=this.__dataHasPaths&&Bu(t),i=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,i[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),r?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(r||this[ml.NOTIFY]&&this[ml.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=n),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let n=t[e];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let n in t)!e&&this[ml.READ_ONLY]&&this[ml.READ_ONLY][n]||this._setPendingPropertyOrPath(n,t[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,n){let r=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,e,n,r){let i=t[ml.COMPUTE];if(i){let o=e;for(;bl(t,i,o,n,r);)Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),o=t.__dataPending,t.__dataPending=null}}(this,e,n,r);let i=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(e,n,r),this._flushClients(),bl(this,this[ml.REFLECT],e,n,r),bl(this,this[ml.OBSERVE],e,n,r),i&&function(t,e,n,r,i){let o,s,a=t[ml.NOTIFY],u=yl++;for(let s in e)e[s]&&(a&&wl(t,a,u,s,n,r,i)?o=!0:i&&Al(t,s,n)&&(o=!0));o&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,i,e,n,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,n){this[ml.PROPAGATE]&&bl(this,this[ml.PROPAGATE],t,e,n);let r=this.__templateInfo;for(;r;)bl(this,r.propertyEffects,t,e,n,r.nodeList),r=r.nextTemplateInfo}linkPaths(t,e){t=Lu(t),e=Lu(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=Lu(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let n={path:""};zl(this,ju(this,t,n),n.path,e)}get(t,e){return ju(e||this,t)}set(t,e,n){n?$u(n,t,e):this[ml.READ_ONLY]&&this[ml.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t,...e){let n={path:""},r=ju(this,t,n),i=r.length,o=r.push(...e);return e.length&&Yl(this,r,n.path,i,e.length,[]),o}pop(t){let e={path:""},n=ju(this,t,e),r=Boolean(n.length),i=n.pop();return r&&Yl(this,n,e.path,n.length,0,[i]),i}splice(t,e,n,...r){let i,o={path:""},s=ju(this,t,o);return e<0?e=s.length-Math.floor(-e):e&&(e=Math.floor(e)),i=2===arguments.length?s.splice(e):s.splice(e,n,...r),(r.length||i.length)&&Yl(this,s,o.path,e,r.length,i),i}shift(t){let e={path:""},n=ju(this,t,e),r=Boolean(n.length),i=n.shift();return r&&Yl(this,n,e.path,0,0,[i]),i}unshift(t,...e){let n={path:""},r=ju(this,t,n),i=r.unshift(...e);return e.length&&Yl(this,r,n.path,0,e.length,[]),i}notifyPath(t,e){let n;if(1==arguments.length){let r={path:""};e=ju(this,t,r),n=r.path}else n=Array.isArray(t)?Lu(t):t;this._setPendingPropertyOrPath(n,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){this._addPropertyEffect(t,ml.READ_ONLY),e&&(this["_set"+function(t){return t[0].toUpperCase()+t.substring(1)}(t)]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,n){let r={property:t,method:e,dynamicFn:Boolean(n)};this._addPropertyEffect(t,ml.OBSERVE,{fn:Sl,info:r,trigger:{name:t}}),n&&this._addPropertyEffect(e,ml.OBSERVE,{fn:Sl,info:r,trigger:{name:e}})}_createMethodObserver(t,e){let n=Fl(t);if(!n)throw new Error("Malformed observer expression '"+t+"'");Dl(this,n,ml.OBSERVE,Ml,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,ml.NOTIFY,{fn:Tl,info:{eventName:Hu(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,ml.REFLECT,{fn:Ol,info:{attrName:e}})}_createComputedProperty(t,e,n){let r=Fl(e);if(!r)throw new Error("Malformed computed expression '"+e+"'");Dl(this,r,ml.COMPUTE,Pl,t,n)}_marshalArgs(t,e,n){const r=this.__data,i=[];for(let o=0,s=t.length;o<s;o++){let{name:s,structured:a,wildcard:u,value:l,literal:c}=t[o];if(!c)if(u){const t=Uu(s,e),i=$l(r,n,t?e:s);l={path:t?e:s,value:i,base:t?ju(r,s):i}}else l=a?$l(r,n,s):r[s];i[o]=l}return i}static addPropertyEffect(t,e,n){this.prototype._addPropertyEffect(t,e,n)}static createPropertyObserver(t,e,n){this.prototype._createPropertyObserver(t,e,n)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,n){this.prototype._createComputedProperty(t,e,n)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let n=this.constructor._parseTemplate(t),r=this.__templateInfo==n;if(!r)for(let t in n.propertyEffects)this._createPropertyAccessor(t);if(e&&((n=Object.create(n)).wasPreBound=r,!r&&this.__templateInfo)){let t=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=t.nextTemplateInfo=n,n.previousTemplateInfo=t,n}return this.__templateInfo=n}static _addTemplatePropertyEffect(t,e,n){(t.hostProps=t.hostProps||{})[e]=!0;let r=t.propertyEffects=t.propertyEffects||{};(r[e]=r[e]||[]).push(n)}_stampTemplate(t){ql.beginHosting(this);let e=super._stampTemplate(t);ql.endHosting(this);let n=this._bindTemplate(t,!0);if(n.nodeList=e.nodeList,!n.wasPreBound){let t=n.childNodes=[];for(let n=e.firstChild;n;n=n.nextSibling)t.push(n)}return e.templateInfo=n,function(t,e){let{nodeList:n,nodeInfoList:r}=e;if(r.length)for(let e=0;e<r.length;e++){let i=r[e],o=n[e],s=i.bindings;if(s)for(let e=0;e<s.length;e++){let n=s[e];Rl(o,n),Bl(o,t,n)}o.__dataHost=t}}(this,n),this.__dataReady&&bl(this,n.propertyEffects,this.__data,null,!1,n.nodeList),e}_removeBoundDom(t){let e=t.templateInfo;e.previousTemplateInfo&&(e.previousTemplateInfo.nextTemplateInfo=e.nextTemplateInfo),e.nextTemplateInfo&&(e.nextTemplateInfo.previousTemplateInfo=e.previousTemplateInfo),this.__templateInfoLast==e&&(this.__templateInfoLast=e.previousTemplateInfo),e.previousTemplateInfo=e.nextTemplateInfo=null;let n=e.childNodes;for(let t=0;t<n.length;t++){let e=n[t];e.parentNode.removeChild(e)}}static _parseTemplateNode(t,n,r){let i=e._parseTemplateNode.call(this,t,n,r);if(t.nodeType===Node.TEXT_NODE){let e=this._parseBindings(t.textContent,n);e&&(t.textContent=Ll(e)||" ",Cl(this,n,r,"text","textContent",e),i=!0)}return i}static _parseTemplateNodeAttribute(t,n,r,i,o){let s=this._parseBindings(o,n);if(s){let e=i,o="property";gl.test(i)?o="attribute":"$"==i[i.length-1]&&(i=i.slice(0,-1),o="attribute");let a=Ll(s);return a&&"attribute"==o&&("class"==i&&t.hasAttribute("class")&&(a+=" "+t.getAttribute(i)),t.setAttribute(i,a)),"input"===t.localName&&"value"===e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===o&&(i=qu(i)),Cl(this,n,r,o,i,s,a),!0}return e._parseTemplateNodeAttribute.call(this,t,n,r,i,o)}static _parseTemplateNestedTemplate(t,n,r){let i=e._parseTemplateNestedTemplate.call(this,t,n,r),o=r.templateInfo.hostProps;for(let t in o)Cl(this,n,r,"property","_host_"+t,[{mode:"{",source:t,dependencies:[t]}]);return i}static _parseBindings(t,e){let n,r=[],i=0;for(;null!==(n=kl.exec(t));){n.index>i&&r.push({literal:t.slice(i,n.index)});let o=n[1][0],s=Boolean(n[2]),a=n[3].trim(),u=!1,l="",c=-1;"{"==o&&(c=a.indexOf("::"))>0&&(l=a.substring(c+2),a=a.substring(0,c),u=!0);let h=Fl(a),f=[];if(h){let{args:t,methodName:n}=h;for(let e=0;e<t.length;e++){let n=t[e];n.literal||f.push(n)}let r=e.dynamicFns;(r&&r[n]||h.static)&&(f.push(n),h.dynamicFn=!0)}else f.push(a);r.push({source:a,mode:o,negate:s,customEvent:u,signature:h,dependencies:f,event:l}),i=kl.lastIndex}if(i&&i<t.length){let e=t.substring(i);e&&r.push({literal:e})}return r.length?r:null}static _evaluateBinding(t,e,n,r,i,o){let s;return s=e.signature?Ml(t,n,r,0,e.signature):n!=e.source?ju(t,e.source):o&&Bu(n)?ju(t,n):t.__data[n],e.negate&&(s=!s),s}}});const ql=new class{constructor(){this.stack=[]}registerHost(t){this.stack.length&&this.stack[this.stack.length-1]._enqueueClient(t)}beginHosting(t){this.stack.push(t)}endHosting(t){let e=this.stack.length;e&&this.stack[e-1]==t&&this.stack.pop()}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Hl=[];const Wl=Iu(t=>{const e=nl(t);function n(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof i?e:null}function r(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const n=t.properties;n&&(e=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const e={};for(let n in t){const r=t[n];e[n]="function"==typeof r?{type:r}:r}return e}(n))}t.__ownProperties=e}return t.__ownProperties}class i extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){!function(t){Hl.push(t)}(this.prototype);const t=this._properties;this.__observedAttributes=t?Object.keys(t).map(t=>this.attributeNameForProperty(t)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=n(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=r(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=n(this);this.__properties=Object.assign({},t&&t._properties,r(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){0,this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i}),Jl="3.3.1",Kl=window.ShadyCSS&&window.ShadyCSS.cssBuild,Gl=Iu(t=>{const e=Wl(Vl(t));function n(t,e,n,r){n.computed&&(n.readOnly=!0),n.computed&&(t._hasReadOnlyEffect(e)?console.warn(`Cannot redefine computed property '${e}'.`):t._createComputedProperty(e,n.computed,r)),n.readOnly&&!t._hasReadOnlyEffect(e)?t._createReadOnlyProperty(e,!n.computed):!1===n.readOnly&&t._hasReadOnlyEffect(e)&&console.warn(`Cannot make readOnly property '${e}' non-readOnly.`),n.reflectToAttribute&&!t._hasReflectEffect(e)?t._createReflectedProperty(e):!1===n.reflectToAttribute&&t._hasReflectEffect(e)&&console.warn(`Cannot make reflected property '${e}' non-reflected.`),n.notify&&!t._hasNotifyEffect(e)?t._createNotifyingProperty(e):!1===n.notify&&t._hasNotifyEffect(e)&&console.warn(`Cannot make notify property '${e}' non-notify.`),n.observer&&t._createPropertyObserver(e,n.observer,r[n.observer]),t._addPropertyToAttributeMap(e)}function r(t,e,n,r){if(!Kl){const i=e.content.querySelectorAll("style"),o=_u(e),s=function(t){let e=hu(t);return e?yu(e):[]}(n),a=e.content.firstElementChild;for(let n=0;n<s.length;n++){let i=s[n];i.textContent=t._processStyleText(i.textContent,r),e.content.insertBefore(i,a)}let u=0;for(let e=0;e<o.length;e++){let n=o[e],s=i[u];s!==n?(n=n.cloneNode(!0),s.parentNode.insertBefore(n,s)):u++,n.textContent=t._processStyleText(n.textContent,r)}}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,n)}return class extends e{static get polymerElementVersion(){return Jl}static _finalizeClass(){e._finalizeClass.call(this);const t=function(t){return t.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",t))||(t.__ownObservers=t.hasOwnProperty(JSCompiler_renameProperty("observers",t))?t.observers:null),t.__ownObservers}(this);t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):tu||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let e in t)n(this.prototype,e,t[e],t)}static createObservers(t,e){const n=this.prototype;for(let r=0;r<t.length;r++)n._createMethodObserver(t[r],e)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(t){let e=null;if(t&&(!Za||Qa)&&(e=au.import(t,"template"),Za&&!e))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${t}`);return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=Wa(t.url);else{const t=au.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Ka,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let n in e){let r=e[n];"value"in r&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[n]=r)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let n=t[e];if(!this.hasOwnProperty(e)){let t="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}static _processStyleText(t,e){return Ha(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const n=this.importPath;r(this,e,t,n?qa(n):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const e=Ru(this);if(e.attachShadow)return t?(e.shadowRoot||(e.attachShadow({mode:"open",shadyUpgradeFragment:t}),e.shadowRoot.appendChild(t)),eu&&window.ShadyDOM&&window.ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=qa(this.importPath)),qa(t,e)}static _parseTemplateContent(t,n,r){return n.dynamicFns=n.dynamicFns||this._properties,e._parseTemplateContent.call(this,t,n,r)}static _addTemplatePropertyEffect(t,n,r){return!tu||n in this._properties||console.warn(`Property '${n}' used in template but not declared in 'properties'; `+"attribute will not be observed."),e._addTemplatePropertyEffect.call(this,t,n,r)}}}),Xl=Gl(HTMLElement);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Zl{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run(()=>{this._timer=null,Ql.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Ql.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(t,e,n){return t instanceof Zl?t._cancelAsync():t=new Zl,t.setConfig(e,n),t}}let Ql=new Set;const tc=function(t){Ql.add(t)},ec=function(){const t=Boolean(Ql.size);return Ql.forEach(t=>{try{t.flush()}catch(t){setTimeout(()=>{throw t})}}),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let nc="string"==typeof document.head.style.touchAction,rc="__polymerGestures",ic="__polymerGesturesHandled",oc="__polymerGesturesTouchAction",sc=25,ac=5,uc=2500,lc=["mousedown","mousemove","mouseup","click"],cc=[0,1,4,2],hc=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function fc(t){return lc.indexOf(t)>-1}let dc=!1;function pc(t){if(!fc(t)&&"touchend"!==t)return nc&&dc&&Xa?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){dc=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let _c=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const yc=[],mc={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},gc={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function vc(t){return mc[t.localName]||!1}function bc(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];let n=t.getRootNode();if(t.id){let r=n.querySelectorAll(`label[for = ${t.id}]`);for(let t=0;t<r.length;t++)e.push(r[t])}}return e}let wc=function(t){let e=t.sourceCapabilities;if((!e||e.firesTouchEvents)&&(t[ic]={skip:!0},"click"===t.type)){let e=!1,n=Oc(t);for(let t=0;t<n.length;t++){if(n[t].nodeType===Node.ELEMENT_NODE)if("label"===n[t].localName)yc.push(n[t]);else if(vc(n[t])){let r=bc(n[t]);for(let t=0;t<r.length;t++)e=e||yc.indexOf(r[t])>-1}if(n[t]===Ac.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function Ec(t){let e=_c?["click"]:lc;for(let n,r=0;r<e.length;r++)n=e[r],t?(yc.length=0,document.addEventListener(n,wc,!0)):document.removeEventListener(n,wc,!0)}function Sc(t){let e=t.type;if(!fc(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!hc&&(e=cc[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let Ac={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Nc(t,e,n){t.movefn=e,t.upfn=n,document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}function Tc(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}nu&&document.addEventListener("touchend",function(t){if(!nu)return;Ac.mouse.mouseIgnoreJob||Ec(!0),Ac.mouse.target=Oc(t)[0],Ac.mouse.mouseIgnoreJob=Zl.debounce(Ac.mouse.mouseIgnoreJob,Zu.after(uc),function(){Ec(),Ac.mouse.target=null,Ac.mouse.mouseIgnoreJob=null})},!!dc&&{passive:!0});const Oc=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],Pc={},Cc=[];function xc(t){const e=Oc(t);return e.length>0?e[0]:t.target}function Ic(t){let e,n=t.type,r=t.currentTarget[rc];if(!r)return;let i=r[n];if(i){if(!t[ic]&&(t[ic]={},"touch"===n.slice(0,5))){let e=(t=t).changedTouches[0];if("touchstart"===n&&1===t.touches.length&&(Ac.touch.id=e.identifier),Ac.touch.id!==e.identifier)return;nc||"touchstart"!==n&&"touchmove"!==n||function(t){let e=t.changedTouches[0],n=t.type;if("touchstart"===n)Ac.touch.x=e.clientX,Ac.touch.y=e.clientY,Ac.touch.scrollDecided=!1;else if("touchmove"===n){if(Ac.touch.scrollDecided)return;Ac.touch.scrollDecided=!0;let n=function(t){let e="auto",n=Oc(t);for(let t,r=0;r<n.length;r++)if((t=n[r])[oc]){e=t[oc];break}return e}(t),r=!1,i=Math.abs(Ac.touch.x-e.clientX),o=Math.abs(Ac.touch.y-e.clientY);t.cancelable&&("none"===n?r=!0:"pan-x"===n?r=o>i:"pan-y"===n&&(r=i>o)),r?t.preventDefault():kc("track")}}(t)}if(!(e=t[ic]).skip){for(let n,r=0;r<Cc.length;r++)i[(n=Cc[r]).name]&&!e[n.name]&&n.flow&&n.flow.start.indexOf(t.type)>-1&&n.reset&&n.reset();for(let r,o=0;o<Cc.length;o++)i[(r=Cc[o]).name]&&!e[r.name]&&(e[r.name]=!0,r[n](t))}}}function Rc(t,e,n){return!!Pc[e]&&(function(t,e,n){let r=Pc[e],i=r.deps,o=r.name,s=t[rc];s||(t[rc]=s={});for(let e,n,r=0;r<i.length;r++)e=i[r],_c&&fc(e)&&"click"!==e||((n=s[e])||(s[e]=n={_count:0}),0===n._count&&t.addEventListener(e,Ic,pc(e)),n[o]=(n[o]||0)+1,n._count=(n._count||0)+1);t.addEventListener(e,n),r.touchAction&&Mc(t,r.touchAction)}(t,e,n),!0)}function Bc(t,e,n){return!!Pc[e]&&(function(t,e,n){let r=Pc[e],i=r.deps,o=r.name,s=t[rc];if(s)for(let e,n,r=0;r<i.length;r++)e=i[r],(n=s[e])&&n[o]&&(n[o]=(n[o]||1)-1,n._count=(n._count||1)-1,0===n._count&&t.removeEventListener(e,Ic,pc(e)));t.removeEventListener(e,n)}(t,e,n),!0)}function Dc(t){Cc.push(t);for(let e=0;e<t.emits.length;e++)Pc[t.emits[e]]=t}function Mc(t,e){nc&&t instanceof HTMLElement&&tl.run(()=>{t.style.touchAction=e}),t[oc]=e}function Uc(t,e,n){let r=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(r.detail=n,Ru(t).dispatchEvent(r),r.defaultPrevented){let t=n.preventer||n.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function kc(t){let e=function(t){for(let e,n=0;n<Cc.length;n++){e=Cc[n];for(let n,r=0;r<e.emits.length;r++)if((n=e.emits[r])===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function Lc(t,e,n,r){e&&Uc(e,t,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:r,prevent:function(t){return kc(t)}})}function Fc(t,e,n){if(t.prevent)return!1;if(t.started)return!0;let r=Math.abs(t.x-e),i=Math.abs(t.y-n);return r>=ac||i>=ac}function jc(t,e,n){if(!e)return;let r,i=t.moves[t.moves.length-2],o=t.moves[t.moves.length-1],s=o.x-t.x,a=o.y-t.y,u=0;i&&(r=o.x-i.x,u=o.y-i.y),Uc(e,"track",{state:t.state,x:n.clientX,y:n.clientY,dx:s,dy:a,ddx:r,ddy:u,sourceEvent:n,hover:function(){return function(t,e){let n=document.elementFromPoint(t,e),r=n;for(;r&&r.shadowRoot&&!window.ShadyDOM&&r!==(r=r.shadowRoot.elementFromPoint(t,e));)r&&(n=r);return n}(n.clientX,n.clientY)}})}function $c(t,e,n){let r=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y),o=xc(n||e);!o||gc[o.localName]&&o.hasAttribute("disabled")||(isNaN(r)||isNaN(i)||r<=sc&&i<=sc||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=xc(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let n=e.getBoundingClientRect(),r=t.pageX,i=t.pageY;return!(r>=n.left&&r<=n.right&&i>=n.top&&i<=n.bottom)}return!1}(e))&&(t.prevent||Uc(o,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:n}))}Dc({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){Tc(this.info)},mousedown:function(t){if(!Sc(t))return;let e=xc(t),n=this;Nc(this.info,function(t){Sc(t)||(Lc("up",e,t),Tc(n.info))},function(t){Sc(t)&&Lc("up",e,t),Tc(n.info)}),Lc("down",e,t)},touchstart:function(t){Lc("down",xc(t),t.changedTouches[0],t)},touchend:function(t){Lc("up",xc(t),t.changedTouches[0],t)}}),Dc({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,Tc(this.info)},mousedown:function(t){if(!Sc(t))return;let e=xc(t),n=this,r=function(t){let r=t.clientX,i=t.clientY;Fc(n.info,r,i)&&(n.info.state=n.info.started?"mouseup"===t.type?"end":"track":"start","start"===n.info.state&&kc("tap"),n.info.addMove({x:r,y:i}),Sc(t)||(n.info.state="end",Tc(n.info)),e&&jc(n.info,e,t),n.info.started=!0)};Nc(this.info,r,function(t){n.info.started&&r(t),Tc(n.info)}),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=xc(t),n=t.changedTouches[0],r=n.clientX,i=n.clientY;Fc(this.info,r,i)&&("start"===this.info.state&&kc("tap"),this.info.addMove({x:r,y:i}),jc(this.info,e,n),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=xc(t),n=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),jc(this.info,e,n))}}),Dc({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){Sc(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){Sc(t)&&$c(this.info,t)},touchstart:function(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){$c(this.info,t.changedTouches[0],t)}});const zc=Iu(t=>{return class extends t{_addEventListenerToNode(t,e,n){Rc(t,e,n)||super._addEventListenerToNode(t,e,n)}_removeEventListenerFromNode(t,e,n){Bc(t,e,n)||super._removeEventListenerFromNode(t,e,n)}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Yc(t,e,n){return{index:t,removed:e,addedCount:n}}const Vc=0,qc=1,Hc=2,Wc=3;function Jc(t,e,n,r,i,o){let s,a=0,u=0,l=Math.min(n-e,o-i);if(0==e&&0==i&&(a=function(t,e,n){for(let r=0;r<n;r++)if(!Gc(t[r],e[r]))return r;return n}(t,r,l)),n==t.length&&o==r.length&&(u=function(t,e,n){let r=t.length,i=e.length,o=0;for(;o<n&&Gc(t[--r],e[--i]);)o++;return o}(t,r,l-a)),i+=a,o-=u,(n-=u)-(e+=a)==0&&o-i==0)return[];if(e==n){for(s=Yc(e,[],0);i<o;)s.removed.push(r[i++]);return[s]}if(i==o)return[Yc(e,[],n-e)];let c=function(t){let e=t.length-1,n=t[0].length-1,r=t[e][n],i=[];for(;e>0||n>0;){if(0==e){i.push(Hc),n--;continue}if(0==n){i.push(Wc),e--;continue}let o,s=t[e-1][n-1],a=t[e-1][n],u=t[e][n-1];(o=a<u?a<s?a:s:u<s?u:s)==s?(s==r?i.push(Vc):(i.push(qc),r=s),e--,n--):o==a?(i.push(Wc),e--,r=a):(i.push(Hc),n--,r=u)}return i.reverse(),i}(function(t,e,n,r,i,o){let s=o-i+1,a=n-e+1,u=new Array(s);for(let t=0;t<s;t++)u[t]=new Array(a),u[t][0]=t;for(let t=0;t<a;t++)u[0][t]=t;for(let n=1;n<s;n++)for(let o=1;o<a;o++)if(Gc(t[e+o-1],r[i+n-1]))u[n][o]=u[n-1][o-1];else{let t=u[n-1][o]+1,e=u[n][o-1]+1;u[n][o]=t<e?t:e}return u}(t,e,n,r,i,o));s=void 0;let h=[],f=e,d=i;for(let t=0;t<c.length;t++)switch(c[t]){case Vc:s&&(h.push(s),s=void 0),f++,d++;break;case qc:s||(s=Yc(f,[],0)),s.addedCount++,f++,s.removed.push(r[d]),d++;break;case Hc:s||(s=Yc(f,[],0)),s.addedCount++,f++;break;case Wc:s||(s=Yc(f,[],0)),s.removed.push(r[d]),d++}return s&&h.push(s),h}function Kc(t,e){return Jc(t,0,t.length,e,0,e.length)}function Gc(t,e){return t===e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Xc(t){return"slot"===t.localName}let Zc=class{static getFlattenedNodes(t){const e=Ru(t);return Xc(t)?(t=t,e.assignedNodes({flatten:!0})):Array.from(e.childNodes).map(t=>Xc(t)?Ru(t=t).assignedNodes({flatten:!0}):[t]).reduce((t,e)=>t.concat(e),[])}constructor(t,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=t,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=(()=>{this._schedule()}),this.connect(),this._schedule()}connect(){Xc(this._target)?this._listenSlots([this._target]):Ru(this._target).children&&(this._listenSlots(Ru(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,t=>{this._processMutations(t)}):(this._nativeChildrenObserver=new MutationObserver(t=>{this._processMutations(t)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){Xc(this._target)?this._unlistenSlots([this._target]):Ru(this._target).children&&(this._unlistenSlots(Ru(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,tl.run(()=>this.flush()))}_processMutations(t){this._processSlotMutations(t),this.flush()}_processSlotMutations(t){if(t)for(let e=0;e<t.length;e++){let n=t[e];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let t={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),n=Kc(e,this._effectiveNodes);for(let e,r=0;r<n.length&&(e=n[r]);r++)for(let n,r=0;r<e.removed.length&&(n=e.removed[r]);r++)t.removedNodes.push(n);for(let r,i=0;i<n.length&&(r=n[i]);i++)for(let n=r.index;n<r.index+r.addedCount;n++)t.addedNodes.push(e[n]);this._effectiveNodes=e;let r=!1;return(t.addedNodes.length||t.removedNodes.length)&&(r=!0,this.callback.call(this._target,t)),r}_listenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];Xc(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];Xc(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class Qc{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function th(t){return function t(e,n){let r=n.substring(e.start,e.end-1);e.parsedCssText=e.cssText=r.trim();if(e.parent){let t=e.previous?e.previous.end:e.parent.start;r=(r=(r=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let t=arguments[1],e=6-t.length;for(;e--;)t="0"+t;return"\\"+t})}(r=n.substring(t,e.start-1))).replace(oh.multipleSpaces," ")).substring(r.lastIndexOf(";")+1);let i=e.parsedSelector=e.selector=r.trim();e.atRule=0===i.indexOf(uh),e.atRule?0===i.indexOf(ah)?e.type=nh.MEDIA_RULE:i.match(oh.keyframesRule)&&(e.type=nh.KEYFRAMES_RULE,e.keyframesName=e.selector.split(oh.multipleSpaces).pop()):0===i.indexOf(sh)?e.type=nh.MIXIN_RULE:e.type=nh.STYLE_RULE}let i=e.rules;if(i)for(let e,r=0,o=i.length;r<o&&(e=i[r]);r++)t(e,n);return e}(function(t){let e=new Qc;e.start=0,e.end=t.length;let n=e;for(let r=0,i=t.length;r<i;r++)if(t[r]===rh){n.rules||(n.rules=[]);let t=n,e=t.rules[t.rules.length-1]||null;(n=new Qc).start=r+1,n.parent=t,n.previous=e,t.rules.push(n)}else t[r]===ih&&(n.end=r+1,n=n.parent||e);return e}(t=function(t){return t.replace(oh.comments,"").replace(oh.port,"")}(t)),t)}function eh(t,e,n=""){let r="";if(t.cssText||t.rules){let n=t.rules;if(n&&!function(t){let e=t[0];return Boolean(e)&&Boolean(e.selector)&&0===e.selector.indexOf(sh)}(n))for(let t,i=0,o=n.length;i<o&&(t=n[i]);i++)r=eh(t,e,r);else(r=(r=e?t.cssText:function(t){return function(t){return t.replace(oh.mixinApply,"").replace(oh.varApply,"")}(t=function(t){return t.replace(oh.customProp,"").replace(oh.mixinProp,"")}(t))}(t.cssText)).trim())&&(r="  "+r+"\n")}return r&&(t.selector&&(n+=t.selector+" "+rh+"\n"),n+=r,t.selector&&(n+=ih+"\n\n")),n}const nh={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},rh="{",ih="}",oh={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},sh="--",ah="@media",uh="@",lh=new Set,ch="shady-unscoped";function hh(t){const e=t.textContent;if(!lh.has(e)){lh.add(e);const n=t.cloneNode(!0);document.head.appendChild(n)}}function fh(t){return t.hasAttribute(ch)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function dh(t,e){return t?("string"==typeof t&&(t=th(t)),e&&_h(t,e),eh(t,Fa)):""}function ph(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=th(t.textContent)),t.__cssRules||null}function _h(t,e,n,r){if(!t)return;let i=!1,o=t.type;if(r&&o===nh.MEDIA_RULE){let e=t.selector.match(Ia);e&&(window.matchMedia(e[1]).matches||(i=!0))}o===nh.STYLE_RULE?e(t):n&&o===nh.KEYFRAMES_RULE?n(t):o===nh.MIXIN_RULE&&(i=!0);let s=t.rules;if(s&&!i)for(let t,i=0,o=s.length;i<o&&(t=s[i]);i++)_h(t,e,n,r)}function yh(t,e){let n=0;for(let r=e,i=t.length;r<i;r++)if("("===t[r])n++;else if(")"===t[r]&&0==--n)return r;return-1}window.ShadyDOM&&window.ShadyDOM.wrap;const mh="css-build";function gh(t){if(void 0!==Ua)return Ua;if(void 0===t.__cssBuild){const e=t.getAttribute(mh);if(e)t.__cssBuild=e;else{const e=function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;if(e instanceof Comment){const t=e.textContent.trim().split(":");if(t[0]===mh)return t[1]}return""}(t);""!==e&&function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;e.parentNode.removeChild(e)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(t),t.__cssBuild=e}}return t.__cssBuild||""}function vh(t){return""!==gh(t)}const bh=/;\s*/m,wh=/^\s*(initial)|(inherit)\s*$/,Eh=/\s*!important/,Sh="_-_";class Ah{constructor(){this._map={}}set(t,e){t=t.trim(),this._map[t]={properties:e,dependants:{}}}get(t){return t=t.trim(),this._map[t]||null}}let Nh=null;class Th{constructor(){this._currentElement=null,this._measureElement=null,this._map=new Ah}detectMixin(t){return function(t){const e=xa.test(t)||Ca.test(t);return xa.lastIndex=0,Ca.lastIndex=0,e}(t)}gatherStyles(t){const e=function(t){const e=[],n=t.querySelectorAll("style");for(let t=0;t<n.length;t++){const r=n[t];fh(r)?Da||(hh(r),r.parentNode.removeChild(r)):(e.push(r.textContent),r.parentNode.removeChild(r))}return e.join("").trim()}(t.content);if(e){const n=document.createElement("style");return n.textContent=e,t.content.insertBefore(n,t.content.firstChild),n}return null}transformTemplate(t,e){void 0===t._gatheredStyle&&(t._gatheredStyle=this.gatherStyles(t));const n=t._gatheredStyle;return n?this.transformStyle(n,e):null}transformStyle(t,e=""){let n=ph(t);return this.transformRules(n,e),t.textContent=dh(n),n}transformCustomStyle(t){let e=ph(t);return _h(e,t=>{":root"===t.selector&&(t.selector="html"),this.transformRule(t)}),t.textContent=dh(e),e}transformRules(t,e){this._currentElement=e,_h(t,t=>{this.transformRule(t)}),this._currentElement=null}transformRule(t){t.cssText=this.transformCssText(t.parsedCssText,t),":root"===t.selector&&(t.selector=":host > *")}transformCssText(t,e){return t=t.replace(Ca,(t,n,r,i)=>this._produceCssProperties(t,n,r,i,e)),this._consumeCssProperties(t,e)}_getInitialValueForProperty(t){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(t)}_fallbacksFromPreviousRules(t){let e=t;for(;e.parent;)e=e.parent;const n={};let r=!1;return _h(e,e=>{(r=r||e===t)||e.selector===t.selector&&Object.assign(n,this._cssTextToMap(e.parsedCssText))}),n}_consumeCssProperties(t,e){let n=null;for(;n=xa.exec(t);){let r=n[0],i=n[1],o=n.index,s=o+r.indexOf("@apply"),a=o+r.length,u=t.slice(0,s),l=t.slice(a),c=e?this._fallbacksFromPreviousRules(e):{};Object.assign(c,this._cssTextToMap(u));let h=this._atApplyToCssProperties(i,c);t=`${u}${h}${l}`,xa.lastIndex=o+h.length}return t}_atApplyToCssProperties(t,e){t=t.replace(bh,"");let n=[],r=this._map.get(t);if(r||(this._map.set(t,{}),r=this._map.get(t)),r){let i,o,s;this._currentElement&&(r.dependants[this._currentElement]=!0);const a=r.properties;for(i in a)s=e&&e[i],o=[i,": var(",t,Sh,i],s&&o.push(",",s.replace(Eh,"")),o.push(")"),Eh.test(a[i])&&o.push(" !important"),n.push(o.join(""))}return n.join("; ")}_replaceInitialOrInherit(t,e){let n=wh.exec(e);return n&&(e=n[1]?this._getInitialValueForProperty(t):"apply-shim-inherit"),e}_cssTextToMap(t,e=!1){let n,r,i=t.split(";"),o={};for(let t,s,a=0;a<i.length;a++)(t=i[a])&&(s=t.split(":")).length>1&&(n=s[0].trim(),r=s.slice(1).join(":"),e&&(r=this._replaceInitialOrInherit(n,r)),o[n]=r);return o}_invalidateMixinEntry(t){if(Nh)for(let e in t.dependants)e!==this._currentElement&&Nh(e)}_produceCssProperties(t,e,n,r,i){if(n&&function t(e,n){let r=e.indexOf("var(");if(-1===r)return n(e,"","","");let i=yh(e,r+3),o=e.substring(r+4,i),s=e.substring(0,r),a=t(e.substring(i+1),n),u=o.indexOf(",");return-1===u?n(s,o.trim(),"",a):n(s,o.substring(0,u).trim(),o.substring(u+1).trim(),a)}(n,(t,e)=>{e&&this._map.get(e)&&(r=`@apply ${e};`)}),!r)return t;let o=this._consumeCssProperties(""+r,i),s=t.slice(0,t.indexOf("--")),a=this._cssTextToMap(o,!0),u=a,l=this._map.get(e),c=l&&l.properties;c?u=Object.assign(Object.create(c),a):this._map.set(e,u);let h,f,d=[],p=!1;for(h in u)void 0===(f=a[h])&&(f="initial"),!c||h in c||(p=!0),d.push(`${e}${Sh}${h}: ${f}`);return p&&this._invalidateMixinEntry(l),l&&(l.properties=u),n&&(s=`${t};${s}`),`${s}${d.join("; ")};`}}Th.prototype.detectMixin=Th.prototype.detectMixin,Th.prototype.transformStyle=Th.prototype.transformStyle,Th.prototype.transformCustomStyle=Th.prototype.transformCustomStyle,Th.prototype.transformRules=Th.prototype.transformRules,Th.prototype.transformRule=Th.prototype.transformRule,Th.prototype.transformTemplate=Th.prototype.transformTemplate,Th.prototype._separator=Sh,Object.defineProperty(Th.prototype,"invalidCallback",{get:()=>Nh,set(t){Nh=t}});var Oh=Th;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var Ph={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ch="_applyShimCurrentVersion",xh="_applyShimNextVersion",Ih="_applyShimValidatingVersion",Rh=Promise.resolve();function Bh(t){let e=Ph[t];e&&function(t){t[Ch]=t[Ch]||0,t[Ih]=t[Ih]||0,t[xh]=(t[xh]||0)+1}(e)}function Dh(t){return t[Ch]===t[xh]}function Mh(t){return!Dh(t)&&t[Ih]===t[xh]}function Uh(t){t[Ih]=t[xh],t._validating||(t._validating=!0,Rh.then(function(){t[Ch]=t[xh],t._validating=!1}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const kh=new Oh;if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const t=new class{constructor(){this.customStyleInterface=null,kh.invalidCallback=Bh}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=(t=>{kh.transformCustomStyle(t)}),this.customStyleInterface.validateCallback=(()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})}))}prepareTemplate(t,e){if(this.ensure(),vh(t))return;Ph[e]=t;let n=kh.transformTemplate(t,e);t._styleAst=n}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let t=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let e=0;e<t.length;e++){let n=t[e],r=this.customStyleInterface.getStyleForCustomStyle(n);r&&kh.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(t,e){if(this.ensure(),e&&Ra(t,e),t.shadowRoot){this.styleElement(t);let e=t.shadowRoot.children||t.shadowRoot.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}else{let e=t.children||t.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}}styleElement(t){this.ensure();let{is:e}=function(t){let e=t.localName,n="",r="";return e?e.indexOf("-")>-1?n=e:(r=e,n=t.getAttribute&&t.getAttribute("is")||""):(n=t.is,r=t.extends),{is:n,typeExtension:r}}(t),n=Ph[e];if((!n||!vh(n))&&n&&!Dh(n)){Mh(n)||(this.prepareTemplate(n,e),Uh(n));let r=t.shadowRoot;if(r){let t=r.querySelector("style");t&&(t.__cssRules=n._styleAst,t.textContent=dh(n._styleAst))}}}styleDocument(t){this.ensure(),this.styleSubtree(document.body,t)}};let e=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,n,r){t.flushCustomStyles(),t.prepareTemplate(e,n)},prepareTemplateStyles(t,e,n){window.ShadyCSS.prepareTemplate(t,e,n)},prepareTemplateDom(t,e){},styleSubtree(e,n){t.flushCustomStyles(),t.styleSubtree(e,n)},styleElement(e){t.flushCustomStyles(),t.styleElement(e)},styleDocument(e){t.flushCustomStyles(),t.styleDocument(e)},getComputedStyleValue:(t,e)=>Ba(t,e),flushCustomStyles(){t.flushCustomStyles()},nativeCss:Fa,nativeShadow:Da,cssBuild:Ua,disableRuntime:La},e&&(window.ShadyCSS.CustomStyleInterface=e)}window.ShadyCSS.ApplyShim=kh;
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const Lh=/:host\(:dir\((ltr|rtl)\)\)/g,Fh=':host([dir="$1"])',jh=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,$h=':host([dir="$2"]) $1',zh=/:dir\((?:ltr|rtl)\)/,Yh=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Vh=[];let qh=null,Hh="";function Wh(){Hh=document.documentElement.getAttribute("dir")}function Jh(t){if(!t.__autoDirOptOut){t.setAttribute("dir",Hh)}}function Kh(){Wh(),Hh=document.documentElement.getAttribute("dir");for(let t=0;t<Vh.length;t++)Jh(Vh[t])}const Gh=Iu(t=>{Yh||qh||(Wh(),(qh=new MutationObserver(Kh)).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=ol(t);class n extends e{static _processStyleText(t,n){return t=e._processStyleText.call(this,t,n),!Yh&&zh.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}static _replaceDirInCssText(t){let e=t;return e=(e=e.replace(Lh,Fh)).replace(jh,$h)}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(qh&&qh.takeRecords().length&&Kh(),Vh.push(this),Jh(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=Vh.indexOf(this);t>-1&&Vh.splice(t,1)}}}return n.__activateDir=!1,n});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Xh(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?Xh():window.addEventListener("DOMContentLoaded",Xh);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Zh=function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=ec()}while(t||e)},Qh=Element.prototype,tf=Qh.matches||Qh.matchesSelector||Qh.mozMatchesSelector||Qh.msMatchesSelector||Qh.oMatchesSelector||Qh.webkitMatchesSelector,ef=function(t,e){return tf.call(t,e)};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class nf{constructor(t){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(t),this.node=t}observeNodes(t){return new Zc(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if(Ru(this.node).contains(t))return!0;let e=t,n=t.ownerDocument;for(;e&&e!==n&&e!==this.node;)e=Ru(e).parentNode||Ru(e).host;return e===this.node}getOwnerRoot(){return Ru(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?Ru(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=Ru(this.node).assignedSlot;for(;e;)t.push(e),e=Ru(e).assignedSlot;return t}importNode(t,e){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return Ru(n).importNode(t,e)}getEffectiveChildNodes(){return Zc.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),n=[];for(let r,i=0,o=e.length;i<o&&(r=e[i]);i++)r.nodeType===Node.ELEMENT_NODE&&ef(r,t)&&n.push(r);return n}get activeElement(){let t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}function rf(t,e){for(let n=0;n<e.length;n++){let r=e[n];Object.defineProperty(t,r,{get:function(){return this.node[r]},configurable:!0})}}class of{constructor(t){this.event=t}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}nf.prototype.cloneNode,nf.prototype.appendChild,nf.prototype.insertBefore,nf.prototype.removeChild,nf.prototype.replaceChild,nf.prototype.setAttribute,nf.prototype.removeAttribute,nf.prototype.querySelector,nf.prototype.querySelectorAll,nf.prototype.parentNode,nf.prototype.firstChild,nf.prototype.lastChild,nf.prototype.nextSibling,nf.prototype.previousSibling,nf.prototype.firstElementChild,nf.prototype.lastElementChild,nf.prototype.nextElementSibling,nf.prototype.previousElementSibling,nf.prototype.childNodes,nf.prototype.children,nf.prototype.classList,nf.prototype.textContent,nf.prototype.innerHTML;let sf=nf;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class t extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(nf.prototype).forEach(e=>{"activeElement"!=e&&(t.prototype[e]=nf.prototype[e])}),rf(t.prototype,["classList"]),sf=t,Object.defineProperties(of.prototype,{localTarget:{get(){const t=this.event.currentTarget,e=t&&af(t).getOwnerRoot(),n=this.path;for(let t=0;t<n.length;t++){const r=n[t];if(af(r).getOwnerRoot()===e)return r}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(t,e){for(let n=0;n<e.length;n++){let r=e[n];t[r]=function(){return this.node[r].apply(this.node,arguments)}}}(nf.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),rf(nf.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(t,e){for(let n=0;n<e.length;n++){let r=e[n];Object.defineProperty(t,r,{get:function(){return this.node[r]},set:function(t){this.node[r]=t},configurable:!0})}}(nf.prototype,["textContent","innerHTML","className"]);const af=function(t){if((t=t||document)instanceof sf)return t;if(t instanceof of)return t;let e=t.__domApi;return e||(e=t instanceof Event?new of(t):new sf(t),t.__domApi=e),e},uf=window.ShadyDOM,lf=window.ShadyCSS;function cf(t,e){return Ru(t).getRootNode()===e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let hf=window.ShadyCSS;const ff=Iu(t=>{const e=Gh(zc(Gl(t))),n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class r extends e{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(t,e,n,r){e!==n&&(super.attributeChangedCallback(t,e,n,r),this.attributeChanged(t,e,n))}attributeChanged(t,e,n){}_initializeProperties(){let t=Object.getPrototypeOf(this);t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))||(this._registered(),t.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),this._applyListeners()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(t){return this._serializeValue(t)}deserialize(t,e){return this._deserializeValue(t,e)}reflectPropertyToAttribute(t,e,n){this._propertyToAttribute(t,e,n)}serializeValueToAttribute(t,e,n){this._valueToNodeAttribute(n||this,t,e)}extend(t,e){if(!t||!e)return t||e;let n=Object.getOwnPropertyNames(e);for(let r,i=0;i<n.length&&(r=n[i]);i++){let n=Object.getOwnPropertyDescriptor(e,r);n&&Object.defineProperty(t,r,n)}return t}mixin(t,e){for(let n in e)t[n]=e[n];return t}chainObject(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}instanceTemplate(t){let e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}fire(t,e,n){n=n||{},e=null===e||void 0===e?{}:e;let r=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});r.detail=e;let i=n.node||this;return Ru(i).dispatchEvent(r),r}listen(t,e,n){t=t||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),i=r.get(t);i||(i={},r.set(t,i));let o=e+n;i[o]||(i[o]=this._addMethodEventListenerToNode(t,e,n,this))}unlisten(t,e,n){t=t||this;let r=this.__boundListeners&&this.__boundListeners.get(t),i=e+n,o=r&&r[i];o&&(this._removeEventListenerFromNode(t,e,o),r[i]=null)}setScrollDirection(t,e){Mc(e||this,n[t]||"auto")}$$(t){return this.root.querySelector(t)}get domHost(){let t=Ru(this).getRootNode();return t instanceof DocumentFragment?t.host:t}distributeContent(){const t=af(this);window.ShadyDOM&&t.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return af(this).getEffectiveChildNodes()}queryDistributedElements(t){return af(this).queryDistributedElements(t)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let t=this.getEffectiveChildNodes(),e=[];for(let n,r=0;n=t[r];r++)n.nodeType!==Node.COMMENT_NODE&&e.push(n.textContent);return e.join("")}queryEffectiveChildren(t){let e=this.queryDistributedElements(t);return e&&e[0]}queryAllEffectiveChildren(t){return this.queryDistributedElements(t)}getContentChildNodes(t){let e=this.root.querySelector(t||"slot");return e?af(e).getDistributedNodes():[]}getContentChildren(t){return this.getContentChildNodes(t).filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}isLightDescendant(t){return this!==t&&Ru(this).contains(t)&&Ru(this).getRootNode()===Ru(t).getRootNode()}isLocalDescendant(t){return this.root===Ru(t).getRootNode()}scopeSubtree(t,e=!1){return function(t,e=!1){if(!uf||!lf)return null;if(!uf.handlesDynamicScoping)return null;const n=lf.ScopingShim;if(!n)return null;const r=n.scopeForNode(t),i=Ru(t).getRootNode(),o=t=>{if(!cf(t,i))return;const e=Array.from(uf.nativeMethods.querySelectorAll.call(t,"*"));e.push(t);for(let t=0;t<e.length;t++){const o=e[t];if(!cf(o,i))continue;const s=n.currentScopeForNode(o);s!==r&&(""!==s&&n.unscopeNode(o,s),n.scopeNode(o,r))}};if(o(t),e){const e=new MutationObserver(t=>{for(let e=0;e<t.length;e++){const n=t[e];for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];e.nodeType===Node.ELEMENT_NODE&&o(e)}}});return e.observe(t,{childList:!0,subtree:!0}),e}return null}(t,e)}getComputedStyleValue(t){return hf.getComputedStyleValue(this,t)}debounce(t,e,n){return this._debouncers=this._debouncers||{},this._debouncers[t]=Zl.debounce(this._debouncers[t],n>0?Zu.after(n):tl,e.bind(this))}isDebouncerActive(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];return!(!e||!e.isActive())}flushDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.flush()}cancelDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.cancel()}async(t,e){return e>0?Zu.run(t.bind(this),e):~tl.run(t.bind(this))}cancelAsync(t){t<0?tl.cancel(~t):Zu.cancel(t)}create(t,e){let n=document.createElement(t);if(e)if(n.setProperties)n.setProperties(e);else for(let t in e)n[t]=e[t];return n}elementMatches(t,e){return ef(e||this,t)}toggleAttribute(t,e){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(e=!n.hasAttribute(t)),e?(Ru(n).setAttribute(t,""),!0):(Ru(n).removeAttribute(t),!1)}toggleClass(t,e,n){n=n||this,1==arguments.length&&(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t)}transform(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}translate3d(t,e,n,r){r=r||this,this.transform("translate3d("+t+","+e+","+n+")",r)}arrayDelete(t,e){let n;if(Array.isArray(t)){if((n=t.indexOf(e))>=0)return t.splice(n,1)}else{if((n=ju(this,t).indexOf(e))>=0)return this.splice(t,n,1)}return null}_logger(t,e){switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":console[t](...e)}}_log(...t){this._logger("log",t)}_warn(...t){this._logger("warn",t)}_error(...t){this._logger("error",t)}_logf(t,...e){return["[%s::%s]",this.is,t,...e]}}return r.prototype.is="",r}),df={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},pf={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},_f=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},pf);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function yf(t,e,n,r){!function(t,e,n){const r=t._noAccessors,i=Object.getOwnPropertyNames(t);for(let o=0;o<i.length;o++){let s=i[o];if(!(s in n))if(r)e[s]=t[s];else{let n=Object.getOwnPropertyDescriptor(t,s);n&&(n.configurable=!0,Object.defineProperty(e,s,n))}}}(e,t,r);for(let t in df)e[t]&&(n[t]=n[t]||[],n[t].push(e[t]))}function mf(t,e){for(const n in e){const r=t[n],i=e[n];t[n]=!("value"in i)&&r&&"value"in r?Object.assign({value:r.value},i):i}}function gf(t,e,n){let r;const i={};class o extends e{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(r)for(let t,e=0;e<r.length;e++)(t=r[e]).properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties);t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties),this._prepareTemplate()}else e._finalizeClass.call(this)}static get properties(){const e={};if(r)for(let t=0;t<r.length;t++)mf(e,r[t].properties);return mf(e,t.properties),e}static get observers(){let e=[];if(r)for(let t,n=0;n<r.length;n++)(t=r[n]).observers&&(e=e.concat(t.observers));return t.observers&&(e=e.concat(t.observers)),e}created(){super.created();const t=i.created;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}_registered(){const t=o.prototype;if(!t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))){t.__hasRegisterFinished=!0,super._registered(),tu&&s(t);const e=Object.getPrototypeOf(this);let n=i.beforeRegister;if(n)for(let t=0;t<n.length;t++)n[t].call(e);if(n=i.registered)for(let t=0;t<n.length;t++)n[t].call(e)}}_applyListeners(){super._applyListeners();const t=i.listeners;if(t)for(let e=0;e<t.length;e++){const n=t[e];if(n)for(let t in n)this._addMethodEventListenerToNode(this,t,n[t])}}_ensureAttributes(){const t=i.hostAttributes;if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];for(let t in n)this._ensureAttribute(t,n[t])}super._ensureAttributes()}ready(){super.ready();let t=i.ready;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attached(){super.attached();let t=i.attached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}detached(){super.detached();let t=i.detached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attributeChanged(t,e,n){super.attributeChanged();let r=i.attributeChanged;if(r)for(let i=0;i<r.length;i++)r[i].call(this,t,e,n)}}if(n){Array.isArray(n)||(n=[n]);let t=e.prototype.behaviors;r=function t(e,n,r){n=n||[];for(let i=e.length-1;i>=0;i--){let o=e[i];o?Array.isArray(o)?t(o,n):n.indexOf(o)<0&&(!r||r.indexOf(o)<0)&&n.unshift(o):console.warn("behavior is null, check for missing or 404 import")}return n}(n,null,t),o.prototype.behaviors=t?t.concat(n):r}const s=e=>{r&&function(t,e,n){for(let r=0;r<e.length;r++)yf(t,e[r],n,_f)}(e,r,i),yf(e,t,i,pf)};return tu||s(o.prototype),o.generatedFrom=t,o}const vf=function(t){let e;return e="function"==typeof t?t:vf.Class(t),customElements.define(e.is,e),e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function bf(t,e,n,r,i){let o;i&&(o="object"==typeof n&&null!==n)&&(r=t.__dataTemp[e]);let s=r!==n&&(r==r||n==n);return o&&s&&(t.__dataTemp[e]=n),s}vf.Class=function(t,e){t||console.warn("Polymer.Class requires `info` argument");let n=e?e(ff(HTMLElement)):ff(HTMLElement);return(n=gf(t,n,t.behaviors)).is=n.prototype.is=t.is,n};const wf=Iu(t=>{return class extends t{_shouldPropertyChange(t,e,n){return bf(this,t,e,n,!0)}}}),Ef=Iu(t=>{return class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,n){return bf(this,t,e,n,this.mutableData)}}});wf._mutablePropertyChange=bf;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Sf=null;function Af(){return Sf}Af.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Af,writable:!0}});const Nf=Vl(Af),Tf=wf(Nf);const Of=Vl(class{});class Pf extends Of{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=[];this.children=e;for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(t&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,t=>{t.model=this,n(t)});else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(t,e,n)}}_showHideChildren(t){let e=this.children;for(let n=0;n<e.length;n++){let r=e[n];if(Boolean(t)!=Boolean(r.__hideTemplateChildren__))if(r.nodeType===Node.TEXT_NODE)t?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if("slot"===r.localName)if(t)r.__polymerReplaced__=document.createComment("hidden-slot"),Ru(Ru(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const t=r.__polymerReplaced__;t&&Ru(Ru(t).parentNode).replaceChild(r,t)}else r.style&&(t?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=t,r._showHideChildren&&r._showHideChildren(t)}}_setUnmanagedPropertyToNode(t,e,n){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(t,e,n)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}Pf.prototype.__dataHost,Pf.prototype.__templatizeOptions,Pf.prototype._methodHost,Pf.prototype.__templatizeOwner,Pf.prototype.__hostProps;const Cf=wf(Pf);function xf(t){let e=t.__dataHost;return e&&e._methodHost||e}function If(t,e,n){let r=n.mutableData?Cf:Pf;Mf.mixin&&(r=Mf.mixin(r));let i=class extends r{};return i.prototype.__templatizeOptions=n,i.prototype._bindTemplate(t),function(t,e,n,r){let i=n.hostProps||{};for(let e in r.instanceProps){delete i[e];let n=r.notifyInstanceProp;n&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:Df(e,n)})}if(r.forwardHostProp&&e.__dataHost)for(let e in i)n.hasHostProps||(n.hasHostProps=!0),t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,n){t.__dataHost._setPendingPropertyOrPath("_host_"+e,n[e],!0,!0)}})}(i,t,e,n),i}function Rf(t,e,n){let r=n.forwardHostProp;if(r&&e.hasHostProps){let i=e.templatizeTemplateClass;if(!i){let t=n.mutableData?Tf:Nf;i=e.templatizeTemplateClass=class extends t{};let o=e.hostProps;for(let t in o)i.prototype._addPropertyEffect("_host_"+t,i.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:Bf(t,r)}),i.prototype._createNotifyingProperty("_host_"+t)}!function(t,e){Sf=t,Object.setPrototypeOf(t,e.prototype),new e,Sf=null}(t,i),t.__dataProto&&Object.assign(t.__data,t.__dataProto),t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties()}}function Bf(t,e){return function(t,n,r){e.call(t.__templatizeOwner,n.substring("_host_".length),r[n])}}function Df(t,e){return function(t,n,r){e.call(t.__templatizeOwner,t,n,r[n])}}function Mf(t,e,n){if(Za&&!xf(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let r=(e?e.constructor:Pf)._parseTemplate(t),i=r.templatizeInstanceClass;i||(i=If(t,r,n),r.templatizeInstanceClass=i),Rf(t,r,n);let o=class extends i{};return o.prototype._methodHost=xf(t),o.prototype.__dataHost=t,o.prototype.__templatizeOwner=e,o.prototype.__hostProps=r.hostProps,o=o}function Uf(t,e){let n;for(;e;)if(n=e.__templatizeInstance){if(n.__dataHost==t)return n;e=n.__dataHost}else e=Ru(e).parentNode;return null}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let kf=!1;function Lf(){if(tu&&!Ja){if(!kf){kf=!0;const t=document.createElement("style");t.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(t)}return!0}return!1}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ff=zc(Ef(Vl(HTMLElement)));customElements.define("dom-bind",class extends Ff{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),Za)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(t,e,n,r){this.mutableData=!0}connectedCallback(){Lf()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){Ru(Ru(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(!(t=t||this.querySelector("template"))){let e=new MutationObserver(()=>{if(!(t=this.querySelector("template")))throw new Error("dom-bind requires a <template> child");e.disconnect(),this.render()});return void e.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const jf=Ef(Xl);class $f extends jf{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t)}connectedCallback(){if(super.connectedCallback(),Lf()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let t=Ru(Ru(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t)}}__ensureTemplatized(){if(!this.__ctor){let t=this.template=this.querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}let e={};e[this.as]=!0,e[this.indexAs]=!0,e[this.itemsIndexAs]=!0,this.__ctor=Mf(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:e,forwardHostProp:function(t,e){let n=this.__instances;for(let r,i=0;i<n.length&&(r=n[i]);i++)r.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,n){if(function(t,e){return t===e||Mu(t,e)||Uu(t,e)}(this.as,e)){let r=t[this.itemsIndexAs];e==this.as&&(this.items[r]=n);let i=ku(this.as,`${JSCompiler_renameProperty("items",this)}.${r}`,e);this.notifyPath(i,n)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,n=this.__getMethodHost();return function(){return n[e].apply(n,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let t=performance.now(),e=this._targetFrameTime/(t-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*e)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=t,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let n=0;n<e.length;n++)0===t.indexOf(e[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(t,e=0){this.__renderDebouncer=Zl.debounce(this.__renderDebouncer,e>0?Zu.after(e):tl,t.bind(this)),tc(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),Zh()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let t=this.items||[],e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=n;this.__filterFn&&(e=e.filter((e,n,r)=>this.__filterFn(t[e],n,r))),this.__sortFn&&e.sort((e,n)=>this.__sortFn(t[e],t[n]));const n=this.__itemsIdxToInstIdx={};let r=0;const i=Math.min(e.length,this.__limit);for(;r<i;r++){let i=this.__instances[r],o=e[r],s=t[o];n[o]=r,i?(i._setPendingProperty(this.as,s),i._setPendingProperty(this.indexAs,r),i._setPendingProperty(this.itemsIndexAs,o),i._flushProperties()):this.__insertInstance(s,r,o)}for(let t=this.__instances.length-1;t>=r;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];const n=Ru(e.root);for(let t=0;t<e.children.length;t++){let r=e.children[t];n.appendChild(r)}return e}__attachInstance(t,e){let n=this.__instances[t];e.insertBefore(n.root,this)}__detachAndRemoveInstance(t){let e=this.__detachInstance(t);e&&this.__pool.push(e),this.__instances.splice(t,1)}__stampInstance(t,e,n){let r={};return r[this.as]=t,r[this.indexAs]=e,r[this.itemsIndexAs]=n,new this.__ctor(r)}__insertInstance(t,e,n){let r=this.__pool.pop();r?(r._setPendingProperty(this.as,t),r._setPendingProperty(this.indexAs,e),r._setPendingProperty(this.itemsIndexAs,n),r._flushProperties()):r=this.__stampInstance(t,e,n);let i=this.__instances[e+1],o=i?i.children[0]:this;return Ru(Ru(this).parentNode).insertBefore(r.root,o),this.__instances[e]=r,r}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let n=t.slice(6),r=n.indexOf("."),i=r<0?n:n.substring(0,r);if(i==parseInt(i,10)){let t=r<0?"":n.substring(r+1);this.__handleObservedPaths(t);let o=this.__itemsIdxToInstIdx[i],s=this.__instances[o];if(s){let n=this.as+(t?"."+t:"");s._setPendingPropertyOrPath(n,e,!1,!0),s._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return Uf(this.template,t)}}customElements.define($f.is,$f);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class zf extends Xl{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null,this.__hideTemplateChildren__=!1}__debounceRender(){this.__renderDebouncer=Zl.debounce(this.__renderDebouncer,tl,()=>this.__render()),tc(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const t=Ru(this).parentNode;t&&(t.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Ru(t).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),Lf()||(this.style.display="none"),this.if&&this.__debounceRender()}render(){Zh()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let t=Ru(this).parentNode;if(t){if(!this.__ctor){let t=Ru(this).querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!Ru(this).querySelector("template"))throw new Error("dom-if requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}this.__ctor=Mf(t,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Du(t)]=!0))}})}if(this.__instance){this.__syncHostProperties();let e=this.__instance.children;if(e&&e.length){if(Ru(this).previousSibling!==e[e.length-1])for(let n,r=0;r<e.length&&(n=e[r]);r++)Ru(t).insertBefore(n,this)}}else this.__instance=new this.__ctor,Ru(t).insertBefore(this.__instance.root,this)}return!0}__syncHostProperties(){let t=this.__invalidProps;if(t){for(let e in t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let t=this.__instance.children;if(t&&t.length){let e=Ru(t[0]).parentNode;if(e){e=Ru(e);for(let n,r=0;r<t.length&&(n=t[r]);r++)e.removeChild(n)}}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let t=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(t)}}customElements.define(zf.is,zf);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Yf,Vf=Iu(t=>{let e=Gl(t);return class extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(t,e){let n=e.path;if(n==JSCompiler_renameProperty("items",this)){let n=e.base||[],r=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),r){let t=Kc(n,r);this.__applySplices(t)}this.__lastItems=n,this.__lastMulti=t}else if(e.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(e.value.indexSplices);else{let t=n.slice(`${JSCompiler_renameProperty("items",this)}.`.length),e=parseInt(t,10);t.indexOf(".")<0&&t==e&&this.__deselectChangedIdx(e)}}__applySplices(t){let e=this.__selectedMap;for(let n=0;n<t.length;n++){let r=t[n];e.forEach((t,n)=>{t<r.index||(t>=r.index+r.removed.length?e.set(n,t+r.addedCount-r.removed.length):e.set(n,-1))});for(let t=0;t<r.addedCount;t++){let n=r.index+t;e.has(this.items[n])&&e.set(this.items[n],n)}}this.__updateLinks();let n=0;e.forEach((t,r)=>{t<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,e.delete(r)):n++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let t=0;this.__selectedMap.forEach(e=>{e>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${e}`,`${JSCompiler_renameProperty("selected",this)}.${t++}`)})}else this.__selectedMap.forEach(t=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${t}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${t}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(t){return this.__selectedMap.has(t)}isIndexSelected(t){return this.isSelected(this.items[t])}__deselectChangedIdx(t){let e=this.__selectedIndexForItemIndex(t);if(e>=0){let t=0;this.__selectedMap.forEach((n,r)=>{e==t++&&this.deselect(r)})}}__selectedIndexForItemIndex(t){let e=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${t}`];if(e)return parseInt(e.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(t){let e=this.__selectedMap.get(t);if(e>=0){let n;this.__selectedMap.delete(t),this.multi&&(n=this.__selectedIndexForItemIndex(e)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(t){this.deselect(this.items[t])}select(t){this.selectIndex(this.items.indexOf(t))}selectIndex(t){let e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),e):this.selected=this.selectedItem=e)}}})(Xl);class qf extends Vf{static get is(){return"array-selector"}static get template(){return null}}customElements.define(qf.is,qf),Yf=wf._mutablePropertyChange;Boolean,ff(HTMLElement).prototype;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var Hf=new Set;const Wf={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(Hf.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)},this),this._fireResize())},assignParentResizable:function(t){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=t,t&&-1===t._interestedResizables.indexOf(this)&&(t._interestedResizables.push(this),t._subscribeIronResize(this))},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(t))},_subscribeIronResize:function(t){t.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(t){t.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():Ja||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=af(t).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),t()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(t){t!==this&&t._findParent()},this):(Hf.forEach(function(t){t!==this&&t._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?Hf.delete(this):Hf.add(this)}},Jf=t=>(class extends t{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(t,e,n){super.attributeChangedCallback(t,e,n),"theme"===t&&this._setTheme(n)}}),Kf=t=>(class extends(Jf(t)){static finalize(){super.finalize();const t=this.prototype._template,e=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,n=Object.getPrototypeOf(this.prototype)._template;n&&!e&&Array.from(n.content.querySelectorAll("style[include]")).forEach(e=>{this._includeStyle(e.getAttribute("include"),t)}),this._includeMatchingThemes(t)}static _includeMatchingThemes(t){const e=au.prototype.modules;let n=!1;const r=this.is+"-default-theme";Object.keys(e).sort((t,e)=>{const n=0===t.indexOf("vaadin-"),r=0===e.indexOf("vaadin-"),i=["lumo-","material-"],o=i.filter(e=>0===t.indexOf(e)).length>0,s=i.filter(t=>0===e.indexOf(t)).length>0;return n!==r?n?-1:1:o!==s?o?-1:1:0}).forEach(i=>{if(i!==r){const r=e[i].getAttribute("theme-for");r&&r.split(" ").forEach(e=>{new RegExp("^"+e.split("*").join(".*")+"$").test(this.is)&&(n=!0,this._includeStyle(i,t))})}}),!n&&e[r]&&this._includeStyle(r,t)}static _includeStyle(t,e){if(e&&!e.content.querySelector(`style[include="${t}"]`)){const n=document.createElement("style");n.setAttribute("include",t),e.content.appendChild(n)}}}),Gf=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Xf=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function Zf(t,e){if("function"!=typeof t)return;const n=Gf.exec(t.toString());if(n)try{t=new Function(n[1])}catch(t){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",t)}return t(e)}window.Vaadin=window.Vaadin||{};const Qf=function(t,e){if(window.Vaadin.developmentMode)return Zf(t,e)};function td(){}void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(Xf?!function(){if(Xf){const t=Object.keys(Xf).map(t=>Xf[t]).filter(t=>t.productionMode);if(t.length>0)return!0}return!1}():!Zf(function(){return!0}))}catch(t){return!1}}());const ed=function(){return Qf(td)};let nd;window.Vaadin||(window.Vaadin={}),window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){ed&&ed()};const rd=new Set,id=t=>(class extends t{static finalize(){super.finalize();const{is:t}=this;t&&!rd.has(t)&&(window.Vaadin.registrations.push(this),rd.add(t),window.Vaadin.developmentModeCallback&&(nd=Zl.debounce(nd,Qu,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()}),tc(nd)))}constructor(){super(),null===document.doctype&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}});
/**
@license
Copyright (c) 2016 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class od extends(id(Kf(zc(function(t,e){return gf({},ff(e),t)}([Wf],Xl))))){static get template(){return Ou`
    <style>
      :host {
        display: flex;
        overflow: hidden !important;
        transform: translateZ(0);
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([orientation="vertical"]) {
        flex-direction: column;
      }

      :host ::slotted(*) {
        flex: 1 1 auto;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="splitter"] {
        flex: none;
        position: relative;
        z-index: 1;
        overflow: visible;
        min-width: 8px;
        min-height: 8px;
      }

      :host(:not([orientation="vertical"])) > [part="splitter"] {
        cursor: ew-resize;
      }

      :host([orientation="vertical"]) > [part="splitter"] {
        cursor: ns-resize;
      }

      [part="handle"] {
        width: 40px;
        height: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate3d(-50%, -50%, 0);
      }
    </style>
    <slot id="primary" name="primary"></slot>
    <div part="splitter" id="splitter" on-track="_onHandleTrack" on-down="_setPointerEventsNone" on-up="_restorePointerEvents">
      <div part="handle"></div>
    </div>
    <slot id="secondary" name="secondary"></slot>

    <div hidden="">
      <!-- Workaround to fix a Shady style scoping issue caused by dynamic slot naming of the child elements (primary/secondary) -->
      <slot></slot>
    </div>
`}static get is(){return"vaadin-split-layout"}static get version(){return"4.1.1"}static get properties(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}ready(){super.ready(),new Zc(this,this._processChildren)}_processChildren(){this.getEffectiveChildren().forEach((t,e)=>{0===e?(this._primaryChild=t,t.setAttribute("slot","primary")):1==e?(this._secondaryChild=t,t.setAttribute("slot","secondary")):t.removeAttribute("slot")})}_setFlexBasis(t,e,n){0===(e=Math.max(0,Math.min(e,n)))&&(e=1e-6),t.style.flex="1 1 "+e+"px"}_setPointerEventsNone(t){this._primaryChild&&this._secondaryChild&&(this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents,this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents,this._primaryChild.style.pointerEvents="none",this._secondaryChild.style.pointerEvents="none",t.preventDefault())}_restorePointerEvents(){this._primaryChild&&this._secondaryChild&&(this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents,this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents)}_onHandleTrack(t){if(this._primaryChild&&this._secondaryChild){var e="vertical"===this.orientation?"height":"width";if("start"!==t.detail.state){var n="vertical"===this.orientation?t.detail.dy:t.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+n,this._startSize.container),this._setFlexBasis(this._secondaryChild,this._startSize.secondary-n,this._startSize.container),this.notifyResize(),"end"===t.detail.state&&(this.dispatchEvent(new CustomEvent("splitter-dragend")),delete this._startSize)}else this._startSize={container:this.getBoundingClientRect()[e]-this.$.splitter.getBoundingClientRect()[e],primary:this._primaryChild.getBoundingClientRect()[e],secondary:this._secondaryChild.getBoundingClientRect()[e]}}}}customElements.define(od.is,od);const{Stitch:sd,RemoteMongoClient:ad,AnonymousCredential:ud}=n(75);var ld=sd.initializeDefaultAppClient("antidecubitus-uicqs");
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const cd=new WeakMap,hd=t=>"function"==typeof t&&cd.has(t),fd=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,dd=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},pd={},_d={},yd=`{{lit-${String(Math.random()).slice(2)}}}`,md=`\x3c!--${yd}--\x3e`,gd=new RegExp(`${yd}|${md}`),vd="$lit$";class bd{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],i=document.createTreeWalker(e.content,133,null,!1);let o=0,s=-1,a=0;const{strings:u,values:{length:l}}=t;for(;a<l;){const t=i.nextNode();if(null!==t){if(s++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)wd(e[t].name,vd)&&r++;for(;r-- >0;){const e=u[a],n=Ad.exec(e)[2],r=n.toLowerCase()+vd,i=t.getAttribute(r);t.removeAttribute(r);const o=i.split(gd);this.parts.push({type:"attribute",index:s,name:n,strings:o}),a+=o.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(yd)>=0){const r=t.parentNode,i=e.split(gd),o=i.length-1;for(let e=0;e<o;e++){let n,o=i[e];if(""===o)n=Sd();else{const t=Ad.exec(o);null!==t&&wd(t[2],vd)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-vd.length)+t[3]),n=document.createTextNode(o)}r.insertBefore(n,t),this.parts.push({type:"node",index:++s})}""===i[o]?(r.insertBefore(Sd(),t),n.push(t)):t.data=i[o],a+=o}}else if(8===t.nodeType)if(t.data===yd){const e=t.parentNode;null!==t.previousSibling&&s!==o||(s++,e.insertBefore(Sd(),t)),o=s,this.parts.push({type:"node",index:s}),null===t.nextSibling?t.data="":(n.push(t),s--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(yd,e+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=r.pop()}for(const t of n)t.parentNode.removeChild(t)}}const wd=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},Ed=t=>-1!==t.index,Sd=()=>document.createComment(""),Ad=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class Nd{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=fd?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let i,o=0,s=0,a=r.nextNode();for(;o<n.length;)if(i=n[o],Ed(i)){for(;s<i.index;)s++,"TEMPLATE"===a.nodeName&&(e.push(a),r.currentNode=a.content),null===(a=r.nextNode())&&(r.currentNode=e.pop(),a=r.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return fd&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Td=` ${yd} `;class Od{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const o=Ad.exec(t);e+=null===o?t+(n?Td:md):t.substr(0,o.index)+o[1]+o[2]+vd+o[3]+yd}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const Pd=t=>null===t||!("object"==typeof t||"function"==typeof t),Cd=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class xd{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new Id(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let r=0;r<e;r++){n+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(Pd(t)||!Cd(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Id{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===pd||Pd(t)&&t===this.value||(this.value=t,hd(t)||(this.committer.dirty=!0))}commit(){for(;hd(this.value);){const t=this.value;this.value=pd,t(this)}this.value!==pd&&this.committer.commit()}}class Rd{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(Sd()),this.endNode=t.appendChild(Sd())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=Sd()),t.__insert(this.endNode=Sd())}insertAfterPart(t){t.__insert(this.startNode=Sd()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;hd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=pd,t(this)}const t=this.__pendingValue;t!==pd&&(Pd(t)?t!==this.value&&this.__commitText(t):t instanceof Od?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):Cd(t)?this.__commitIterable(t):t===_d?(this.value=_d,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof Nd&&this.value.template===e)this.value.update(t.values);else{const n=new Nd(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)void 0===(n=e[r])&&(n=new Rd(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){dd(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Bd{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;hd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=pd,t(this)}if(this.__pendingValue===pd)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=pd}}class Dd extends xd{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new Md(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Md extends Id{}let Ud=!1;try{const t={get capture(){return Ud=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class kd{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=(t=>this.handleEvent(t))}setValue(t){this.__pendingValue=t}commit(){for(;hd(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=pd,t(this)}if(this.__pendingValue===pd)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=Ld(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=pd}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Ld=t=>t&&(Ud?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Fd=new class{handleAttributeExpressions(t,e,n,r){const i=e[0];return"."===i?new Dd(t,e.slice(1),n).parts:"@"===i?[new kd(t,e.slice(1),r.eventContext)]:"?"===i?[new Bd(t,e.slice(1),n)]:new xd(t,e,n).parts}handleTextExpression(t){return new Rd(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function jd(t){let e=$d.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},$d.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(yd);return void 0===(n=e.keyString.get(r))&&(n=new bd(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const $d=new Map,zd=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const Yd=(t,...e)=>new Od(t,e,"html",Fd),Vd=133;function qd(t,e){const{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,Vd,null,!1);let o=Wd(r),s=r[o],a=-1,u=0;const l=[];let c=null;for(;i.nextNode();){a++;const t=i.currentNode;for(t.previousSibling===c&&(c=null),e.has(t)&&(l.push(t),null===c&&(c=t)),null!==c&&u++;void 0!==s&&s.index===a;)s.index=null!==c?-1:s.index-u,s=r[o=Wd(r,o)]}l.forEach(t=>t.parentNode.removeChild(t))}const Hd=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,Vd,null,!1);for(;n.nextNode();)e++;return e},Wd=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(Ed(e))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const Jd=(t,e)=>`${t}--${e}`;let Kd=!0;void 0===window.ShadyCSS?Kd=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Kd=!1);const Gd=["html","svg"],Xd=new Set,Zd=(t,e,n)=>{Xd.add(t);const r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(r,t);const s=document.createElement("style");for(let t=0;t<o;t++){const e=i[t];e.parentNode.removeChild(e),s.textContent+=e.textContent}(t=>{Gd.forEach(e=>{const n=$d.get(Jd(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),qd(t,n)})})})(t);const a=r.content;n?function(t,e,n=null){const{element:{content:r},parts:i}=t;if(null===n||void 0===n)return void r.appendChild(e);const o=document.createTreeWalker(r,Vd,null,!1);let s=Wd(i),a=0,u=-1;for(;o.nextNode();)for(u++,o.currentNode===n&&(a=Hd(e),n.parentNode.insertBefore(e,n));-1!==s&&i[s].index===u;){if(a>0){for(;-1!==s;)i[s].index+=a,s=Wd(i,s);return}s=Wd(i,s)}}(n,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const u=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)e.insertBefore(u.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(s,a.firstChild);const t=new Set;t.add(s),qd(n,t)}};window.JSCompiler_renameProperty=((t,e)=>t);const Qd={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},tp=(t,e)=>e!==t&&(e==e||t==t),ep={attribute:!0,type:String,converter:Qd,reflect:!1,hasChanged:tp},np=Promise.resolve(!0),rp=1,ip=4,op=8,sp=16,ap=32,up="finalized";class lp extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=np,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const r=this._attributeNameForProperty(n,e);void 0!==r&&(this._attributeToPropertyMap.set(r,n),t.push(r))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=ep){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`;Object.defineProperty(this.prototype,t,{get(){return this[n]},set(e){const r=this[t];this[n]=e,this._requestUpdate(t,r)},configurable:!0,enumerable:!0})}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty(up)||t.finalize(),this[up]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=tp){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||Qd,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||Qd.toAttribute)(t,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|ap,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=ep){const r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=this._updateState|op,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=this._updateState&~op}}_attributeToProperty(t,e){if(this._updateState&op)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n._classProperties.get(r)||ep;this._updateState=this._updateState|sp,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=this._updateState&~sp}}_requestUpdate(t,e){let n=!0;if(void 0!==t){const r=this.constructor,i=r._classProperties.get(t)||ep;r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||this._updateState&sp||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){let t,e;this._updateState=this._updateState|ip;const n=this._updatePromise;this._updatePromise=new Promise((n,r)=>{t=n,e=r});try{await n}catch(t){}this._hasConnected||await new Promise(t=>this._hasConnectedResolver=t);try{const t=this.performUpdate();null!=t&&await t}catch(t){e(t)}t(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&ap}get _hasRequestedUpdate(){return this._updateState&ip}get hasUpdated(){return this._updateState&rp}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{(t=this.shouldUpdate(e))&&this.update(e)}catch(e){throw t=!1,e}finally{this._markUpdated()}t&&(this._updateState&rp||(this._updateState=this._updateState|rp,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~ip}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0)}updated(t){}firstUpdated(t){}}lp[up]=!0;const cp="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype;Symbol();
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const hp=t=>t.flat?t.flat(1/0):function t(e,n=[]){for(let r=0,i=e.length;r<i;r++){const i=e[r];Array.isArray(i)?t(i,n):n.push(i)}return n}(t);class fp extends lp{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const t=this.styles,e=[];if(Array.isArray(t)){hp(t).reduceRight((t,e)=>(t.add(e),t),new Set).forEach(t=>e.unshift(t))}else t&&e.push(t);return e}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?cp?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){super.update(t);const e=this.render();e instanceof Od&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){}}fp.finalized=!0,fp.render=((t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const r=n.scopeName,i=zd.has(e),o=Kd&&11===e.nodeType&&!!e.host,s=o&&!Xd.has(r),a=s?document.createDocumentFragment():e;if(((t,e,n)=>{let r=zd.get(e);void 0===r&&(dd(e,e.firstChild),zd.set(e,r=new Rd(Object.assign({templateFactory:jd},n))),r.appendInto(e)),r.setValue(t),r.commit()})(t,a,Object.assign({templateFactory:(t=>e=>{const n=Jd(e.type,t);let r=$d.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},$d.set(n,r));let i=r.stringsArray.get(e.strings);if(void 0!==i)return i;const o=e.strings.join(yd);if(void 0===(i=r.keyString.get(o))){const n=e.getTemplateElement();Kd&&window.ShadyCSS.prepareTemplateDom(n,t),i=new bd(e,n),r.keyString.set(o,i)}return r.stringsArray.set(e.strings,i),i})(r)},n)),s){const t=zd.get(a);zd.delete(a);const n=t.value instanceof Nd?t.value.template:void 0;Zd(r,a,n),dd(e,e.firstChild),e.appendChild(a),zd.set(e,t)}!i&&o&&window.ShadyCSS.styleElement(e.host)});var dp=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},pp=null,_p=1e3,yp=60,mp=[],gp=20,vp=0,bp=14400,wp=0,Ep=null;const Sp=async()=>{try{(Ep=await navigator.wakeLock.request("screen")).addEventListener("release",()=>{console.log("Screen Wake Lock was released")}),console.log("Screen Wake Lock is active")}catch(t){console.error(`${t.name}, ${t.message}`)}},Ap=()=>{null!==Ep&&"visible"===document.visibilityState&&(console.log("released lock getting it again"),Sp())};Sp(),document.addEventListener("visibilitychange",Ap),document.addEventListener("fullscreenchange",Ap),document.getElementById("reset").onclick=function(){wp=0};let Np=class extends fp{constructor(){super(),this.firstread=!0,this._handleGetAccelerometer=this._handleGetAccelerometer.bind(this),this.firstread=!0}createRenderRoot(){return this}render(){return Yd`
    <style>
    .container{
      width:33%;
      max-width:825px;
      margin: 0 auto;
       position: relative;
     }
     </style>
     
      <lsg-bluetooth id=BTLE 
      primaryServiceObject = '[[{"service":"00001523-3edb-ecac-9b4b-631f8a7f885e",
                          "characteristic":"00001525-3edb-ecac-9b4b-631f8a7f885e"}]]'
       name="sensor" class="button w3-round-xxlarge w3-cell w3-hover-opacity">
      </lsg-bluetooth> 
     
        `}firstUpdated(t){document.getElementById("BTLE").addEventListener("data-event",Tp),setInterval(this._handleGetAccelerometer.bind(this),_p)}_handleGetAccelerometer(){"connected"===document.getElementById("BTLE").connectedStr?this.firstread?null==pp?(!function(){let t=[{serviceNr:0,action:lt.write,data:Op("{'R_MAC':1}")},{serviceNr:0,action:lt.read,data:null}];document.getElementById("BTLE").btledata=t,document.getElementById("BTLE").read=!0}(),pp="0"):(this.firstread=!1,Pp()):document.getElementById("BTLE").read=!0:this.firstread=!0}clickFunctionRead(){console.log("r click called")}clickFunctionWrite(){Pp(),console.log("w click called")}};function Tp(t){var e=t.detail.message;if(console.log("btle incoming :"+e),"connected"!==e)if("0"===pp)pp=function(t){for(var e=new Uint8Array(t.buffer),n="",r=0;r<t.byteLength-1;r++)n+=String.fromCharCode(e[r]);return n}(e),console.log("macAdrr set to :",pp),document.getElementById("macaddressTxt").innerText="LSG "+pp;else{var n=(function(t){for(var e=t.byteLength,n="",r=0,i=0;i<e;i+=1)r=t.getUint8(i),n+=String.fromCharCode(r);return n}(e).slice(0,-1)+" \n").split(" ",3),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]);if(console.log("xval :"+r,"yval :"+i,"zval :"+o),0==r&&(r=1),0==i&&(i=1),0==o&&(o=1),Math.abs(r)+Math.abs(i)+Math.abs(o)>1e3){var s=Math.atan(r/o);console.log("angle : "+s),s*=180/Math.PI,console.log("anglePI :"+s),o>0&&r>0&&(s=180-s),o<0&&r>0&&(s=0+Math.abs(s)),o<0&&r<0&&(s=360-s),o>0&&r<0&&(s=180+Math.abs(s))}else{var a=180*Math.atan(i/Math.sqrt(Math.pow(r,2)+Math.pow(o,2)))/Math.PI,u=180*Math.atan(-1*r/Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))/Math.PI;console.log("roll :"+a),console.log("pitch :"+u),i>0&&o>0&&(s=a),i>0&&o<0&&(s=180-a),i<0&&o<0&&(s=180+Math.abs(a)),i<0&&o>0&&(s=360-Math.abs(a))}if(console.log("anglecorr :"+s),!isNaN(s)){var l=[s];if(document.getElementById("PIE").dataPoints=l,mp.push(s),mp.length>=yp){let t=function(t){for(var e=0,n=(t=t.sort(),1);n<t.length-1;n++)e+=t[n];return e/=t.length-2}(mp);Math.abs(vp-t)<gp?(wp+=_p/1e3*yp*10)>bp?(document.getElementById("alarmMenu").style.backgroundColor="red",document.getElementById("turnProgressBar").className="w3-container w3-round w3-red w3-center"):wp>bp/2?(document.getElementById("alarmMenu").style.backgroundColor="yellow",document.getElementById("turnProgressBar").className="w3-container w3-round w3-yellow w3-center"):(document.getElementById("alarmMenu").style.backgroundColor="transparent",document.getElementById("turnProgressBar").className="w3-container w3-round w3-blue w3-center"):(wp=0,document.getElementById("alarmMenu").style.backgroundColor="transparent",document.getElementById("turnProgressBar").className="w3-container w3-round w3-blue w3-center");let e=wp/216;document.getElementById("turnProgressBar").style.width=e+"%",document.getElementById("turnProgressBar").innerText=(wp/60).toString()+"Min";var c=new Date,h={time:0,pos:0,alarm:0};h.time=c.getTime()/1e3,h.pos=t,h.alarm=wp,function(t){!async function(t,e){ld.auth.loginWithCredential(new ud).then(ld.callFunction("AddLog",[t,e]).then(n=>{console.log(n),n.res.position_log.pos!=e.pos&&console.log("Db error :"+t+" log : "+e)}))}(pp,t)}(h),vp=t,mp=[]}}}}Np=dp([(t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(e){window.customElements.define(t,e)}}})(t,e))("lsg-carin")],Np);function Op(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Int8Array(n),i=0;i<e;i+=1)r[i]=t.charCodeAt(i);return new DataView(n)}function Pp(){let t=[{serviceNr:0,action:lt.write,data:Op("{'R_ACC':1}")},{serviceNr:0,action:lt.read,data:null}];document.getElementById("BTLE").btledata=t,document.getElementById("BTLE").read=!0}window.addEventListener("load",()=>{!async function(){if("serviceWorker"in navigator)try{await navigator.serviceWorker.register("./sw.js")}catch(t){console.log("ServiceWorker registration failed. Sorry about that.",t)}else console.log("Your browser does not support ServiceWorker.")}()})},75:function(t,e,n){"use strict";n.r(e);var r,i=n(0);!function(t){t[t.ActiveUserChanged=0]="ActiveUserChanged",t[t.ListenerRegistered=1]="ListenerRegistered",t[t.UserAdded=2]="UserAdded",t[t.UserLinked=3]="UserLinked",t[t.UserLoggedIn=4]="UserLoggedIn",t[t.UserLoggedOut=5]="UserLoggedOut",t[t.UserRemoved=6]="UserRemoved"}(r||(r={}));var o=function(){function t(t,e,n,r,i,o,s,a){this.userId=t,this.deviceId=e,this.accessToken=n,this.refreshToken=r,this.loggedInProviderType=i,this.loggedInProviderName=o,this.lastAuthActivity=s,this.userProfile=a}return t.empty=function(){return new t(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},Object.defineProperty(t.prototype,"hasUser",{get:function(){return void 0!==this.userId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return void 0===this.deviceId},enumerable:!0,configurable:!0}),t.prototype.loggedOut=function(){return new t(this.userId,this.deviceId,void 0,void 0,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},t.prototype.withClearedUser=function(){return new t(void 0,this.deviceId,void 0,void 0,void 0,void 0,void 0,void 0)},t.prototype.withAuthProvider=function(e,n){return new t(this.userId,this.deviceId,this.accessToken,this.refreshToken,e,n,new Date,this.userProfile)},t.prototype.withNewAuthActivityTime=function(){return new t(this.userId,this.deviceId,this.accessToken,this.refreshToken,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return void 0!==this.accessToken&&void 0!==this.refreshToken},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t(void 0===e.userId?this.userId:e.userId,void 0===e.deviceId?this.deviceId:e.deviceId,void 0===e.accessToken?this.accessToken:e.accessToken,void 0===e.refreshToken?this.refreshToken:e.refreshToken,void 0===e.loggedInProviderType?this.loggedInProviderType:e.loggedInProviderType,void 0===e.loggedInProviderName?this.loggedInProviderName:e.loggedInProviderName,void 0===e.lastAuthActivity?this.lastAuthActivity:e.lastAuthActivity,void 0===e.userProfile?this.userProfile:e.userProfile)},t}(),s=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this),this.message=t,this.name=this.constructor.name};a.prototype=Object.create(Error.prototype);var u,l,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(a);!function(t){t[t.TRANSPORT_ERROR=0]="TRANSPORT_ERROR",t[t.DECODING_ERROR=1]="DECODING_ERROR",t[t.ENCODING_ERROR=2]="ENCODING_ERROR"}(l||(l={}));var h,f=((u={})[l.TRANSPORT_ERROR]="the request transport encountered an error communicating with Stitch",u[l.DECODING_ERROR]="an error occurred while decoding a response from Stitch",u[l.ENCODING_ERROR]="an error occurred while encoding a request for Stitch",u),d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n){var r=this,i="("+l[n]+"): "+f[n]+": "+e.message;return(r=t.call(this,i)||this).underlyingError=e,r.errorCode=n,r.errorCodeName=l[n],r}return d(e,t),e}(c);!function(t){t[t.MissingAuthReq=0]="MissingAuthReq",t[t.InvalidSession=1]="InvalidSession",t[t.UserAppDomainMismatch=2]="UserAppDomainMismatch",t[t.DomainNotAllowed=3]="DomainNotAllowed",t[t.ReadSizeLimitExceeded=4]="ReadSizeLimitExceeded",t[t.InvalidParameter=5]="InvalidParameter",t[t.MissingParameter=6]="MissingParameter",t[t.TwilioError=7]="TwilioError",t[t.GCMError=8]="GCMError",t[t.HTTPError=9]="HTTPError",t[t.AWSError=10]="AWSError",t[t.MongoDBError=11]="MongoDBError",t[t.ArgumentsNotAllowed=12]="ArgumentsNotAllowed",t[t.FunctionExecutionError=13]="FunctionExecutionError",t[t.NoMatchingRuleFound=14]="NoMatchingRuleFound",t[t.InternalServerError=15]="InternalServerError",t[t.AuthProviderNotFound=16]="AuthProviderNotFound",t[t.AuthProviderAlreadyExists=17]="AuthProviderAlreadyExists",t[t.ServiceNotFound=18]="ServiceNotFound",t[t.ServiceTypeNotFound=19]="ServiceTypeNotFound",t[t.ServiceAlreadyExists=20]="ServiceAlreadyExists",t[t.ServiceCommandNotFound=21]="ServiceCommandNotFound",t[t.ValueNotFound=22]="ValueNotFound",t[t.ValueAlreadyExists=23]="ValueAlreadyExists",t[t.ValueDuplicateName=24]="ValueDuplicateName",t[t.FunctionNotFound=25]="FunctionNotFound",t[t.FunctionAlreadyExists=26]="FunctionAlreadyExists",t[t.FunctionDuplicateName=27]="FunctionDuplicateName",t[t.FunctionSyntaxError=28]="FunctionSyntaxError",t[t.FunctionInvalid=29]="FunctionInvalid",t[t.IncomingWebhookNotFound=30]="IncomingWebhookNotFound",t[t.IncomingWebhookAlreadyExists=31]="IncomingWebhookAlreadyExists",t[t.IncomingWebhookDuplicateName=32]="IncomingWebhookDuplicateName",t[t.RuleNotFound=33]="RuleNotFound",t[t.ApiKeyNotFound=34]="ApiKeyNotFound",t[t.RuleAlreadyExists=35]="RuleAlreadyExists",t[t.RuleDuplicateName=36]="RuleDuplicateName",t[t.AuthProviderDuplicateName=37]="AuthProviderDuplicateName",t[t.RestrictedHost=38]="RestrictedHost",t[t.ApiKeyAlreadyExists=39]="ApiKeyAlreadyExists",t[t.IncomingWebhookAuthFailed=40]="IncomingWebhookAuthFailed",t[t.ExecutionTimeLimitExceeded=41]="ExecutionTimeLimitExceeded",t[t.FunctionNotCallable=42]="FunctionNotCallable",t[t.UserAlreadyConfirmed=43]="UserAlreadyConfirmed",t[t.UserNotFound=44]="UserNotFound",t[t.UserDisabled=45]="UserDisabled",t[t.Unknown=46]="Unknown"}(h||(h={}));var _={APIKeyAlreadyExists:h.ApiKeyAlreadyExists,APIKeyNotFound:h.ApiKeyNotFound,AWSError:h.AWSError,ArgumentsNotAllowed:h.ArgumentsNotAllowed,AuthProviderAlreadyExists:h.AuthProviderAlreadyExists,AuthProviderDuplicateName:h.AuthProviderDuplicateName,AuthProviderNotFound:h.AuthProviderNotFound,DomainNotAllowed:h.DomainNotAllowed,ExecutionTimeLimitExceeded:h.ExecutionTimeLimitExceeded,FunctionAlreadyExists:h.FunctionAlreadyExists,FunctionDuplicateName:h.FunctionDuplicateName,FunctionExecutionError:h.FunctionExecutionError,FunctionInvalid:h.FunctionInvalid,FunctionNotCallable:h.FunctionNotCallable,FunctionNotFound:h.FunctionNotFound,FunctionSyntaxError:h.FunctionSyntaxError,GCMError:h.GCMError,HTTPError:h.HTTPError,IncomingWebhookAlreadyExists:h.IncomingWebhookAlreadyExists,IncomingWebhookAuthFailed:h.IncomingWebhookAuthFailed,IncomingWebhookDuplicateName:h.IncomingWebhookDuplicateName,IncomingWebhookNotFound:h.IncomingWebhookNotFound,InternalServerError:h.InternalServerError,InvalidParameter:h.InvalidParameter,InvalidSession:h.InvalidSession,MissingAuthReq:h.MissingAuthReq,MissingParameter:h.MissingParameter,MongoDBError:h.MongoDBError,NoMatchingRuleFound:h.NoMatchingRuleFound,ReadSizeLimitExceeded:h.ReadSizeLimitExceeded,RestrictedHost:h.RestrictedHost,RuleAlreadyExists:h.RuleAlreadyExists,RuleDuplicateName:h.RuleDuplicateName,RuleNotFound:h.RuleNotFound,ServiceAlreadyExists:h.ServiceAlreadyExists,ServiceCommandNotFound:h.ServiceCommandNotFound,ServiceNotFound:h.ServiceNotFound,ServiceTypeNotFound:h.ServiceTypeNotFound,TwilioError:h.TwilioError,UserAlreadyConfirmed:h.UserAlreadyConfirmed,UserAppDomainMismatch:h.UserAppDomainMismatch,UserDisabled:h.UserDisabled,UserNotFound:h.UserNotFound,ValueAlreadyExists:h.ValueAlreadyExists,ValueDuplicateName:h.ValueDuplicateName,ValueNotFound:h.ValueNotFound};function y(t){return t in _?_[t]:h.Unknown}var m,g,v=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(t){function e(e,n){void 0===n&&(n=h.Unknown);var r=t.call(this,e)||this;return r.message=e,r.errorCode=n,r.errorCodeName=h[n],r}return v(e,t),e}(c),w=function(){function t(){}return t.APPLICATION_JSON="application/json",t.TEXT_EVENT_STREAM="text/event-stream",t}(),E=function(){function t(){}return t.getAuthorizationBearer=function(e){return t.AUTHORIZATION_BEARER+" "+e},t.CONTENT_TYPE_CANON="Content-Type",t.CONTENT_TYPE=t.CONTENT_TYPE_CANON.toLocaleLowerCase(),t.AUTHORIZATION_CANON="Authorization",t.AUTHORIZATION=t.AUTHORIZATION_CANON.toLocaleLowerCase(),t.ACCEPT_CANON="Accept",t.ACCEPT=t.ACCEPT_CANON.toLocaleLowerCase(),t.AUTHORIZATION_BEARER="Bearer",t}();function S(t){return t instanceof c?t:new p(t,l.DECODING_ERROR)}function A(t){if(void 0===t.body)throw new b("received unexpected status code "+t.statusCode,h.Unknown);var e;try{e=t.body}catch(e){throw new b("received unexpected status code "+t.statusCode,h.Unknown)}var n=function(t,e){if(void 0===t.headers[E.CONTENT_TYPE]||void 0!==t.headers[E.CONTENT_TYPE]&&t.headers[E.CONTENT_TYPE]!==w.APPLICATION_JSON)return e;var n=JSON.parse(e);if(!(n instanceof Object))return e;var r=n;if(void 0===r[m.ERROR])return e;var i=r[m.ERROR];if(void 0===r[m.ERROR_CODE])return i;var o=r[m.ERROR_CODE];throw new b(i,y(o))}(t,e);throw new b(n,h.Unknown)}!function(t){t.ERROR="error",t.ERROR_CODE="error_code"}(m||(m={})),function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.TRACE="TRACE",t.PATCH="PATCH"}(g||(g={}));var N=g,T=function(){function t(t,e,n,r,i){this.method=t,this.path=e,this.headers=n,this.body=i,this.startedAt=r}return Object.defineProperty(t.prototype,"builder",{get:function(){return new t.Builder(this)},enumerable:!0,configurable:!0}),t}();!function(t){var e=function(){function e(t){void 0!==t&&(this.method=t.method,this.path=t.path,this.headers=t.headers,this.body=t.body,this.startedAt=t.startedAt)}return e.prototype.withMethod=function(t){return this.method=t,this},e.prototype.withPath=function(t){return this.path=t,this},e.prototype.withHeaders=function(t){return this.headers=t,this},e.prototype.withBody=function(t){return this.body=t,this},e.prototype.build=function(){if(void 0===this.method)throw Error("must set method");if(void 0===this.path)throw Error("must set non-empty path");return void 0===this.startedAt&&(this.startedAt=Date.now()/1e3),new t(this.method,this.path,void 0===this.headers?{}:this.headers,this.startedAt,this.body)},e}();t.Builder=e}(T||(T={}));var O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=function(t){function e(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var i=t.call(this,e.method,e.path,e.headers,e.startedAt,e.body)||this;return i.useRefreshToken=n,i.shouldRefreshOnFailure=r,i}return O(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(T);!function(t){var e=function(e){function n(t){return e.call(this,t)||this}return O(n,e),n.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},n.prototype.withRefreshToken=function(){return this.useRefreshToken=!0,this},n.prototype.withShouldRefreshOnFailure=function(t){return this.shouldRefreshOnFailure=t,this},n.prototype.build=function(){return this.useRefreshToken&&(this.shouldRefreshOnFailure=!1),new t(e.prototype.build.call(this),this.useRefreshToken,this.shouldRefreshOnFailure)},n}(T.Builder);t.Builder=e}(P||(P={}));var C=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n){var r=this;return(r=e instanceof P?t.call(this,e,e.useRefreshToken,e.shouldRefreshOnFailure)||this:t.call(this,e)||this).document=n,r}return C(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(P);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return void 0!==t&&(n.document=t.document,n.useRefreshToken=t.useRefreshToken),n}return C(n,e),n.prototype.withDocument=function(t){return this.document=t,this},n.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set: "+this.document);return void 0===this.headers&&this.withHeaders({}),this.headers[E.CONTENT_TYPE]=w.APPLICATION_JSON,this.withBody(i.a.stringify(this.document,{relaxed:!1})),new t(e.prototype.build.call(this),this.document)},n}(P.Builder);t.Builder=e}(x||(x={}));var I,R,B=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(e,n){var r=t.call(this,e.method,e.path,e.headers,e.startedAt,e.body)||this;return r.document=n,r}return B(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(T);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return void 0!==t&&(n.document=t.document),n}return B(n,e),n.prototype.withDocument=function(t){return this.document=t,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set");return void 0===this.headers&&this.withHeaders({}),this.headers[E.CONTENT_TYPE]=w.APPLICATION_JSON,this.withBody(i.a.stringify(this.document,{relaxed:!1})),new t(e.prototype.build.call(this),this.document)},n}(T.Builder);t.Builder=e}(D||(D={})),function(t){t[t.LoggedOutDuringRequest=0]="LoggedOutDuringRequest",t[t.MustAuthenticateFirst=1]="MustAuthenticateFirst",t[t.UserNoLongerValid=2]="UserNoLongerValid",t[t.UserNotFound=3]="UserNotFound",t[t.UserNotLoggedIn=4]="UserNotLoggedIn",t[t.CouldNotLoadPersistedAuthInfo=5]="CouldNotLoadPersistedAuthInfo",t[t.CouldNotPersistAuthInfo=6]="CouldNotPersistAuthInfo",t[t.StreamingNotSupported=7]="StreamingNotSupported",t[t.StreamClosed=8]="StreamClosed",t[t.UnexpectedArguments=9]="UnexpectedArguments"}(R||(R={}));var M,U=((I={})[R.LoggedOutDuringRequest]="logged out while making a request to Stitch",I[R.MustAuthenticateFirst]="method called requires being authenticated",I[R.UserNoLongerValid]="user instance being accessed is no longer valid; please get a new user with auth.getUser()",I[R.UserNotFound]="user not found in list of users",I[R.UserNotLoggedIn]="cannot make the active user a logged out user; please use loginWithCredential() to switch to this user",I[R.CouldNotLoadPersistedAuthInfo]="failed to load stored auth information for Stitch",I[R.CouldNotPersistAuthInfo]="failed to save auth information for Stitch",I[R.StreamingNotSupported]="streaming not supported in this SDK",I[R.StreamClosed]="stream is closed",I[R.UnexpectedArguments]="function does not accept arguments",I),k=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(t){function e(e){var n=this,r="("+R[e]+"): "+U[e];return(n=t.call(this,r)||this).errorCode=e,n.errorCodeName=R[e],n}return k(e,t),e}(c),F=function(){function t(t,e){this.eventName=t,this.data=e}return t.MESSAGE_EVENT="message",t}(),j=function(){function t(e,n,r){this.eventName=e,n=n||"";for(var o=[],s=0;s<n.length;s++){var a=n[s];switch(a){case"%":if(s+2>=n.length)break;var u=void 0;switch(n.substring(s+1,s+3)){case"25":u=!0,o.push("%");break;case"0A":u=!0,o.push("\n");break;case"0D":u=!0,o.push("\r");break;default:u=!1}if(u){s+=2;continue}}o.push(a)}var l=o.join("");switch(this.eventName){case t.ERROR_EVENT_NAME:var c=void 0,f=void 0;try{var d=i.a.parse(l,{strict:!1});c=d[M.Error],f=y(d[M.ErrorCode])}catch(t){c=l,f=h.Unknown}this.error=new b(c,f);break;case F.MESSAGE_EVENT:this.data=i.a.parse(l,{strict:!1}),r&&(this.data=r.decode(this.data))}}return t.fromEvent=function(e,n){return new t(e.eventName,e.data,n)},t.ERROR_EVENT_NAME="error",t}();!function(t){t.Error="error",t.ErrorCode="error_code"}(M||(M={}));var $=function(){function t(t,e){this.eventStream=t,this.decoder=e,this.listeners=[]}return t.prototype.next=function(){var t=this;return this.eventStream.nextEvent().then(function(e){var n=j.fromEvent(e,t.decoder);if(n.eventName===j.ERROR_EVENT_NAME)throw n.error;return n.eventName===F.MESSAGE_EVENT?n.data:t.next()})},t.prototype.onNext=function(t){var e=this,n={onEvent:function(n){var r=j.fromEvent(n,e.decoder);r.eventName===F.MESSAGE_EVENT&&t(r.data)}};this.eventStream.addListener(n)},t.prototype.onError=function(t){var e=this,n={onEvent:function(n){var r=j.fromEvent(n,e.decoder);r.eventName===j.ERROR_EVENT_NAME&&t(r.error)}};this.eventStream.addListener(n)},t.prototype.addListener=function(t){var e=this,n={onEvent:function(n){var r=j.fromEvent(n,e.decoder);r.eventName===j.ERROR_EVENT_NAME?t.onError&&t.onError(r.error):t.onNext&&t.onNext(r.data)}};this.listeners.push([t,n]),this.eventStream.addListener(n)},t.prototype.removeListener=function(t){for(var e=-1,n=0;n<this.listeners.length;n++)if(this.listeners[n][0]===t){e=n;break}if(-1!==e){var r=this.listeners[e][1];this.listeners.splice(e,1),this.eventStream.removeListener(r)}},t.prototype.isOpen=function(){return this.eventStream.isOpen()},t.prototype.close=function(){this.eventStream.close()},t}(),z=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]),this.userType=t,this.data=e,this.identities=n}return t.empty=function(){return new t},Object.defineProperty(t.prototype,"name",{get:function(){return this.data.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"email",{get:function(){return this.data.email},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pictureUrl",{get:function(){return this.data.picture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstName",{get:function(){return this.data.first_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastName",{get:function(){return this.data.last_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gender",{get:function(){return this.data.gender},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"birthday",{get:function(){return this.data.birthday},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAge",{get:function(){var t=this.data.min_age;if(void 0!==t)return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAge",{get:function(){var t=this.data.max_age;if(void 0!==t)return t},enumerable:!0,configurable:!0}),t}(),Y=function(){function t(t,e,n,r,i,o,s){this.id=t,this.loggedInProviderType=e,this.loggedInProviderName=n,this.profile=void 0===o?z.empty():o,this.isLoggedIn=r,this.lastAuthActivity=i,this.customData=void 0===s?{}:s}return Object.defineProperty(t.prototype,"userType",{get:function(){return this.profile.userType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identities",{get:function(){return this.profile.identities},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this.id===t.id&&JSON.stringify(this.identities)===JSON.stringify(t.identities)&&this.isLoggedIn===t.isLoggedIn&&this.loggedInProviderName===t.loggedInProviderName&&this.loggedInProviderType===t.loggedInProviderType&&JSON.stringify(this.profile)===JSON.stringify(t.profile)},t}(),V=function(){function t(){}return t.TYPE="anon-user",t.DEFAULT_NAME="anon-user",t}(),q=function(){return function(t,e,n,r){this.authInfo=t,this.providerType=e,this.providerName=n,this.asLink=r}}(),H=n(9);function W(t){var e,n=t.length%4;0!=n?e=t+"=".repeat(4-n):e=t;var r=Object(H.toByteArray)(e);return function(t,e,n){var r="",i="";n=Math.min(t.length,n||1/0);for(var o=e=e||0;o<n;o++)t[o]<=127?(r+=G(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+G(i)}(r,0,r.length)}function J(t){var e;return"undefined"==typeof Uint8Array&&(e=K(t)),e=new Uint8Array(K(t)),Object(H.fromByteArray)(e)}function K(t){for(var e,n=1/0,r=t.length,i=null,o=[],s=0;s<r;s++){if((e=t.charCodeAt(s))>55295&&e<57344){if(!i){if(e>56319){(n-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(n-=3)>-1&&o.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&((n-=3)>-1&&o.push(239,191,189),i=null);if(e<128){if((n-=1)<0)break;o.push(e)}else if(e<2048){if((n-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<2097152))throw new Error("Invalid code point");if((n-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){try{return decodeURIComponent(t)}catch(t){return String.fromCharCode(65533)}}var X,Z=function(){function t(t,e,n){this.expires=t,this.issuedAt=e,this.userData=n}return t.fromEncoded=function(e){var n=t.splitToken(e),r=JSON.parse(W(n[1]));return new t(r.exp,r.iat,r.user_data)},t.splitToken=function(t){var e=t.split(".");if(3!==e.length)throw new Error("Malformed JWT token. The string "+t+" should have 3 parts.");return e},t}(),Q=function(){function t(t){this.auth=t}return t.prototype.shouldRefresh=function(){var t=this.auth;if(void 0===t)return!1;if(!t.isLoggedIn)return!1;var e,n=t.authInfo;if(void 0===n)return!1;if(!n.isLoggedIn)return!1;try{e=Z.fromEncoded(n.accessToken)}catch(t){return console.log(t),!1}return!(Date.now()/1e3<e.expires-300)},t.prototype.run=function(){var t=this;this.shouldRefresh()?this.auth.refreshAccessToken().then(function(){t.nextTimeout=setTimeout(function(){return t.run()},6e4)}).catch(function(){t.nextTimeout=setTimeout(function(){return t.run()},6e4)}):this.nextTimeout=setTimeout(function(){return t.run()},6e4)},t.prototype.stop=function(){clearTimeout(this.nextTimeout)},t}(),tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.USER_ID="user_id",t.DEVICE_ID="device_id",t.ACCESS_TOKEN="access_token",t.REFRESH_TOKEN="refresh_token"}(X||(X={}));var et,nt=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return tt(e,t),e.fromJSON=function(t){return new e(t[X.USER_ID],t[X.DEVICE_ID],t[X.ACCESS_TOKEN],t[X.REFRESH_TOKEN])},e.prototype.toJSON=function(){var t;return(t={})[X.USER_ID]=this.userId,t[X.DEVICE_ID]=this.deviceId,t[X.ACCESS_TOKEN]=this.accessToken,t[X.REFRESH_TOKEN]=this.refreshToken,t},e}(o),rt=function(){function t(){}return t.keyPresent=function(t,e){if(void 0===e[t])throw new Error("expected "+t+" to be present")},t}(),it=function(){return function(t,e){this.id=t,this.providerType=e}}(),ot=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.ID="id",t.PROVIDER_TYPE="provider_type"}(et||(et={}));var st,at=function(t){function e(e,n){return t.call(this,e,n)||this}return ot(e,t),e.fromJSON=function(t){return new e(t[et.ID],t[et.PROVIDER_TYPE])},e.prototype.toJSON=function(){var t;return(t={})[et.ID]=this.id,t[et.PROVIDER_TYPE]=this.providerType,t},e}(it),ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.DATA="data",t.USER_TYPE="type",t.IDENTITIES="identities"}(st||(st={}));var lt,ct=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return ut(e,t),e.fromJSON=function(t){return rt.keyPresent(st.USER_TYPE,t),rt.keyPresent(st.DATA,t),rt.keyPresent(st.IDENTITIES,t),new e(t[st.USER_TYPE],t[st.DATA],t[st.IDENTITIES].map(at.fromJSON))},e.prototype.toJSON=function(){var t;return(t={})[st.DATA]=this.data,t[st.USER_TYPE]=this.userType,t[st.IDENTITIES]=this.identities,t},e}(z),ht=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.ID="id",t.PROVIDER_TYPE="provider_type"}(lt||(lt={}));var ft,dt=function(t){function e(e,n){return t.call(this,e,n)||this}return ht(e,t),e.decode=function(t){return new e(t[lt.ID],t[lt.PROVIDER_TYPE])},e.prototype.encode=function(){var t;return(t={})[lt.ID]=this.id,t[lt.PROVIDER_TYPE]=this.providerType,t},e}(it),pt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.DATA="data",t.USER_TYPE="type",t.IDENTITIES="identities"}(ft||(ft={}));var _t,yt=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.userType=e,i.data=n,i.identities=r,i}return pt(e,t),e.decode=function(t){return t?new e(t[ft.USER_TYPE],t[ft.DATA],t[ft.IDENTITIES].map(function(t){return dt.decode(t)})):void 0},e.prototype.encode=function(){var t;return(t={})[ft.DATA]=this.data,t[ft.USER_TYPE]=this.userType,t[ft.IDENTITIES]=this.identities.map(function(t){return t.encode()}),t},e}(z),mt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function gt(t,e){if(t.isEmpty)e.remove(wt.ACTIVE_USER_STORAGE_NAME);else{var n=new wt(t.userId,t.deviceId,t.accessToken,t.refreshToken,t.loggedInProviderType,t.loggedInProviderName,t.lastAuthActivity,t.userProfile?new yt(t.userProfile.userType,t.userProfile.data,t.userProfile.identities.map(function(t){return new dt(t.id,t.providerType)})):void 0);e.set(wt.ACTIVE_USER_STORAGE_NAME,JSON.stringify(n.encode()))}}function vt(t,e){var n=[];t.forEach(function(t,e){var r=new wt(e,t.deviceId,t.accessToken,t.refreshToken,t.loggedInProviderType,t.loggedInProviderName,t.lastAuthActivity,t.userProfile?new yt(t.userProfile.userType,t.userProfile.data,t.userProfile.identities.map(function(t){return new dt(t.id,t.providerType)})):void 0);n.push(r.encode())}),e.set(wt.ALL_USERS_STORAGE_NAME,JSON.stringify(n))}!function(t){t.USER_ID="user_id",t.DEVICE_ID="device_id",t.ACCESS_TOKEN="access_token",t.REFRESH_TOKEN="refresh_token",t.LAST_AUTH_ACTIVITY="last_auth_activity",t.LOGGED_IN_PROVIDER_TYPE="logged_in_provider_type",t.LOGGED_IN_PROVIDER_NAME="logged_in_provider_name",t.USER_PROFILE="user_profile"}(_t||(_t={}));var bt,wt=function(t){function e(e,n,r,i,o,s,a,u){var l=t.call(this,e,n,r,i,o,s,a,u)||this;return l.userProfile=u,l}return mt(e,t),e.decode=function(t){var n=t[_t.USER_ID],r=t[_t.DEVICE_ID],i=t[_t.ACCESS_TOKEN],o=t[_t.REFRESH_TOKEN],s=t[_t.LOGGED_IN_PROVIDER_TYPE],a=t[_t.LOGGED_IN_PROVIDER_NAME],u=t[_t.USER_PROFILE],l=t[_t.LAST_AUTH_ACTIVITY];return new e(n,r,i,o,s,a,new Date(l),yt.decode(u))},e.prototype.encode=function(){var t={};return t[_t.USER_ID]=this.userId,t[_t.ACCESS_TOKEN]=this.accessToken,t[_t.REFRESH_TOKEN]=this.refreshToken,t[_t.DEVICE_ID]=this.deviceId,t[_t.LOGGED_IN_PROVIDER_NAME]=this.loggedInProviderName,t[_t.LOGGED_IN_PROVIDER_TYPE]=this.loggedInProviderType,t[_t.LAST_AUTH_ACTIVITY]=this.lastAuthActivity?this.lastAuthActivity.getTime():void 0,t[_t.USER_PROFILE]=this.userProfile?this.userProfile.encode():void 0,t},e.ACTIVE_USER_STORAGE_NAME="auth_info",e.ALL_USERS_STORAGE_NAME="all_auth_infos",e}(o),Et=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},St=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},At=function(){function t(t,e,n,r){var i,s;void 0===r&&(r=!0),this.requestClient=t,this.authRoutes=e,this.storage=n;try{i=function(t){var e=t.get(wt.ALL_USERS_STORAGE_NAME);if(!e)return new Map;var n=JSON.parse(e);if(!Array.isArray(n))throw new L(R.CouldNotLoadPersistedAuthInfo);var r=new Map;return n.forEach(function(t){var e=wt.decode(t);r.set(e.userId,e)}),r}(n)}catch(t){throw new L(R.CouldNotLoadPersistedAuthInfo)}this.allUsersAuthInfo=i;try{s=function(t){var e=t.get(wt.ACTIVE_USER_STORAGE_NAME);if(e)return wt.decode(JSON.parse(e))}(n)}catch(t){throw new L(R.CouldNotLoadPersistedAuthInfo)}this.activeUserAuthInfo=void 0===s?o.empty():s,this.activeUserAuthInfo.hasUser&&(this.currentUser=this.prepUser(this.activeUserAuthInfo)),r&&(this.accessTokenRefresher=new Q(this),this.accessTokenRefresher.run())}return Object.defineProperty(t.prototype,"authInfo",{get:function(){return this.activeUserAuthInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return void 0!==this.currentUser&&this.currentUser.isLoggedIn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.currentUser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeviceId",{get:function(){return void 0!==this.activeUserAuthInfo.deviceId&&""!==this.activeUserAuthInfo.deviceId&&"000000000000000000000000"!==this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){if(this.hasDeviceId)return this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),t.prototype.listUsers=function(){var t=this,e=[];return this.allUsersAuthInfo.forEach(function(n){e.push(t.prepUser(n))}),e},t.prototype.doAuthenticatedRequest=function(t,e){var n=this;try{return this.requestClient.doRequest(this.prepareAuthRequest(t,e||this.activeUserAuthInfo)).catch(function(e){return n.handleAuthFailure(e,t)})}catch(t){return Promise.reject(t)}},t.prototype.doAuthenticatedRequestWithDecoder=function(t,e){return this.doAuthenticatedRequest(t).then(function(t){var n=i.a.parse(t.body,{strict:!1});return e?e.decode(n):n}).catch(function(t){throw S(t)})},t.prototype.openAuthenticatedEventStream=function(t,e){var n=this;if(void 0===e&&(e=!0),!this.isLoggedIn)throw new L(R.MustAuthenticateFirst);var r=t.useRefreshToken?this.activeUserAuthInfo.refreshToken:this.activeUserAuthInfo.accessToken;return this.requestClient.doStreamRequest(t.builder.withPath(t.path+"&stitch_at="+r).build(),e,function(){return n.openAuthenticatedEventStream(t,!1)}).catch(function(r){return n.handleAuthFailureForEventStream(r,t,e)})},t.prototype.openAuthenticatedStreamWithDecoder=function(t,e){return this.openAuthenticatedEventStream(t).then(function(t){return new $(t,e)})},t.prototype.refreshAccessToken=function(){var t=this,e=(new P.Builder).withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(N.POST);return this.doAuthenticatedRequest(e.build()).then(function(e){try{var n=nt.fromJSON(JSON.parse(e.body));if(t.activeUserAuthInfo=t.activeUserAuthInfo.merge(n),n.accessToken&&t.user instanceof Y){var r=Z.fromEncoded(n.accessToken).userData;t.user.customData=void 0===r?{}:r}}catch(t){throw new p(t,l.DECODING_ERROR)}try{gt(t.activeUserAuthInfo,t.storage),t.allUsersAuthInfo.set(t.activeUserAuthInfo.userId,t.activeUserAuthInfo),vt(t.allUsersAuthInfo,t.storage)}catch(t){throw new L(R.CouldNotPersistAuthInfo)}})},t.prototype.switchToUserWithId=function(t){var e=this.allUsersAuthInfo.get(t);if(void 0===e)throw new L(R.UserNotFound);if(!e.isLoggedIn)throw new L(R.UserNotLoggedIn);this.activeUserAuthInfo.hasUser&&this.allUsersAuthInfo.set(this.activeUserAuthInfo.userId,this.activeUserAuthInfo.withNewAuthActivityTime());var n=e.withNewAuthActivityTime();this.allUsersAuthInfo.set(t,n),gt(n,this.storage),this.activeUserAuthInfo=n;var i=this.currentUser;return this.currentUser=this.prepUser(n),this.onAuthEvent(),this.dispatchAuthEvent({currentActiveUser:this.currentUser,kind:r.ActiveUserChanged,previousActiveUser:i}),this.currentUser},t.prototype.loginWithCredentialInternal=function(t){var e,n,i=this;if(t instanceof q)return this.processLogin(t,t.authInfo,t.asLink).then(function(t){return i.dispatchAuthEvent({kind:r.UserLoggedIn,loggedInUser:t}),t});if(t.providerCapabilities.reusesExistingSession)try{for(var o=Et(this.allUsersAuthInfo),s=o.next();!s.done;s=o.next()){var a=St(s.value,2),u=a[0],l=a[1];if(l.loggedInProviderType===t.providerType){if(l.isLoggedIn)try{return Promise.resolve(this.switchToUserWithId(u))}catch(t){return Promise.reject(t)}void 0!==l.userId&&this.removeUserWithIdInternal(l.userId)}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return this.doLogin(t,!1)},t.prototype.linkUserWithCredentialInternal=function(t,e){return void 0!==this.currentUser&&t.id!==this.currentUser.id?Promise.reject(new L(R.UserNoLongerValid)):this.doLogin(e,!0)},t.prototype.logoutInternal=function(){return this.isLoggedIn&&this.currentUser?this.logoutUserWithIdInternal(this.currentUser.id):Promise.resolve()},t.prototype.logoutUserWithIdInternal=function(t){var e=this,n=this.allUsersAuthInfo.get(t);if(void 0===n)return Promise.reject(new L(R.UserNotFound));if(!n.isLoggedIn)return Promise.resolve();var r=function(){e.clearUserAuthTokens(n.userId),n.loggedInProviderType===V.TYPE&&e.removeUserWithIdInternal(n.userId)};return this.doLogout(n).then(function(){r()}).catch(function(){r()})},t.prototype.removeUserInternal=function(){return this.isLoggedIn&&void 0!==this.currentUser?this.removeUserWithIdInternal(this.currentUser.id):Promise.resolve()},t.prototype.removeUserWithIdInternal=function(t){var e=this,n=this.allUsersAuthInfo.get(t);if(void 0===n)return Promise.reject(new L(R.UserNotFound));var i=function(){e.clearUserAuthTokens(n.userId),e.allUsersAuthInfo.delete(t),vt(e.allUsersAuthInfo,e.storage);var i=e.prepUser(n.loggedOut());e.onAuthEvent(),e.dispatchAuthEvent({kind:r.UserRemoved,removedUser:i})};return n.isLoggedIn?this.doLogout(n).then(function(){i()}).catch(function(t){i()}):(i(),Promise.resolve())},t.prototype.close=function(){this.accessTokenRefresher&&this.accessTokenRefresher.stop()},t.prototype.prepareAuthRequest=function(t,e){if(!e.isLoggedIn)throw new L(R.MustAuthenticateFirst);var n=t.builder,r=n.headers||{};return t.useRefreshToken?r[E.AUTHORIZATION]=E.getAuthorizationBearer(e.refreshToken):r[E.AUTHORIZATION]=E.getAuthorizationBearer(e.accessToken),n.withHeaders(r),n.build()},t.prototype.handleAuthFailureForEventStream=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!(t instanceof b)||t.errorCode!==h.InvalidSession)throw t;if(e.useRefreshToken||!e.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),t;return this.tryRefreshAccessToken(e.startedAt).then(function(){return r.openAuthenticatedEventStream(e.builder.withShouldRefreshOnFailure(!1).build(),n)})},t.prototype.handleAuthFailure=function(t,e){var n=this;if(!(t instanceof b)||t.errorCode!==h.InvalidSession)throw t;if(e.useRefreshToken||!e.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),t;return this.tryRefreshAccessToken(e.startedAt).then(function(){return n.doAuthenticatedRequest(e.builder.withShouldRefreshOnFailure(!1).build())})},t.prototype.tryRefreshAccessToken=function(t){if(!this.isLoggedIn)throw new L(R.LoggedOutDuringRequest);try{if(Z.fromEncoded(this.activeUserAuthInfo.accessToken).issuedAt>=t)return Promise.resolve()}catch(t){}return this.refreshAccessToken()},t.prototype.prepUser=function(t){return this.userFactory.makeUser(t.userId,t.loggedInProviderType,t.loggedInProviderName,t.isLoggedIn,t.lastAuthActivity,t.userProfile)},t.prototype.attachAuthOptions=function(t){var e={};e.device=this.deviceInfo,t.options=e},t.prototype.doLogin=function(t,e){var n=this,i=this.currentUser;return this.doLoginRequest(t,e).then(function(r){return n.processLoginResponse(t,r,e)}).then(function(t){return n.onAuthEvent(),e?n.dispatchAuthEvent({kind:r.UserLinked,linkedUser:t}):(n.dispatchAuthEvent({kind:r.UserLoggedIn,loggedInUser:t}),n.dispatchAuthEvent({currentActiveUser:t,kind:r.ActiveUserChanged,previousActiveUser:i})),t})},t.prototype.doLoginRequest=function(t,e){var n=new D.Builder;n.withMethod(N.POST),e?n.withPath(this.authRoutes.getAuthProviderLinkRoute(t.providerName)):n.withPath(this.authRoutes.getAuthProviderLoginRoute(t.providerName));var r=t.material;if(this.attachAuthOptions(r),n.withDocument(r),!e)return this.requestClient.doRequest(n.build());var i=new x(n.build(),n.document);return this.doAuthenticatedRequest(i)},t.prototype.processLogin=function(t,e,n){var i=this,s=this.activeUserAuthInfo,a=this.currentUser;return e=this.activeUserAuthInfo.merge(new o(e.userId,e.deviceId,e.accessToken,e.refreshToken,t.providerType,t.providerName,void 0,void 0)),this.activeUserAuthInfo=e,this.currentUser=this.userFactory.makeUser(this.activeUserAuthInfo.userId,t.providerType,t.providerName,this.activeUserAuthInfo.isLoggedIn,new Date,void 0,Z.fromEncoded(e.accessToken).userData),this.doGetUserProfile().then(function(n){s.hasUser&&i.allUsersAuthInfo.set(s.userId,s.withNewAuthActivityTime()),e=e.merge(new o(e.userId,e.deviceId,e.accessToken,e.refreshToken,t.providerType,t.providerName,new Date,n));var u=!i.allUsersAuthInfo.has(e.userId);try{gt(e,i.storage),i.allUsersAuthInfo.set(e.userId,e),vt(i.allUsersAuthInfo,i.storage)}catch(t){throw i.activeUserAuthInfo=s,i.currentUser=a,e.userId!==s.userId&&e.userId&&i.allUsersAuthInfo.delete(e.userId),new L(R.CouldNotPersistAuthInfo)}return i.activeUserAuthInfo=e,i.currentUser=i.userFactory.makeUser(i.activeUserAuthInfo.userId,t.providerType,t.providerName,i.activeUserAuthInfo.isLoggedIn,i.activeUserAuthInfo.lastAuthActivity,n,Z.fromEncoded(e.accessToken).userData),u&&(i.onAuthEvent(),i.dispatchAuthEvent({addedUser:i.currentUser,kind:r.UserAdded})),i.currentUser}).catch(function(t){if(t instanceof L)throw t;if(n||s.hasUser){var e=i.activeUserAuthInfo;i.activeUserAuthInfo=s,i.currentUser=a,n&&(i.activeUserAuthInfo=i.activeUserAuthInfo.withAuthProvider(e.loggedInProviderType,e.loggedInProviderName))}else i.clearActiveUserAuth();throw t})},t.prototype.processLoginResponse=function(t,e,n){try{if(!e)throw new b("the login response could not be processed for credential: "+t+";response was undefined");if(!e.body)throw new b("response with status code "+e.statusCode+" has empty body");return this.processLogin(t,nt.fromJSON(JSON.parse(e.body)),n)}catch(t){throw new p(t,l.DECODING_ERROR)}},t.prototype.doGetUserProfile=function(){var t=new P.Builder;return t.withMethod(N.GET).withPath(this.authRoutes.profileRoute),this.doAuthenticatedRequest(t.build()).then(function(t){return ct.fromJSON(JSON.parse(t.body))}).catch(function(t){throw t instanceof c?t:new p(t,l.DECODING_ERROR)})},t.prototype.doLogout=function(t){var e=new P.Builder;return e.withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(N.DELETE),this.doAuthenticatedRequest(e.build(),t).then(function(){})},t.prototype.clearActiveUserAuth=function(){this.isLoggedIn&&this.clearUserAuthTokens(this.activeUserAuthInfo.userId)},t.prototype.clearUserAuthTokens=function(t){var e=this.allUsersAuthInfo.get(t);if(void 0===e){if(this.activeUserAuthInfo.userId!==t)throw new L(R.UserNotFound)}else if(!e.isLoggedIn)return;try{var n=void 0;if(e){var i=e.loggedOut();this.allUsersAuthInfo.set(t,i),vt(this.allUsersAuthInfo,this.storage),n=this.userFactory.makeUser(i.userId,i.loggedInProviderType,i.loggedInProviderName,i.isLoggedIn,i.lastAuthActivity,i.userProfile)}var o=!1;this.activeUserAuthInfo.hasUser&&this.activeUserAuthInfo.userId===t&&(o=!0,this.activeUserAuthInfo=this.activeUserAuthInfo.withClearedUser(),this.currentUser=void 0,gt(this.activeUserAuthInfo,this.storage)),n&&(this.onAuthEvent(),this.dispatchAuthEvent({kind:r.UserLoggedOut,loggedOutUser:n}),o&&this.dispatchAuthEvent({currentActiveUser:void 0,kind:r.ActiveUserChanged,previousActiveUser:n}))}catch(t){throw new L(R.CouldNotPersistAuthInfo)}},t}();!function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"}(bt||(bt={}));var Nt,Tt=bt,Ot=function(){return function(t){void 0===t&&(t=!1),this.reusesExistingSession=t}}(),Pt=function(){return function(t){void 0===t&&(t=V.DEFAULT_NAME),this.providerType=V.TYPE,this.material={},this.providerCapabilities=new Ot(!0),this.providerName=t}}(),Ct=function(){function t(){}return t.TYPE="custom-token",t.DEFAULT_NAME="custom-token",t}();(Nt||(Nt={})).TOKEN="token";var xt,It=function(){return function(t,e){var n;void 0===e&&(e=Ct.DEFAULT_NAME),this.providerType=Ct.TYPE,this.providerCapabilities=new Ot(!1),this.providerName=e,this.token=t,this.material=((n={})[Nt.TOKEN]=this.token,n)}}(),Rt=function(){function t(){}return t.TYPE="oauth2-facebook",t.DEFAULT_NAME="oauth2-facebook",t}();(xt||(xt={})).ACCESS_TOKEN="accessToken";var Bt,Dt=function(){function t(t,e){var n;void 0===e&&(e=Rt.DEFAULT_NAME),this.providerType=Rt.TYPE,this.providerName=e,this.accessToken=t,this.material=((n={})[xt.ACCESS_TOKEN]=this.accessToken,n)}return Object.defineProperty(t.prototype,"providerCapabilities",{get:function(){return new Ot(!1)},enumerable:!0,configurable:!0}),t}(),Mt=function(){function t(){}return t.TYPE="custom-function",t.DEFAULT_NAME="custom-function",t}(),Ut=function(){function t(t,e){void 0===e&&(e=Mt.DEFAULT_NAME),this.providerType=Mt.TYPE,this.providerName=e,this.material=t}return Object.defineProperty(t.prototype,"providerCapabilities",{get:function(){return new Ot(!1)},enumerable:!0,configurable:!0}),t}(),kt=function(){function t(){}return t.TYPE="oauth2-google",t.DEFAULT_NAME="oauth2-google",t}();(Bt||(Bt={})).AUTH_CODE="authCode";var Lt,Ft=function(){return function(t,e){var n;void 0===e&&(e=kt.DEFAULT_NAME),this.providerType=kt.TYPE,this.providerCapabilities=new Ot(!1),this.providerName=e,this.authCode=t,this.material=((n={})[Bt.AUTH_CODE]=this.authCode,n)}}(),jt=function(){function t(){}return t.TYPE="api-key",t.DEFAULT_NAME="api-key",t}();(Lt||(Lt={})).KEY="key";var $t,zt=function(){return function(t,e){var n;void 0===e&&(e=jt.DEFAULT_NAME),this.providerType=jt.TYPE,this.providerCapabilities=new Ot(!1),this.providerName=e,this.key=t,this.material=((n={})[Lt.KEY]=this.key,n)}}(),Yt=function(){return function(t,e,n){this.providerName=t,this.requestClient=e,this.baseRoute=n}}();!function(t){t.ID="_id",t.KEY="key",t.NAME="name",t.DISABLED="disabled"}($t||($t={}));var Vt,qt=function(){function t(t,e,n,r){this.id=i.b.ObjectID.createFromHexString(t),this.key=e,this.name=n,this.disabled=r}return t.readFromApi=function(e){var n="string"==typeof e?JSON.parse(e):e;return rt.keyPresent($t.ID,n),rt.keyPresent($t.NAME,n),rt.keyPresent($t.DISABLED,n),new t(n[$t.ID],n[$t.KEY],n[$t.NAME],n[$t.DISABLED])},t.prototype.toJSON=function(){var t;return(t={})[$t.ID]=this.id,t[$t.KEY]=this.key,t[$t.NAME]=this.name,t[$t.DISABLED]=this.disabled,t},t}(),Ht=function(){function t(){}return t.TYPE="api-key",t.DEFAULT_NAME="api-key",t}(),Wt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.NAME="name"}(Vt||(Vt={}));var Jt,Kt=function(t){function e(e,n){var r=n.baseAuthRoute+"/api_keys",i=Ht.DEFAULT_NAME;return t.call(this,i,e,r)||this}return Wt(e,t),e.prototype.createApiKey=function(t){var e,n=new x.Builder;return n.withMethod(N.POST).withPath(this.baseRoute).withDocument((e={},e[Vt.NAME]=t,e)).withRefreshToken(),this.requestClient.doAuthenticatedRequest(n.build()).then(function(t){return qt.readFromApi(t.body)}).catch(function(t){throw S(t)})},e.prototype.fetchApiKey=function(t){var e=new P.Builder;return e.withMethod(N.GET).withPath(this.getApiKeyRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then(function(t){return qt.readFromApi(t.body)}).catch(function(t){throw S(t)})},e.prototype.fetchApiKeys=function(){var t=new P.Builder;return t.withMethod(N.GET).withPath(this.baseRoute),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then(function(t){var e=JSON.parse(t.body);if(Array.isArray(e))return e.map(function(t){return qt.readFromApi(t)});throw new p(new Error("unexpected non-array response from server"),l.DECODING_ERROR)}).catch(function(t){throw S(t)})},e.prototype.deleteApiKey=function(t){var e=new P.Builder;return e.withMethod(N.DELETE).withPath(this.getApiKeyRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then(function(){})},e.prototype.enableApiKey=function(t){var e=new P.Builder;return e.withMethod(N.PUT).withPath(this.getApiKeyEnableRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then(function(){})},e.prototype.disableApiKey=function(t){var e=new P.Builder;return e.withMethod(N.PUT).withPath(this.getApiKeyDisableRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then(function(){})},e.prototype.getApiKeyRoute=function(t){return this.baseRoute+"/"+t},e.prototype.getApiKeyEnableRoute=function(t){return this.getApiKeyRoute(t)+"/enable"},e.prototype.getApiKeyDisableRoute=function(t){return this.getApiKeyRoute(t)+"/disable"},e}(Yt);(Jt||(Jt={})).KEY="key";var Gt,Xt,Zt=function(){return function(t,e){var n;void 0===e&&(e=Ht.DEFAULT_NAME),this.providerType=Ht.TYPE,this.providerCapabilities=new Ot(!1),this.providerName=e,this.key=t,this.material=((n={})[Jt.KEY]=this.key,n)}}(),Qt=function(){function t(){}return t.TYPE="local-userpass",t.DEFAULT_NAME="local-userpass",t}(),te=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.EMAIL="email",t.PASSWORD="password"}(Gt||(Gt={})),function(t){t.EMAIL="email",t.PASSWORD="password",t.TOKEN="token",t.TOKEN_ID="tokenId",t.ARGS="arguments"}(Xt||(Xt={}));var ee,ne=function(t){function e(e,n,r){void 0===e&&(e=Qt.DEFAULT_NAME);var i=r.getAuthProviderRoute(e);return t.call(this,e,n,i)||this}return te(e,t),e.prototype.registerWithEmailInternal=function(t,e){var n,r=new D.Builder;return r.withMethod(N.POST).withPath(this.getRegisterWithEmailRoute()),r.withDocument(((n={})[Gt.EMAIL]=t,n[Gt.PASSWORD]=e,n)),this.requestClient.doRequest(r.build()).then(function(){})},e.prototype.confirmUserInternal=function(t,e){var n,r=new D.Builder;return r.withMethod(N.POST).withPath(this.getConfirmUserRoute()),r.withDocument(((n={})[Xt.TOKEN]=t,n[Xt.TOKEN_ID]=e,n)),this.requestClient.doRequest(r.build()).then(function(){})},e.prototype.resendConfirmationEmailInternal=function(t){var e,n=new D.Builder;return n.withMethod(N.POST).withPath(this.getResendConfirmationEmailRoute()),n.withDocument(((e={})[Xt.EMAIL]=t,e)),this.requestClient.doRequest(n.build()).then(function(){})},e.prototype.resetPasswordInternal=function(t,e,n){var r,i=new D.Builder;return i.withMethod(N.POST).withPath(this.getResetPasswordRoute()),i.withDocument(((r={})[Xt.TOKEN]=t,r[Xt.TOKEN_ID]=e,r[Xt.PASSWORD]=n,r)),this.requestClient.doRequest(i.build()).then(function(){})},e.prototype.sendResetPasswordEmailInternal=function(t){var e,n=new D.Builder;return n.withMethod(N.POST).withPath(this.getSendResetPasswordEmailRoute()),n.withDocument(((e={})[Xt.EMAIL]=t,e)),this.requestClient.doRequest(n.build()).then(function(){})},e.prototype.callResetPasswordFunctionInternal=function(t,e,n){var r,i=new D.Builder;return i.withMethod(N.POST).withPath(this.getCallResetPasswordFunctionRoute()),i.withDocument(((r={})[Xt.EMAIL]=t,r[Xt.PASSWORD]=e,r[Xt.ARGS]=n,r)),this.requestClient.doRequest(i.build()).then(function(){})},e.prototype.getRegisterWithEmailRoute=function(){return this.getExtensionRoute("register")},e.prototype.getConfirmUserRoute=function(){return this.getExtensionRoute("confirm")},e.prototype.getResendConfirmationEmailRoute=function(){return this.getExtensionRoute("confirm/send")},e.prototype.getResetPasswordRoute=function(){return this.getExtensionRoute("reset")},e.prototype.getSendResetPasswordEmailRoute=function(){return this.getExtensionRoute("reset/send")},e.prototype.getCallResetPasswordFunctionRoute=function(){return this.getExtensionRoute("reset/call")},e.prototype.getExtensionRoute=function(t){return this.baseRoute+"/"+t},e}(Yt);!function(t){t.USERNAME="username",t.PASSWORD="password"}(ee||(ee={}));var re,ie=function(){return function(t,e,n){var r;void 0===n&&(n=Qt.DEFAULT_NAME),this.username=t,this.password=e,this.providerName=n,this.providerType=Qt.TYPE,this.providerCapabilities=new Ot(!1),this.material=((r={})[ee.USERNAME]=this.username,r[ee.PASSWORD]=this.password,r)}}();!function(t){t.Normal="normal",t.Server="server",t.Unknown="unknown"}(re||(re={}));var oe,se=re,ae=function(){function t(t){this.suiteName=t,this.storage={}}return t.prototype.get=function(t){return this.storage[this.suiteName+"."+t]},t.prototype.set=function(t,e){this.storage[this.suiteName+"."+t]=e},t.prototype.remove=function(t){delete this.storage[this.suiteName+"."+t]},t}(),ue=function(){return function(){}}();!function(t){t[t.AUTH_EVENT=0]="AUTH_EVENT"}(oe||(oe={}));var le=function(){function t(t,e,n){this.serviceField="service",this.argumentsField="arguments",this.requestClient=t,this.serviceRoutes=e,this.serviceName=n,this.serviceBinders=[],this.allocatedStreams=[]}return t.prototype.callFunction=function(t,e,n){return this.requestClient.doAuthenticatedRequestWithDecoder(this.getCallServiceFunctionRequest(t,e),n)},t.prototype.streamFunction=function(t,e,n){var r=this;return this.requestClient.openAuthenticatedStreamWithDecoder(this.getStreamServiceFunctionRequest(t,e),n).then(function(t){return r.allocatedStreams.push(t),t})},t.prototype.bind=function(t){this.serviceBinders.push(t)},t.prototype.onRebindEvent=function(t){switch(t.type){case oe.AUTH_EVENT:t.event.kind===r.ActiveUserChanged&&this.closeAllocatedStreams()}this.serviceBinders.forEach(function(e){e.onRebindEvent(t)})},t.prototype.getStreamServiceFunctionRequest=function(t,e){var n={name:t};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=e;var r=new P.Builder;return r.withMethod(N.GET).withPath(this.serviceRoutes.functionCallRoute+"?stitch_request="+encodeURIComponent(J(i.a.stringify(n)))),r.build()},t.prototype.getCallServiceFunctionRequest=function(t,e){var n={name:t};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=e;var r=new x.Builder;return r.withMethod(N.POST).withPath(this.serviceRoutes.functionCallRoute),r.withDocument(n),r.build()},t.prototype.closeAllocatedStreams=function(){this.allocatedStreams.forEach(function(t){t.isOpen()&&t.close()}),this.allocatedStreams=[]},t}(),ce=function(){function t(t,e){this.functionService=new le(t,e.serviceRoutes)}return t.prototype.callFunction=function(t,e,n){return this.functionService.callFunction(t,e,n)},t}(),he=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},fe=function(){function t(t){this.reconnecter=t,this.closed=!1,this.events=[],this.listeners=[],this.lastErr=void 0}return t.prototype.isOpen=function(){return!this.closed},t.prototype.addListener=function(t){var e=this;this.closed?setTimeout(function(){return t.onEvent(new F(j.ERROR_EVENT_NAME,"stream closed"))},0):void 0===this.lastErr?(this.listeners.push(t),this.poll()):setTimeout(function(){return t.onEvent(new F(j.ERROR_EVENT_NAME,e.lastErr))},0)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)},t.prototype.nextEvent=function(){var t=this;return this.closed?Promise.reject(new F(j.ERROR_EVENT_NAME,"stream closed")):void 0!==this.lastErr?Promise.reject(new F(j.ERROR_EVENT_NAME,this.lastErr)):new Promise(function(e,n){t.listenOnce({onEvent:function(t){e(t)}})})},t.prototype.close=function(){this.closed||(this.closed=!0,this.afterClose())},t.prototype.reconnect=function(e){var n=this;this.reconnecter?this.reconnecter().then(function(t){n.onReconnect(t)}).catch(function(r){if(!(r instanceof c&&r instanceof p))return n.closed=!0,n.events.push(new F(j.ERROR_EVENT_NAME,"stream closed: "+e)),void n.poll();setTimeout(function(){return n.reconnect(r)},t.RETRY_TIMEOUT_MILLIS)}):this.closed||(this.closed=!0,this.events.push(new F(j.ERROR_EVENT_NAME,"stream closed: "+e)),this.poll())},t.prototype.poll=function(){for(var t,e;0!==this.events.length;){var n=this.events.pop();try{for(var r=he(this.listeners),i=r.next();!i.done;i=r.next()){var o=i.value;o.onEvent&&o.onEvent(n)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}},t.prototype.listenOnce=function(t){var e=this;if(this.closed)setTimeout(function(){return t.onEvent(new F(j.ERROR_EVENT_NAME,"stream closed"))},0);else if(void 0===this.lastErr){var n={onEvent:function(r){e.removeListener(n),t.onEvent(r)}};this.addListener(n)}else setTimeout(function(){return t.onEvent(new F(j.ERROR_EVENT_NAME,e.lastErr))},0)},t.RETRY_TIMEOUT_MILLIS=5e3,t}(),de=function(){return function(t,e,n,r){this.method=t,this.url=e,this.headers=n,this.body=r}}();!function(t){var e=function(){function e(t){t&&(this.method=t.method,this.url=t.url,this.headers=t.headers,this.body=t.body)}return e.prototype.withMethod=function(t){return this.method=t,this},e.prototype.withUrl=function(t){return this.url=t,this},e.prototype.withHeaders=function(t){return this.headers=t,this},e.prototype.withBody=function(t){return this.body=t,this},e.prototype.build=function(){if(void 0===this.method)throw new Error("must set method");if(void 0===this.url)throw new Error("must set non-empty url");return new t(this.method,this.url,void 0===this.headers?{}:this.headers,this.body)},e}();t.Builder=e}(de||(de={}));var pe=function(){return function(t,e,n){var r=this;this.statusCode=e,this.body=n,this.headers={},Object.keys(t).map(function(e,n){r.headers[e.toLocaleLowerCase()]=t[e]})}}(),_e="/api/client/v2.0";function ye(t){return _e+"/app/"+t}function me(t){return ye(t)+"/functions/call"}function ge(t,e){return ye(t)+"/auth/providers/"+e}function ve(t,e){return ge(t,e)+"/login"}var be,we=function(){function t(t){var e=this;this.baseAuthRoute=_e+"/auth",this.sessionRoute=e.baseAuthRoute+"/session",this.profileRoute=e.baseAuthRoute+"/profile",this.clientAppId=t}return t.prototype.getAuthProviderRoute=function(t){return ge(this.clientAppId,t)},t.prototype.getAuthProviderLoginRoute=function(t){return ve(this.clientAppId,t)},t.prototype.getAuthProviderLinkRoute=function(t){return function(t,e){return ve(t,e)+"?link=true"}(this.clientAppId,t)},t.prototype.getAuthProviderExtensionRoute=function(t,e){return this.getAuthProviderRoute(t)+"/"+e},t}();!function(t){t.DEPLOYMENT_MODEL="deployment_model",t.LOCATION="location",t.HOSTNAME="hostname"}(be||(be={}));var Ee=function(){function t(t,e,n){this.deploymentModel=t,this.location=e,this.hostname=n}return t.fromJSON=function(e){return new t(e[be.DEPLOYMENT_MODEL],e[be.LOCATION],e[be.HOSTNAME])},t.prototype.toJSON=function(){var t;return(t={})[be.DEPLOYMENT_MODEL]=this.deploymentModel,t[be.LOCATION]=this.location,t[be.HOSTNAME]=this.hostname,t},t}();var Se=function(){function t(t,e){this.baseUrl=t,this.transport=e}return t.prototype.doRequestToURL=function(t,e){return this.transport.roundTrip(this.buildRequest(t,e)).catch(function(t){throw new p(t,l.TRANSPORT_ERROR)}).then(function(t){return function(t,e,n){return n.statusCode>=200&&n.statusCode<300?n:A(n)}(0,0,t)})},t.prototype.doStreamRequestToURL=function(t,e,n,r){return void 0===n&&(n=!0),this.transport.stream(this.buildRequest(t,e),n,r).catch(function(t){if(t instanceof c)throw t;throw new p(t,l.TRANSPORT_ERROR)})},t.prototype.buildRequest=function(t,e){return(new de.Builder).withMethod(t.method).withUrl(""+e+t.path).withHeaders(t.headers).withBody(t.body).build()},t}(),Ae=function(){return function(t){this.clientAppId=t,this.functionCallRoute=me(t)}}(),Ne=function(){return function(t){this.clientAppId=t,this.authRoutes=new we(t),this.serviceRoutes=new Ae(t),this.appMetadataRoute=function(t){return ye(t)+"/location"}(t),this.functionCallRoute=me(t)}}(),Te=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},Pe=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Ce=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.clientAppId=e,i.routes=new Ne(e),i}return Te(e,t),e.prototype.doRequest=function(e){var n=this;return this.initAppMetadata().then(function(r){return t.prototype.doRequestToURL.call(n,e,r.hostname)})},e.prototype.doStreamRequest=function(e,n,r){var i=this;return void 0===n&&(n=!0),this.initAppMetadata().then(function(o){return t.prototype.doStreamRequestToURL.call(i,e,o.hostname,n,r)})},e.prototype.getBaseURL=function(){return Oe(this,void 0,void 0,function(){return Pe(this,function(t){return[2,this.initAppMetadata().then(function(t){return t.hostname})]})})},e.prototype.initAppMetadata=function(){var e=this;if(this.appMetadata)return Promise.resolve(this.appMetadata);var n=(new T.Builder).withMethod(N.GET).withPath(this.routes.appMetadataRoute).build();return t.prototype.doRequestToURL.call(this,n,this.baseUrl).then(function(t){return e.appMetadata=Ee.fromJSON(i.a.parse(t.body)),e.appMetadata})},e}(Se),xe=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=(function(t){function e(e,n){return t.call(this,e,n)||this}xe(e,t),e.prototype.doRequest=function(e){return t.prototype.doRequestToURL.call(this,e,this.baseUrl)},e.prototype.doStreamRequest=function(e,n,r){return void 0===n&&(n=!0),t.prototype.doStreamRequestToURL.call(this,e,this.baseUrl,n,r)},e.prototype.getBaseURL=function(){return Promise.resolve(this.baseUrl)}}(Se),function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Re=function(t){function e(e){var n=t.call(this)||this;return n.type=oe.AUTH_EVENT,n.event=e,n}return Ie(e,t),e}(ue),Be=function(){function t(t,e,n,r){this.baseUrl=t,this.storage=e,this.dataDirectory=n,this.transport=r}return t.prototype.builder=function(){return new t.Builder(this)},t}();!function(t){var e=function(){function e(t){t&&(this.baseUrl=t.baseUrl,this.storage=t.storage,this.dataDirectory=t.dataDirectory,this.transport=t.transport)}return e.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},e.prototype.withStorage=function(t){return this.storage=t,this},e.prototype.withDataDirectory=function(t){return this.dataDirectory=t,this},e.prototype.withTransport=function(t){return this.transport=t,this},e.prototype.build=function(){return new t(this.baseUrl,this.storage,this.dataDirectory,this.transport)},e}();t.Builder=e}(Be||(Be={}));var De=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(t){function e(e,n,r){var i=t.call(this,e.baseUrl,e.storage,e.dataDirectory,e.transport)||this;return i.localAppVersion=r,i.localAppName=n,i}return De(e,t),e.prototype.builder=function(){return new e.Builder(this)},e}(Be);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return t&&(n.localAppVersion=t.localAppVersion,n.localAppName=t.localAppName),n}return De(n,e),n.prototype.withLocalAppName=function(t){return this.localAppName=t,this},n.prototype.withLocalAppVersion=function(t){return this.localAppVersion=t,this},n.prototype.build=function(){var n=e.prototype.build.call(this);return new t(n,this.localAppName,this.localAppVersion)},n}(Be.Builder);t.Builder=e}(Me||(Me={}));var Ue,ke=function(){return function(t,e,n,r){this.clientAppId=t,this.dataDirectory=e,this.localAppName=n,this.localAppVersion=r}}(),Le=function(){return function(t,e,n){void 0===e&&(e=Rt.DEFAULT_NAME),void 0===n&&(n=Rt.TYPE),this.redirectUrl=t,this.providerName=e,this.providerType=n}}(),Fe=function(){return function(t,e,n){void 0===e&&(e=kt.DEFAULT_NAME),void 0===n&&(n=kt.TYPE),this.redirectUrl=t,this.providerName=e,this.providerType=n}}(),je=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(t){function e(e,n){return t.call(this,e,n)||this}return je(e,t),e.prototype.createApiKey=function(e){return t.prototype.createApiKey.call(this,e)},e.prototype.fetchApiKey=function(e){return t.prototype.fetchApiKey.call(this,e)},e.prototype.fetchApiKeys=function(){return t.prototype.fetchApiKeys.call(this)},e.prototype.deleteApiKey=function(e){return t.prototype.deleteApiKey.call(this,e)},e.prototype.enableApiKey=function(e){return t.prototype.enableApiKey.call(this,e)},e.prototype.disableApiKey=function(e){return t.prototype.disableApiKey.call(this,e)},e}(Kt);(Ue||(Ue={})).factory=new(function(){function t(){}return t.prototype.getClient=function(t,e,n){return new $e(t,n)},t}());var ze,Ye=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ve=function(t){function e(e,n){return t.call(this,Qt.DEFAULT_NAME,e,n)||this}return Ye(e,t),e.prototype.registerWithEmail=function(e,n){return t.prototype.registerWithEmailInternal.call(this,e,n)},e.prototype.confirmUser=function(e,n){return t.prototype.confirmUserInternal.call(this,e,n)},e.prototype.resendConfirmationEmail=function(e){return t.prototype.resendConfirmationEmailInternal.call(this,e)},e.prototype.resetPassword=function(e,n,r){return t.prototype.resetPasswordInternal.call(this,e,n,r)},e.prototype.sendResetPasswordEmail=function(e){return t.prototype.sendResetPasswordEmailInternal.call(this,e)},e.prototype.callResetPasswordFunction=function(e,n,r){return t.prototype.callResetPasswordFunctionInternal.call(this,e,n,r)},e}(ne);(ze||(ze={})).factory=new(function(){function t(){}return t.prototype.getClient=function(t,e,n){return new Ve(e,n)},t}());var qe={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(qe.arrayBuffer)var He=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],We=ArrayBuffer.isView||function(t){return t&&He.indexOf(Object.prototype.toString.call(t))>-1};function Je(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Ke(t){return"string"!=typeof t&&(t=String(t)),t}function Ge(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return qe.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Xe(t){this.map={},t instanceof Xe?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function Ze(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function Qe(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function tn(t){var e=new FileReader,n=Qe(e);return e.readAsArrayBuffer(t),n}function en(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function nn(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:qe.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:qe.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:qe.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():qe.arrayBuffer&&qe.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=en(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):qe.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||We(t))?this._bodyArrayBuffer=en(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):qe.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},qe.blob&&(this.blob=function(){var t=Ze(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ze(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(tn)}),this.text=function(){var t=Ze(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=Qe(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},qe.formData&&(this.formData=function(){return this.text().then(sn)}),this.json=function(){return this.text().then(JSON.parse)},this}Xe.prototype.append=function(t,e){t=Je(t),e=Ke(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},Xe.prototype.delete=function(t){delete this.map[Je(t)]},Xe.prototype.get=function(t){return t=Je(t),this.has(t)?this.map[t]:null},Xe.prototype.has=function(t){return this.map.hasOwnProperty(Je(t))},Xe.prototype.set=function(t,e){this.map[Je(t)]=Ke(e)},Xe.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},Xe.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Ge(t)},Xe.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Ge(t)},Xe.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Ge(t)},qe.iterable&&(Xe.prototype[Symbol.iterator]=Xe.prototype.entries);var rn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function on(t,e){var n=(e=e||{}).body;if(t instanceof on){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Xe(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Xe(e.headers)),this.method=function(t){var e=t.toUpperCase();return rn.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function sn(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function an(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new Xe(e.headers),this.url=e.url||"",this._initBody(t)}on.prototype.clone=function(){return new on(this,{body:this._bodyInit})},nn.call(on.prototype),nn.call(an.prototype),an.prototype.clone=function(){return new an(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Xe(this.headers),url:this.url})},an.error=function(){var t=new an(null,{status:0,statusText:""});return t.type="error",t};var un=[301,302,303,307,308];an.redirect=function(t,e){if(-1===un.indexOf(e))throw new RangeError("Invalid status code");return new an(null,{status:e,headers:{location:t}})};var ln=self.DOMException;try{new ln}catch(t){(ln=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),ln.prototype.constructor=ln}function cn(t,e){return new Promise(function(n,r){var i=new on(t,e);if(i.signal&&i.signal.aborted)return r(new ln("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:function(t){var e=new Xe;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new an(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new ln("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&qe.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}cn.polyfill=!0,self.fetch||(self.fetch=cn,self.Headers=Xe,self.Request=on,self.Response=an);var hn,fn=function(){function t(){}return t.prototype.roundTrip=function(t){var e=cn(t.url,{body:t.body,headers:t.headers,method:t.method,mode:"cors"}),n=e.then(function(t){return t.text()});return Promise.all([e,n]).then(function(t){var e=t[0],n=t[1],r={};return e.headers.forEach(function(t,e){r[e]=t}),new pe(r,e.status,n)})},t.prototype.stream=function(t,e,n){throw void 0===e&&(e=!0),new L(R.StreamingNotSupported)},t}(),dn=function(){function t(t){this.suiteName=t}return t.prototype.get=function(t){return localStorage.getItem(this.getKey(t))},t.prototype.set=function(t,e){localStorage.setItem(this.getKey(t),e)},t.prototype.remove=function(t){localStorage.removeItem(this.getKey(t))},t.prototype.getKey=function(t){return"__stitch.client."+this.suiteName+"."+t},t}(),pn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(t){function e(e,n,r,i){var o=t.call(this,i)||this;return o.evtSrc=e,o.onOpenError=r,o.openedOnce=!1,o.evtSrc.onopen=function(t){n(o),o.openedOnce=!0},o.reset(),o}return pn(e,t),e.prototype.open=function(){if(this.closed)throw new L(R.StreamClosed)},e.prototype.afterClose=function(){this.evtSrc.close()},e.prototype.onReconnect=function(t){this.evtSrc=t.evtSrc,this.reset(),this.events=t.events.concat(this.events)},e.prototype.reset=function(){var t=this;this.evtSrc.onmessage=function(e){t.events.push(new F(F.MESSAGE_EVENT,e.data)),t.poll()},this.evtSrc.onerror=function(e){return e instanceof MessageEvent?(t.lastErr=e.data,t.events.push(new F(j.ERROR_EVENT_NAME,t.lastErr)),t.close(),void t.poll()):t.openedOnce?(t.evtSrc.close(),void t.reconnect()):(t.close(),void t.onOpenError(new Error("event source failed to open and will not reconnect; check network log for more details")))}},e}(fe),yn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yn(e,t),e.prototype.stream=function(t,e,n){void 0===e&&(e=!0);var r=mn({},t.headers);return r[E.ACCEPT]=w.TEXT_EVENT_STREAM,r[E.CONTENT_TYPE]=w.TEXT_EVENT_STREAM,cn(t.url+"&stitch_validate=true",{body:t.body,headers:r,method:t.method,mode:"cors"}).then(function(e){var r={};return e.headers.forEach(function(t,e){r[e]=t}),e.status<200||e.status>=300?e.text().then(function(t){return A(new pe(r,e.status,t))}):new Promise(function(e,r){return new _n(new EventSource(t.url),function(t){return e(t)},function(t){return r(t)},n?function(){return n().then(function(t){return t})}:void 0)})})},e}(fn),vn=function(){function t(t){this.proxy=t}return t.prototype.callFunction=function(t,e,n){return this.proxy.callFunction(t,e,n)},t.prototype.streamFunction=function(t,e,n){return this.proxy.streamFunction(t,e,n)},t}(),bn=n(25);!function(t){t.StitchError="_stitch_error",t.State="_stitch_state",t.UserAuth="_stitch_ua",t.LinkUser="_stitch_link_user",t.StitchLink="_stitch_link",t.ClientAppId="_stitch_client_app_id"}(hn||(hn={}));var wn,En=hn;!function(t){t.ProviderName="_stitch_redirect_provider_name",t.ProviderType="_stitch_redirect_provider_type",t.State="_stitch_redirect_state"}(wn||(wn={}));var Sn=wn,An=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nn=function(t){function e(e){return t.call(this,e)||this}return An(e,t),e}(c),Tn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=function(t){function e(e,n,r,i,o,s,a,u){var l=t.call(this,e,n,r,i,o,s,u)||this;return l.auth=a,l}return Tn(e,t),e.prototype.linkWithCredential=function(t){return this.auth.linkWithCredential(this,t)},e.prototype.linkUserWithRedirect=function(t){return this.auth.linkWithRedirectInternal(this,t)},e}(Y),Pn=function(){function t(t){this.auth=t}return t.prototype.makeUser=function(t,e,n,r,i,o,s){return new On(t,e,n,r,i,o,this.auth,s)},t}(),Cn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},In="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Rn=function(t){function e(e,n,r,i,o){void 0===o&&(o=window);var s=t.call(this,e,n,r)||this;return s.browserAuthRoutes=n,s.authStorage=r,s.appInfo=i,s.jsdomWindow=o,s.listeners=new Set,s.synchronousListeners=new Set,s}return Cn(e,t),Object.defineProperty(e.prototype,"userFactory",{get:function(){return new Pn(this)},enumerable:!0,configurable:!0}),e.prototype.getProviderClient=function(t,e){return function(t){return void 0!==t.getClient}(t)?t.getClient(this,this.requestClient,this.authRoutes):t.getNamedClient(e,this.requestClient,this.authRoutes)},e.prototype.loginWithCredential=function(e){return t.prototype.loginWithCredentialInternal.call(this,e)},e.prototype.loginWithRedirect=function(t){var e=this,n=this.prepareRedirect(t),r=n.redirectUrl,i=n.state;this.requestClient.getBaseURL().then(function(n){e.jsdomWindow.location.replace(n+e.browserAuthRoutes.getAuthProviderRedirectRoute(t,r,i,e.deviceInfo))})},e.prototype.linkWithRedirectInternal=function(t,n){var r=this;if(void 0!==this.user&&t.id!==this.user.id)return Promise.reject(new L(R.UserNoLongerValid));var i=this.prepareRedirect(n),o=i.redirectUrl,s=i.state;return this.requestClient.getBaseURL().then(function(t){var i=t+r.browserAuthRoutes.getAuthProviderLinkRedirectRoute(n,o,s,r.deviceInfo);return(e.injectedFetch?e.injectedFetch:fetch)(new Request(i,{credentials:"include",headers:{Authorization:"Bearer "+r.authInfo.accessToken},mode:"cors"}))}).then(function(t){r.jsdomWindow.location.replace(t.headers.get("X-Stitch-Location"))})},e.prototype.hasRedirectResult=function(){var t=!1;try{return t=this.parseRedirect().isValid}catch(t){return!1}finally{t||this.cleanupRedirect()}},e.prototype.handleRedirectResult=function(){try{var t=this.authStorage.get(Sn.ProviderName),e=this.authStorage.get(Sn.ProviderType),n=this.parseRedirect();return this.loginWithCredentialInternal(new q(this.processRedirectResult(n),e,t,n.asLink)).then(function(t){return t})}catch(t){return Promise.reject(t)}},e.prototype.linkWithCredential=function(e,n){return t.prototype.linkUserWithCredentialInternal.call(this,e,n)},e.prototype.logout=function(){return arguments.length>0?Promise.reject(new L(R.UnexpectedArguments)):t.prototype.logoutInternal.call(this)},e.prototype.logoutUserWithId=function(e){return t.prototype.logoutUserWithIdInternal.call(this,e)},e.prototype.removeUser=function(){return arguments.length>0?Promise.reject(new L(R.UnexpectedArguments)):t.prototype.removeUserInternal.call(this)},e.prototype.removeUserWithId=function(e){return t.prototype.removeUserWithIdInternal.call(this,e)},Object.defineProperty(e.prototype,"deviceInfo",{get:function(){var t={};this.hasDeviceId&&(t[Tt.DEVICE_ID]=this.deviceId),void 0!==this.appInfo.localAppName&&(t[Tt.APP_ID]=this.appInfo.localAppName),void 0!==this.appInfo.localAppVersion&&(t[Tt.APP_VERSION]=this.appInfo.localAppVersion);var e=Object(bn.detect)();return e?(t[Tt.PLATFORM]=e.name,t[Tt.PLATFORM_VERSION]=e.version):(t[Tt.PLATFORM]="web",t[Tt.PLATFORM_VERSION]="0.0.0"),t[Tt.SDK_VERSION]="4.8.0",t},enumerable:!0,configurable:!0}),e.prototype.addAuthListener=function(t){this.listeners.add(t),this.onAuthEvent(t),this.dispatchAuthEvent({kind:r.ListenerRegistered})},e.prototype.addSynchronousAuthListener=function(t){this.listeners.add(t),this.onAuthEvent(t),this.dispatchAuthEvent({kind:r.ListenerRegistered})},e.prototype.removeAuthListener=function(t){this.listeners.delete(t)},e.prototype.onAuthEvent=function(t){var e=this;if(t)new Promise(function(n){t.onAuthEvent&&t.onAuthEvent(e),n(void 0)});else this.listeners.forEach(function(t){e.onAuthEvent(t)})},e.prototype.dispatchAuthEvent=function(t){var e=this;switch(t.kind){case r.ActiveUserChanged:this.dispatchBlockToListeners(function(n){n.onActiveUserChanged&&n.onActiveUserChanged(e,t.currentActiveUser,t.previousActiveUser)});break;case r.ListenerRegistered:this.dispatchBlockToListeners(function(t){t.onListenerRegistered&&t.onListenerRegistered(e)});break;case r.UserAdded:this.dispatchBlockToListeners(function(n){n.onUserAdded&&n.onUserAdded(e,t.addedUser)});break;case r.UserLinked:this.dispatchBlockToListeners(function(n){n.onUserLinked&&n.onUserLinked(e,t.linkedUser)});break;case r.UserLoggedIn:this.dispatchBlockToListeners(function(n){n.onUserLoggedIn&&n.onUserLoggedIn(e,t.loggedInUser)});break;case r.UserLoggedOut:this.dispatchBlockToListeners(function(n){n.onUserLoggedOut&&n.onUserLoggedOut(e,t.loggedOutUser)});break;case r.UserRemoved:this.dispatchBlockToListeners(function(n){n.onUserRemoved&&n.onUserRemoved(e,t.removedUser)});break;default:return this.assertNever(t)}},e.prototype.refreshCustomData=function(){return this.refreshAccessToken()},e.prototype.assertNever=function(t){throw new Error("unexpected object: "+t)},e.prototype.dispatchBlockToListeners=function(t){this.synchronousListeners.forEach(t),this.listeners.forEach(function(e){new Promise(function(n){t(e),n(void 0)})})},e.prototype.cleanupRedirect=function(){this.jsdomWindow.history.replaceState(null,"",this.pageRootUrl()),this.authStorage.remove(Sn.State),this.authStorage.remove(Sn.ProviderName),this.authStorage.remove(Sn.ProviderType)},e.prototype.parseRedirect=function(){if(void 0===this.jsdomWindow)throw new Nn("running in a non-browser environment");if(!this.jsdomWindow.location||!this.jsdomWindow.location.hash)throw new Nn("window location hash was undefined");var t=this.authStorage.get(Sn.State);return function(t,e,n){var r=t.split("&"),i=new Bn;return r.forEach(function(t){var r=t.split("=");switch(decodeURIComponent(r[0])){case En.StitchError:i.lastError=decodeURIComponent(r[1]);break;case En.UserAuth:try{i.authInfo=function(t){var e=t.split("$");if(4!==e.length)throw new Nn("invalid user auth data provided while marshalling user authentication data: "+t);var n=xn(e,4),r=n[0],i=n[1],s=n[2],a=n[3];return new o(s,a,r,i)}(decodeURIComponent(r[1]))}catch(t){i.lastError=t}break;case En.StitchLink:"ok"===r[1]&&(i.asLink=!0);break;case En.State:var s=decodeURIComponent(r[1]);e===s&&(i.stateValid=!0);break;case En.ClientAppId:var a=decodeURIComponent(r[1]);n===a&&(i.clientAppIdValid=!0)}}),i}(this.jsdomWindow.location.hash.substring(1),t,this.appInfo.clientAppId)},e.prototype.processRedirectResult=function(t){try{if(!t.isValid)throw new Nn("invalid redirect result");if(t.lastError)throw new Nn("error handling redirect: "+t.lastError);if(!t.authInfo)throw new Nn("no user auth value was found: it could not be decoded from fragment")}catch(t){throw t}finally{this.cleanupRedirect()}return t.authInfo},e.prototype.prepareRedirect=function(t){this.authStorage.set(Sn.ProviderName,t.providerName),this.authStorage.set(Sn.ProviderType,t.providerType);var e=t.redirectUrl;void 0===e&&(e=this.pageRootUrl());var n=function(){for(var t="",e=0;e<64;++e)t+=In.charAt(Math.floor(Math.random()*In.length));return t}();return this.authStorage.set(Sn.State,n),{redirectUrl:e,state:n}},e.prototype.pageRootUrl=function(){return[this.jsdomWindow.location.protocol,"//",this.jsdomWindow.location.host,this.jsdomWindow.location.pathname].join("")},e}(At);var Bn=function(){function t(){this.stateValid=!1,this.clientAppIdValid=!1,this.asLink=!1}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this.stateValid&&this.clientAppIdValid},enumerable:!0,configurable:!0}),t}();var Dn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mn=function(t){function e(e){return t.call(this,e)||this}return Dn(e,t),e.prototype.getAuthProviderRedirectRoute=function(t,e,n,r){return this.getAuthProviderLoginRoute(t.providerName)+"?redirect="+encodeURI(e)+"&state="+n+"&device="+this.uriEncodeObject(r)},e.prototype.getAuthProviderLinkRedirectRoute=function(t,e,n,r){return this.getAuthProviderLoginRoute(t.providerName)+"?redirect="+encodeURI(e)+"&state="+n+"&device="+this.uriEncodeObject(r)+"&link=true&providerRedirectHeader=true"},e.prototype.uriEncodeObject=function(t){return encodeURIComponent(J(JSON.stringify(t)))},e}(we),Un=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kn=function(t){function e(e){var n=t.call(this,e)||this;return n.authRoutes=new Mn(e),n}return Un(e,t),e}(Ne),Ln=function(){function t(t,e){this.info=new ke(t,e.dataDirectory,e.localAppName,e.localAppVersion),this.routes=new kn(this.info.clientAppId);var n=new Ce(t,e.baseUrl,e.transport);this.auth=new Rn(n,this.routes.authRoutes,e.storage,this.info),this.coreClient=new ce(this.auth,this.routes),this.serviceClients=[],this.auth.addSynchronousAuthListener(this)}return t.prototype.getServiceClient=function(t,e){if(function(t){return void 0!==t.getClient}(t)){var n=new le(this.auth,this.routes.serviceRoutes,"");return this.bindServiceClient(n),t.getClient(n,this.info)}n=new le(this.auth,this.routes.serviceRoutes,e);return this.bindServiceClient(n),t.getNamedClient(n,this.info)},t.prototype.getGeneralServiceClient=function(t){var e=new le(this.auth,this.routes.serviceRoutes,t);return this.bindServiceClient(e),new vn(e)},t.prototype.callFunction=function(t,e){return this.coreClient.callFunction(t,e)},t.prototype.onActiveUserChanged=function(t,e,n){this.onRebindEvent(new Re({currentActiveUser:e,kind:r.ActiveUserChanged,previousActiveUser:n}))},t.prototype.bindServiceClient=function(t){this.serviceClients.push(t)},t.prototype.onRebindEvent=function(t){this.serviceClients.forEach(function(e){e.onRebindEvent(t)})},t}();var Fn,jn={},$n=function(){function t(){}return Object.defineProperty(t,"defaultAppClient",{get:function(){if(void 0===t.defaultClientAppId)throw new Error("default app client has not yet been initialized/set");return jn[t.defaultClientAppId]},enumerable:!0,configurable:!0}),t.getAppClient=function(t){if(void 0===jn[t])throw new Error("client for app '"+t+"' has not yet been initialized");return jn[t]},t.hasAppClient=function(t){return void 0!==jn[t]},t.initializeDefaultAppClient=function(e,n){if(void 0===n&&(n=(new Me.Builder).build()),void 0===e||""===e)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==t.defaultClientAppId)throw new Error("default app can only be set once; currently set to '"+t.defaultClientAppId+"'");var r=t.initializeAppClient(e,n);return t.defaultClientAppId=e,r},t.initializeAppClient=function(e,n){if(void 0===n&&(n=(new Me.Builder).build()),void 0===e||""===e)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==jn[e])throw new Error("client for app '"+e+"' has already been initialized");var r=n.builder?n.builder():new Me.Builder(n);void 0===r.storage&&r.withStorage(new dn(e)),void 0===r.transport&&(window.EventSource?r.withTransport(new gn):r.withTransport(new fn)),void 0!==r.baseUrl&&""!==r.baseUrl||r.withBaseUrl("https://stitch.mongodb.com"),void 0!==r.localAppName&&""!==r.localAppName||r.withLocalAppName(t.localAppName),void 0!==r.localAppVersion&&""!==r.localAppVersion||r.withLocalAppVersion(t.localAppVersion);var i=new Ln(e,r.build());return jn[e]=i,i},t.clearApps=function(){jn={}},t}(),zn=function(){function t(t,e,n,r){this.command=t,this.args=e,this.service=n,r&&(this.collectionDecoder=new(function(){function t(){}return t.prototype.decode=function(t){return t instanceof Array?t.map(function(t){return r.decode(t)}):[r.decode(t)]},t}()))}return t.prototype.iterator=function(){return this.executeRead().then(function(t){return t[Symbol.iterator]()})},t.prototype.first=function(){return this.executeRead().then(function(t){return t[0]})},t.prototype.toArray=function(){return this.executeRead()},t.prototype.asArray=function(){return this.toArray()},t.prototype.executeRead=function(){return this.service.callFunction(this.command,[this.args],this.collectionDecoder)},t}();function Yn(t){switch(t){case"insert":return Fn.Insert;case"delete":return Fn.Delete;case"replace":return Fn.Replace;case"update":return Fn.Update;default:return Fn.Unknown}}!function(t){t.Insert="insert",t.Delete="delete",t.Replace="replace",t.Update="update",t.Unknown="unknown"}(Fn||(Fn={}));var Vn,qn,Hn,Wn,Jn,Kn,Gn,Xn=function(){return function(t){var e={};t.forEach(function(t,n){e[n]=t}),this.insertedIds=e}}();!function(t){t.InsertedIds="insertedIds"}(Vn||(Vn={})),function(t){t.InsertedId="insertedId"}(qn||(qn={})),function(t){t.MatchedCount="matchedCount",t.ModifiedCount="modifiedCount",t.UpsertedId="upsertedId"}(Hn||(Hn={})),function(t){t.DeletedCount="deletedCount"}(Wn||(Wn={})),function(t){t.UpdatedFields="updatedFields",t.RemovedFields="removedFields"}(Jn||(Jn={})),function(t){t.Id="_id",t.OperationType="operationType",t.FullDocument="fullDocument",t.DocumentKey="documentKey",t.Namespace="ns",t.NamespaceDb="db",t.NamespaceColl="coll",t.UpdateDescription="updateDescription"}(Kn||(Kn={})),function(t){t.OperationType="ot",t.FullDocument="fd",t.DocumentKey="dk",t.UpdateDescription="ud",t.StitchDocumentVersion="sdv",t.StitchDocumentHash="sdh"}(Gn||(Gn={}));var Zn=function(){function t(){}return t.prototype.decode=function(t){return new Xn(t[Vn.InsertedIds])},t}(),Qn=function(){function t(){}return t.prototype.decode=function(t){return{insertedId:t[qn.InsertedId]}},t}(),tr=function(){function t(){}return t.prototype.decode=function(t){return{matchedCount:t[Hn.MatchedCount],modifiedCount:t[Hn.ModifiedCount],upsertedId:t[Hn.UpsertedId]}},t}(),er=function(){function t(){}return t.prototype.decode=function(t){return{deletedCount:t[Wn.DeletedCount]}},t}(),nr=function(){function t(){}return t.prototype.decode=function(t){return rt.keyPresent(Jn.UpdatedFields,t),rt.keyPresent(Jn.RemovedFields,t),{removedFields:t[Jn.RemovedFields],updatedFields:t[Jn.UpdatedFields]}},t}();function rr(t,e,n,r){var i,o;return i=e in t?ar.updateDescriptionDecoder.decode(t[e]):void 0,n in t?(o=t[n],r&&(o=r.decode(o))):o=void 0,{updateDescription:i,fullDocument:o}}var ir,or=function(){function t(t){this.decoder=t}return t.prototype.decode=function(t){rt.keyPresent(Kn.Id,t),rt.keyPresent(Kn.OperationType,t),rt.keyPresent(Kn.Namespace,t),rt.keyPresent(Kn.DocumentKey,t);var e=t[Kn.Namespace],n=rr(t,Kn.UpdateDescription,Kn.FullDocument,this.decoder),r=n.updateDescription,i=n.fullDocument;return{documentKey:t[Kn.DocumentKey],fullDocument:i,id:t[Kn.Id],namespace:{collection:e[Kn.NamespaceColl],database:e[Kn.NamespaceDb]},operationType:Yn(t[Kn.OperationType]),updateDescription:r}},t}(),sr=function(){function t(t){this.decoder=t}return t.prototype.decode=function(t){rt.keyPresent(Gn.OperationType,t),rt.keyPresent(Gn.DocumentKey,t);var e,n,r=rr(t,Gn.UpdateDescription,Gn.FullDocument,this.decoder),i=r.updateDescription,o=r.fullDocument;return e=Gn.StitchDocumentVersion in t?t[Gn.StitchDocumentVersion]:void 0,n=Gn.StitchDocumentHash in t?t[Gn.StitchDocumentHash]:void 0,{documentKey:t[Gn.DocumentKey],fullDocument:o,operationType:Yn(t[Gn.OperationType]),stitchDocumentHash:n,stitchDocumentVersion:e,updateDescription:i}},t}(),ar=function(){function t(){}return t.remoteInsertManyResultDecoder=new Zn,t.remoteInsertOneResultDecoder=new Qn,t.remoteUpdateResultDecoder=new tr,t.remoteDeleteResultDecoder=new er,t.updateDescriptionDecoder=new nr,t.ChangeEventDecoder=or,t.CompactChangeEventDecoder=sr,t}(),ur=ar,lr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},cr=function(){function t(t,e,n,r){var i=this;this.name=t,this.databaseName=e,this.service=n,this.codec=r,this.namespace=this.databaseName+"."+this.name,this.baseOperationArgs={collection:i.name,database:i.databaseName}}return t.prototype.withCollectionType=function(e){return new t(this.name,this.databaseName,this.service,e)},t.prototype.find=function(t,e){void 0===t&&(t={});var n=lr({},this.baseOperationArgs);return n.query=t,e&&(e.limit&&(n.limit=e.limit),e.projection&&(n.project=e.projection),e.sort&&(n.sort=e.sort)),new zn("find",n,this.service,this.codec)},t.prototype.findOne=function(t,e){void 0===t&&(t={});var n=lr({},this.baseOperationArgs);return n.query=t,e&&(e.projection&&(n.project=e.projection),e.sort&&(n.sort=e.sort)),this.service.callFunction("findOne",[n],this.codec)},t.prototype.findOneAndUpdate=function(t,e,n){var r=lr({},this.baseOperationArgs);return r.filter=t,r.update=e,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndUpdate",[r],this.codec)},t.prototype.findOneAndReplace=function(t,e,n){var r=lr({},this.baseOperationArgs);return r.filter=t,r.update=e,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndReplace",[r],this.codec)},t.prototype.findOneAndDelete=function(t,e){var n=lr({},this.baseOperationArgs);return n.filter=t,e&&(e.projection&&(n.projection=e.projection),e.sort&&(n.sort=e.sort)),this.service.callFunction("findOneAndDelete",[n],this.codec)},t.prototype.aggregate=function(t){var e=lr({},this.baseOperationArgs);return e.pipeline=t,new zn("aggregate",e,this.service,this.codec)},t.prototype.count=function(t,e){void 0===t&&(t={});var n=lr({},this.baseOperationArgs);return n.query=t,e&&e.limit&&(n.limit=e.limit),this.service.callFunction("count",[n])},t.prototype.insertOne=function(t){var e=lr({},this.baseOperationArgs);return e.document=this.generateObjectIdIfMissing(this.codec?this.codec.encode(t):t),this.service.callFunction("insertOne",[e],ur.remoteInsertOneResultDecoder)},t.prototype.insertMany=function(t){var e=this,n=lr({},this.baseOperationArgs);return n.documents=t.map(function(t){return e.generateObjectIdIfMissing(e.codec?e.codec.encode(t):t)}),this.service.callFunction("insertMany",[n],ur.remoteInsertManyResultDecoder)},t.prototype.deleteOne=function(t){return this.executeDelete(t,!1)},t.prototype.deleteMany=function(t){return this.executeDelete(t,!0)},t.prototype.updateOne=function(t,e,n){return this.executeUpdate(t,e,n,!1)},t.prototype.updateMany=function(t,e,n){return this.executeUpdate(t,e,n,!0)},t.prototype.watch=function(t){var e=lr({},this.baseOperationArgs);return void 0!==t&&(t instanceof Array?0!==t.length&&(e.ids=t):t instanceof Object&&(e.filter=t)),e.useCompactEvents=!1,this.service.streamFunction("watch",[e],new ur.ChangeEventDecoder(this.codec))},t.prototype.watchCompact=function(t){var e=lr({},this.baseOperationArgs);return e.ids=t,e.useCompactEvents=!0,this.service.streamFunction("watch",[e],new ur.CompactChangeEventDecoder(this.codec))},t.prototype.executeDelete=function(t,e){var n=lr({},this.baseOperationArgs);return n.query=t,this.service.callFunction(e?"deleteMany":"deleteOne",[n],ur.remoteDeleteResultDecoder)},t.prototype.executeUpdate=function(t,e,n,r){void 0===r&&(r=!1);var i=lr({},this.baseOperationArgs);return i.query=t,i.update=e,n&&n.upsert&&(i.upsert=n.upsert),this.service.callFunction(r?"updateMany":"updateOne",[i],ur.remoteUpdateResultDecoder)},t.prototype.generateObjectIdIfMissing=function(t){if(!t._id){var e=t;return e._id=new i.b.ObjectID,e}return t},t}(),hr=function(){function t(t,e){this.name=t,this.service=e}return t.prototype.collection=function(t,e){return new cr(t,this.name,this.service,e)},t}(),fr=function(){function t(t){this.service=t}return t.prototype.db=function(t){return new hr(t,this.service)},t}(),dr=function(){function t(t){this.proxy=t}return t.prototype.next=function(){return Promise.resolve(this.proxy.next().value)},t}(),pr=function(){function t(t){this.proxy=t}return t.prototype.first=function(){return this.proxy.first()},t.prototype.toArray=function(){return this.proxy.toArray()},t.prototype.asArray=function(){return this.toArray()},t.prototype.iterator=function(){return this.proxy.iterator().then(function(t){return new dr(t)})},t}(),_r=function(){function t(t){this.proxy=t,this.namespace=this.proxy.namespace}return t.prototype.withCollectionType=function(e){return new t(this.proxy.withCollectionType(e))},t.prototype.count=function(t,e){return this.proxy.count(t,e)},t.prototype.find=function(t,e){return new pr(this.proxy.find(t,e))},t.prototype.findOne=function(t,e){return this.proxy.findOne(t,e)},t.prototype.findOneAndUpdate=function(t,e,n){return this.proxy.findOneAndUpdate(t,e,n)},t.prototype.findOneAndReplace=function(t,e,n){return this.proxy.findOneAndReplace(t,e,n)},t.prototype.findOneAndDelete=function(t,e){return this.proxy.findOneAndDelete(t,e)},t.prototype.aggregate=function(t){return new pr(this.proxy.aggregate(t))},t.prototype.insertOne=function(t){return this.proxy.insertOne(t)},t.prototype.insertMany=function(t){return this.proxy.insertMany(t)},t.prototype.deleteOne=function(t){return this.proxy.deleteOne(t)},t.prototype.deleteMany=function(t){return this.proxy.deleteMany(t)},t.prototype.updateOne=function(t,e,n){return this.proxy.updateOne(t,e,n)},t.prototype.updateMany=function(t,e,n){return this.proxy.updateMany(t,e,n)},t.prototype.watch=function(t){return this.proxy.watch(t)},t.prototype.watchCompact=function(t){return this.proxy.watchCompact(t)},t}(),yr=function(){function t(t){this.proxy=t,this.name=this.proxy.name}return t.prototype.collection=function(t,e){return new _r(this.proxy.collection(t,e))},t}(),mr=function(){function t(t){this.proxy=t}return t.prototype.db=function(t){return new yr(this.proxy.db(t))},t}();(ir||(ir={})).factory=new(function(){function t(){}return t.prototype.getNamedClient=function(t,e){return new mr(new fr(t))},t}()),n.d(e,"AnonymousAuthProvider",function(){return V}),n.d(e,"AnonymousCredential",function(){return Pt}),n.d(e,"BSON",function(){return i.b}),n.d(e,"BrowserFetchTransport",function(){return fn}),n.d(e,"CustomAuthProvider",function(){return Ct}),n.d(e,"CustomCredential",function(){return It}),n.d(e,"FacebookAuthProvider",function(){return Rt}),n.d(e,"FacebookCredential",function(){return Dt}),n.d(e,"FacebookRedirectCredential",function(){return Le}),n.d(e,"FunctionAuthProvider",function(){return Mt}),n.d(e,"FunctionCredential",function(){return Ut}),n.d(e,"GoogleAuthProvider",function(){return kt}),n.d(e,"GoogleCredential",function(){return Ft}),n.d(e,"GoogleRedirectCredential",function(){return Fe}),n.d(e,"MemoryStorage",function(){return ae}),n.d(e,"ServerApiKeyAuthProvider",function(){return jt}),n.d(e,"ServerApiKeyCredential",function(){return zt}),n.d(e,"Stitch",function(){return $n}),n.d(e,"StitchAppClientConfiguration",function(){return Me}),n.d(e,"StitchAppClientInfo",function(){return ke}),n.d(e,"StitchClientError",function(){return L}),n.d(e,"StitchClientErrorCode",function(){return R}),n.d(e,"StitchRequestError",function(){return p}),n.d(e,"StitchRequestErrorCode",function(){return l}),n.d(e,"StitchServiceError",function(){return b}),n.d(e,"StitchServiceErrorCode",function(){return h}),n.d(e,"StitchUserIdentity",function(){return it}),n.d(e,"Stream",function(){return $}),n.d(e,"UserApiKey",function(){return qt}),n.d(e,"UserApiKeyAuthProvider",function(){return Ht}),n.d(e,"UserApiKeyAuthProviderClient",function(){return Ue}),n.d(e,"UserApiKeyCredential",function(){return Zt}),n.d(e,"UserPasswordAuthProvider",function(){return Qt}),n.d(e,"UserPasswordAuthProviderClient",function(){return ze}),n.d(e,"UserPasswordCredential",function(){return ie}),n.d(e,"UserType",function(){return se}),n.d(e,"RemoteInsertManyResult",function(){return Xn}),n.d(e,"RemoteMongoReadOperation",function(){return pr}),n.d(e,"RemoteMongoClient",function(){return ir})},8:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},9:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=l(t),r=n[0],s=n[1],a=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),u=0,c=s>0?r-4:r,h=0;h<c;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jzb24vZGlzdC9ic29uLmJyb3dzZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvYXdhaXQtc2VtYXBob3JlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZXRlY3QtYnJvd3Nlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9uZy9zcmMvbG9uZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvbW9kaWZ5LXRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGlyZWN0aXZlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUtcmVzdWx0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS1mYWN0b3J5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcmVuZGVyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvdXBkYXRpbmctZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL2RlY29yYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9jc3MtdGFnLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9MU0dfYnRsZS9CVExFY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvTFNHX2J0bGUvbWFpbi12aWV3LnRzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy9kaXN0L3BhY2thZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9hc2NlbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9iaXNlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2Jpc2VjdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2Nyb3NzLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy90aWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3RocmVzaG9sZC9zdHVyZ2VzLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWF4LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWluLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1heGlzL3NyYy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NhbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9uYW1lc3BhY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2F0dHIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xhc3NlZC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmFpc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luc2VydC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RBbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vam9pbi5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbm9kZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2VhY2guanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hcHBlbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2RlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL2NvbG9yLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvcmdiLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXNDbG9zZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9kYXRlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvc3RyaW5nLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lb3V0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9pbnRlcnJ1cHQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vZGVjb21wb3NlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3R3ZWVuLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2ludGVycG9sYXRlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdGV4dFR3ZWVuLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3RBbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL21lcmdlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vYXR0ci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2RlbGF5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vdHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2ludGVycnVwdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtYnJ1c2gvc3JjL2JydXNoLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1jaG9yZC9zcmMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtY2hvcmQvc3JjL2FycmF5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1jaG9yZC9zcmMvY2hvcmQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXBhdGgvc3JjL3BhdGguanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWNvbGxlY3Rpb24vc3JjL21hcC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtY29sbGVjdGlvbi9zcmMvc2V0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1jb250b3VyL3NyYy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZmV0Y2gvc3JjL2J1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZHN2L3NyYy9kc3YuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWRzdi9zcmMvY3N2LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1kc3Yvc3JjL3Rzdi5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZmV0Y2gvc3JjL3RleHQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZldGNoL3NyYy9kc3YuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZldGNoL3NyYy94bWwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9hZGQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9jb3Zlci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy94LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMveS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWR0cmVlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2V4dGVudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yZW1vdmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yb290LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3Zpc2l0LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvdmlzaXRBZnRlci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZm9yY2Uvc3JjL3NpbXVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvZGVmYXVsdFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcmFuZG9tL3NyYy9ub3JtYWwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtcmFuZG9tL3NyYy9pcndpbkhhbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvbG9nTm9ybWFsLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1yYW5kb20vc3JjL2JhdGVzLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1yYW5kb20vc3JjL2V4cG9uZW50aWFsLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvaW5pdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL2FycmF5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFNwZWNpZmllci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXREZWNpbWFsLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFByZWZpeEF1dG8uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZGVmYXVsdExvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9leHBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXRUcmltLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFJvdW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZm9ybWF0VHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvbG9jYWxlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdEdyb3VwLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdE51bWVyYWxzLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL3ByZWNpc2lvblJvdW5kLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvdGlja0Zvcm1hdC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9wcmVjaXNpb25QcmVmaXguanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvcHJlY2lzaW9uRml4ZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9saW5lYXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9xdWFudGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3llYXIuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL21vbnRoLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9kdXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvd2Vlay5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvZGF5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9ob3VyLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9taW51dGUuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3NlY29uZC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvbWlsbGlzZWNvbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y1dlZWsuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y0RheS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjWWVhci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS1mb3JtYXQvc3JjL2xvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS1mb3JtYXQvc3JjL2RlZmF1bHRMb2NhbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy90aW1lLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy91dGNNb250aC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjSG91ci5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjTWludXRlLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zaGFwZS9zcmMvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXNoYXBlL3NyYy9tYXRoLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zaGFwZS9zcmMvYXJjLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zaGFwZS9zcmMvZGVzY2VuZGluZy5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtc2hhcGUvc3JjL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy1zaGFwZS9zcmMvcGllLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy12b3Jvbm9pL3NyYy9SZWRCbGFja1RyZWUuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXZvcm9ub2kvc3JjL0VkZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXZvcm9ub2kvc3JjL0NlbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXZvcm9ub2kvc3JjL0NpcmNsZS5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9ub2RlX21vZHVsZXMvZDMtdm9yb25vaS9zcmMvQmVhY2guanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLXZvcm9ub2kvc3JjL0RpYWdyYW0uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy96b29tLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL25vZGVfbW9kdWxlcy9kMy16b29tL3NyYy90cmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvTFNHX3BpZS9MU0dfcGllLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy92ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvZG9jdW1lbnQtd2FpdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jb21tb24tcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jb21tb24tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3MvZW50cnlwb2ludHMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvcmVzb2x2ZS11cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3NldHRpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zdHlsZS1nYXRoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL3NpemluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3BhY2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1zcGxpdC1sYXlvdXQvdGhlbWUvbHVtby92YWFkaW4tc3BsaXQtbGF5b3V0LXN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3dyYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3BhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2Nhc2UtbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnRpZXMtY2hhbmdlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3RlbXBsYXRlLXN0YW1wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydHktZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvdGVsZW1ldHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydGllcy1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZ2VzdHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXJyYXktc3BsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbGF0dGVuZWQtbm9kZXMtb2JzZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jc3MtcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2FwcGx5LXNoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy90ZW1wbGF0ZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9hcHBseS1zaGltLXV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9hcHBseS1zaGltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZGlyLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy91bnJlc29sdmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zY29wZS1zdWJ0cmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvbGVnYWN5LWVsZW1lbnQtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9tdXRhYmxlLWRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3RlbXBsYXRpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2hpZGUtdGVtcGxhdGUtY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tcmVwZWF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20taWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvbXV0YWJsZS1kYXRhLWJlaGF2aW9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4vdmFhZGluLXRoZW1lLXByb3BlcnR5LW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IvdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MvdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MtY29sbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZWxlbWVudC1taXhpbi92YWFkaW4tZWxlbWVudC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tc3BsaXQtbGF5b3V0L3NyYy92YWFkaW4tc3BsaXQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhYmFzZS9hY2Nlc3NEYi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUtcmVzdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvbW9kaWZ5LXRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saWIvdXBkYXRpbmctZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGliL2RlY29yYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xpdC1lbGVtZW50L2xpYi9jc3MtdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9BdXRoRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvQXV0aEluZm8uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hSZXF1ZXN0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL1N0aXRjaFNlcnZpY2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvY29tbW9uL1N0aXRjaEVycm9yVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9NZXRob2QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9Db250ZW50VHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9IZWFkZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXV0aERvY1JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hEb2NSZXF1ZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hDbGllbnRFcnJvckNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RpdGNoQ2xpZW50RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vU3RyZWFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL1N0aXRjaFVzZXJQcm9maWxlSW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9Db3JlU3RpdGNoVXNlckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNBdXRoUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ludGVybmFsL1N0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL2NvbW1vbi9CYXNlNjQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvSldULmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL21vZGVscy9BcGlBdXRoSW5mby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9BY2Nlc3NUb2tlblJlZnJlc2hlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9tb2RlbHMvQXBpU3RpdGNoVXNlcklkZW50aXR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9jb21tb24vQXNzZXJ0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9TdGl0Y2hVc2VySWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL0FwaUNvcmVVc2VyUHJvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9tb2RlbHMvU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvaW50ZXJuYWwvbW9kZWxzL1N0b3JlQ29yZVVzZXJQcm9maWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL21vZGVscy9TdG9yZUF1dGhJbmZvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL2ludGVybmFsL0RldmljZUZpZWxkcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9pbnRlcm5hbC9Db3JlU3RpdGNoQXV0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvY3VzdG9tL0N1c3RvbUNyZWRlbnRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvUHJvdmlkZXJDYXBhYmlsaXRpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Fub255bW91cy9Bbm9ueW1vdXNDcmVkZW50aWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9jdXN0b20vQ3VzdG9tQXV0aFByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9mYWNlYm9vay9GYWNlYm9va0NyZWRlbnRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rQXV0aFByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlQ3JlZGVudGlhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZnVuY3Rpb24vRnVuY3Rpb25BdXRoUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2Z1bmN0aW9uL0Z1bmN0aW9uQ3JlZGVudGlhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvZ29vZ2xlL0dvb2dsZUF1dGhQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvc2VydmVyYXBpa2V5L1NlcnZlckFwaUtleUNyZWRlbnRpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3NlcnZlcmFwaWtleS9TZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvbW9kZWxzL1VzZXJBcGlLZXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL2ludGVybmFsL0NvcmVBdXRoUHJvdmlkZXJDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2F1dGgvcHJvdmlkZXJzL3VzZXJhcGlrZXkvVXNlckFwaUtleUF1dGhQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvdXNlcmFwaWtleS9Vc2VyQXBpS2V5Q3JlZGVudGlhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvdXNlcnBhc3MvQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vYXV0aC9wcm92aWRlcnMvdXNlcnBhc3MvVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL3Byb3ZpZGVycy91c2VycGFzcy9Vc2VyUGFzc3dvcmRDcmVkZW50aWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9hdXRoL1VzZXJUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9zZXJ2aWNlcy9pbnRlcm5hbC9SZWJpbmRFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvY29tbW9uL1N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL0NvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVN0aXRjaEFwcENsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L0Jhc2VFdmVudFN0cmVhbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L0Jhc2ljUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L1Jlc3BvbnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoUm91dGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoQXBwQXV0aFJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vaW50ZXJuYWwvbmV0L0FwaUFwcE1ldGFkYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL3NlcnZpY2VzL2ludGVybmFsL1N0aXRjaFNlcnZpY2VSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBcHBSb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2RrL2Rpc3QvZXNtL2ludGVybmFsL25ldC9TdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9pbnRlcm5hbC9uZXQvU3RpdGNoUmVxdWVzdENsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZGsvZGlzdC9lc20vc2VydmljZXMvaW50ZXJuYWwvQXV0aFJlYmluZEV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNkay9kaXN0L2VzbS9TdGl0Y2hBcHBDbGllbnRJbmZvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy91c2VyYXBpa2V5L1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvcHJvdmlkZXJzL2ZhY2Vib29rL0ZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy9nb29nbGUvR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy91c2VyYXBpa2V5L2ludGVybmFsL1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL3Byb3ZpZGVycy91c2VycGFzc3dvcmQvaW50ZXJuYWwvVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9wcm92aWRlcnMvdXNlcnBhc3N3b3JkL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9uZXQvQnJvd3NlckZldGNoVHJhbnNwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL2ludGVybmFsL1JlZGlyZWN0RnJhZ21lbnRGaWVsZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL2NvbW1vbi9Mb2NhbFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2ludGVybmFsL25ldC9FdmVudFNvdXJjZUV2ZW50U3RyZWFtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9uZXQvQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vc2VydmljZXMvaW50ZXJuYWwvU3RpdGNoU2VydmljZUNsaWVudEltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvUmVkaXJlY3RLZXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL2ludGVybmFsL1N0aXRjaFJlZGlyZWN0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZS9kaXN0L2VzbS9jb3JlL2F1dGgvaW50ZXJuYWwvU3RpdGNoVXNlckZhY3RvcnlJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9hdXRoL2ludGVybmFsL1N0aXRjaEF1dGhJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9jb21tb24vVmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9pbnRlcm5hbC9TdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1jb3JlL2Rpc3QvZXNtL2NvcmUvYXV0aC9pbnRlcm5hbC9TdGl0Y2hCcm93c2VyQXBwUm91dGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9pbnRlcm5hbC9TdGl0Y2hBcHBDbGllbnRJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLWNvcmUvZGlzdC9lc20vY29yZS9TdGl0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vT3BlcmF0aW9uVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1zdGl0Y2gtY29yZS1zZXJ2aWNlcy1tb25nb2RiLXJlbW90ZS9kaXN0L2VzbS9pbnRlcm5hbC9Db3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL1JlbW90ZUluc2VydE1hbnlSZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVzdWx0RGVjb2RlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29DbGllbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1jb3JlLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL0NvcmVSZW1vdGVNb25nb0NsaWVudEltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29DdXJzb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLXNlcnZpY2VzLW1vbmdvZGItcmVtb3RlL2Rpc3QvZXNtL2ludGVybmFsL1JlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGUvZGlzdC9lc20vaW50ZXJuYWwvUmVtb3RlTW9uZ29DbGllbnRJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25nb2RiLXN0aXRjaC1icm93c2VyLXNkay9kaXN0L2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJCdWZmZXIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiYnNvbl81NCIsImxvbmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImxvbmdfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwiYnVmZmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJidWZmZXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwiY29tbW9uanNHbG9iYWwiLCJ3aW5kb3ciLCJzZWxmIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJmbiIsIm1hcCIsIk1hcCIsImFycmF5IiwidGhpcyIsIl9rZXlzIiwiX3ZhbHVlcyIsImxlbmd0aCIsImVudHJ5IiwicHVzaCIsInYiLCJjbGVhciIsImRlbGV0ZSIsInNwbGljZSIsImVudHJpZXMiLCJpbmRleCIsIm5leHQiLCJ1bmRlZmluZWQiLCJkb25lIiwiZm9yRWFjaCIsImNhbGxiYWNrIiwiaGFzIiwia2V5cyIsInNldCIsInZhbHVlcyIsIm1hcF8xIiwiYSIsInRvRXh0ZW5kZWRKU09OIiwib3B0aW9ucyIsInJlbGF4ZWQiLCJ0b051bWJlciIsIiRudW1iZXJMb25nIiwidG9TdHJpbmciLCJmcm9tRXh0ZW5kZWRKU09OIiwiZG9jIiwicmVzdWx0IiwiZnJvbVN0cmluZyIsImxvbmdfMSIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiRG91YmxlIiwiaXNGaW5pdGUiLCIkbnVtYmVyRG91YmxlIiwicGFyc2VGbG9hdCIsImRvdWJsZV8xIiwiX3R5cGVvZiIsIm9iaiIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfY2xhc3NDYWxsQ2hlY2skMSIsIl9kZWZpbmVQcm9wZXJ0aWVzJDEiLCJfY3JlYXRlQ2xhc3MkMSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIlJlZmVyZW5jZUVycm9yIiwiX2dldFByb3RvdHlwZU9mIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9zZXRQcm90b3R5cGVPZiIsIlRpbWVzdGFtcCIsIl9Mb25nIiwibG93IiwiaGlnaCIsImlzTG9uZyIsIiR0aW1lc3RhbXAiLCJmcm9tSW50IiwiZnJvbU51bWJlciIsImxvd0JpdHMiLCJoaWdoQml0cyIsInN0ciIsIm9wdF9yYWRpeCIsInRpbWVzdGFtcCIsInJlcXVpcmUkJDAiLCJub3JtYWxpemVkRnVuY3Rpb25TdHJpbmciLCJyZXBsYWNlIiwiaW5zZWN1cmVSYW5kb21CeXRlcyIsInNpemUiLCJVaW50OEFycmF5IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tQnl0ZXMiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJlIiwidXRpbHMiLCJkZWZhdWx0U2V0VGltb3V0IiwiRXJyb3IiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiY2xlYXJUaW1lb3V0IiwicXVldWUiLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwiSXRlbSIsImFwcGx5IiwidGl0bGUiLCJwbGF0Zm9ybSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwicmVsZWFzZSIsImNvbmZpZyIsIm5vb3AiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwicGVyZm9ybWFuY2UiLCJwZXJmb3JtYW5jZU5vdyIsIm5vdyIsIm1vek5vdyIsIm1zTm93Iiwib05vdyIsIndlYmtpdE5vdyIsIkRhdGUiLCJnZXRUaW1lIiwiaHJ0aW1lIiwicHJldmlvdXNUaW1lc3RhbXAiLCJjbG9ja3RpbWUiLCJzZWNvbmRzIiwibmFub3NlY29uZHMiLCJzdGFydFRpbWUiLCJ1cHRpbWUiLCJwcm9jZXNzIiwiaW5oZXJpdHMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJpbmhlcml0cyQxIiwiX3R5cGVvZiQxIiwiZm9ybWF0UmVnRXhwIiwiZm9ybWF0IiwiZiIsImlzU3RyaW5nIiwib2JqZWN0cyIsImluc3BlY3QiLCJqb2luIiwiU3RyaW5nIiwieCIsIk51bWJlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJfIiwiaXNOdWxsIiwiaXNPYmplY3QiLCJkZXByZWNhdGUiLCJtc2ciLCJpc1VuZGVmaW5lZCIsIndhcm5lZCIsImNvbnNvbGUiLCJlcnJvciIsImRlYnVncyIsImRlYnVnRW52aXJvbiIsImRlYnVnbG9nIiwiTk9ERV9ERUJVRyIsInRvVXBwZXJDYXNlIiwiUmVnRXhwIiwidGVzdCIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsImFycmF5VG9IYXNoIiwiaGFzaCIsInZhbCIsImlkeCIsInJlY3Vyc2VUaW1lcyIsImlzRnVuY3Rpb24iLCJyZXQiLCJwcmltaXRpdmUiLCJmb3JtYXRQcmltaXRpdmUiLCJ2aXNpYmxlS2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiaW5kZXhPZiIsImZvcm1hdEVycm9yIiwiaXNSZWdFeHAiLCJpc0RhdGUiLCJvdXRwdXQiLCJiYXNlIiwiYnJhY2VzIiwiaXNBcnJheSIsInRvVVRDU3RyaW5nIiwiZm9ybWF0QXJyYXkiLCJmb3JtYXRQcm9wZXJ0eSIsInBvcCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwic2ltcGxlIiwiaXNOdW1iZXIiLCJtYXRjaCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGxpdCIsImxpbmUiLCJzdWJzdHIiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyIiwiYXIiLCJhcmciLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImlzUHJpbWl0aXZlIiwiaXNCdWZmZXIiLCJtYXliZUJ1ZiIsInBhZCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJpbnZlcnNlIiwid2hpdGUiLCJncmV5IiwiYmxhY2siLCJibHVlIiwiY3lhbiIsImdyZWVuIiwibWFnZW50YSIsInJlZCIsInllbGxvdyIsInNwZWNpYWwiLCJudW1iZXIiLCJib29sZWFuIiwibnVsbCIsInN0cmluZyIsImRhdGUiLCJyZWdleHAiLCJtb250aHMiLCJ0aW1lc3RhbXAkMSIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwibG9nIiwib3JpZ2luIiwiYWRkIiwicHJvcCIsInV0aWwiLCJfY2xhc3NDYWxsQ2hlY2skMiIsIl9kZWZpbmVQcm9wZXJ0aWVzJDIiLCJfY3JlYXRlQ2xhc3MkMiIsIkJ1ZmZlciQxIiwicmFuZG9tQnl0ZXMkMSIsImRlcHJlY2F0ZSQxIiwiUFJPQ0VTU19VTklRVUUiLCJjaGVja0ZvckhleFJlZ0V4cCIsImhhc0J1ZmZlclR5cGUiLCJmcm9tIiwiZXJyIiwiaGV4VGFibGUiLCJfaSIsImRlY29kZUxvb2t1cCIsIl9CdWZmZXIiLCJjb252ZXJ0VG9IZXgiLCJieXRlcyIsIm1ha2VPYmplY3RJZEVycm9yIiwiaW52YWxpZFN0cmluZyIsImludmFsaWRDaGFyYWN0ZXIiLCJjaGFyQ29kZUF0IiwiT2JqZWN0SWQiLCJpZCIsImdlbmVyYXRlIiwiY2FjaGVIZXhTdHJpbmciLCJfX2lkIiwidmFsaWQiLCJpc1ZhbGlkIiwiY3JlYXRlRnJvbUhleFN0cmluZyIsInRvSGV4U3RyaW5nIiwiaGV4U3RyaW5nIiwiX2kyIiwiaGV4Q2hhciIsImNvcHkiLCJvdGhlcklkIiwidG9Mb3dlckNhc2UiLCJyZWFkVUludDMyQkUiLCJzZXRUaW1lIiwiJG9pZCIsImluYyIsImdldEluYyIsImJ1ZmZlciQkMSIsImFsbG9jIiwiZ2V0X2luYyIsImN1c3RvbSIsIm9iamVjdGlkIiwiX2NsYXNzQ2FsbENoZWNrJDMiLCJfZGVmaW5lUHJvcGVydGllcyQzIiwiX2NyZWF0ZUNsYXNzJDMiLCJhbHBoYWJldGl6ZSIsInNvcnQiLCJCU09OUmVnRXhwIiwicGF0dGVybiIsIiRyZWd1bGFyRXhwcmVzc2lvbiIsIl9jbGFzc0NhbGxDaGVjayQ0IiwiX2RlZmluZVByb3BlcnRpZXMkNCIsIl9jcmVhdGVDbGFzcyQ0IiwiQlNPTlN5bWJvbCIsIiRzeW1ib2wiLCJzeW1ib2wiLCJfY2xhc3NDYWxsQ2hlY2skNSIsIl9kZWZpbmVQcm9wZXJ0aWVzJDUiLCJfY3JlYXRlQ2xhc3MkNSIsIkludDMyIiwiJG51bWJlckludCIsInBhcnNlSW50IiwiaW50XzMyIiwiX2NsYXNzQ2FsbENoZWNrJDYiLCJfZGVmaW5lUHJvcGVydGllcyQ2IiwiX2NyZWF0ZUNsYXNzJDYiLCJDb2RlIiwiY29kZSIsInNjb3BlIiwiJGNvZGUiLCIkc2NvcGUiLCJCdWZmZXIkMiIsIlBBUlNFX1NUUklOR19SRUdFWFAiLCJQQVJTRV9JTkZfUkVHRVhQIiwiUEFSU0VfTkFOX1JFR0VYUCIsIkVYUE9ORU5UX01BWCIsIkVYUE9ORU5UX01JTiIsIkVYUE9ORU5UX0JJQVMiLCJNQVhfRElHSVRTIiwiTkFOX0JVRkZFUiIsInJldmVyc2UiLCJJTkZfTkVHQVRJVkVfQlVGRkVSIiwiSU5GX1BPU0lUSVZFX0JVRkZFUiIsIkVYUE9ORU5UX1JFR0VYIiwiaXNEaWdpdCIsImlzTmFOIiwiZGl2aWRldTEyOCIsIkRJVklTT1IiLCJfcmVtIiwicGFydHMiLCJxdW90aWVudCIsInJlbSIsInNoaWZ0TGVmdCIsImRpdiIsIm1vZHVsbyIsIm11bHRpcGx5NjR4MiIsImxlZnQiLCJyaWdodCIsImxlZnRIaWdoIiwic2hpZnRSaWdodFVuc2lnbmVkIiwibGVmdExvdyIsImdldExvd0JpdHMiLCJyaWdodEhpZ2giLCJyaWdodExvdyIsInByb2R1Y3RIaWdoIiwibXVsdGlwbHkiLCJwcm9kdWN0TWlkIiwicHJvZHVjdE1pZDIiLCJwcm9kdWN0TG93IiwibGVzc1RoYW4iLCJ1aGxlZnQiLCJ1aHJpZ2h0IiwiaW52YWxpZEVyciIsIm1lc3NhZ2UiLCJEZWNpbWFsMTI4IiwiYmlhc2VkRXhwb25lbnQiLCJpc05lZ2F0aXZlIiwic2F3UmFkaXgiLCJmb3VuZE5vblplcm8iLCJzaWduaWZpY2FudERpZ2l0cyIsIm5EaWdpdHNSZWFkIiwibkRpZ2l0cyIsInJhZGl4UG9zaXRpb24iLCJmaXJzdE5vblplcm8iLCJkaWdpdHMiLCJuRGlnaXRzU3RvcmVkIiwiZGlnaXRzSW5zZXJ0IiwiZmlyc3REaWdpdCIsImxhc3REaWdpdCIsImV4cG9uZW50Iiwic2lnbmlmaWNhbmRIaWdoIiwic2lnbmlmaWNhbmRMb3ciLCJzdHJpbmdNYXRjaCIsImluZk1hdGNoIiwibmFuTWF0Y2giLCJ1bnNpZ25lZE51bWJlciIsImV4cFNpZ24iLCJleHBOdW1iZXIiLCJlbmRPZlN0cmluZyIsInJvdW5kRGlnaXQiLCJyb3VuZEJpdCIsImRJZHgiLCJfZElkeCIsIl9kSWR4MiIsInNpZ25pZmljYW5kIiwiZGVjIiwiYW5kIiwiZXF1YWxzIiwib3IiLCJDT01CSU5BVElPTl9NQVNLIiwiRVhQT05FTlRfTUFTSyIsIkNPTUJJTkFUSU9OX0lORklOSVRZIiwiQ09NQklOQVRJT05fTkFOIiwibWlkaCIsIm1pZGwiLCJjb21iaW5hdGlvbiIsImJpYXNlZF9leHBvbmVudCIsInNpZ25pZmljYW5kX2RpZ2l0cyIsInNjaWVudGlmaWNfZXhwb25lbnQiLCJzaWduaWZpY2FuZF9tc2IiLCJqIiwiayIsImlzX3plcm8iLCJzaWduaWZpY2FuZDEyOCIsIlpFUk8iLCJsZWFzdF9kaWdpdHMiLCJyYWRpeF9wb3NpdGlvbiIsIl9pMyIsIl9pNCIsIm1heCIsInRvSlNPTiIsIiRudW1iZXJEZWNpbWFsIiwiZGVjaW1hbDEyOCIsIl9jbGFzc0NhbGxDaGVjayQ3IiwiX2RlZmluZVByb3BlcnRpZXMkNyIsIl9jcmVhdGVDbGFzcyQ3IiwiTWluS2V5IiwiJG1pbktleSIsIm1pbl9rZXkiLCJfY2xhc3NDYWxsQ2hlY2skOCIsIl9kZWZpbmVQcm9wZXJ0aWVzJDgiLCJfY3JlYXRlQ2xhc3MkOCIsIk1heEtleSIsIiRtYXhLZXkiLCJtYXhfa2V5IiwiX2NsYXNzQ2FsbENoZWNrJDkiLCJfZGVmaW5lUHJvcGVydGllcyQ5IiwiX2NyZWF0ZUNsYXNzJDkiLCJEQlJlZiIsImNvbGxlY3Rpb24iLCJvaWQiLCJkYiIsImZpZWxkcyIsInNoaWZ0IiwiYXNzaWduIiwiJHJlZiIsIiRpZCIsIiRkYiIsImRiX3JlZiIsIl9jbGFzc0NhbGxDaGVjayRhIiwiX2RlZmluZVByb3BlcnRpZXMkYSIsIl9jcmVhdGVDbGFzcyRhIiwiQnVmZmVyJDMiLCJCaW5hcnkiLCJzdWJUeXBlIiwic3ViX3R5cGUiLCJCU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQiLCJwb3NpdGlvbiIsImJ1ZmZlciIsIkJVRkZFUl9TSVpFIiwiQXJyYXlCdWZmZXIiLCJ3cml0ZVN0cmluZ1RvQXJyYXkiLCJieXRlX3ZhbHVlIiwiZGVjb2RlZF9ieXRlIiwiX2J1ZmZlciIsImlzVWludDhBcnJheSIsIm9mZnNldCIsIndyaXRlIiwic2xpY2UiLCJhc1JhdyIsIm5ld0J1ZmZlciIsImNvbnZlcnRBcnJheXRvVXRmOEJpbmFyeVN0cmluZyIsImJhc2U2NFN0cmluZyIsIiRiaW5hcnkiLCJiYXNlNjQiLCJ0eXBlIiwiZGF0YSIsImJ5dGVBcnJheSIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsImZyb21DaGFyQ29kZSIsIlNVQlRZUEVfREVGQVVMVCIsIlNVQlRZUEVfRlVOQ1RJT04iLCJTVUJUWVBFX0JZVEVfQVJSQVkiLCJTVUJUWVBFX1VVSURfT0xEIiwiU1VCVFlQRV9VVUlEIiwiU1VCVFlQRV9NRDUiLCJTVUJUWVBFX1VTRVJfREVGSU5FRCIsImJpbmFyeSIsImNvbnN0YW50cyIsIkJTT05fSU5UMzJfTUFYIiwiQlNPTl9JTlQzMl9NSU4iLCJCU09OX0lOVDY0X01BWCIsInBvdyIsIkJTT05fSU5UNjRfTUlOIiwiSlNfSU5UX01BWCIsIkpTX0lOVF9NSU4iLCJCU09OX0RBVEFfTlVNQkVSIiwiQlNPTl9EQVRBX1NUUklORyIsIkJTT05fREFUQV9PQkpFQ1QiLCJCU09OX0RBVEFfQVJSQVkiLCJCU09OX0RBVEFfQklOQVJZIiwiQlNPTl9EQVRBX1VOREVGSU5FRCIsIkJTT05fREFUQV9PSUQiLCJCU09OX0RBVEFfQk9PTEVBTiIsIkJTT05fREFUQV9EQVRFIiwiQlNPTl9EQVRBX05VTEwiLCJCU09OX0RBVEFfUkVHRVhQIiwiQlNPTl9EQVRBX0RCUE9JTlRFUiIsIkJTT05fREFUQV9DT0RFIiwiQlNPTl9EQVRBX1NZTUJPTCIsIkJTT05fREFUQV9DT0RFX1dfU0NPUEUiLCJCU09OX0RBVEFfSU5UIiwiQlNPTl9EQVRBX1RJTUVTVEFNUCIsIkJTT05fREFUQV9MT05HIiwiQlNPTl9EQVRBX0RFQ0lNQUwxMjgiLCJCU09OX0RBVEFfTUlOX0tFWSIsIkJTT05fREFUQV9NQVhfS0VZIiwiQlNPTl9CSU5BUllfU1VCVFlQRV9GVU5DVElPTiIsIkJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWSIsIkJTT05fQklOQVJZX1NVQlRZUEVfVVVJRCIsIkJTT05fQklOQVJZX1NVQlRZUEVfTUQ1IiwiQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORUQiLCJfdHlwZW9mJDIiLCJrZXlzVG9Db2RlY3MiLCJkZXNlcmlhbGl6ZVZhbHVlIiwiJHVuZGVmaW5lZCIsImZpbHRlciIsInN0YXJ0c1dpdGgiLCIkZGF0ZSIsInBhcnNlIiwiJGRiUG9pbnRlciIsInRleHQiLCJfdGhpcyIsInN0cmljdCIsInJlcGxhY2VyIiwic3BhY2UiLCJzZXJpYWxpemVBcnJheSIsInNlcmlhbGl6ZURvY3VtZW50Iiwic2VyaWFsaXplIiwiYnNvbiIsImRlc2VyaWFsaXplIiwiZWpzb24iLCJzZXJpYWxpemVWYWx1ZSIsImdldElTT1N0cmluZyIsImlzb1N0ciIsInRvSVNPU3RyaW5nIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwiZGF0ZU51bSIsImluUmFuZ2UiLCJpbnQ2NFJhbmdlIiwiZmxhZ3MiLCJzb3VyY2UiLCJCU09OX1RZUEVfTUFQUElOR1MiLCJzdWJ0eXBlIiwibmFtZXNwYWNlIiwiTG9uZyIsImZyb21CaXRzIiwibG93XyIsImhpZ2hfIiwidW5zaWduZWQiLCJ1bnNpZ25lZF8iLCJPYmplY3RJRCIsImJzb250eXBlIiwiX2Jzb250eXBlIiwiX2RvYyIsIl9kb2MyIiwibWFwcGVyIiwiZXh0ZW5kZWRfanNvbiIsIkZJUlNUX0JJVCIsIkZJUlNUX1RXT19CSVRTIiwiRklSU1RfVEhSRUVfQklUUyIsIkZJUlNUX0ZPVVJfQklUUyIsIkZJUlNUX0ZJVkVfQklUUyIsIlRXT19CSVRfQ0hBUiIsIlRIUkVFX0JJVF9DSEFSIiwiRk9VUl9CSVRfQ0hBUiIsIkNPTlRJTlVJTkdfQ0hBUiIsInZhbGlkYXRlVXRmOCIsInN0YXJ0IiwiZW5kIiwiY29udGludWF0aW9uIiwiYnl0ZSIsInZhbGlkYXRlVXRmOF8xIiwidmFsaWRhdGVfdXRmOCIsIkJ1ZmZlciQ0IiwidmFsaWRhdGVVdGY4JDEiLCJKU19JTlRfTUFYX0xPTkciLCJKU19JTlRfTUlOX0xPTkciLCJmdW5jdGlvbkNhY2hlIiwiZGVzZXJpYWxpemUkMSIsImFsbG93T2JqZWN0U21hbGxlclRoYW5CdWZmZXJTaXplIiwiYnl0ZUxlbmd0aCIsImRlc2VyaWFsaXplT2JqZWN0IiwiZXZhbEZ1bmN0aW9ucyIsImNhY2hlRnVuY3Rpb25zIiwiY2FjaGVGdW5jdGlvbnNDcmMzMiIsImNyYzMyIiwiZmllbGRzQXNSYXciLCJyYXciLCJic29uUmVnRXhwIiwicHJvbW90ZUJ1ZmZlcnMiLCJwcm9tb3RlTG9uZ3MiLCJwcm9tb3RlVmFsdWVzIiwiYXJyYXlJbmRleCIsImVsZW1lbnRUeXBlIiwic3RyaW5nU2l6ZSIsInJlYWREb3VibGVMRSIsIl9pbmRleCIsIm9iamVjdFNpemUiLCJfaW5kZXgyIiwiX29iamVjdFNpemUiLCJhcnJheU9wdGlvbnMiLCJzdG9wSW5kZXgiLCJfbG93Qml0cyIsIl9oaWdoQml0cyIsImxvbmckJDEiLCJsZXNzVGhhbk9yRXF1YWwiLCJncmVhdGVyVGhhbk9yRXF1YWwiLCJkZWNpbWFsMTI4JCQxIiwidG9PYmplY3QiLCJiaW5hcnlTaXplIiwidG90YWxCaW5hcnlTaXplIiwicmVnRXhwT3B0aW9ucyIsIm9wdGlvbnNBcnJheSIsIl9zb3VyY2UiLCJfcmVnRXhwT3B0aW9ucyIsIl9zdHJpbmdTaXplIiwiX2xvd0JpdHMyIiwiX2hpZ2hCaXRzMiIsIl9zdHJpbmdTaXplMiIsImZ1bmN0aW9uU3RyaW5nIiwiaXNvbGF0ZUV2YWxXaXRoSGFzaCIsImlzb2xhdGVFdmFsIiwidG90YWxTaXplIiwiX3N0cmluZ1NpemUzIiwiX2Z1bmN0aW9uU3RyaW5nIiwiX2luZGV4MyIsIl9vYmplY3RTaXplMiIsInNjb3BlT2JqZWN0IiwiX2hhc2giLCJfc3RyaW5nU2l6ZTQiLCJvaWRCdWZmZXIiLCJfb2lkIiwiZXZhbCIsImRlc2VyaWFsaXplciIsInJlYWRJRUVFNzU0IiwiZW5kaWFuIiwibUxlbiIsIm5CeXRlcyIsImJCRSIsImVMZW4iLCJlTWF4IiwiZUJpYXMiLCJuQml0cyIsIk5hTiIsIkluZmluaXR5Iiwid3JpdGVJRUVFNzU0IiwicnQiLCJhYnMiLCJMTjIiLCJmbG9hdF9wYXJzZXIiLCJfdHlwZW9mJDMiLCJCdWZmZXIkNSIsIndyaXRlSUVFRTc1NCQxIiwibm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nJDEiLCJyZWdleHAkMSIsImlnbm9yZUtleXMiLCJTZXQiLCJpc0RhdGUkMSIsImlzUmVnRXhwJDEiLCJzZXJpYWxpemVTdHJpbmciLCJzZXJpYWxpemVOdW1iZXIiLCJsb25nVmFsIiwiZ2V0SGlnaEJpdHMiLCJzZXJpYWxpemVOdWxsIiwic2VyaWFsaXplQm9vbGVhbiIsInNlcmlhbGl6ZURhdGUiLCJkYXRlSW5NaWxpcyIsInNlcmlhbGl6ZVJlZ0V4cCIsImlnbm9yZUNhc2UiLCJtdWx0aWxpbmUiLCJzZXJpYWxpemVCU09OUmVnRXhwIiwic2VyaWFsaXplTWluTWF4Iiwic2VyaWFsaXplT2JqZWN0SWQiLCJzZXJpYWxpemVCdWZmZXIiLCJzZXJpYWxpemVPYmplY3QiLCJjaGVja0tleXMiLCJzZXJpYWxpemVGdW5jdGlvbnMiLCJpZ25vcmVVbmRlZmluZWQiLCJwYXRoIiwic2VyaWFsaXplSW50byIsInNlcmlhbGl6ZURlY2ltYWwxMjgiLCJzZXJpYWxpemVMb25nIiwic2VyaWFsaXplSW50MzIiLCJzZXJpYWxpemVEb3VibGUiLCJzZXJpYWxpemVGdW5jdGlvbiIsInNlcmlhbGl6ZUNvZGUiLCJjb2RlU2l6ZSIsInNlcmlhbGl6ZUJpbmFyeSIsInNlcmlhbGl6ZVN5bWJvbCIsInNlcmlhbGl6ZURCUmVmIiwic3RhcnRpbmdJbmRleCIsInRvQlNPTiIsIl9rZXkiLCJfdmFsdWUiLCJfdHlwZSIsIl9rZXkyIiwiX3ZhbHVlMiIsIl90eXBlMiIsInNlcmlhbGl6ZXIiLCJfdHlwZW9mJDQiLCJCdWZmZXIkNiIsIm5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQyIiwiaXNEYXRlJDIiLCJjYWxjdWxhdGVPYmplY3RTaXplIiwidG90YWxMZW5ndGgiLCJjYWxjdWxhdGVFbGVtZW50Iiwib3JkZXJlZF92YWx1ZXMiLCJjYWxjdWxhdGVfc2l6ZSIsIkJ1ZmZlciQ3IiwiZW5zdXJlX2J1ZmZlciIsInBvdGVudGlhbEJ1ZmZlciIsIkJ1ZmZlciQ4IiwiTUFYU0laRSIsImJ1ZmZlciQxIiwic2V0SW50ZXJuYWxCdWZmZXJTaXplIiwic2VyaWFsaXplJDEiLCJtaW5JbnRlcm5hbEJ1ZmZlclNpemUiLCJzZXJpYWxpemF0aW9uSW5kZXgiLCJmaW5pc2hlZEJ1ZmZlciIsInNlcmlhbGl6ZVdpdGhCdWZmZXJBbmRJbmRleCIsImZpbmFsQnVmZmVyIiwiZGVzZXJpYWxpemUkMiIsImNhbGN1bGF0ZU9iamVjdFNpemUkMSIsImRlc2VyaWFsaXplU3RyZWFtIiwibnVtYmVyT2ZEb2N1bWVudHMiLCJkb2N1bWVudHMiLCJkb2NTdGFydEluZGV4IiwiRUpTT04iLCJic29uXzEiLCJic29uXzIiLCJic29uXzMiLCJic29uXzQiLCJic29uXzUiLCJic29uXzYiLCJic29uXzciLCJic29uXzgiLCJic29uXzkiLCJic29uXzEwIiwiYnNvbl8xMSIsImJzb25fMTIiLCJic29uXzEzIiwiYnNvbl8xNCIsImJzb25fMTUiLCJic29uXzE2IiwiYnNvbl8xNyIsImJzb25fMTgiLCJic29uXzE5IiwiYnNvbl8yMCIsImJzb25fMjEiLCJic29uXzIyIiwiYnNvbl8yMyIsImJzb25fMjQiLCJic29uXzI1IiwiYnNvbl8yNiIsImJzb25fMjciLCJic29uXzI4IiwiYnNvbl8yOSIsImJzb25fMzAiLCJic29uXzMxIiwiYnNvbl8zMiIsImJzb25fMzMiLCJic29uXzM0IiwiYnNvbl8zNSIsImJzb25fMzYiLCJic29uXzM3IiwiYnNvbl8zOCIsImJzb25fMzkiLCJic29uXzQwIiwiYnNvbl80MSIsImJzb25fNDIiLCJic29uXzQzIiwiYnNvbl80NCIsImJzb25fNDUiLCJic29uXzQ2IiwiYnNvbl80NyIsImJzb25fNDgiLCJic29uXzQ5IiwiYnNvbl81MCIsImJzb25fNTEiLCJic29uXzUyIiwiYnNvbl81MyIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsImNyZWF0ZUJ1ZmZlciIsInRoYXQiLCJSYW5nZUVycm9yIiwiZW5jb2RpbmdPck9mZnNldCIsImFsbG9jVW5zYWZlIiwiYnl0ZU9mZnNldCIsImZyb21BcnJheUxpa2UiLCJmcm9tQXJyYXlCdWZmZXIiLCJlbmNvZGluZyIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJjaGVja2VkIiwiaXNuYW4iLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic3dhcCIsImIiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImFycmF5SW5kZXhPZiIsImxhc3RJbmRleE9mIiwiYXJyIiwiaW5kZXhTaXplIiwiYXJyTGVuZ3RoIiwidmFsTGVuZ3RoIiwicmVhZCIsImJ1ZiIsInJlYWRVSW50MTZCRSIsImZvdW5kSW5kZXgiLCJmb3VuZCIsImhleFdyaXRlIiwicmVtYWluaW5nIiwic3RyTGVuIiwicGFyc2VkIiwidXRmOFdyaXRlIiwiYmxpdEJ1ZmZlciIsImFzY2lpV3JpdGUiLCJhc2NpaVRvQnl0ZXMiLCJsYXRpbjFXcml0ZSIsImJhc2U2NFdyaXRlIiwidWNzMldyaXRlIiwidW5pdHMiLCJoaSIsImxvIiwidXRmMTZsZVRvQnl0ZXMiLCJiYXNlNjRTbGljZSIsImZyb21CeXRlQXJyYXkiLCJ1dGY4U2xpY2UiLCJtaW4iLCJyZXMiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJmaXJzdEJ5dGUiLCJjb2RlUG9pbnQiLCJieXRlc1BlclNlcXVlbmNlIiwiY29kZVBvaW50cyIsIk1BWF9BUkdVTUVOVFNfTEVOR1RIIiwiZGVjb2RlQ29kZVBvaW50c0FycmF5IiwiU2xvd0J1ZmZlciIsIklOU1BFQ1RfTUFYX0JZVEVTIiwiZm9vIiwic3ViYXJyYXkiLCJ0eXBlZEFycmF5U3VwcG9ydCIsInBvb2xTaXplIiwiX2F1Z21lbnQiLCJzcGVjaWVzIiwiZmlsbCIsImFsbG9jVW5zYWZlU2xvdyIsIl9pc0J1ZmZlciIsImNvbXBhcmUiLCJ5IiwibGlzdCIsInBvcyIsInN3YXAxNiIsInN3YXAzMiIsInN3YXA2NCIsImhleFNsaWNlIiwiYXNjaWlTbGljZSIsImxhdGluMVNsaWNlIiwidXRmMTZsZVNsaWNlIiwidGhpc1N0YXJ0IiwidGhpc0VuZCIsInRoaXNDb3B5IiwidGFyZ2V0Q29weSIsImluY2x1ZGVzIiwiX2FyciIsIm91dCIsInRvSGV4IiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkSW50TEUiLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4Iiwid3JpdGVVSW50MTZMRSIsIndyaXRlVUludDE2QkUiLCJ3cml0ZVVJbnQzMkxFIiwid3JpdGVVSW50MzJCRSIsIndyaXRlSW50TEUiLCJsaW1pdCIsInN1YiIsIndyaXRlSW50QkUiLCJ3cml0ZUludDgiLCJ3cml0ZUludDE2TEUiLCJ3cml0ZUludDE2QkUiLCJ3cml0ZUludDMyTEUiLCJ3cml0ZUludDMyQkUiLCJ3cml0ZUZsb2F0TEUiLCJ3cml0ZUZsb2F0QkUiLCJ3cml0ZURvdWJsZUxFIiwid3JpdGVEb3VibGVCRSIsInRhcmdldFN0YXJ0IiwiSU5WQUxJRF9CQVNFNjRfUkUiLCJsZWFkU3Vycm9nYXRlIiwidG9CeXRlQXJyYXkiLCJ0cmltIiwic3RyaW5ndHJpbSIsImJhc2U2NGNsZWFuIiwic3JjIiwiZHN0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsInNldEltbWVkaWF0ZSIsIlNlbWFwaG9yZSIsIltvYmplY3QgT2JqZWN0XSIsImNvdW50IiwidGFza3MiLCJQcm9taXNlIiwicmVqIiwicmVsZWFzZWQiLCJzY2hlZCIsImFjcXVpcmUiLCJ0aGVuIiwiY2F0Y2giLCJNdXRleCIsInN1cGVyIiwiZGV0ZWN0T1MiLCJ1c2VyQWdlbnRTdHJpbmciLCJkZXRlY3RlZCIsImJ1aWxkUnVsZXMiLCJvcyIsInJ1bGUiLCJnZXROb2RlVmVyc2lvbiIsInBhcnNlVXNlckFnZW50IiwiYnJvd3NlcnMiLCJleGVjIiwiQm9vbGVhbiIsImJvdCIsInJ1bGVUdXBsZXMiLCJ0dXBsZSIsImRldGVjdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIndhc20iLCJXZWJBc3NlbWJseSIsIkluc3RhbmNlIiwiTW9kdWxlIiwiX19pc0xvbmdfXyIsIklOVF9DQUNIRSIsIlVJTlRfQ0FDSEUiLCJjYWNoZWRPYmoiLCJjYWNoZSIsIlVaRVJPIiwiVFdPX1BXUl82NF9EQkwiLCJNQVhfVU5TSUdORURfVkFMVUUiLCJUV09fUFdSXzYzX0RCTCIsIk1JTl9WQUxVRSIsIk1BWF9WQUxVRSIsIm5lZyIsIlRXT19QV1JfMzJfREJMIiwicG93X2RibCIsInJhZGl4Iiwic3Vic3RyaW5nIiwicmFkaXhUb1Bvd2VyIiwicG93ZXIiLCJmcm9tVmFsdWUiLCJUV09fUFdSXzE2X0RCTCIsIlRXT19QV1JfMjQiLCJPTkUiLCJVT05FIiwiTkVHX09ORSIsIkxvbmdQcm90b3R5cGUiLCJ0b0ludCIsImlzWmVybyIsImVxIiwicmFkaXhMb25nIiwicmVtMSIsInJlbURpdiIsImdldEhpZ2hCaXRzVW5zaWduZWQiLCJnZXRMb3dCaXRzVW5zaWduZWQiLCJnZXROdW1CaXRzQWJzIiwiYml0IiwiZXF6IiwiaXNQb3NpdGl2ZSIsImlzT2RkIiwiaXNFdmVuIiwib3RoZXIiLCJub3RFcXVhbHMiLCJuZXEiLCJuZSIsImNvbXAiLCJsdCIsImx0ZSIsImxlIiwiZ3JlYXRlclRoYW4iLCJndCIsImd0ZSIsImdlIiwidGhpc05lZyIsIm90aGVyTmVnIiwibmVnYXRlIiwibm90IiwiYWRkZW5kIiwiYTQ4IiwiYTMyIiwiYTE2IiwiYTAwIiwiYjQ4IiwiYjMyIiwiYjE2IiwiYzQ4IiwiYzMyIiwiYzE2IiwiYzAwIiwic3VidHJhY3QiLCJzdWJ0cmFoZW5kIiwibXVsdGlwbGllciIsImdldF9oaWdoIiwiYjAwIiwiZGl2aWRlIiwiZGl2aXNvciIsImFwcHJveCIsImRpdl91IiwiZGl2X3MiLCJ0b1Vuc2lnbmVkIiwic2hydSIsInNociIsInNobCIsImxvZzIiLCJjZWlsIiwiZGVsdGEiLCJhcHByb3hSZXMiLCJhcHByb3hSZW0iLCJyZW1fdSIsInJlbV9zIiwibW9kIiwieG9yIiwibnVtQml0cyIsInNoaWZ0UmlnaHQiLCJzaHJfdSIsInRvU2lnbmVkIiwidG9CeXRlcyIsInRvQnl0ZXNMRSIsInRvQnl0ZXNCRSIsImZyb21CeXRlcyIsImZyb21CeXRlc0xFIiwiZnJvbUJ5dGVzQkUiLCJGdW5jdGlvbiIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbG9zZSIsInVucmVmIiwicmVmIiwiZW5yb2xsIiwiaXRlbSIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhckltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2N1bWVudCIsImF0dGFjaFRvIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsImV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24iLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24iLCJjcmVhdGVFbGVtZW50IiwiaHRtbCIsImRvY3VtZW50RWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uIiwidGFzayIsImlzTEUiLCJpc0NFUG9seWZpbGwiLCJjdXN0b21FbGVtZW50cyIsInBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2siLCJyZW1vdmVOb2RlcyIsImNvbnRhaW5lciIsIm5leHRTaWJsaW5nIiwibm9kZU1hcmtlciIsIm1hcmtlclJlZ2V4IiwiYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCJUZW1wbGF0ZSIsImVsZW1lbnQiLCJub2Rlc1RvUmVtb3ZlIiwic3RhY2siLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiY29udGVudCIsImxhc3RQYXJ0SW5kZXgiLCJwYXJ0SW5kZXgiLCJzdHJpbmdzIiwibm9kZSIsIm5leHROb2RlIiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImVuZHNXaXRoIiwic3RyaW5nRm9yUGFydCIsImxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgiLCJhdHRyaWJ1dGVMb29rdXBOYW1lIiwiYXR0cmlidXRlVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdGF0aWNzIiwidGFnTmFtZSIsImN1cnJlbnROb2RlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsImxhc3RJbmRleCIsImluc2VydCIsImNyZWF0ZU1hcmtlciIsImNyZWF0ZVRleHROb2RlIiwiaW5zZXJ0QmVmb3JlIiwicHJldmlvdXNTaWJsaW5nIiwic3VmZml4IiwiaXNUZW1wbGF0ZVBhcnRBY3RpdmUiLCJwYXJ0IiwiY3JlYXRlQ29tbWVudCIsIndhbGtlck5vZGVGaWx0ZXIiLCJyZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSIsInRlbXBsYXRlIiwibmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzIiwibm9kZUluZGV4IiwicmVtb3ZlQ291bnQiLCJub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSIsImN1cnJlbnRSZW1vdmluZ05vZGUiLCJjb3VudE5vZGVzIiwiZGlyZWN0aXZlcyIsIldlYWtNYXAiLCJpc0RpcmVjdGl2ZSIsIm5vQ2hhbmdlIiwibm90aGluZyIsInRlbXBsYXRlX2luc3RhbmNlX1RlbXBsYXRlSW5zdGFuY2UiLCJwcm9jZXNzb3IiLCJfX3BhcnRzIiwic2V0VmFsdWUiLCJjb21taXQiLCJmcmFnbWVudCIsImNsb25lTm9kZSIsImltcG9ydE5vZGUiLCJub2RlTmFtZSIsImhhbmRsZVRleHRFeHByZXNzaW9uIiwiaW5zZXJ0QWZ0ZXJOb2RlIiwiaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMiLCJhZG9wdE5vZGUiLCJ1cGdyYWRlIiwiY29tbWVudE1hcmtlciIsInRlbXBsYXRlX3Jlc3VsdF9UZW1wbGF0ZVJlc3VsdCIsImlzQ29tbWVudEJpbmRpbmciLCJjb21tZW50T3BlbiIsImF0dHJpYnV0ZU1hdGNoIiwiaW5uZXJIVE1MIiwiZ2V0SFRNTCIsImlzSXRlcmFibGUiLCJBdHRyaWJ1dGVDb21taXR0ZXIiLCJkaXJ0eSIsIl9jcmVhdGVQYXJ0IiwicGFydHNfQXR0cmlidXRlUGFydCIsInNldEF0dHJpYnV0ZSIsIl9nZXRWYWx1ZSIsImNvbW1pdHRlciIsImRpcmVjdGl2ZSIsInBhcnRzX05vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJ2YWx1ZUFzU3RyaW5nIiwidGVtcGxhdGVGYWN0b3J5IiwidXBkYXRlIiwiX2Nsb25lIiwiaXRlbVBhcnRzIiwiaXRlbVBhcnQiLCJhcHBlbmRJbnRvUGFydCIsImluc2VydEFmdGVyUGFydCIsInBhcnRzX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiUHJvcGVydHlDb21taXR0ZXIiLCJzaW5nbGUiLCJQcm9wZXJ0eVBhcnQiLCJldmVudE9wdGlvbnNTdXBwb3J0ZWQiLCJjYXB0dXJlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9lIiwicGFydHNfRXZlbnRQYXJ0IiwiZXZlbnROYW1lIiwiZXZlbnRDb250ZXh0IiwiX19ib3VuZEhhbmRsZUV2ZW50IiwiaGFuZGxlRXZlbnQiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJwYXNzaXZlIiwic2hvdWxkQWRkTGlzdGVuZXIiLCJfX29wdGlvbnMiLCJnZXRPcHRpb25zIiwidGVtcGxhdGVDYWNoZSIsInRlbXBsYXRlQ2FjaGVzIiwic3RyaW5nc0FycmF5Iiwia2V5U3RyaW5nIiwiZ2V0VGVtcGxhdGVFbGVtZW50IiwicmVuZGVyX3BhcnRzIiwiZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIiwicHJlZml4IiwibGl0X2h0bWxfaHRtbCIsImdldFRlbXBsYXRlQ2FjaGVLZXkiLCJzY29wZU5hbWUiLCJjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uIiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGVEb20iLCJ3YXJuIiwiVEVNUExBVEVfVFlQRVMiLCJzaGFkeVJlbmRlclNldCIsInByZXBhcmVUZW1wbGF0ZVN0eWxlcyIsInJlbmRlcmVkRE9NIiwidGVtcGxhdGVFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNvbmRlbnNlZFN0eWxlIiwidGV4dENvbnRlbnQiLCJ0ZW1wbGF0ZXMiLCJyZW1vdmVTdHlsZXNGcm9tTGl0VGVtcGxhdGVzIiwicmVmTm9kZSIsImluc2VydENvdW50Iiwid2Fsa2VySW5kZXgiLCJpbnNlcnROb2RlSW50b1RlbXBsYXRlIiwiZmlyc3RDaGlsZCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXRpdmVTaGFkb3ciLCJyZW1vdmVzIiwiSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSIsIl9vYmoiLCJkZWZhdWx0Q29udmVydGVyIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwiU1RBVEVfSEFTX1VQREFURUQiLCJTVEFURV9VUERBVEVfUkVRVUVTVEVEIiwiU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZIiwiZmluYWxpemVkIiwiVXBkYXRpbmdFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfZW5hYmxlVXBkYXRpbmdSZXNvbHZlciIsIl9jaGFuZ2VkUHJvcGVydGllcyIsIl9yZWZsZWN0aW5nUHJvcGVydGllcyIsImluaXRpYWxpemUiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJmaW5hbGl6ZSIsIl9jbGFzc1Byb3BlcnRpZXMiLCJhdHRyIiwiX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIiwic3VwZXJQcm9wZXJ0aWVzIiwiX2Vuc3VyZUNsYXNzUHJvcGVydGllcyIsIm5vQWNjZXNzb3IiLCJnZXRQcm9wZXJ0eURlc2NyaXB0b3IiLCJfb3B0aW9ucyIsIm9sZFZhbHVlIiwiX3JlcXVlc3RVcGRhdGUiLCJwcm9wZXJ0aWVzIiwicHJvcEtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjcmVhdGVQcm9wZXJ0eSIsImZyb21BdHRyaWJ1dGUiLCJ0b0F0dHJpYnV0ZSIsIl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3YiLCJlbmFibGVVcGRhdGluZyIsIl9hdHRyaWJ1dGVUb1Byb3BlcnR5IiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiZ2V0UHJvcGVydHlPcHRpb25zIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInBlcmZvcm1VcGRhdGUiLCJoYXNVcGRhdGVkIiwiX2FwcGx5SW5zdGFuY2VQcm9wZXJ0aWVzIiwic2hvdWxkVXBkYXRlIiwiY2hhbmdlZFByb3BlcnRpZXMiLCJfbWFya1VwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwiX2dldFVwZGF0ZUNvbXBsZXRlIiwiX3Byb3BlcnR5VG9BdHRyaWJ1dGUiLCJzdGFuZGFyZFByb3BlcnR5Iiwia2luZCIsInBsYWNlbWVudCIsImluaXRpYWxpemVyIiwiY2xhenoiLCJsZWdhY3lQcm9wZXJ0eSIsInByb3RvIiwiZGVjb3JhdG9yc19wcm9wZXJ0eSIsInByb3RvT3JEZXNjcmlwdG9yIiwic3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIiwiRG9jdW1lbnQiLCJDU1NTdHlsZVNoZWV0IiwicmVuZGVyTm90SW1wbGVtZW50ZWQiLCJsaXRfZWxlbWVudF9MaXRFbGVtZW50IiwidXNlclN0eWxlcyIsImdldFN0eWxlcyIsIl9zdHlsZXMiLCJhZGRTdHlsZXMiLCJyZWR1Y2VSaWdodCIsInVuc2hpZnQiLCJfZ2V0VW5pcXVlU3R5bGVzIiwicmVuZGVyUm9vdCIsImNyZWF0ZVJlbmRlclJvb3QiLCJTaGFkb3dSb290IiwiYWRvcHRTdHlsZXMiLCJhdHRhY2hTaGFkb3ciLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJzdHlsZVNoZWV0IiwiX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyIsIlNjb3BpbmdTaGltIiwicHJlcGFyZUFkb3B0ZWRDc3NUZXh0IiwiY3NzVGV4dCIsImxvY2FsTmFtZSIsImNvbm5lY3RlZENhbGxiYWNrIiwic3R5bGVFbGVtZW50IiwidGVtcGxhdGVSZXN1bHQiLCJyZW5kZXIiLCJoYXNSZW5kZXJlZCIsIm5lZWRzU2NvcGluZyIsImhvc3QiLCJmaXJzdFNjb3BlUmVuZGVyIiwicmVuZGVyQ29udGFpbmVyIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFwcGVuZEludG8iLCJjYWNoZUtleSIsInNoYWR5VGVtcGxhdGVGYWN0b3J5IiwiQmx1ZXRvb3RoR2F0dFN0YXRlIiwiQlRMRV9BY3Rpb24iLCJtYWluX3ZpZXdfTFNHX2JsdWV0b290aCIsImNvbm5lY3RlZFN0ciIsImNvbm5lY3RlZCIsInByaW1hcnlTZXJ2aWNlT2JqZWN0Iiwic2VydmljZSIsImNoYXJhY3RlcmlzdGljIiwiYnRsZWRhdGEiLCJidXR0b25Db2xvdXIiLCJidXR0b25Qb2ludGVyIiwiYmx1ZXRvb3RoRGV2aWNlIiwiYmx1ZXRvb3RoR2F0dCIsInByZXZDb25uZWN0ZWRTdHIiLCJfaGFuZGxlQnRHYXR0U3RhdGVDaGFuZ2UiLCJfaGFuZGxlTm90aWZ5Q2hhbmdlZCIsImNvbnN0ciIsInByb2Nlc3NCVExFY29tbWFuZHMiLCJzZW5kZCIsIndyaXRldmFsdWVUb1NlcnZpY2UiLCJyZWFkQnRsZSIsImNvbm5lY3QiLCJvbGRzdGF0ZSIsImRpc2Nvbm5lY3QiLCJzZXJ2aWNlbGlzdCIsImJsdWV0b290aCIsInJlcXVlc3REZXZpY2UiLCJmaWx0ZXJzIiwic2VydmljZXMiLCJvcHRpb25hbFNlcnZpY2VzIiwiRXZlbnRUYXJnZXQiLCJjb25uZWN0aW9uU3RyIiwiZ2F0U2VydmVyIiwiY3VycmVudFNlcnZpY2UiLCJjdXJyZW50Q2hhcmFjdGVyaXN0aWNzIiwibm90aWZ5Q2hhcmFjdGVyaXN0aWNzIiwic2VtYXBob3JlIiwiYXdhaXRfc2VtYXBob3JlIiwibWF4cmV0cnkiLCJzdGF0ZSIsIkRpc2Nvbm5lY3RlZCIsIlNldE5vdGlmeSIsImhhbmRsZU5vdGlmeUNoYW5nZWQiLCJsb2dTdHIiLCJuZXdTdGF0ZSIsImxvZ3N0ciIsIkNvbm5lY3RpbmciLCJEaXNjb25uZWN0aW5nIiwiQ29ubmVjdGVkIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiY29ubmVjdGl0Iiwic2V0U3RhdGUiLCJjbGFzc0luc3RhbmNlIiwiZ2F0dCIsInNlcnZpY2VOciIsImdldFByaW1hcnlTZXJ2aWNlIiwiZ2V0Q2hhcmFjdGVyaXN0aWMiLCJyZWFkVmFsdWUiLCJnZXRVaW50OCIsIm9uT2ZmIiwic3RhcnROb3RpZmljYXRpb25zIiwic3RvcE5vdGlmaWNhdGlvbnMiLCJ3cml0ZVZhbHVlIiwiZXZ0IiwiRGF0YVZpZXciLCJteUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJidWJibGVzIiwiY29tcG9zZWQiLCJvbkRpc2Nvbm5lY3RlZCIsInJlYWR2YWx1ZUZyb21TZXJ2aWNlIiwicmVhc29uIiwiYnRsZUFjdGlvbiIsImFjdGlvbiIsImVuYWJsZU5vdGlmeSIsImRpc2FibGVOb3RpZnkiLCJfX2RlY29yYXRlIiwiY2xhc3NPckRlc2NyaXB0b3IiLCJkZWZpbmUiLCJsZWdhY3lDdXN0b21FbGVtZW50IiwiZWxlbWVudHMiLCJzdGFuZGFyZEN1c3RvbUVsZW1lbnQiLCJjdXN0b21FbGVtZW50IiwiYXNjZW5kaW5nIiwiYmlzZWN0b3IiLCJhc2NlbmRpbmdDb21wYXJhdG9yIiwibWlkIiwiYXNjZW5kaW5nQmlzZWN0IiwiYmlzZWN0UmlnaHQiLCJiaXNlY3QiLCJhcnJheV9hcnJheSIsImUxMCIsInNxcnQiLCJlNSIsImUyIiwidGlja3MiLCJzdG9wIiwic3RlcCIsInRpY2tJbmNyZW1lbnQiLCJMTjEwIiwidGlja1N0ZXAiLCJzdGVwMCIsInN0ZXAxIiwic3JjX21heCIsInZhbHVlb2YiLCJzcmNfbWluIiwiZGlzcGF0Y2giLCJEaXNwYXRjaCIsInR5cGVuYW1lIiwiVCIsInR5cGVuYW1lcyIsInR5cGVzIiwicGFyc2VUeXBlbmFtZXMiLCJzcmNfZGlzcGF0Y2giLCJub25lIiwic3JjX3NlbGVjdG9yIiwic2VsZWN0b3IiLCJzZWxlY3RvckFsbF9lbXB0eSIsInNlbGVjdG9yQWxsIiwibWF0Y2hlciIsIm1hdGNoZXMiLCJzcGFyc2UiLCJFbnRlck5vZGUiLCJkYXR1bSIsIm93bmVyRG9jdW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJfbmV4dCIsIl9wYXJlbnQiLCJfX2RhdGFfXyIsImNoaWxkIiwia2V5UHJlZml4IiwiYmluZEluZGV4IiwiZ3JvdXAiLCJlbnRlciIsImV4aXQiLCJncm91cExlbmd0aCIsImRhdGFMZW5ndGgiLCJiaW5kS2V5Iiwia2V5VmFsdWUiLCJub2RlQnlLZXlWYWx1ZSIsImtleVZhbHVlcyIsInNvcnRfYXNjZW5kaW5nIiwieGh0bWwiLCJuYW1lc3BhY2VzIiwic3ZnIiwieGxpbmsiLCJ4bWwiLCJ4bWxucyIsImxvY2FsIiwic3JjX3dpbmRvdyIsImRlZmF1bHRWaWV3Iiwic3R5bGVWYWx1ZSIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRDb21wdXRlZFN0eWxlIiwiY2xhc3NBcnJheSIsImNsYXNzTGlzdCIsIkNsYXNzTGlzdCIsIl9ub2RlIiwiX25hbWVzIiwiY2xhc3NlZEFkZCIsIm5hbWVzIiwiY2xhc3NlZFJlbW92ZSIsInJlbW92ZSIsImNvbnRhaW5zIiwidGV4dFJlbW92ZSIsImh0bWxSZW1vdmUiLCJyYWlzZSIsImxvd2VyIiwiY3JlYXRvciIsImZ1bGxuYW1lIiwiY3JlYXRlRWxlbWVudE5TIiwidXJpIiwiY29uc3RhbnROdWxsIiwicmVtb3ZlX3JlbW92ZSIsInNlbGVjdGlvbl9jbG9uZVNoYWxsb3ciLCJjbG9uZSIsInNlbGVjdGlvbl9jbG9uZURlZXAiLCJmaWx0ZXJFdmVudHMiLCJvbl9ldmVudCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwiZmlsdGVyQ29udGV4dExpc3RlbmVyIiwibGlzdGVuZXIiLCJjb250ZXh0TGlzdGVuZXIiLCJyZWxhdGVkIiwicmVsYXRlZFRhcmdldCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiZXZlbnQxIiwiZXZlbnQwIiwib25SZW1vdmUiLCJfX29uIiwib25BZGQiLCJ3cmFwIiwicGFyYW1zIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJjYW5jZWxhYmxlIiwic2VsZWN0aW9uX3Jvb3QiLCJTZWxlY3Rpb24iLCJncm91cHMiLCJwYXJlbnRzIiwiX2dyb3VwcyIsIl9wYXJlbnRzIiwic2VsZWN0aW9uX3NlbGVjdGlvbiIsInNlbGVjdCIsInN1Ymdyb3VwcyIsInN1Ym5vZGUiLCJzdWJncm91cCIsInNlbGVjdEFsbCIsImVhY2giLCJzcmNfY29uc3RhbnQiLCJlbnRlckdyb3VwIiwidXBkYXRlR3JvdXAiLCJwcmV2aW91cyIsImkwIiwiaTEiLCJfZW50ZXIiLCJfZXhpdCIsIm9uZW50ZXIiLCJvbnVwZGF0ZSIsIm9uZXhpdCIsImFwcGVuZCIsIm1lcmdlIiwib3JkZXIiLCJzZWxlY3Rpb24iLCJncm91cHMwIiwiZ3JvdXBzMSIsIm0wIiwibTEiLCJtZXJnZXMiLCJncm91cDAiLCJncm91cDEiLCJjb21wYXJlTm9kZSIsInNvcnRncm91cHMiLCJzb3J0Z3JvdXAiLCJub2RlcyIsImVtcHR5IiwiZ2V0QXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwicHJpb3JpdHkiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwiY2xhc3NlZCIsImJlZm9yZSIsImRlZXAiLCJvbl9wYXJzZVR5cGVuYW1lcyIsInNyY19zZWxlY3Rpb24iLCJzcmNfc2VsZWN0IiwiZmFjdG9yeSIsImV4dGVuZCIsImRlZmluaXRpb24iLCJDb2xvciIsInJlSSIsInJlTiIsInJlUCIsInJlSGV4IiwicmVSZ2JJbnRlZ2VyIiwicmVSZ2JQZXJjZW50IiwicmVSZ2JhSW50ZWdlciIsInJlUmdiYVBlcmNlbnQiLCJyZUhzbFBlcmNlbnQiLCJyZUhzbGFQZXJjZW50IiwibmFtZWQiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFuY2hlZGFsbW9uZCIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmVlbiIsImRhcmtncmV5IiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZWVueWVsbG93IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JlZW4iLCJsaWdodGdyZXkiLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGVzbW9rZSIsInllbGxvd2dyZWVuIiwiY29sb3JfZm9ybWF0SGV4IiwicmdiIiwiZm9ybWF0SGV4IiwiY29sb3JfZm9ybWF0UmdiIiwiZm9ybWF0UmdiIiwiY29sb3JfY29sb3IiLCJyZ2JuIiwiUmdiIiwicmdiYSIsImhzbGEiLCJnIiwiY29sb3JfcmdiIiwib3BhY2l0eSIsInJnYkNvbnZlcnQiLCJyZ2JfZm9ybWF0SGV4IiwiaGV4IiwicmdiX2Zvcm1hdFJnYiIsInJvdW5kIiwiaCIsIkhzbCIsImhzbENvbnZlcnQiLCJoc2wycmdiIiwibTIiLCJiYXNpcyIsInQxIiwidjAiLCJ2MSIsInYyIiwidjMiLCJ0MiIsInQzIiwiY2hhbm5lbHMiLCJkaXNwbGF5YWJsZSIsImZvcm1hdEhzbCIsImJyaWdodGVyIiwiZGFya2VyIiwiZDNfaW50ZXJwb2xhdGVfc3JjX2NvbnN0YW50IiwibGluZWFyIiwiZ2FtbWEiLCJub2dhbW1hIiwiZXhwb25lbnRpYWwiLCJzcmNfcmdiIiwicmdiR2FtbWEiLCJjb2xvciIsInJnYlNwbGluZSIsInNwbGluZSIsInNyY19udW1iZXIiLCJyZUEiLCJyZUIiLCJ0YXNrSGVhZCIsInRhc2tUYWlsIiwic3JjX3N0cmluZyIsImFtIiwiYm0iLCJicyIsImJpIiwicSIsIm9uZSIsInN0cmluZ196ZXJvIiwidGltZXJfZnJhbWUiLCJ0aW1lcl9pbnRlcnZhbCIsInBva2VEZWxheSIsImNsb2NrTGFzdCIsImNsb2NrTm93IiwiY2xvY2tTa2V3IiwiY2xvY2siLCJzZXRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyTm93IiwiVGltZXIiLCJfY2FsbCIsIl90aW1lIiwidGltZXIiLCJkZWxheSIsInJlc3RhcnQiLCJ3YWtlIiwidGltZXJGbHVzaCIsInQwIiwic2xlZXAiLCJuYXAiLCJwb2tlIiwic3JjX3RpbWVvdXQiLCJlbGFwc2VkIiwiZW1wdHlPbiIsImVtcHR5VHdlZW4iLCJDUkVBVEVEIiwiU0NIRURVTEVEIiwiU1RBUlRJTkciLCJTVEFSVEVEIiwiUlVOTklORyIsIkVORElORyIsIkVOREVEIiwidHJhbnNpdGlvbl9zY2hlZHVsZSIsInRpbWluZyIsInNjaGVkdWxlcyIsIl9fdHJhbnNpdGlvbiIsInR3ZWVuIiwidGljayIsImR1cmF0aW9uIiwiZWFzZSIsInNjaGVkdWxlX2NyZWF0ZSIsInNjaGVkdWxlX2luaXQiLCJzY2hlZHVsZSIsInNjaGVkdWxlX2dldCIsInNjaGVkdWxlX3NldCIsImNzc05vZGUiLCJjc3NSb290IiwiY3NzVmlldyIsInN2Z05vZGUiLCJpbnRlcnJ1cHQiLCJkZWdyZWVzIiwiUEkiLCJkZWNvbXBvc2VfaWRlbnRpdHkiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsInJvdGF0ZSIsInNrZXdYIiwic2NhbGVYIiwic2NhbGVZIiwiZGVjb21wb3NlIiwiYXRhbjIiLCJhdGFuIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm0iLCJweENvbW1hIiwicHhQYXJlbiIsImRlZ1BhcmVuIiwieGEiLCJ5YSIsInhiIiwieWIiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsImludGVycG9sYXRlVHJhbnNmb3JtQ3NzIiwidHJhbnNmb3JtIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmciLCJiYXNlVmFsIiwiY29uc29saWRhdGUiLCJtYXRyaXgiLCJ0d2VlblZhbHVlIiwidHJhbnNpdGlvbiIsInRyYW5zaXRpb25faW50ZXJwb2xhdGUiLCJzZWxlY3Rpb25fU2VsZWN0aW9uIiwic3R5bGVfc3R5bGVSZW1vdmUiLCJ0cmFuc2l0aW9uX2lkIiwiVHJhbnNpdGlvbiIsIl9uYW1lIiwibmV3SWQiLCJzZWxlY3Rpb25fcHJvdG90eXBlIiwiY2hpbGRyZW4iLCJpbmhlcml0IiwiaWQwIiwiaWQxIiwib24wIiwib24xIiwic2l0IiwiZXZlcnkiLCJvbl9zdGFydCIsIm9uRnVuY3Rpb24iLCJhdHRyVHdlZW4iLCJpbnRlcnBvbGF0ZSIsInN0cmluZzAwIiwic3RyaW5nMTAiLCJpbnRlcnBvbGF0ZTAiLCJzdHJpbmcwIiwic3RyaW5nMSIsInZhbHVlMSIsImF0dHJJbnRlcnBvbGF0ZU5TIiwiYXR0ckludGVycG9sYXRlIiwic3R5bGVUd2VlbiIsInN0eWxlTnVsbCIsInN0eWxlX3N0eWxlRnVuY3Rpb24iLCJsaXN0ZW5lcjAiLCJzdHlsZU1heWJlUmVtb3ZlIiwic3R5bGVfc3R5bGVDb25zdGFudCIsInN0eWxlSW50ZXJwb2xhdGUiLCJ0ZXh0X3RleHRGdW5jdGlvbiIsInRleHRfdGV4dENvbnN0YW50IiwidGV4dFR3ZWVuIiwidGV4dEludGVycG9sYXRlIiwicmVtb3ZlRnVuY3Rpb24iLCJ0d2VlbjAiLCJ0d2VlbjEiLCJlYXNlQ29uc3RhbnQiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2FuY2VsIiwiZGVmYXVsdFRpbWluZyIsInRyYW5zaXRpb25faW5oZXJpdCIsIm51bWJlcjEiLCJudW1iZXIyIiwiYnJ1c2hfdHlwZSIsImNvcyIsInNpbiIsInBhdGhfcGkiLCJwYXRoX3RhdSIsInRhdUVwc2lsb24iLCJQYXRoIiwiX3gwIiwiX3kwIiwiX3gxIiwiX3kxIiwicGF0aF9wYXRoIiwibW92ZVRvIiwiY2xvc2VQYXRoIiwibGluZVRvIiwicXVhZHJhdGljQ3VydmVUbyIsIngxIiwieTEiLCJiZXppZXJDdXJ2ZVRvIiwieDIiLCJ5MiIsImFyY1RvIiwieDAiLCJ5MCIsIngyMSIsInkyMSIsIngwMSIsInkwMSIsImwwMV8yIiwieDIwIiwieTIwIiwibDIxXzIiLCJsMjBfMiIsImwyMSIsImwwMSIsImFjb3MiLCJ0MDEiLCJ0MjEiLCJhcmMiLCJhMCIsImExIiwiY2N3IiwiZHgiLCJkeSIsImN3IiwiZGEiLCJyZWN0IiwidyIsInNyY19wYXRoIiwibWFwX01hcCIsIm1hcF9tYXAiLCJzcmNfbWFwIiwic2V0X1NldCIsInNldF9wcm90byIsInNldF9zZXQiLCJFT0wiLCJFT0YiLCJRVU9URSIsIk5FV0xJTkUiLCJSRVRVUk4iLCJvYmplY3RDb252ZXJ0ZXIiLCJjb2x1bW5zIiwiaW5mZXJDb2x1bW5zIiwicm93cyIsImNvbHVtblNldCIsInJvdyIsImNvbHVtbiIsIndpZHRoIiwiZm9ybWF0RGF0ZSIsImhvdXJzIiwiZ2V0VVRDSG91cnMiLCJtaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsImdldFVUQ1NlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJ5ZWFyIiwiZHN2X2Zvcm1hdFllYXIiLCJnZXRVVENGdWxsWWVhciIsImdldFVUQ01vbnRoIiwiZ2V0VVRDRGF0ZSIsImRzdiIsImRlbGltaXRlciIsInJlRm9ybWF0IiwiREVMSU1JVEVSIiwicGFyc2VSb3dzIiwiTiIsIkkiLCJlb2YiLCJlb2wiLCJ0b2tlbiIsInByZWZvcm1hdEJvZHkiLCJmb3JtYXRSb3ciLCJjb252ZXJ0IiwiY3VzdG9tQ29udmVydGVyIiwiZm9ybWF0Qm9keSIsImZvcm1hdFJvd3MiLCJjc3YiLCJjc3ZQYXJzZSIsInRzdiIsInRzdlBhcnNlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2UiLCJvayIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJzcmNfdGV4dCIsImlucHV0IiwiaW5pdCIsImZldGNoIiwiZHN2UGFyc2UiLCJwYXJzZXIiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJhZGRfYWRkIiwidHJlZSIsInhtIiwieW0iLCJ4cCIsInlwIiwiYm90dG9tIiwiX3Jvb3QiLCJsZWFmIiwiX3giLCJfeSIsInNyY19xdWFkIiwieF9kZWZhdWx0WCIsInlfZGVmYXVsdFkiLCJxdWFkdHJlZSIsIlF1YWR0cmVlIiwiYWRkQWxsIiwibGVhZl9jb3B5IiwidHJlZVByb3RvIiwiY292ZXIiLCJ4eiIsInl6IiwieiIsInZpc2l0IiwiZXh0ZW50IiwiZmluZCIsInJhZGl1cyIsIngzIiwieTMiLCJxdWFkcyIsImQyIiwicmV0YWluZXIiLCJyZW1vdmVBbGwiLCJyb290IiwidmlzaXRBZnRlciIsInNyY19kZWZhdWx0U291cmNlIiwibm9ybWFsIiwic291cmNlUmFuZG9tVW5pZm9ybSIsInJhbmRvbVVuaWZvcm0iLCJzb3VyY2VSYW5kb21Ob3JtYWwiLCJyYW5kb21Ob3JtYWwiLCJtdSIsInNpZ21hIiwiaXJ3aW5IYWxsIiwic291cmNlUmFuZG9tTG9nTm9ybWFsIiwicmFuZG9tTG9nTm9ybWFsIiwiZXhwIiwic291cmNlUmFuZG9tSXJ3aW5IYWxsIiwicmFuZG9tSXJ3aW5IYWxsIiwic3VtIiwic291cmNlUmFuZG9tQmF0ZXMiLCJyYW5kb21CYXRlcyIsInNvdXJjZVJhbmRvbUV4cG9uZW50aWFsIiwicmFuZG9tRXhwb25lbnRpYWwiLCJsYW1iZGEiLCJpbml0UmFuZ2UiLCJkb21haW4iLCJyYW5nZSIsImQzX3NjYWxlX3NyY19hcnJheV9hcnJheSIsImQzX3NjYWxlX3NyY19hcnJheV9zbGljZSIsImZvcm1hdFNwZWNpZmllciIsInNwZWNpZmllciIsIkZvcm1hdFNwZWNpZmllciIsImFsaWduIiwic2lnbiIsInplcm8iLCJjb21tYSIsInByZWNpc2lvbiIsInByZWZpeEV4cG9uZW50IiwiZGVmYXVsdExvY2FsZV9sb2NhbGUiLCJkZWZhdWx0TG9jYWxlX2Zvcm1hdCIsImRlZmF1bHRMb2NhbGVfZm9ybWF0UHJlZml4IiwiZm9ybWF0RGVjaW1hbCIsInRvRXhwb25lbnRpYWwiLCJjb2VmZmljaWVudCIsInNyY19leHBvbmVudCIsImZvcm1hdFRyaW0iLCJmb3JtYXRSb3VuZGVkIiwiZm9ybWF0VHlwZXMiLCIlIiwidG9GaXhlZCIsInRvUHJlY2lzaW9uIiwiWCIsImQzX2Zvcm1hdF9zcmNfaWRlbnRpdHkiLCJsb2NhbGVfbWFwIiwicHJlZml4ZXMiLCJzcmNfbG9jYWxlIiwibG9jYWxlIiwiZ3JvdXBpbmciLCJ0aG91c2FuZHMiLCJmb3JtYXRHcm91cCIsImN1cnJlbmN5UHJlZml4IiwiY3VycmVuY3kiLCJjdXJyZW5jeVN1ZmZpeCIsImRlY2ltYWwiLCJudW1lcmFscyIsImZvcm1hdE51bWVyYWxzIiwicGVyY2VudCIsIm1pbnVzIiwibmFuIiwibmV3Rm9ybWF0IiwiZm9ybWF0VHlwZSIsIm1heWJlU3VmZml4IiwidmFsdWVQcmVmaXgiLCJ2YWx1ZVN1ZmZpeCIsInZhbHVlTmVnYXRpdmUiLCJwYWRkaW5nIiwiZm9ybWF0UHJlZml4IiwiZGVmYXVsdExvY2FsZSIsInNyY190aWNrRm9ybWF0IiwicHJlY2lzaW9uUHJlZml4IiwicHJlY2lzaW9uUm91bmQiLCJwcmVjaXNpb25GaXhlZCIsImxpbmVhcmlzaCIsInRpY2tGb3JtYXQiLCJuaWNlIiwicXVhbnRpemUiLCJ1bmtub3duIiwicmVzY2FsZSIsImludmVydEV4dGVudCIsInRocmVzaG9sZHMiLCJpbnRlcnZhbF90MCIsImludGVydmFsX3QxIiwibmV3SW50ZXJ2YWwiLCJmbG9vcmkiLCJvZmZzZXRpIiwiZmllbGQiLCJpbnRlcnZhbCIsImQwIiwiZDEiLCJ5ZWFyX3llYXIiLCJzZXRNb250aCIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsInNyY195ZWFyIiwibW9udGhfbW9udGgiLCJzZXREYXRlIiwiZHVyYXRpb25NaW51dGUiLCJkdXJhdGlvbldlZWsiLCJ3ZWVrZGF5IiwiZ2V0RGF5IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzdW5kYXkiLCJtb25kYXkiLCJ0dWVzZGF5Iiwid2VkbmVzZGF5IiwidGh1cnNkYXkiLCJmcmlkYXkiLCJzYXR1cmRheSIsImRheV9kYXkiLCJzcmNfZGF5IiwiaG91cl9ob3VyIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWludXRlX21pbnV0ZSIsInNlY29uZF9zZWNvbmQiLCJtaWxsaXNlY29uZF9taWxsaXNlY29uZCIsInV0Y1dlZWtkYXkiLCJzZXRVVENEYXRlIiwiZ2V0VVRDRGF5Iiwic2V0VVRDSG91cnMiLCJ1dGNTdW5kYXkiLCJ1dGNNb25kYXkiLCJ1dGNUdWVzZGF5IiwidXRjV2VkbmVzZGF5IiwidXRjVGh1cnNkYXkiLCJ1dGNGcmlkYXkiLCJ1dGNTYXR1cmRheSIsInV0Y0RheSIsInNyY191dGNEYXkiLCJ1dGNZZWFyIiwic2V0VVRDTW9udGgiLCJzZXRVVENGdWxsWWVhciIsInNyY191dGNZZWFyIiwibG9jYWxEYXRlIiwiSCIsIk0iLCJTIiwiTCIsInV0Y0RhdGUiLCJVVEMiLCJuZXdEYXRlIiwic3JjX2RlZmF1bHRMb2NhbGVfbG9jYWxlIiwicGFkcyIsIi0iLCIwIiwibnVtYmVyUmUiLCJwZXJjZW50UmUiLCJyZXF1b3RlUmUiLCJsb2NhbGVfcGFkIiwicmVxdW90ZSIsImZvcm1hdFJlIiwiZm9ybWF0TG9va3VwIiwicGFyc2VXZWVrZGF5TnVtYmVyU3VuZGF5IiwicGFyc2VXZWVrZGF5TnVtYmVyTW9uZGF5IiwidSIsInBhcnNlV2Vla051bWJlclN1bmRheSIsIlUiLCJwYXJzZVdlZWtOdW1iZXJJU08iLCJWIiwicGFyc2VXZWVrTnVtYmVyTW9uZGF5IiwiVyIsInBhcnNlRnVsbFllYXIiLCJwYXJzZVllYXIiLCJwYXJzZVpvbmUiLCJaIiwicGFyc2VRdWFydGVyIiwicGFyc2VNb250aE51bWJlciIsInBhcnNlRGF5T2ZNb250aCIsInBhcnNlRGF5T2ZZZWFyIiwicGFyc2VIb3VyMjQiLCJwYXJzZU1pbnV0ZXMiLCJwYXJzZVNlY29uZHMiLCJwYXJzZU1pbGxpc2Vjb25kcyIsInBhcnNlTWljcm9zZWNvbmRzIiwicGFyc2VMaXRlcmFsUGVyY2VudCIsInBhcnNlVW5peFRpbWVzdGFtcCIsIlEiLCJwYXJzZVVuaXhUaW1lc3RhbXBTZWNvbmRzIiwiZm9ybWF0RGF5T2ZNb250aCIsImZvcm1hdEhvdXIyNCIsImZvcm1hdEhvdXIxMiIsImZvcm1hdERheU9mWWVhciIsImZvcm1hdE1pbGxpc2Vjb25kcyIsImZvcm1hdE1pY3Jvc2Vjb25kcyIsImZvcm1hdE1vbnRoTnVtYmVyIiwiZm9ybWF0TWludXRlcyIsImZvcm1hdFNlY29uZHMiLCJmb3JtYXRXZWVrZGF5TnVtYmVyTW9uZGF5IiwiZGF5IiwiZm9ybWF0V2Vla051bWJlclN1bmRheSIsImZvcm1hdFdlZWtOdW1iZXJJU08iLCJmb3JtYXRXZWVrZGF5TnVtYmVyU3VuZGF5IiwiZm9ybWF0V2Vla051bWJlck1vbmRheSIsImxvY2FsZV9mb3JtYXRZZWFyIiwiZm9ybWF0RnVsbFllYXIiLCJmb3JtYXRab25lIiwiZm9ybWF0VVRDRGF5T2ZNb250aCIsImZvcm1hdFVUQ0hvdXIyNCIsImZvcm1hdFVUQ0hvdXIxMiIsImZvcm1hdFVUQ0RheU9mWWVhciIsImZvcm1hdFVUQ01pbGxpc2Vjb25kcyIsImZvcm1hdFVUQ01pY3Jvc2Vjb25kcyIsImZvcm1hdFVUQ01vbnRoTnVtYmVyIiwiZm9ybWF0VVRDTWludXRlcyIsImZvcm1hdFVUQ1NlY29uZHMiLCJmb3JtYXRVVENXZWVrZGF5TnVtYmVyTW9uZGF5IiwiZG93IiwiZm9ybWF0VVRDV2Vla051bWJlclN1bmRheSIsImZvcm1hdFVUQ1dlZWtOdW1iZXJJU08iLCJmb3JtYXRVVENXZWVrZGF5TnVtYmVyU3VuZGF5IiwiZm9ybWF0VVRDV2Vla051bWJlck1vbmRheSIsImZvcm1hdFVUQ1llYXIiLCJmb3JtYXRVVENGdWxsWWVhciIsImZvcm1hdFVUQ1pvbmUiLCJmb3JtYXRMaXRlcmFsUGVyY2VudCIsImZvcm1hdFVuaXhUaW1lc3RhbXAiLCJmb3JtYXRVbml4VGltZXN0YW1wU2Vjb25kcyIsImxvY2FsZV9kYXRlVGltZSIsImRhdGVUaW1lIiwibG9jYWxlX2RhdGUiLCJsb2NhbGVfdGltZSIsImxvY2FsZV9wZXJpb2RzIiwicGVyaW9kcyIsImxvY2FsZV93ZWVrZGF5cyIsImRheXMiLCJsb2NhbGVfc2hvcnRXZWVrZGF5cyIsInNob3J0RGF5cyIsImxvY2FsZV9tb250aHMiLCJsb2NhbGVfc2hvcnRNb250aHMiLCJzaG9ydE1vbnRocyIsInBlcmlvZFJlIiwicGVyaW9kTG9va3VwIiwid2Vla2RheVJlIiwid2Vla2RheUxvb2t1cCIsInNob3J0V2Vla2RheVJlIiwic2hvcnRXZWVrZGF5TG9va3VwIiwibW9udGhSZSIsIm1vbnRoTG9va3VwIiwic2hvcnRNb250aFJlIiwic2hvcnRNb250aExvb2t1cCIsImZvcm1hdHMiLCJBIiwiQiIsIlkiLCJ1dGNGb3JtYXRzIiwicGFyc2VzIiwicGFyc2VTcGVjaWZpZXIiLCJjaGFyQXQiLCJuZXdQYXJzZSIsIndlZWsiLCJ1dGNGb3JtYXQiLCJ1dGNQYXJzZSIsImZvcm1hdExvY2FsZSIsImRlZmF1bHRMb2NhbGVfZGVmYXVsdExvY2FsZSIsInV0Y01vbnRoIiwidXRjSG91ciIsInNldFVUQ01pbnV0ZXMiLCJ1dGNNaW51dGUiLCJzZXRVVENTZWNvbmRzIiwiZDNfc2hhcGVfc3JjX2NvbnN0YW50IiwibWF0aF9jb3MiLCJzcmNfbWF0aF9tYXgiLCJtYXRoX21pbiIsIm1hdGhfc2luIiwibWF0aF9zcXJ0IiwibWF0aF9lcHNpbG9uIiwibWF0aF9waSIsIm1hdGhfaGFsZlBpIiwibWF0aF90YXUiLCJhc2luIiwiYXJjSW5uZXJSYWRpdXMiLCJpbm5lclJhZGl1cyIsImFyY091dGVyUmFkaXVzIiwib3V0ZXJSYWRpdXMiLCJhcmNTdGFydEFuZ2xlIiwic3RhcnRBbmdsZSIsImFyY0VuZEFuZ2xlIiwiZW5kQW5nbGUiLCJhcmNQYWRBbmdsZSIsInBhZEFuZ2xlIiwiY29ybmVyVGFuZ2VudHMiLCJyMSIsInJjIiwib3giLCJveSIsIngxMSIsInkxMSIsIngxMCIsInkxMCIsIngwMCIsInkwMCIsIkQiLCJjeDAiLCJjeTAiLCJjeDEiLCJjeTEiLCJkeDAiLCJkeTAiLCJkeDEiLCJkeTEiLCJjeCIsImN5Iiwic3JjX2FyYyIsImNvcm5lclJhZGl1cyIsInBhZFJhZGl1cyIsImNvbnRleHQiLCJyMCIsImEwMSIsImExMSIsImExMCIsImRhMCIsImRhMSIsImFwIiwicnAiLCJyYzAiLCJyYzEiLCJwMCIsInAxIiwib2MiLCJ4MzIiLCJ5MzIiLCJpbnRlcnNlY3QiLCJheCIsImF5IiwiYngiLCJieSIsImtjIiwibGMiLCJjZW50cm9pZCIsInNyY19kZXNjZW5kaW5nIiwiZDNfc2hhcGVfc3JjX2lkZW50aXR5Iiwic3JjX3BpZSIsInNvcnRWYWx1ZXMiLCJwaWUiLCJhcmNzIiwicGEiLCJSZWRCbGFja1RyZWUiLCJSZWRCbGFja05vZGUiLCJDIiwiUiIsIlAiLCJSZWRCbGFja1JvdGF0ZUxlZnQiLCJSZWRCbGFja1JvdGF0ZVJpZ2h0IiwiUmVkQmxhY2tGaXJzdCIsImFmdGVyIiwiZ3JhbmRwYSIsInVuY2xlIiwic2libGluZyIsInNyY19SZWRCbGFja1RyZWUiLCJjcmVhdGVFZGdlIiwiZWRnZSIsIkRpYWdyYW1fZWRnZXMiLCJzZXRFZGdlRW5kIiwiY2VsbHMiLCJoYWxmZWRnZXMiLCJjcmVhdGVCb3JkZXJFZGdlIiwidmVydGV4IiwiY2xpcEVkZ2UiLCJjb25uZWN0RWRnZSIsImZtIiwiZmIiLCJseCIsImx5IiwicngiLCJyeSIsImZ4IiwiZnkiLCJjZWxsSGFsZmVkZ2VBbmdsZSIsImNlbGwiLCJzaXRlIiwidmEiLCJ2YiIsImNlbGxIYWxmZWRnZVN0YXJ0IiwiY2VsbEhhbGZlZGdlRW5kIiwiZmlyc3RDaXJjbGUiLCJjaXJjbGVQb29sIiwiYXR0YWNoQ2lyY2xlIiwibEFyYyIsInJBcmMiLCJsU2l0ZSIsImNTaXRlIiwiclNpdGUiLCJlcHNpbG9uMiIsImhhIiwiaGMiLCJjaXJjbGUiLCJjaXJjbGVzIiwiZGV0YWNoQ2lyY2xlIiwiYmVhY2hQb29sIiwiY3JlYXRlQmVhY2giLCJiZWFjaCIsImRldGFjaEJlYWNoIiwiYmVhY2hlcyIsInJlbW92ZUJlYWNoIiwiZGlzYXBwZWFyaW5nIiwiRGlhZ3JhbV9lcHNpbG9uIiwiaUFyYyIsIm5BcmNzIiwiYWRkQmVhY2giLCJkeGwiLCJkeHIiLCJkaXJlY3RyaXgiLCJsZWZ0QnJlYWtQb2ludCIsInJpZ2h0QnJlYWtQb2ludCIsImNyZWF0ZUNlbGwiLCJuZXdBcmMiLCJoYiIsInJmb2N4IiwicmZvY3kiLCJwYnkyIiwibGZvY3giLCJsZm9jeSIsInBsYnkyIiwiaGwiLCJhYnkyIiwidHJpYW5nbGVBcmVhIiwibGV4aWNvZ3JhcGhpYyIsIkRpYWdyYW0iLCJzaXRlcyIsInNvcnRDZWxsSGFsZmVkZ2VzIiwiY2xpcEVkZ2VzIiwiaUNlbGwiLCJpSGFsZmVkZ2UiLCJuSGFsZmVkZ2VzIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJuQ2VsbHMiLCJkYyIsInYwMCIsInYwMSIsInYxMSIsInYxMCIsImNsaXBDZWxscyIsImVkZ2VzIiwicG9seWdvbnMiLCJwb2x5Z29uIiwidHJpYW5nbGVzIiwiczAiLCJlMSIsInMxIiwibGlua3MiLCJfZm91bmQiLCJ2eCIsInZ5IiwiU1FSVDIiLCJUcmFuc2Zvcm0iLCJwb2ludCIsImFwcGx5WCIsImFwcGx5WSIsImludmVydCIsImxvY2F0aW9uIiwiaW52ZXJ0WCIsImludmVydFkiLCJyZXNjYWxlWCIsInJlc2NhbGVZIiwiZGF0YVBvaW50cyIsImN1ckFuZ2xlIiwiYWxhcm0iLCJmaXJzdHRpbWUiLCJOUl9FTEVNRU5UUyIsImRhdGFGb3JDb2xlcmluZyIsImRhdGFTaXplRWxlbWVudHMiLCJfaGFuZGxlQ2xpY2siLCJkb1VwZGF0ZSIsImhlaWdodCIsImZvbnRTaXplIiwibGFiZWwiLCJwYXRoRGF0YSIsInJvdGF0aW5nRyIsImRhdGFhcnJheSIsImRhdCIsImFyY25yIiwicmVzb2x2ZUZuIiwicmVhZHlQcm9taXNlIiwid2hlblJlYWR5IiwiZG9jdW1lbnRXYWl0IiwicmVhZHlTdGF0ZSIsIlNFRU5fTUFSS0VSIiwiQ0FDSEVEX1NUWUxFIiwidHJhbnNmb3JtRm4iLCJ2YWxpZGF0ZUZuIiwiY3VzdG9tX3N0eWxlX2ludGVyZmFjZV9DdXN0b21TdHlsZUludGVyZmFjZSIsImVucXVldWVEb2N1bWVudFZhbGlkYXRpb24iLCJjdXN0b21TdHlsZSIsImNzIiwiZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSIsInN0eWxlVG9UcmFuc2Zvcm0iLCJhZGRDdXN0b21TdHlsZSIsInByb2Nlc3NTdHlsZXMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidHJhbnNmb3JtQ2FsbGJhY2siLCJ2YWxpZGF0ZUNhbGxiYWNrIiwibmVlZHNFbnF1ZXVlIiwiVkFSX0FTU0lHTiIsIk1JWElOX01BVENIIiwiTUVESUFfTUFUQ0giLCJ1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzIiwiZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlIiwibmF0aXZlQ3NzVmFyaWFibGVzXyIsInN0eWxlX3NldHRpbmdzX2Nzc0J1aWxkIiwiY2FsY0Nzc1ZhcmlhYmxlcyIsInNldHRpbmdzIiwiQ1NTIiwic3VwcG9ydHMiLCJjc3NCdWlsZCIsImRpc2FibGVSdW50aW1lIiwibmF0aXZlQ3NzIiwibmF0aXZlQ3NzVmFyaWFibGVzIiwiY3VzdG9tU3R5bGVJbnRlcmZhY2UiLCJlbGVtZW50TmFtZSIsImVsZW1lbnRFeHRlbmRzIiwiYm9keSIsIkN1c3RvbVN0eWxlSW50ZXJmYWNlIiwid29ya2luZ1VSTCIsInJlc29sdmVEb2MiLCJDU1NfVVJMX1JYIiwiQUJTX1VSTCIsInJlc29sdmVVcmwiLCJ1cmwiLCJiYXNlVVJJIiwiVVJMIiwicGF0aG5hbWUiLCJocmVmIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJoZWFkIiwiYW5jaG9yIiwicmVzb2x2ZUNzcyIsInByZSIsInBvc3QiLCJwYXRoRnJvbVVybCIsInVzZVNoYWRvdyIsInJvb3RQYXRoIiwic2FuaXRpemVET01WYWx1ZSIsIlBvbHltZXIiLCJwYXNzaXZlVG91Y2hHZXN0dXJlcyIsInN0cmljdFRlbXBsYXRlUG9saWN5IiwiYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUiLCJsZWdhY3lPcHRpbWl6YXRpb25zIiwic3luY0luaXRpYWxSZW5kZXIiLCJjYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyIsImRvbV9tb2R1bGVfbW9kdWxlcyIsImxjTW9kdWxlcyIsInNldE1vZHVsZSIsImZpbmRNb2R1bGUiLCJkb21fbW9kdWxlX0RvbU1vZHVsZSIsInJlZ2lzdGVyIiwiYXNzZXRwYXRoIiwiX19hc3NldHBhdGgiLCJvd25lciIsIkhUTUxJbXBvcnRzIiwiaW1wb3J0Rm9yRWxlbWVudCIsImluc3QiLCJzdHlsZU91dHNpZGVUZW1wbGF0ZUNoZWNrIiwiTU9EVUxFX1NUWUxFX0xJTktfU0VMRUNUT1IiLCJJTkNMVURFX0FUVFIiLCJTSEFEWV9VTlNDT1BFRF9BVFRSIiwiaW1wb3J0TW9kdWxlIiwiaW1wb3J0Iiwic3R5bGVGb3JJbXBvcnQiLCJpbXBvcnREb2MiLCJpbXBvcnRDc3MiLCJzdHlsZXNGcm9tTW9kdWxlcyIsIm1vZHVsZUlkcyIsInN0eWxlc0Zyb21Nb2R1bGUiLCJfc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMiLCJzdHlsZXNGcm9tVGVtcGxhdGUiLCJlJCIsImluY2x1ZGUiLCJwJCIsInVuc2NvcGVkIiwiaGFzQXR0cmlidXRlIiwiX3Vuc2NvcGVkU3R5bGUiLCJfc3R5bGUiLCJjc3NGcm9tTW9kdWxlIiwiX2Nzc1RleHQiLCJfY3NzRnJvbU1vZHVsZUltcG9ydHMiLCJjc3NGcm9tVGVtcGxhdGUiLCJjdXN0b21fc3R5bGVfYXR0ciIsImN1c3RvbV9zdHlsZV9DdXN0b21TdHlsZUludGVyZmFjZSIsImNzc0Zyb21Nb2R1bGVzIiwiJF9kb2N1bWVudENvbnRhaW5lciIsInNpemluZ18kX2RvY3VtZW50Q29udGFpbmVyIiwic3BhY2luZ18kX2RvY3VtZW50Q29udGFpbmVyIiwic3R5bGVfJF9kb2N1bWVudENvbnRhaW5lciIsIkxpdGVyYWxTdHJpbmciLCJsaXRlcmFsVmFsdWUiLCJodG1sX3RhZ19odG1sIiwiYWNjIiwiSFRNTFRlbXBsYXRlRWxlbWVudCIsImh0bWxWYWx1ZSIsInZhYWRpbl9zcGxpdF9sYXlvdXRfc3R5bGVzXyRfZG9jdW1lbnRDb250YWluZXIiLCJtaXhpbl9kZWR1cGVJZCIsIk1peGluRnVuY3Rpb24iLCJfX21peGluQXBwbGljYXRpb25zIiwiX19taXhpblNldCIsImRlZHVwaW5nTWl4aW4iLCJtaXhpbiIsIm1peGluQXBwbGljYXRpb25zIiwibWl4aW5EZWR1cGVJZCIsImJhc2VTZXQiLCJleHRlbmRlZCIsIm1peGluU2V0IiwiU2hhZHlET00iLCJpc1BhdGgiLCJwYXRoX3Jvb3QiLCJkb3RJbmRleCIsImlzQW5jZXN0b3IiLCJpc0Rlc2NlbmRhbnQiLCJwYXRoX3RyYW5zbGF0ZSIsIm5ld0Jhc2UiLCJwYXRoX25vcm1hbGl6ZSIsInBhdGhfZ2V0IiwiaW5mbyIsInBhdGhfc2V0IiwibGFzdCIsImNhc2VNYXAiLCJEQVNIX1RPX0NBTUVMIiwiQ0FNRUxfVE9fREFTSCIsImRhc2hUb0NhbWVsQ2FzZSIsImRhc2giLCJjYW1lbFRvRGFzaENhc2UiLCJjYW1lbCIsIm1pY3JvdGFza0N1cnJIYW5kbGUiLCJtaWNyb3Rhc2tMYXN0SGFuZGxlIiwibWljcm90YXNrQ2FsbGJhY2tzIiwibWljcm90YXNrTm9kZUNvbnRlbnQiLCJtaWNyb3Rhc2tOb2RlIiwiTXV0YXRpb25PYnNlcnZlciIsImNiIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJ0aW1lT3V0IiwiaWRsZVBlcmlvZCIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJtaWNyb1Rhc2siLCJtaWNyb3Rhc2siLCJwcm9wZXJ0aWVzX2NoYW5nZWRfUHJvcGVydGllc0NoYW5nZWQiLCJfY3JlYXRlUHJvcGVydHlBY2Nlc3NvciIsInJlYWRPbmx5IiwiX2FkZFByb3BlcnR5VG9BdHRyaWJ1dGVNYXAiLCJfX2RhdGFIYXNBY2Nlc3NvciIsIl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yIiwiX19kYXRhQXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9nZXRQcm9wZXJ0eSIsIl9zZXRQcm9wZXJ0eSIsIl9fZGF0YUVuYWJsZWQiLCJfX2RhdGFSZWFkeSIsIl9fZGF0YUludmFsaWQiLCJfX2RhdGEiLCJfX2RhdGFQZW5kaW5nIiwiX19kYXRhT2xkIiwiX19kYXRhSW5zdGFuY2VQcm9wcyIsIl9fc2VyaWFsaXppbmciLCJfaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJfZmx1c2hQcm9wZXJ0aWVzIiwiX3NldFBlbmRpbmdQcm9wZXJ0eSIsIl9pbnZhbGlkYXRlUHJvcGVydGllcyIsImNoYW5nZWQiLCJfc2hvdWxkUHJvcGVydHlDaGFuZ2UiLCJfaW5pdGlhbGl6ZUluc3RhbmNlUHJvcGVydGllcyIsInJlYWR5IiwiY2hhbmdlZFByb3BzIiwiX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UiLCJfcHJvcGVydGllc0NoYW5nZWQiLCJjdXJyZW50UHJvcHMiLCJvbGRQcm9wcyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl9kZXNlcmlhbGl6ZVZhbHVlIiwidHlwZUZvclByb3BlcnR5IiwiX3ZhbHVlVG9Ob2RlQXR0cmlidXRlIiwiX3NlcmlhbGl6ZVZhbHVlIiwibmF0aXZlUHJvcGVydGllcyIsInByb3BlcnR5X2FjY2Vzc29yc19wcm90byIsInByb3BlcnR5X2FjY2Vzc29yc19Qcm9wZXJ0eUFjY2Vzc29ycyIsImEkIiwiX19kYXRhUHJvdG8iLCJfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyIsImVsIiwib3V0VmFsdWUiLCJtb2RlbCIsInNhdmVBY2Nlc3NvclZhbHVlIiwidGVtcGxhdGVFeHRlbnNpb25zIiwiZG9tLWlmIiwiZG9tLXJlcGVhdCIsInBsYWNlaG9sZGVyQnVnRGV0ZWN0IiwicGxhY2Vob2xkZXJCdWciLCJmaXhQbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIiwiaGFzUGxhY2Vob2xkZXJCdWciLCJ3cmFwVGVtcGxhdGVFeHRlbnNpb24iLCJpcyIsInJlcGxhY2VDaGlsZCIsImZpbmRUZW1wbGF0ZU5vZGUiLCJub2RlSW5mbyIsInBhcmVudEluZm8iLCJwYXJlbnRJbmRleCIsImFwcGx5SWRUb01hcCIsImFwcGx5RXZlbnRMaXN0ZW5lciIsImV2ZW50cyIsIl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlIiwiYXBwbHlUZW1wbGF0ZUNvbnRlbnQiLCJ0ZW1wbGF0ZUluZm8iLCJfdGVtcGxhdGVJbmZvIiwiVGVtcGxhdGVTdGFtcCIsIm91dGVyVGVtcGxhdGVJbmZvIiwibm9kZUluZm9MaXN0Iiwic3RyaXBXaGl0ZVNwYWNlIiwiX3BhcnNlVGVtcGxhdGVDb250ZW50IiwiX3BhcnNlVGVtcGxhdGVOb2RlIiwibm90ZWQiLCJoYXNJbnNlcnRpb25Qb2ludCIsIl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUiLCJfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMiLCJfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzIiwiVEVYVF9OT0RFIiwiY2hpbGRJbmZvIiwiaW5mb0luZGV4IiwiX3BhcnNlVGVtcGxhdGUiLCJhdHRycyIsIl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZSIsImRlY29yYXRlIiwiZG9tIiwiX19ub0luc2VydGlvblBvaW50Iiwibm9kZUxpc3QiLCIkIiwibWV0aG9kTmFtZSIsImhhbmRsZXIiLCJfbWV0aG9kSG9zdCIsImNyZWF0ZU5vZGVFdmVudEhhbmRsZXIiLCJfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZSIsInByb3BlcnR5X2VmZmVjdHNfZGVkdXBlSWQiLCJUWVBFUyIsIkNPTVBVVEUiLCJSRUZMRUNUIiwiTk9USUZZIiwiUFJPUEFHQVRFIiwiT0JTRVJWRSIsIlJFQURfT05MWSIsImNhcGl0YWxBdHRyaWJ1dGVSZWdleCIsImVuc3VyZU93bkVmZmVjdE1hcCIsImVmZmVjdHMiLCJwcm90b0Z4IiwiaW5zdEZ4IiwicnVuRWZmZWN0cyIsImhhc1BhdGhzIiwiZXh0cmFBcmdzIiwicmFuIiwicnVuRWZmZWN0c0ZvclByb3BlcnR5IiwiZGVkdXBlSWQiLCJmeHMiLCJsYXN0UnVuIiwicGF0aE1hdGNoZXNUcmlnZ2VyIiwidHJpZ2dlciIsInRyaWdnZXJQYXRoIiwic3RydWN0dXJlZCIsIndpbGRjYXJkIiwicnVuT2JzZXJ2ZXJFZmZlY3QiLCJtZXRob2QiLCJjaGFuZ2VkUHJvcCIsImR5bmFtaWNGbiIsIm5vdGlmeVBhdGgiLCJyb290UHJvcGVydHkiLCJkaXNwYXRjaE5vdGlmeUV2ZW50IiwicXVldWVQcm9wZXJ0eSIsInJ1bk5vdGlmeUVmZmVjdCIsInJ1blJlZmxlY3RFZmZlY3QiLCJhdHRyTmFtZSIsInJ1bkNvbXB1dGVkRWZmZWN0IiwicnVuTWV0aG9kRWZmZWN0IiwiY29tcHV0ZWRQcm9wIiwibWV0aG9kSW5mbyIsImFkZEJpbmRpbmciLCJsaXRlcmFsIiwiYmluZGluZ3MiLCJpc0NvbXBvdW5kIiwicHJvcGVydHlfZWZmZWN0c19zaG91bGRBZGRMaXN0ZW5lciIsImxpc3RlbmVyRXZlbnQiLCJsaXN0ZW5lck5lZ2F0ZSIsImNvbXBvdW5kSW5kZXgiLCJhZGRFZmZlY3RGb3JCaW5kaW5nUGFydCIsImRlcGVuZGVuY2llcyIsImV2YWx1YXRvciIsInBhcnNlQXJnIiwiX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QiLCJydW5CaW5kaW5nRWZmZWN0IiwiX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCIsIl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgiLCJfZW5xdWV1ZUNsaWVudCIsInN0b3JhZ2UiLCJfX2RhdGFDb21wb3VuZFN0b3JhZ2UiLCJjb21wdXRlQmluZGluZ1ZhbHVlIiwiX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlIiwiYXBwbHlCaW5kaW5nVmFsdWUiLCJfZXZhbHVhdGVCaW5kaW5nIiwic2V0dXBDb21wb3VuZFN0b3JhZ2UiLCJsaXRlcmFscyIsImFkZE5vdGlmeUxpc3RlbmVyIiwiZnJvbVByb3AiLCJ0b1BhdGgiLCJmcm9tUGF0aCIsImN1cnJlbnRUYXJnZXQiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJjcmVhdGVNZXRob2RFZmZlY3QiLCJzaWciLCJlZmZlY3RGbiIsInN0YXRpYyIsIl9hZGRQcm9wZXJ0eUVmZmVjdCIsIl9tYXJzaGFsQXJncyIsImVtcHR5QXJyYXkiLCJiaW5kaW5nUmVnZXgiLCJPUEVOX0JSQUNLRVQiLCJsaXRlcmFsRnJvbVBhcnRzIiwicGFyc2VNZXRob2QiLCJleHByZXNzaW9uIiwiYXJnTGlzdCIsInJhd0FyZyIsInBhcnNlQXJncyIsImZjIiwiZ2V0QXJnVmFsdWUiLCJub3RpZnlTcGxpY2VzIiwic3BsaWNlcyIsImluZGV4U3BsaWNlcyIsIm5vdGlmeVNwbGljZSIsImFkZGVkQ291bnQiLCJyZW1vdmVkIiwicHJvcGVydHlfZWZmZWN0c19Qcm9wZXJ0eUVmZmVjdHMiLCJwcm9wZXJ0eUVmZmVjdHNCYXNlIiwiX19kYXRhQ291bnRlciIsIl9fZGF0YUNsaWVudHNSZWFkeSIsIl9fZGF0YVBlbmRpbmdDbGllbnRzIiwiX19kYXRhVG9Ob3RpZnkiLCJfX2RhdGFMaW5rZWRQYXRocyIsIl9fZGF0YUhhc1BhdGhzIiwiX19kYXRhSG9zdCIsIl9fZGF0YVRlbXAiLCJfX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQiLCJfX2NvbXB1dGVFZmZlY3RzIiwiX19yZWZsZWN0RWZmZWN0cyIsIl9fbm90aWZ5RWZmZWN0cyIsIl9fcHJvcGFnYXRlRWZmZWN0cyIsIl9fb2JzZXJ2ZUVmZmVjdHMiLCJfX3JlYWRPbmx5IiwiX190ZW1wbGF0ZUluZm8iLCJQUk9QRVJUWV9FRkZFQ1RfVFlQRVMiLCJob3N0U3RhY2siLCJyZWdpc3Rlckhvc3QiLCJlZmZlY3QiLCJfaGFzUHJvcGVydHlFZmZlY3QiLCJzaG91bGROb3RpZnkiLCJpc1BhdGhOb3RpZmljYXRpb24iLCJsaW5rIiwiY29tcHV0ZUxpbmtlZFBhdGhzIiwicHJvcElzUGF0aCIsInByZXZQcm9wcyIsImNsaWVudCIsIl9fZW5hYmxlT3JGbHVzaENsaWVudHMiLCJfcmVhZHlDbGllbnRzIiwiY2xpZW50cyIsIl9lbmFibGVQcm9wZXJ0aWVzIiwic2V0UmVhZE9ubHkiLCJfZmx1c2hDbGllbnRzIiwiY29tcHV0ZUVmZmVjdHMiLCJpbnB1dFByb3BzIiwicnVuQ29tcHV0ZWRFZmZlY3RzIiwibm90aWZ5UHJvcHMiLCJfcHJvcGFnYXRlUHJvcGVydHlDaGFuZ2VzIiwibm90aWZpZWQiLCJydW5Ob3RpZnlFZmZlY3RzIiwicHJvcGVydHlFZmZlY3RzIiwibmV4dFRlbXBsYXRlSW5mbyIsInRvIiwiaXRlbXMiLCJoYWRMZW5ndGgiLCJkZWxldGVDb3VudCIsInByb3BQYXRoIiwicHJvdGVjdGVkU2V0dGVyIiwidXBwZXIiLCJwYXRoVmFsdWUiLCJfY3JlYXRlUHJvcGVydHlPYnNlcnZlciIsIl9jcmVhdGVNZXRob2RPYnNlcnZlciIsIl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eSIsIl9jcmVhdGVSZWFkT25seVByb3BlcnR5IiwiX2NyZWF0ZVJlZmxlY3RlZFByb3BlcnR5IiwiX2NyZWF0ZUNvbXB1dGVkUHJvcGVydHkiLCJfYmluZFRlbXBsYXRlIiwiaW5zdGFuY2VCaW5kaW5nIiwid2FzUHJlQm91bmQiLCJfX3RlbXBsYXRlSW5mb0xhc3QiLCJwcmV2aW91c1RlbXBsYXRlSW5mbyIsImhvc3RQcm9wcyIsImJlZ2luSG9zdGluZyIsIl9zdGFtcFRlbXBsYXRlIiwiZW5kSG9zdGluZyIsImNoaWxkTm9kZXMiLCJzZXR1cEJpbmRpbmdzIiwiX3BhcnNlQmluZGluZ3MiLCJvcmlnTmFtZSIsImN1c3RvbUV2ZW50Iiwibm90aWZ5RXZlbnQiLCJjb2xvbiIsInNpZ25hdHVyZSIsImR5bmFtaWNGbnMiLCJzdGFja0xlbiIsInJlZ2lzdHJhdGlvbnMiLCJwcm9wZXJ0aWVzX21peGluX1Byb3BlcnRpZXNNaXhpbiIsInN1cGVyUHJvcGVydGllc0NsYXNzIiwiUHJvcGVydGllc01peGluIiwib3duUHJvcGVydGllcyIsIm5vcm1hbGl6ZVByb3BlcnRpZXMiLCJfX293blByb3BlcnRpZXMiLCJfcHJvcGVydGllcyIsIl9fb2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiX19maW5hbGl6ZWQiLCJfZmluYWxpemVDbGFzcyIsImNyZWF0ZVByb3BlcnRpZXMiLCJfX3Byb3BlcnRpZXMiLCJpbnN0YW5jZUNvdW50IiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJlbGVtZW50X21peGluX3ZlcnNpb24iLCJidWlsdENTUyIsIkVsZW1lbnRNaXhpbiIsInBvbHltZXJFbGVtZW50QmFzZSIsImNyZWF0ZVByb3BlcnR5RnJvbUNvbmZpZyIsImFsbFByb3BzIiwiY29tcHV0ZWQiLCJfaGFzUmVhZE9ubHlFZmZlY3QiLCJyZWZsZWN0VG9BdHRyaWJ1dGUiLCJfaGFzUmVmbGVjdEVmZmVjdCIsIm5vdGlmeSIsIl9oYXNOb3RpZnlFZmZlY3QiLCJvYnNlcnZlciIsInByb2Nlc3NFbGVtZW50U3R5bGVzIiwia2xhc3MiLCJ0ZW1wbGF0ZVN0eWxlcyIsInN0eWxlc1dpdGhJbXBvcnRzIiwibGlua2VkU3R5bGVzIiwic3R5bGVzRnJvbU1vZHVsZUltcG9ydHMiLCJmaXJzdFRlbXBsYXRlQ2hpbGQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9wcm9jZXNzU3R5bGVUZXh0IiwidGVtcGxhdGVTdHlsZUluZGV4IiwidGVtcGxhdGVTdHlsZSIsInByZXBhcmVUZW1wbGF0ZSIsInBvbHltZXJFbGVtZW50VmVyc2lvbiIsIm9ic2VydmVycyIsIl9fb3duT2JzZXJ2ZXJzIiwib3duT2JzZXJ2ZXJzIiwiY3JlYXRlT2JzZXJ2ZXJzIiwiX3ByZXBhcmVUZW1wbGF0ZSIsIl90ZW1wbGF0ZSIsImdldFRlbXBsYXRlRnJvbURvbU1vZHVsZSIsImltcG9ydFBhdGgiLCJtZXRhIiwiaW1wb3J0TWV0YSIsIl9pbXBvcnRQYXRoIiwiX2ZpbmFsaXplVGVtcGxhdGUiLCJfX3Byb3BlcnR5RGVmYXVsdHMiLCJwcm9wZXJ0eURlZmF1bHRzIiwiX2hhc0FjY2Vzc29yIiwiX19wb2x5bWVyRmluYWxpemVkIiwiX2F0dGFjaERvbSIsInNoYWRvd1Jvb3QiLCJzaGFkeVVwZ3JhZGVGcmFnbWVudCIsImZsdXNoSW5pdGlhbCIsInN0eWxlU3VidHJlZSIsInBvbHltZXJfZWxlbWVudF9Qb2x5bWVyRWxlbWVudCIsIkRlYm91bmNlciIsIl9hc3luY01vZHVsZSIsIl9jYWxsYmFjayIsIl90aW1lciIsImFzeW5jTW9kdWxlIiwiZGVib3VuY2VyUXVldWUiLCJpc0FjdGl2ZSIsIl9jYW5jZWxBc3luYyIsImRlYm91bmNlciIsInNldENvbmZpZyIsImVucXVldWVEZWJvdW5jZXIiLCJmbHVzaERlYm91bmNlcnMiLCJkaWRGbHVzaCIsImZsdXNoIiwiSEFTX05BVElWRV9UQSIsInRvdWNoQWN0aW9uIiwiR0VTVFVSRV9LRVkiLCJIQU5ETEVEX09CSiIsIlRPVUNIX0FDVElPTiIsIlRBUF9ESVNUQU5DRSIsIlRSQUNLX0RJU1RBTkNFIiwiTU9VU0VfVElNRU9VVCIsIk1PVVNFX0VWRU5UUyIsIk1PVVNFX1dISUNIX1RPX0JVVFRPTlMiLCJNT1VTRV9IQVNfQlVUVE9OUyIsIk1vdXNlRXZlbnQiLCJidXR0b25zIiwiaXNNb3VzZUV2ZW50Iiwic3VwcG9ydHNQYXNzaXZlIiwiUEFTU0lWRV9UT1VDSCIsIklTX1RPVUNIX09OTFkiLCJjbGlja2VkTGFiZWxzIiwibGFiZWxsYWJsZSIsImJ1dHRvbiIsImtleWdlbiIsIm1ldGVyIiwidGV4dGFyZWEiLCJwcm9ncmVzcyIsImNhbkJlRGlzYWJsZWQiLCJjb21tYW5kIiwiZmllbGRzZXQiLCJvcHRncm91cCIsIm9wdGlvbiIsImNhbkJlTGFiZWxsZWQiLCJtYXRjaGluZ0xhYmVscyIsImxhYmVscyIsImdldFJvb3ROb2RlIiwibWF0Y2hpbmciLCJtb3VzZUNhbmNlbGxlciIsIm1vdXNlRXZlbnQiLCJzYyIsInNvdXJjZUNhcGFiaWxpdGllcyIsImZpcmVzVG91Y2hFdmVudHMiLCJza2lwIiwiY2xpY2tGcm9tTGFiZWwiLCJnZXRDb21wb3NlZFBhdGgiLCJFTEVNRU5UX05PREUiLCJvd25lckxhYmVscyIsIlBPSU5URVJTVEFURSIsIm1vdXNlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzZXR1cFRlYXJkb3duTW91c2VDYW5jZWxsZXIiLCJzZXR1cCIsImVuIiwiaGFzTGVmdE1vdXNlQnV0dG9uIiwiZXYiLCJ3aGljaCIsIm1vdXNlSWdub3JlSm9iIiwidG91Y2giLCJzY3JvbGxEZWNpZGVkIiwidHJhY2tEb2N1bWVudCIsInN0YXRlT2JqIiwibW92ZWZuIiwidXBmbiIsInVudHJhY2tEb2N1bWVudCIsImRlYm91bmNlIiwibm9QYXRjaCIsImNvbXBvc2VkUGF0aCIsImdlc3R1cmVzIiwicmVjb2duaXplcnMiLCJfZmluZE9yaWdpbmFsVGFyZ2V0IiwiX2hhbmRsZU5hdGl2ZSIsImhhbmRsZWQiLCJnb2JqIiwiZ3MiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJpZGVudGlmaWVyIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0YSIsImZpcnN0VG91Y2hBY3Rpb24iLCJzaG91bGRQcmV2ZW50IiwicHJldmVudCIsIl9oYW5kbGVUb3VjaEFjdGlvbiIsImZsb3ciLCJyZXNldCIsImV2VHlwZSIsInJlY29nbml6ZXIiLCJkZXBzIiwiZGVwIiwiZ2QiLCJfY291bnQiLCJzZXRUb3VjaEFjdGlvbiIsIl9hZGQiLCJfcmVtb3ZlIiwiZ2VzdHVyZXNfcmVnaXN0ZXIiLCJyZWNvZyIsImVtaXRzIiwiX2ZpcmUiLCJkZWZhdWx0UHJldmVudGVkIiwicHJldmVudGVyIiwic291cmNlRXZlbnQiLCJldk5hbWUiLCJfZmluZFJlY29nbml6ZXJCeUV2ZW50IiwiZG93bnVwRmlyZSIsInRyYWNrSGFzTW92ZWRFbm91Z2giLCJzdGFydGVkIiwidHJhY2tGaXJlIiwiZGR4Iiwic2Vjb25kbGFzdCIsIm1vdmVzIiwibGFzdG1vdmUiLCJkZHkiLCJob3ZlciIsImVsZW1lbnRGcm9tUG9pbnQiLCJkZWVwVGFyZ2V0RmluZCIsInRyYWNrRm9yd2FyZCIsImJjciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VYIiwicGFnZVkiLCJ0b3AiLCJpc1N5bnRoZXRpY0NsaWNrIiwibW91c2Vkb3duIiwidG91Y2hzdGFydCIsInRvdWNoZW5kIiwiYWRkTW92ZSIsIm1vdmUiLCJjdCIsInRvdWNobW92ZSIsImNsaWNrIiwiZ2VzdHVyZV9ldmVudF9saXN0ZW5lcnNfR2VzdHVyZUV2ZW50TGlzdGVuZXJzIiwiX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZSIsIm5ld1NwbGljZSIsIkVESVRfTEVBVkUiLCJFRElUX1VQREFURSIsIkVESVRfQUREIiwiRURJVF9ERUxFVEUiLCJjYWxjU3BsaWNlcyIsImN1cnJlbnQiLCJjdXJyZW50U3RhcnQiLCJjdXJyZW50RW5kIiwib2xkU3RhcnQiLCJvbGRFbmQiLCJwcmVmaXhDb3VudCIsInN1ZmZpeENvdW50IiwibWluTGVuZ3RoIiwic2VhcmNoTGVuZ3RoIiwic2hhcmVkUHJlZml4IiwiaW5kZXgxIiwiaW5kZXgyIiwic2hhcmVkU3VmZml4Iiwib3BzIiwiZGlzdGFuY2VzIiwiZWRpdHMiLCJub3J0aFdlc3QiLCJ3ZXN0Iiwibm9ydGgiLCJzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXMiLCJyb3dDb3VudCIsImNvbHVtbkNvdW50IiwiY2FsY0VkaXREaXN0YW5jZXMiLCJvbGRJbmRleCIsImNhbGN1bGF0ZVNwbGljZXMiLCJjdXJyZW50VmFsdWUiLCJwcmV2aW91c1ZhbHVlIiwiaXNTbG90IiwiRmxhdHRlbmVkTm9kZXNPYnNlcnZlciIsIndyYXBwZWQiLCJhc3NpZ25lZE5vZGVzIiwiZmxhdHRlbiIsIl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIiLCJfbmF0aXZlQ2hpbGRyZW5PYnNlcnZlciIsIl9jb25uZWN0ZWQiLCJfdGFyZ2V0IiwiX2VmZmVjdGl2ZU5vZGVzIiwiX29ic2VydmVyIiwiX3NjaGVkdWxlZCIsIl9ib3VuZFNjaGVkdWxlIiwiX3NjaGVkdWxlIiwiX2xpc3RlblNsb3RzIiwib2JzZXJ2ZUNoaWxkcmVuIiwibXV0YXRpb25zIiwiX3Byb2Nlc3NNdXRhdGlvbnMiLCJjaGlsZExpc3QiLCJfdW5saXN0ZW5TbG90cyIsInVub2JzZXJ2ZUNoaWxkcmVuIiwiX3Byb2Nlc3NTbG90TXV0YXRpb25zIiwibXV0YXRpb24iLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwidGFrZVJlY29yZHMiLCJuZXdOb2RlcyIsImdldEZsYXR0ZW5lZE5vZGVzIiwiU3R5bGVOb2RlIiwiY3NzX3BhcnNlX3BhcnNlIiwiY3NzX3BhcnNlX3BhcnNlQ3NzIiwic3MiLCJyZXBlYXQiLCJfZXhwYW5kVW5pY29kZUVzY2FwZXMiLCJSWCIsIm11bHRpcGxlU3BhY2VzIiwiQVRfU1RBUlQiLCJNRURJQV9TVEFSVCIsIk1FRElBX1JVTEUiLCJrZXlmcmFtZXNSdWxlIiwiS0VZRlJBTUVTX1JVTEUiLCJWQVJfU1RBUlQiLCJNSVhJTl9SVUxFIiwiU1RZTEVfUlVMRSIsInIkIiwiT1BFTl9CUkFDRSIsIkNMT1NFX0JSQUNFIiwibGV4IiwiY29tbWVudHMiLCJwb3J0IiwiY2xlYW4iLCJwcmVzZXJ2ZVByb3BlcnRpZXMiLCJydWxlcyIsIl9oYXNNaXhpblJ1bGVzIiwibWl4aW5BcHBseSIsInZhckFwcGx5IiwicmVtb3ZlQ3VzdG9tUHJvcEFwcGx5IiwiY3VzdG9tUHJvcCIsIm1peGluUHJvcCIsInJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50IiwicmVtb3ZlQ3VzdG9tUHJvcHMiLCJzdHlsZVRleHRTZXQiLCJzY29waW5nQXR0cmlidXRlIiwicHJvY2Vzc1Vuc2NvcGVkU3R5bGUiLCJuZXdTdHlsZSIsImlzVW5zY29wZWRTdHlsZSIsInRvQ3NzVGV4dCIsImZvckVhY2hSdWxlIiwicnVsZXNGb3JTdHlsZSIsInN0eWxlUnVsZUNhbGxiYWNrIiwia2V5ZnJhbWVzUnVsZUNhbGxiYWNrIiwib25seUFjdGl2ZVJ1bGVzIiwic2tpcFJ1bGVzIiwibWF0Y2hNZWRpYSIsImZpbmRNYXRjaGluZ1BhcmVuIiwibGV2ZWwiLCJDU1NfQlVJTERfQVRUUiIsImdldENzc0J1aWxkIiwiX19jc3NCdWlsZCIsImJ1aWxkQ29tbWVudCIsIkNvbW1lbnQiLCJjb21tZW50UGFydHMiLCJnZXRCdWlsZENvbW1lbnQiLCJyZW1vdmVCdWlsZENvbW1lbnQiLCJlbGVtZW50SGFzQnVpbHRDc3MiLCJBUFBMWV9OQU1FX0NMRUFOIiwiSU5JVElBTF9JTkhFUklUIiwiSU1QT1JUQU5UIiwiTUlYSU5fVkFSX1NFUCIsIk1peGluTWFwIiwiX21hcCIsImRlcGVuZGFudHMiLCJpbnZhbGlkQ2FsbGJhY2siLCJhcHBseV9zaGltX0FwcGx5U2hpbSIsIl9jdXJyZW50RWxlbWVudCIsIl9tZWFzdXJlRWxlbWVudCIsImRldGVjdE1peGluIiwic3R5bGVUZXh0Iiwic3R5bGVUZXh0UGFydHMiLCJnYXRoZXJTdHlsZVRleHQiLCJfZ2F0aGVyZWRTdHlsZSIsImdhdGhlclN0eWxlcyIsInRyYW5zZm9ybVN0eWxlIiwiYXN0IiwidHJhbnNmb3JtUnVsZXMiLCJ0cmFuc2Zvcm1SdWxlIiwidHJhbnNmb3JtQ3NzVGV4dCIsIm1hdGNoVGV4dCIsInByb3BlcnR5TmFtZSIsInZhbHVlUHJvcGVydHkiLCJ2YWx1ZU1peGluIiwiX3Byb2R1Y2VDc3NQcm9wZXJ0aWVzIiwiX2NvbnN1bWVDc3NQcm9wZXJ0aWVzIiwiYWxsIiwic3RhcnRSdWxlIiwidG9wUnVsZSIsImZhbGxiYWNrcyIsInNlZW5TdGFydFJ1bGUiLCJfY3NzVGV4dFRvTWFwIiwibWl4aW5OYW1lIiwiYXBwbHlQb3MiLCJhZnRlckFwcGx5UG9zIiwidGV4dEJlZm9yZUFwcGx5IiwidGV4dEFmdGVyQXBwbHkiLCJkZWZhdWx0cyIsIl9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyIsInJlcGxhY2VtZW50IiwiX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMiLCJ2YXJzIiwibWl4aW5FbnRyeSIsIl9nZXRJbml0aWFsVmFsdWVGb3JQcm9wZXJ0eSIsInJlcGxhY2VJbml0aWFsT3JJbmhlcml0Iiwic3AiLCJfcmVwbGFjZUluaXRpYWxPckluaGVyaXQiLCJwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayIsImlubmVyIiwibWl4aW5Bc1Byb3BlcnRpZXMiLCJtaXhpblZhbHVlcyIsImNvbWJpbmVkUHJvcHMiLCJuZWVkVG9JbnZhbGlkYXRlIiwiX2ludmFsaWRhdGVNaXhpbkVudHJ5IiwidHJhbnNmb3JtQ3VzdG9tU3R5bGUiLCJ0cmFuc2Zvcm1UZW1wbGF0ZSIsImFwcGx5X3NoaW0iLCJ0ZW1wbGF0ZV9tYXAiLCJDVVJSRU5UX1ZFUlNJT04iLCJORVhUX1ZFUlNJT04iLCJWQUxJREFUSU5HX1ZFUlNJT04iLCJwcm9taXNlIiwiaW52YWxpZGF0ZSIsImludmFsaWRhdGVUZW1wbGF0ZSIsInRlbXBsYXRlSXNWYWxpZCIsInRlbXBsYXRlSXNWYWxpZGF0aW5nIiwic3RhcnRWYWxpZGF0aW5nVGVtcGxhdGUiLCJfdmFsaWRhdGluZyIsImFwcGx5U2hpbSIsImFwcGx5U2hpbUludGVyZmFjZSIsImZsdXNoQ3VzdG9tU3R5bGVzIiwiZW5zdXJlIiwic2hhZG93Q2hpbGRyZW4iLCJ0eXBlRXh0ZW5zaW9uIiwiZXh0ZW5kcyIsImdldElzRXh0ZW5kcyIsInN0eWxlRG9jdW1lbnQiLCJBcHBseVNoaW0iLCJIT1NUX0RJUiIsIkhPU1RfRElSX1JFUExBQ01FTlQiLCJFTF9ESVIiLCJFTF9ESVJfUkVQTEFDTUVOVCIsIkRJUl9DSEVDSyIsIlNISU1fU0hBRE9XIiwiRElSX0lOU1RBTkNFUyIsImRpcl9taXhpbl9vYnNlcnZlciIsImRvY3VtZW50RGlyIiwiZ2V0UlRMIiwic2V0UlRMIiwiX19hdXRvRGlyT3B0T3V0IiwidXBkYXRlRGlyZWN0aW9uIiwiRGlyTWl4aW4iLCJhdHRyaWJ1dGVGaWx0ZXIiLCJlbGVtZW50QmFzZSIsIkRpciIsIl9yZXBsYWNlRGlySW5Dc3NUZXh0IiwiX19hY3RpdmF0ZURpciIsInJlcGxhY2VkVGV4dCIsInVucmVzb2x2ZWRfcmVzb2x2ZSIsImZsdXNoX2ZsdXNoIiwic2hhZHlET00iLCJkZWJvdW5jZXJzIiwicG9seW1lcl9kb21fcCIsIkVsZW1lbnQiLCJub3JtYWxpemVkTWF0Y2hlc1NlbGVjdG9yIiwibWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwicG9seW1lcl9kb21fRG9tQXBpTmF0aXZlIiwib2JzZXJ2ZXJIYW5kbGUiLCJpcCQiLCJhc3NpZ25lZFNsb3QiLCJjJCIsImdldEVmZmVjdGl2ZUNoaWxkTm9kZXMiLCJhY3RpdmVFbGVtZW50IiwiX2FjdGl2ZUVsZW1lbnQiLCJmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzIiwiRXZlbnRBcGkiLCJyb290VGFyZ2V0IiwibG9jYWxUYXJnZXQiLCJsYXN0Q2hpbGQiLCJsYXN0RWxlbWVudENoaWxkIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIkRvbUFwaUltcGwiLCJXcmFwcGVyIiwiY3VycmVudFJvb3QiLCJwb2x5bWVyX2RvbV9kb20iLCJnZXRPd25lclJvb3QiLCJtZXRob2RzIiwiZm9yd2FyZE1ldGhvZHMiLCJmb3J3YXJkUHJvcGVydGllcyIsImhlbHBlciIsInNjb3BlX3N1YnRyZWVfU2hhZHlET00iLCJzYW1lU2NvcGUiLCJzdHlsZUludGVyZmFjZSIsIkxlZ2FjeUVsZW1lbnRNaXhpbiIsImxlZ2FjeUVsZW1lbnRCYXNlIiwiRElSRUNUSU9OX01BUCIsIkxlZ2FjeUVsZW1lbnQiLCJpc0F0dGFjaGVkIiwiX19ib3VuZExpc3RlbmVycyIsIl9kZWJvdW5jZXJzIiwiYXR0YWNoZWQiLCJkZXRhY2hlZCIsImF0dHJpYnV0ZUNoYW5nZWQiLCJfcmVnaXN0ZXJlZCIsIl9faGFzUmVnaXN0ZXJGaW5pc2hlZCIsImNyZWF0ZWQiLCJfYXBwbHlMaXN0ZW5lcnMiLCJfZW5zdXJlQXR0cmlidXRlcyIsImFwaSIsIm4kIiwicGQiLCJfY29udGVudEZvclRlbXBsYXRlIiwiaGJsIiwiYmwiLCJkaXJlY3Rpb24iLCJzbGN0ciIsImRvbUhvc3QiLCJEb2N1bWVudEZyYWdtZW50IiwiZG9tQXBpIiwicXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzIiwiY24iLCJ0YyIsIkNPTU1FTlRfTk9ERSIsImdldERpc3RyaWJ1dGVkTm9kZXMiLCJnZXRDb250ZW50Q2hpbGROb2RlcyIsInNob3VsZE9ic2VydmUiLCJjb250YWluZXJTY29wZSIsInNjb3BpZnkiLCJjdXJyZW50U2NvcGUiLCJtbyIsIm14bnMiLCJteG4iLCJhZGRlZE5vZGUiLCJzdWJ0cmVlIiwic2NvcGVTdWJ0cmVlIiwiam9iTmFtZSIsIndhaXQiLCJ3YWl0VGltZSIsInRhZyIsImVsdCIsInNldFByb3BlcnRpZXMiLCJib29sIiwidHJhbnNmb3JtVGV4dCIsIndlYmtpdFRyYW5zZm9ybSIsImFycmF5T3JQYXRoIiwiX2xvZ2dlciIsImxpZmVjeWNsZVByb3BzIiwiYmVmb3JlUmVnaXN0ZXIiLCJyZWdpc3RlcmVkIiwiaG9zdEF0dHJpYnV0ZXMiLCJleGNsdWRlT25JbmZvIiwiYmVoYXZpb3JzIiwiX25vQWNjZXNzb3JzIiwiZXhjbHVkZU9uQmVoYXZpb3JzIiwiYXBwbHlJbmZvIiwibGlmZWN5Y2xlIiwiZXhjbHVkZVByb3BzIiwibm9BY2Nlc3NvcnMiLCJwcm9wZXJ0eU5hbWVzIiwiY29weVByb3BlcnRpZXMiLCJtZXJnZVByb3BlcnRpZXMiLCJ0YXJnZXRJbmZvIiwic291cmNlSW5mbyIsIkdlbmVyYXRlQ2xhc3NGcm9tSW5mbyIsIkJhc2UiLCJiZWhhdmlvckxpc3QiLCJQb2x5bWVyR2VuZXJhdGVkIiwiZ2VuZXJhdGVkUHJvdG8iLCJjb3B5UHJvcGVydGllc1RvUHJvdG8iLCJfZW5zdXJlQXR0cmlidXRlIiwic3VwZXJCZWhhdmlvcnMiLCJmbGF0dGVuQmVoYXZpb3JzIiwiZXhjbHVkZSIsImFwcGx5QmVoYXZpb3JzIiwiZ2VuZXJhdGVkRnJvbSIsIkNsYXNzIiwibXV0YWJsZVByb3BlcnR5Q2hhbmdlIiwibXV0YWJsZURhdGEiLCJzaG91bGRDaGFuZ2UiLCJNdXRhYmxlRGF0YSIsIk9wdGlvbmFsTXV0YWJsZURhdGEiLCJfbXV0YWJsZVByb3BlcnR5Q2hhbmdlIiwibmV3SW5zdGFuY2UiLCJIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uIiwiRGF0YVRlbXBsYXRlIiwiTXV0YWJsZURhdGFUZW1wbGF0ZSIsInRlbXBsYXRlSW5zdGFuY2VCYXNlIiwidGVtcGxhdGl6ZV9UZW1wbGF0ZUluc3RhbmNlQmFzZSIsIl9jb25maWd1cmVQcm9wZXJ0aWVzIiwiX190ZW1wbGF0aXplSW5zdGFuY2UiLCJfX3RlbXBsYXRpemVPd25lciIsIl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyIsIl9zaG93SGlkZUNoaWxkcmVuIiwiX190ZW1wbGF0aXplT3B0aW9ucyIsImluc3RhbmNlUHJvcHMiLCJmb3J3YXJkSG9zdFByb3AiLCJocHJvcCIsIl9faG9zdFByb3BzIiwiaXByb3AiLCJwYXJlbnRNb2RlbCIsInRlbXBsYXRlSG9zdCIsImhpZGUiLCJfX3BvbHltZXJUZXh0Q29udGVudF9fIiwiX19wb2x5bWVyUmVwbGFjZWRfXyIsIl9fcG9seW1lckRpc3BsYXlfXyIsImRpc3BsYXkiLCJfX3BhcmVudE1vZGVsIiwiTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlIiwiZmluZE1ldGhvZEhvc3QiLCJjcmVhdGVUZW1wbGF0aXplckNsYXNzIiwidGVtcGxhdGl6ZXJCYXNlIiwidGVtcGxhdGl6ZSIsInVzZXJOb3RpZnlJbnN0YW5jZVByb3AiLCJub3RpZnlJbnN0YW5jZVByb3AiLCJjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QiLCJoYXNIb3N0UHJvcHMiLCJhZGROb3RpZnlFZmZlY3RzIiwiYWRkUHJvcGFnYXRlRWZmZWN0cyIsInVzZXJGb3J3YXJkSG9zdFByb3AiLCJ0ZW1wbGF0aXplVGVtcGxhdGVDbGFzcyIsInRlbXBsYXRpemVkQmFzZSIsImNyZWF0ZUZvcndhcmRIb3N0UHJvcEVmZmVjdCIsInVwZ3JhZGVUZW1wbGF0ZSIsImhvc3RQcm9wIiwiaW5zdFByb3AiLCJiYXNlQ2xhc3MiLCJ0ZW1wbGF0aXplSW5zdGFuY2VDbGFzcyIsIm1vZGVsRm9yRWxlbWVudCIsImVsZW1lbnRzSGlkZGVuIiwiaGlkZUVsZW1lbnRzR2xvYmFsbHkiLCJkb21CaW5kQmFzZSIsIl9fY2hpbGRyZW4iLCJfX3JlbW92ZUNoaWxkcmVuIiwiX19pbnNlcnRDaGlsZHJlbiIsImRvbVJlcGVhdEJhc2UiLCJkb21fcmVwZWF0X0RvbVJlcGVhdCIsImFzIiwiaW5kZXhBcyIsIml0ZW1zSW5kZXhBcyIsInJlbmRlcmVkSXRlbUNvdW50IiwiaW5pdGlhbENvdW50IiwidGFyZ2V0RnJhbWVyYXRlIiwiX3RhcmdldEZyYW1lVGltZSIsIl9faW5zdGFuY2VzIiwiX19saW1pdCIsIl9fcG9vbCIsIl9fcmVuZGVyRGVib3VuY2VyIiwiX19pdGVtc0lkeFRvSW5zdElkeCIsIl9fY2h1bmtDb3VudCIsIl9fbGFzdENodW5rVGltZSIsIl9fc29ydEZuIiwiX19maWx0ZXJGbiIsIl9fb2JzZXJ2ZVBhdGhzIiwiX19jdG9yIiwiX19pc0RldGFjaGVkIiwiX19kZXRhY2hJbnN0YW5jZSIsIndyYXBwZWRQYXJlbnQiLCJfX2F0dGFjaEluc3RhbmNlIiwiX19yZW5kZXIiLCJpJCIsInBhdGhfbWF0Y2hlcyIsImZ1bmN0aW9uT3JNZXRob2ROYW1lIiwiX19nZXRNZXRob2RIb3N0IiwiX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlIiwiX19kZWJvdW5jZVJlbmRlciIsInJhdGUiLCJfX3JlcXVlc3RSZW5kZXJDaHVuayIsIl9fcmVuZGVyQ2h1bmsiLCJjdXJyQ2h1bmtUaW1lIiwicmF0aW8iLCJjaGFuZ2UiLCJfX2hhbmRsZUl0ZW1QYXRoIiwiX19pbml0aWFsaXplQ2h1bmtpbmciLCJwYXRocyIsIl9fZW5zdXJlVGVtcGxhdGl6ZWQiLCJfX2FwcGx5RnVsbFJlZnJlc2giLCJfc2V0UmVuZGVyZWRJdGVtQ291bnQiLCJfX3RyeVJlbmRlckNodW5rIiwiaXNudElkeFRvSXRlbXNJZHgiLCJpdGVtc0lkeFRvSW5zdElkeCIsImluc3RJZHgiLCJpdGVtSWR4IiwiX19pbnNlcnRJbnN0YW5jZSIsIl9fZGV0YWNoQW5kUmVtb3ZlSW5zdGFuY2UiLCJ3cmFwcGVkUm9vdCIsIl9fc3RhbXBJbnN0YW5jZSIsImJlZm9yZVJvdyIsImJlZm9yZU5vZGUiLCJoaWRkZW4iLCJpdGVtc1BhdGgiLCJkb3QiLCJpdGVtc0lkeCIsIml0ZW1TdWJQYXRoIiwiX19oYW5kbGVPYnNlcnZlZFBhdGhzIiwiaXRlbVBhdGgiLCJkb21faWZfRG9tSWYiLCJpZiIsInJlc3RhbXAiLCJfX2ludmFsaWRQcm9wcyIsIl9faW5zdGFuY2UiLCJfbGFzdElmIiwiRE9DVU1FTlRfRlJBR01FTlRfTk9ERSIsIl9fdGVhcmRvd25JbnN0YW5jZSIsIl9fZW5zdXJlSW5zdGFuY2UiLCJfX3N5bmNIb3N0UHJvcGVydGllcyIsIm11dGFibGVfZGF0YV9iZWhhdmlvcl9tdXRhYmxlUHJvcGVydHlDaGFuZ2UiLCJiYXNlQXJyYXlTZWxlY3RvciIsIm11bHRpIiwic2VsZWN0ZWQiLCJzZWxlY3RlZEl0ZW0iLCJ0b2dnbGUiLCJfX2xhc3RJdGVtcyIsIl9fbGFzdE11bHRpIiwiX19zZWxlY3RlZE1hcCIsIml0ZW1zSW5mbyIsIm5ld0l0ZW1zIiwibGFzdEl0ZW1zIiwiY2xlYXJTZWxlY3Rpb24iLCJfX2FwcGx5U3BsaWNlcyIsIl9fZGVzZWxlY3RDaGFuZ2VkSWR4IiwiX191cGRhdGVMaW5rcyIsInNpZHgiLCJsaW5rUGF0aHMiLCJpc1NlbGVjdGVkIiwiX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4IiwiZGVzZWxlY3QiLCJzZWxlY3RJbmRleCIsImRlc2VsZWN0SW5kZXgiLCJhcnJheV9zZWxlY3Rvcl9BcnJheVNlbGVjdG9yTWl4aW4iLCJBcnJheVNlbGVjdG9yIiwiT1JQSEFOUyIsIklyb25SZXNpemFibGVCZWhhdmlvciIsIl9wYXJlbnRSZXNpemFibGUiLCJfbm90aWZ5aW5nRGVzY2VuZGFudCIsImlyb24tcmVxdWVzdC1yZXNpemUtbm90aWZpY2F0aW9ucyIsIl9pbnRlcmVzdGVkUmVzaXphYmxlcyIsIl9ib3VuZE5vdGlmeVJlc2l6ZSIsIm5vdGlmeVJlc2l6ZSIsIl9ib3VuZE9uRGVzY2VuZGFudElyb25SZXNpemUiLCJfb25EZXNjZW5kYW50SXJvblJlc2l6ZSIsIl9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucyIsInN0b3BSZXNpemVOb3RpZmljYXRpb25zRm9yIiwicmVzaXphYmxlIiwicmVzaXplclNob3VsZE5vdGlmeSIsIl9ub3RpZnlEZXNjZW5kYW50IiwiX2ZpcmVSZXNpemUiLCJhc3NpZ25QYXJlbnRSZXNpemFibGUiLCJwYXJlbnRSZXNpemFibGUiLCJfc3Vic2NyaWJlSXJvblJlc2l6ZSIsIl91bnN1YnNjcmliZUlyb25SZXNpemUiLCJmaXJlIiwiX29uSXJvblJlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zIiwiX3BhcmVudFJlc2l6YWJsZUNoYW5nZWQiLCJkZXNjZW5kYW50IiwicmVhZHlzdGF0ZWNoYW5nZWQiLCJfZmluZFBhcmVudCIsIm9ycGhhbiIsIlRoZW1lUHJvcGVydHlNaXhpbiIsInRoZW1lIiwibmV3VmFsdWUiLCJfc2V0VGhlbWUiLCJUaGVtYWJsZU1peGluIiwiaGFzT3duVGVtcGxhdGUiLCJwYXJlbnRFbGVtZW50IiwiaW5oZXJpdGVkVGVtcGxhdGUiLCJfaW5jbHVkZVN0eWxlIiwiX2luY2x1ZGVNYXRjaGluZ1RoZW1lcyIsImhhc1RoZW1lcyIsImRlZmF1bHRNb2R1bGVOYW1lIiwibW9kdWxlTmFtZUEiLCJtb2R1bGVOYW1lQiIsInZhYWRpbkEiLCJ2YWFkaW5CIiwidmFhZGluVGhlbWVQcmVmaXhlcyIsInZhYWRpblRoZW1lQSIsInZhYWRpblRoZW1lQiIsIm1vZHVsZU5hbWUiLCJ0aGVtZUZvciIsInRoZW1lRm9yVG9rZW4iLCJzdHlsZUVsIiwiREVWX01PREVfQ09ERV9SRUdFWFAiLCJGbG93Q2xpZW50cyIsIlZhYWRpbiIsIkZsb3ciLCJ1bmNvbW1lbnRBbmRSdW4iLCJydW5JZkRldmVsb3BtZW50TW9kZSIsImRldmVsb3BtZW50TW9kZSIsIm1heWJlR2F0aGVyQW5kU2VuZFN0YXRzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhvc3RuYW1lIiwicHJvZHVjdGlvbk1vZGVBcHBzIiwicHJvZHVjdGlvbk1vZGUiLCJpc0Zsb3dQcm9kdWN0aW9uTW9kZSIsImlzRGV2ZWxvcG1lbnRNb2RlIiwidXNhZ2VTdGF0aXN0aWNzIiwic3RhdHNKb2IiLCJkZXZlbG9wbWVudE1vZGVDYWxsYmFjayIsInZhYWRpbl9lbGVtZW50X21peGluX0VsZW1lbnRNaXhpbiIsImRvY3R5cGUiLCJ2YWFkaW5fc3BsaXRfbGF5b3V0X1NwbGl0TGF5b3V0RWxlbWVudCIsIm1peGluQmVoYXZpb3JzIiwib3JpZW50YXRpb24iLCJfcHJldmlvdXNQcmltYXJ5UG9pbnRlckV2ZW50cyIsIl9wcmV2aW91c1NlY29uZGFyeVBvaW50ZXJFdmVudHMiLCJfcHJvY2Vzc0NoaWxkcmVuIiwiZ2V0RWZmZWN0aXZlQ2hpbGRyZW4iLCJfcHJpbWFyeUNoaWxkIiwiX3NlY29uZGFyeUNoaWxkIiwiZmxleEJhc2lzIiwiY29udGFpbmVyU2l6ZSIsImZsZXgiLCJwb2ludGVyRXZlbnRzIiwiZGlzdGFuY2UiLCJfc2V0RmxleEJhc2lzIiwiX3N0YXJ0U2l6ZSIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJzcGxpdHRlciIsIlN0aXRjaCIsIlJlbW90ZU1vbmdvQ2xpZW50IiwiQW5vbnltb3VzQ3JlZGVudGlhbCIsImNsaWVudERCIiwiaW5pdGlhbGl6ZURlZmF1bHRBcHBDbGllbnQiLCJkaXJlY3RpdmVfZGlyZWN0aXZlcyIsImRpcmVjdGl2ZV9pc0RpcmVjdGl2ZSIsImRvbV9pc0NFUG9seWZpbGwiLCJkb21fcmVtb3ZlTm9kZXMiLCJwYXJ0X25vQ2hhbmdlIiwicGFydF9ub3RoaW5nIiwidGVtcGxhdGVfbWFya2VyIiwidGVtcGxhdGVfbm9kZU1hcmtlciIsInRlbXBsYXRlX21hcmtlclJlZ2V4IiwidGVtcGxhdGVfYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCJ0ZW1wbGF0ZV9UZW1wbGF0ZSIsInRlbXBsYXRlX2VuZHNXaXRoIiwidGVtcGxhdGVfbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsInRlbXBsYXRlX2NyZWF0ZU1hcmtlciIsInRlbXBsYXRlX2lzVGVtcGxhdGVQYXJ0QWN0aXZlIiwibGliX3RlbXBsYXRlX2luc3RhbmNlX1RlbXBsYXRlSW5zdGFuY2UiLCJ0ZW1wbGF0ZV9yZXN1bHRfY29tbWVudE1hcmtlciIsImxpYl90ZW1wbGF0ZV9yZXN1bHRfVGVtcGxhdGVSZXN1bHQiLCJwYXJ0c19pc1ByaW1pdGl2ZSIsInBhcnRzX2lzSXRlcmFibGUiLCJwYXJ0c19BdHRyaWJ1dGVDb21taXR0ZXIiLCJsaWJfcGFydHNfQXR0cmlidXRlUGFydCIsImxpYl9wYXJ0c19Ob2RlUGFydCIsImxpYl9wYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsInBhcnRzX1Byb3BlcnR5Q29tbWl0dGVyIiwicGFydHNfUHJvcGVydHlQYXJ0IiwicGFydHNfZXZlbnRPcHRpb25zU3VwcG9ydGVkIiwibGliX3BhcnRzX0V2ZW50UGFydCIsInBhcnRzX2dldE9wdGlvbnMiLCJkZWZhdWx0X3RlbXBsYXRlX3Byb2Nlc3Nvcl9kZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IiLCJ0ZW1wbGF0ZV9mYWN0b3J5X3RlbXBsYXRlRmFjdG9yeSIsInRlbXBsYXRlX2ZhY3RvcnlfdGVtcGxhdGVDYWNoZXMiLCJsaWJfcmVuZGVyX3BhcnRzIiwibGl0X2h0bWxfbGl0X2h0bWxfaHRtbCIsIm1vZGlmeV90ZW1wbGF0ZV93YWxrZXJOb2RlRmlsdGVyIiwibW9kaWZ5X3RlbXBsYXRlX3JlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIiwibW9kaWZ5X3RlbXBsYXRlX25leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyIsIm1vZGlmeV90ZW1wbGF0ZV9jb3VudE5vZGVzIiwic2hhZHlfcmVuZGVyX2dldFRlbXBsYXRlQ2FjaGVLZXkiLCJzaGFkeV9yZW5kZXJfY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiIsInNoYWR5X3JlbmRlcl9URU1QTEFURV9UWVBFUyIsInNoYWR5X3JlbmRlcl9zaGFkeVJlbmRlclNldCIsInNoYWR5X3JlbmRlcl9wcmVwYXJlVGVtcGxhdGVTdHlsZXMiLCJzaGFkeV9yZW5kZXJfcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyIsIm1vZGlmeV90ZW1wbGF0ZV9pbnNlcnROb2RlSW50b1RlbXBsYXRlIiwidXBkYXRpbmdfZWxlbWVudF9kZWZhdWx0Q29udmVydGVyIiwidXBkYXRpbmdfZWxlbWVudF9ub3RFcXVhbCIsInVwZGF0aW5nX2VsZW1lbnRfZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCJtaWNyb3Rhc2tQcm9taXNlIiwidXBkYXRpbmdfZWxlbWVudF9TVEFURV9IQVNfVVBEQVRFRCIsInVwZGF0aW5nX2VsZW1lbnRfU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCIsInVwZGF0aW5nX2VsZW1lbnRfU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUiLCJ1cGRhdGluZ19lbGVtZW50X1NUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkiLCJTVEFURV9IQVNfQ09OTkVDVEVEIiwidXBkYXRpbmdfZWxlbWVudF9maW5hbGl6ZWQiLCJ1cGRhdGluZ19lbGVtZW50X1VwZGF0aW5nRWxlbWVudCIsIl9oYXNDb25uZWN0ZWRSZXNvbHZlciIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsIl9oYXNDb25uZWN0ZWQiLCJjc3NfdGFnX3N1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsImZsYXR0ZW5TdHlsZXMiLCJmbGF0IiwiYXJyYXlGbGF0IiwibGl0X2VsZW1lbnRfbGl0X2VsZW1lbnRfTGl0RWxlbWVudCIsInJlbmRlcl9yZW5kZXIiLCJzaGFkeV9yZW5kZXJfc2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJtYWNBZGRyZXNzIiwiZGV0ZWN0aW9uSW50ZXJ2YWxtUyIsIm5yT2ZTYW1wbGVzUGVyQXZnIiwiY3VycmVudEF2Z0J1ZiIsIm1pblR1cm5BbmdsZSIsImN1cnJlbnRBdmciLCJhbGFybVRpbWUiLCJhbGFybUR1cmF0aW9uIiwid2FrZUxvY2siLCJyZXF1ZXN0V2FrZUxvY2siLCJhc3luYyIsInJlcXVlc3QiLCJoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlIiwidmlzaWJpbGl0eVN0YXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJvbmNsaWNrIiwiYXBwX0xTR19jYXJpbiIsImZpcnN0cmVhZCIsIl9oYW5kbGVHZXRBY2NlbGVyb21ldGVyIiwiQlRMRWRhdGFjaGFuZ2VkIiwiYnRsZWQiLCJzdHJpbmdUb0FycmF5IiwicmVhZFNlbnNvck1hY0FkciIsInJlYWRTZW5zb3JFdmVudHMiLCJ2aWV3IiwidWludFRvU3RyaW5nIiwiaW5uZXJUZXh0Iiwic3RyaW5nRnJvbUFycmF5IiwieHZhbCIsInl2YWwiLCJ6dmFsIiwiYW5nbGUiLCJyb2xsIiwicGl0Y2giLCJhdmciLCJCdWYiLCJjbnQiLCJjYWxjdWxhdGVBbmdsZXNBdmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGFzc05hbWUiLCJjYWxjd2lkdGgiLCJkYXRldGltZSIsImxvZ0VudHJ5IiwiYXV0aCIsImxvZ2luV2l0aENyZWRlbnRpYWwiLCJjYWxsRnVuY3Rpb24iLCJwb3NpdGlvbl9sb2ciLCJhY2Nlc3NEYl9maWxsQUREYXRhIiwiYXBwX2ZpbGxkYXRhYmFzZSIsImFwcF9kZWNvcmF0ZSIsImRlY29yYXRvcnNfbGVnYWN5Q3VzdG9tRWxlbWVudCIsImRlY29yYXRvcnNfc3RhbmRhcmRDdXN0b21FbGVtZW50IiwiZGVjb3JhdG9yc19jdXN0b21FbGVtZW50IiwidHh0IiwiSW50OEFycmF5Iiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyU1ciLCJBdXRoRXZlbnRLaW5kIiwiaW50ZXJuYWxfQXV0aEluZm8iLCJBdXRoSW5mbyIsInVzZXJJZCIsImRldmljZUlkIiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJsb2dnZWRJblByb3ZpZGVyVHlwZSIsImxvZ2dlZEluUHJvdmlkZXJOYW1lIiwibGFzdEF1dGhBY3Rpdml0eSIsInVzZXJQcm9maWxlIiwibG9nZ2VkT3V0Iiwid2l0aENsZWFyZWRVc2VyIiwid2l0aEF1dGhQcm92aWRlciIsInByb3ZpZGVyVHlwZSIsInByb3ZpZGVyTmFtZSIsIndpdGhOZXdBdXRoQWN0aXZpdHlUaW1lIiwibmV3SW5mbyIsIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJfXyIsIl9FcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiU3RpdGNoUmVxdWVzdEVycm9yQ29kZV9hIiwiU3RpdGNoUmVxdWVzdEVycm9yQ29kZSIsImVzbV9TdGl0Y2hFcnJvciIsIl9zdXBlciIsIlN0aXRjaEVycm9yIiwiU3RpdGNoU2VydmljZUVycm9yQ29kZSIsInJlcXVlc3RFcnJvckNvZGVEZXNjcyIsIlRSQU5TUE9SVF9FUlJPUiIsIkRFQ09ESU5HX0VSUk9SIiwiRU5DT0RJTkdfRVJST1IiLCJTdGl0Y2hSZXF1ZXN0RXJyb3JfZXh0ZW5kcyIsImVzbV9TdGl0Y2hSZXF1ZXN0RXJyb3IiLCJTdGl0Y2hSZXF1ZXN0RXJyb3IiLCJ1bmRlcmx5aW5nRXJyb3IiLCJlcnJvckNvZGUiLCJlcnJvckNvZGVOYW1lIiwiYXBpRXJyb3JDb2RlcyIsIkFQSUtleUFscmVhZHlFeGlzdHMiLCJBcGlLZXlBbHJlYWR5RXhpc3RzIiwiQVBJS2V5Tm90Rm91bmQiLCJBcGlLZXlOb3RGb3VuZCIsIkFXU0Vycm9yIiwiQXJndW1lbnRzTm90QWxsb3dlZCIsIkF1dGhQcm92aWRlckFscmVhZHlFeGlzdHMiLCJBdXRoUHJvdmlkZXJEdXBsaWNhdGVOYW1lIiwiQXV0aFByb3ZpZGVyTm90Rm91bmQiLCJEb21haW5Ob3RBbGxvd2VkIiwiRXhlY3V0aW9uVGltZUxpbWl0RXhjZWVkZWQiLCJGdW5jdGlvbkFscmVhZHlFeGlzdHMiLCJGdW5jdGlvbkR1cGxpY2F0ZU5hbWUiLCJGdW5jdGlvbkV4ZWN1dGlvbkVycm9yIiwiRnVuY3Rpb25JbnZhbGlkIiwiRnVuY3Rpb25Ob3RDYWxsYWJsZSIsIkZ1bmN0aW9uTm90Rm91bmQiLCJGdW5jdGlvblN5bnRheEVycm9yIiwiR0NNRXJyb3IiLCJIVFRQRXJyb3IiLCJJbmNvbWluZ1dlYmhvb2tBbHJlYWR5RXhpc3RzIiwiSW5jb21pbmdXZWJob29rQXV0aEZhaWxlZCIsIkluY29taW5nV2ViaG9va0R1cGxpY2F0ZU5hbWUiLCJJbmNvbWluZ1dlYmhvb2tOb3RGb3VuZCIsIkludGVybmFsU2VydmVyRXJyb3IiLCJJbnZhbGlkUGFyYW1ldGVyIiwiSW52YWxpZFNlc3Npb24iLCJNaXNzaW5nQXV0aFJlcSIsIk1pc3NpbmdQYXJhbWV0ZXIiLCJNb25nb0RCRXJyb3IiLCJOb01hdGNoaW5nUnVsZUZvdW5kIiwiUmVhZFNpemVMaW1pdEV4Y2VlZGVkIiwiUmVzdHJpY3RlZEhvc3QiLCJSdWxlQWxyZWFkeUV4aXN0cyIsIlJ1bGVEdXBsaWNhdGVOYW1lIiwiUnVsZU5vdEZvdW5kIiwiU2VydmljZUFscmVhZHlFeGlzdHMiLCJTZXJ2aWNlQ29tbWFuZE5vdEZvdW5kIiwiU2VydmljZU5vdEZvdW5kIiwiU2VydmljZVR5cGVOb3RGb3VuZCIsIlR3aWxpb0Vycm9yIiwiVXNlckFscmVhZHlDb25maXJtZWQiLCJVc2VyQXBwRG9tYWluTWlzbWF0Y2giLCJVc2VyRGlzYWJsZWQiLCJVc2VyTm90Rm91bmQiLCJWYWx1ZUFscmVhZHlFeGlzdHMiLCJWYWx1ZUR1cGxpY2F0ZU5hbWUiLCJWYWx1ZU5vdEZvdW5kIiwic3RpdGNoU2VydmljZUVycm9yQ29kZUZyb21BcGkiLCJVbmtub3duIiwiRmllbGRzIiwiTWV0aG9kIiwiU3RpdGNoU2VydmljZUVycm9yX2V4dGVuZHMiLCJlc21fU3RpdGNoU2VydmljZUVycm9yIiwiU3RpdGNoU2VydmljZUVycm9yIiwibmV0X0NvbnRlbnRUeXBlcyIsIkNvbnRlbnRUeXBlcyIsIkFQUExJQ0FUSU9OX0pTT04iLCJURVhUX0VWRU5UX1NUUkVBTSIsIm5ldF9IZWFkZXJzIiwiSGVhZGVycyIsImdldEF1dGhvcml6YXRpb25CZWFyZXIiLCJBVVRIT1JJWkFUSU9OX0JFQVJFUiIsIkNPTlRFTlRfVFlQRV9DQU5PTiIsIkNPTlRFTlRfVFlQRSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiQVVUSE9SSVpBVElPTl9DQU5PTiIsIkFVVEhPUklaQVRJT04iLCJBQ0NFUFRfQ0FOT04iLCJBQ0NFUFQiLCJ3cmFwRGVjb2RpbmdFcnJvciIsImhhbmRsZVJlcXVlc3RFcnJvciIsInN0YXR1c0NvZGUiLCJlcnJvck1zZyIsImhlYWRlcnMiLCJic29uT2JqIiwiRVJST1IiLCJFUlJPUl9DT0RFIiwiaGFuZGxlUmljaEVycm9yIiwibmV0X01ldGhvZCIsIlN0aXRjaFJlcXVlc3QiLCJzdGFydGVkQXQiLCJCdWlsZGVyIiwid2l0aE1ldGhvZCIsIndpdGhQYXRoIiwid2l0aEhlYWRlcnMiLCJ3aXRoQm9keSIsImJ1aWxkIiwiU3RpdGNoQXV0aFJlcXVlc3RfZXh0ZW5kcyIsIlN0aXRjaEF1dGhSZXF1ZXN0X1N0aXRjaEF1dGhSZXF1ZXN0IiwiU3RpdGNoQXV0aFJlcXVlc3QiLCJ1c2VSZWZyZXNoVG9rZW4iLCJzaG91bGRSZWZyZXNoT25GYWlsdXJlIiwid2l0aEFjY2Vzc1Rva2VuIiwid2l0aFJlZnJlc2hUb2tlbiIsIndpdGhTaG91bGRSZWZyZXNoT25GYWlsdXJlIiwiU3RpdGNoQXV0aERvY1JlcXVlc3RfZXh0ZW5kcyIsIlN0aXRjaEF1dGhEb2NSZXF1ZXN0X1N0aXRjaEF1dGhEb2NSZXF1ZXN0IiwiU3RpdGNoQXV0aERvY1JlcXVlc3QiLCJ3aXRoRG9jdW1lbnQiLCJic29uX2Jyb3dzZXJfZXNtIiwiU3RpdGNoQ2xpZW50RXJyb3JDb2RlX2EiLCJTdGl0Y2hDbGllbnRFcnJvckNvZGUiLCJTdGl0Y2hEb2NSZXF1ZXN0X2V4dGVuZHMiLCJTdGl0Y2hEb2NSZXF1ZXN0X1N0aXRjaERvY1JlcXVlc3QiLCJTdGl0Y2hEb2NSZXF1ZXN0IiwiRXJyb3JGaWVsZHMiLCJjbGllbnRFcnJvckNvZGVEZXNjcyIsIkxvZ2dlZE91dER1cmluZ1JlcXVlc3QiLCJNdXN0QXV0aGVudGljYXRlRmlyc3QiLCJVc2VyTm9Mb25nZXJWYWxpZCIsIlVzZXJOb3RMb2dnZWRJbiIsIkNvdWxkTm90TG9hZFBlcnNpc3RlZEF1dGhJbmZvIiwiQ291bGROb3RQZXJzaXN0QXV0aEluZm8iLCJTdHJlYW1pbmdOb3RTdXBwb3J0ZWQiLCJTdHJlYW1DbG9zZWQiLCJVbmV4cGVjdGVkQXJndW1lbnRzIiwiU3RpdGNoQ2xpZW50RXJyb3JfZXh0ZW5kcyIsImVzbV9TdGl0Y2hDbGllbnRFcnJvciIsIlN0aXRjaENsaWVudEVycm9yIiwibmV0X0V2ZW50IiwiTUVTU0FHRV9FVkVOVCIsIm5ldF9TdGl0Y2hFdmVudCIsIlN0aXRjaEV2ZW50IiwiZGVjb2RlciIsImRlY29kZWRTdHJpbmdCdWZmZXIiLCJjaElkeCIsImRlY29kZWREYXRhIiwiRVJST1JfRVZFTlRfTkFNRSIsImVycm9yRG9jIiwiRXJyb3JDb2RlIiwiZGVjb2RlIiwiZnJvbUV2ZW50IiwiZXNtX1N0cmVhbSIsIlN0cmVhbSIsImV2ZW50U3RyZWFtIiwibmV4dEV2ZW50Iiwic2UiLCJvbk5leHQiLCJ3cmFwcGVyIiwib25FdmVudCIsIm9uRXJyb3IiLCJpc09wZW4iLCJpbnRlcm5hbF9TdGl0Y2hVc2VyUHJvZmlsZUltcGwiLCJTdGl0Y2hVc2VyUHJvZmlsZUltcGwiLCJ1c2VyVHlwZSIsImlkZW50aXRpZXMiLCJhZ2UiLCJpbnRlcm5hbF9Db3JlU3RpdGNoVXNlckltcGwiLCJDb3JlU3RpdGNoVXNlckltcGwiLCJpc0xvZ2dlZEluIiwicHJvZmlsZSIsImN1c3RvbURhdGEiLCJhbm9ueW1vdXNfQW5vbnltb3VzQXV0aFByb3ZpZGVyIiwiQW5vbnltb3VzQXV0aFByb3ZpZGVyIiwiVFlQRSIsIkRFRkFVTFRfTkFNRSIsImludGVybmFsX1N0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwiLCJhdXRoSW5mbyIsImFzTGluayIsImJhc2U2NERlY29kZSIsInN0clRvRGVjb2RlIiwidW5ldmVuQnl0ZXMiLCJiYXNlNjRfanMiLCJ0bXAiLCJkZWNvZGVVdGY4Q2hhciIsImJhc2U2NEVuY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsIkFwaUF1dGhJbmZvX0ZpZWxkcyIsImludGVybmFsX0pXVCIsIkpXVCIsImV4cGlyZXMiLCJpc3N1ZWRBdCIsInVzZXJEYXRhIiwiZnJvbUVuY29kZWQiLCJlbmNvZGVkSldUIiwic3BsaXRUb2tlbiIsImpzb24iLCJqd3QiLCJpbnRlcm5hbF9BY2Nlc3NUb2tlblJlZnJlc2hlciIsIkFjY2Vzc1Rva2VuUmVmcmVzaGVyIiwic2hvdWxkUmVmcmVzaCIsInJlZnJlc2hBY2Nlc3NUb2tlbiIsIm5leHRUaW1lb3V0IiwiQXBpQXV0aEluZm9fZXh0ZW5kcyIsIkFwaVN0aXRjaFVzZXJJZGVudGl0eV9GaWVsZHMiLCJtb2RlbHNfQXBpQXV0aEluZm8iLCJBcGlBdXRoSW5mbyIsImZyb21KU09OIiwiVVNFUl9JRCIsIkRFVklDRV9JRCIsIkFDQ0VTU19UT0tFTiIsIlJFRlJFU0hfVE9LRU4iLCJfYSIsImNvbW1vbl9Bc3NlcnRpb25zIiwiQXNzZXJ0aW9ucyIsImtleVByZXNlbnQiLCJhdXRoX1N0aXRjaFVzZXJJZGVudGl0eSIsIkFwaVN0aXRjaFVzZXJJZGVudGl0eV9leHRlbmRzIiwiQXBpQ29yZVVzZXJQcm9maWxlX0ZpZWxkcyIsIm1vZGVsc19BcGlTdGl0Y2hVc2VySWRlbnRpdHkiLCJBcGlTdGl0Y2hVc2VySWRlbnRpdHkiLCJJRCIsIlBST1ZJREVSX1RZUEUiLCJBcGlDb3JlVXNlclByb2ZpbGVfZXh0ZW5kcyIsIlN0b3JlU3RpdGNoVXNlcklkZW50aXR5X0ZpZWxkcyIsIm1vZGVsc19BcGlDb3JlVXNlclByb2ZpbGUiLCJBcGlDb3JlVXNlclByb2ZpbGUiLCJVU0VSX1RZUEUiLCJEQVRBIiwiSURFTlRJVElFUyIsIlN0b3JlU3RpdGNoVXNlcklkZW50aXR5X2V4dGVuZHMiLCJTdG9yZUNvcmVVc2VyUHJvZmlsZV9GaWVsZHMiLCJtb2RlbHNfU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkiLCJTdG9yZVN0aXRjaFVzZXJJZGVudGl0eSIsImVuY29kZSIsIlN0b3JlQ29yZVVzZXJQcm9maWxlX2V4dGVuZHMiLCJTdG9yZUF1dGhJbmZvX0ZpZWxkcyIsIm1vZGVsc19TdG9yZUNvcmVVc2VyUHJvZmlsZSIsIlN0b3JlQ29yZVVzZXJQcm9maWxlIiwiaWRlbnRpdHkiLCJTdG9yZUF1dGhJbmZvX2V4dGVuZHMiLCJ3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZSIsImlzRW1wdHkiLCJTdG9yZUF1dGhJbmZvX1N0b3JlQXV0aEluZm8iLCJBQ1RJVkVfVVNFUl9TVE9SQUdFX05BTUUiLCJ3cml0ZUFsbFVzZXJzQXV0aEluZm9Ub1N0b3JhZ2UiLCJjdXJyZW50VXNlcnNBdXRoSW5mbyIsImVuY29kZWRTdG9yZUluZm9zIiwic3RvcmVJbmZvIiwiQUxMX1VTRVJTX1NUT1JBR0VfTkFNRSIsIkRldmljZUZpZWxkcyIsIlN0b3JlQXV0aEluZm8iLCJMT0dHRURfSU5fUFJPVklERVJfVFlQRSIsIkxPR0dFRF9JTl9QUk9WSURFUl9OQU1FIiwiVVNFUl9QUk9GSUxFIiwibGFzdEF1dGhBY3Rpdml0eU1pbGxpc1NpbmNlRXBvY2giLCJMQVNUX0FVVEhfQUNUSVZJVFkiLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImludGVybmFsX0NvcmVTdGl0Y2hBdXRoIiwiQ29yZVN0aXRjaEF1dGgiLCJyZXF1ZXN0Q2xpZW50IiwiYXV0aFJvdXRlcyIsInVzZVRva2VuUmVmcmVzaGVyIiwiYWxsVXNlcnNBdXRoSW5mbyIsImFjdGl2ZVVzZXJBdXRoSW5mbyIsInJhd0luZm8iLCJyYXdBcnJheSIsInVzZXJJZFRvQXV0aEluZm9NYXAiLCJyYXdFbnRyeSIsInJlYWRDdXJyZW50VXNlcnNGcm9tU3RvcmFnZSIsInJlYWRBY3RpdmVVc2VyRnJvbVN0b3JhZ2UiLCJoYXNVc2VyIiwiY3VycmVudFVzZXIiLCJwcmVwVXNlciIsImFjY2Vzc1Rva2VuUmVmcmVzaGVyIiwiaGFzRGV2aWNlSWQiLCJsaXN0VXNlcnMiLCJkb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0Iiwic3RpdGNoUmVxIiwiZG9SZXF1ZXN0IiwicHJlcGFyZUF1dGhSZXF1ZXN0IiwiaGFuZGxlQXV0aEZhaWx1cmUiLCJkb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0V2l0aERlY29kZXIiLCJvcGVuQXV0aGVudGljYXRlZEV2ZW50U3RyZWFtIiwib3BlbiIsImF1dGhUb2tlbiIsImRvU3RyZWFtUmVxdWVzdCIsImJ1aWxkZXIiLCJoYW5kbGVBdXRoRmFpbHVyZUZvckV2ZW50U3RyZWFtIiwib3BlbkF1dGhlbnRpY2F0ZWRTdHJlYW1XaXRoRGVjb2RlciIsInJlcUJ1aWxkZXIiLCJzZXNzaW9uUm91dGUiLCJQT1NUIiwicGFydGlhbEluZm8iLCJ1c2VyIiwic3dpdGNoVG9Vc2VyV2l0aElkIiwibmV3QXV0aEluZm8iLCJwcmV2aW91c1VzZXIiLCJvbkF1dGhFdmVudCIsImRpc3BhdGNoQXV0aEV2ZW50IiwiY3VycmVudEFjdGl2ZVVzZXIiLCJBY3RpdmVVc2VyQ2hhbmdlZCIsInByZXZpb3VzQWN0aXZlVXNlciIsImxvZ2luV2l0aENyZWRlbnRpYWxJbnRlcm5hbCIsImNyZWRlbnRpYWwiLCJlXzEiLCJwcm9jZXNzTG9naW4iLCJVc2VyTG9nZ2VkSW4iLCJsb2dnZWRJblVzZXIiLCJwcm92aWRlckNhcGFiaWxpdGllcyIsInJldXNlc0V4aXN0aW5nU2Vzc2lvbiIsIl9iIiwiX2MiLCJfZCIsInJlbW92ZVVzZXJXaXRoSWRJbnRlcm5hbCIsImVfMV8xIiwicmV0dXJuIiwiZG9Mb2dpbiIsImxpbmtVc2VyV2l0aENyZWRlbnRpYWxJbnRlcm5hbCIsImxvZ291dEludGVybmFsIiwibG9nb3V0VXNlcldpdGhJZEludGVybmFsIiwiY2xlYXJBdXRoQmxvY2siLCJjbGVhclVzZXJBdXRoVG9rZW5zIiwiZG9Mb2dvdXQiLCJyZW1vdmVVc2VySW50ZXJuYWwiLCJyZW1vdmVCbG9jayIsInJlbW92ZWRVc2VyIiwiVXNlclJlbW92ZWQiLCJuZXdSZXEiLCJuZXdIZWFkZXJzIiwiZXgiLCJyZXEiLCJjbGVhckFjdGl2ZVVzZXJBdXRoIiwidHJ5UmVmcmVzaEFjY2Vzc1Rva2VuIiwicmVxU3RhcnRlZEF0IiwidXNlckZhY3RvcnkiLCJtYWtlVXNlciIsImF0dGFjaEF1dGhPcHRpb25zIiwiYXV0aEJvZHkiLCJkZXZpY2VJbmZvIiwiYXNMaW5rUmVxdWVzdCIsImRvTG9naW5SZXF1ZXN0IiwicHJvY2Vzc0xvZ2luUmVzcG9uc2UiLCJVc2VyTGlua2VkIiwibGlua2VkVXNlciIsImdldEF1dGhQcm92aWRlckxpbmtSb3V0ZSIsImdldEF1dGhQcm92aWRlckxvZ2luUm91dGUiLCJtYXRlcmlhbCIsImxpbmtSZXF1ZXN0Iiwib2xkQWN0aXZlVXNlckluZm8iLCJvbGRBY3RpdmVVc2VyIiwiZG9HZXRVc2VyUHJvZmlsZSIsIm5ld1VzZXJBZGRlZCIsImFkZGVkVXNlciIsIlVzZXJBZGRlZCIsImxpbmtlZEF1dGhJbmZvIiwiR0VUIiwicHJvZmlsZVJvdXRlIiwiREVMRVRFIiwidW5jbGVhcmVkQXV0aEluZm8iLCJsb2dnZWRPdXRVc2VyIiwibG9nZ2VkT3V0QXV0aEluZm8iLCJ3YXNBY3RpdmVVc2VyIiwiVXNlckxvZ2dlZE91dCIsIkN1c3RvbUNyZWRlbnRpYWxfRmllbGRzIiwiaW50ZXJuYWxfRGV2aWNlRmllbGRzIiwiYXV0aF9Qcm92aWRlckNhcGFiaWxpdGllcyIsImFub255bW91c19Bbm9ueW1vdXNDcmVkZW50aWFsIiwiY3VzdG9tX0N1c3RvbUF1dGhQcm92aWRlciIsIkN1c3RvbUF1dGhQcm92aWRlciIsIkZhY2Vib29rQ3JlZGVudGlhbF9GaWVsZHMiLCJjdXN0b21fQ3VzdG9tQ3JlZGVudGlhbCIsIlRPS0VOIiwiZmFjZWJvb2tfRmFjZWJvb2tBdXRoUHJvdmlkZXIiLCJGYWNlYm9va0F1dGhQcm92aWRlciIsIkdvb2dsZUNyZWRlbnRpYWxfRmllbGRzIiwiZmFjZWJvb2tfRmFjZWJvb2tDcmVkZW50aWFsIiwiRmFjZWJvb2tDcmVkZW50aWFsIiwiZnVuY3Rpb25fRnVuY3Rpb25BdXRoUHJvdmlkZXIiLCJGdW5jdGlvbkF1dGhQcm92aWRlciIsImZ1bmN0aW9uX0Z1bmN0aW9uQ3JlZGVudGlhbCIsIkZ1bmN0aW9uQ3JlZGVudGlhbCIsInBheWxvYWQiLCJnb29nbGVfR29vZ2xlQXV0aFByb3ZpZGVyIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiU2VydmVyQXBpS2V5Q3JlZGVudGlhbF9GaWVsZHMiLCJnb29nbGVfR29vZ2xlQ3JlZGVudGlhbCIsImF1dGhDb2RlIiwiQVVUSF9DT0RFIiwic2VydmVyYXBpa2V5X1NlcnZlckFwaUtleUF1dGhQcm92aWRlciIsIlNlcnZlckFwaUtleUF1dGhQcm92aWRlciIsIlVzZXJBcGlLZXlfRmllbGRzIiwic2VydmVyYXBpa2V5X1NlcnZlckFwaUtleUNyZWRlbnRpYWwiLCJLRVkiLCJpbnRlcm5hbF9Db3JlQXV0aFByb3ZpZGVyQ2xpZW50IiwiYmFzZVJvdXRlIiwiQXBpS2V5RmllbGRzIiwibW9kZWxzX1VzZXJBcGlLZXkiLCJVc2VyQXBpS2V5IiwiZGlzYWJsZWQiLCJyZWFkRnJvbUFwaSIsIk5BTUUiLCJESVNBQkxFRCIsInVzZXJhcGlrZXlfVXNlckFwaUtleUF1dGhQcm92aWRlciIsIlVzZXJBcGlLZXlBdXRoUHJvdmlkZXIiLCJDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudF9leHRlbmRzIiwiVXNlckFwaUtleUNyZWRlbnRpYWxfRmllbGRzIiwidXNlcmFwaWtleV9Db3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCIsIkNvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50IiwiYmFzZUF1dGhSb3V0ZSIsImNyZWF0ZUFwaUtleSIsImZldGNoQXBpS2V5Iiwia2V5SWQiLCJnZXRBcGlLZXlSb3V0ZSIsImZldGNoQXBpS2V5cyIsImRlbGV0ZUFwaUtleSIsImVuYWJsZUFwaUtleSIsIlBVVCIsImdldEFwaUtleUVuYWJsZVJvdXRlIiwiZGlzYWJsZUFwaUtleSIsImdldEFwaUtleURpc2FibGVSb3V0ZSIsIlJlZ2lzdHJhdGlvbkZpZWxkcyIsIkFjdGlvbkZpZWxkcyIsInVzZXJhcGlrZXlfVXNlckFwaUtleUNyZWRlbnRpYWwiLCJ1c2VycGFzc19Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIiLCJVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIiLCJDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50X2V4dGVuZHMiLCJVc2VyUGFzc3dvcmRDcmVkZW50aWFsX0ZpZWxkcyIsInVzZXJwYXNzX0NvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQiLCJDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50IiwiZ2V0QXV0aFByb3ZpZGVyUm91dGUiLCJyZWdpc3RlcldpdGhFbWFpbEludGVybmFsIiwiZW1haWwiLCJwYXNzd29yZCIsImdldFJlZ2lzdGVyV2l0aEVtYWlsUm91dGUiLCJFTUFJTCIsIlBBU1NXT1JEIiwiY29uZmlybVVzZXJJbnRlcm5hbCIsInRva2VuSWQiLCJnZXRDb25maXJtVXNlclJvdXRlIiwiVE9LRU5fSUQiLCJyZXNlbmRDb25maXJtYXRpb25FbWFpbEludGVybmFsIiwiZ2V0UmVzZW5kQ29uZmlybWF0aW9uRW1haWxSb3V0ZSIsInJlc2V0UGFzc3dvcmRJbnRlcm5hbCIsImdldFJlc2V0UGFzc3dvcmRSb3V0ZSIsInNlbmRSZXNldFBhc3N3b3JkRW1haWxJbnRlcm5hbCIsImdldFNlbmRSZXNldFBhc3N3b3JkRW1haWxSb3V0ZSIsImNhbGxSZXNldFBhc3N3b3JkRnVuY3Rpb25JbnRlcm5hbCIsImdldENhbGxSZXNldFBhc3N3b3JkRnVuY3Rpb25Sb3V0ZSIsIkFSR1MiLCJnZXRFeHRlbnNpb25Sb3V0ZSIsIlVzZXJUeXBlIiwidXNlcnBhc3NfVXNlclBhc3N3b3JkQ3JlZGVudGlhbCIsInVzZXJuYW1lIiwiVVNFUk5BTUUiLCJSZWJpbmRFdmVudFR5cGUiLCJhdXRoX1VzZXJUeXBlIiwiTWVtb3J5U3RvcmFnZSIsInN1aXRlTmFtZSIsIlJlYmluZEV2ZW50IiwiaW50ZXJuYWxfQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsIiwiQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsIiwicm91dGVzIiwic2VydmljZUZpZWxkIiwiYXJndW1lbnRzRmllbGQiLCJzZXJ2aWNlUm91dGVzIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlQmluZGVycyIsImFsbG9jYXRlZFN0cmVhbXMiLCJnZXRDYWxsU2VydmljZUZ1bmN0aW9uUmVxdWVzdCIsInN0cmVhbUZ1bmN0aW9uIiwiZ2V0U3RyZWFtU2VydmljZUZ1bmN0aW9uUmVxdWVzdCIsIm5ld1N0cmVhbSIsImJpbmRlciIsIm9uUmViaW5kRXZlbnQiLCJyZWJpbmRFdmVudCIsIkFVVEhfRVZFTlQiLCJjbG9zZUFsbG9jYXRlZFN0cmVhbXMiLCJmdW5jdGlvbkNhbGxSb3V0ZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmVhbSIsImludGVybmFsX0NvcmVTdGl0Y2hBcHBDbGllbnQiLCJDb3JlU3RpdGNoQXBwQ2xpZW50IiwiYXV0aFJlcXVlc3RDbGllbnQiLCJmdW5jdGlvblNlcnZpY2UiLCJCYXNlRXZlbnRTdHJlYW1fdmFsdWVzIiwibmV0X0Jhc2VFdmVudFN0cmVhbSIsIkJhc2VFdmVudFN0cmVhbSIsInJlY29ubmVjdGVyIiwiY2xvc2VkIiwibGFzdEVyciIsInBvbGwiLCJsaXN0ZW5PbmNlIiwiYWZ0ZXJDbG9zZSIsInJlY29ubmVjdCIsIm9uUmVjb25uZWN0IiwiUkVUUllfVElNRU9VVF9NSUxMSVMiLCJldmVudF8xIiwiQmFzaWNSZXF1ZXN0Iiwid2l0aFVybCIsIm5ldF9SZXNwb25zZSIsIkJBU0VfUk9VVEUiLCJnZXRBcHBSb3V0ZSIsImNsaWVudEFwcElkIiwiZ2V0RnVuY3Rpb25DYWxsUm91dGUiLCJBcGlBcHBNZXRhZGF0YV9GaWVsZHMiLCJuZXRfU3RpdGNoQXBwQXV0aFJvdXRlcyIsIlN0aXRjaEFwcEF1dGhSb3V0ZXMiLCJnZXRBdXRoUHJvdmlkZXJFeHRlbnNpb25Sb3V0ZSIsIm5ldF9BcGlBcHBNZXRhZGF0YSIsIkFwaUFwcE1ldGFkYXRhIiwiZGVwbG95bWVudE1vZGVsIiwiREVQTE9ZTUVOVF9NT0RFTCIsIkxPQ0FUSU9OIiwiSE9TVE5BTUUiLCJuZXRfQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQiLCJCYXNlU3RpdGNoUmVxdWVzdENsaWVudCIsImJhc2VVcmwiLCJ0cmFuc3BvcnQiLCJkb1JlcXVlc3RUb1VSTCIsInJvdW5kVHJpcCIsImJ1aWxkUmVxdWVzdCIsInJlc3AiLCJpbnNwZWN0UmVzcG9uc2UiLCJkb1N0cmVhbVJlcXVlc3RUb1VSTCIsInJldHJ5UmVxdWVzdCIsImludGVybmFsX1N0aXRjaFNlcnZpY2VSb3V0ZXMiLCJuZXRfU3RpdGNoQXBwUm91dGVzIiwiYXBwTWV0YWRhdGFSb3V0ZSIsImdldEFwcE1ldGFkYXRhUm91dGUiLCJTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50X2V4dGVuZHMiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiX19nZW5lcmF0b3IiLCJzZW50IiwidHJ5cyIsInZlcmIiLCJ0aHJvdyIsIm9wIiwibmV0X1N0aXRjaEFwcFJlcXVlc3RDbGllbnQiLCJTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50IiwiaW5pdEFwcE1ldGFkYXRhIiwibWV0YWRhdGEiLCJnZXRCYXNlVVJMIiwiYXBwTWV0YWRhdGEiLCJTdGl0Y2hSZXF1ZXN0Q2xpZW50X2V4dGVuZHMiLCJBdXRoUmViaW5kRXZlbnRfZXh0ZW5kcyIsIlN0aXRjaFJlcXVlc3RDbGllbnQiLCJpbnRlcm5hbF9BdXRoUmViaW5kRXZlbnQiLCJBdXRoUmViaW5kRXZlbnQiLCJTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uIiwiZGF0YURpcmVjdG9yeSIsIndpdGhCYXNlVXJsIiwid2l0aFN0b3JhZ2UiLCJ3aXRoRGF0YURpcmVjdG9yeSIsIndpdGhUcmFuc3BvcnQiLCJTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uX2V4dGVuZHMiLCJTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uX1N0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24iLCJTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uIiwibG9jYWxBcHBOYW1lIiwibG9jYWxBcHBWZXJzaW9uIiwid2l0aExvY2FsQXBwTmFtZSIsIndpdGhMb2NhbEFwcFZlcnNpb24iLCJVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50X1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQiLCJlc21fU3RpdGNoQXBwQ2xpZW50SW5mbyIsImZhY2Vib29rX0ZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsIiwicmVkaXJlY3RVcmwiLCJnb29nbGVfR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsIiwiVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGxfZXh0ZW5kcyIsImludGVybmFsX1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsIiwiVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwiLCJjbGFzc18xIiwiZ2V0Q2xpZW50IiwiVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50X1VzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCIsIlVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGxfZXh0ZW5kcyIsImludGVybmFsX1VzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwiLCJVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsIiwicmVnaXN0ZXJXaXRoRW1haWwiLCJjb25maXJtVXNlciIsInJlc2VuZENvbmZpcm1hdGlvbkVtYWlsIiwicmVzZXRQYXNzd29yZCIsInNlbmRSZXNldFBhc3N3b3JkRW1haWwiLCJjYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uIiwic3VwcG9ydCIsInNlYXJjaFBhcmFtcyIsIml0ZXJhYmxlIiwiYmxvYiIsIkJsb2IiLCJmb3JtRGF0YSIsImFycmF5QnVmZmVyIiwidmlld0NsYXNzZXMiLCJpc0FycmF5QnVmZmVyVmlldyIsIm5vcm1hbGl6ZU5hbWUiLCJub3JtYWxpemVWYWx1ZSIsIml0ZXJhdG9yRm9yIiwiZmV0Y2hfSGVhZGVycyIsImhlYWRlciIsImNvbnN1bWVkIiwiYm9keVVzZWQiLCJmaWxlUmVhZGVyUmVhZHkiLCJyZWFkZXIiLCJvbmxvYWQiLCJvbmVycm9yIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiYnVmZmVyQ2xvbmUiLCJCb2R5IiwiX2luaXRCb2R5IiwiX2JvZHlJbml0IiwiX2JvZHlUZXh0IiwiaXNQcm90b3R5cGVPZiIsIl9ib2R5QmxvYiIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsImlzRGF0YVZpZXciLCJfYm9keUFycmF5QnVmZmVyIiwicmVhZEFzVGV4dCIsInJlYWRCbG9iQXNUZXh0IiwiY2hhcnMiLCJyZWFkQXJyYXlCdWZmZXJBc1RleHQiLCJmZXRjaF9SZXF1ZXN0IiwiY3JlZGVudGlhbHMiLCJzaWduYWwiLCJ1cGNhc2VkIiwibm9ybWFsaXplTWV0aG9kIiwicmVmZXJyZXIiLCJmb3JtIiwiZmV0Y2hfUmVzcG9uc2UiLCJib2R5SW5pdCIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIkRPTUV4Y2VwdGlvbiIsImZldGNoX2ZldGNoIiwiYWJvcnRlZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiYWJvcnRYaHIiLCJhYm9ydCIsInJhd0hlYWRlcnMiLCJwYXJzZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsIm9udGltZW91dCIsIm9uYWJvcnQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsInBvbHlmaWxsIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiUmVkaXJlY3RGcmFnbWVudEZpZWxkcyIsIm5ldF9Ccm93c2VyRmV0Y2hUcmFuc3BvcnQiLCJCcm93c2VyRmV0Y2hUcmFuc3BvcnQiLCJyZXNwb25zZVByb21pc2UiLCJyZXNwb25zZVRleHRQcm9taXNlIiwiY29tbW9uX0xvY2FsU3RvcmFnZSIsIkxvY2FsU3RvcmFnZSIsImdldEtleSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZm9yS2V5Iiwic3RpdGNoUHJlZml4S2V5IiwiRXZlbnRTb3VyY2VFdmVudFN0cmVhbV9leHRlbmRzIiwibmV0X0V2ZW50U291cmNlRXZlbnRTdHJlYW0iLCJFdmVudFNvdXJjZUV2ZW50U3RyZWFtIiwiZXZ0U3JjIiwib25PcGVuIiwib25PcGVuRXJyb3IiLCJvcGVuZWRPbmNlIiwib25vcGVuIiwiTWVzc2FnZUV2ZW50IiwiQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0X2V4dGVuZHMiLCJfX2Fzc2lnbiIsIm5ldF9Ccm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQiLCJCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQiLCJyZXFIZWFkZXJzIiwicmVzcEhlYWRlcnMiLCJFdmVudFNvdXJjZSIsImVzIiwiaW50ZXJuYWxfU3RpdGNoU2VydmljZUNsaWVudEltcGwiLCJTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCIsInByb3h5IiwiY29kZWMiLCJSZWRpcmVjdEtleXMiLCJpbnRlcm5hbF9SZWRpcmVjdEZyYWdtZW50RmllbGRzIiwiaW50ZXJuYWxfUmVkaXJlY3RLZXlzIiwiU3RpdGNoUmVkaXJlY3RFcnJvcl9leHRlbmRzIiwiaW50ZXJuYWxfU3RpdGNoUmVkaXJlY3RFcnJvciIsIlN0aXRjaFJlZGlyZWN0RXJyb3IiLCJTdGl0Y2hVc2VySW1wbF9leHRlbmRzIiwiaW50ZXJuYWxfU3RpdGNoVXNlckltcGwiLCJTdGl0Y2hVc2VySW1wbCIsImxpbmtXaXRoQ3JlZGVudGlhbCIsImxpbmtVc2VyV2l0aFJlZGlyZWN0IiwibGlua1dpdGhSZWRpcmVjdEludGVybmFsIiwiaW50ZXJuYWxfU3RpdGNoVXNlckZhY3RvcnlJbXBsIiwiU3RpdGNoVXNlckZhY3RvcnlJbXBsIiwiU3RpdGNoQXV0aEltcGxfZXh0ZW5kcyIsIlN0aXRjaEF1dGhJbXBsX3JlYWQiLCJhbHBoYU51bWVyaWNDaGFyYWN0ZXJzIiwiaW50ZXJuYWxfU3RpdGNoQXV0aEltcGwiLCJTdGl0Y2hBdXRoSW1wbCIsImJyb3dzZXJBdXRoUm91dGVzIiwiYXV0aFN0b3JhZ2UiLCJhcHBJbmZvIiwianNkb21XaW5kb3ciLCJzeW5jaHJvbm91c0xpc3RlbmVycyIsImdldFByb3ZpZGVyQ2xpZW50IiwiaXNBdXRoUHJvdmlkZXJDbGllbnRGYWN0b3J5IiwiZ2V0TmFtZWRDbGllbnQiLCJsb2dpbldpdGhSZWRpcmVjdCIsInByZXBhcmVSZWRpcmVjdCIsImdldEF1dGhQcm92aWRlclJlZGlyZWN0Um91dGUiLCJnZXRBdXRoUHJvdmlkZXJMaW5rUmVkaXJlY3RSb3V0ZSIsImluamVjdGVkRmV0Y2giLCJBdXRob3JpemF0aW9uIiwiaGFzUmVkaXJlY3RSZXN1bHQiLCJwYXJzZVJlZGlyZWN0IiwiY2xlYW51cFJlZGlyZWN0IiwiaGFuZGxlUmVkaXJlY3RSZXN1bHQiLCJQcm92aWRlck5hbWUiLCJQcm92aWRlclR5cGUiLCJyZWRpcmVjdEZyYWdtZW50IiwicHJvY2Vzc1JlZGlyZWN0UmVzdWx0IiwibG9nb3V0IiwibG9nb3V0VXNlcldpdGhJZCIsInJlbW92ZVVzZXIiLCJyZW1vdmVVc2VyV2l0aElkIiwiQVBQX0lEIiwiQVBQX1ZFUlNJT04iLCJkZXRlY3RfYnJvd3NlciIsIlBMQVRGT1JNIiwiUExBVEZPUk1fVkVSU0lPTiIsIlNES19WRVJTSU9OIiwiYWRkQXV0aExpc3RlbmVyIiwiTGlzdGVuZXJSZWdpc3RlcmVkIiwiYWRkU3luY2hyb25vdXNBdXRoTGlzdGVuZXIiLCJyZW1vdmVBdXRoTGlzdGVuZXIiLCJkaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMiLCJvbkFjdGl2ZVVzZXJDaGFuZ2VkIiwib25MaXN0ZW5lclJlZ2lzdGVyZWQiLCJvblVzZXJBZGRlZCIsIm9uVXNlckxpbmtlZCIsIm9uVXNlckxvZ2dlZEluIiwib25Vc2VyTG9nZ2VkT3V0Iiwib25Vc2VyUmVtb3ZlZCIsImFzc2VydE5ldmVyIiwicmVmcmVzaEN1c3RvbURhdGEiLCJibG9jayIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJwYWdlUm9vdFVybCIsIlN0YXRlIiwib3VyU3RhdGUiLCJvdXJDbGllbnRBcHBJZCIsIlBhcnNlZFJlZGlyZWN0RnJhZ21lbnQiLCJrdnAiLCJwYWlyUGFydHMiLCJsYXN0RXJyb3IiLCJVc2VyQXV0aCIsInVubWFyc2hhbGxVc2VyQXV0aCIsIlN0aXRjaExpbmsiLCJ0aGVpclN0YXRlIiwic3RhdGVWYWxpZCIsIkNsaWVudEFwcElkIiwiY2xpZW50QXBwSWRWYWxpZCIsInBhcnNlUmVkaXJlY3RGcmFnbWVudCIsImdlbmVyYXRlU3RhdGUiLCJwcm90b2NvbCIsIlN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzX2V4dGVuZHMiLCJpbnRlcm5hbF9TdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcyIsIlN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzIiwiZW5jb2RlVVJJIiwidXJpRW5jb2RlT2JqZWN0IiwiU3RpdGNoQnJvd3NlckFwcFJvdXRlc19leHRlbmRzIiwiaW50ZXJuYWxfU3RpdGNoQnJvd3NlckFwcFJvdXRlcyIsIlN0aXRjaEJyb3dzZXJBcHBSb3V0ZXMiLCJpbnRlcm5hbF9TdGl0Y2hBcHBDbGllbnRJbXBsIiwiU3RpdGNoQXBwQ2xpZW50SW1wbCIsImNvcmVDbGllbnQiLCJzZXJ2aWNlQ2xpZW50cyIsImdldFNlcnZpY2VDbGllbnQiLCJpc1NlcnZpY2VDbGllbnRGYWN0b3J5Iiwic2VydmljZUNsaWVudCIsImJpbmRTZXJ2aWNlQ2xpZW50IiwiZ2V0R2VuZXJhbFNlcnZpY2VDbGllbnQiLCJjb3JlU3RpdGNoU2VydmljZUNsaWVudCIsIk9wZXJhdGlvblR5cGUiLCJhcHBDbGllbnRzIiwiY29yZV9TdGl0Y2giLCJkZWZhdWx0Q2xpZW50QXBwSWQiLCJnZXRBcHBDbGllbnQiLCJoYXNBcHBDbGllbnQiLCJpbml0aWFsaXplQXBwQ2xpZW50IiwiY2xlYXJBcHBzIiwiaW50ZXJuYWxfQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbiIsIkNvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24iLCJjb2xsZWN0aW9uRGVjb2RlciIsImV4ZWN1dGVSZWFkIiwiZmlyc3QiLCJ0b0FycmF5IiwiYXNBcnJheSIsIm9wZXJhdGlvblR5cGVGcm9tUmVtb3RlIiwiSW5zZXJ0IiwiRGVsZXRlIiwiUmVwbGFjZSIsIlVwZGF0ZSIsIlJlbW90ZUluc2VydE1hbnlSZXN1bHRGaWVsZHMiLCJSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHMiLCJSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMiLCJSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHMiLCJVcGRhdGVEZXNjcmlwdGlvbkZpZWxkcyIsIkNoYW5nZUV2ZW50RmllbGRzIiwiQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzIiwiZXNtX1JlbW90ZUluc2VydE1hbnlSZXN1bHQiLCJpbnNlcnRlZCIsImluc2VydGVkSWRzIiwiUmVzdWx0RGVjb2RlcnNfUmVtb3RlSW5zZXJ0TWFueVJlc3VsdERlY29kZXIiLCJSZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2RlciIsIkluc2VydGVkSWRzIiwiUmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlciIsImluc2VydGVkSWQiLCJJbnNlcnRlZElkIiwiUmVtb3RlVXBkYXRlUmVzdWx0RGVjb2RlciIsIm1hdGNoZWRDb3VudCIsIk1hdGNoZWRDb3VudCIsIm1vZGlmaWVkQ291bnQiLCJNb2RpZmllZENvdW50IiwidXBzZXJ0ZWRJZCIsIlVwc2VydGVkSWQiLCJSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyIiwiZGVsZXRlZENvdW50IiwiRGVsZXRlZENvdW50IiwiUmVzdWx0RGVjb2RlcnNfVXBkYXRlRGVzY3JpcHRpb25EZWNvZGVyIiwiVXBkYXRlRGVzY3JpcHRpb25EZWNvZGVyIiwiVXBkYXRlZEZpZWxkcyIsIlJlbW92ZWRGaWVsZHMiLCJyZW1vdmVkRmllbGRzIiwidXBkYXRlZEZpZWxkcyIsImRlY29kZUJhc2VDaGFuZ2VFdmVudEZpZWxkcyIsInVwZGF0ZURlc2NyaXB0aW9uRmllbGQiLCJmdWxsRG9jdW1lbnRGaWVsZCIsInVwZGF0ZURlc2NyaXB0aW9uIiwiZnVsbERvY3VtZW50IiwiUmVzdWx0RGVjb2RlcnMiLCJ1cGRhdGVEZXNjcmlwdGlvbkRlY29kZXIiLCJSZW1vdGVNb25nb0NsaWVudF9SZW1vdGVNb25nb0NsaWVudCIsIlJlc3VsdERlY29kZXJzX0NoYW5nZUV2ZW50RGVjb2RlciIsIkNoYW5nZUV2ZW50RGVjb2RlciIsIklkIiwiTmFtZXNwYWNlIiwiRG9jdW1lbnRLZXkiLCJuc0RvYyIsIlVwZGF0ZURlc2NyaXB0aW9uIiwiRnVsbERvY3VtZW50IiwiZG9jdW1lbnRLZXkiLCJOYW1lc3BhY2VDb2xsIiwiZGF0YWJhc2UiLCJOYW1lc3BhY2VEYiIsIm9wZXJhdGlvblR5cGUiLCJSZXN1bHREZWNvZGVyc19Db21wYWN0Q2hhbmdlRXZlbnREZWNvZGVyIiwiQ29tcGFjdENoYW5nZUV2ZW50RGVjb2RlciIsInN0aXRjaERvY3VtZW50VmVyc2lvbiIsInN0aXRjaERvY3VtZW50SGFzaCIsIlN0aXRjaERvY3VtZW50VmVyc2lvbiIsIlN0aXRjaERvY3VtZW50SGFzaCIsInJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyIiwicmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlciIsInJlbW90ZVVwZGF0ZVJlc3VsdERlY29kZXIiLCJyZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyIiwiaW50ZXJuYWxfUmVzdWx0RGVjb2RlcnMiLCJDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbF9hc3NpZ24iLCJpbnRlcm5hbF9Db3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCIsIkNvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsIiwiZGF0YWJhc2VOYW1lIiwiYmFzZU9wZXJhdGlvbkFyZ3MiLCJ3aXRoQ29sbGVjdGlvblR5cGUiLCJxdWVyeSIsInByb2plY3Rpb24iLCJwcm9qZWN0IiwiZmluZE9uZSIsImZpbmRPbmVBbmRVcGRhdGUiLCJ1cHNlcnQiLCJyZXR1cm5OZXdEb2N1bWVudCIsImZpbmRPbmVBbmRSZXBsYWNlIiwiZmluZE9uZUFuZERlbGV0ZSIsImFnZ3JlZ2F0ZSIsInBpcGVsaW5lIiwiaW5zZXJ0T25lIiwiZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyIsImluc2VydE1hbnkiLCJkb2NzIiwiZGVsZXRlT25lIiwiZXhlY3V0ZURlbGV0ZSIsImRlbGV0ZU1hbnkiLCJ1cGRhdGVPbmUiLCJleGVjdXRlVXBkYXRlIiwidXBkYXRlTWFueSIsIndhdGNoIiwiaWRzIiwidXNlQ29tcGFjdEV2ZW50cyIsIndhdGNoQ29tcGFjdCIsIm5ld0RvYyIsImludGVybmFsX0NvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbCIsIkNvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbCIsImludGVybmFsX0NvcmVSZW1vdGVNb25nb0NsaWVudEltcGwiLCJDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsIiwiZXNtX1JlbW90ZU1vbmdvQ3Vyc29yIiwiUmVtb3RlTW9uZ29DdXJzb3IiLCJlc21fUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uIiwiUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uIiwiaW50ZXJuYWxfUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCIsIlJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwiLCJ1cGRhdGVPcHRpb25zIiwiaW50ZXJuYWxfUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwiLCJSZW1vdGVNb25nb0RhdGFiYXNlSW1wbCIsImludGVybmFsX1JlbW90ZU1vbmdvQ2xpZW50SW1wbCIsIlJlbW90ZU1vbmdvQ2xpZW50SW1wbCIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJsZW4yIiwiZW5jb2RlQ2h1bmsiLCJsb29rdXAiLCJ0cmlwbGV0VG9CYXNlNjQiLCJudW0iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFK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QUNBaTdKLEVBQUFqN0osRUFBQSxjQUNBLElBQUFpN0osRUFBQWo3SixFQUFBLElBQ0FzUixFQUFBak8sS0FBQWk0SixFQUFBcnZCLElBRUEsT0FBQTM2SCxFQUFBdEQsS0FBQSxJQWhHQWd0SixFQUFBLElBQUF2a0osV0FBQSxPQUNBdWtKLEVBQUEsSUFBQXZrSixXQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3NCk7XG4iLCJpbXBvcnQgbG9uZyBmcm9tICdsb25nJztcbmltcG9ydCBidWZmZXIgZnJvbSAnYnVmZmVyJztcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBtYXAgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cbiAgaWYgKHR5cGVvZiBjb21tb25qc0dsb2JhbC5NYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjb21tb25qc0dsb2JhbC5NYXA7XG4gICAgbW9kdWxlLmV4cG9ydHMuTWFwID0gY29tbW9uanNHbG9iYWwuTWFwO1xuICB9IGVsc2Uge1xuICAgIC8vIFdlIHdpbGwgcmV0dXJuIGEgcG9seWZpbGxcbiAgICB2YXIgTWFwID0gZnVuY3Rpb24gTWFwKGFycmF5KSB7XG4gICAgICB0aGlzLl9rZXlzID0gW107XG4gICAgICB0aGlzLl92YWx1ZXMgPSB7fTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJyYXlbaV0gPT0gbnVsbCkgY29udGludWU7IC8vIHNraXAgbnVsbCBhbmQgdW5kZWZpbmVkXG5cbiAgICAgICAgdmFyIGVudHJ5ID0gYXJyYXlbaV07XG4gICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07IC8vIEFkZCB0aGUga2V5IHRvIHRoZSBsaXN0IG9mIGtleXMgaW4gb3JkZXJcblxuICAgICAgICB0aGlzLl9rZXlzLnB1c2goa2V5KTsgLy8gQWRkIHRoZSBrZXkgYW5kIHZhbHVlIHRvIHRoZSB2YWx1ZXMgZGljdGlvbmFyeSB3aXRoIGEgcG9pbnRcbiAgICAgICAgLy8gdG8gdGhlIGxvY2F0aW9uIGluIHRoZSBvcmRlcmVkIGtleXMgbGlzdFxuXG5cbiAgICAgICAgdGhpcy5fdmFsdWVzW2tleV0gPSB7XG4gICAgICAgICAgdjogdmFsdWUsXG4gICAgICAgICAgaTogdGhpcy5fa2V5cy5sZW5ndGggLSAxXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9rZXlzID0gW107XG4gICAgICB0aGlzLl92YWx1ZXMgPSB7fTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZXNba2V5XTtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gZmFsc2U7IC8vIERlbGV0ZSBlbnRyeVxuXG4gICAgICBkZWxldGUgdGhpcy5fdmFsdWVzW2tleV07IC8vIFJlbW92ZSB0aGUga2V5IGZyb20gdGhlIG9yZGVyZWQga2V5cyBsaXN0XG5cbiAgICAgIHRoaXMuX2tleXMuc3BsaWNlKHZhbHVlLmksIDEpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHNlbGYuX2tleXNbaW5kZXgrK107XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBrZXkgIT09IHVuZGVmaW5lZCA/IFtrZXksIHNlbGYuX3ZhbHVlc1trZXldLnZdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9uZToga2V5ICE9PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHNlbGYpIHtcbiAgICAgIHNlbGYgPSBzZWxmIHx8IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fa2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5fa2V5c1tpXTsgLy8gQ2FsbCB0aGUgZm9yRWFjaCBjYWxsYmFja1xuXG4gICAgICAgIGNhbGxiYWNrLmNhbGwoc2VsZiwgdGhpcy5fdmFsdWVzW2tleV0udiwga2V5LCBzZWxmKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWVzW2tleV0gPyB0aGlzLl92YWx1ZXNba2V5XS52IDogdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZXNba2V5XSAhPSBudWxsO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gc2VsZi5fa2V5c1tpbmRleCsrXTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGtleSAhPT0gdW5kZWZpbmVkID8ga2V5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZG9uZToga2V5ICE9PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fdmFsdWVzW2tleV0pIHtcbiAgICAgICAgdGhpcy5fdmFsdWVzW2tleV0udiA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gLy8gQWRkIHRoZSBrZXkgdG8gdGhlIGxpc3Qgb2Yga2V5cyBpbiBvcmRlclxuXG5cbiAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpOyAvLyBBZGQgdGhlIGtleSBhbmQgdmFsdWUgdG8gdGhlIHZhbHVlcyBkaWN0aW9uYXJ5IHdpdGggYSBwb2ludFxuICAgICAgLy8gdG8gdGhlIGxvY2F0aW9uIGluIHRoZSBvcmRlcmVkIGtleXMgbGlzdFxuXG5cbiAgICAgIHRoaXMuX3ZhbHVlc1trZXldID0ge1xuICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgaTogdGhpcy5fa2V5cy5sZW5ndGggLSAxXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHNlbGYuX2tleXNbaW5kZXgrK107XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBrZXkgIT09IHVuZGVmaW5lZCA/IHNlbGYuX3ZhbHVlc1trZXldLnYgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkb25lOiBrZXkgIT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTsgLy8gTGFzdCBpc21hc3RlclxuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IE1hcDtcbiAgfVxufSk7XG52YXIgbWFwXzEgPSBtYXAuTWFwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbmxvbmcucHJvdG90eXBlLnRvRXh0ZW5kZWRKU09OID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yZWxheGVkKSByZXR1cm4gdGhpcy50b051bWJlcigpO1xuICByZXR1cm4ge1xuICAgICRudW1iZXJMb25nOiB0aGlzLnRvU3RyaW5nKClcbiAgfTtcbn07XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbmxvbmcuZnJvbUV4dGVuZGVkSlNPTiA9IGZ1bmN0aW9uIChkb2MsIG9wdGlvbnMpIHtcbiAgdmFyIHJlc3VsdCA9IGxvbmcuZnJvbVN0cmluZyhkb2MuJG51bWJlckxvbmcpO1xuICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zLnJlbGF4ZWQgPyByZXN1bHQudG9OdW1iZXIoKSA6IHJlc3VsdDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShsb25nLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdMb25nJ1xufSk7XG52YXIgbG9uZ18xID0gbG9uZztcblxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBCU09OIERvdWJsZSB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIERvdWJsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBEb3VibGUgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgdGhlIG51bWJlciB3ZSB3YW50IHRvIHJlcHJlc2VudCBhcyBhIGRvdWJsZS5cbiAgICogQHJldHVybiB7RG91YmxlfVxuICAgKi9cbiAgZnVuY3Rpb24gRG91YmxlKHZhbHVlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvdWJsZSk7XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjY2VzcyB0aGUgbnVtYmVyIHZhbHVlLlxuICAgKlxuICAgKiBAbWV0aG9kXG4gICAqIEByZXR1cm4ge251bWJlcn0gcmV0dXJucyB0aGUgd3JhcHBlZCBkb3VibGUgbnVtYmVyLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhEb3VibGUsIFt7XG4gICAga2V5OiBcInZhbHVlT2ZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWVPZigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVsYXhlZCAmJiBpc0Zpbml0ZSh0aGlzLnZhbHVlKSkgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkbnVtYmVyRG91YmxlOiB0aGlzLnZhbHVlLnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy5yZWxheGVkID8gcGFyc2VGbG9hdChkb2MuJG51bWJlckRvdWJsZSkgOiBuZXcgRG91YmxlKHBhcnNlRmxvYXQoZG9jLiRudW1iZXJEb3VibGUpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRG91YmxlO1xufSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRG91YmxlLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdEb3VibGUnXG59KTtcbnZhciBkb3VibGVfMSA9IERvdWJsZTtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDEoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQxKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDEoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQxKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkMShDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuLyoqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3cgIHRoZSBsb3cgKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgVGltZXN0YW1wLlxuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2ggdGhlIGhpZ2ggKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgVGltZXN0YW1wLlxuICogQHJldHVybiB7VGltZXN0YW1wfVxuICovXG5cblxudmFyIFRpbWVzdGFtcCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0xvbmcpIHtcbiAgX2luaGVyaXRzKFRpbWVzdGFtcCwgX0xvbmcpO1xuXG4gIGZ1bmN0aW9uIFRpbWVzdGFtcChsb3csIGhpZ2gpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2skMSh0aGlzLCBUaW1lc3RhbXApO1xuXG4gICAgaWYgKGxvbmdfMS5pc0xvbmcobG93KSkge1xuICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoVGltZXN0YW1wKS5jYWxsKHRoaXMsIGxvdy5sb3csIGxvdy5oaWdoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFRpbWVzdGFtcCkuY2FsbCh0aGlzLCBsb3csIGhpZ2gpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIEpTT04gdmFsdWUuXG4gICAqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgSlNPTiByZXByZXNlbnRhdGlvbi5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkMShUaW1lc3RhbXAsIFt7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkdGltZXN0YW1wOiB0aGlzLnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBUaW1lc3RhbXAgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuICgzMi1iaXQpIGludGVnZXIgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIHRoZSAzMi1iaXQgaW50ZWdlciBpbiBxdWVzdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtUaW1lc3RhbXB9IHRoZSB0aW1lc3RhbXAuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICR0aW1lc3RhbXA6IHtcbiAgICAgICAgICB0OiB0aGlzLmhpZ2gsXG4gICAgICAgICAgaTogdGhpcy5sb3dcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tSW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21JbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKGxvbmdfMS5mcm9tSW50KHZhbHVlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBUaW1lc3RhbXAgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBudW1iZXIgdmFsdWUsIHByb3ZpZGVkIHRoYXQgaXQgaXMgYSBmaW5pdGUgbnVtYmVyLiBPdGhlcndpc2UsIHplcm8gaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIHRoZSBudW1iZXIgaW4gcXVlc3Rpb24uXG4gICAgICogQHJldHVybiB7VGltZXN0YW1wfSB0aGUgdGltZXN0YW1wLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbU51bWJlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IFRpbWVzdGFtcChsb25nXzEuZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVGltZXN0YW1wIGZvciB0aGUgZ2l2ZW4gaGlnaCBhbmQgbG93IGJpdHMuIEVhY2ggaXMgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93Qml0cyB0aGUgbG93IDMyLWJpdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hCaXRzIHRoZSBoaWdoIDMyLWJpdHMuXG4gICAgICogQHJldHVybiB7VGltZXN0YW1wfSB0aGUgdGltZXN0YW1wLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbUJpdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMpIHtcbiAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKGxvd0JpdHMsIGhpZ2hCaXRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFRpbWVzdGFtcCBmcm9tIHRoZSBnaXZlbiBzdHJpbmcsIG9wdGlvbmFsbHkgdXNpbmcgdGhlIGdpdmVuIHJhZGl4LlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgdGhlIHRleHR1YWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIFRpbWVzdGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdF9yYWRpeF0gdGhlIHJhZGl4IGluIHdoaWNoIHRoZSB0ZXh0IGlzIHdyaXR0ZW4uXG4gICAgICogQHJldHVybiB7VGltZXN0YW1wfSB0aGUgdGltZXN0YW1wLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbVN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tU3RyaW5nKHN0ciwgb3B0X3JhZGl4KSB7XG4gICAgICByZXR1cm4gbmV3IFRpbWVzdGFtcChsb25nXzEuZnJvbVN0cmluZyhzdHIsIG9wdF9yYWRpeCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jKSB7XG4gICAgICByZXR1cm4gbmV3IFRpbWVzdGFtcChkb2MuJHRpbWVzdGFtcC5pLCBkb2MuJHRpbWVzdGFtcC50KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGltZXN0YW1wO1xufShsb25nXzEpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVGltZXN0YW1wLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdUaW1lc3RhbXAnXG59KTtcbnZhciB0aW1lc3RhbXAgPSBUaW1lc3RhbXA7XG5cbnZhciByZXF1aXJlJCQwID0ge307XG5cbi8qIGdsb2JhbCB3aW5kb3cgKi9cblxuLyoqXG4gKiBOb3JtYWxpemVzIG91ciBleHBlY3RlZCBzdHJpbmdpZmllZCBmb3JtIG9mIGEgZnVuY3Rpb24gYWNyb3NzIHZlcnNpb25zIG9mIG5vZGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBzdHJpbmdpZnlcbiAqL1xuXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyhmbikge1xuICByZXR1cm4gZm4udG9TdHJpbmcoKS5yZXBsYWNlKCdmdW5jdGlvbignLCAnZnVuY3Rpb24gKCcpO1xufVxuXG5mdW5jdGlvbiBpbnNlY3VyZVJhbmRvbUJ5dGVzKHNpemUpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgcmVzdWx0W2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciByYW5kb21CeXRlcyA9IGluc2VjdXJlUmFuZG9tQnl0ZXM7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY3J5cHRvICYmIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIHJhbmRvbUJ5dGVzID0gZnVuY3Rpb24gcmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgIHJldHVybiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gIH07XG59IGVsc2Uge1xuICB0cnkge1xuICAgIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSQkMC5yYW5kb21CeXRlcztcbiAgfSBjYXRjaCAoZSkge30gLy8ga2VlcCB0aGUgZmFsbGJhY2tcbiAgLy8gTk9URTogaW4gdHJhbnNwaWxlZCBjYXNlcyB0aGUgYWJvdmUgcmVxdWlyZSBtaWdodCByZXR1cm4gbnVsbC91bmRlZmluZWRcblxuXG4gIGlmIChyYW5kb21CeXRlcyA9PSBudWxsKSB7XG4gICAgcmFuZG9tQnl0ZXMgPSBpbnNlY3VyZVJhbmRvbUJ5dGVzO1xuICB9XG59XG5cbnZhciB1dGlscyA9IHtcbiAgbm9ybWFsaXplZEZ1bmN0aW9uU3RyaW5nOiBub3JtYWxpemVkRnVuY3Rpb25TdHJpbmcsXG4gIHJhbmRvbUJ5dGVzOiByYW5kb21CeXRlc1xufTtcblxuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG4vLyBiYXNlZCBvZmYgaHR0cHM6Ly9naXRodWIuY29tL2RlZnVuY3R6b21iaWUvbm9kZS1wcm9jZXNzL2Jsb2IvbWFzdGVyL2Jyb3dzZXIuanNcbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuXG52YXIgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcblxuaWYgKHR5cGVvZiBnbG9iYWwuc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbn1cblxuaWYgKHR5cGVvZiBnbG9iYWwuY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbn1cblxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9IC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgfSAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5cblxuICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgfVxuICB9XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkcmFpbmluZyA9IGZhbHNlO1xuXG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cblxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgZHJhaW5RdWV1ZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG5cbiAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG5cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5mdW5jdGlvbiBuZXh0VGljayhmdW4pIHtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gIH1cblxuICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuXG4gIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgfVxufSAvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICB0aGlzLmZ1biA9IGZ1bjtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuXG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcblxudmFyIHRpdGxlID0gJ2Jyb3dzZXInO1xudmFyIHBsYXRmb3JtID0gJ2Jyb3dzZXInO1xudmFyIGJyb3dzZXIgPSB0cnVlO1xudmFyIGVudiA9IHt9O1xudmFyIGFyZ3YgPSBbXTtcbnZhciB2ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5cbnZhciB2ZXJzaW9ucyA9IHt9O1xudmFyIHJlbGVhc2UgPSB7fTtcbnZhciBjb25maWcgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBvbiA9IG5vb3A7XG52YXIgYWRkTGlzdGVuZXIgPSBub29wO1xudmFyIG9uY2UgPSBub29wO1xudmFyIG9mZiA9IG5vb3A7XG52YXIgcmVtb3ZlTGlzdGVuZXIgPSBub29wO1xudmFyIHJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG52YXIgZW1pdCA9IG5vb3A7XG5mdW5jdGlvbiBiaW5kaW5nKG5hbWUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufVxuZnVuY3Rpb24gY3dkKCkge1xuICByZXR1cm4gJy8nO1xufVxuZnVuY3Rpb24gY2hkaXIoZGlyKSB7XG4gIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5mdW5jdGlvbiB1bWFzaygpIHtcbiAgcmV0dXJuIDA7XG59IC8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2t1bWF2aXMvYnJvd3Nlci1wcm9jZXNzLWhydGltZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuXG52YXIgcGVyZm9ybWFuY2UgPSBnbG9iYWwucGVyZm9ybWFuY2UgfHwge307XG5cbnZhciBwZXJmb3JtYW5jZU5vdyA9IHBlcmZvcm1hbmNlLm5vdyB8fCBwZXJmb3JtYW5jZS5tb3pOb3cgfHwgcGVyZm9ybWFuY2UubXNOb3cgfHwgcGVyZm9ybWFuY2Uub05vdyB8fCBwZXJmb3JtYW5jZS53ZWJraXROb3cgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG59OyAvLyBnZW5lcmF0ZSB0aW1lc3RhbXAgb3IgZGVsdGFcbi8vIHNlZSBodHRwOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfcHJvY2Vzc19ocnRpbWVcblxuXG5mdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgdmFyIGNsb2NrdGltZSA9IHBlcmZvcm1hbmNlTm93LmNhbGwocGVyZm9ybWFuY2UpICogMWUtMztcbiAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKGNsb2NrdGltZSk7XG4gIHZhciBuYW5vc2Vjb25kcyA9IE1hdGguZmxvb3IoY2xvY2t0aW1lICUgMSAqIDFlOSk7XG5cbiAgaWYgKHByZXZpb3VzVGltZXN0YW1wKSB7XG4gICAgc2Vjb25kcyA9IHNlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFswXTtcbiAgICBuYW5vc2Vjb25kcyA9IG5hbm9zZWNvbmRzIC0gcHJldmlvdXNUaW1lc3RhbXBbMV07XG5cbiAgICBpZiAobmFub3NlY29uZHMgPCAwKSB7XG4gICAgICBzZWNvbmRzLS07XG4gICAgICBuYW5vc2Vjb25kcyArPSAxZTk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFtzZWNvbmRzLCBuYW5vc2Vjb25kc107XG59XG52YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbmZ1bmN0aW9uIHVwdGltZSgpIHtcbiAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTtcbiAgdmFyIGRpZiA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xuICByZXR1cm4gZGlmIC8gMTAwMDtcbn1cbnZhciBwcm9jZXNzID0ge1xuICBuZXh0VGljazogbmV4dFRpY2ssXG4gIHRpdGxlOiB0aXRsZSxcbiAgYnJvd3NlcjogYnJvd3NlcixcbiAgZW52OiBlbnYsXG4gIGFyZ3Y6IGFyZ3YsXG4gIHZlcnNpb246IHZlcnNpb24sXG4gIHZlcnNpb25zOiB2ZXJzaW9ucyxcbiAgb246IG9uLFxuICBhZGRMaXN0ZW5lcjogYWRkTGlzdGVuZXIsXG4gIG9uY2U6IG9uY2UsXG4gIG9mZjogb2ZmLFxuICByZW1vdmVMaXN0ZW5lcjogcmVtb3ZlTGlzdGVuZXIsXG4gIHJlbW92ZUFsbExpc3RlbmVyczogcmVtb3ZlQWxsTGlzdGVuZXJzLFxuICBlbWl0OiBlbWl0LFxuICBiaW5kaW5nOiBiaW5kaW5nLFxuICBjd2Q6IGN3ZCxcbiAgY2hkaXI6IGNoZGlyLFxuICB1bWFzazogdW1hc2ssXG4gIGhydGltZTogaHJ0aW1lLFxuICBwbGF0Zm9ybTogcGxhdGZvcm0sXG4gIHJlbGVhc2U6IHJlbGVhc2UsXG4gIGNvbmZpZzogY29uZmlnLFxuICB1cHRpbWU6IHVwdGltZVxufTtcblxudmFyIGluaGVyaXRzO1xuXG5pZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgaW5oZXJpdHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIGluaGVyaXRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG5cbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiBUZW1wQ3RvcigpIHt9O1xuXG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpO1xuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgfTtcbn1cblxudmFyIGluaGVyaXRzJDEgPSBpbmhlcml0cztcblxuZnVuY3Rpb24gX3R5cGVvZiQxKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiQxID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YkMSA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mJDEob2JqKTsgfVxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5mdW5jdGlvbiBmb3JtYXQoZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uICh4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcblxuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOlxuICAgICAgICByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG5cbiAgICAgIGNhc2UgJyVkJzpcbiAgICAgICAgcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuXG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG5cbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59XG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cblxuZnVuY3Rpb24gZGVwcmVjYXRlKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cblxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufVxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmZ1bmN0aW9uIGRlYnVnbG9nKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSkgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG5cbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IDA7XG5cbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbXNnID0gZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVidWdzW3NldF07XG59XG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG5cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cblxuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTsgLy8gbGVnYWN5Li4uXG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuXG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBfZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH0gLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXG5cbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn0gLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5cbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCc6IFsxLCAyMl0sXG4gICdpdGFsaWMnOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJzogWzQsIDI0XSxcbiAgJ2ludmVyc2UnOiBbNywgMjddLFxuICAnd2hpdGUnOiBbMzcsIDM5XSxcbiAgJ2dyZXknOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJzogWzMwLCAzOV0sXG4gICdibHVlJzogWzM0LCAzOV0sXG4gICdjeWFuJzogWzM2LCAzOV0sXG4gICdncmVlbic6IFszMiwgMzldLFxuICAnbWFnZW50YSc6IFszNSwgMzldLFxuICAncmVkJzogWzMxLCAzOV0sXG4gICd5ZWxsb3cnOiBbMzMsIDM5XVxufTsgLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5cbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gXCJcXHgxQltcIiArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArIFwiXFx4MUJbXCIgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gaGFzaDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICB2YWx1ZS5pbnNwZWN0ICE9PSBpbnNwZWN0ICYmIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuXG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9IC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG5cblxuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuXG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9IC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cblxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9IC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcblxuXG4gIGlmIChpc0Vycm9yKHZhbHVlKSAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9IC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cblxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cblxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLFxuICAgICAgYXJyYXkgPSBmYWxzZSxcbiAgICAgIGJyYWNlcyA9IFsneycsICd9J107IC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcblxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfSAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcblxuXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH0gLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcblxuXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfSAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcblxuXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9IC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcblxuXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG4gIHZhciBvdXRwdXQ7XG5cbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuXG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJykucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuXG4gIGlmIChpc051bWJlcih2YWx1ZSkpIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKSByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTsgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuXG4gIGlmIChpc051bGwodmFsdWUpKSByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cblxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7XG4gICAgdmFsdWU6IHZhbHVlW2tleV1cbiAgfTtcblxuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cblxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcblxuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIDtcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICsgJyAnICsgb3V0cHV0LmpvaW4oJyxcXG4gICcpICsgJyAnICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn0gLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cblxuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gX3R5cGVvZiQxKGFyZykgPT09ICdzeW1ib2wnO1xufVxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gX3R5cGVvZiQxKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJiAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHwgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8IF90eXBlb2YkMShhcmcpID09PSAnc3ltYm9sJyB8fCAvLyBFUzYgc3ltYm9sXG4gIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gaXNCdWZmZXIobWF5YmVCdWYpIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihtYXliZUJ1Zik7XG59XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107IC8vIDI2IEZlYiAxNjoxOTozNFxuXG5mdW5jdGlvbiB0aW1lc3RhbXAkMSgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSwgcGFkKGQuZ2V0TWludXRlcygpKSwgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufSAvLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5cblxuZnVuY3Rpb24gbG9nKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCQxKCksIGZvcm1hdC5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbn1cbmZ1bmN0aW9uIF9leHRlbmQob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cblxuICByZXR1cm4gb3JpZ2luO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG52YXIgdXRpbCA9IHtcbiAgaW5oZXJpdHM6IGluaGVyaXRzJDEsXG4gIF9leHRlbmQ6IF9leHRlbmQsXG4gIGxvZzogbG9nLFxuICBpc0J1ZmZlcjogaXNCdWZmZXIsXG4gIGlzUHJpbWl0aXZlOiBpc1ByaW1pdGl2ZSxcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNFcnJvcjogaXNFcnJvcixcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzT2JqZWN0OiBpc09iamVjdCxcbiAgaXNSZWdFeHA6IGlzUmVnRXhwLFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzU3ltYm9sOiBpc1N5bWJvbCxcbiAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICBpc051bWJlcjogaXNOdW1iZXIsXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBpc051bGxPclVuZGVmaW5lZCxcbiAgaXNOdWxsOiBpc051bGwsXG4gIGlzQm9vbGVhbjogaXNCb29sZWFuLFxuICBpc0FycmF5OiBpc0FycmF5LFxuICBpbnNwZWN0OiBpbnNwZWN0LFxuICBkZXByZWNhdGU6IGRlcHJlY2F0ZSxcbiAgZm9ybWF0OiBmb3JtYXQsXG4gIGRlYnVnbG9nOiBkZWJ1Z2xvZ1xufTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDIoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQyKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDIoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQyKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkMihDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEJ1ZmZlciQxID0gYnVmZmVyLkJ1ZmZlcjtcbnZhciByYW5kb21CeXRlcyQxID0gdXRpbHMucmFuZG9tQnl0ZXM7XG52YXIgZGVwcmVjYXRlJDEgPSB1dGlsLmRlcHJlY2F0ZTsgLy8gY29uc3RhbnRzXG5cbnZhciBQUk9DRVNTX1VOSVFVRSA9IHJhbmRvbUJ5dGVzJDEoNSk7IC8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGNoZWNrcyBmb3IgaGV4IHZhbHVlXG5cbnZhciBjaGVja0ZvckhleFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ15bMC05YS1mQS1GXXsyNH0kJyk7XG52YXIgaGFzQnVmZmVyVHlwZSA9IGZhbHNlOyAvLyBDaGVjayBpZiBidWZmZXIgZXhpc3RzXG5cbnRyeSB7XG4gIGlmIChCdWZmZXIkMSAmJiBCdWZmZXIkMS5mcm9tKSBoYXNCdWZmZXJUeXBlID0gdHJ1ZTtcbn0gY2F0Y2ggKGVycikge1xuICBoYXNCdWZmZXJUeXBlID0gZmFsc2U7XG59IC8vIFByZWNvbXB1dGVkIGhleCB0YWJsZSBlbmFibGVzIHNwZWVkeSBoZXggc3RyaW5nIGNvbnZlcnNpb25cblxuXG52YXIgaGV4VGFibGUgPSBbXTtcblxuZm9yICh2YXIgX2kgPSAwOyBfaSA8IDI1NjsgX2krKykge1xuICBoZXhUYWJsZVtfaV0gPSAoX2kgPD0gMTUgPyAnMCcgOiAnJykgKyBfaS50b1N0cmluZygxNik7XG59IC8vIExvb2t1cCB0YWJsZXNcblxuXG52YXIgZGVjb2RlTG9va3VwID0gW107XG52YXIgaSA9IDA7XG5cbndoaWxlIChpIDwgMTApIHtcbiAgZGVjb2RlTG9va3VwWzB4MzAgKyBpXSA9IGkrKztcbn1cblxud2hpbGUgKGkgPCAxNikge1xuICBkZWNvZGVMb29rdXBbMHg0MSAtIDEwICsgaV0gPSBkZWNvZGVMb29rdXBbMHg2MSAtIDEwICsgaV0gPSBpKys7XG59XG5cbnZhciBfQnVmZmVyID0gQnVmZmVyJDE7XG5cbmZ1bmN0aW9uIGNvbnZlcnRUb0hleChieXRlcykge1xuICByZXR1cm4gYnl0ZXMudG9TdHJpbmcoJ2hleCcpO1xufVxuXG5mdW5jdGlvbiBtYWtlT2JqZWN0SWRFcnJvcihpbnZhbGlkU3RyaW5nLCBpbmRleCkge1xuICB2YXIgaW52YWxpZENoYXJhY3RlciA9IGludmFsaWRTdHJpbmdbaW5kZXhdO1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIk9iamVjdElkIHN0cmluZyBcXFwiXCIuY29uY2F0KGludmFsaWRTdHJpbmcsIFwiXFxcIiBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlciBcXFwiXCIpLmNvbmNhdChpbnZhbGlkQ2hhcmFjdGVyLCBcIlxcXCIgd2l0aCBjaGFyYWN0ZXIgY29kZSAoXCIpLmNvbmNhdChpbnZhbGlkU3RyaW5nLmNoYXJDb2RlQXQoaW5kZXgpLCBcIikuIEFsbCBjaGFyYWN0ZXIgY29kZXMgZm9yIGEgbm9uLWhleCBzdHJpbmcgbXVzdCBiZSBsZXNzIHRoYW4gMjU2LlwiKSk7XG59XG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gT2JqZWN0SWQgdHlwZS5cbiAqL1xuXG5cbnZhciBPYmplY3RJZCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gT2JqZWN0SWQgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0geyhzdHJpbmd8QnVmZmVyfG51bWJlcil9IGlkIENhbiBiZSBhIDI0IGJ5dGUgaGV4IHN0cmluZywgMTIgYnl0ZSBiaW5hcnkgQnVmZmVyLCBvciBhIE51bWJlci5cbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IGdlbmVyYXRpb25UaW1lIFRoZSBnZW5lcmF0aW9uIHRpbWUgb2YgdGhpcyBPYmplY3RJZCBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtPYmplY3RJZH0gaW5zdGFuY2Ugb2YgT2JqZWN0SWQuXG4gICAqL1xuICBmdW5jdGlvbiBPYmplY3RJZChpZCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQyKHRoaXMsIE9iamVjdElkKTtcblxuICAgIC8vIER1Y2stdHlwaW5nIHRvIHN1cHBvcnQgT2JqZWN0SWQgZnJvbSBkaWZmZXJlbnQgbnBtIHBhY2thZ2VzXG4gICAgaWYgKGlkIGluc3RhbmNlb2YgT2JqZWN0SWQpIHJldHVybiBpZDsgLy8gVGhlIG1vc3QgY29tbW9uIHVzZWNhc2UgKGJsYW5rIGlkLCBuZXcgb2JqZWN0SWQgaW5zdGFuY2UpXG5cbiAgICBpZiAoaWQgPT0gbnVsbCB8fCB0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBpZFxuICAgICAgdGhpcy5pZCA9IE9iamVjdElkLmdlbmVyYXRlKGlkKTsgLy8gSWYgd2UgYXJlIGNhY2hpbmcgdGhlIGhleCBzdHJpbmdcblxuICAgICAgaWYgKE9iamVjdElkLmNhY2hlSGV4U3RyaW5nKSB0aGlzLl9faWQgPSB0aGlzLnRvU3RyaW5nKCdoZXgnKTsgLy8gUmV0dXJuIHRoZSBvYmplY3RcblxuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ2hlY2sgaWYgdGhlIHBhc3NlZCBpbiBpZCBpcyB2YWxpZFxuXG5cbiAgICB2YXIgdmFsaWQgPSBPYmplY3RJZC5pc1ZhbGlkKGlkKTsgLy8gVGhyb3cgYW4gZXJyb3IgaWYgaXQncyBub3QgYSB2YWxpZCBzZXR1cFxuXG4gICAgaWYgKCF2YWxpZCAmJiBpZCAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBwYXNzZWQgaW4gbXVzdCBiZSBhIHNpbmdsZSBTdHJpbmcgb2YgMTIgYnl0ZXMgb3IgYSBzdHJpbmcgb2YgMjQgaGV4IGNoYXJhY3RlcnMnKTtcbiAgICB9IGVsc2UgaWYgKHZhbGlkICYmIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycgJiYgaWQubGVuZ3RoID09PSAyNCAmJiBoYXNCdWZmZXJUeXBlKSB7XG4gICAgICByZXR1cm4gbmV3IE9iamVjdElkKEJ1ZmZlciQxLmZyb20oaWQsICdoZXgnKSk7XG4gICAgfSBlbHNlIGlmICh2YWxpZCAmJiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmIGlkLmxlbmd0aCA9PT0gMjQpIHtcbiAgICAgIHJldHVybiBPYmplY3RJZC5jcmVhdGVGcm9tSGV4U3RyaW5nKGlkKTtcbiAgICB9IGVsc2UgaWYgKGlkICE9IG51bGwgJiYgaWQubGVuZ3RoID09PSAxMikge1xuICAgICAgLy8gYXNzdW1lIDEyIGJ5dGUgc3RyaW5nXG4gICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfSBlbHNlIGlmIChpZCAhPSBudWxsICYmIGlkLnRvSGV4U3RyaW5nKSB7XG4gICAgICAvLyBEdWNrLXR5cGluZyB0byBzdXBwb3J0IE9iamVjdElkIGZyb20gZGlmZmVyZW50IG5wbSBwYWNrYWdlc1xuICAgICAgcmV0dXJuIE9iamVjdElkLmNyZWF0ZUZyb21IZXhTdHJpbmcoaWQudG9IZXhTdHJpbmcoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgc2luZ2xlIFN0cmluZyBvZiAxMiBieXRlcyBvciBhIHN0cmluZyBvZiAyNCBoZXggY2hhcmFjdGVycycpO1xuICAgIH1cblxuICAgIGlmIChPYmplY3RJZC5jYWNoZUhleFN0cmluZykgdGhpcy5fX2lkID0gdGhpcy50b1N0cmluZygnaGV4Jyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgT2JqZWN0SWQgaWQgYXMgYSAyNCBieXRlIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICpcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHJldHVybiB0aGUgMjQgYnl0ZSBoZXggc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQyKE9iamVjdElkLCBbe1xuICAgIGtleTogXCJ0b0hleFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0hleFN0cmluZygpIHtcbiAgICAgIGlmIChPYmplY3RJZC5jYWNoZUhleFN0cmluZyAmJiB0aGlzLl9faWQpIHJldHVybiB0aGlzLl9faWQ7XG4gICAgICB2YXIgaGV4U3RyaW5nID0gJyc7XG5cbiAgICAgIGlmICghdGhpcy5pZCB8fCAhdGhpcy5pZC5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBPYmplY3RJZCwgT2JqZWN0SWQuaWQgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgb3IgYSBCdWZmZXIsIGJ1dCBpcyBbJyArIEpTT04uc3RyaW5naWZ5KHRoaXMuaWQpICsgJ10nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaWQgaW5zdGFuY2VvZiBfQnVmZmVyKSB7XG4gICAgICAgIGhleFN0cmluZyA9IGNvbnZlcnRUb0hleCh0aGlzLmlkKTtcbiAgICAgICAgaWYgKE9iamVjdElkLmNhY2hlSGV4U3RyaW5nKSB0aGlzLl9faWQgPSBoZXhTdHJpbmc7XG4gICAgICAgIHJldHVybiBoZXhTdHJpbmc7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHRoaXMuaWQubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICB2YXIgaGV4Q2hhciA9IGhleFRhYmxlW3RoaXMuaWQuY2hhckNvZGVBdChfaTIpXTtcblxuICAgICAgICBpZiAodHlwZW9mIGhleENoYXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgbWFrZU9iamVjdElkRXJyb3IodGhpcy5pZCwgX2kyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhleFN0cmluZyArPSBoZXhDaGFyO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0SWQuY2FjaGVIZXhTdHJpbmcpIHRoaXMuX19pZCA9IGhleFN0cmluZztcbiAgICAgIHJldHVybiBoZXhTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgT2JqZWN0SWQgaW5kZXggdXNlZCBpbiBnZW5lcmF0aW5nIG5ldyBPYmplY3RJZCdzIG9uIHRoZSBkcml2ZXJcbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybnMgbmV4dCBpbmRleCB2YWx1ZS5cbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b1N0cmluZ1wiLFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGlkIGludG8gYSAyNCBieXRlIGhleCBzdHJpbmcgZm9yIHByaW50aW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0IFRoZSBCdWZmZXIgdG9TdHJpbmcgZm9ybWF0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybiB0aGUgMjQgYnl0ZSBoZXggc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoZm9ybWF0KSB7XG4gICAgICAvLyBJcyB0aGUgaWQgYSBidWZmZXIgdGhlbiB1c2UgdGhlIGJ1ZmZlciB0b1N0cmluZyBtZXRob2QgdG8gcmV0dXJuIHRoZSBmb3JtYXRcbiAgICAgIGlmICh0aGlzLmlkICYmIHRoaXMuaWQuY29weSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZC50b1N0cmluZyh0eXBlb2YgZm9ybWF0ID09PSAnc3RyaW5nJyA/IGZvcm1hdCA6ICdoZXgnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdG8gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybiB0aGUgMjQgYnl0ZSBoZXggc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0hleFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB0aGUgZXF1YWxpdHkgb2YgdGhpcyBPYmplY3RJZCB3aXRoIGBvdGhlcklEYC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3RoZXJJZCBPYmplY3RJZCBpbnN0YW5jZSB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiBjb21wYXJpbmcgdHdvIE9iamVjdElkJ3NcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVxdWFsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcXVhbHMob3RoZXJJZCkge1xuICAgICAgaWYgKG90aGVySWQgaW5zdGFuY2VvZiBPYmplY3RJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpID09PSBvdGhlcklkLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXJJZCA9PT0gJ3N0cmluZycgJiYgT2JqZWN0SWQuaXNWYWxpZChvdGhlcklkKSAmJiBvdGhlcklkLmxlbmd0aCA9PT0gMTIgJiYgdGhpcy5pZCBpbnN0YW5jZW9mIF9CdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVySWQgPT09IHRoaXMuaWQudG9TdHJpbmcoJ2JpbmFyeScpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG90aGVySWQgPT09ICdzdHJpbmcnICYmIE9iamVjdElkLmlzVmFsaWQob3RoZXJJZCkgJiYgb3RoZXJJZC5sZW5ndGggPT09IDI0KSB7XG4gICAgICAgIHJldHVybiBvdGhlcklkLnRvTG93ZXJDYXNlKCkgPT09IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvdGhlcklkID09PSAnc3RyaW5nJyAmJiBPYmplY3RJZC5pc1ZhbGlkKG90aGVySWQpICYmIG90aGVySWQubGVuZ3RoID09PSAxMikge1xuICAgICAgICByZXR1cm4gb3RoZXJJZCA9PT0gdGhpcy5pZDtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVySWQgIT0gbnVsbCAmJiAob3RoZXJJZCBpbnN0YW5jZW9mIE9iamVjdElkIHx8IG90aGVySWQudG9IZXhTdHJpbmcpKSB7XG4gICAgICAgIHJldHVybiBvdGhlcklkLnRvSGV4U3RyaW5nKCkgPT09IHRoaXMudG9IZXhTdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnZW5lcmF0aW9uIGRhdGUgKGFjY3VyYXRlIHVwIHRvIHRoZSBzZWNvbmQpIHRoYXQgdGhpcyBJRCB3YXMgZ2VuZXJhdGVkLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEByZXR1cm4ge0RhdGV9IHRoZSBnZW5lcmF0aW9uIGRhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFRpbWVzdGFtcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUaW1lc3RhbXAoKSB7XG4gICAgICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciB0aW1lID0gdGhpcy5pZC5yZWFkVUludDMyQkUoMCk7XG4gICAgICB0aW1lc3RhbXAuc2V0VGltZShNYXRoLmZsb29yKHRpbWUpICogMTAwMCk7XG4gICAgICByZXR1cm4gdGltZXN0YW1wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuXG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIGlmICh0aGlzLnRvSGV4U3RyaW5nKSByZXR1cm4ge1xuICAgICAgICAkb2lkOiB0aGlzLnRvSGV4U3RyaW5nKClcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkb2lkOiB0aGlzLnRvU3RyaW5nKCdoZXgnKVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJnZXRJbmNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5jKCkge1xuICAgICAgcmV0dXJuIE9iamVjdElkLmluZGV4ID0gKE9iamVjdElkLmluZGV4ICsgMSkgJSAweGZmZmZmZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSAxMiBieXRlIGlkIGJ1ZmZlciB1c2VkIGluIE9iamVjdElkJ3NcbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVdIG9wdGlvbmFsIHBhcmFtZXRlciBhbGxvd2luZyB0byBwYXNzIGluIGEgc2Vjb25kIGJhc2VkIHRpbWVzdGFtcC5cbiAgICAgKiBAcmV0dXJuIHtCdWZmZXJ9IHJldHVybiB0aGUgMTIgYnl0ZSBpZCBidWZmZXIgc3RyaW5nLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2VuZXJhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGUodGltZSkge1xuICAgICAgaWYgKCdudW1iZXInICE9PSB0eXBlb2YgdGltZSkge1xuICAgICAgICB0aW1lID0gfn4oRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5jID0gT2JqZWN0SWQuZ2V0SW5jKCk7XG4gICAgICB2YXIgYnVmZmVyJCQxID0gQnVmZmVyJDEuYWxsb2MoMTIpOyAvLyA0LWJ5dGUgdGltZXN0YW1wXG5cbiAgICAgIGJ1ZmZlciQkMVszXSA9IHRpbWUgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzJdID0gdGltZSA+PiA4ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVsxXSA9IHRpbWUgPj4gMTYgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxWzBdID0gdGltZSA+PiAyNCAmIDB4ZmY7IC8vIDUtYnl0ZSBwcm9jZXNzIHVuaXF1ZVxuXG4gICAgICBidWZmZXIkJDFbNF0gPSBQUk9DRVNTX1VOSVFVRVswXTtcbiAgICAgIGJ1ZmZlciQkMVs1XSA9IFBST0NFU1NfVU5JUVVFWzFdO1xuICAgICAgYnVmZmVyJCQxWzZdID0gUFJPQ0VTU19VTklRVUVbMl07XG4gICAgICBidWZmZXIkJDFbN10gPSBQUk9DRVNTX1VOSVFVRVszXTtcbiAgICAgIGJ1ZmZlciQkMVs4XSA9IFBST0NFU1NfVU5JUVVFWzRdOyAvLyAzLWJ5dGUgY291bnRlclxuXG4gICAgICBidWZmZXIkJDFbMTFdID0gaW5jICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVsxMF0gPSBpbmMgPj4gOCAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbOV0gPSBpbmMgPj4gMTYgJiAweGZmO1xuICAgICAgcmV0dXJuIGJ1ZmZlciQkMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlUGtcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlUGsoKSB7XG4gICAgICByZXR1cm4gbmV3IE9iamVjdElkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT2JqZWN0SWQgZnJvbSBhIHNlY29uZCBiYXNlZCBudW1iZXIsIHdpdGggdGhlIHJlc3Qgb2YgdGhlIE9iamVjdElkIHplcm9lZCBvdXQuIFVzZWQgZm9yIGNvbXBhcmlzb25zIG9yIHNvcnRpbmcgdGhlIE9iamVjdElkLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIGFuIGludGVnZXIgbnVtYmVyIHJlcHJlc2VudGluZyBhIG51bWJlciBvZiBzZWNvbmRzLlxuICAgICAqIEByZXR1cm4ge09iamVjdElkfSByZXR1cm4gdGhlIGNyZWF0ZWQgT2JqZWN0SWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUZyb21UaW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZyb21UaW1lKHRpbWUpIHtcbiAgICAgIHZhciBidWZmZXIkJDEgPSBCdWZmZXIkMS5mcm9tKFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSk7IC8vIEVuY29kZSB0aW1lIGludG8gZmlyc3QgNCBieXRlc1xuXG4gICAgICBidWZmZXIkJDFbM10gPSB0aW1lICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVsyXSA9IHRpbWUgPj4gOCAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbMV0gPSB0aW1lID4+IDE2ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVswXSA9IHRpbWUgPj4gMjQgJiAweGZmOyAvLyBSZXR1cm4gdGhlIG5ldyBvYmplY3RJZFxuXG4gICAgICByZXR1cm4gbmV3IE9iamVjdElkKGJ1ZmZlciQkMSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT2JqZWN0SWQgZnJvbSBhIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gT2JqZWN0SWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhleFN0cmluZyBjcmVhdGUgYSBPYmplY3RJZCBmcm9tIGEgcGFzc2VkIGluIDI0IGJ5dGUgaGV4c3RyaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdElkfSByZXR1cm4gdGhlIGNyZWF0ZWQgT2JqZWN0SWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUZyb21IZXhTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlRnJvbUhleFN0cmluZyhzdHJpbmcpIHtcbiAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIGl0J3Mgbm90IGEgdmFsaWQgc2V0dXBcbiAgICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAndW5kZWZpbmVkJyB8fCBzdHJpbmcgIT0gbnVsbCAmJiBzdHJpbmcubGVuZ3RoICE9PSAyNCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBwYXNzZWQgaW4gbXVzdCBiZSBhIHNpbmdsZSBTdHJpbmcgb2YgMTIgYnl0ZXMgb3IgYSBzdHJpbmcgb2YgMjQgaGV4IGNoYXJhY3RlcnMnKTtcbiAgICAgIH0gLy8gVXNlIEJ1ZmZlci5mcm9tIG1ldGhvZCBpZiBhdmFpbGFibGVcblxuXG4gICAgICBpZiAoaGFzQnVmZmVyVHlwZSkgcmV0dXJuIG5ldyBPYmplY3RJZChCdWZmZXIkMS5mcm9tKHN0cmluZywgJ2hleCcpKTsgLy8gQ2FsY3VsYXRlIGxlbmd0aHNcblxuICAgICAgdmFyIGFycmF5ID0gbmV3IF9CdWZmZXIoMTIpO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IDI0KSB7XG4gICAgICAgIGFycmF5W24rK10gPSBkZWNvZGVMb29rdXBbc3RyaW5nLmNoYXJDb2RlQXQoaSsrKV0gPDwgNCB8IGRlY29kZUxvb2t1cFtzdHJpbmcuY2hhckNvZGVBdChpKyspXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBPYmplY3RJZChhcnJheSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHZhbHVlIGlzIGEgdmFsaWQgYnNvbiBPYmplY3RJZFxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIGJzb24gT2JqZWN0SWQsIHJldHVybiBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1ZhbGlkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWQoaWQpIHtcbiAgICAgIGlmIChpZCA9PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaWQubGVuZ3RoID09PSAxMiB8fCBpZC5sZW5ndGggPT09IDI0ICYmIGNoZWNrRm9ySGV4UmVnRXhwLnRlc3QoaWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaWQgaW5zdGFuY2VvZiBPYmplY3RJZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlkIGluc3RhbmNlb2YgX0J1ZmZlciAmJiBpZC5sZW5ndGggPT09IDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSAvLyBEdWNrLVR5cGluZyBkZXRlY3Rpb24gb2YgT2JqZWN0SWQgbGlrZSBvYmplY3RzXG5cblxuICAgICAgaWYgKGlkLnRvSGV4U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBpZC5pZC5sZW5ndGggPT09IDEyIHx8IGlkLmlkLmxlbmd0aCA9PT0gMjQgJiYgY2hlY2tGb3JIZXhSZWdFeHAudGVzdChpZC5pZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYykge1xuICAgICAgcmV0dXJuIG5ldyBPYmplY3RJZChkb2MuJG9pZCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE9iamVjdElkO1xufSgpOyAvLyBEZXByZWNhdGVkIG1ldGhvZHNcblxuXG5PYmplY3RJZC5nZXRfaW5jID0gZGVwcmVjYXRlJDEoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0SWQuZ2V0SW5jKCk7XG59LCAnUGxlYXNlIHVzZSB0aGUgc3RhdGljIGBPYmplY3RJZC5nZXRJbmMoKWAgaW5zdGVhZCcpO1xuT2JqZWN0SWQucHJvdG90eXBlLmdldF9pbmMgPSBkZXByZWNhdGUkMShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3RJZC5nZXRJbmMoKTtcbn0sICdQbGVhc2UgdXNlIHRoZSBzdGF0aWMgYE9iamVjdElkLmdldEluYygpYCBpbnN0ZWFkJyk7XG5PYmplY3RJZC5wcm90b3R5cGUuZ2V0SW5jID0gZGVwcmVjYXRlJDEoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0SWQuZ2V0SW5jKCk7XG59LCAnUGxlYXNlIHVzZSB0aGUgc3RhdGljIGBPYmplY3RJZC5nZXRJbmMoKWAgaW5zdGVhZCcpO1xuT2JqZWN0SWQucHJvdG90eXBlLmdlbmVyYXRlID0gZGVwcmVjYXRlJDEoZnVuY3Rpb24gKHRpbWUpIHtcbiAgcmV0dXJuIE9iamVjdElkLmdlbmVyYXRlKHRpbWUpO1xufSwgJ1BsZWFzZSB1c2UgdGhlIHN0YXRpYyBgT2JqZWN0SWQuZ2VuZXJhdGUodGltZSlgIGluc3RlYWQnKTtcbi8qKlxuICogQGlnbm9yZVxuICovXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3RJZC5wcm90b3R5cGUsICdnZW5lcmF0aW9uVGltZScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWRbM10gfCB0aGlzLmlkWzJdIDw8IDggfCB0aGlzLmlkWzFdIDw8IDE2IHwgdGhpcy5pZFswXSA8PCAyNDtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAvLyBFbmNvZGUgdGltZSBpbnRvIGZpcnN0IDQgYnl0ZXNcbiAgICB0aGlzLmlkWzNdID0gdmFsdWUgJiAweGZmO1xuICAgIHRoaXMuaWRbMl0gPSB2YWx1ZSA+PiA4ICYgMHhmZjtcbiAgICB0aGlzLmlkWzFdID0gdmFsdWUgPj4gMTYgJiAweGZmO1xuICAgIHRoaXMuaWRbMF0gPSB2YWx1ZSA+PiAyNCAmIDB4ZmY7XG4gIH1cbn0pO1xuLyoqXG4gKiBDb252ZXJ0cyB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIElkLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJuIHRoZSAyNCBieXRlIGhleCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKiBAaWdub3JlXG4gKi9cblxuT2JqZWN0SWQucHJvdG90eXBlW3V0aWwuaW5zcGVjdC5jdXN0b20gfHwgJ2luc3BlY3QnXSA9IE9iamVjdElkLnByb3RvdHlwZS50b1N0cmluZztcbi8qKlxuICogQGlnbm9yZVxuICovXG5cbk9iamVjdElkLmluZGV4ID0gfn4oTWF0aC5yYW5kb20oKSAqIDB4ZmZmZmZmKTsgLy8gSW4gNC4wLjAgYW5kIDQuMC4xLCB0aGlzIHByb3BlcnR5IG5hbWUgd2FzIGNoYW5nZWQgdG8gT2JqZWN0SWQgdG8gbWF0Y2ggdGhlIGNsYXNzIG5hbWUuXG4vLyBUaGlzIGNhdXNlZCBpbnRlcm9wZXJhYmlsaXR5IHByb2JsZW1zIHdpdGggcHJldmlvdXMgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnksIHNvIGluXG4vLyBsYXRlciBidWlsZHMgd2UgY2hhbmdlZCBpdCBiYWNrIHRvIE9iamVjdElEIChjYXBpdGFsIEQpIHRvIG1hdGNoIGxlZ2FjeSBpbXBsZW1lbnRhdGlvbnMuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3RJZC5wcm90b3R5cGUsICdfYnNvbnR5cGUnLCB7XG4gIHZhbHVlOiAnT2JqZWN0SUQnXG59KTtcbnZhciBvYmplY3RpZCA9IE9iamVjdElkO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skMyhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkMyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBhbHBoYWJldGl6ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnJykuc29ydCgpLmpvaW4oJycpO1xufVxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBCU09OIFJlZ0V4cCB0eXBlLlxuICovXG5cblxudmFyIEJTT05SZWdFeHAgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgUmVnRXhwIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdHRlcm4gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuIHRvIG1hdGNoXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gQlNPTlJlZ0V4cChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDModGhpcywgQlNPTlJlZ0V4cCk7XG5cbiAgICAvLyBFeGVjdXRlXG4gICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybiB8fCAnJztcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID8gYWxwaGFiZXRpemUob3B0aW9ucykgOiAnJzsgLy8gVmFsaWRhdGUgb3B0aW9uc1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghKHRoaXMub3B0aW9uc1tpXSA9PT0gJ2knIHx8IHRoaXMub3B0aW9uc1tpXSA9PT0gJ20nIHx8IHRoaXMub3B0aW9uc1tpXSA9PT0gJ3gnIHx8IHRoaXMub3B0aW9uc1tpXSA9PT0gJ2wnIHx8IHRoaXMub3B0aW9uc1tpXSA9PT0gJ3MnIHx8IHRoaXMub3B0aW9uc1tpXSA9PT0gJ3UnKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVndWxhciBleHByZXNzaW9uIG9wdGlvbiBbXCIuY29uY2F0KHRoaXMub3B0aW9uc1tpXSwgXCJdIGlzIG5vdCBzdXBwb3J0ZWRcIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQzKEJTT05SZWdFeHAsIFt7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJHJlZ3VsYXJFeHByZXNzaW9uOiB7XG4gICAgICAgICAgcGF0dGVybjogdGhpcy5wYXR0ZXJuLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9uc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MpIHtcbiAgICAgIHJldHVybiBuZXcgQlNPTlJlZ0V4cChkb2MuJHJlZ3VsYXJFeHByZXNzaW9uLnBhdHRlcm4sIGRvYy4kcmVndWxhckV4cHJlc3Npb24ub3B0aW9ucy5zcGxpdCgnJykuc29ydCgpLmpvaW4oJycpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQlNPTlJlZ0V4cDtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEJTT05SZWdFeHAucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0JTT05SZWdFeHAnXG59KTtcbnZhciByZWdleHAgPSBCU09OUmVnRXhwO1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gU3ltYm9sIHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDQoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQ0KHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDQoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ0KENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkNChDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEJTT05TeW1ib2wgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgU3ltYm9sIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIHRoZSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBCU09OU3ltYm9sKHZhbHVlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDQodGhpcywgQlNPTlN5bWJvbCk7XG5cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjY2VzcyB0aGUgd3JhcHBlZCBzdHJpbmcgdmFsdWUuXG4gICAqXG4gICAqIEBtZXRob2RcbiAgICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSB3cmFwcGVkIHN0cmluZy5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkNChCU09OU3ltYm9sLCBbe1xuICAgIGtleTogXCJ2YWx1ZU9mXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW5zcGVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkc3ltYm9sOiB0aGlzLnZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MpIHtcbiAgICAgIHJldHVybiBuZXcgQlNPTlN5bWJvbChkb2MuJHN5bWJvbCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJTT05TeW1ib2w7XG59KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCU09OU3ltYm9sLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdTeW1ib2wnXG59KTtcbnZhciBzeW1ib2wgPSBCU09OU3ltYm9sO1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgYSBCU09OIEludDMyIHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDUoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQ1KHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDUoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ1KENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkNShDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIEludDMyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBJbnQzMiB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSB0aGUgbnVtYmVyIHdlIHdhbnQgdG8gcmVwcmVzZW50IGFzIGFuIGludDMyLlxuICAgKiBAcmV0dXJuIHtJbnQzMn1cbiAgICovXG4gIGZ1bmN0aW9uIEludDMyKHZhbHVlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDUodGhpcywgSW50MzIpO1xuXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBBY2Nlc3MgdGhlIG51bWJlciB2YWx1ZS5cbiAgICpcbiAgICogQG1ldGhvZFxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IHJldHVybnMgdGhlIHdyYXBwZWQgaW50MzIgbnVtYmVyLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQ1KEludDMyLCBbe1xuICAgIGtleTogXCJ2YWx1ZU9mXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlT2YoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlbGF4ZWQpIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJG51bWJlckludDogdGhpcy52YWx1ZS50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTihkb2MsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMucmVsYXhlZCA/IHBhcnNlSW50KGRvYy4kbnVtYmVySW50LCAxMCkgOiBuZXcgSW50MzIoZG9jLiRudW1iZXJJbnQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJbnQzMjtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEludDMyLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdJbnQzMidcbn0pO1xudmFyIGludF8zMiA9IEludDMyO1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gQ29kZSB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayQ2KGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMkNih0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyQ2KENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMkNihDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDYoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBDb2RlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIENvZGUgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24pfSBjb2RlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Njb3BlXSBhbiBvcHRpb25hbCBzY29wZSBmb3IgdGhlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtDb2RlfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29kZShjb2RlLCBzY29wZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayQ2KHRoaXMsIENvZGUpO1xuXG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gIH1cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkNihDb2RlLCBbe1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NvcGU6IHRoaXMuc2NvcGUsXG4gICAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICBpZiAodGhpcy5zY29wZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICRjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgICAgJHNjb3BlOiB0aGlzLnNjb3BlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgICRjb2RlOiB0aGlzLmNvZGVcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKGRvYykge1xuICAgICAgcmV0dXJuIG5ldyBDb2RlKGRvYy4kY29kZSwgZG9jLiRzY29wZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENvZGU7XG59KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb2RlLnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdDb2RlJ1xufSk7XG52YXIgY29kZSA9IENvZGU7XG5cbnZhciBCdWZmZXIkMiA9IGJ1ZmZlci5CdWZmZXI7XG52YXIgUEFSU0VfU1RSSU5HX1JFR0VYUCA9IC9eKFxcK3wtKT8oXFxkK3woXFxkKlxcLlxcZCopKT8oRXxlKT8oWy0rXSk/KFxcZCspPyQvO1xudmFyIFBBUlNFX0lORl9SRUdFWFAgPSAvXihcXCt8LSk/KEluZmluaXR5fGluZikkL2k7XG52YXIgUEFSU0VfTkFOX1JFR0VYUCA9IC9eKFxcK3wtKT9OYU4kL2k7XG52YXIgRVhQT05FTlRfTUFYID0gNjExMTtcbnZhciBFWFBPTkVOVF9NSU4gPSAtNjE3NjtcbnZhciBFWFBPTkVOVF9CSUFTID0gNjE3NjtcbnZhciBNQVhfRElHSVRTID0gMzQ7IC8vIE5hbiB2YWx1ZSBiaXRzIGFzIDMyIGJpdCB2YWx1ZXMgKGR1ZSB0byBsYWNrIG9mIGxvbmdzKVxuXG52YXIgTkFOX0JVRkZFUiA9IFsweDdjLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwXS5yZXZlcnNlKCk7IC8vIEluZmluaXR5IHZhbHVlIGJpdHMgMzIgYml0IHZhbHVlcyAoZHVlIHRvIGxhY2sgb2YgbG9uZ3MpXG5cbnZhciBJTkZfTkVHQVRJVkVfQlVGRkVSID0gWzB4ZjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdLnJldmVyc2UoKTtcbnZhciBJTkZfUE9TSVRJVkVfQlVGRkVSID0gWzB4NzgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdLnJldmVyc2UoKTtcbnZhciBFWFBPTkVOVF9SRUdFWCA9IC9eKFstK10pPyhcXGQrKT8kLzsgLy8gRGV0ZWN0IGlmIHRoZSB2YWx1ZSBpcyBhIGRpZ2l0XG5cbmZ1bmN0aW9uIGlzRGlnaXQodmFsdWUpIHtcbiAgcmV0dXJuICFpc05hTihwYXJzZUludCh2YWx1ZSwgMTApKTtcbn0gLy8gRGl2aWRlIHR3byB1aW50MTI4IHZhbHVlc1xuXG5cbmZ1bmN0aW9uIGRpdmlkZXUxMjgodmFsdWUpIHtcbiAgdmFyIERJVklTT1IgPSBsb25nXzEuZnJvbU51bWJlcigxMDAwICogMTAwMCAqIDEwMDApO1xuXG4gIHZhciBfcmVtID0gbG9uZ18xLmZyb21OdW1iZXIoMCk7XG5cbiAgaWYgKCF2YWx1ZS5wYXJ0c1swXSAmJiAhdmFsdWUucGFydHNbMV0gJiYgIXZhbHVlLnBhcnRzWzJdICYmICF2YWx1ZS5wYXJ0c1szXSkge1xuICAgIHJldHVybiB7XG4gICAgICBxdW90aWVudDogdmFsdWUsXG4gICAgICByZW06IF9yZW1cbiAgICB9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMzsgaSsrKSB7XG4gICAgLy8gQWRqdXN0IHJlbWFpbmRlciB0byBtYXRjaCB2YWx1ZSBvZiBuZXh0IGRpdmlkZW5kXG4gICAgX3JlbSA9IF9yZW0uc2hpZnRMZWZ0KDMyKTsgLy8gQWRkIHRoZSBkaXZpZGVkIHRvIF9yZW1cblxuICAgIF9yZW0gPSBfcmVtLmFkZChuZXcgbG9uZ18xKHZhbHVlLnBhcnRzW2ldLCAwKSk7XG4gICAgdmFsdWUucGFydHNbaV0gPSBfcmVtLmRpdihESVZJU09SKS5sb3c7XG4gICAgX3JlbSA9IF9yZW0ubW9kdWxvKERJVklTT1IpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBxdW90aWVudDogdmFsdWUsXG4gICAgcmVtOiBfcmVtXG4gIH07XG59IC8vIE11bHRpcGx5IHR3byBMb25nIHZhbHVlcyBhbmQgcmV0dXJuIHRoZSAxMjggYml0IHZhbHVlXG5cblxuZnVuY3Rpb24gbXVsdGlwbHk2NHgyKGxlZnQsIHJpZ2h0KSB7XG4gIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlnaDogbG9uZ18xLmZyb21OdW1iZXIoMCksXG4gICAgICBsb3c6IGxvbmdfMS5mcm9tTnVtYmVyKDApXG4gICAgfTtcbiAgfVxuXG4gIHZhciBsZWZ0SGlnaCA9IGxlZnQuc2hpZnRSaWdodFVuc2lnbmVkKDMyKTtcbiAgdmFyIGxlZnRMb3cgPSBuZXcgbG9uZ18xKGxlZnQuZ2V0TG93Qml0cygpLCAwKTtcbiAgdmFyIHJpZ2h0SGlnaCA9IHJpZ2h0LnNoaWZ0UmlnaHRVbnNpZ25lZCgzMik7XG4gIHZhciByaWdodExvdyA9IG5ldyBsb25nXzEocmlnaHQuZ2V0TG93Qml0cygpLCAwKTtcbiAgdmFyIHByb2R1Y3RIaWdoID0gbGVmdEhpZ2gubXVsdGlwbHkocmlnaHRIaWdoKTtcbiAgdmFyIHByb2R1Y3RNaWQgPSBsZWZ0SGlnaC5tdWx0aXBseShyaWdodExvdyk7XG4gIHZhciBwcm9kdWN0TWlkMiA9IGxlZnRMb3cubXVsdGlwbHkocmlnaHRIaWdoKTtcbiAgdmFyIHByb2R1Y3RMb3cgPSBsZWZ0TG93Lm11bHRpcGx5KHJpZ2h0TG93KTtcbiAgcHJvZHVjdEhpZ2ggPSBwcm9kdWN0SGlnaC5hZGQocHJvZHVjdE1pZC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKTtcbiAgcHJvZHVjdE1pZCA9IG5ldyBsb25nXzEocHJvZHVjdE1pZC5nZXRMb3dCaXRzKCksIDApLmFkZChwcm9kdWN0TWlkMikuYWRkKHByb2R1Y3RMb3cuc2hpZnRSaWdodFVuc2lnbmVkKDMyKSk7XG4gIHByb2R1Y3RIaWdoID0gcHJvZHVjdEhpZ2guYWRkKHByb2R1Y3RNaWQuc2hpZnRSaWdodFVuc2lnbmVkKDMyKSk7XG4gIHByb2R1Y3RMb3cgPSBwcm9kdWN0TWlkLnNoaWZ0TGVmdCgzMikuYWRkKG5ldyBsb25nXzEocHJvZHVjdExvdy5nZXRMb3dCaXRzKCksIDApKTsgLy8gUmV0dXJuIHRoZSAxMjggYml0IHJlc3VsdFxuXG4gIHJldHVybiB7XG4gICAgaGlnaDogcHJvZHVjdEhpZ2gsXG4gICAgbG93OiBwcm9kdWN0TG93XG4gIH07XG59XG5cbmZ1bmN0aW9uIGxlc3NUaGFuKGxlZnQsIHJpZ2h0KSB7XG4gIC8vIE1ha2UgdmFsdWVzIHVuc2lnbmVkXG4gIHZhciB1aGxlZnQgPSBsZWZ0LmhpZ2ggPj4+IDA7XG4gIHZhciB1aHJpZ2h0ID0gcmlnaHQuaGlnaCA+Pj4gMDsgLy8gQ29tcGFyZSBoaWdoIGJpdHMgZmlyc3RcblxuICBpZiAodWhsZWZ0IDwgdWhyaWdodCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHVobGVmdCA9PT0gdWhyaWdodCkge1xuICAgIHZhciB1bGxlZnQgPSBsZWZ0LmxvdyA+Pj4gMDtcbiAgICB2YXIgdWxyaWdodCA9IHJpZ2h0LmxvdyA+Pj4gMDtcbiAgICBpZiAodWxsZWZ0IDwgdWxyaWdodCkgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRFcnIoc3RyaW5nLCBtZXNzYWdlKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJcXFwiXCIuY29uY2F0KHN0cmluZywgXCJcXFwiIGlzIG5vdCBhIHZhbGlkIERlY2ltYWwxMjggc3RyaW5nIC0gXCIpLmNvbmNhdChtZXNzYWdlKSk7XG59XG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gRGVjaW1hbDEyOCB0eXBlLlxuICpcbiAqIEBjbGFzc1xuICogQHBhcmFtIHtCdWZmZXJ9IGJ5dGVzIGEgYnVmZmVyIGNvbnRhaW5pbmcgdGhlIHJhdyBEZWNpbWFsMTI4IGJ5dGVzLlxuICogQHJldHVybiB7RG91YmxlfVxuICovXG5cblxuZnVuY3Rpb24gRGVjaW1hbDEyOChieXRlcykge1xuICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG59XG4vKipcbiAqIENyZWF0ZSBhIERlY2ltYWwxMjggaW5zdGFuY2UgZnJvbSBhIHN0cmluZyByZXByZXNlbnRhdGlvblxuICpcbiAqIEBtZXRob2RcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgYSBudW1lcmljIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqIEByZXR1cm4ge0RlY2ltYWwxMjh9IHJldHVybnMgYSBEZWNpbWFsMTI4IGluc3RhbmNlLlxuICovXG5cblxuRGVjaW1hbDEyOC5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAvLyBQYXJzZSBzdGF0ZSB0cmFja2luZ1xuICB2YXIgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICB2YXIgc2F3UmFkaXggPSBmYWxzZTtcbiAgdmFyIGZvdW5kTm9uWmVybyA9IGZhbHNlOyAvLyBUb3RhbCBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIChubyBsZWFkaW5nIG9yIHRyYWlsaW5nIHplcm8pXG5cbiAgdmFyIHNpZ25pZmljYW50RGlnaXRzID0gMDsgLy8gVG90YWwgbnVtYmVyIG9mIHNpZ25pZmljYW5kIGRpZ2l0cyByZWFkXG5cbiAgdmFyIG5EaWdpdHNSZWFkID0gMDsgLy8gVG90YWwgbnVtYmVyIG9mIGRpZ2l0cyAobm8gbGVhZGluZyB6ZXJvcylcblxuICB2YXIgbkRpZ2l0cyA9IDA7IC8vIFRoZSBudW1iZXIgb2YgdGhlIGRpZ2l0cyBhZnRlciByYWRpeFxuXG4gIHZhciByYWRpeFBvc2l0aW9uID0gMDsgLy8gVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBub24temVybyBpbiAqc3RyKlxuXG4gIHZhciBmaXJzdE5vblplcm8gPSAwOyAvLyBEaWdpdHMgQXJyYXlcblxuICB2YXIgZGlnaXRzID0gWzBdOyAvLyBUaGUgbnVtYmVyIG9mIGRpZ2l0cyBpbiBkaWdpdHNcblxuICB2YXIgbkRpZ2l0c1N0b3JlZCA9IDA7IC8vIEluc2VydGlvbiBwb2ludGVyIGZvciBkaWdpdHNcblxuICB2YXIgZGlnaXRzSW5zZXJ0ID0gMDsgLy8gVGhlIGluZGV4IG9mIHRoZSBmaXJzdCBub24temVybyBkaWdpdFxuXG4gIHZhciBmaXJzdERpZ2l0ID0gMDsgLy8gVGhlIGluZGV4IG9mIHRoZSBsYXN0IGRpZ2l0XG5cbiAgdmFyIGxhc3REaWdpdCA9IDA7IC8vIEV4cG9uZW50XG5cbiAgdmFyIGV4cG9uZW50ID0gMDsgLy8gbG9vcCBpbmRleCBvdmVyIGFycmF5XG5cbiAgdmFyIGkgPSAwOyAvLyBUaGUgaGlnaCAxNyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kXG5cbiAgdmFyIHNpZ25pZmljYW5kSGlnaCA9IFswLCAwXTsgLy8gVGhlIGxvdyAxNyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kXG5cbiAgdmFyIHNpZ25pZmljYW5kTG93ID0gWzAsIDBdOyAvLyBUaGUgYmlhc2VkIGV4cG9uZW50XG5cbiAgdmFyIGJpYXNlZEV4cG9uZW50ID0gMDsgLy8gUmVhZCBpbmRleFxuXG4gIHZhciBpbmRleCA9IDA7IC8vIE5haXZlbHkgcHJldmVudCBhZ2FpbnN0IFJFRE9TIGF0dGFja3MuXG4gIC8vIFRPRE86IGltcGxlbWVudGluZyBhIGN1c3RvbSBwYXJzaW5nIGZvciB0aGlzLCBvciByZWZhY3RvcmluZyB0aGUgcmVnZXggd291bGQgeWllbGRcbiAgLy8gICAgICAgZnVydGhlciBnYWlucy5cblxuICBpZiAoc3RyaW5nLmxlbmd0aCA+PSA3MDAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignJyArIHN0cmluZyArICcgbm90IGEgdmFsaWQgRGVjaW1hbDEyOCBzdHJpbmcnKTtcbiAgfSAvLyBSZXN1bHRzXG5cblxuICB2YXIgc3RyaW5nTWF0Y2ggPSBzdHJpbmcubWF0Y2goUEFSU0VfU1RSSU5HX1JFR0VYUCk7XG4gIHZhciBpbmZNYXRjaCA9IHN0cmluZy5tYXRjaChQQVJTRV9JTkZfUkVHRVhQKTtcbiAgdmFyIG5hbk1hdGNoID0gc3RyaW5nLm1hdGNoKFBBUlNFX05BTl9SRUdFWFApOyAvLyBWYWxpZGF0ZSB0aGUgc3RyaW5nXG5cbiAgaWYgKCFzdHJpbmdNYXRjaCAmJiAhaW5mTWF0Y2ggJiYgIW5hbk1hdGNoIHx8IHN0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcnICsgc3RyaW5nICsgJyBub3QgYSB2YWxpZCBEZWNpbWFsMTI4IHN0cmluZycpO1xuICB9XG5cbiAgaWYgKHN0cmluZ01hdGNoKSB7XG4gICAgLy8gZnVsbF9tYXRjaCA9IHN0cmluZ01hdGNoWzBdXG4gICAgLy8gc2lnbiA9IHN0cmluZ01hdGNoWzFdXG4gICAgdmFyIHVuc2lnbmVkTnVtYmVyID0gc3RyaW5nTWF0Y2hbMl07IC8vIHN0cmluZ01hdGNoWzNdIGlzIHVuZGVmaW5lZCBpZiBhIHdob2xlIG51bWJlciAoZXggXCIxXCIsIDEyXCIpXG4gICAgLy8gYnV0IGRlZmluZWQgaWYgYSBudW1iZXIgdy8gZGVjaW1hbCBpbiBpdCAoZXggXCIxLjAsIDEyLjJcIilcblxuICAgIHZhciBlID0gc3RyaW5nTWF0Y2hbNF07XG4gICAgdmFyIGV4cFNpZ24gPSBzdHJpbmdNYXRjaFs1XTtcbiAgICB2YXIgZXhwTnVtYmVyID0gc3RyaW5nTWF0Y2hbNl07IC8vIHRoZXkgcHJvdmlkZWQgZSwgYnV0IGRpZG4ndCBnaXZlIGFuIGV4cG9uZW50IG51bWJlci4gZm9yIGV4IFwiMWVcIlxuXG4gICAgaWYgKGUgJiYgZXhwTnVtYmVyID09PSB1bmRlZmluZWQpIGludmFsaWRFcnIoc3RyaW5nLCAnbWlzc2luZyBleHBvbmVudCBwb3dlcicpOyAvLyB0aGV5IHByb3ZpZGVkIGUsIGJ1dCBkaWRuJ3QgZ2l2ZSBhIG51bWJlciBiZWZvcmUgaXQuIGZvciBleCBcImUxXCJcblxuICAgIGlmIChlICYmIHVuc2lnbmVkTnVtYmVyID09PSB1bmRlZmluZWQpIGludmFsaWRFcnIoc3RyaW5nLCAnbWlzc2luZyBleHBvbmVudCBiYXNlJyk7XG5cbiAgICBpZiAoZSA9PT0gdW5kZWZpbmVkICYmIChleHBTaWduIHx8IGV4cE51bWJlcikpIHtcbiAgICAgIGludmFsaWRFcnIoc3RyaW5nLCAnbWlzc2luZyBlIGJlZm9yZSBleHBvbmVudCcpO1xuICAgIH1cbiAgfSAvLyBHZXQgdGhlIG5lZ2F0aXZlIG9yIHBvc2l0aXZlIHNpZ25cblxuXG4gIGlmIChzdHJpbmdbaW5kZXhdID09PSAnKycgfHwgc3RyaW5nW2luZGV4XSA9PT0gJy0nKSB7XG4gICAgaXNOZWdhdGl2ZSA9IHN0cmluZ1tpbmRleCsrXSA9PT0gJy0nO1xuICB9IC8vIENoZWNrIGlmIHVzZXIgcGFzc2VkIEluZmluaXR5IG9yIE5hTlxuXG5cbiAgaWYgKCFpc0RpZ2l0KHN0cmluZ1tpbmRleF0pICYmIHN0cmluZ1tpbmRleF0gIT09ICcuJykge1xuICAgIGlmIChzdHJpbmdbaW5kZXhdID09PSAnaScgfHwgc3RyaW5nW2luZGV4XSA9PT0gJ0knKSB7XG4gICAgICByZXR1cm4gbmV3IERlY2ltYWwxMjgoQnVmZmVyJDIuZnJvbShpc05lZ2F0aXZlID8gSU5GX05FR0FUSVZFX0JVRkZFUiA6IElORl9QT1NJVElWRV9CVUZGRVIpKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZ1tpbmRleF0gPT09ICdOJykge1xuICAgICAgcmV0dXJuIG5ldyBEZWNpbWFsMTI4KEJ1ZmZlciQyLmZyb20oTkFOX0JVRkZFUikpO1xuICAgIH1cbiAgfSAvLyBSZWFkIGFsbCB0aGUgZGlnaXRzXG5cblxuICB3aGlsZSAoaXNEaWdpdChzdHJpbmdbaW5kZXhdKSB8fCBzdHJpbmdbaW5kZXhdID09PSAnLicpIHtcbiAgICBpZiAoc3RyaW5nW2luZGV4XSA9PT0gJy4nKSB7XG4gICAgICBpZiAoc2F3UmFkaXgpIGludmFsaWRFcnIoc3RyaW5nLCAnY29udGFpbnMgbXVsdGlwbGUgcGVyaW9kcycpO1xuICAgICAgc2F3UmFkaXggPSB0cnVlO1xuICAgICAgaW5kZXggPSBpbmRleCArIDE7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobkRpZ2l0c1N0b3JlZCA8IDM0KSB7XG4gICAgICBpZiAoc3RyaW5nW2luZGV4XSAhPT0gJzAnIHx8IGZvdW5kTm9uWmVybykge1xuICAgICAgICBpZiAoIWZvdW5kTm9uWmVybykge1xuICAgICAgICAgIGZpcnN0Tm9uWmVybyA9IG5EaWdpdHNSZWFkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm91bmROb25aZXJvID0gdHJ1ZTsgLy8gT25seSBzdG9yZSAzNCBkaWdpdHNcblxuICAgICAgICBkaWdpdHNbZGlnaXRzSW5zZXJ0KytdID0gcGFyc2VJbnQoc3RyaW5nW2luZGV4XSwgMTApO1xuICAgICAgICBuRGlnaXRzU3RvcmVkID0gbkRpZ2l0c1N0b3JlZCArIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZvdW5kTm9uWmVybykgbkRpZ2l0cyA9IG5EaWdpdHMgKyAxO1xuICAgIGlmIChzYXdSYWRpeCkgcmFkaXhQb3NpdGlvbiA9IHJhZGl4UG9zaXRpb24gKyAxO1xuICAgIG5EaWdpdHNSZWFkID0gbkRpZ2l0c1JlYWQgKyAxO1xuICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICB9XG5cbiAgaWYgKHNhd1JhZGl4ICYmICFuRGlnaXRzUmVhZCkgdGhyb3cgbmV3IFR5cGVFcnJvcignJyArIHN0cmluZyArICcgbm90IGEgdmFsaWQgRGVjaW1hbDEyOCBzdHJpbmcnKTsgLy8gUmVhZCBleHBvbmVudCBpZiBleGlzdHNcblxuICBpZiAoc3RyaW5nW2luZGV4XSA9PT0gJ2UnIHx8IHN0cmluZ1tpbmRleF0gPT09ICdFJykge1xuICAgIC8vIFJlYWQgZXhwb25lbnQgZGlnaXRzXG4gICAgdmFyIG1hdGNoID0gc3RyaW5nLnN1YnN0cigrK2luZGV4KS5tYXRjaChFWFBPTkVOVF9SRUdFWCk7IC8vIE5vIGRpZ2l0cyByZWFkXG5cbiAgICBpZiAoIW1hdGNoIHx8ICFtYXRjaFsyXSkgcmV0dXJuIG5ldyBEZWNpbWFsMTI4KEJ1ZmZlciQyLmZyb20oTkFOX0JVRkZFUikpOyAvLyBHZXQgZXhwb25lbnRcblxuICAgIGV4cG9uZW50ID0gcGFyc2VJbnQobWF0Y2hbMF0sIDEwKTsgLy8gQWRqdXN0IHRoZSBpbmRleFxuXG4gICAgaW5kZXggPSBpbmRleCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgfSAvLyBSZXR1cm4gbm90IGEgbnVtYmVyXG5cblxuICBpZiAoc3RyaW5nW2luZGV4XSkgcmV0dXJuIG5ldyBEZWNpbWFsMTI4KEJ1ZmZlciQyLmZyb20oTkFOX0JVRkZFUikpOyAvLyBEb25lIHJlYWRpbmcgaW5wdXRcbiAgLy8gRmluZCBmaXJzdCBub24temVybyBkaWdpdCBpbiBkaWdpdHNcblxuICBmaXJzdERpZ2l0ID0gMDtcblxuICBpZiAoIW5EaWdpdHNTdG9yZWQpIHtcbiAgICBmaXJzdERpZ2l0ID0gMDtcbiAgICBsYXN0RGlnaXQgPSAwO1xuICAgIGRpZ2l0c1swXSA9IDA7XG4gICAgbkRpZ2l0cyA9IDE7XG4gICAgbkRpZ2l0c1N0b3JlZCA9IDE7XG4gICAgc2lnbmlmaWNhbnREaWdpdHMgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxhc3REaWdpdCA9IG5EaWdpdHNTdG9yZWQgLSAxO1xuICAgIHNpZ25pZmljYW50RGlnaXRzID0gbkRpZ2l0cztcblxuICAgIGlmIChzaWduaWZpY2FudERpZ2l0cyAhPT0gMSkge1xuICAgICAgd2hpbGUgKHN0cmluZ1tmaXJzdE5vblplcm8gKyBzaWduaWZpY2FudERpZ2l0cyAtIDFdID09PSAnMCcpIHtcbiAgICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSBzaWduaWZpY2FudERpZ2l0cyAtIDE7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIE5vcm1hbGl6YXRpb24gb2YgZXhwb25lbnRcbiAgLy8gQ29ycmVjdCBleHBvbmVudCBiYXNlZCBvbiByYWRpeCBwb3NpdGlvbiwgYW5kIHNoaWZ0IHNpZ25pZmljYW5kIGFzIG5lZWRlZFxuICAvLyB0byByZXByZXNlbnQgdXNlciBpbnB1dFxuICAvLyBPdmVyZmxvdyBwcmV2ZW50aW9uXG5cblxuICBpZiAoZXhwb25lbnQgPD0gcmFkaXhQb3NpdGlvbiAmJiByYWRpeFBvc2l0aW9uIC0gZXhwb25lbnQgPiAxIDw8IDE0KSB7XG4gICAgZXhwb25lbnQgPSBFWFBPTkVOVF9NSU47XG4gIH0gZWxzZSB7XG4gICAgZXhwb25lbnQgPSBleHBvbmVudCAtIHJhZGl4UG9zaXRpb247XG4gIH0gLy8gQXR0ZW1wdCB0byBub3JtYWxpemUgdGhlIGV4cG9uZW50XG5cblxuICB3aGlsZSAoZXhwb25lbnQgPiBFWFBPTkVOVF9NQVgpIHtcbiAgICAvLyBTaGlmdCBleHBvbmVudCB0byBzaWduaWZpY2FuZCBhbmQgZGVjcmVhc2VcbiAgICBsYXN0RGlnaXQgPSBsYXN0RGlnaXQgKyAxO1xuXG4gICAgaWYgKGxhc3REaWdpdCAtIGZpcnN0RGlnaXQgPiBNQVhfRElHSVRTKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgemVybyB0aGVuIGp1c3QgaGFyZCBjbGFtcCwgb3RoZXJ3aXNlIGZhaWxcbiAgICAgIHZhciBkaWdpdHNTdHJpbmcgPSBkaWdpdHMuam9pbignJyk7XG5cbiAgICAgIGlmIChkaWdpdHNTdHJpbmcubWF0Y2goL14wKyQvKSkge1xuICAgICAgICBleHBvbmVudCA9IEVYUE9ORU5UX01BWDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGludmFsaWRFcnIoc3RyaW5nLCAnb3ZlcmZsb3cnKTtcbiAgICB9XG5cbiAgICBleHBvbmVudCA9IGV4cG9uZW50IC0gMTtcbiAgfVxuXG4gIHdoaWxlIChleHBvbmVudCA8IEVYUE9ORU5UX01JTiB8fCBuRGlnaXRzU3RvcmVkIDwgbkRpZ2l0cykge1xuICAgIC8vIFNoaWZ0IGxhc3QgZGlnaXQuIGNhbiBvbmx5IGRvIHRoaXMgaWYgPCBzaWduaWZpY2FudCBkaWdpdHMgdGhhbiAjIHN0b3JlZC5cbiAgICBpZiAobGFzdERpZ2l0ID09PSAwICYmIHNpZ25pZmljYW50RGlnaXRzIDwgbkRpZ2l0c1N0b3JlZCkge1xuICAgICAgZXhwb25lbnQgPSBFWFBPTkVOVF9NSU47XG4gICAgICBzaWduaWZpY2FudERpZ2l0cyA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAobkRpZ2l0c1N0b3JlZCA8IG5EaWdpdHMpIHtcbiAgICAgIC8vIGFkanVzdCB0byBtYXRjaCBkaWdpdHMgbm90IHN0b3JlZFxuICAgICAgbkRpZ2l0cyA9IG5EaWdpdHMgLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhZGp1c3QgdG8gcm91bmRcbiAgICAgIGxhc3REaWdpdCA9IGxhc3REaWdpdCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGV4cG9uZW50IDwgRVhQT05FTlRfTUFYKSB7XG4gICAgICBleHBvbmVudCA9IGV4cG9uZW50ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIHplcm8gdGhlbiBqdXN0IGhhcmQgY2xhbXAsIG90aGVyd2lzZSBmYWlsXG4gICAgICB2YXIgX2RpZ2l0c1N0cmluZyA9IGRpZ2l0cy5qb2luKCcnKTtcblxuICAgICAgaWYgKF9kaWdpdHNTdHJpbmcubWF0Y2goL14wKyQvKSkge1xuICAgICAgICBleHBvbmVudCA9IEVYUE9ORU5UX01BWDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGludmFsaWRFcnIoc3RyaW5nLCAnb3ZlcmZsb3cnKTtcbiAgICB9XG4gIH0gLy8gUm91bmRcbiAgLy8gV2UndmUgbm9ybWFsaXplZCB0aGUgZXhwb25lbnQsIGJ1dCBtaWdodCBzdGlsbCBuZWVkIHRvIHJvdW5kLlxuXG5cbiAgaWYgKGxhc3REaWdpdCAtIGZpcnN0RGlnaXQgKyAxIDwgc2lnbmlmaWNhbnREaWdpdHMpIHtcbiAgICB2YXIgZW5kT2ZTdHJpbmcgPSBuRGlnaXRzUmVhZDsgLy8gSWYgd2UgaGF2ZSBzZWVuIGEgcmFkaXggcG9pbnQsICdzdHJpbmcnIGlzIDEgbG9uZ2VyIHRoYW4gd2UgaGF2ZVxuICAgIC8vIGRvY3VtZW50ZWQgd2l0aCBuZGlnaXRzX3JlYWQsIHNvIGluYyB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG5vbnplcm9cbiAgICAvLyBkaWdpdCBhbmQgdGhlIHBvc2l0aW9uIHRoYXQgZGlnaXRzIGFyZSByZWFkIHRvLlxuXG4gICAgaWYgKHNhd1JhZGl4KSB7XG4gICAgICBmaXJzdE5vblplcm8gPSBmaXJzdE5vblplcm8gKyAxO1xuICAgICAgZW5kT2ZTdHJpbmcgPSBlbmRPZlN0cmluZyArIDE7XG4gICAgfSAvLyBpZiBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbmNyZW1lbnQgYWdhaW4gdG8gYWNjb3VudCBmb3IgLSBzaWduIGF0IHN0YXJ0LlxuXG5cbiAgICBpZiAoaXNOZWdhdGl2ZSkge1xuICAgICAgZmlyc3ROb25aZXJvID0gZmlyc3ROb25aZXJvICsgMTtcbiAgICAgIGVuZE9mU3RyaW5nID0gZW5kT2ZTdHJpbmcgKyAxO1xuICAgIH1cblxuICAgIHZhciByb3VuZERpZ2l0ID0gcGFyc2VJbnQoc3RyaW5nW2ZpcnN0Tm9uWmVybyArIGxhc3REaWdpdCArIDFdLCAxMCk7XG4gICAgdmFyIHJvdW5kQml0ID0gMDtcblxuICAgIGlmIChyb3VuZERpZ2l0ID49IDUpIHtcbiAgICAgIHJvdW5kQml0ID0gMTtcblxuICAgICAgaWYgKHJvdW5kRGlnaXQgPT09IDUpIHtcbiAgICAgICAgcm91bmRCaXQgPSBkaWdpdHNbbGFzdERpZ2l0XSAlIDIgPT09IDE7XG5cbiAgICAgICAgZm9yIChpID0gZmlyc3ROb25aZXJvICsgbGFzdERpZ2l0ICsgMjsgaSA8IGVuZE9mU3RyaW5nOyBpKyspIHtcbiAgICAgICAgICBpZiAocGFyc2VJbnQoc3RyaW5nW2ldLCAxMCkpIHtcbiAgICAgICAgICAgIHJvdW5kQml0ID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyb3VuZEJpdCkge1xuICAgICAgdmFyIGRJZHggPSBsYXN0RGlnaXQ7XG5cbiAgICAgIGZvciAoOyBkSWR4ID49IDA7IGRJZHgtLSkge1xuICAgICAgICBpZiAoKytkaWdpdHNbZElkeF0gPiA5KSB7XG4gICAgICAgICAgZGlnaXRzW2RJZHhdID0gMDsgLy8gb3ZlcmZsb3dlZCBtb3N0IHNpZ25pZmljYW50IGRpZ2l0XG5cbiAgICAgICAgICBpZiAoZElkeCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGV4cG9uZW50IDwgRVhQT05FTlRfTUFYKSB7XG4gICAgICAgICAgICAgIGV4cG9uZW50ID0gZXhwb25lbnQgKyAxO1xuICAgICAgICAgICAgICBkaWdpdHNbZElkeF0gPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWNpbWFsMTI4KEJ1ZmZlciQyLmZyb20oaXNOZWdhdGl2ZSA/IElORl9ORUdBVElWRV9CVUZGRVIgOiBJTkZfUE9TSVRJVkVfQlVGRkVSKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IC8vIEVuY29kZSBzaWduaWZpY2FuZFxuICAvLyBUaGUgaGlnaCAxNyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kXG5cblxuICBzaWduaWZpY2FuZEhpZ2ggPSBsb25nXzEuZnJvbU51bWJlcigwKTsgLy8gVGhlIGxvdyAxNyBkaWdpdHMgb2YgdGhlIHNpZ25pZmljYW5kXG5cbiAgc2lnbmlmaWNhbmRMb3cgPSBsb25nXzEuZnJvbU51bWJlcigwKTsgLy8gcmVhZCBhIHplcm9cblxuICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IDApIHtcbiAgICBzaWduaWZpY2FuZEhpZ2ggPSBsb25nXzEuZnJvbU51bWJlcigwKTtcbiAgICBzaWduaWZpY2FuZExvdyA9IGxvbmdfMS5mcm9tTnVtYmVyKDApO1xuICB9IGVsc2UgaWYgKGxhc3REaWdpdCAtIGZpcnN0RGlnaXQgPCAxNykge1xuICAgIHZhciBfZElkeCA9IGZpcnN0RGlnaXQ7XG4gICAgc2lnbmlmaWNhbmRMb3cgPSBsb25nXzEuZnJvbU51bWJlcihkaWdpdHNbX2RJZHgrK10pO1xuICAgIHNpZ25pZmljYW5kSGlnaCA9IG5ldyBsb25nXzEoMCwgMCk7XG5cbiAgICBmb3IgKDsgX2RJZHggPD0gbGFzdERpZ2l0OyBfZElkeCsrKSB7XG4gICAgICBzaWduaWZpY2FuZExvdyA9IHNpZ25pZmljYW5kTG93Lm11bHRpcGx5KGxvbmdfMS5mcm9tTnVtYmVyKDEwKSk7XG4gICAgICBzaWduaWZpY2FuZExvdyA9IHNpZ25pZmljYW5kTG93LmFkZChsb25nXzEuZnJvbU51bWJlcihkaWdpdHNbX2RJZHhdKSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBfZElkeDIgPSBmaXJzdERpZ2l0O1xuICAgIHNpZ25pZmljYW5kSGlnaCA9IGxvbmdfMS5mcm9tTnVtYmVyKGRpZ2l0c1tfZElkeDIrK10pO1xuXG4gICAgZm9yICg7IF9kSWR4MiA8PSBsYXN0RGlnaXQgLSAxNzsgX2RJZHgyKyspIHtcbiAgICAgIHNpZ25pZmljYW5kSGlnaCA9IHNpZ25pZmljYW5kSGlnaC5tdWx0aXBseShsb25nXzEuZnJvbU51bWJlcigxMCkpO1xuICAgICAgc2lnbmlmaWNhbmRIaWdoID0gc2lnbmlmaWNhbmRIaWdoLmFkZChsb25nXzEuZnJvbU51bWJlcihkaWdpdHNbX2RJZHgyXSkpO1xuICAgIH1cblxuICAgIHNpZ25pZmljYW5kTG93ID0gbG9uZ18xLmZyb21OdW1iZXIoZGlnaXRzW19kSWR4MisrXSk7XG5cbiAgICBmb3IgKDsgX2RJZHgyIDw9IGxhc3REaWdpdDsgX2RJZHgyKyspIHtcbiAgICAgIHNpZ25pZmljYW5kTG93ID0gc2lnbmlmaWNhbmRMb3cubXVsdGlwbHkobG9uZ18xLmZyb21OdW1iZXIoMTApKTtcbiAgICAgIHNpZ25pZmljYW5kTG93ID0gc2lnbmlmaWNhbmRMb3cuYWRkKGxvbmdfMS5mcm9tTnVtYmVyKGRpZ2l0c1tfZElkeDJdKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHNpZ25pZmljYW5kID0gbXVsdGlwbHk2NHgyKHNpZ25pZmljYW5kSGlnaCwgbG9uZ18xLmZyb21TdHJpbmcoJzEwMDAwMDAwMDAwMDAwMDAwMCcpKTtcbiAgc2lnbmlmaWNhbmQubG93ID0gc2lnbmlmaWNhbmQubG93LmFkZChzaWduaWZpY2FuZExvdyk7XG5cbiAgaWYgKGxlc3NUaGFuKHNpZ25pZmljYW5kLmxvdywgc2lnbmlmaWNhbmRMb3cpKSB7XG4gICAgc2lnbmlmaWNhbmQuaGlnaCA9IHNpZ25pZmljYW5kLmhpZ2guYWRkKGxvbmdfMS5mcm9tTnVtYmVyKDEpKTtcbiAgfSAvLyBCaWFzZWQgZXhwb25lbnRcblxuXG4gIGJpYXNlZEV4cG9uZW50ID0gZXhwb25lbnQgKyBFWFBPTkVOVF9CSUFTO1xuICB2YXIgZGVjID0ge1xuICAgIGxvdzogbG9uZ18xLmZyb21OdW1iZXIoMCksXG4gICAgaGlnaDogbG9uZ18xLmZyb21OdW1iZXIoMClcbiAgfTsgLy8gRW5jb2RlIGNvbWJpbmF0aW9uLCBleHBvbmVudCwgYW5kIHNpZ25pZmljYW5kLlxuXG4gIGlmIChzaWduaWZpY2FuZC5oaWdoLnNoaWZ0UmlnaHRVbnNpZ25lZCg0OSkuYW5kKGxvbmdfMS5mcm9tTnVtYmVyKDEpKS5lcXVhbHMobG9uZ18xLmZyb21OdW1iZXIoMSkpKSB7XG4gICAgLy8gRW5jb2RlICcxMScgaW50byBiaXRzIDEgdG8gM1xuICAgIGRlYy5oaWdoID0gZGVjLmhpZ2gub3IobG9uZ18xLmZyb21OdW1iZXIoMHgzKS5zaGlmdExlZnQoNjEpKTtcbiAgICBkZWMuaGlnaCA9IGRlYy5oaWdoLm9yKGxvbmdfMS5mcm9tTnVtYmVyKGJpYXNlZEV4cG9uZW50KS5hbmQobG9uZ18xLmZyb21OdW1iZXIoMHgzZmZmKS5zaGlmdExlZnQoNDcpKSk7XG4gICAgZGVjLmhpZ2ggPSBkZWMuaGlnaC5vcihzaWduaWZpY2FuZC5oaWdoLmFuZChsb25nXzEuZnJvbU51bWJlcigweDdmZmZmZmZmZmZmZikpKTtcbiAgfSBlbHNlIHtcbiAgICBkZWMuaGlnaCA9IGRlYy5oaWdoLm9yKGxvbmdfMS5mcm9tTnVtYmVyKGJpYXNlZEV4cG9uZW50ICYgMHgzZmZmKS5zaGlmdExlZnQoNDkpKTtcbiAgICBkZWMuaGlnaCA9IGRlYy5oaWdoLm9yKHNpZ25pZmljYW5kLmhpZ2guYW5kKGxvbmdfMS5mcm9tTnVtYmVyKDB4MWZmZmZmZmZmZmZmZikpKTtcbiAgfVxuXG4gIGRlYy5sb3cgPSBzaWduaWZpY2FuZC5sb3c7IC8vIEVuY29kZSBzaWduXG5cbiAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICBkZWMuaGlnaCA9IGRlYy5oaWdoLm9yKGxvbmdfMS5mcm9tU3RyaW5nKCc5MjIzMzcyMDM2ODU0Nzc1ODA4JykpO1xuICB9IC8vIEVuY29kZSBpbnRvIGEgYnVmZmVyXG5cblxuICB2YXIgYnVmZmVyJCQxID0gQnVmZmVyJDIuYWxsb2MoMTYpO1xuICBpbmRleCA9IDA7IC8vIEVuY29kZSB0aGUgbG93IDY0IGJpdHMgb2YgdGhlIGRlY2ltYWxcbiAgLy8gRW5jb2RlIGxvdyBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmxvdy5sb3cgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmxvdyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmxvdy5sb3cgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmxvdyA+PiAyNCAmIDB4ZmY7IC8vIEVuY29kZSBoaWdoIGJpdHNcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmhpZ2ggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMubG93LmhpZ2ggPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cuaGlnaCA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5sb3cuaGlnaCA+PiAyNCAmIDB4ZmY7IC8vIEVuY29kZSB0aGUgaGlnaCA2NCBiaXRzIG9mIHRoZSBkZWNpbWFsXG4gIC8vIEVuY29kZSBsb3cgYml0c1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5oaWdoLmxvdyAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5oaWdoLmxvdyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2gubG93ID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2gubG93ID4+IDI0ICYgMHhmZjsgLy8gRW5jb2RlIGhpZ2ggYml0c1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGRlYy5oaWdoLmhpZ2ggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMuaGlnaC5oaWdoID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBkZWMuaGlnaC5oaWdoID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gZGVjLmhpZ2guaGlnaCA+PiAyNCAmIDB4ZmY7IC8vIFJldHVybiB0aGUgbmV3IERlY2ltYWwxMjhcblxuICByZXR1cm4gbmV3IERlY2ltYWwxMjgoYnVmZmVyJCQxKTtcbn07IC8vIEV4dHJhY3QgbGVhc3Qgc2lnbmlmaWNhbnQgNSBiaXRzXG5cblxudmFyIENPTUJJTkFUSU9OX01BU0sgPSAweDFmOyAvLyBFeHRyYWN0IGxlYXN0IHNpZ25pZmljYW50IDE0IGJpdHNcblxudmFyIEVYUE9ORU5UX01BU0sgPSAweDNmZmY7IC8vIFZhbHVlIG9mIGNvbWJpbmF0aW9uIGZpZWxkIGZvciBJbmZcblxudmFyIENPTUJJTkFUSU9OX0lORklOSVRZID0gMzA7IC8vIFZhbHVlIG9mIGNvbWJpbmF0aW9uIGZpZWxkIGZvciBOYU5cblxudmFyIENPTUJJTkFUSU9OX05BTiA9IDMxO1xuLyoqXG4gKiBDcmVhdGUgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJhdyBEZWNpbWFsMTI4IHZhbHVlXG4gKlxuICogQG1ldGhvZFxuICogQHJldHVybiB7c3RyaW5nfSByZXR1cm5zIGEgRGVjaW1hbDEyOCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKi9cblxuRGVjaW1hbDEyOC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIE5vdGU6IGJpdHMgaW4gdGhpcyByb3V0aW5lIGFyZSByZWZlcnJlZCB0byBzdGFydGluZyBhdCAwLFxuICAvLyBmcm9tIHRoZSBzaWduIGJpdCwgdG93YXJkcyB0aGUgY29lZmZpY2llbnQuXG4gIC8vIGJpdHMgMCAtIDMxXG4gIHZhciBoaWdoOyAvLyBiaXRzIDMyIC0gNjNcblxuICB2YXIgbWlkaDsgLy8gYml0cyA2NCAtIDk1XG5cbiAgdmFyIG1pZGw7IC8vIGJpdHMgOTYgLSAxMjdcblxuICB2YXIgbG93OyAvLyBiaXRzIDEgLSA1XG5cbiAgdmFyIGNvbWJpbmF0aW9uOyAvLyBkZWNvZGVkIGJpYXNlZCBleHBvbmVudCAoMTQgYml0cylcblxuICB2YXIgYmlhc2VkX2V4cG9uZW50OyAvLyB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW5kIGRpZ2l0c1xuXG4gIHZhciBzaWduaWZpY2FuZF9kaWdpdHMgPSAwOyAvLyB0aGUgYmFzZS0xMCBkaWdpdHMgaW4gdGhlIHNpZ25pZmljYW5kXG5cbiAgdmFyIHNpZ25pZmljYW5kID0gbmV3IEFycmF5KDM2KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ25pZmljYW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgc2lnbmlmaWNhbmRbaV0gPSAwO1xuICB9IC8vIHJlYWQgcG9pbnRlciBpbnRvIHNpZ25pZmljYW5kXG5cblxuICB2YXIgaW5kZXggPSAwOyAvLyB1bmJpYXNlZCBleHBvbmVudFxuXG4gIHZhciBleHBvbmVudDsgLy8gdGhlIGV4cG9uZW50IGlmIHNjaWVudGlmaWMgbm90YXRpb24gaXMgdXNlZFxuXG4gIHZhciBzY2llbnRpZmljX2V4cG9uZW50OyAvLyB0cnVlIGlmIHRoZSBudW1iZXIgaXMgemVyb1xuXG4gIHZhciBpc196ZXJvID0gZmFsc2U7IC8vIHRoZSBtb3N0IHNpZ25pZmNhbnQgc2lnbmlmaWNhbmQgYml0cyAoNTAtNDYpXG5cbiAgdmFyIHNpZ25pZmljYW5kX21zYjsgLy8gdGVtcG9yYXJ5IHN0b3JhZ2UgZm9yIHNpZ25pZmljYW5kIGRlY29kaW5nXG5cbiAgdmFyIHNpZ25pZmljYW5kMTI4ID0ge1xuICAgIHBhcnRzOiBuZXcgQXJyYXkoNClcbiAgfTsgLy8gaW5kZXhpbmcgdmFyaWFibGVzXG5cbiAgdmFyIGosIGs7IC8vIE91dHB1dCBzdHJpbmdcblxuICB2YXIgc3RyaW5nID0gW107IC8vIFVucGFjayBpbmRleFxuXG4gIGluZGV4ID0gMDsgLy8gQnVmZmVyIHJlZmVyZW5jZVxuXG4gIHZhciBidWZmZXIkJDEgPSB0aGlzLmJ5dGVzOyAvLyBVbnBhY2sgdGhlIGxvdyA2NGJpdHMgaW50byBhIGxvbmdcblxuICBsb3cgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgbWlkbCA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0OyAvLyBVbnBhY2sgdGhlIGhpZ2ggNjRiaXRzIGludG8gYSBsb25nXG5cbiAgbWlkaCA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuICBoaWdoID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIFVucGFjayBpbmRleFxuXG4gIGluZGV4ID0gMDsgLy8gQ3JlYXRlIHRoZSBzdGF0ZSBvZiB0aGUgZGVjaW1hbFxuXG4gIHZhciBkZWMgPSB7XG4gICAgbG93OiBuZXcgbG9uZ18xKGxvdywgbWlkbCksXG4gICAgaGlnaDogbmV3IGxvbmdfMShtaWRoLCBoaWdoKVxuICB9O1xuXG4gIGlmIChkZWMuaGlnaC5sZXNzVGhhbihsb25nXzEuWkVSTykpIHtcbiAgICBzdHJpbmcucHVzaCgnLScpO1xuICB9IC8vIERlY29kZSBjb21iaW5hdGlvbiBmaWVsZCBhbmQgZXhwb25lbnRcblxuXG4gIGNvbWJpbmF0aW9uID0gaGlnaCA+PiAyNiAmIENPTUJJTkFUSU9OX01BU0s7XG5cbiAgaWYgKGNvbWJpbmF0aW9uID4+IDMgPT09IDMpIHtcbiAgICAvLyBDaGVjayBmb3IgJ3NwZWNpYWwnIHZhbHVlc1xuICAgIGlmIChjb21iaW5hdGlvbiA9PT0gQ09NQklOQVRJT05fSU5GSU5JVFkpIHtcbiAgICAgIHJldHVybiBzdHJpbmcuam9pbignJykgKyAnSW5maW5pdHknO1xuICAgIH0gZWxzZSBpZiAoY29tYmluYXRpb24gPT09IENPTUJJTkFUSU9OX05BTikge1xuICAgICAgcmV0dXJuICdOYU4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBiaWFzZWRfZXhwb25lbnQgPSBoaWdoID4+IDE1ICYgRVhQT05FTlRfTUFTSztcbiAgICAgIHNpZ25pZmljYW5kX21zYiA9IDB4MDggKyAoaGlnaCA+PiAxNCAmIDB4MDEpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzaWduaWZpY2FuZF9tc2IgPSBoaWdoID4+IDE0ICYgMHgwNztcbiAgICBiaWFzZWRfZXhwb25lbnQgPSBoaWdoID4+IDE3ICYgRVhQT05FTlRfTUFTSztcbiAgfVxuXG4gIGV4cG9uZW50ID0gYmlhc2VkX2V4cG9uZW50IC0gRVhQT05FTlRfQklBUzsgLy8gQ3JlYXRlIHN0cmluZyBvZiBzaWduaWZpY2FuZCBkaWdpdHNcbiAgLy8gQ29udmVydCB0aGUgMTE0LWJpdCBiaW5hcnkgbnVtYmVyIHJlcHJlc2VudGVkIGJ5XG4gIC8vIChzaWduaWZpY2FuZF9oaWdoLCBzaWduaWZpY2FuZF9sb3cpIHRvIGF0IG1vc3QgMzQgZGVjaW1hbFxuICAvLyBkaWdpdHMgdGhyb3VnaCBtb2R1bG8gYW5kIGRpdmlzaW9uLlxuXG4gIHNpZ25pZmljYW5kMTI4LnBhcnRzWzBdID0gKGhpZ2ggJiAweDNmZmYpICsgKChzaWduaWZpY2FuZF9tc2IgJiAweGYpIDw8IDE0KTtcbiAgc2lnbmlmaWNhbmQxMjgucGFydHNbMV0gPSBtaWRoO1xuICBzaWduaWZpY2FuZDEyOC5wYXJ0c1syXSA9IG1pZGw7XG4gIHNpZ25pZmljYW5kMTI4LnBhcnRzWzNdID0gbG93O1xuXG4gIGlmIChzaWduaWZpY2FuZDEyOC5wYXJ0c1swXSA9PT0gMCAmJiBzaWduaWZpY2FuZDEyOC5wYXJ0c1sxXSA9PT0gMCAmJiBzaWduaWZpY2FuZDEyOC5wYXJ0c1syXSA9PT0gMCAmJiBzaWduaWZpY2FuZDEyOC5wYXJ0c1szXSA9PT0gMCkge1xuICAgIGlzX3plcm8gPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGZvciAoayA9IDM7IGsgPj0gMDsgay0tKSB7XG4gICAgICB2YXIgbGVhc3RfZGlnaXRzID0gMDsgLy8gUGVmb3JtIHRoZSBkaXZpZGVcblxuICAgICAgdmFyIHJlc3VsdCA9IGRpdmlkZXUxMjgoc2lnbmlmaWNhbmQxMjgpO1xuICAgICAgc2lnbmlmaWNhbmQxMjggPSByZXN1bHQucXVvdGllbnQ7XG4gICAgICBsZWFzdF9kaWdpdHMgPSByZXN1bHQucmVtLmxvdzsgLy8gV2Ugbm93IGhhdmUgdGhlIDkgbGVhc3Qgc2lnbmlmaWNhbnQgZGlnaXRzIChpbiBiYXNlIDIpLlxuICAgICAgLy8gQ29udmVydCBhbmQgb3V0cHV0IHRvIHN0cmluZy5cblxuICAgICAgaWYgKCFsZWFzdF9kaWdpdHMpIGNvbnRpbnVlO1xuXG4gICAgICBmb3IgKGogPSA4OyBqID49IDA7IGotLSkge1xuICAgICAgICAvLyBzaWduaWZpY2FuZFtrICogOSArIGpdID0gTWF0aC5yb3VuZChsZWFzdF9kaWdpdHMgJSAxMCk7XG4gICAgICAgIHNpZ25pZmljYW5kW2sgKiA5ICsgal0gPSBsZWFzdF9kaWdpdHMgJSAxMDsgLy8gbGVhc3RfZGlnaXRzID0gTWF0aC5yb3VuZChsZWFzdF9kaWdpdHMgLyAxMCk7XG5cbiAgICAgICAgbGVhc3RfZGlnaXRzID0gTWF0aC5mbG9vcihsZWFzdF9kaWdpdHMgLyAxMCk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIE91dHB1dCBmb3JtYXQgb3B0aW9uczpcbiAgLy8gU2NpZW50aWZpYyAtIFstXWQuZGRkRSgrLy0pZGQgb3IgWy1dZEUoKy8tKWRkXG4gIC8vIFJlZ3VsYXIgICAgLSBkZGQuZGRkXG5cblxuICBpZiAoaXNfemVybykge1xuICAgIHNpZ25pZmljYW5kX2RpZ2l0cyA9IDE7XG4gICAgc2lnbmlmaWNhbmRbaW5kZXhdID0gMDtcbiAgfSBlbHNlIHtcbiAgICBzaWduaWZpY2FuZF9kaWdpdHMgPSAzNjtcblxuICAgIHdoaWxlICghc2lnbmlmaWNhbmRbaW5kZXhdKSB7XG4gICAgICBzaWduaWZpY2FuZF9kaWdpdHMgPSBzaWduaWZpY2FuZF9kaWdpdHMgLSAxO1xuICAgICAgaW5kZXggPSBpbmRleCArIDE7XG4gICAgfVxuICB9XG5cbiAgc2NpZW50aWZpY19leHBvbmVudCA9IHNpZ25pZmljYW5kX2RpZ2l0cyAtIDEgKyBleHBvbmVudDsgLy8gVGhlIHNjaWVudGlmaWMgZXhwb25lbnQgY2hlY2tzIGFyZSBkaWN0YXRlZCBieSB0aGUgc3RyaW5nIGNvbnZlcnNpb25cbiAgLy8gc3BlY2lmaWNhdGlvbiBhbmQgYXJlIHNvbWV3aGF0IGFyYml0cmFyeSBjdXRvZmZzLlxuICAvL1xuICAvLyBXZSBtdXN0IGNoZWNrIGV4cG9uZW50ID4gMCwgYmVjYXVzZSBpZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGUgbnVtYmVyXG4gIC8vIGhhcyB0cmFpbGluZyB6ZXJvcy4gIEhvd2V2ZXIsIHdlICpjYW5ub3QqIG91dHB1dCB0aGVzZSB0cmFpbGluZyB6ZXJvcyxcbiAgLy8gYmVjYXVzZSBkb2luZyBzbyB3b3VsZCBjaGFuZ2UgdGhlIHByZWNpc2lvbiBvZiB0aGUgdmFsdWUsIGFuZCB3b3VsZFxuICAvLyBjaGFuZ2Ugc3RvcmVkIGRhdGEgaWYgdGhlIHN0cmluZyBjb252ZXJ0ZWQgbnVtYmVyIGlzIHJvdW5kIHRyaXBwZWQuXG5cbiAgaWYgKHNjaWVudGlmaWNfZXhwb25lbnQgPj0gMzQgfHwgc2NpZW50aWZpY19leHBvbmVudCA8PSAtNyB8fCBleHBvbmVudCA+IDApIHtcbiAgICAvLyBTY2llbnRpZmljIGZvcm1hdFxuICAgIC8vIGlmIHRoZXJlIGFyZSB0b28gbWFueSBzaWduaWZpY2FudCBkaWdpdHMsIHdlIHNob3VsZCBqdXN0IGJlIHRyZWF0aW5nIG51bWJlcnNcbiAgICAvLyBhcyArIG9yIC0gMCBhbmQgdXNpbmcgdGhlIG5vbi1zY2llbnRpZmljIGV4cG9uZW50ICh0aGlzIGlzIGZvciB0aGUgXCJpbnZhbGlkXG4gICAgLy8gcmVwcmVzZW50YXRpb24gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgMC8tMFwiIHNwZWMgY2FzZXMgaW4gZGVjaW1hbDEyOC0xLmpzb24pXG4gICAgaWYgKHNpZ25pZmljYW5kX2RpZ2l0cyA+IDM0KSB7XG4gICAgICBzdHJpbmcucHVzaCgwKTtcbiAgICAgIGlmIChleHBvbmVudCA+IDApIHN0cmluZy5wdXNoKCdFKycgKyBleHBvbmVudCk7ZWxzZSBpZiAoZXhwb25lbnQgPCAwKSBzdHJpbmcucHVzaCgnRScgKyBleHBvbmVudCk7XG4gICAgICByZXR1cm4gc3RyaW5nLmpvaW4oJycpO1xuICAgIH1cblxuICAgIHN0cmluZy5wdXNoKHNpZ25pZmljYW5kW2luZGV4KytdKTtcbiAgICBzaWduaWZpY2FuZF9kaWdpdHMgPSBzaWduaWZpY2FuZF9kaWdpdHMgLSAxO1xuXG4gICAgaWYgKHNpZ25pZmljYW5kX2RpZ2l0cykge1xuICAgICAgc3RyaW5nLnB1c2goJy4nKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc2lnbmlmaWNhbmRfZGlnaXRzOyBfaSsrKSB7XG4gICAgICBzdHJpbmcucHVzaChzaWduaWZpY2FuZFtpbmRleCsrXSk7XG4gICAgfSAvLyBFeHBvbmVudFxuXG5cbiAgICBzdHJpbmcucHVzaCgnRScpO1xuXG4gICAgaWYgKHNjaWVudGlmaWNfZXhwb25lbnQgPiAwKSB7XG4gICAgICBzdHJpbmcucHVzaCgnKycgKyBzY2llbnRpZmljX2V4cG9uZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyaW5nLnB1c2goc2NpZW50aWZpY19leHBvbmVudCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIFJlZ3VsYXIgZm9ybWF0IHdpdGggbm8gZGVjaW1hbCBwbGFjZVxuICAgIGlmIChleHBvbmVudCA+PSAwKSB7XG4gICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBzaWduaWZpY2FuZF9kaWdpdHM7IF9pMisrKSB7XG4gICAgICAgIHN0cmluZy5wdXNoKHNpZ25pZmljYW5kW2luZGV4KytdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJhZGl4X3Bvc2l0aW9uID0gc2lnbmlmaWNhbmRfZGlnaXRzICsgZXhwb25lbnQ7IC8vIG5vbi16ZXJvIGRpZ2l0cyBiZWZvcmUgcmFkaXhcblxuICAgICAgaWYgKHJhZGl4X3Bvc2l0aW9uID4gMCkge1xuICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCByYWRpeF9wb3NpdGlvbjsgX2kzKyspIHtcbiAgICAgICAgICBzdHJpbmcucHVzaChzaWduaWZpY2FuZFtpbmRleCsrXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmluZy5wdXNoKCcwJyk7XG4gICAgICB9XG5cbiAgICAgIHN0cmluZy5wdXNoKCcuJyk7IC8vIGFkZCBsZWFkaW5nIHplcm9zIGFmdGVyIHJhZGl4XG5cbiAgICAgIHdoaWxlIChyYWRpeF9wb3NpdGlvbisrIDwgMCkge1xuICAgICAgICBzdHJpbmcucHVzaCgnMCcpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBzaWduaWZpY2FuZF9kaWdpdHMgLSBNYXRoLm1heChyYWRpeF9wb3NpdGlvbiAtIDEsIDApOyBfaTQrKykge1xuICAgICAgICBzdHJpbmcucHVzaChzaWduaWZpY2FuZFtpbmRleCsrXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cmluZy5qb2luKCcnKTtcbn07XG5cbkRlY2ltYWwxMjgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICAkbnVtYmVyRGVjaW1hbDogdGhpcy50b1N0cmluZygpXG4gIH07XG59O1xuLyoqXG4gKiBAaWdub3JlXG4gKi9cblxuXG5EZWNpbWFsMTI4LnByb3RvdHlwZS50b0V4dGVuZGVkSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICAkbnVtYmVyRGVjaW1hbDogdGhpcy50b1N0cmluZygpXG4gIH07XG59O1xuLyoqXG4gKiBAaWdub3JlXG4gKi9cblxuXG5EZWNpbWFsMTI4LmZyb21FeHRlbmRlZEpTT04gPSBmdW5jdGlvbiAoZG9jKSB7XG4gIHJldHVybiBEZWNpbWFsMTI4LmZyb21TdHJpbmcoZG9jLiRudW1iZXJEZWNpbWFsKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNpbWFsMTI4LnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdEZWNpbWFsMTI4J1xufSk7XG52YXIgZGVjaW1hbDEyOCA9IERlY2ltYWwxMjg7XG5cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQlNPTiBNaW5LZXkgdHlwZS5cbiAqL1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skNyhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJDcodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkNyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJDcoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ3KENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgTWluS2V5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIE1pbktleSB0eXBlXG4gICAqXG4gICAqIEByZXR1cm4ge01pbktleX0gQSBNaW5LZXkgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIE1pbktleSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skNyh0aGlzLCBNaW5LZXkpO1xuICB9XG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJDcoTWluS2V5LCBbe1xuICAgIGtleTogXCJ0b0V4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0V4dGVuZGVkSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICRtaW5LZXk6IDFcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6IFwiZnJvbUV4dGVuZGVkSlNPTlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcm9tRXh0ZW5kZWRKU09OKCkge1xuICAgICAgcmV0dXJuIG5ldyBNaW5LZXkoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluS2V5O1xufSgpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTWluS2V5LnByb3RvdHlwZSwgJ19ic29udHlwZScsIHtcbiAgdmFsdWU6ICdNaW5LZXknXG59KTtcbnZhciBtaW5fa2V5ID0gTWluS2V5O1xuXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50YXRpb24gb2YgdGhlIEJTT04gTWF4S2V5IHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDgoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQ4KHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDgoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ4KENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkOChDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIE1heEtleSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBNYXhLZXkgdHlwZVxuICAgKlxuICAgKiBAcmV0dXJuIHtNYXhLZXl9IEEgTWF4S2V5IGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBNYXhLZXkoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJDgodGhpcywgTWF4S2V5KTtcbiAgfVxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyQ4KE1heEtleSwgW3tcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkbWF4S2V5OiAxXG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiBcImZyb21FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUV4dGVuZGVkSlNPTigpIHtcbiAgICAgIHJldHVybiBuZXcgTWF4S2V5KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1heEtleTtcbn0oKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KE1heEtleS5wcm90b3R5cGUsICdfYnNvbnR5cGUnLCB7XG4gIHZhbHVlOiAnTWF4S2V5J1xufSk7XG52YXIgbWF4X2tleSA9IE1heEtleTtcblxuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBCU09OIERCUmVmIHR5cGUuXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrJDkoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyQ5KHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzJDkoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyQ5KENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMkOShDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIERCUmVmID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIERCUmVmIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbGxlY3Rpb24gdGhlIGNvbGxlY3Rpb24gbmFtZS5cbiAgICogQHBhcmFtIHtPYmplY3RJZH0gb2lkIHRoZSByZWZlcmVuY2UgT2JqZWN0SWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGJdIG9wdGlvbmFsIGRiIG5hbWUsIGlmIG9taXR0ZWQgdGhlIHJlZmVyZW5jZSBpcyBsb2NhbCB0byB0aGUgY3VycmVudCBkYi5cbiAgICogQHJldHVybiB7REJSZWZ9XG4gICAqL1xuICBmdW5jdGlvbiBEQlJlZihjb2xsZWN0aW9uLCBvaWQsIGRiLCBmaWVsZHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2skOSh0aGlzLCBEQlJlZik7XG5cbiAgICAvLyBjaGVjayBpZiBuYW1lc3BhY2UgaGFzIGJlZW4gcHJvdmlkZWRcbiAgICB2YXIgcGFydHMgPSBjb2xsZWN0aW9uLnNwbGl0KCcuJyk7XG5cbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICBkYiA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICBjb2xsZWN0aW9uID0gcGFydHMuc2hpZnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgIHRoaXMub2lkID0gb2lkO1xuICAgIHRoaXMuZGIgPSBkYjtcbiAgICB0aGlzLmZpZWxkcyA9IGZpZWxkcyB8fCB7fTtcbiAgfVxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MkOShEQlJlZiwgW3tcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHZhciBvID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICRyZWY6IHRoaXMuY29sbGVjdGlvbixcbiAgICAgICAgJGlkOiB0aGlzLm9pZFxuICAgICAgfSwgdGhpcy5maWVsZHMpO1xuICAgICAgaWYgKHRoaXMuZGIgIT0gbnVsbCkgby4kZGIgPSB0aGlzLmRiO1xuICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRvRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvRXh0ZW5kZWRKU09OKCkge1xuICAgICAgdmFyIG8gPSB7XG4gICAgICAgICRyZWY6IHRoaXMuY29sbGVjdGlvbixcbiAgICAgICAgJGlkOiB0aGlzLm9pZFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmRiKSBvLiRkYiA9IHRoaXMuZGI7XG4gICAgICBvID0gT2JqZWN0LmFzc2lnbihvLCB0aGlzLmZpZWxkcyk7XG4gICAgICByZXR1cm4gbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jKSB7XG4gICAgICB2YXIgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIGRvYyk7XG4gICAgICBbJyRyZWYnLCAnJGlkJywgJyRkYiddLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZSBjb3B5W2tdO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IERCUmVmKGRvYy4kcmVmLCBkb2MuJGlkLCBkb2MuJGRiLCBjb3B5KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gREJSZWY7XG59KCk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEQlJlZi5wcm90b3R5cGUsICdfYnNvbnR5cGUnLCB7XG4gIHZhbHVlOiAnREJSZWYnXG59KTsgLy8gdGhlIDEueCBwYXJzZXIgdXNlZCBhIFwibmFtZXNwYWNlXCIgcHJvcGVydHksIHdoaWxlIDQueCB1c2VzIFwiY29sbGVjdGlvblwiLiBUbyBlbnN1cmUgYmFja3dhcmRzXG4vLyBjb21wYXRpYmlsaXR5LCBsZXQncyBleHBvc2UgXCJuYW1lc3BhY2VcIlxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoREJSZWYucHJvdG90eXBlLCAnbmFtZXNwYWNlJywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWwpIHtcbiAgICB0aGlzLmNvbGxlY3Rpb24gPSB2YWw7XG4gIH0sXG4gIGNvbmZpZ3VyYWJsZTogZmFsc2Vcbn0pO1xudmFyIGRiX3JlZiA9IERCUmVmO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2skYShpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzJGEodGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MkYShDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzJGEoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyRhKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG52YXIgQnVmZmVyJDMgPSBidWZmZXIuQnVmZmVyO1xuLyoqXG4gKiBBIGNsYXNzIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBCU09OIEJpbmFyeSB0eXBlLlxuICovXG5cbnZhciBCaW5hcnkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgQmluYXJ5IHR5cGVcbiAgICpcbiAgICogU3ViIHR5cGVzXG4gICAqICAtICoqQlNPTi5CU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQqKiwgZGVmYXVsdCBCU09OIHR5cGUuXG4gICAqICAtICoqQlNPTi5CU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OKiosIEJTT04gZnVuY3Rpb24gdHlwZS5cbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWSoqLCBCU09OIGJ5dGUgYXJyYXkgdHlwZS5cbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfVVVJRCoqLCBCU09OIHV1aWQgdHlwZS5cbiAgICogIC0gKipCU09OLkJTT05fQklOQVJZX1NVQlRZUEVfTUQ1KiosIEJTT04gbWQ1IHR5cGUuXG4gICAqICAtICoqQlNPTi5CU09OX0JJTkFSWV9TVUJUWVBFX1VTRVJfREVGSU5FRCoqLCBCU09OIHVzZXIgZGVmaW5lZCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIGEgYnVmZmVyIG9iamVjdCBjb250YWluaW5nIHRoZSBiaW5hcnkgZGF0YS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdWJUeXBlXSB0aGUgb3B0aW9uIGJpbmFyeSB0eXBlLlxuICAgKiBAcmV0dXJuIHtCaW5hcnl9XG4gICAqL1xuICBmdW5jdGlvbiBCaW5hcnkoYnVmZmVyJCQxLCBzdWJUeXBlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrJGEodGhpcywgQmluYXJ5KTtcblxuICAgIGlmIChidWZmZXIkJDEgIT0gbnVsbCAmJiAhKHR5cGVvZiBidWZmZXIkJDEgPT09ICdzdHJpbmcnKSAmJiAhQnVmZmVyJDMuaXNCdWZmZXIoYnVmZmVyJCQxKSAmJiAhKGJ1ZmZlciQkMSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpICYmICFBcnJheS5pc0FycmF5KGJ1ZmZlciQkMSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29ubHkgU3RyaW5nLCBCdWZmZXIsIFVpbnQ4QXJyYXkgb3IgQXJyYXkgYWNjZXB0ZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLnN1Yl90eXBlID0gc3ViVHlwZSA9PSBudWxsID8gQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUIDogc3ViVHlwZTtcbiAgICB0aGlzLnBvc2l0aW9uID0gMDtcblxuICAgIGlmIChidWZmZXIkJDEgIT0gbnVsbCAmJiAhKGJ1ZmZlciQkMSBpbnN0YW5jZW9mIE51bWJlcikpIHtcbiAgICAgIC8vIE9ubHkgYWNjZXB0IEJ1ZmZlciwgVWludDhBcnJheSBvciBBcnJheXNcbiAgICAgIGlmICh0eXBlb2YgYnVmZmVyJCQxID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBEaWZmZXJlbnQgd2F5cyBvZiB3cml0aW5nIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZyBmb3IgdGhlIGRpZmZlcmVudCB0eXBlc1xuICAgICAgICBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyJDMuZnJvbShidWZmZXIkJDEpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyB8fCBBcnJheS5pc0FycmF5KGJ1ZmZlciQkMSkpIHtcbiAgICAgICAgICB0aGlzLmJ1ZmZlciA9IHdyaXRlU3RyaW5nVG9BcnJheShidWZmZXIkJDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29ubHkgU3RyaW5nLCBCdWZmZXIsIFVpbnQ4QXJyYXkgb3IgQXJyYXkgYWNjZXB0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXIkJDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zaXRpb24gPSBidWZmZXIkJDEubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlciQzLmFsbG9jKEJpbmFyeS5CVUZGRVJfU0laRSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihCaW5hcnkuQlVGRkVSX1NJWkUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5KEJpbmFyeS5CVUZGRVJfU0laRSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgYmluYXJ5IHdpdGggYnl0ZV92YWx1ZS5cbiAgICpcbiAgICogQG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYnl0ZV92YWx1ZSBhIHNpbmdsZSBieXRlIHdlIHdpc2ggdG8gd3JpdGUuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzJGEoQmluYXJ5LCBbe1xuICAgIGtleTogXCJwdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHV0KGJ5dGVfdmFsdWUpIHtcbiAgICAgIC8vIElmIGl0J3MgYSBzdHJpbmcgYW5kIGEgaGFzIG1vcmUgdGhhbiBvbmUgY2hhcmFjdGVyIHRocm93IGFuIGVycm9yXG4gICAgICBpZiAoYnl0ZV92YWx1ZVsnbGVuZ3RoJ10gIT0gbnVsbCAmJiB0eXBlb2YgYnl0ZV92YWx1ZSAhPT0gJ251bWJlcicgJiYgYnl0ZV92YWx1ZS5sZW5ndGggIT09IDEpIHRocm93IG5ldyBUeXBlRXJyb3IoJ29ubHkgYWNjZXB0cyBzaW5nbGUgY2hhcmFjdGVyIFN0cmluZywgVWludDhBcnJheSBvciBBcnJheScpO1xuICAgICAgaWYgKHR5cGVvZiBieXRlX3ZhbHVlICE9PSAnbnVtYmVyJyAmJiBieXRlX3ZhbHVlIDwgMCB8fCBieXRlX3ZhbHVlID4gMjU1KSB0aHJvdyBuZXcgVHlwZUVycm9yKCdvbmx5IGFjY2VwdHMgbnVtYmVyIGluIGEgdmFsaWQgdW5zaWduZWQgYnl0ZSByYW5nZSAwLTI1NScpOyAvLyBEZWNvZGUgdGhlIGJ5dGUgdmFsdWUgb25jZVxuXG4gICAgICB2YXIgZGVjb2RlZF9ieXRlID0gbnVsbDtcblxuICAgICAgaWYgKHR5cGVvZiBieXRlX3ZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBkZWNvZGVkX2J5dGUgPSBieXRlX3ZhbHVlLmNoYXJDb2RlQXQoMCk7XG4gICAgICB9IGVsc2UgaWYgKGJ5dGVfdmFsdWVbJ2xlbmd0aCddICE9IG51bGwpIHtcbiAgICAgICAgZGVjb2RlZF9ieXRlID0gYnl0ZV92YWx1ZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlY29kZWRfYnl0ZSA9IGJ5dGVfdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiB0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSBkZWNvZGVkX2J5dGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJyAmJiBCdWZmZXIkMy5pc0J1ZmZlcih0aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgYWRkaXRpb25hbCBvdmVyZmxvdyBidWZmZXJcbiAgICAgICAgICB2YXIgYnVmZmVyJCQxID0gQnVmZmVyJDMuYWxsb2MoQmluYXJ5LkJVRkZFUl9TSVpFICsgdGhpcy5idWZmZXIubGVuZ3RoKTsgLy8gQ29tYmluZSB0aGUgdHdvIGJ1ZmZlcnMgdG9nZXRoZXJcblxuICAgICAgICAgIHRoaXMuYnVmZmVyLmNvcHkoYnVmZmVyJCQxLCAwLCAwLCB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyJCQxO1xuICAgICAgICAgIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSBkZWNvZGVkX2J5dGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9idWZmZXIgPSBudWxsOyAvLyBDcmVhdGUgYSBuZXcgYnVmZmVyICh0eXBlZCBvciBub3JtYWwgYXJyYXkpXG5cbiAgICAgICAgICBpZiAoaXNVaW50OEFycmF5KHRoaXMuYnVmZmVyKSkge1xuICAgICAgICAgICAgX2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihCaW5hcnkuQlVGRkVSX1NJWkUgKyB0aGlzLmJ1ZmZlci5sZW5ndGgpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2J1ZmZlciA9IG5ldyBBcnJheShCaW5hcnkuQlVGRkVSX1NJWkUgKyB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgIH0gLy8gV2UgbmVlZCB0byBjb3B5IGFsbCB0aGUgY29udGVudCB0byB0aGUgbmV3IGFycmF5XG5cblxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9idWZmZXJbaV0gPSB0aGlzLmJ1ZmZlcltpXTtcbiAgICAgICAgICB9IC8vIFJlYXNzaWduIHRoZSBidWZmZXJcblxuXG4gICAgICAgICAgdGhpcy5idWZmZXIgPSBfYnVmZmVyOyAvLyBXcml0ZSB0aGUgYnl0ZVxuXG4gICAgICAgICAgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGRlY29kZWRfYnl0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBidWZmZXIgb3Igc3RyaW5nIHRvIHRoZSBiaW5hcnkuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHsoQnVmZmVyfHN0cmluZyl9IHN0cmluZyBhIHN0cmluZyBvciBidWZmZXIgdG8gYmUgd3JpdHRlbiB0byB0aGUgQmluYXJ5IEJTT04gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgc3BlY2lmeSB0aGUgYmluYXJ5IG9mIHdoZXJlIHRvIHdyaXRlIHRoZSBjb250ZW50LlxuICAgICAqIEByZXR1cm4ge251bGx9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZShzdHJpbmcsIG9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gdHlwZW9mIG9mZnNldCA9PT0gJ251bWJlcicgPyBvZmZzZXQgOiB0aGlzLnBvc2l0aW9uOyAvLyBJZiB0aGUgYnVmZmVyIGlzIHRvIHNtYWxsIGxldCdzIGV4dGVuZCB0aGUgYnVmZmVyXG5cbiAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPCBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIHZhciBidWZmZXIkJDEgPSBudWxsOyAvLyBJZiB3ZSBhcmUgaW4gbm9kZS5qc1xuXG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyJDMgIT09ICd1bmRlZmluZWQnICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHRoaXMuYnVmZmVyKSkge1xuICAgICAgICAgIGJ1ZmZlciQkMSA9IEJ1ZmZlciQzLmFsbG9jKHRoaXMuYnVmZmVyLmxlbmd0aCArIHN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgIHRoaXMuYnVmZmVyLmNvcHkoYnVmZmVyJCQxLCAwLCAwLCB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgYnVmZmVyXG4gICAgICAgICAgYnVmZmVyJCQxID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmxlbmd0aCArIHN0cmluZy5sZW5ndGgpKTsgLy8gQ29weSB0aGUgY29udGVudFxuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvc2l0aW9uOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZmZlciQkMVtpXSA9IHRoaXMuYnVmZmVyW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBBc3NpZ24gdGhlIG5ldyBidWZmZXJcblxuXG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyJCQxO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJyAmJiBCdWZmZXIkMy5pc0J1ZmZlcihzdHJpbmcpICYmIEJ1ZmZlciQzLmlzQnVmZmVyKHRoaXMuYnVmZmVyKSkge1xuICAgICAgICBzdHJpbmcuY29weSh0aGlzLmJ1ZmZlciwgb2Zmc2V0LCAwLCBzdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9mZnNldCArIHN0cmluZy5sZW5ndGggPiB0aGlzLnBvc2l0aW9uID8gb2Zmc2V0ICsgc3RyaW5nLmxlbmd0aCA6IHRoaXMucG9zaXRpb247IC8vIG9mZnNldCA9IHN0cmluZy5sZW5ndGhcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJyAmJiBCdWZmZXIkMy5pc0J1ZmZlcih0aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgdGhpcy5idWZmZXIud3JpdGUoc3RyaW5nLCBvZmZzZXQsICdiaW5hcnknKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG9mZnNldCArIHN0cmluZy5sZW5ndGggPiB0aGlzLnBvc2l0aW9uID8gb2Zmc2V0ICsgc3RyaW5nLmxlbmd0aCA6IHRoaXMucG9zaXRpb247IC8vIG9mZnNldCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB9IGVsc2UgaWYgKGlzVWludDhBcnJheShzdHJpbmcpIHx8IEFycmF5LmlzQXJyYXkoc3RyaW5nKSAmJiB0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgc3RyaW5nLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIHRoaXMuYnVmZmVyW29mZnNldCsrXSA9IHN0cmluZ1tfaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gb2Zmc2V0ID4gdGhpcy5wb3NpdGlvbiA/IG9mZnNldCA6IHRoaXMucG9zaXRpb247XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHN0cmluZy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgdGhpcy5idWZmZXJbb2Zmc2V0KytdID0gc3RyaW5nLmNoYXJDb2RlQXQoX2kyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBvZmZzZXQgPiB0aGlzLnBvc2l0aW9uID8gb2Zmc2V0IDogdGhpcy5wb3NpdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgKipsZW5ndGgqKiBieXRlcyBzdGFydGluZyBhdCAqKnBvc2l0aW9uKiouXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uIHJlYWQgZnJvbSB0aGUgZ2l2ZW4gcG9zaXRpb24gaW4gdGhlIEJpbmFyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIHRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVhZC5cbiAgICAgKiBAcmV0dXJuIHtCdWZmZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQocG9zaXRpb24sIGxlbmd0aCkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoICYmIGxlbmd0aCA+IDAgPyBsZW5ndGggOiB0aGlzLnBvc2l0aW9uOyAvLyBMZXQncyByZXR1cm4gdGhlIGRhdGEgYmFzZWQgb24gdGhlIHR5cGUgd2UgaGF2ZVxuXG4gICAgICBpZiAodGhpcy5idWZmZXJbJ3NsaWNlJ10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIGxlbmd0aCk7XG4gICAgICB9IC8vIENyZWF0ZSBhIGJ1ZmZlciB0byBrZWVwIHRoZSByZXN1bHRcblxuXG4gICAgICB2YXIgYnVmZmVyJCQxID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGxlbmd0aCkpIDogbmV3IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnVmZmVyJCQxW2ldID0gdGhpcy5idWZmZXJbcG9zaXRpb24rK107XG4gICAgICB9IC8vIFJldHVybiB0aGUgYnVmZmVyXG5cblxuICAgICAgcmV0dXJuIGJ1ZmZlciQkMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhpcyBiaW5hcnkgYXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidmFsdWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoYXNSYXcpIHtcbiAgICAgIGFzUmF3ID0gYXNSYXcgPT0gbnVsbCA/IGZhbHNlIDogYXNSYXc7IC8vIE9wdGltaXplIHRvIHNlcmlhbGl6ZSBmb3IgdGhlIHNpdHVhdGlvbiB3aGVyZSB0aGUgZGF0YSA9PSBzaXplIG9mIGJ1ZmZlclxuXG4gICAgICBpZiAoYXNSYXcgJiYgdHlwZW9mIEJ1ZmZlciQzICE9PSAndW5kZWZpbmVkJyAmJiBCdWZmZXIkMy5pc0J1ZmZlcih0aGlzLmJ1ZmZlcikgJiYgdGhpcy5idWZmZXIubGVuZ3RoID09PSB0aGlzLnBvc2l0aW9uKSByZXR1cm4gdGhpcy5idWZmZXI7IC8vIElmIGl0J3MgYSBub2RlLmpzIGJ1ZmZlciBvYmplY3RcblxuICAgICAgaWYgKHR5cGVvZiBCdWZmZXIkMyAhPT0gJ3VuZGVmaW5lZCcgJiYgQnVmZmVyJDMuaXNCdWZmZXIodGhpcy5idWZmZXIpKSB7XG4gICAgICAgIHJldHVybiBhc1JhdyA/IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMucG9zaXRpb24pIDogdGhpcy5idWZmZXIudG9TdHJpbmcoJ2JpbmFyeScsIDAsIHRoaXMucG9zaXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFzUmF3KSB7XG4gICAgICAgICAgLy8gd2Ugc3VwcG9ydCB0aGUgc2xpY2UgY29tbWFuZCB1c2UgaXRcbiAgICAgICAgICBpZiAodGhpcy5idWZmZXJbJ3NsaWNlJ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMucG9zaXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgYnVmZmVyIHRvIGNvcHkgY29udGVudCB0b1xuICAgICAgICAgICAgdmFyIG5ld0J1ZmZlciA9IGlzVWludDhBcnJheSh0aGlzLmJ1ZmZlcikgPyBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodGhpcy5wb3NpdGlvbikpIDogbmV3IEFycmF5KHRoaXMucG9zaXRpb24pOyAvLyBDb3B5IGNvbnRlbnRcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBvc2l0aW9uOyBpKyspIHtcbiAgICAgICAgICAgICAgbmV3QnVmZmVyW2ldID0gdGhpcy5idWZmZXJbaV07XG4gICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgYnVmZmVyXG5cblxuICAgICAgICAgICAgcmV0dXJuIG5ld0J1ZmZlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnZlcnRBcnJheXRvVXRmOEJpbmFyeVN0cmluZyh0aGlzLmJ1ZmZlciwgMCwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTGVuZ3RoLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGxlbmd0aCBvZiB0aGUgYmluYXJ5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGVuZ3RoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyICE9IG51bGwgPyB0aGlzLmJ1ZmZlci50b1N0cmluZygnYmFzZTY0JykgOiAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoZm9ybWF0KSB7XG4gICAgICByZXR1cm4gdGhpcy5idWZmZXIgIT0gbnVsbCA/IHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMucG9zaXRpb24pLnRvU3RyaW5nKGZvcm1hdCkgOiAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidG9FeHRlbmRlZEpTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9FeHRlbmRlZEpTT04oKSB7XG4gICAgICB2YXIgYmFzZTY0U3RyaW5nID0gQnVmZmVyJDMuaXNCdWZmZXIodGhpcy5idWZmZXIpID8gdGhpcy5idWZmZXIudG9TdHJpbmcoJ2Jhc2U2NCcpIDogQnVmZmVyJDMuZnJvbSh0aGlzLmJ1ZmZlcikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgICAgdmFyIHN1YlR5cGUgPSBOdW1iZXIodGhpcy5zdWJfdHlwZSkudG9TdHJpbmcoMTYpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJGJpbmFyeToge1xuICAgICAgICAgIGJhc2U2NDogYmFzZTY0U3RyaW5nLFxuICAgICAgICAgIHN1YlR5cGU6IHN1YlR5cGUubGVuZ3RoID09PSAxID8gJzAnICsgc3ViVHlwZSA6IHN1YlR5cGVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogXCJmcm9tRXh0ZW5kZWRKU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZyb21FeHRlbmRlZEpTT04oZG9jKSB7XG4gICAgICB2YXIgdHlwZSA9IGRvYy4kYmluYXJ5LnN1YlR5cGUgPyBwYXJzZUludChkb2MuJGJpbmFyeS5zdWJUeXBlLCAxNikgOiAwO1xuICAgICAgdmFyIGRhdGEgPSBCdWZmZXIkMy5mcm9tKGRvYy4kYmluYXJ5LmJhc2U2NCwgJ2Jhc2U2NCcpO1xuICAgICAgcmV0dXJuIG5ldyBCaW5hcnkoZGF0YSwgdHlwZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJpbmFyeTtcbn0oKTtcbi8qKlxuICogQmluYXJ5IGRlZmF1bHQgc3VidHlwZVxuICogQGlnbm9yZVxuICovXG5cblxudmFyIEJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVCA9IDA7XG5cbmZ1bmN0aW9uIGlzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBVaW50OEFycmF5XSc7XG59XG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuXG5cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nVG9BcnJheShkYXRhKSB7XG4gIC8vIENyZWF0ZSBhIGJ1ZmZlclxuICB2YXIgYnVmZmVyJCQxID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGRhdGEubGVuZ3RoKSkgOiBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpOyAvLyBXcml0ZSB0aGUgY29udGVudCB0byB0aGUgYnVmZmVyXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgYnVmZmVyJCQxW2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICB9IC8vIFdyaXRlIHRoZSBzdHJpbmcgdG8gdGhlIGJ1ZmZlclxuXG5cbiAgcmV0dXJuIGJ1ZmZlciQkMTtcbn1cbi8qKlxuICogQ29udmVydCBBcnJheSBvdCBVaW50OEFycmF5IHRvIEJpbmFyeSBTdHJpbmdcbiAqXG4gKiBAaWdub3JlXG4gKi9cblxuXG5mdW5jdGlvbiBjb252ZXJ0QXJyYXl0b1V0ZjhCaW5hcnlTdHJpbmcoYnl0ZUFycmF5LCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlQXJyYXlbaV0pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuQmluYXJ5LkJVRkZFUl9TSVpFID0gMjU2O1xuLyoqXG4gKiBEZWZhdWx0IEJTT04gdHlwZVxuICpcbiAqIEBjbGFzc2NvbnN0YW50IFNVQlRZUEVfREVGQVVMVFxuICoqL1xuXG5CaW5hcnkuU1VCVFlQRV9ERUZBVUxUID0gMDtcbi8qKlxuICogRnVuY3Rpb24gQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX0ZVTkNUSU9OID0gMTtcbi8qKlxuICogQnl0ZSBBcnJheSBCU09OIHR5cGVcbiAqXG4gKiBAY2xhc3Njb25zdGFudCBTVUJUWVBFX0RFRkFVTFRcbiAqKi9cblxuQmluYXJ5LlNVQlRZUEVfQllURV9BUlJBWSA9IDI7XG4vKipcbiAqIE9MRCBVVUlEIEJTT04gdHlwZVxuICpcbiAqIEBjbGFzc2NvbnN0YW50IFNVQlRZUEVfREVGQVVMVFxuICoqL1xuXG5CaW5hcnkuU1VCVFlQRV9VVUlEX09MRCA9IDM7XG4vKipcbiAqIFVVSUQgQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX1VVSUQgPSA0O1xuLyoqXG4gKiBNRDUgQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX01ENSA9IDU7XG4vKipcbiAqIFVzZXIgQlNPTiB0eXBlXG4gKlxuICogQGNsYXNzY29uc3RhbnQgU1VCVFlQRV9ERUZBVUxUXG4gKiovXG5cbkJpbmFyeS5TVUJUWVBFX1VTRVJfREVGSU5FRCA9IDEyODtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaW5hcnkucHJvdG90eXBlLCAnX2Jzb250eXBlJywge1xuICB2YWx1ZTogJ0JpbmFyeSdcbn0pO1xudmFyIGJpbmFyeSA9IEJpbmFyeTtcblxudmFyIGNvbnN0YW50cyA9IHtcbiAgLy8gQlNPTiBNQVggVkFMVUVTXG4gIEJTT05fSU5UMzJfTUFYOiAweDdmZmZmZmZmLFxuICBCU09OX0lOVDMyX01JTjogLTB4ODAwMDAwMDAsXG4gIEJTT05fSU5UNjRfTUFYOiBNYXRoLnBvdygyLCA2MykgLSAxLFxuICBCU09OX0lOVDY0X01JTjogLU1hdGgucG93KDIsIDYzKSxcbiAgLy8gSlMgTUFYIFBSRUNJU0UgVkFMVUVTXG4gIEpTX0lOVF9NQVg6IDB4MjAwMDAwMDAwMDAwMDAsXG4gIC8vIEFueSBpbnRlZ2VyIHVwIHRvIDJeNTMgY2FuIGJlIHByZWNpc2VseSByZXByZXNlbnRlZCBieSBhIGRvdWJsZS5cbiAgSlNfSU5UX01JTjogLTB4MjAwMDAwMDAwMDAwMDAsXG4gIC8vIEFueSBpbnRlZ2VyIGRvd24gdG8gLTJeNTMgY2FuIGJlIHByZWNpc2VseSByZXByZXNlbnRlZCBieSBhIGRvdWJsZS5cblxuICAvKipcbiAgICogTnVtYmVyIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfTlVNQkVSXG4gICAqKi9cbiAgQlNPTl9EQVRBX05VTUJFUjogMSxcblxuICAvKipcbiAgICogU3RyaW5nIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfU1RSSU5HXG4gICAqKi9cbiAgQlNPTl9EQVRBX1NUUklORzogMixcblxuICAvKipcbiAgICogT2JqZWN0IEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfT0JKRUNUXG4gICAqKi9cbiAgQlNPTl9EQVRBX09CSkVDVDogMyxcblxuICAvKipcbiAgICogQXJyYXkgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9BUlJBWVxuICAgKiovXG4gIEJTT05fREFUQV9BUlJBWTogNCxcblxuICAvKipcbiAgICogQmluYXJ5IEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfQklOQVJZXG4gICAqKi9cbiAgQlNPTl9EQVRBX0JJTkFSWTogNSxcblxuICAvKipcbiAgICogQmluYXJ5IEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfVU5ERUZJTkVEXG4gICAqKi9cbiAgQlNPTl9EQVRBX1VOREVGSU5FRDogNixcblxuICAvKipcbiAgICogT2JqZWN0SWQgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9PSURcbiAgICoqL1xuICBCU09OX0RBVEFfT0lEOiA3LFxuXG4gIC8qKlxuICAgKiBCb29sZWFuIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfQk9PTEVBTlxuICAgKiovXG4gIEJTT05fREFUQV9CT09MRUFOOiA4LFxuXG4gIC8qKlxuICAgKiBEYXRlIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfREFURVxuICAgKiovXG4gIEJTT05fREFUQV9EQVRFOiA5LFxuXG4gIC8qKlxuICAgKiBudWxsIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfTlVMTFxuICAgKiovXG4gIEJTT05fREFUQV9OVUxMOiAxMCxcblxuICAvKipcbiAgICogUmVnRXhwIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfUkVHRVhQXG4gICAqKi9cbiAgQlNPTl9EQVRBX1JFR0VYUDogMTEsXG5cbiAgLyoqXG4gICAqIENvZGUgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9EQlBPSU5URVJcbiAgICoqL1xuICBCU09OX0RBVEFfREJQT0lOVEVSOiAxMixcblxuICAvKipcbiAgICogQ29kZSBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX0NPREVcbiAgICoqL1xuICBCU09OX0RBVEFfQ09ERTogMTMsXG5cbiAgLyoqXG4gICAqIFN5bWJvbCBCU09OIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9EQVRBX1NZTUJPTFxuICAgKiovXG4gIEJTT05fREFUQV9TWU1CT0w6IDE0LFxuXG4gIC8qKlxuICAgKiBDb2RlIHdpdGggU2NvcGUgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9DT0RFX1dfU0NPUEVcbiAgICoqL1xuICBCU09OX0RBVEFfQ09ERV9XX1NDT1BFOiAxNSxcblxuICAvKipcbiAgICogMzIgYml0IEludGVnZXIgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9JTlRcbiAgICoqL1xuICBCU09OX0RBVEFfSU5UOiAxNixcblxuICAvKipcbiAgICogVGltZXN0YW1wIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfVElNRVNUQU1QXG4gICAqKi9cbiAgQlNPTl9EQVRBX1RJTUVTVEFNUDogMTcsXG5cbiAgLyoqXG4gICAqIExvbmcgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9MT05HXG4gICAqKi9cbiAgQlNPTl9EQVRBX0xPTkc6IDE4LFxuXG4gIC8qKlxuICAgKiBMb25nIEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfREVDSU1BTDEyOFxuICAgKiovXG4gIEJTT05fREFUQV9ERUNJTUFMMTI4OiAxOSxcblxuICAvKipcbiAgICogTWluS2V5IEJTT04gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0RBVEFfTUlOX0tFWVxuICAgKiovXG4gIEJTT05fREFUQV9NSU5fS0VZOiAweGZmLFxuXG4gIC8qKlxuICAgKiBNYXhLZXkgQlNPTiBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fREFUQV9NQVhfS0VZXG4gICAqKi9cbiAgQlNPTl9EQVRBX01BWF9LRVk6IDB4N2YsXG5cbiAgLyoqXG4gICAqIEJpbmFyeSBEZWZhdWx0IFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUXG4gICAqKi9cbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9ERUZBVUxUOiAwLFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgRnVuY3Rpb24gVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OXG4gICAqKi9cbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9GVU5DVElPTjogMSxcblxuICAvKipcbiAgICogQmluYXJ5IEJ5dGUgQXJyYXkgVHlwZVxuICAgKlxuICAgKiBAY2xhc3Njb25zdGFudCBCU09OX0JJTkFSWV9TVUJUWVBFX0JZVEVfQVJSQVlcbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX0JZVEVfQVJSQVk6IDIsXG5cbiAgLyoqXG4gICAqIEJpbmFyeSBVVUlEIFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlEXG4gICAqKi9cbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlEOiAzLFxuXG4gIC8qKlxuICAgKiBCaW5hcnkgTUQ1IFR5cGVcbiAgICpcbiAgICogQGNsYXNzY29uc3RhbnQgQlNPTl9CSU5BUllfU1VCVFlQRV9NRDVcbiAgICoqL1xuICBCU09OX0JJTkFSWV9TVUJUWVBFX01ENTogNCxcblxuICAvKipcbiAgICogQmluYXJ5IFVzZXIgRGVmaW5lZCBUeXBlXG4gICAqXG4gICAqIEBjbGFzc2NvbnN0YW50IEJTT05fQklOQVJZX1NVQlRZUEVfVVNFUl9ERUZJTkVEXG4gICAqKi9cbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORUQ6IDEyOFxufTtcblxuZnVuY3Rpb24gX3R5cGVvZiQyKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiQyID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YkMiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mJDIob2JqKTsgfVxuLy8gY29uc3QgTWFwID0gcmVxdWlyZSgnLi9tYXAnKTtcblxuLyoqXG4gKiBAbmFtZXNwYWNlIEVKU09OXG4gKi9cbi8vIGFsbCB0aGUgdHlwZXMgd2hlcmUgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgc3BlY2lhbCBwcm9jZXNzaW5nIGFuZCBjYW4ganVzdCBwYXNzIHRoZSBFSlNPTlxuLy9zdHJhaWdodCB0byB0eXBlLmZyb21FeHRlbmRlZEpTT05cblxuXG52YXIga2V5c1RvQ29kZWNzID0ge1xuICAkb2lkOiBvYmplY3RpZCxcbiAgJGJpbmFyeTogYmluYXJ5LFxuICAkc3ltYm9sOiBzeW1ib2wsXG4gICRudW1iZXJJbnQ6IGludF8zMixcbiAgJG51bWJlckRlY2ltYWw6IGRlY2ltYWwxMjgsXG4gICRudW1iZXJEb3VibGU6IGRvdWJsZV8xLFxuICAkbnVtYmVyTG9uZzogbG9uZ18xLFxuICAkbWluS2V5OiBtaW5fa2V5LFxuICAkbWF4S2V5OiBtYXhfa2V5LFxuICAkcmVndWxhckV4cHJlc3Npb246IHJlZ2V4cCxcbiAgJHRpbWVzdGFtcDogdGltZXN0YW1wXG59O1xuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVZhbHVlKHNlbGYsIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAob3B0aW9ucy5yZWxheGVkKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSAvLyBpZiBpdCdzIGFuIGludGVnZXIsIHNob3VsZCBpbnRlcnByZXQgYXMgc21hbGxlc3QgQlNPTiBpbnRlZ2VyXG4gICAgLy8gdGhhdCBjYW4gcmVwcmVzZW50IGl0IGV4YWN0bHkuIChpZiBvdXQgb2YgcmFuZ2UsIGludGVycHJldCBhcyBkb3VibGUuKVxuXG5cbiAgICBpZiAoTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPj0gQlNPTl9JTlQzMl9NSU4gJiYgdmFsdWUgPD0gQlNPTl9JTlQzMl9NQVgpIHJldHVybiBuZXcgaW50XzMyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA+PSBCU09OX0lOVDY0X01JTiAmJiB2YWx1ZSA8PSBCU09OX0lOVDY0X01BWCkgcmV0dXJuIG5ldyBsb25nXzEuZnJvbU51bWJlcih2YWx1ZSk7XG4gICAgfSAvLyBJZiB0aGUgbnVtYmVyIGlzIGEgbm9uLWludGVnZXIgb3Igb3V0IG9mIGludGVnZXIgcmFuZ2UsIHNob3VsZCBpbnRlcnByZXQgYXMgQlNPTiBEb3VibGUuXG5cblxuICAgIHJldHVybiBuZXcgZG91YmxlXzEodmFsdWUpO1xuICB9IC8vIGZyb20gaGVyZSBvbiBvdXQgd2UncmUgbG9va2luZyBmb3IgYnNvbiB0eXBlcywgc28gYmFpbCBpZiBpdHMgbm90IGFuIG9iamVjdFxuXG5cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgX3R5cGVvZiQyKHZhbHVlKSAhPT0gJ29iamVjdCcpIHJldHVybiB2YWx1ZTsgLy8gdXBncmFkZSBkZXByZWNhdGVkIHVuZGVmaW5lZCB0byBudWxsXG5cbiAgaWYgKHZhbHVlLiR1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gay5zdGFydHNXaXRoKCckJykgJiYgdmFsdWVba10gIT0gbnVsbDtcbiAgfSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGMgPSBrZXlzVG9Db2RlY3Nba2V5c1tpXV07XG4gICAgaWYgKGMpIHJldHVybiBjLmZyb21FeHRlbmRlZEpTT04odmFsdWUsIG9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKHZhbHVlLiRkYXRlICE9IG51bGwpIHtcbiAgICB2YXIgZCA9IHZhbHVlLiRkYXRlO1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBpZiAodHlwZW9mIGQgPT09ICdzdHJpbmcnKSBkYXRlLnNldFRpbWUoRGF0ZS5wYXJzZShkKSk7ZWxzZSBpZiAobG9uZ18xLmlzTG9uZyhkKSkgZGF0ZS5zZXRUaW1lKGQudG9OdW1iZXIoKSk7ZWxzZSBpZiAodHlwZW9mIGQgPT09ICdudW1iZXInICYmIG9wdGlvbnMucmVsYXhlZCkgZGF0ZS5zZXRUaW1lKGQpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG5cbiAgaWYgKHZhbHVlLiRjb2RlICE9IG51bGwpIHtcbiAgICB2YXIgY29weSA9IE9iamVjdC5hc3NpZ24oe30sIHZhbHVlKTtcblxuICAgIGlmICh2YWx1ZS4kc2NvcGUpIHtcbiAgICAgIGNvcHkuJHNjb3BlID0gZGVzZXJpYWxpemVWYWx1ZShzZWxmLCBudWxsLCB2YWx1ZS4kc2NvcGUpO1xuICAgIH1cblxuICAgIHJldHVybiBjb2RlLmZyb21FeHRlbmRlZEpTT04odmFsdWUpO1xuICB9XG5cbiAgaWYgKHZhbHVlLiRyZWYgIT0gbnVsbCB8fCB2YWx1ZS4kZGJQb2ludGVyICE9IG51bGwpIHtcbiAgICB2YXIgdiA9IHZhbHVlLiRyZWYgPyB2YWx1ZSA6IHZhbHVlLiRkYlBvaW50ZXI7IC8vIHdlIHJ1biBpbnRvIHRoaXMgaW4gYSBcImRlZ2VuZXJhdGUgRUpTT05cIiBjYXNlICh3aXRoICRpZCBhbmQgJHJlZiBvcmRlciBmbGlwcGVkKVxuICAgIC8vIGJlY2F1c2Ugb2YgdGhlIG9yZGVyIEpTT04ucGFyc2UgZ29lcyB0aHJvdWdoIHRoZSBkb2N1bWVudFxuXG4gICAgaWYgKHYgaW5zdGFuY2VvZiBkYl9yZWYpIHJldHVybiB2O1xuICAgIHZhciBkb2xsYXJLZXlzID0gT2JqZWN0LmtleXModikuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICByZXR1cm4gay5zdGFydHNXaXRoKCckJyk7XG4gICAgfSk7XG4gICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICBkb2xsYXJLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgIGlmIChbJyRyZWYnLCAnJGlkJywgJyRkYiddLmluZGV4T2YoaykgPT09IC0xKSB2YWxpZCA9IGZhbHNlO1xuICAgIH0pOyAvLyBvbmx5IG1ha2UgREJSZWYgaWYgJCBrZXlzIGFyZSBhbGwgdmFsaWRcblxuICAgIGlmICh2YWxpZCkgcmV0dXJuIGRiX3JlZi5mcm9tRXh0ZW5kZWRKU09OKHYpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBQYXJzZSBhbiBFeHRlbmRlZCBKU09OIHN0cmluZywgY29uc3RydWN0aW5nIHRoZSBKYXZhU2NyaXB0IHZhbHVlIG9yIG9iamVjdCBkZXNjcmliZWQgYnkgdGhhdFxuICogc3RyaW5nLlxuICpcbiAqIEBtZW1iZXJvZiBFSlNPTlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgc2V0dGluZ3NcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVsYXhlZD10cnVlXSBBdHRlbXB0IHRvIHJldHVybiBuYXRpdmUgSlMgdHlwZXMgd2hlcmUgcG9zc2libGUsIHJhdGhlciB0aGFuIEJTT04gdHlwZXMgKGlmIHRydWUpXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHsgRUpTT04gfSA9IHJlcXVpcmUoJ2Jzb24nKTtcbiAqIGNvbnN0IHRleHQgPSAneyBcImludDMyXCI6IHsgXCIkbnVtYmVySW50XCI6IFwiMTBcIiB9IH0nO1xuICpcbiAqIC8vIHByaW50cyB7IGludDMyOiB7IFtTdHJpbmc6ICcxMCddIF9ic29udHlwZTogJ0ludDMyJywgdmFsdWU6ICcxMCcgfSB9XG4gKiBjb25zb2xlLmxvZyhFSlNPTi5wYXJzZSh0ZXh0LCB7IHJlbGF4ZWQ6IGZhbHNlIH0pKTtcbiAqXG4gKiAvLyBwcmludHMgeyBpbnQzMjogMTAgfVxuICogY29uc29sZS5sb2coRUpTT04ucGFyc2UodGV4dCkpO1xuICovXG5cblxuZnVuY3Rpb24gcGFyc2UodGV4dCwgb3B0aW9ucykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgcmVsYXhlZDogdHJ1ZVxuICB9LCBvcHRpb25zKTsgLy8gcmVsYXhlZCBpbXBsaWVzIG5vdCBzdHJpY3RcblxuICBpZiAodHlwZW9mIG9wdGlvbnMucmVsYXhlZCA9PT0gJ2Jvb2xlYW4nKSBvcHRpb25zLnN0cmljdCA9ICFvcHRpb25zLnJlbGF4ZWQ7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5zdHJpY3QgPT09ICdib29sZWFuJykgb3B0aW9ucy5yZWxheGVkID0gIW9wdGlvbnMuc3RyaWN0O1xuICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZVZhbHVlKF90aGlzLCBrZXksIHZhbHVlLCBvcHRpb25zKTtcbiAgfSk7XG59IC8vXG4vLyBTZXJpYWxpemVyXG4vL1xuLy8gTUFYIElOVDMyIGJvdW5kYXJpZXNcblxuXG52YXIgQlNPTl9JTlQzMl9NQVggPSAweDdmZmZmZmZmLFxuICAgIEJTT05fSU5UMzJfTUlOID0gLTB4ODAwMDAwMDAsXG4gICAgQlNPTl9JTlQ2NF9NQVggPSAweDdmZmZmZmZmZmZmZmZmZmYsXG4gICAgQlNPTl9JTlQ2NF9NSU4gPSAtMHg4MDAwMDAwMDAwMDAwMDAwO1xuLyoqXG4gKiBDb252ZXJ0cyBhIEJTT04gZG9jdW1lbnQgdG8gYW4gRXh0ZW5kZWQgSlNPTiBzdHJpbmcsIG9wdGlvbmFsbHkgcmVwbGFjaW5nIHZhbHVlcyBpZiBhIHJlcGxhY2VyXG4gKiBmdW5jdGlvbiBpcyBzcGVjaWZpZWQgb3Igb3B0aW9uYWxseSBpbmNsdWRpbmcgb25seSB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMgaWYgYSByZXBsYWNlciBhcnJheVxuICogaXMgc3BlY2lmaWVkLlxuICpcbiAqIEBtZW1iZXJvZiBFSlNPTlxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGV4dGVuZGVkIEpTT05cbiAqIEBwYXJhbSB7ZnVuY3Rpb258YXJyYXl9IFtyZXBsYWNlcl0gQSBmdW5jdGlvbiB0aGF0IGFsdGVycyB0aGUgYmVoYXZpb3Igb2YgdGhlIHN0cmluZ2lmaWNhdGlvbiBwcm9jZXNzLCBvciBhbiBhcnJheSBvZiBTdHJpbmcgYW5kIE51bWJlciBvYmplY3RzIHRoYXQgc2VydmUgYXMgYSB3aGl0ZWxpc3QgZm9yIHNlbGVjdGluZy9maWx0ZXJpbmcgdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZhbHVlIG9iamVjdCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgSlNPTiBzdHJpbmcuIElmIHRoaXMgdmFsdWUgaXMgbnVsbCBvciBub3QgcHJvdmlkZWQsIGFsbCBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHRpbmcgSlNPTiBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3NwYWNlXSBBIFN0cmluZyBvciBOdW1iZXIgb2JqZWN0IHRoYXQncyB1c2VkIHRvIGluc2VydCB3aGl0ZSBzcGFjZSBpbnRvIHRoZSBvdXRwdXQgSlNPTiBzdHJpbmcgZm9yIHJlYWRhYmlsaXR5IHB1cnBvc2VzLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBzZXR0aW5nc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZWxheGVkPXRydWVdIEVuYWJsZWQgRXh0ZW5kZWQgSlNPTidzIGByZWxheGVkYCBtb2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCB7IEVKU09OIH0gPSByZXF1aXJlKCdic29uJyk7XG4gKiBjb25zdCBJbnQzMiA9IHJlcXVpcmUoJ21vbmdvZGInKS5JbnQzMjtcbiAqIGNvbnN0IGRvYyA9IHsgaW50MzI6IG5ldyBJbnQzMigxMCkgfTtcbiAqXG4gKiAvLyBwcmludHMgJ3tcImludDMyXCI6e1wiJG51bWJlckludFwiOlwiMTBcIn19J1xuICogY29uc29sZS5sb2coRUpTT04uc3RyaW5naWZ5KGRvYywgeyByZWxheGVkOiBmYWxzZSB9KSk7XG4gKlxuICogLy8gcHJpbnRzICd7XCJpbnQzMlwiOjEwfSdcbiAqIGNvbnNvbGUubG9nKEVKU09OLnN0cmluZ2lmeShkb2MpKTtcbiAqL1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSwgb3B0aW9ucykge1xuICBpZiAoc3BhY2UgIT0gbnVsbCAmJiBfdHlwZW9mJDIoc3BhY2UpID09PSAnb2JqZWN0Jykge1xuICAgIG9wdGlvbnMgPSBzcGFjZTtcbiAgICBzcGFjZSA9IDA7XG4gIH1cblxuICBpZiAocmVwbGFjZXIgIT0gbnVsbCAmJiBfdHlwZW9mJDIocmVwbGFjZXIpID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShyZXBsYWNlcikpIHtcbiAgICBvcHRpb25zID0gcmVwbGFjZXI7XG4gICAgcmVwbGFjZXIgPSBudWxsO1xuICAgIHNwYWNlID0gMDtcbiAgfVxuXG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgcmVsYXhlZDogdHJ1ZVxuICB9LCBvcHRpb25zKTtcbiAgdmFyIGRvYyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gc2VyaWFsaXplQXJyYXkodmFsdWUsIG9wdGlvbnMpIDogc2VyaWFsaXplRG9jdW1lbnQodmFsdWUsIG9wdGlvbnMpO1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZG9jLCByZXBsYWNlciwgc3BhY2UpO1xufVxuLyoqXG4gKiBTZXJpYWxpemVzIGFuIG9iamVjdCB0byBhbiBFeHRlbmRlZCBKU09OIHN0cmluZywgYW5kIHJlcGFyc2UgaXQgYXMgYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgRUpTT05cbiAqIEBwYXJhbSB7b2JqZWN0fSBic29uIFRoZSBvYmplY3QgdG8gc2VyaWFsaXplXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIHNldHRpbmdzIHBhc3NlZCB0byB0aGUgYHN0cmluZ2lmeWAgZnVuY3Rpb25cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShic29uLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHJpbmdpZnkoYnNvbiwgb3B0aW9ucykpO1xufVxuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgYW4gRXh0ZW5kZWQgSlNPTiBvYmplY3QgaW50byBhIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0IHdpdGggbmF0aXZlL0JTT04gdHlwZXNcbiAqXG4gKiBAbWVtYmVyb2YgRUpTT05cbiAqIEBwYXJhbSB7b2JqZWN0fSBlanNvbiBUaGUgRXh0ZW5kZWQgSlNPTiBvYmplY3QgdG8gZGVzZXJpYWxpemVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgc2V0dGluZ3MgcGFzc2VkIHRvIHRoZSBwYXJzZSBtZXRob2RcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplKGVqc29uLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICByZXR1cm4gcGFyc2UoSlNPTi5zdHJpbmdpZnkoZWpzb24pLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplQXJyYXkoYXJyYXksIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAodikge1xuICAgIHJldHVybiBzZXJpYWxpemVWYWx1ZSh2LCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1N0cmluZyhkYXRlKSB7XG4gIHZhciBpc29TdHIgPSBkYXRlLnRvSVNPU3RyaW5nKCk7IC8vIHdlIHNob3VsZCBvbmx5IHNob3cgbWlsbGlzZWNvbmRzIGluIHRpbWVzdGFtcCBpZiB0aGV5J3JlIG5vbi16ZXJvXG5cbiAgcmV0dXJuIGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgIT09IDAgPyBpc29TdHIgOiBpc29TdHIuc2xpY2UoMCwgLTUpICsgJ1onO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiBzZXJpYWxpemVBcnJheSh2YWx1ZSwgb3B0aW9ucyk7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcblxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgdmFyIGRhdGVOdW0gPSB2YWx1ZS5nZXRUaW1lKCksXG4gICAgICAgIC8vIGlzIGl0IGluIHllYXIgcmFuZ2UgMTk3MC05OTk5P1xuICAgIGluUmFuZ2UgPSBkYXRlTnVtID4gLTEgJiYgZGF0ZU51bSA8IDI1MzQwMjMxODgwMDAwMDtcbiAgICByZXR1cm4gb3B0aW9ucy5yZWxheGVkICYmIGluUmFuZ2UgPyB7XG4gICAgICAkZGF0ZTogZ2V0SVNPU3RyaW5nKHZhbHVlKVxuICAgIH0gOiB7XG4gICAgICAkZGF0ZToge1xuICAgICAgICAkbnVtYmVyTG9uZzogdmFsdWUuZ2V0VGltZSgpLnRvU3RyaW5nKClcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIW9wdGlvbnMucmVsYXhlZCkge1xuICAgIC8vIGl0J3MgYW4gaW50ZWdlclxuICAgIGlmIChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgIHZhciBpbnQzMlJhbmdlID0gdmFsdWUgPj0gQlNPTl9JTlQzMl9NSU4gJiYgdmFsdWUgPD0gQlNPTl9JTlQzMl9NQVgsXG4gICAgICAgICAgaW50NjRSYW5nZSA9IHZhbHVlID49IEJTT05fSU5UNjRfTUlOICYmIHZhbHVlIDw9IEJTT05fSU5UNjRfTUFYOyAvLyBpbnRlcnByZXQgYXMgYmVpbmcgb2YgdGhlIHNtYWxsZXN0IEJTT04gaW50ZWdlciB0eXBlIHRoYXQgY2FuIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHlcblxuICAgICAgaWYgKGludDMyUmFuZ2UpIHJldHVybiB7XG4gICAgICAgICRudW1iZXJJbnQ6IHZhbHVlLnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgICBpZiAoaW50NjRSYW5nZSkgcmV0dXJuIHtcbiAgICAgICAgJG51bWJlckxvbmc6IHZhbHVlLnRvU3RyaW5nKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICRudW1iZXJEb3VibGU6IHZhbHVlLnRvU3RyaW5nKClcbiAgICB9O1xuICB9XG5cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgdmFyIGZsYWdzID0gdmFsdWUuZmxhZ3M7XG5cbiAgICBpZiAoZmxhZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZmxhZ3MgPSB2YWx1ZS50b1N0cmluZygpLm1hdGNoKC9bZ2ltdXldKiQvKVswXTtcbiAgICB9XG5cbiAgICB2YXIgcnggPSBuZXcgcmVnZXhwKHZhbHVlLnNvdXJjZSwgZmxhZ3MpO1xuICAgIHJldHVybiByeC50b0V4dGVuZGVkSlNPTigpO1xuICB9XG5cbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgX3R5cGVvZiQyKHZhbHVlKSA9PT0gJ29iamVjdCcpIHJldHVybiBzZXJpYWxpemVEb2N1bWVudCh2YWx1ZSwgb3B0aW9ucyk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIEJTT05fVFlQRV9NQVBQSU5HUyA9IHtcbiAgQmluYXJ5OiBmdW5jdGlvbiBCaW5hcnkobykge1xuICAgIHJldHVybiBuZXcgYmluYXJ5KG8udmFsdWUoKSwgby5zdWJ0eXBlKTtcbiAgfSxcbiAgQ29kZTogZnVuY3Rpb24gQ29kZShvKSB7XG4gICAgcmV0dXJuIG5ldyBjb2RlKG8uY29kZSwgby5zY29wZSk7XG4gIH0sXG4gIERCUmVmOiBmdW5jdGlvbiBEQlJlZihvKSB7XG4gICAgcmV0dXJuIG5ldyBkYl9yZWYoby5jb2xsZWN0aW9uIHx8IG8ubmFtZXNwYWNlLCBvLm9pZCwgby5kYiwgby5maWVsZHMpO1xuICB9LFxuICAvLyBcIm5hbWVzcGFjZVwiIGZvciAxLnggbGlicmFyeSBiYWNrd2FyZHMgY29tcGF0XG4gIERlY2ltYWwxMjg6IGZ1bmN0aW9uIERlY2ltYWwxMjgobykge1xuICAgIHJldHVybiBuZXcgZGVjaW1hbDEyOChvLmJ5dGVzKTtcbiAgfSxcbiAgRG91YmxlOiBmdW5jdGlvbiBEb3VibGUobykge1xuICAgIHJldHVybiBuZXcgZG91YmxlXzEoby52YWx1ZSk7XG4gIH0sXG4gIEludDMyOiBmdW5jdGlvbiBJbnQzMihvKSB7XG4gICAgcmV0dXJuIG5ldyBpbnRfMzIoby52YWx1ZSk7XG4gIH0sXG4gIExvbmc6IGZ1bmN0aW9uIExvbmcobykge1xuICAgIHJldHVybiBsb25nXzEuZnJvbUJpdHMoIC8vIHVuZGVyc2NvcmUgdmFyaWFudHMgZm9yIDEueCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgIG8ubG93ICE9IG51bGwgPyBvLmxvdyA6IG8ubG93Xywgby5sb3cgIT0gbnVsbCA/IG8uaGlnaCA6IG8uaGlnaF8sIG8ubG93ICE9IG51bGwgPyBvLnVuc2lnbmVkIDogby51bnNpZ25lZF8pO1xuICB9LFxuICBNYXhLZXk6IGZ1bmN0aW9uIE1heEtleSgpIHtcbiAgICByZXR1cm4gbmV3IG1heF9rZXkoKTtcbiAgfSxcbiAgTWluS2V5OiBmdW5jdGlvbiBNaW5LZXkoKSB7XG4gICAgcmV0dXJuIG5ldyBtaW5fa2V5KCk7XG4gIH0sXG4gIE9iamVjdElEOiBmdW5jdGlvbiBPYmplY3RJRChvKSB7XG4gICAgcmV0dXJuIG5ldyBvYmplY3RpZChvKTtcbiAgfSxcbiAgT2JqZWN0SWQ6IGZ1bmN0aW9uIE9iamVjdElkKG8pIHtcbiAgICByZXR1cm4gbmV3IG9iamVjdGlkKG8pO1xuICB9LFxuICAvLyBzdXBwb3J0IDQuMC4wLzQuMC4xIGJlZm9yZSBfYnNvbnR5cGUgd2FzIHJldmVydGVkIGJhY2sgdG8gT2JqZWN0SURcbiAgQlNPTlJlZ0V4cDogZnVuY3Rpb24gQlNPTlJlZ0V4cChvKSB7XG4gICAgcmV0dXJuIG5ldyByZWdleHAoby5wYXR0ZXJuLCBvLm9wdGlvbnMpO1xuICB9LFxuICBTeW1ib2w6IGZ1bmN0aW9uIFN5bWJvbChvKSB7XG4gICAgcmV0dXJuIG5ldyBzeW1ib2woby52YWx1ZSk7XG4gIH0sXG4gIFRpbWVzdGFtcDogZnVuY3Rpb24gVGltZXN0YW1wKG8pIHtcbiAgICByZXR1cm4gdGltZXN0YW1wLmZyb21CaXRzKG8ubG93LCBvLmhpZ2gpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzZXJpYWxpemVEb2N1bWVudChkb2MsIG9wdGlvbnMpIHtcbiAgaWYgKGRvYyA9PSBudWxsIHx8IF90eXBlb2YkMihkb2MpICE9PSAnb2JqZWN0JykgdGhyb3cgbmV3IEVycm9yKCdub3QgYW4gb2JqZWN0IGluc3RhbmNlJyk7XG4gIHZhciBic29udHlwZSA9IGRvYy5fYnNvbnR5cGU7XG5cbiAgaWYgKHR5cGVvZiBic29udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBJdCdzIGEgcmVndWxhciBvYmplY3QuIFJlY3Vyc2l2ZWx5IHNlcmlhbGl6ZSBpdHMgcHJvcGVydHkgdmFsdWVzLlxuICAgIHZhciBfZG9jID0ge307XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIGRvYykge1xuICAgICAgX2RvY1tuYW1lXSA9IHNlcmlhbGl6ZVZhbHVlKGRvY1tuYW1lXSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9kb2M7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJzb250eXBlID09PSAnc3RyaW5nJykge1xuICAgIC8vIHRoZSBcImRvY3VtZW50XCIgaXMgcmVhbGx5IGp1c3QgYSBCU09OIHR5cGUgb2JqZWN0XG4gICAgdmFyIF9kb2MyID0gZG9jO1xuXG4gICAgaWYgKHR5cGVvZiBfZG9jMi50b0V4dGVuZGVkSlNPTiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gVGhlcmUncyBubyBFSlNPTiBzZXJpYWxpemF0aW9uIGZ1bmN0aW9uIG9uIHRoZSBvYmplY3QuIEl0J3MgcHJvYmFibHkgYW5cbiAgICAgIC8vIG9iamVjdCBjcmVhdGVkIGJ5IGEgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGlzIGxpYnJhcnkgKG9yIGFub3RoZXIgbGlicmFyeSlcbiAgICAgIC8vIHRoYXQncyBkdWNrLXR5cGluZyBvYmplY3RzIHRvIGxvb2sgbGlrZSB0aGV5IHdlcmUgZ2VuZXJhdGVkIGJ5IHRoaXMgbGlicmFyeSkuXG4gICAgICAvLyBDb3B5IHRoZSBvYmplY3QgaW50byB0aGlzIGxpYnJhcnkncyB2ZXJzaW9uIG9mIHRoYXQgdHlwZS5cbiAgICAgIHZhciBtYXBwZXIgPSBCU09OX1RZUEVfTUFQUElOR1NbYnNvbnR5cGVdO1xuXG4gICAgICBpZiAoIW1hcHBlcikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnJlY29nbml6ZWQgb3IgaW52YWxpZCBfYnNvbnR5cGU6ICcgKyBic29udHlwZSk7XG4gICAgICB9XG5cbiAgICAgIF9kb2MyID0gbWFwcGVyKF9kb2MyKTtcbiAgICB9IC8vIFR3byBCU09OIHR5cGVzIG1heSBoYXZlIG5lc3RlZCBvYmplY3RzIHRoYXQgbWF5IG5lZWQgdG8gYmUgc2VyaWFsaXplZCB0b29cblxuXG4gICAgaWYgKGJzb250eXBlID09PSAnQ29kZScgJiYgX2RvYzIuc2NvcGUpIHtcbiAgICAgIF9kb2MyID0gbmV3IGNvZGUoX2RvYzIuY29kZSwgc2VyaWFsaXplVmFsdWUoX2RvYzIuc2NvcGUsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2UgaWYgKGJzb250eXBlID09PSAnREJSZWYnICYmIF9kb2MyLm9pZCkge1xuICAgICAgX2RvYzIgPSBuZXcgZGJfcmVmKF9kb2MyLmNvbGxlY3Rpb24sIHNlcmlhbGl6ZVZhbHVlKF9kb2MyLm9pZCwgb3B0aW9ucyksIF9kb2MyLmRiLCBfZG9jMi5maWVsZHMpO1xuICAgIH1cblxuICAgIHJldHVybiBfZG9jMi50b0V4dGVuZGVkSlNPTihvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ19ic29udHlwZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgd2FzOiAnICsgX3R5cGVvZiQyKGJzb250eXBlKSk7XG4gIH1cbn1cblxudmFyIGV4dGVuZGVkX2pzb24gPSB7XG4gIHBhcnNlOiBwYXJzZSxcbiAgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICBzZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgc3RyaW5naWZ5OiBzdHJpbmdpZnlcbn07XG5cbnZhciBGSVJTVF9CSVQgPSAweDgwO1xudmFyIEZJUlNUX1RXT19CSVRTID0gMHhjMDtcbnZhciBGSVJTVF9USFJFRV9CSVRTID0gMHhlMDtcbnZhciBGSVJTVF9GT1VSX0JJVFMgPSAweGYwO1xudmFyIEZJUlNUX0ZJVkVfQklUUyA9IDB4Zjg7XG52YXIgVFdPX0JJVF9DSEFSID0gMHhjMDtcbnZhciBUSFJFRV9CSVRfQ0hBUiA9IDB4ZTA7XG52YXIgRk9VUl9CSVRfQ0hBUiA9IDB4ZjA7XG52YXIgQ09OVElOVUlOR19DSEFSID0gMHg4MDtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcGFzc2VkIGluIGJ5dGVzIGFyZSB2YWxpZCB1dGY4XG4gKiBAcGFyYW0ge0J1ZmZlcnxVaW50OEFycmF5fSBieXRlcyBBbiBhcnJheSBvZiA4LWJpdCBieXRlcy4gTXVzdCBiZSBpbmRleGFibGUgYW5kIGhhdmUgbGVuZ3RoIHByb3BlcnR5XG4gKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgVGhlIGluZGV4IHRvIHN0YXJ0IHZhbGlkYXRpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgVGhlIGluZGV4IHRvIGVuZCB2YWxpZGF0aW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWxpZCB1dGY4XG4gKi9cblxuZnVuY3Rpb24gdmFsaWRhdGVVdGY4KGJ5dGVzLCBzdGFydCwgZW5kKSB7XG4gIHZhciBjb250aW51YXRpb24gPSAwO1xuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAxKSB7XG4gICAgdmFyIGJ5dGUgPSBieXRlc1tpXTtcblxuICAgIGlmIChjb250aW51YXRpb24pIHtcbiAgICAgIGlmICgoYnl0ZSAmIEZJUlNUX1RXT19CSVRTKSAhPT0gQ09OVElOVUlOR19DSEFSKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgY29udGludWF0aW9uIC09IDE7XG4gICAgfSBlbHNlIGlmIChieXRlICYgRklSU1RfQklUKSB7XG4gICAgICBpZiAoKGJ5dGUgJiBGSVJTVF9USFJFRV9CSVRTKSA9PT0gVFdPX0JJVF9DSEFSKSB7XG4gICAgICAgIGNvbnRpbnVhdGlvbiA9IDE7XG4gICAgICB9IGVsc2UgaWYgKChieXRlICYgRklSU1RfRk9VUl9CSVRTKSA9PT0gVEhSRUVfQklUX0NIQVIpIHtcbiAgICAgICAgY29udGludWF0aW9uID0gMjtcbiAgICAgIH0gZWxzZSBpZiAoKGJ5dGUgJiBGSVJTVF9GSVZFX0JJVFMpID09PSBGT1VSX0JJVF9DSEFSKSB7XG4gICAgICAgIGNvbnRpbnVhdGlvbiA9IDM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICFjb250aW51YXRpb247XG59XG5cbnZhciB2YWxpZGF0ZVV0ZjhfMSA9IHZhbGlkYXRlVXRmODtcbnZhciB2YWxpZGF0ZV91dGY4ID0ge1xuICB2YWxpZGF0ZVV0Zjg6IHZhbGlkYXRlVXRmOF8xXG59O1xuXG52YXIgQnVmZmVyJDQgPSBidWZmZXIuQnVmZmVyO1xudmFyIHZhbGlkYXRlVXRmOCQxID0gdmFsaWRhdGVfdXRmOC52YWxpZGF0ZVV0Zjg7IC8vIEludGVybmFsIGxvbmcgdmVyc2lvbnNcblxudmFyIEpTX0lOVF9NQVhfTE9ORyA9IGxvbmdfMS5mcm9tTnVtYmVyKGNvbnN0YW50cy5KU19JTlRfTUFYKTtcbnZhciBKU19JTlRfTUlOX0xPTkcgPSBsb25nXzEuZnJvbU51bWJlcihjb25zdGFudHMuSlNfSU5UX01JTik7XG52YXIgZnVuY3Rpb25DYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZSQxKGJ1ZmZlciQkMSwgb3B0aW9ucywgaXNBcnJheSkge1xuICBvcHRpb25zID0gb3B0aW9ucyA9PSBudWxsID8ge30gOiBvcHRpb25zO1xuICB2YXIgaW5kZXggPSBvcHRpb25zICYmIG9wdGlvbnMuaW5kZXggPyBvcHRpb25zLmluZGV4IDogMDsgLy8gUmVhZCB0aGUgZG9jdW1lbnQgc2l6ZVxuXG4gIHZhciBzaXplID0gYnVmZmVyJCQxW2luZGV4XSB8IGJ1ZmZlciQkMVtpbmRleCArIDFdIDw8IDggfCBidWZmZXIkJDFbaW5kZXggKyAyXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCArIDNdIDw8IDI0O1xuXG4gIGlmIChzaXplIDwgNSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJzb24gc2l6ZSBtdXN0IGJlID49IDUsIGlzIFwiLmNvbmNhdChzaXplKSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hbGxvd09iamVjdFNtYWxsZXJUaGFuQnVmZmVyU2l6ZSAmJiBidWZmZXIkJDEubGVuZ3RoIDwgc2l6ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJ1ZmZlciBsZW5ndGggXCIuY29uY2F0KGJ1ZmZlciQkMS5sZW5ndGgsIFwiIG11c3QgYmUgPj0gYnNvbiBzaXplIFwiKS5jb25jYXQoc2l6ZSkpO1xuICB9XG5cbiAgaWYgKCFvcHRpb25zLmFsbG93T2JqZWN0U21hbGxlclRoYW5CdWZmZXJTaXplICYmIGJ1ZmZlciQkMS5sZW5ndGggIT09IHNpemUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJidWZmZXIgbGVuZ3RoIFwiLmNvbmNhdChidWZmZXIkJDEubGVuZ3RoLCBcIiBtdXN0ID09PSBic29uIHNpemUgXCIpLmNvbmNhdChzaXplKSk7XG4gIH1cblxuICBpZiAoc2l6ZSArIGluZGV4ID4gYnVmZmVyJCQxLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIihic29uIHNpemUgXCIuY29uY2F0KHNpemUsIFwiICsgb3B0aW9ucy5pbmRleCBcIikuY29uY2F0KGluZGV4LCBcIiBtdXN0IGJlIDw9IGJ1ZmZlciBsZW5ndGggXCIpLmNvbmNhdChCdWZmZXIkNC5ieXRlTGVuZ3RoKGJ1ZmZlciQkMSksIFwiKVwiKSk7XG4gIH0gLy8gSWxsZWdhbCBlbmQgdmFsdWVcblxuXG4gIGlmIChidWZmZXIkJDFbaW5kZXggKyBzaXplIC0gMV0gIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmUgb2JqZWN0LCBzaXplZCBjb3JyZWN0bHksIHdpdGggYSBzcG90IGZvciBhbiBFT08sIGJ1dCB0aGUgRU9PIGlzbid0IDB4MDBcIik7XG4gIH0gLy8gU3RhcnQgZGVzZXJpYWxpenRpb25cblxuXG4gIHJldHVybiBkZXNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIGluZGV4LCBvcHRpb25zLCBpc0FycmF5KTtcbn1cblxuZnVuY3Rpb24gZGVzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBpbmRleCwgb3B0aW9ucywgaXNBcnJheSkge1xuICB2YXIgZXZhbEZ1bmN0aW9ucyA9IG9wdGlvbnNbJ2V2YWxGdW5jdGlvbnMnXSA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zWydldmFsRnVuY3Rpb25zJ107XG4gIHZhciBjYWNoZUZ1bmN0aW9ucyA9IG9wdGlvbnNbJ2NhY2hlRnVuY3Rpb25zJ10gPT0gbnVsbCA/IGZhbHNlIDogb3B0aW9uc1snY2FjaGVGdW5jdGlvbnMnXTtcbiAgdmFyIGNhY2hlRnVuY3Rpb25zQ3JjMzIgPSBvcHRpb25zWydjYWNoZUZ1bmN0aW9uc0NyYzMyJ10gPT0gbnVsbCA/IGZhbHNlIDogb3B0aW9uc1snY2FjaGVGdW5jdGlvbnNDcmMzMiddO1xuICBpZiAoIWNhY2hlRnVuY3Rpb25zQ3JjMzIpIHZhciBjcmMzMiA9IG51bGw7XG4gIHZhciBmaWVsZHNBc1JhdyA9IG9wdGlvbnNbJ2ZpZWxkc0FzUmF3J10gPT0gbnVsbCA/IG51bGwgOiBvcHRpb25zWydmaWVsZHNBc1JhdyddOyAvLyBSZXR1cm4gcmF3IGJzb24gYnVmZmVyIGluc3RlYWQgb2YgcGFyc2luZyBpdFxuXG4gIHZhciByYXcgPSBvcHRpb25zWydyYXcnXSA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zWydyYXcnXTsgLy8gUmV0dXJuIEJTT05SZWdFeHAgb2JqZWN0cyBpbnN0ZWFkIG9mIG5hdGl2ZSByZWd1bGFyIGV4cHJlc3Npb25zXG5cbiAgdmFyIGJzb25SZWdFeHAgPSB0eXBlb2Ygb3B0aW9uc1snYnNvblJlZ0V4cCddID09PSAnYm9vbGVhbicgPyBvcHRpb25zWydic29uUmVnRXhwJ10gOiBmYWxzZTsgLy8gQ29udHJvbHMgdGhlIHByb21vdGlvbiBvZiB2YWx1ZXMgdnMgd3JhcHBlciBjbGFzc2VzXG5cbiAgdmFyIHByb21vdGVCdWZmZXJzID0gb3B0aW9uc1sncHJvbW90ZUJ1ZmZlcnMnXSA9PSBudWxsID8gZmFsc2UgOiBvcHRpb25zWydwcm9tb3RlQnVmZmVycyddO1xuICB2YXIgcHJvbW90ZUxvbmdzID0gb3B0aW9uc1sncHJvbW90ZUxvbmdzJ10gPT0gbnVsbCA/IHRydWUgOiBvcHRpb25zWydwcm9tb3RlTG9uZ3MnXTtcbiAgdmFyIHByb21vdGVWYWx1ZXMgPSBvcHRpb25zWydwcm9tb3RlVmFsdWVzJ10gPT0gbnVsbCA/IHRydWUgOiBvcHRpb25zWydwcm9tb3RlVmFsdWVzJ107IC8vIFNldCB0aGUgc3RhcnQgaW5kZXhcblxuICB2YXIgc3RhcnRJbmRleCA9IGluZGV4OyAvLyBWYWxpZGF0ZSB0aGF0IHdlIGhhdmUgYXQgbGVhc3QgNCBieXRlcyBvZiBidWZmZXJcblxuICBpZiAoYnVmZmVyJCQxLmxlbmd0aCA8IDUpIHRocm93IG5ldyBFcnJvcignY29ycnVwdCBic29uIG1lc3NhZ2UgPCA1IGJ5dGVzIGxvbmcnKTsgLy8gUmVhZCB0aGUgZG9jdW1lbnQgc2l6ZVxuXG4gIHZhciBzaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIEVuc3VyZSBidWZmZXIgaXMgdmFsaWQgc2l6ZVxuXG4gIGlmIChzaXplIDwgNSB8fCBzaXplID4gYnVmZmVyJCQxLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdjb3JydXB0IGJzb24gbWVzc2FnZScpOyAvLyBDcmVhdGUgaG9sZGluZyBvYmplY3RcblxuICB2YXIgb2JqZWN0ID0gaXNBcnJheSA/IFtdIDoge307IC8vIFVzZWQgZm9yIGFycmF5cyB0byBza2lwIGhhdmluZyB0byBwZXJmb3JtIHV0ZjggZGVjb2RpbmdcblxuICB2YXIgYXJyYXlJbmRleCA9IDA7XG4gIHZhciBkb25lID0gZmFsc2U7IC8vIFdoaWxlIHdlIGhhdmUgbW9yZSBsZWZ0IGRhdGEgbGVmdCBrZWVwIHBhcnNpbmdcblxuICB3aGlsZSAoIWRvbmUpIHtcbiAgICAvLyBSZWFkIHRoZSB0eXBlXG4gICAgdmFyIGVsZW1lbnRUeXBlID0gYnVmZmVyJCQxW2luZGV4KytdOyAvLyBJZiB3ZSBnZXQgYSB6ZXJvIGl0J3MgdGhlIGxhc3QgYnl0ZSwgZXhpdFxuXG4gICAgaWYgKGVsZW1lbnRUeXBlID09PSAwKSBicmVhazsgLy8gR2V0IHRoZSBzdGFydCBzZWFyY2ggaW5kZXhcblxuICAgIHZhciBpID0gaW5kZXg7IC8vIExvY2F0ZSB0aGUgZW5kIG9mIHRoZSBjIHN0cmluZ1xuXG4gICAgd2hpbGUgKGJ1ZmZlciQkMVtpXSAhPT0gMHgwMCAmJiBpIDwgYnVmZmVyJCQxLmxlbmd0aCkge1xuICAgICAgaSsrO1xuICAgIH0gLy8gSWYgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgZG9jdW1lbnRcblxuXG4gICAgaWYgKGkgPj0gQnVmZmVyJDQuYnl0ZUxlbmd0aChidWZmZXIkJDEpKSB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBCU09OIERvY3VtZW50OiBpbGxlZ2FsIENTdHJpbmcnKTtcbiAgICB2YXIgbmFtZSA9IGlzQXJyYXkgPyBhcnJheUluZGV4KysgOiBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaSk7XG4gICAgaW5kZXggPSBpICsgMTtcblxuICAgIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9TVFJJTkcpIHtcbiAgICAgIHZhciBzdHJpbmdTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgICBpZiAoc3RyaW5nU2l6ZSA8PSAwIHx8IHN0cmluZ1NpemUgPiBidWZmZXIkJDEubGVuZ3RoIC0gaW5kZXggfHwgYnVmZmVyJCQxW2luZGV4ICsgc3RyaW5nU2l6ZSAtIDFdICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzdHJpbmcgbGVuZ3RoIGluIGJzb24nKTtcblxuICAgICAgaWYgKCF2YWxpZGF0ZVV0ZjgkMShidWZmZXIkJDEsIGluZGV4LCBpbmRleCArIHN0cmluZ1NpemUgLSAxKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVVRGLTggc3RyaW5nIGluIEJTT04gZG9jdW1lbnQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHMgPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaW5kZXggKyBzdHJpbmdTaXplIC0gMSk7XG4gICAgICBvYmplY3RbbmFtZV0gPSBzO1xuICAgICAgaW5kZXggPSBpbmRleCArIHN0cmluZ1NpemU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9PSUQpIHtcbiAgICAgIHZhciBvaWQgPSBCdWZmZXIkNC5hbGxvYygxMik7XG4gICAgICBidWZmZXIkJDEuY29weShvaWQsIDAsIGluZGV4LCBpbmRleCArIDEyKTtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBvYmplY3RpZChvaWQpO1xuICAgICAgaW5kZXggPSBpbmRleCArIDEyO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfSU5UICYmIHByb21vdGVWYWx1ZXMgPT09IGZhbHNlKSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSBuZXcgaW50XzMyKGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0KTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX0lOVCkge1xuICAgICAgb2JqZWN0W25hbWVdID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9OVU1CRVIgJiYgcHJvbW90ZVZhbHVlcyA9PT0gZmFsc2UpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBkb3VibGVfMShidWZmZXIkJDEucmVhZERvdWJsZUxFKGluZGV4KSk7XG4gICAgICBpbmRleCA9IGluZGV4ICsgODtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUikge1xuICAgICAgb2JqZWN0W25hbWVdID0gYnVmZmVyJCQxLnJlYWREb3VibGVMRShpbmRleCk7XG4gICAgICBpbmRleCA9IGluZGV4ICsgODtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX0RBVEUpIHtcbiAgICAgIHZhciBsb3dCaXRzID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgICB2YXIgaGlnaEJpdHMgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBEYXRlKG5ldyBsb25nXzEobG93Qml0cywgaGlnaEJpdHMpLnRvTnVtYmVyKCkpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfQk9PTEVBTikge1xuICAgICAgaWYgKGJ1ZmZlciQkMVtpbmRleF0gIT09IDAgJiYgYnVmZmVyJCQxW2luZGV4XSAhPT0gMSkgdGhyb3cgbmV3IEVycm9yKCdpbGxlZ2FsIGJvb2xlYW4gdHlwZSB2YWx1ZScpO1xuICAgICAgb2JqZWN0W25hbWVdID0gYnVmZmVyJCQxW2luZGV4KytdID09PSAxO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfT0JKRUNUKSB7XG4gICAgICB2YXIgX2luZGV4ID0gaW5kZXg7XG4gICAgICB2YXIgb2JqZWN0U2l6ZSA9IGJ1ZmZlciQkMVtpbmRleF0gfCBidWZmZXIkJDFbaW5kZXggKyAxXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4ICsgMl0gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXggKyAzXSA8PCAyNDtcbiAgICAgIGlmIChvYmplY3RTaXplIDw9IDAgfHwgb2JqZWN0U2l6ZSA+IGJ1ZmZlciQkMS5sZW5ndGggLSBpbmRleCkgdGhyb3cgbmV3IEVycm9yKCdiYWQgZW1iZWRkZWQgZG9jdW1lbnQgbGVuZ3RoIGluIGJzb24nKTsgLy8gV2UgaGF2ZSBhIHJhdyB2YWx1ZVxuXG4gICAgICBpZiAocmF3KSB7XG4gICAgICAgIG9iamVjdFtuYW1lXSA9IGJ1ZmZlciQkMS5zbGljZShpbmRleCwgaW5kZXggKyBvYmplY3RTaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtuYW1lXSA9IGRlc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwgX2luZGV4LCBvcHRpb25zLCBmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBvYmplY3RTaXplO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfQVJSQVkpIHtcbiAgICAgIHZhciBfaW5kZXgyID0gaW5kZXg7XG5cbiAgICAgIHZhciBfb2JqZWN0U2l6ZSA9IGJ1ZmZlciQkMVtpbmRleF0gfCBidWZmZXIkJDFbaW5kZXggKyAxXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4ICsgMl0gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXggKyAzXSA8PCAyNDtcblxuICAgICAgdmFyIGFycmF5T3B0aW9ucyA9IG9wdGlvbnM7IC8vIFN0b3AgaW5kZXhcblxuICAgICAgdmFyIHN0b3BJbmRleCA9IGluZGV4ICsgX29iamVjdFNpemU7IC8vIEFsbCBlbGVtZW50cyBvZiBhcnJheSB0byBiZSByZXR1cm5lZCBhcyByYXcgYnNvblxuXG4gICAgICBpZiAoZmllbGRzQXNSYXcgJiYgZmllbGRzQXNSYXdbbmFtZV0pIHtcbiAgICAgICAgYXJyYXlPcHRpb25zID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgbiBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgYXJyYXlPcHRpb25zW25dID0gb3B0aW9uc1tuXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFycmF5T3B0aW9uc1sncmF3J10gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBvYmplY3RbbmFtZV0gPSBkZXNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIF9pbmRleDIsIGFycmF5T3B0aW9ucywgdHJ1ZSk7XG4gICAgICBpbmRleCA9IGluZGV4ICsgX29iamVjdFNpemU7XG4gICAgICBpZiAoYnVmZmVyJCQxW2luZGV4IC0gMV0gIT09IDApIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhcnJheSB0ZXJtaW5hdG9yIGJ5dGUnKTtcbiAgICAgIGlmIChpbmRleCAhPT0gc3RvcEluZGV4KSB0aHJvdyBuZXcgRXJyb3IoJ2NvcnJ1cHRlZCBhcnJheSBic29uJyk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9VTkRFRklORUQpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX05VTEwpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9MT05HKSB7XG4gICAgICAvLyBVbnBhY2sgdGhlIGxvdyBhbmQgaGlnaCBiaXRzXG4gICAgICB2YXIgX2xvd0JpdHMgPSBidWZmZXIkJDFbaW5kZXgrK10gfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgOCB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCAyNDtcblxuICAgICAgdmFyIF9oaWdoQml0cyA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuXG4gICAgICB2YXIgbG9uZyQkMSA9IG5ldyBsb25nXzEoX2xvd0JpdHMsIF9oaWdoQml0cyk7IC8vIFByb21vdGUgdGhlIGxvbmcgaWYgcG9zc2libGVcblxuICAgICAgaWYgKHByb21vdGVMb25ncyAmJiBwcm9tb3RlVmFsdWVzID09PSB0cnVlKSB7XG4gICAgICAgIG9iamVjdFtuYW1lXSA9IGxvbmckJDEubGVzc1RoYW5PckVxdWFsKEpTX0lOVF9NQVhfTE9ORykgJiYgbG9uZyQkMS5ncmVhdGVyVGhhbk9yRXF1YWwoSlNfSU5UX01JTl9MT05HKSA/IGxvbmckJDEudG9OdW1iZXIoKSA6IGxvbmckJDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3RbbmFtZV0gPSBsb25nJCQxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfREVDSU1BTDEyOCkge1xuICAgICAgLy8gQnVmZmVyIHRvIGNvbnRhaW4gdGhlIGRlY2ltYWwgYnl0ZXNcbiAgICAgIHZhciBieXRlcyA9IEJ1ZmZlciQ0LmFsbG9jKDE2KTsgLy8gQ29weSB0aGUgbmV4dCAxNiBieXRlcyBpbnRvIHRoZSBieXRlcyBidWZmZXJcblxuICAgICAgYnVmZmVyJCQxLmNvcHkoYnl0ZXMsIDAsIGluZGV4LCBpbmRleCArIDE2KTsgLy8gVXBkYXRlIGluZGV4XG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyAxNjsgLy8gQXNzaWduIHRoZSBuZXcgRGVjaW1hbDEyOCB2YWx1ZVxuXG4gICAgICB2YXIgZGVjaW1hbDEyOCQkMSA9IG5ldyBkZWNpbWFsMTI4KGJ5dGVzKTsgLy8gSWYgd2UgaGF2ZSBhbiBhbHRlcm5hdGl2ZSBtYXBwZXIgdXNlIHRoYXRcblxuICAgICAgb2JqZWN0W25hbWVdID0gZGVjaW1hbDEyOCQkMS50b09iamVjdCA/IGRlY2ltYWwxMjgkJDEudG9PYmplY3QoKSA6IGRlY2ltYWwxMjgkJDE7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9CSU5BUlkpIHtcbiAgICAgIHZhciBiaW5hcnlTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG4gICAgICB2YXIgdG90YWxCaW5hcnlTaXplID0gYmluYXJ5U2l6ZTtcbiAgICAgIHZhciBzdWJUeXBlID0gYnVmZmVyJCQxW2luZGV4KytdOyAvLyBEaWQgd2UgaGF2ZSBhIG5lZ2F0aXZlIGJpbmFyeSBzaXplLCB0aHJvd1xuXG4gICAgICBpZiAoYmluYXJ5U2l6ZSA8IDApIHRocm93IG5ldyBFcnJvcignTmVnYXRpdmUgYmluYXJ5IHR5cGUgZWxlbWVudCBzaXplIGZvdW5kJyk7IC8vIElzIHRoZSBsZW5ndGggbG9uZ2VyIHRoYW4gdGhlIGRvY3VtZW50XG5cbiAgICAgIGlmIChiaW5hcnlTaXplID4gQnVmZmVyJDQuYnl0ZUxlbmd0aChidWZmZXIkJDEpKSB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSB0eXBlIHNpemUgbGFyZ2VyIHRoYW4gZG9jdW1lbnQgc2l6ZScpOyAvLyBEZWNvZGUgYXMgcmF3IEJ1ZmZlciBvYmplY3QgaWYgb3B0aW9ucyBzcGVjaWZpZXMgaXRcblxuICAgICAgaWYgKGJ1ZmZlciQkMVsnc2xpY2UnXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgc3VidHlwZSAyIHNraXAgdGhlIDQgYnl0ZXMgZm9yIHRoZSBzaXplXG4gICAgICAgIGlmIChzdWJUeXBlID09PSBiaW5hcnkuU1VCVFlQRV9CWVRFX0FSUkFZKSB7XG4gICAgICAgICAgYmluYXJ5U2l6ZSA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuICAgICAgICAgIGlmIChiaW5hcnlTaXplIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdOZWdhdGl2ZSBiaW5hcnkgdHlwZSBlbGVtZW50IHNpemUgZm91bmQgZm9yIHN1YnR5cGUgMHgwMicpO1xuICAgICAgICAgIGlmIChiaW5hcnlTaXplID4gdG90YWxCaW5hcnlTaXplIC0gNCkgdGhyb3cgbmV3IEVycm9yKCdCaW5hcnkgdHlwZSB3aXRoIHN1YnR5cGUgMHgwMiBjb250YWlucyB0byBsb25nIGJpbmFyeSBzaXplJyk7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPCB0b3RhbEJpbmFyeVNpemUgLSA0KSB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSB0eXBlIHdpdGggc3VidHlwZSAweDAyIGNvbnRhaW5zIHRvIHNob3J0IGJpbmFyeSBzaXplJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvbW90ZUJ1ZmZlcnMgJiYgcHJvbW90ZVZhbHVlcykge1xuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IGJ1ZmZlciQkMS5zbGljZShpbmRleCwgaW5kZXggKyBiaW5hcnlTaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBuZXcgYmluYXJ5KGJ1ZmZlciQkMS5zbGljZShpbmRleCwgaW5kZXggKyBiaW5hcnlTaXplKSwgc3ViVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfYnVmZmVyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGJpbmFyeVNpemUpKSA6IG5ldyBBcnJheShiaW5hcnlTaXplKTsgLy8gSWYgd2UgaGF2ZSBzdWJ0eXBlIDIgc2tpcCB0aGUgNCBieXRlcyBmb3IgdGhlIHNpemVcblxuXG4gICAgICAgIGlmIChzdWJUeXBlID09PSBiaW5hcnkuU1VCVFlQRV9CWVRFX0FSUkFZKSB7XG4gICAgICAgICAgYmluYXJ5U2l6ZSA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuICAgICAgICAgIGlmIChiaW5hcnlTaXplIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdOZWdhdGl2ZSBiaW5hcnkgdHlwZSBlbGVtZW50IHNpemUgZm91bmQgZm9yIHN1YnR5cGUgMHgwMicpO1xuICAgICAgICAgIGlmIChiaW5hcnlTaXplID4gdG90YWxCaW5hcnlTaXplIC0gNCkgdGhyb3cgbmV3IEVycm9yKCdCaW5hcnkgdHlwZSB3aXRoIHN1YnR5cGUgMHgwMiBjb250YWlucyB0byBsb25nIGJpbmFyeSBzaXplJyk7XG4gICAgICAgICAgaWYgKGJpbmFyeVNpemUgPCB0b3RhbEJpbmFyeVNpemUgLSA0KSB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFyeSB0eXBlIHdpdGggc3VidHlwZSAweDAyIGNvbnRhaW5zIHRvIHNob3J0IGJpbmFyeSBzaXplJyk7XG4gICAgICAgIH0gLy8gQ29weSB0aGUgZGF0YVxuXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJpbmFyeVNpemU7IGkrKykge1xuICAgICAgICAgIF9idWZmZXJbaV0gPSBidWZmZXIkJDFbaW5kZXggKyBpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9tb3RlQnVmZmVycyAmJiBwcm9tb3RlVmFsdWVzKSB7XG4gICAgICAgICAgb2JqZWN0W25hbWVdID0gX2J1ZmZlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBuZXcgYmluYXJ5KF9idWZmZXIsIHN1YlR5cGUpO1xuICAgICAgICB9XG4gICAgICB9IC8vIFVwZGF0ZSB0aGUgaW5kZXhcblxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgYmluYXJ5U2l6ZTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX1JFR0VYUCAmJiBic29uUmVnRXhwID09PSBmYWxzZSkge1xuICAgICAgLy8gR2V0IHRoZSBzdGFydCBzZWFyY2ggaW5kZXhcbiAgICAgIGkgPSBpbmRleDsgLy8gTG9jYXRlIHRoZSBlbmQgb2YgdGhlIGMgc3RyaW5nXG5cbiAgICAgIHdoaWxlIChidWZmZXIkJDFbaV0gIT09IDB4MDAgJiYgaSA8IGJ1ZmZlciQkMS5sZW5ndGgpIHtcbiAgICAgICAgaSsrO1xuICAgICAgfSAvLyBJZiBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBkb2N1bWVudFxuXG5cbiAgICAgIGlmIChpID49IGJ1ZmZlciQkMS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQmFkIEJTT04gRG9jdW1lbnQ6IGlsbGVnYWwgQ1N0cmluZycpOyAvLyBSZXR1cm4gdGhlIEMgc3RyaW5nXG5cbiAgICAgIHZhciBzb3VyY2UgPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaSk7IC8vIENyZWF0ZSB0aGUgcmVnZXhwXG5cbiAgICAgIGluZGV4ID0gaSArIDE7IC8vIEdldCB0aGUgc3RhcnQgc2VhcmNoIGluZGV4XG5cbiAgICAgIGkgPSBpbmRleDsgLy8gTG9jYXRlIHRoZSBlbmQgb2YgdGhlIGMgc3RyaW5nXG5cbiAgICAgIHdoaWxlIChidWZmZXIkJDFbaV0gIT09IDB4MDAgJiYgaSA8IGJ1ZmZlciQkMS5sZW5ndGgpIHtcbiAgICAgICAgaSsrO1xuICAgICAgfSAvLyBJZiBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIHRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBkb2N1bWVudFxuXG5cbiAgICAgIGlmIChpID49IGJ1ZmZlciQkMS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignQmFkIEJTT04gRG9jdW1lbnQ6IGlsbGVnYWwgQ1N0cmluZycpOyAvLyBSZXR1cm4gdGhlIEMgc3RyaW5nXG5cbiAgICAgIHZhciByZWdFeHBPcHRpb25zID0gYnVmZmVyJCQxLnRvU3RyaW5nKCd1dGY4JywgaW5kZXgsIGkpO1xuICAgICAgaW5kZXggPSBpICsgMTsgLy8gRm9yIGVhY2ggb3B0aW9uIGFkZCB0aGUgY29ycmVzcG9uZGluZyBvbmUgZm9yIGphdmFzY3JpcHRcblxuICAgICAgdmFyIG9wdGlvbnNBcnJheSA9IG5ldyBBcnJheShyZWdFeHBPcHRpb25zLmxlbmd0aCk7IC8vIFBhcnNlIG9wdGlvbnNcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHJlZ0V4cE9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3dpdGNoIChyZWdFeHBPcHRpb25zW2ldKSB7XG4gICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICBvcHRpb25zQXJyYXlbaV0gPSAnbSc7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgb3B0aW9uc0FycmF5W2ldID0gJ2cnO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdpJzpcbiAgICAgICAgICAgIG9wdGlvbnNBcnJheVtpXSA9ICdpJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBSZWdFeHAoc291cmNlLCBvcHRpb25zQXJyYXkuam9pbignJykpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfUkVHRVhQICYmIGJzb25SZWdFeHAgPT09IHRydWUpIHtcbiAgICAgIC8vIEdldCB0aGUgc3RhcnQgc2VhcmNoIGluZGV4XG4gICAgICBpID0gaW5kZXg7IC8vIExvY2F0ZSB0aGUgZW5kIG9mIHRoZSBjIHN0cmluZ1xuXG4gICAgICB3aGlsZSAoYnVmZmVyJCQxW2ldICE9PSAweDAwICYmIGkgPCBidWZmZXIkJDEubGVuZ3RoKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH0gLy8gSWYgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciB0aGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgZG9jdW1lbnRcblxuXG4gICAgICBpZiAoaSA+PSBidWZmZXIkJDEubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBCU09OIERvY3VtZW50OiBpbGxlZ2FsIENTdHJpbmcnKTsgLy8gUmV0dXJuIHRoZSBDIHN0cmluZ1xuXG4gICAgICB2YXIgX3NvdXJjZSA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpKTtcblxuICAgICAgaW5kZXggPSBpICsgMTsgLy8gR2V0IHRoZSBzdGFydCBzZWFyY2ggaW5kZXhcblxuICAgICAgaSA9IGluZGV4OyAvLyBMb2NhdGUgdGhlIGVuZCBvZiB0aGUgYyBzdHJpbmdcblxuICAgICAgd2hpbGUgKGJ1ZmZlciQkMVtpXSAhPT0gMHgwMCAmJiBpIDwgYnVmZmVyJCQxLmxlbmd0aCkge1xuICAgICAgICBpKys7XG4gICAgICB9IC8vIElmIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgdGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIGRvY3VtZW50XG5cblxuICAgICAgaWYgKGkgPj0gYnVmZmVyJCQxLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdCYWQgQlNPTiBEb2N1bWVudDogaWxsZWdhbCBDU3RyaW5nJyk7IC8vIFJldHVybiB0aGUgQyBzdHJpbmdcblxuICAgICAgdmFyIF9yZWdFeHBPcHRpb25zID0gYnVmZmVyJCQxLnRvU3RyaW5nKCd1dGY4JywgaW5kZXgsIGkpO1xuXG4gICAgICBpbmRleCA9IGkgKyAxOyAvLyBTZXQgdGhlIG9iamVjdFxuXG4gICAgICBvYmplY3RbbmFtZV0gPSBuZXcgcmVnZXhwKF9zb3VyY2UsIF9yZWdFeHBPcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX1NZTUJPTCkge1xuICAgICAgdmFyIF9zdHJpbmdTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG5cbiAgICAgIGlmIChfc3RyaW5nU2l6ZSA8PSAwIHx8IF9zdHJpbmdTaXplID4gYnVmZmVyJCQxLmxlbmd0aCAtIGluZGV4IHx8IGJ1ZmZlciQkMVtpbmRleCArIF9zdHJpbmdTaXplIC0gMV0gIT09IDApIHRocm93IG5ldyBFcnJvcignYmFkIHN0cmluZyBsZW5ndGggaW4gYnNvbicpOyAvLyBzeW1ib2wgaXMgZGVwcmVjYXRlZCAtIHVwZ3JhZGUgdG8gc3RyaW5nLlxuXG4gICAgICBvYmplY3RbbmFtZV0gPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaW5kZXggKyBfc3RyaW5nU2l6ZSAtIDEpO1xuICAgICAgaW5kZXggPSBpbmRleCArIF9zdHJpbmdTaXplO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfVElNRVNUQU1QKSB7XG4gICAgICB2YXIgX2xvd0JpdHMyID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG5cbiAgICAgIHZhciBfaGlnaEJpdHMyID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7XG5cbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyB0aW1lc3RhbXAoX2xvd0JpdHMyLCBfaGlnaEJpdHMyKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBjb25zdGFudHMuQlNPTl9EQVRBX01JTl9LRVkpIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IG5ldyBtaW5fa2V5KCk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9NQVhfS0VZKSB7XG4gICAgICBvYmplY3RbbmFtZV0gPSBuZXcgbWF4X2tleSgpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfQ09ERSkge1xuICAgICAgdmFyIF9zdHJpbmdTaXplMiA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0O1xuXG4gICAgICBpZiAoX3N0cmluZ1NpemUyIDw9IDAgfHwgX3N0cmluZ1NpemUyID4gYnVmZmVyJCQxLmxlbmd0aCAtIGluZGV4IHx8IGJ1ZmZlciQkMVtpbmRleCArIF9zdHJpbmdTaXplMiAtIDFdICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBzdHJpbmcgbGVuZ3RoIGluIGJzb24nKTtcbiAgICAgIHZhciBmdW5jdGlvblN0cmluZyA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpbmRleCArIF9zdHJpbmdTaXplMiAtIDEpOyAvLyBJZiB3ZSBhcmUgZXZhbHVhdGluZyB0aGUgZnVuY3Rpb25zXG5cbiAgICAgIGlmIChldmFsRnVuY3Rpb25zKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgY2FjaGUgZW5hYmxlZCBsZXQncyBsb29rIGZvciB0aGUgbWQ1IG9mIHRoZSBmdW5jdGlvbiBpbiB0aGUgY2FjaGVcbiAgICAgICAgaWYgKGNhY2hlRnVuY3Rpb25zKSB7XG4gICAgICAgICAgdmFyIGhhc2ggPSBjYWNoZUZ1bmN0aW9uc0NyYzMyID8gY3JjMzIoZnVuY3Rpb25TdHJpbmcpIDogZnVuY3Rpb25TdHJpbmc7IC8vIEdvdCB0byBkbyB0aGlzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemluZyB0aGUgY2FsbCBkdWUgdG8gZmluZGluZyBldmFsXG5cbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBpc29sYXRlRXZhbFdpdGhIYXNoKGZ1bmN0aW9uQ2FjaGUsIGhhc2gsIGZ1bmN0aW9uU3RyaW5nLCBvYmplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9iamVjdFtuYW1lXSA9IGlzb2xhdGVFdmFsKGZ1bmN0aW9uU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W25hbWVdID0gbmV3IGNvZGUoZnVuY3Rpb25TdHJpbmcpO1xuICAgICAgfSAvLyBVcGRhdGUgcGFyc2UgaW5kZXggcG9zaXRpb25cblxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgX3N0cmluZ1NpemUyO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IGNvbnN0YW50cy5CU09OX0RBVEFfQ09ERV9XX1NDT1BFKSB7XG4gICAgICB2YXIgdG90YWxTaXplID0gYnVmZmVyJCQxW2luZGV4KytdIHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDggfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMTYgfCBidWZmZXIkJDFbaW5kZXgrK10gPDwgMjQ7IC8vIEVsZW1lbnQgY2Fubm90IGJlIHNob3J0ZXIgdGhhbiB0b3RhbFNpemUgKyBzdHJpbmdTaXplICsgZG9jdW1lbnRTaXplICsgdGVybWluYXRvclxuXG4gICAgICBpZiAodG90YWxTaXplIDwgNCArIDQgKyA0ICsgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZGVfd19zY29wZSB0b3RhbCBzaXplIHNob3J0ZXIgbWluaW11bSBleHBlY3RlZCBsZW5ndGgnKTtcbiAgICAgIH0gLy8gR2V0IHRoZSBjb2RlIHN0cmluZyBzaXplXG5cblxuICAgICAgdmFyIF9zdHJpbmdTaXplMyA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0OyAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgdmFsaWQgc3RyaW5nXG5cblxuICAgICAgaWYgKF9zdHJpbmdTaXplMyA8PSAwIHx8IF9zdHJpbmdTaXplMyA+IGJ1ZmZlciQkMS5sZW5ndGggLSBpbmRleCB8fCBidWZmZXIkJDFbaW5kZXggKyBfc3RyaW5nU2l6ZTMgLSAxXSAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdiYWQgc3RyaW5nIGxlbmd0aCBpbiBic29uJyk7IC8vIEphdmFzY3JpcHQgZnVuY3Rpb25cblxuICAgICAgdmFyIF9mdW5jdGlvblN0cmluZyA9IGJ1ZmZlciQkMS50b1N0cmluZygndXRmOCcsIGluZGV4LCBpbmRleCArIF9zdHJpbmdTaXplMyAtIDEpOyAvLyBVcGRhdGUgcGFyc2UgaW5kZXggcG9zaXRpb25cblxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgX3N0cmluZ1NpemUzOyAvLyBQYXJzZSB0aGUgZWxlbWVudFxuXG4gICAgICB2YXIgX2luZGV4MyA9IGluZGV4OyAvLyBEZWNvZGUgdGhlIHNpemUgb2YgdGhlIG9iamVjdCBkb2N1bWVudFxuXG4gICAgICB2YXIgX29iamVjdFNpemUyID0gYnVmZmVyJCQxW2luZGV4XSB8IGJ1ZmZlciQkMVtpbmRleCArIDFdIDw8IDggfCBidWZmZXIkJDFbaW5kZXggKyAyXSA8PCAxNiB8IGJ1ZmZlciQkMVtpbmRleCArIDNdIDw8IDI0OyAvLyBEZWNvZGUgdGhlIHNjb3BlIG9iamVjdFxuXG5cbiAgICAgIHZhciBzY29wZU9iamVjdCA9IGRlc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwgX2luZGV4Mywgb3B0aW9ucywgZmFsc2UpOyAvLyBBZGp1c3QgdGhlIGluZGV4XG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfb2JqZWN0U2l6ZTI7IC8vIENoZWNrIGlmIGZpZWxkIGxlbmd0aCBpcyB0byBzaG9ydFxuXG4gICAgICBpZiAodG90YWxTaXplIDwgNCArIDQgKyBfb2JqZWN0U2l6ZTIgKyBfc3RyaW5nU2l6ZTMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb2RlX3dfc2NvcGUgdG90YWwgc2l6ZSBpcyB0byBzaG9ydCwgdHJ1bmNhdGluZyBzY29wZScpO1xuICAgICAgfSAvLyBDaGVjayBpZiB0b3RhbFNpemUgZmllbGQgaXMgdG8gbG9uZ1xuXG5cbiAgICAgIGlmICh0b3RhbFNpemUgPiA0ICsgNCArIF9vYmplY3RTaXplMiArIF9zdHJpbmdTaXplMykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZGVfd19zY29wZSB0b3RhbCBzaXplIGlzIHRvIGxvbmcsIGNsaXBzIG91dGVyIGRvY3VtZW50Jyk7XG4gICAgICB9IC8vIElmIHdlIGFyZSBldmFsdWF0aW5nIHRoZSBmdW5jdGlvbnNcblxuXG4gICAgICBpZiAoZXZhbEZ1bmN0aW9ucykge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGNhY2hlIGVuYWJsZWQgbGV0J3MgbG9vayBmb3IgdGhlIG1kNSBvZiB0aGUgZnVuY3Rpb24gaW4gdGhlIGNhY2hlXG4gICAgICAgIGlmIChjYWNoZUZ1bmN0aW9ucykge1xuICAgICAgICAgIHZhciBfaGFzaCA9IGNhY2hlRnVuY3Rpb25zQ3JjMzIgPyBjcmMzMihfZnVuY3Rpb25TdHJpbmcpIDogX2Z1bmN0aW9uU3RyaW5nOyAvLyBHb3QgdG8gZG8gdGhpcyB0byBhdm9pZCBWOCBkZW9wdGltaXppbmcgdGhlIGNhbGwgZHVlIHRvIGZpbmRpbmcgZXZhbFxuXG5cbiAgICAgICAgICBvYmplY3RbbmFtZV0gPSBpc29sYXRlRXZhbFdpdGhIYXNoKGZ1bmN0aW9uQ2FjaGUsIF9oYXNoLCBfZnVuY3Rpb25TdHJpbmcsIG9iamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqZWN0W25hbWVdID0gaXNvbGF0ZUV2YWwoX2Z1bmN0aW9uU3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9iamVjdFtuYW1lXS5zY29wZSA9IHNjb3BlT2JqZWN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W25hbWVdID0gbmV3IGNvZGUoX2Z1bmN0aW9uU3RyaW5nLCBzY29wZU9iamVjdCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gY29uc3RhbnRzLkJTT05fREFUQV9EQlBPSU5URVIpIHtcbiAgICAgIC8vIEdldCB0aGUgY29kZSBzdHJpbmcgc2l6ZVxuICAgICAgdmFyIF9zdHJpbmdTaXplNCA9IGJ1ZmZlciQkMVtpbmRleCsrXSB8IGJ1ZmZlciQkMVtpbmRleCsrXSA8PCA4IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDE2IHwgYnVmZmVyJCQxW2luZGV4KytdIDw8IDI0OyAvLyBDaGVjayBpZiB3ZSBoYXZlIGEgdmFsaWQgc3RyaW5nXG5cblxuICAgICAgaWYgKF9zdHJpbmdTaXplNCA8PSAwIHx8IF9zdHJpbmdTaXplNCA+IGJ1ZmZlciQkMS5sZW5ndGggLSBpbmRleCB8fCBidWZmZXIkJDFbaW5kZXggKyBfc3RyaW5nU2l6ZTQgLSAxXSAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdiYWQgc3RyaW5nIGxlbmd0aCBpbiBic29uJyk7IC8vIE5hbWVzcGFjZVxuXG4gICAgICBpZiAoIXZhbGlkYXRlVXRmOCQxKGJ1ZmZlciQkMSwgaW5kZXgsIGluZGV4ICsgX3N0cmluZ1NpemU0IC0gMSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFVURi04IHN0cmluZyBpbiBCU09OIGRvY3VtZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuYW1lc3BhY2UgPSBidWZmZXIkJDEudG9TdHJpbmcoJ3V0ZjgnLCBpbmRleCwgaW5kZXggKyBfc3RyaW5nU2l6ZTQgLSAxKTsgLy8gVXBkYXRlIHBhcnNlIGluZGV4IHBvc2l0aW9uXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfc3RyaW5nU2l6ZTQ7IC8vIFJlYWQgdGhlIG9pZFxuXG4gICAgICB2YXIgb2lkQnVmZmVyID0gQnVmZmVyJDQuYWxsb2MoMTIpO1xuICAgICAgYnVmZmVyJCQxLmNvcHkob2lkQnVmZmVyLCAwLCBpbmRleCwgaW5kZXggKyAxMik7XG5cbiAgICAgIHZhciBfb2lkID0gbmV3IG9iamVjdGlkKG9pZEJ1ZmZlcik7IC8vIFVwZGF0ZSB0aGUgaW5kZXhcblxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgMTI7IC8vIFVwZ3JhZGUgdG8gREJSZWYgdHlwZVxuXG4gICAgICBvYmplY3RbbmFtZV0gPSBuZXcgZGJfcmVmKG5hbWVzcGFjZSwgX29pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGV0ZWN0ZWQgdW5rbm93biBCU09OIHR5cGUgJyArIGVsZW1lbnRUeXBlLnRvU3RyaW5nKDE2KSArICcgZm9yIGZpZWxkbmFtZSBcIicgKyBuYW1lICsgJ1wiLCBhcmUgeW91IHVzaW5nIHRoZSBsYXRlc3QgQlNPTiBwYXJzZXI/Jyk7XG4gICAgfVxuICB9IC8vIENoZWNrIGlmIHRoZSBkZXNlcmlhbGl6YXRpb24gd2FzIGFnYWluc3QgYSB2YWxpZCBhcnJheS9vYmplY3RcblxuXG4gIGlmIChzaXplICE9PSBpbmRleCAtIHN0YXJ0SW5kZXgpIHtcbiAgICBpZiAoaXNBcnJheSkgdGhyb3cgbmV3IEVycm9yKCdjb3JydXB0IGFycmF5IGJzb24nKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvcnJ1cHQgb2JqZWN0IGJzb24nKTtcbiAgfSAvLyBjaGVjayBpZiBvYmplY3QncyAkIGtleXMgYXJlIHRob3NlIG9mIGEgREJSZWZcblxuXG4gIHZhciBkb2xsYXJLZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gay5zdGFydHNXaXRoKCckJyk7XG4gIH0pO1xuICB2YXIgdmFsaWQgPSB0cnVlO1xuICBkb2xsYXJLZXlzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICBpZiAoWyckcmVmJywgJyRpZCcsICckZGInXS5pbmRleE9mKGspID09PSAtMSkgdmFsaWQgPSBmYWxzZTtcbiAgfSk7IC8vIGlmIGEgJGtleSBub3QgaW4gXCIkcmVmXCIsIFwiJGlkXCIsIFwiJGRiXCIsIGRvbid0IG1ha2UgYSBEQlJlZlxuXG4gIGlmICghdmFsaWQpIHJldHVybiBvYmplY3Q7XG5cbiAgaWYgKG9iamVjdFsnJGlkJ10gIT0gbnVsbCAmJiBvYmplY3RbJyRyZWYnXSAhPSBudWxsKSB7XG4gICAgdmFyIGNvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBvYmplY3QpO1xuICAgIGRlbGV0ZSBjb3B5LiRyZWY7XG4gICAgZGVsZXRlIGNvcHkuJGlkO1xuICAgIGRlbGV0ZSBjb3B5LiRkYjtcbiAgICByZXR1cm4gbmV3IGRiX3JlZihvYmplY3QuJHJlZiwgb2JqZWN0LiRpZCwgb2JqZWN0LiRkYiB8fCBudWxsLCBjb3B5KTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG4vKipcbiAqIEVuc3VyZSBldmFsIGlzIGlzb2xhdGVkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gaXNvbGF0ZUV2YWxXaXRoSGFzaChmdW5jdGlvbkNhY2hlLCBoYXNoLCBmdW5jdGlvblN0cmluZywgb2JqZWN0KSB7XG4gIC8vIENvbnRhaW5zIHRoZSB2YWx1ZSB3ZSBhcmUgZ29pbmcgdG8gc2V0XG4gIHZhciB2YWx1ZSA9IG51bGw7IC8vIENoZWNrIGZvciBjYWNoZSBoaXQsIGV2YWwgaWYgbWlzc2luZyBhbmQgcmV0dXJuIGNhY2hlZCBmdW5jdGlvblxuXG4gIGlmIChmdW5jdGlvbkNhY2hlW2hhc2hdID09IG51bGwpIHtcbiAgICBldmFsKCd2YWx1ZSA9ICcgKyBmdW5jdGlvblN0cmluZyk7XG4gICAgZnVuY3Rpb25DYWNoZVtoYXNoXSA9IHZhbHVlO1xuICB9IC8vIFNldCB0aGUgb2JqZWN0XG5cblxuICByZXR1cm4gZnVuY3Rpb25DYWNoZVtoYXNoXS5iaW5kKG9iamVjdCk7XG59XG4vKipcbiAqIEVuc3VyZSBldmFsIGlzIGlzb2xhdGVkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gaXNvbGF0ZUV2YWwoZnVuY3Rpb25TdHJpbmcpIHtcbiAgLy8gQ29udGFpbnMgdGhlIHZhbHVlIHdlIGFyZSBnb2luZyB0byBzZXRcbiAgdmFyIHZhbHVlID0gbnVsbDsgLy8gRXZhbCB0aGUgZnVuY3Rpb25cblxuICBldmFsKCd2YWx1ZSA9ICcgKyBmdW5jdGlvblN0cmluZyk7XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIGRlc2VyaWFsaXplciA9IGRlc2VyaWFsaXplJDE7XG5cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbi8vXG4vLyAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4vLyAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy9cbi8vICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbi8vICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cbi8vICAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy9cbi8vICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRmFpciBPYWtzIExhYnMsIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzXG4vLyAgICBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcbi8vICAgIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4vLyBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4vLyBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuLy8gQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUlxuLy8gQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0Zcbi8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTU1xuLy8gSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU5cbi8vIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4vLyBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuLy8gUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuLy9cbi8vIE1vZGlmaWNhdGlvbnMgdG8gd3JpdGVJRUVFNzU0IHRvIHN1cHBvcnQgbmVnYXRpdmUgemVyb2VzIG1hZGUgYnkgQnJpYW4gV2hpdGVcblxuZnVuY3Rpb24gcmVhZElFRUU3NTQoYnVmZmVyJCQxLCBvZmZzZXQsIGVuZGlhbiwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLFxuICAgICAgbSxcbiAgICAgIGJCRSA9IGVuZGlhbiA9PT0gJ2JpZycsXG4gICAgICBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxLFxuICAgICAgZU1heCA9ICgxIDw8IGVMZW4pIC0gMSxcbiAgICAgIGVCaWFzID0gZU1heCA+PiAxLFxuICAgICAgbkJpdHMgPSAtNyxcbiAgICAgIGkgPSBiQkUgPyAwIDogbkJ5dGVzIC0gMSxcbiAgICAgIGQgPSBiQkUgPyAxIDogLTEsXG4gICAgICBzID0gYnVmZmVyJCQxW29mZnNldCArIGldO1xuICBpICs9IGQ7XG4gIGUgPSBzICYgKDEgPDwgLW5CaXRzKSAtIDE7XG4gIHMgPj49IC1uQml0cztcbiAgbkJpdHMgKz0gZUxlbjtcblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlciQkMVtvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7XG4gIH1cblxuICBtID0gZSAmICgxIDw8IC1uQml0cykgLSAxO1xuICBlID4+PSAtbkJpdHM7XG4gIG5CaXRzICs9IG1MZW47XG5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXIkJDFbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge1xuICB9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzO1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6IChzID8gLTEgOiAxKSAqIEluZmluaXR5O1xuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbik7XG4gICAgZSA9IGUgLSBlQmlhcztcbiAgfVxuXG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pO1xufVxuXG5mdW5jdGlvbiB3cml0ZUlFRUU3NTQoYnVmZmVyJCQxLCB2YWx1ZSwgb2Zmc2V0LCBlbmRpYW4sIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSxcbiAgICAgIG0sXG4gICAgICBjLFxuICAgICAgYkJFID0gZW5kaWFuID09PSAnYmlnJyxcbiAgICAgIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDEsXG4gICAgICBlTWF4ID0gKDEgPDwgZUxlbikgLSAxLFxuICAgICAgZUJpYXMgPSBlTWF4ID4+IDEsXG4gICAgICBydCA9IG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwLFxuICAgICAgaSA9IGJCRSA/IG5CeXRlcyAtIDEgOiAwLFxuICAgICAgZCA9IGJCRSA/IC0xIDogMSxcbiAgICAgIHMgPSB2YWx1ZSA8IDAgfHwgdmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCA/IDEgOiAwO1xuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKTtcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMDtcbiAgICBlID0gZU1heDtcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMik7XG5cbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS07XG4gICAgICBjICo9IDI7XG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKTtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrKztcbiAgICAgIGMgLz0gMjtcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwO1xuICAgICAgZSA9IGVNYXg7XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pO1xuICAgICAgZSA9IGUgKyBlQmlhcztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pO1xuICAgICAgZSA9IDA7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzTmFOKHZhbHVlKSkgbSA9IDA7XG5cbiAgd2hpbGUgKG1MZW4gPj0gOCkge1xuICAgIGJ1ZmZlciQkMVtvZmZzZXQgKyBpXSA9IG0gJiAweGZmO1xuICAgIGkgKz0gZDtcbiAgICBtIC89IDI1NjtcbiAgICBtTGVuIC09IDg7XG4gIH1cblxuICBlID0gZSA8PCBtTGVuIHwgbTtcbiAgaWYgKGlzTmFOKHZhbHVlKSkgZSArPSA4O1xuICBlTGVuICs9IG1MZW47XG5cbiAgd2hpbGUgKGVMZW4gPiAwKSB7XG4gICAgYnVmZmVyJCQxW29mZnNldCArIGldID0gZSAmIDB4ZmY7XG4gICAgaSArPSBkO1xuICAgIGUgLz0gMjU2O1xuICAgIGVMZW4gLT0gODtcbiAgfVxuXG4gIGJ1ZmZlciQkMVtvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyODtcbn1cblxudmFyIGZsb2F0X3BhcnNlciA9IHtcbiAgcmVhZElFRUU3NTQ6IHJlYWRJRUVFNzU0LFxuICB3cml0ZUlFRUU3NTQ6IHdyaXRlSUVFRTc1NFxufTtcblxuZnVuY3Rpb24gX3R5cGVvZiQzKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiQzID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YkMyA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mJDMob2JqKTsgfVxuXG52YXIgQnVmZmVyJDUgPSBidWZmZXIuQnVmZmVyO1xudmFyIHdyaXRlSUVFRTc1NCQxID0gZmxvYXRfcGFyc2VyLndyaXRlSUVFRTc1NDtcbnZhciBub3JtYWxpemVkRnVuY3Rpb25TdHJpbmckMSA9IHV0aWxzLm5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZztcbnZhciByZWdleHAkMSA9IC9cXHgwMC87IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29udHJvbC1yZWdleFxuXG52YXIgaWdub3JlS2V5cyA9IG5ldyBTZXQoWyckZGInLCAnJHJlZicsICckaWQnLCAnJGNsdXN0ZXJUaW1lJ10pOyAvLyBUbyBlbnN1cmUgdGhhdCAwLjQgb2Ygbm9kZSB3b3JrcyBjb3JyZWN0bHlcblxudmFyIGlzRGF0ZSQxID0gZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIF90eXBlb2YkMyhkKSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59O1xuXG52YXIgaXNSZWdFeHAkMSA9IGZ1bmN0aW9uIGlzUmVnRXhwKGQpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG5mdW5jdGlvbiBzZXJpYWxpemVTdHJpbmcoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBFbmNvZGUgU3RyaW5nIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9TVFJJTkc7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzICsgMTtcbiAgYnVmZmVyJCQxW2luZGV4IC0gMV0gPSAwOyAvLyBXcml0ZSB0aGUgc3RyaW5nXG5cbiAgdmFyIHNpemUgPSBidWZmZXIkJDEud3JpdGUodmFsdWUsIGluZGV4ICsgNCwgJ3V0ZjgnKTsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIHN0cmluZyB0byBidWZmZXJcblxuICBidWZmZXIkJDFbaW5kZXggKyAzXSA9IHNpemUgKyAxID4+IDI0ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4ICsgMl0gPSBzaXplICsgMSA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCArIDFdID0gc2l6ZSArIDEgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleF0gPSBzaXplICsgMSAmIDB4ZmY7IC8vIFVwZGF0ZSBpbmRleFxuXG4gIGluZGV4ID0gaW5kZXggKyA0ICsgc2l6ZTsgLy8gV3JpdGUgemVyb1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTnVtYmVyKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV2UgaGF2ZSBhbiBpbnRlZ2VyIHZhbHVlXG4gIGlmIChNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWUgJiYgdmFsdWUgPj0gY29uc3RhbnRzLkpTX0lOVF9NSU4gJiYgdmFsdWUgPD0gY29uc3RhbnRzLkpTX0lOVF9NQVgpIHtcbiAgICAvLyBJZiB0aGUgdmFsdWUgZml0cyBpbiAzMiBiaXRzIGVuY29kZSBhcyBpbnQsIGlmIGl0IGZpdHMgaW4gYSBkb3VibGVcbiAgICAvLyBlbmNvZGUgaXQgYXMgYSBkb3VibGUsIG90aGVyd2lzZSBsb25nXG4gICAgaWYgKHZhbHVlID49IGNvbnN0YW50cy5CU09OX0lOVDMyX01JTiAmJiB2YWx1ZSA8PSBjb25zdGFudHMuQlNPTl9JTlQzMl9NQVgpIHtcbiAgICAgIC8vIFNldCBpbnQgdHlwZSAzMiBiaXRzIG9yIGxlc3NcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfSU5UOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gICAgICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICAgICAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gV3JpdGUgdGhlIGludCB2YWx1ZVxuXG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZSAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSB2YWx1ZSA+PiA4ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlID4+IDE2ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlID4+IDI0ICYgMHhmZjtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID49IGNvbnN0YW50cy5KU19JTlRfTUlOICYmIHZhbHVlIDw9IGNvbnN0YW50cy5KU19JTlRfTUFYKSB7XG4gICAgICAvLyBFbmNvZGUgYXMgZG91YmxlXG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUjsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICAgICAgdmFyIF9udW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG5cbiAgICAgIGluZGV4ID0gaW5kZXggKyBfbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSBmbG9hdFxuXG4gICAgICB3cml0ZUlFRUU3NTQkMShidWZmZXIkJDEsIHZhbHVlLCBpbmRleCwgJ2xpdHRsZScsIDUyLCA4KTsgLy8gQWp1c3QgaW5kZXhcblxuICAgICAgaW5kZXggPSBpbmRleCArIDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNldCBsb25nIHR5cGVcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfTE9ORzsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICAgICAgdmFyIF9udW1iZXJPZldyaXR0ZW5CeXRlczIgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuXG4gICAgICBpbmRleCA9IGluZGV4ICsgX251bWJlck9mV3JpdHRlbkJ5dGVzMjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gICAgICB2YXIgbG9uZ1ZhbCA9IGxvbmdfMS5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICAgIHZhciBsb3dCaXRzID0gbG9uZ1ZhbC5nZXRMb3dCaXRzKCk7XG4gICAgICB2YXIgaGlnaEJpdHMgPSBsb25nVmFsLmdldEhpZ2hCaXRzKCk7IC8vIEVuY29kZSBsb3cgYml0c1xuXG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gOCAmIDB4ZmY7XG4gICAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzID4+IDE2ICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gMjQgJiAweGZmOyAvLyBFbmNvZGUgaGlnaCBiaXRzXG5cbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzICYgMHhmZjtcbiAgICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzID4+IDggJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gMTYgJiAweGZmO1xuICAgICAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gMjQgJiAweGZmO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBFbmNvZGUgYXMgZG91YmxlXG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9OVU1CRVI7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgICB2YXIgX251bWJlck9mV3JpdHRlbkJ5dGVzMyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG5cbiAgICBpbmRleCA9IGluZGV4ICsgX251bWJlck9mV3JpdHRlbkJ5dGVzMztcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSBmbG9hdFxuXG4gICAgd3JpdGVJRUVFNzU0JDEoYnVmZmVyJCQxLCB2YWx1ZSwgaW5kZXgsICdsaXR0bGUnLCA1MiwgOCk7IC8vIEFqdXN0IGluZGV4XG5cbiAgICBpbmRleCA9IGluZGV4ICsgODtcbiAgfVxuXG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTnVsbChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFNldCBsb25nIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9OVUxMOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVCb29sZWFuKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9CT09MRUFOOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gRW5jb2RlIHRoZSBib29sZWFuIHZhbHVlXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPyAxIDogMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVEYXRlKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9EQVRFOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gV3JpdGUgdGhlIGRhdGVcblxuICB2YXIgZGF0ZUluTWlsaXMgPSBsb25nXzEuZnJvbU51bWJlcih2YWx1ZS5nZXRUaW1lKCkpO1xuICB2YXIgbG93Qml0cyA9IGRhdGVJbk1pbGlzLmdldExvd0JpdHMoKTtcbiAgdmFyIGhpZ2hCaXRzID0gZGF0ZUluTWlsaXMuZ2V0SGlnaEJpdHMoKTsgLy8gRW5jb2RlIGxvdyBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzID4+IDI0ICYgMHhmZjsgLy8gRW5jb2RlIGhpZ2ggYml0c1xuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGhpZ2hCaXRzID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gMjQgJiAweGZmO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVJlZ0V4cChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfUkVHRVhQOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcblxuICBpZiAodmFsdWUuc291cmNlICYmIHZhbHVlLnNvdXJjZS5tYXRjaChyZWdleHAkMSkgIT0gbnVsbCkge1xuICAgIHRocm93IEVycm9yKCd2YWx1ZSAnICsgdmFsdWUuc291cmNlICsgJyBtdXN0IG5vdCBjb250YWluIG51bGwgYnl0ZXMnKTtcbiAgfSAvLyBBZGp1c3QgdGhlIGluZGV4XG5cblxuICBpbmRleCA9IGluZGV4ICsgYnVmZmVyJCQxLndyaXRlKHZhbHVlLnNvdXJjZSwgaW5kZXgsICd1dGY4Jyk7IC8vIFdyaXRlIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAweDAwOyAvLyBXcml0ZSB0aGUgcGFyYW1ldGVyc1xuXG4gIGlmICh2YWx1ZS5pZ25vcmVDYXNlKSBidWZmZXIkJDFbaW5kZXgrK10gPSAweDY5OyAvLyBpXG5cbiAgaWYgKHZhbHVlLmdsb2JhbCkgYnVmZmVyJCQxW2luZGV4KytdID0gMHg3MzsgLy8gc1xuXG4gIGlmICh2YWx1ZS5tdWx0aWxpbmUpIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDB4NmQ7IC8vIG1cbiAgLy8gQWRkIGVuZGluZyB6ZXJvXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMHgwMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVCU09OUmVnRXhwKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGlzQXJyYXkpIHtcbiAgLy8gV3JpdGUgdGhlIHR5cGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9SRUdFWFA7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBDaGVjayB0aGUgcGF0dGVybiBmb3IgMCBieXRlc1xuXG4gIGlmICh2YWx1ZS5wYXR0ZXJuLm1hdGNoKHJlZ2V4cCQxKSAhPSBudWxsKSB7XG4gICAgLy8gVGhlIEJTT04gc3BlYyBkb2Vzbid0IGFsbG93IGtleXMgd2l0aCBudWxsIGJ5dGVzIGJlY2F1c2Uga2V5cyBhcmVcbiAgICAvLyBudWxsLXRlcm1pbmF0ZWQuXG4gICAgdGhyb3cgRXJyb3IoJ3BhdHRlcm4gJyArIHZhbHVlLnBhdHRlcm4gKyAnIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBieXRlcycpO1xuICB9IC8vIEFkanVzdCB0aGUgaW5kZXhcblxuXG4gIGluZGV4ID0gaW5kZXggKyBidWZmZXIkJDEud3JpdGUodmFsdWUucGF0dGVybiwgaW5kZXgsICd1dGY4Jyk7IC8vIFdyaXRlIHplcm9cblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSAweDAwOyAvLyBXcml0ZSB0aGUgb3B0aW9uc1xuXG4gIGluZGV4ID0gaW5kZXggKyBidWZmZXIkJDEud3JpdGUodmFsdWUub3B0aW9ucy5zcGxpdCgnJykuc29ydCgpLmpvaW4oJycpLCBpbmRleCwgJ3V0ZjgnKTsgLy8gQWRkIGVuZGluZyB6ZXJvXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMHgwMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVNaW5NYXgoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZSBvZiBlaXRoZXIgbWluIG9yIG1heCBrZXlcbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9OVUxMO1xuICB9IGVsc2UgaWYgKHZhbHVlLl9ic29udHlwZSA9PT0gJ01pbktleScpIHtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX01JTl9LRVk7XG4gIH0gZWxzZSB7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9NQVhfS0VZO1xuICB9IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0SWQoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX09JRDsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIFdyaXRlIHRoZSBvYmplY3RJZCBpbnRvIHRoZSBzaGFyZWQgYnVmZmVyXG5cbiAgaWYgKHR5cGVvZiB2YWx1ZS5pZCA9PT0gJ3N0cmluZycpIHtcbiAgICBidWZmZXIkJDEud3JpdGUodmFsdWUuaWQsIGluZGV4LCAnYmluYXJ5Jyk7XG4gIH0gZWxzZSBpZiAodmFsdWUuaWQgJiYgdmFsdWUuaWQuY29weSkge1xuICAgIHZhbHVlLmlkLmNvcHkoYnVmZmVyJCQxLCBpbmRleCwgMCwgMTIpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29iamVjdCBbJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSArICddIGlzIG5vdCBhIHZhbGlkIE9iamVjdElkJyk7XG4gIH0gLy8gQWp1c3QgaW5kZXhcblxuXG4gIHJldHVybiBpbmRleCArIDEyO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVCdWZmZXIoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBXcml0ZSB0aGUgdHlwZVxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0JJTkFSWTsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIEdldCBzaXplIG9mIHRoZSBidWZmZXIgKGN1cnJlbnQgd3JpdGUgcG9pbnQpXG5cbiAgdmFyIHNpemUgPSB2YWx1ZS5sZW5ndGg7IC8vIFdyaXRlIHRoZSBzaXplIG9mIHRoZSBzdHJpbmcgdG8gYnVmZmVyXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDI0ICYgMHhmZjsgLy8gV3JpdGUgdGhlIGRlZmF1bHQgc3VidHlwZVxuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQ7IC8vIENvcHkgdGhlIGNvbnRlbnQgZm9ybSB0aGUgYmluYXJ5IGZpZWxkIHRvIHRoZSBidWZmZXJcblxuICB2YWx1ZS5jb3B5KGJ1ZmZlciQkMSwgaW5kZXgsIDAsIHNpemUpOyAvLyBBZGp1c3QgdGhlIGluZGV4XG5cbiAgaW5kZXggPSBpbmRleCArIHNpemU7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCBpc0FycmF5LCBwYXRoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwYXRoW2ldID09PSB2YWx1ZSkgdGhyb3cgbmV3IEVycm9yKCdjeWNsaWMgZGVwZW5kZW5jeSBkZXRlY3RlZCcpO1xuICB9IC8vIFB1c2ggdmFsdWUgdG8gc3RhY2tcblxuXG4gIHBhdGgucHVzaCh2YWx1ZSk7IC8vIFdyaXRlIHRoZSB0eXBlXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBjb25zdGFudHMuQlNPTl9EQVRBX0FSUkFZIDogY29uc3RhbnRzLkJTT05fREFUQV9PQkpFQ1Q7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwO1xuICB2YXIgZW5kSW5kZXggPSBzZXJpYWxpemVJbnRvKGJ1ZmZlciQkMSwgdmFsdWUsIGNoZWNrS2V5cywgaW5kZXgsIGRlcHRoICsgMSwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIHBhdGgpOyAvLyBQb3Agc3RhY2tcblxuICBwYXRoLnBvcCgpO1xuICByZXR1cm4gZW5kSW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZURlY2ltYWwxMjgoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBjb25zdGFudHMuQlNPTl9EQVRBX0RFQ0lNQUwxMjg7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgZGF0YSBmcm9tIHRoZSB2YWx1ZVxuXG4gIHZhbHVlLmJ5dGVzLmNvcHkoYnVmZmVyJCQxLCBpbmRleCwgMCwgMTYpO1xuICByZXR1cm4gaW5kZXggKyAxNjtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTG9uZyhidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlLl9ic29udHlwZSA9PT0gJ0xvbmcnID8gY29uc3RhbnRzLkJTT05fREFUQV9MT05HIDogY29uc3RhbnRzLkJTT05fREFUQV9USU1FU1RBTVA7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSB0aGUgZGF0ZVxuXG4gIHZhciBsb3dCaXRzID0gdmFsdWUuZ2V0TG93Qml0cygpO1xuICB2YXIgaGlnaEJpdHMgPSB2YWx1ZS5nZXRIaWdoQml0cygpOyAvLyBFbmNvZGUgbG93IGJpdHNcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBsb3dCaXRzICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gbG93Qml0cyA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGxvd0JpdHMgPj4gMjQgJiAweGZmOyAvLyBFbmNvZGUgaGlnaCBiaXRzXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gaGlnaEJpdHMgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSBoaWdoQml0cyA+PiAyNCAmIDB4ZmY7XG4gIHJldHVybiBpbmRleDtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplSW50MzIoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgaXNBcnJheSkge1xuICAvLyBTZXQgaW50IHR5cGUgMzIgYml0cyBvciBsZXNzXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfSU5UOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gV3JpdGUgdGhlIGludCB2YWx1ZVxuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPj4gOCAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHZhbHVlID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUgPj4gMjQgJiAweGZmO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZURvdWJsZShidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIEVuY29kZSBhcyBkb3VibGVcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9OVU1CRVI7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgdmFyIG51bWJlck9mV3JpdHRlbkJ5dGVzID0gIWlzQXJyYXkgPyBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ3V0ZjgnKSA6IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAnYXNjaWknKTsgLy8gRW5jb2RlIHRoZSBuYW1lXG5cbiAgaW5kZXggPSBpbmRleCArIG51bWJlck9mV3JpdHRlbkJ5dGVzO1xuICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBXcml0ZSBmbG9hdFxuXG4gIHdyaXRlSUVFRTc1NCQxKGJ1ZmZlciQkMSwgdmFsdWUudmFsdWUsIGluZGV4LCAnbGl0dGxlJywgNTIsIDgpOyAvLyBBZGp1c3QgaW5kZXhcblxuICBpbmRleCA9IGluZGV4ICsgODtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVGdW5jdGlvbihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBpc0FycmF5KSB7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfQ09ERTsgLy8gTnVtYmVyIG9mIHdyaXR0ZW4gYnl0ZXNcblxuICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICBpbmRleCA9IGluZGV4ICsgbnVtYmVyT2ZXcml0dGVuQnl0ZXM7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7IC8vIEZ1bmN0aW9uIHN0cmluZ1xuXG4gIHZhciBmdW5jdGlvblN0cmluZyA9IG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQxKHZhbHVlKTsgLy8gV3JpdGUgdGhlIHN0cmluZ1xuXG4gIHZhciBzaXplID0gYnVmZmVyJCQxLndyaXRlKGZ1bmN0aW9uU3RyaW5nLCBpbmRleCArIDQsICd1dGY4JykgKyAxOyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgc3RyaW5nIHRvIGJ1ZmZlclxuXG4gIGJ1ZmZlciQkMVtpbmRleF0gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4ICsgMV0gPSBzaXplID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAyXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAzXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBVcGRhdGUgaW5kZXhcblxuICBpbmRleCA9IGluZGV4ICsgNCArIHNpemUgLSAxOyAvLyBXcml0ZSB6ZXJvXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVDb2RlKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCBpc0FycmF5KSB7XG4gIGlmICh2YWx1ZS5zY29wZSAmJiBfdHlwZW9mJDModmFsdWUuc2NvcGUpID09PSAnb2JqZWN0Jykge1xuICAgIC8vIFdyaXRlIHRoZSB0eXBlXG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9DT0RFX1dfU0NPUEU7IC8vIE51bWJlciBvZiB3cml0dGVuIGJ5dGVzXG5cbiAgICB2YXIgbnVtYmVyT2ZXcml0dGVuQnl0ZXMgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuICAgIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSAwOyAvLyBTdGFydGluZyBpbmRleFxuXG4gICAgdmFyIHN0YXJ0SW5kZXggPSBpbmRleDsgLy8gU2VyaWFsaXplIHRoZSBmdW5jdGlvblxuICAgIC8vIEdldCB0aGUgZnVuY3Rpb24gc3RyaW5nXG5cbiAgICB2YXIgZnVuY3Rpb25TdHJpbmcgPSB0eXBlb2YgdmFsdWUuY29kZSA9PT0gJ3N0cmluZycgPyB2YWx1ZS5jb2RlIDogdmFsdWUuY29kZS50b1N0cmluZygpOyAvLyBJbmRleCBhZGp1c3RtZW50XG5cbiAgICBpbmRleCA9IGluZGV4ICsgNDsgLy8gV3JpdGUgc3RyaW5nIGludG8gYnVmZmVyXG5cbiAgICB2YXIgY29kZVNpemUgPSBidWZmZXIkJDEud3JpdGUoZnVuY3Rpb25TdHJpbmcsIGluZGV4ICsgNCwgJ3V0ZjgnKSArIDE7IC8vIFdyaXRlIHRoZSBzaXplIG9mIHRoZSBzdHJpbmcgdG8gYnVmZmVyXG5cbiAgICBidWZmZXIkJDFbaW5kZXhdID0gY29kZVNpemUgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtpbmRleCArIDFdID0gY29kZVNpemUgPj4gOCAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW2luZGV4ICsgMl0gPSBjb2RlU2l6ZSA+PiAxNiAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW2luZGV4ICsgM10gPSBjb2RlU2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFdyaXRlIGVuZCAwXG5cbiAgICBidWZmZXIkJDFbaW5kZXggKyA0ICsgY29kZVNpemUgLSAxXSA9IDA7IC8vIFdyaXRlIHRoZVxuXG4gICAgaW5kZXggPSBpbmRleCArIGNvZGVTaXplICsgNDsgLy9cbiAgICAvLyBTZXJpYWxpemUgdGhlIHNjb3BlIHZhbHVlXG5cbiAgICB2YXIgZW5kSW5kZXggPSBzZXJpYWxpemVJbnRvKGJ1ZmZlciQkMSwgdmFsdWUuc2NvcGUsIGNoZWNrS2V5cywgaW5kZXgsIGRlcHRoICsgMSwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgIGluZGV4ID0gZW5kSW5kZXggLSAxOyAvLyBXcml0IHRoZSB0b3RhbFxuXG4gICAgdmFyIHRvdGFsU2l6ZSA9IGVuZEluZGV4IC0gc3RhcnRJbmRleDsgLy8gV3JpdGUgdGhlIHRvdGFsIHNpemUgb2YgdGhlIG9iamVjdFxuXG4gICAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSB0b3RhbFNpemUgJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtzdGFydEluZGV4KytdID0gdG90YWxTaXplID4+IDggJiAweGZmO1xuICAgIGJ1ZmZlciQkMVtzdGFydEluZGV4KytdID0gdG90YWxTaXplID4+IDE2ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbc3RhcnRJbmRleCsrXSA9IHRvdGFsU2l6ZSA+PiAyNCAmIDB4ZmY7IC8vIFdyaXRlIHRyYWlsaW5nIHplcm9cblxuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gIH0gZWxzZSB7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gY29uc3RhbnRzLkJTT05fREFUQV9DT0RFOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gICAgdmFyIF9udW1iZXJPZldyaXR0ZW5CeXRlczQgPSAhaXNBcnJheSA/IGJ1ZmZlciQkMS53cml0ZShrZXksIGluZGV4LCAndXRmOCcpIDogYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICdhc2NpaScpOyAvLyBFbmNvZGUgdGhlIG5hbWVcblxuXG4gICAgaW5kZXggPSBpbmRleCArIF9udW1iZXJPZldyaXR0ZW5CeXRlczQ7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gRnVuY3Rpb24gc3RyaW5nXG5cbiAgICB2YXIgX2Z1bmN0aW9uU3RyaW5nID0gdmFsdWUuY29kZS50b1N0cmluZygpOyAvLyBXcml0ZSB0aGUgc3RyaW5nXG5cblxuICAgIHZhciBzaXplID0gYnVmZmVyJCQxLndyaXRlKF9mdW5jdGlvblN0cmluZywgaW5kZXggKyA0LCAndXRmOCcpICsgMTsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIHN0cmluZyB0byBidWZmZXJcblxuICAgIGJ1ZmZlciQkMVtpbmRleF0gPSBzaXplICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXggKyAxXSA9IHNpemUgPj4gOCAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW2luZGV4ICsgMl0gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXggKyAzXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBVcGRhdGUgaW5kZXhcblxuICAgIGluZGV4ID0gaW5kZXggKyA0ICsgc2l6ZSAtIDE7IC8vIFdyaXRlIHplcm9cblxuICAgIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDA7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUJpbmFyeShidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfQklOQVJZOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gRXh0cmFjdCB0aGUgYnVmZmVyXG5cbiAgdmFyIGRhdGEgPSB2YWx1ZS52YWx1ZSh0cnVlKTsgLy8gQ2FsY3VsYXRlIHNpemVcblxuICB2YXIgc2l6ZSA9IHZhbHVlLnBvc2l0aW9uOyAvLyBBZGQgdGhlIGRlcHJlY2F0ZWQgMDIgdHlwZSA0IGJ5dGVzIG9mIHNpemUgdG8gdG90YWxcblxuICBpZiAodmFsdWUuc3ViX3R5cGUgPT09IGJpbmFyeS5TVUJUWVBFX0JZVEVfQVJSQVkpIHNpemUgPSBzaXplICsgNDsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIHN0cmluZyB0byBidWZmZXJcblxuICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiAxNiAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBXcml0ZSB0aGUgc3VidHlwZSB0byB0aGUgYnVmZmVyXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gdmFsdWUuc3ViX3R5cGU7IC8vIElmIHdlIGhhdmUgYmluYXJ5IHR5cGUgMiB0aGUgNCBmaXJzdCBieXRlcyBhcmUgdGhlIHNpemVcblxuICBpZiAodmFsdWUuc3ViX3R5cGUgPT09IGJpbmFyeS5TVUJUWVBFX0JZVEVfQVJSQVkpIHtcbiAgICBzaXplID0gc2l6ZSAtIDQ7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSAmIDB4ZmY7XG4gICAgYnVmZmVyJCQxW2luZGV4KytdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgICBidWZmZXIkJDFbaW5kZXgrK10gPSBzaXplID4+IDI0ICYgMHhmZjtcbiAgfSAvLyBXcml0ZSB0aGUgZGF0YSB0byB0aGUgb2JqZWN0XG5cblxuICBkYXRhLmNvcHkoYnVmZmVyJCQxLCBpbmRleCwgMCwgdmFsdWUucG9zaXRpb24pOyAvLyBBZGp1c3QgdGhlIGluZGV4XG5cbiAgaW5kZXggPSBpbmRleCArIHZhbHVlLnBvc2l0aW9uO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVN5bWJvbChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfU1lNQk9MOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDsgLy8gV3JpdGUgdGhlIHN0cmluZ1xuXG4gIHZhciBzaXplID0gYnVmZmVyJCQxLndyaXRlKHZhbHVlLnZhbHVlLCBpbmRleCArIDQsICd1dGY4JykgKyAxOyAvLyBXcml0ZSB0aGUgc2l6ZSBvZiB0aGUgc3RyaW5nIHRvIGJ1ZmZlclxuXG4gIGJ1ZmZlciQkMVtpbmRleF0gPSBzaXplICYgMHhmZjtcbiAgYnVmZmVyJCQxW2luZGV4ICsgMV0gPSBzaXplID4+IDggJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAyXSA9IHNpemUgPj4gMTYgJiAweGZmO1xuICBidWZmZXIkJDFbaW5kZXggKyAzXSA9IHNpemUgPj4gMjQgJiAweGZmOyAvLyBVcGRhdGUgaW5kZXhcblxuICBpbmRleCA9IGluZGV4ICsgNCArIHNpemUgLSAxOyAvLyBXcml0ZSB6ZXJvXG5cbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMHgwMDtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVEQlJlZihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpc0FycmF5KSB7XG4gIC8vIFdyaXRlIHRoZSB0eXBlXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IGNvbnN0YW50cy5CU09OX0RBVEFfT0JKRUNUOyAvLyBOdW1iZXIgb2Ygd3JpdHRlbiBieXRlc1xuXG4gIHZhciBudW1iZXJPZldyaXR0ZW5CeXRlcyA9ICFpc0FycmF5ID8gYnVmZmVyJCQxLndyaXRlKGtleSwgaW5kZXgsICd1dGY4JykgOiBidWZmZXIkJDEud3JpdGUoa2V5LCBpbmRleCwgJ2FzY2lpJyk7IC8vIEVuY29kZSB0aGUgbmFtZVxuXG4gIGluZGV4ID0gaW5kZXggKyBudW1iZXJPZldyaXR0ZW5CeXRlcztcbiAgYnVmZmVyJCQxW2luZGV4KytdID0gMDtcbiAgdmFyIHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgdmFyIGVuZEluZGV4O1xuICB2YXIgb3V0cHV0ID0ge1xuICAgICRyZWY6IHZhbHVlLmNvbGxlY3Rpb24gfHwgdmFsdWUubmFtZXNwYWNlLFxuICAgIC8vIFwibmFtZXNwYWNlXCIgd2FzIHdoYXQgbGlicmFyeSAxLnggY2FsbGVkIFwiY29sbGVjdGlvblwiXG4gICAgJGlkOiB2YWx1ZS5vaWRcbiAgfTtcbiAgaWYgKHZhbHVlLmRiICE9IG51bGwpIG91dHB1dC4kZGIgPSB2YWx1ZS5kYjtcbiAgb3V0cHV0ID0gT2JqZWN0LmFzc2lnbihvdXRwdXQsIHZhbHVlLmZpZWxkcyk7XG4gIGVuZEluZGV4ID0gc2VyaWFsaXplSW50byhidWZmZXIkJDEsIG91dHB1dCwgZmFsc2UsIGluZGV4LCBkZXB0aCArIDEsIHNlcmlhbGl6ZUZ1bmN0aW9ucyk7IC8vIENhbGN1bGF0ZSBvYmplY3Qgc2l6ZVxuXG4gIHZhciBzaXplID0gZW5kSW5kZXggLSBzdGFydEluZGV4OyAvLyBXcml0ZSB0aGUgc2l6ZVxuXG4gIGJ1ZmZlciQkMVtzdGFydEluZGV4KytdID0gc2l6ZSAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtzdGFydEluZGV4KytdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0SW5kZXgrK10gPSBzaXplID4+IDI0ICYgMHhmZjsgLy8gU2V0IGluZGV4XG5cbiAgcmV0dXJuIGVuZEluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVJbnRvKGJ1ZmZlciQkMSwgb2JqZWN0LCBjaGVja0tleXMsIHN0YXJ0aW5nSW5kZXgsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgcGF0aCkge1xuICBzdGFydGluZ0luZGV4ID0gc3RhcnRpbmdJbmRleCB8fCAwO1xuICBwYXRoID0gcGF0aCB8fCBbXTsgLy8gUHVzaCB0aGUgb2JqZWN0IHRvIHRoZSBwYXRoXG5cbiAgcGF0aC5wdXNoKG9iamVjdCk7IC8vIFN0YXJ0IHBsYWNlIHRvIHNlcmlhbGl6ZSBpbnRvXG5cbiAgdmFyIGluZGV4ID0gc3RhcnRpbmdJbmRleCArIDQ7IC8vIFNwZWNpYWwgY2FzZSBpc0FycmF5XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIC8vIEdldCBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gJycgKyBpO1xuICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2ldOyAvLyBJcyB0aGVyZSBhbiBvdmVycmlkZSB2YWx1ZVxuXG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUudG9CU09OKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUudG9CU09OICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCd0b0JTT04gaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0JTT04oKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGUgPSBfdHlwZW9mJDModmFsdWUpO1xuXG4gICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVTdHJpbmcoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVtYmVyKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCb29sZWFuKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUgfHwgaXNEYXRlJDEodmFsdWUpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGF0ZShidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU51bGwoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTnVsbChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnT2JqZWN0SWQnIHx8IHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElEJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU9iamVjdElkKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChCdWZmZXIkNS5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCdWZmZXIoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwIHx8IGlzUmVnRXhwJDEodmFsdWUpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplUmVnRXhwKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0JyAmJiB2YWx1ZVsnX2Jzb250eXBlJ10gPT0gbnVsbCkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU9iamVjdChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgdHJ1ZSwgcGF0aCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnICYmIHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RlY2ltYWwxMjgnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGVjaW1hbDEyOChidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnTG9uZycgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnVGltZXN0YW1wJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUxvbmcoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RvdWJsZScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEb3VibGUoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXJpYWxpemVGdW5jdGlvbnMpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVGdW5jdGlvbihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdDb2RlJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUNvZGUoYnVmZmVyJCQxLCBrZXksIHZhbHVlLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdCaW5hcnknKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQmluYXJ5KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplU3ltYm9sKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdEQlJlZicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEQlJlZihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnQlNPTlJlZ0V4cCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCU09OUmVnRXhwKGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdJbnQzMicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVJbnQzMihidWZmZXIkJDEsIGtleSwgdmFsdWUsIGluZGV4LCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnTWluS2V5JyB8fCB2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdNYXhLZXknKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplTWluTWF4KGJ1ZmZlciQkMSwga2V5LCB2YWx1ZSwgaW5kZXgsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVbJ19ic29udHlwZSddICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbnJlY29nbml6ZWQgb3IgaW52YWxpZCBfYnNvbnR5cGU6ICcgKyB2YWx1ZVsnX2Jzb250eXBlJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBtYXApIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBvYmplY3QuZW50cmllcygpO1xuICAgIHZhciBkb25lID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgIC8vIFVucGFjayB0aGUgbmV4dCBlbnRyeVxuICAgICAgdmFyIGVudHJ5ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgZG9uZSA9IGVudHJ5LmRvbmU7IC8vIEFyZSB3ZSBkb25lLCB0aGVuIHNraXAgYW5kIHRlcm1pbmF0ZVxuXG4gICAgICBpZiAoZG9uZSkgY29udGludWU7IC8vIEdldCB0aGUgZW50cnkgdmFsdWVzXG5cbiAgICAgIHZhciBfa2V5ID0gZW50cnkudmFsdWVbMF07XG4gICAgICB2YXIgX3ZhbHVlID0gZW50cnkudmFsdWVbMV07IC8vIENoZWNrIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZVxuXG4gICAgICB2YXIgX3R5cGUgPSBfdHlwZW9mJDMoX3ZhbHVlKTsgLy8gQ2hlY2sgdGhlIGtleSBhbmQgdGhyb3cgZXJyb3IgaWYgaXQncyBpbGxlZ2FsXG5cblxuICAgICAgaWYgKHR5cGVvZiBfa2V5ID09PSAnc3RyaW5nJyAmJiAhaWdub3JlS2V5cy5oYXMoX2tleSkpIHtcbiAgICAgICAgaWYgKF9rZXkubWF0Y2gocmVnZXhwJDEpICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBUaGUgQlNPTiBzcGVjIGRvZXNuJ3QgYWxsb3cga2V5cyB3aXRoIG51bGwgYnl0ZXMgYmVjYXVzZSBrZXlzIGFyZVxuICAgICAgICAgIC8vIG51bGwtdGVybWluYXRlZC5cbiAgICAgICAgICB0aHJvdyBFcnJvcigna2V5ICcgKyBfa2V5ICsgJyBtdXN0IG5vdCBjb250YWluIG51bGwgYnl0ZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGVja0tleXMpIHtcbiAgICAgICAgICBpZiAoJyQnID09PSBfa2V5WzBdKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigna2V5ICcgKyBfa2V5ICsgXCIgbXVzdCBub3Qgc3RhcnQgd2l0aCAnJCdcIik7XG4gICAgICAgICAgfSBlbHNlIGlmICh+X2tleS5pbmRleE9mKCcuJykpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdrZXkgJyArIF9rZXkgKyBcIiBtdXN0IG5vdCBjb250YWluICcuJ1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKF90eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZVN0cmluZyhidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVOdW1iZXIoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGUgPT09ICdib29sZWFuJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJvb2xlYW4oYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlIGluc3RhbmNlb2YgRGF0ZSB8fCBpc0RhdGUkMShfdmFsdWUpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGF0ZShidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUgPT09IG51bGwgfHwgX3ZhbHVlID09PSB1bmRlZmluZWQgJiYgaWdub3JlVW5kZWZpbmVkID09PSBmYWxzZSkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU51bGwoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElkJyB8fCBfdmFsdWVbJ19ic29udHlwZSddID09PSAnT2JqZWN0SUQnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplT2JqZWN0SWQoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoQnVmZmVyJDUuaXNCdWZmZXIoX3ZhbHVlKSkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJ1ZmZlcihidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUgaW5zdGFuY2VvZiBSZWdFeHAgfHwgaXNSZWdFeHAkMShfdmFsdWUpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplUmVnRXhwKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlID09PSAnb2JqZWN0JyAmJiBfdmFsdWVbJ19ic29udHlwZSddID09IG51bGwpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCwgZmFsc2UsIHBhdGgpO1xuICAgICAgfSBlbHNlIGlmIChfdHlwZSA9PT0gJ29iamVjdCcgJiYgX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RlY2ltYWwxMjgnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGVjaW1hbDEyOChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnTG9uZycgfHwgX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ1RpbWVzdGFtcCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVMb25nKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdEb3VibGUnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRG91YmxlKGJ1ZmZlciQkMSwgX2tleSwgX3ZhbHVlLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdDb2RlJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUNvZGUoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgc2VyaWFsaXplRnVuY3Rpb25zKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRnVuY3Rpb24oYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4LCBjaGVja0tleXMsIGRlcHRoLCBzZXJpYWxpemVGdW5jdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnQmluYXJ5Jykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUJpbmFyeShidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnU3ltYm9sJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZVN5bWJvbChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnREJSZWYnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplREJSZWYoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4LCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0JTT05SZWdFeHAnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQlNPTlJlZ0V4cChidWZmZXIkJDEsIF9rZXksIF92YWx1ZSwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWVbJ19ic29udHlwZSddID09PSAnSW50MzInKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplSW50MzIoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ01pbktleScgfHwgX3ZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ01heEtleScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVNaW5NYXgoYnVmZmVyJCQxLCBfa2V5LCBfdmFsdWUsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF92YWx1ZVsnX2Jzb250eXBlJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIF9ic29udHlwZTogJyArIF92YWx1ZVsnX2Jzb250eXBlJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBEaWQgd2UgcHJvdmlkZSBhIGN1c3RvbSBzZXJpYWxpemF0aW9uIG1ldGhvZFxuICAgIGlmIChvYmplY3QudG9CU09OKSB7XG4gICAgICBpZiAodHlwZW9mIG9iamVjdC50b0JTT04gIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RvQlNPTiBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgb2JqZWN0ID0gb2JqZWN0LnRvQlNPTigpO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsICYmIF90eXBlb2YkMyhvYmplY3QpICE9PSAnb2JqZWN0JykgdGhyb3cgbmV3IFR5cGVFcnJvcigndG9CU09OIGZ1bmN0aW9uIGRpZCBub3QgcmV0dXJuIGFuIG9iamVjdCcpO1xuICAgIH0gLy8gSXRlcmF0ZSBvdmVyIGFsbCB0aGUga2V5c1xuXG5cbiAgICBmb3IgKHZhciBfa2V5MiBpbiBvYmplY3QpIHtcbiAgICAgIHZhciBfdmFsdWUyID0gb2JqZWN0W19rZXkyXTsgLy8gSXMgdGhlcmUgYW4gb3ZlcnJpZGUgdmFsdWVcblxuICAgICAgaWYgKF92YWx1ZTIgJiYgX3ZhbHVlMi50b0JTT04pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBfdmFsdWUyLnRvQlNPTiAhPT0gJ2Z1bmN0aW9uJykgdGhyb3cgbmV3IFR5cGVFcnJvcigndG9CU09OIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIF92YWx1ZTIgPSBfdmFsdWUyLnRvQlNPTigpO1xuICAgICAgfSAvLyBDaGVjayB0aGUgdHlwZSBvZiB0aGUgdmFsdWVcblxuXG4gICAgICB2YXIgX3R5cGUyID0gX3R5cGVvZiQzKF92YWx1ZTIpOyAvLyBDaGVjayB0aGUga2V5IGFuZCB0aHJvdyBlcnJvciBpZiBpdCdzIGlsbGVnYWxcblxuXG4gICAgICBpZiAodHlwZW9mIF9rZXkyID09PSAnc3RyaW5nJyAmJiAhaWdub3JlS2V5cy5oYXMoX2tleTIpKSB7XG4gICAgICAgIGlmIChfa2V5Mi5tYXRjaChyZWdleHAkMSkgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIFRoZSBCU09OIHNwZWMgZG9lc24ndCBhbGxvdyBrZXlzIHdpdGggbnVsbCBieXRlcyBiZWNhdXNlIGtleXMgYXJlXG4gICAgICAgICAgLy8gbnVsbC10ZXJtaW5hdGVkLlxuICAgICAgICAgIHRocm93IEVycm9yKCdrZXkgJyArIF9rZXkyICsgJyBtdXN0IG5vdCBjb250YWluIG51bGwgYnl0ZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGVja0tleXMpIHtcbiAgICAgICAgICBpZiAoJyQnID09PSBfa2V5MlswXSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2tleSAnICsgX2tleTIgKyBcIiBtdXN0IG5vdCBzdGFydCB3aXRoICckJ1wiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKH5fa2V5Mi5pbmRleE9mKCcuJykpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdrZXkgJyArIF9rZXkyICsgXCIgbXVzdCBub3QgY29udGFpbiAnLidcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChfdHlwZTIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplU3RyaW5nKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3R5cGUyID09PSAnbnVtYmVyJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU51bWJlcihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlMiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQm9vbGVhbihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTIgaW5zdGFuY2VvZiBEYXRlIHx8IGlzRGF0ZSQxKF92YWx1ZTIpKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplRGF0ZShidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaWdub3JlVW5kZWZpbmVkID09PSBmYWxzZSkgaW5kZXggPSBzZXJpYWxpemVOdWxsKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMiA9PT0gbnVsbCkge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU51bGwoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElkJyB8fCBfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElEJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZU9iamVjdElkKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoQnVmZmVyJDUuaXNCdWZmZXIoX3ZhbHVlMikpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCdWZmZXIoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyIGluc3RhbmNlb2YgUmVnRXhwIHx8IGlzUmVnRXhwJDEoX3ZhbHVlMikpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVSZWdFeHAoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdHlwZTIgPT09ICdvYmplY3QnICYmIF92YWx1ZTJbJ19ic29udHlwZSddID09IG51bGwpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVPYmplY3QoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgsIGNoZWNrS2V5cywgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkLCBmYWxzZSwgcGF0aCk7XG4gICAgICB9IGVsc2UgaWYgKF90eXBlMiA9PT0gJ29iamVjdCcgJiYgX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdEZWNpbWFsMTI4Jykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZURlY2ltYWwxMjgoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0xvbmcnIHx8IF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnVGltZXN0YW1wJykge1xuICAgICAgICBpbmRleCA9IHNlcmlhbGl6ZUxvbmcoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0RvdWJsZScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEb3VibGUoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmIChfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ0NvZGUnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQ29kZShidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3ZhbHVlMiA9PT0gJ2Z1bmN0aW9uJyAmJiBzZXJpYWxpemVGdW5jdGlvbnMpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVGdW5jdGlvbihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCwgY2hlY2tLZXlzLCBkZXB0aCwgc2VyaWFsaXplRnVuY3Rpb25zKTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdCaW5hcnknKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplQmluYXJ5KGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICAgIGluZGV4ID0gc2VyaWFsaXplU3ltYm9sKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdEQlJlZicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVEQlJlZihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCwgZGVwdGgsIHNlcmlhbGl6ZUZ1bmN0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnQlNPTlJlZ0V4cCcpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVCU09OUmVnRXhwKGJ1ZmZlciQkMSwgX2tleTIsIF92YWx1ZTIsIGluZGV4KTtcbiAgICAgIH0gZWxzZSBpZiAoX3ZhbHVlMlsnX2Jzb250eXBlJ10gPT09ICdJbnQzMicpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVJbnQzMihidWZmZXIkJDEsIF9rZXkyLCBfdmFsdWUyLCBpbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKF92YWx1ZTJbJ19ic29udHlwZSddID09PSAnTWluS2V5JyB8fCBfdmFsdWUyWydfYnNvbnR5cGUnXSA9PT0gJ01heEtleScpIHtcbiAgICAgICAgaW5kZXggPSBzZXJpYWxpemVNaW5NYXgoYnVmZmVyJCQxLCBfa2V5MiwgX3ZhbHVlMiwgaW5kZXgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3ZhbHVlMlsnX2Jzb250eXBlJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VucmVjb2duaXplZCBvciBpbnZhbGlkIF9ic29udHlwZTogJyArIF92YWx1ZTJbJ19ic29udHlwZSddKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gUmVtb3ZlIHRoZSBwYXRoXG5cblxuICBwYXRoLnBvcCgpOyAvLyBGaW5hbCBwYWRkaW5nIGJ5dGUgZm9yIG9iamVjdFxuXG4gIGJ1ZmZlciQkMVtpbmRleCsrXSA9IDB4MDA7IC8vIEZpbmFsIHNpemVcblxuICB2YXIgc2l6ZSA9IGluZGV4IC0gc3RhcnRpbmdJbmRleDsgLy8gV3JpdGUgdGhlIHNpemUgb2YgdGhlIG9iamVjdFxuXG4gIGJ1ZmZlciQkMVtzdGFydGluZ0luZGV4KytdID0gc2l6ZSAmIDB4ZmY7XG4gIGJ1ZmZlciQkMVtzdGFydGluZ0luZGV4KytdID0gc2l6ZSA+PiA4ICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0aW5nSW5kZXgrK10gPSBzaXplID4+IDE2ICYgMHhmZjtcbiAgYnVmZmVyJCQxW3N0YXJ0aW5nSW5kZXgrK10gPSBzaXplID4+IDI0ICYgMHhmZjtcbiAgcmV0dXJuIGluZGV4O1xufVxuXG52YXIgc2VyaWFsaXplciA9IHNlcmlhbGl6ZUludG87XG5cbmZ1bmN0aW9uIF90eXBlb2YkNChvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YkNCA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mJDQgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZiQ0KG9iaik7IH1cblxudmFyIEJ1ZmZlciQ2ID0gYnVmZmVyLkJ1ZmZlcjtcbnZhciBub3JtYWxpemVkRnVuY3Rpb25TdHJpbmckMiA9IHV0aWxzLm5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZzsgLy8gVG8gZW5zdXJlIHRoYXQgMC40IG9mIG5vZGUgd29ya3MgY29ycmVjdGx5XG5cbmZ1bmN0aW9uIGlzRGF0ZSQyKGQpIHtcbiAgcmV0dXJuIF90eXBlb2YkNChkKSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU9iamVjdFNpemUob2JqZWN0LCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCkge1xuICB2YXIgdG90YWxMZW5ndGggPSA0ICsgMTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IGNhbGN1bGF0ZUVsZW1lbnQoaS50b1N0cmluZygpLCBvYmplY3RbaV0sIHNlcmlhbGl6ZUZ1bmN0aW9ucywgdHJ1ZSwgaWdub3JlVW5kZWZpbmVkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgd2UgaGF2ZSB0b0JTT04gZGVmaW5lZCwgb3ZlcnJpZGUgdGhlIGN1cnJlbnQgb2JqZWN0XG4gICAgaWYgKG9iamVjdC50b0JTT04pIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdC50b0JTT04oKTtcbiAgICB9IC8vIENhbGN1bGF0ZSBzaXplXG5cblxuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIHRvdGFsTGVuZ3RoICs9IGNhbGN1bGF0ZUVsZW1lbnQoa2V5LCBvYmplY3Rba2V5XSwgc2VyaWFsaXplRnVuY3Rpb25zLCBmYWxzZSwgaWdub3JlVW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG90YWxMZW5ndGg7XG59XG4vKipcbiAqIEBpZ25vcmVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gY2FsY3VsYXRlRWxlbWVudChuYW1lLCB2YWx1ZSwgc2VyaWFsaXplRnVuY3Rpb25zLCBpc0FycmF5LCBpZ25vcmVVbmRlZmluZWQpIHtcbiAgLy8gSWYgd2UgaGF2ZSB0b0JTT04gZGVmaW5lZCwgb3ZlcnJpZGUgdGhlIGN1cnJlbnQgb2JqZWN0XG4gIGlmICh2YWx1ZSAmJiB2YWx1ZS50b0JTT04pIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnRvQlNPTigpO1xuICB9XG5cbiAgc3dpdGNoIChfdHlwZW9mJDQodmFsdWUpKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiAxICsgQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSArIDQgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLCAndXRmOCcpICsgMTtcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAoTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlICYmIHZhbHVlID49IGNvbnN0YW50cy5KU19JTlRfTUlOICYmIHZhbHVlIDw9IGNvbnN0YW50cy5KU19JTlRfTUFYKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+PSBjb25zdGFudHMuQlNPTl9JTlQzMl9NSU4gJiYgdmFsdWUgPD0gY29uc3RhbnRzLkJTT05fSU5UMzJfTUFYKSB7XG4gICAgICAgICAgLy8gMzIgYml0XG4gICAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoNCArIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDggKyAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gNjQgYml0XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDggKyAxKTtcbiAgICAgIH1cblxuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBpZiAoaXNBcnJheSB8fCAhaWdub3JlVW5kZWZpbmVkKSByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDE7XG4gICAgICByZXR1cm4gMDtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoMSArIDEpO1xuXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ01pbktleScgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnTWF4S2V5Jykge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDE7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ09iamVjdElkJyB8fCB2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdPYmplY3RJRCcpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAoMTIgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlIHx8IGlzRGF0ZSQyKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICg4ICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBCdWZmZXIkNiAhPT0gJ3VuZGVmaW5lZCcgJiYgQnVmZmVyJDYuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDEgKyA0ICsgMSkgKyB2YWx1ZS5sZW5ndGg7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0xvbmcnIHx8IHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RvdWJsZScgfHwgdmFsdWVbJ19ic29udHlwZSddID09PSAnVGltZXN0YW1wJykge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICg4ICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0RlY2ltYWwxMjgnKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKDE2ICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0NvZGUnKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBzaXplIGRlcGVuZGluZyBvbiB0aGUgYXZhaWxhYmlsaXR5IG9mIGEgc2NvcGVcbiAgICAgICAgaWYgKHZhbHVlLnNjb3BlICE9IG51bGwgJiYgT2JqZWN0LmtleXModmFsdWUuc2NvcGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDEgKyA0ICsgNCArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgodmFsdWUuY29kZS50b1N0cmluZygpLCAndXRmOCcpICsgMSArIGNhbGN1bGF0ZU9iamVjdFNpemUodmFsdWUuc2NvcGUsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDEgKyA0ICsgQnVmZmVyJDYuYnl0ZUxlbmd0aCh2YWx1ZS5jb2RlLnRvU3RyaW5nKCksICd1dGY4JykgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0JpbmFyeScpIHtcbiAgICAgICAgLy8gQ2hlY2sgd2hhdCBraW5kIG9mIHN1YnR5cGUgd2UgaGF2ZVxuICAgICAgICBpZiAodmFsdWUuc3ViX3R5cGUgPT09IGJpbmFyeS5TVUJUWVBFX0JZVEVfQVJSQVkpIHtcbiAgICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArICh2YWx1ZS5wb3NpdGlvbiArIDEgKyA0ICsgMSArIDQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgKHZhbHVlLnBvc2l0aW9uICsgMSArIDQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2YWx1ZVsnX2Jzb250eXBlJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgQnVmZmVyJDYuYnl0ZUxlbmd0aCh2YWx1ZS52YWx1ZSwgJ3V0ZjgnKSArIDQgKyAxICsgMTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWVbJ19ic29udHlwZSddID09PSAnREJSZWYnKSB7XG4gICAgICAgIC8vIFNldCB1cCBjb3JyZWN0IG9iamVjdCBmb3Igc2VyaWFsaXphdGlvblxuICAgICAgICB2YXIgb3JkZXJlZF92YWx1ZXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAkcmVmOiB2YWx1ZS5jb2xsZWN0aW9uLFxuICAgICAgICAgICRpZDogdmFsdWUub2lkXG4gICAgICAgIH0sIHZhbHVlLmZpZWxkcyk7IC8vIEFkZCBkYiByZWZlcmVuY2UgaWYgaXQgZXhpc3RzXG5cbiAgICAgICAgaWYgKHZhbHVlLmRiICE9IG51bGwpIHtcbiAgICAgICAgICBvcmRlcmVkX3ZhbHVlc1snJGRiJ10gPSB2YWx1ZS5kYjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIGNhbGN1bGF0ZU9iamVjdFNpemUob3JkZXJlZF92YWx1ZXMsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHAgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyAxICsgQnVmZmVyJDYuYnl0ZUxlbmd0aCh2YWx1ZS5zb3VyY2UsICd1dGY4JykgKyAxICsgKHZhbHVlLmdsb2JhbCA/IDEgOiAwKSArICh2YWx1ZS5pZ25vcmVDYXNlID8gMSA6IDApICsgKHZhbHVlLm11bHRpbGluZSA/IDEgOiAwKSArIDE7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWydfYnNvbnR5cGUnXSA9PT0gJ0JTT05SZWdFeHAnKSB7XG4gICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIEJ1ZmZlciQ2LmJ5dGVMZW5ndGgodmFsdWUucGF0dGVybiwgJ3V0ZjgnKSArIDEgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLm9wdGlvbnMsICd1dGY4JykgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9IG51bGwgPyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5hbWUsICd1dGY4JykgKyAxIDogMCkgKyBjYWxjdWxhdGVPYmplY3RTaXplKHZhbHVlLCBzZXJpYWxpemVGdW5jdGlvbnMsIGlnbm9yZVVuZGVmaW5lZCkgKyAxO1xuICAgICAgfVxuXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gV1RGIGZvciAwLjQuWCB3aGVyZSB0eXBlb2YgL3NvbWVyZWdleHAvID09PSAnZnVuY3Rpb24nXG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZWdFeHAgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXScgfHwgU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgICAgICByZXR1cm4gKG5hbWUgIT0gbnVsbCA/IEJ1ZmZlciQ2LmJ5dGVMZW5ndGgobmFtZSwgJ3V0ZjgnKSArIDEgOiAwKSArIDEgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKHZhbHVlLnNvdXJjZSwgJ3V0ZjgnKSArIDEgKyAodmFsdWUuZ2xvYmFsID8gMSA6IDApICsgKHZhbHVlLmlnbm9yZUNhc2UgPyAxIDogMCkgKyAodmFsdWUubXVsdGlsaW5lID8gMSA6IDApICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZXJpYWxpemVGdW5jdGlvbnMgJiYgdmFsdWUuc2NvcGUgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyh2YWx1ZS5zY29wZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIDQgKyA0ICsgQnVmZmVyJDYuYnl0ZUxlbmd0aChub3JtYWxpemVkRnVuY3Rpb25TdHJpbmckMih2YWx1ZSksICd1dGY4JykgKyAxICsgY2FsY3VsYXRlT2JqZWN0U2l6ZSh2YWx1ZS5zY29wZSwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlcmlhbGl6ZUZ1bmN0aW9ucykge1xuICAgICAgICAgIHJldHVybiAobmFtZSAhPSBudWxsID8gQnVmZmVyJDYuYnl0ZUxlbmd0aChuYW1lLCAndXRmOCcpICsgMSA6IDApICsgMSArIDQgKyBCdWZmZXIkNi5ieXRlTGVuZ3RoKG5vcm1hbGl6ZWRGdW5jdGlvblN0cmluZyQyKHZhbHVlKSwgJ3V0ZjgnKSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbnZhciBjYWxjdWxhdGVfc2l6ZSA9IGNhbGN1bGF0ZU9iamVjdFNpemU7XG5cbnZhciBCdWZmZXIkNyA9IGJ1ZmZlci5CdWZmZXI7XG4vKipcbiAqIE1ha2VzIHN1cmUgdGhhdCwgaWYgYSBVaW50OEFycmF5IGlzIHBhc3NlZCBpbiwgaXQgaXMgd3JhcHBlZCBpbiBhIEJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcnxVaW50OEFycmF5fSBwb3RlbnRpYWxCdWZmZXIgVGhlIHBvdGVudGlhbCBidWZmZXJcbiAqIEByZXR1cm5zIHtCdWZmZXJ9IHRoZSBpbnB1dCBpZiBwb3RlbnRpYWxCdWZmZXIgaXMgYSBidWZmZXIsIG9yIGEgYnVmZmVyIHRoYXRcbiAqIHdyYXBzIGEgcGFzc2VkIGluIFVpbnQ4QXJyYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYW55dGhpbmcgb3RoZXIgdGhhbiBhIEJ1ZmZlciBvciBVaW50OEFycmF5IGlzIHBhc3NlZCBpblxuICovXG5cbnZhciBlbnN1cmVfYnVmZmVyID0gZnVuY3Rpb24gZW5zdXJlQnVmZmVyKHBvdGVudGlhbEJ1ZmZlcikge1xuICBpZiAocG90ZW50aWFsQnVmZmVyIGluc3RhbmNlb2YgQnVmZmVyJDcpIHtcbiAgICByZXR1cm4gcG90ZW50aWFsQnVmZmVyO1xuICB9XG5cbiAgaWYgKHBvdGVudGlhbEJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gQnVmZmVyJDcuZnJvbShwb3RlbnRpYWxCdWZmZXIuYnVmZmVyKTtcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ011c3QgdXNlIGVpdGhlciBCdWZmZXIgb3IgVWludDhBcnJheScpO1xufTtcblxudmFyIEJ1ZmZlciQ4ID0gYnVmZmVyLkJ1ZmZlcjsgLy8gUGFydHMgb2YgdGhlIHBhcnNlclxuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuLy8gRGVmYXVsdCBNYXggU2l6ZVxuXG52YXIgTUFYU0laRSA9IDEwMjQgKiAxMDI0ICogMTc7IC8vIEN1cnJlbnQgSW50ZXJuYWwgVGVtcG9yYXJ5IFNlcmlhbGl6YXRpb24gQnVmZmVyXG5cbnZhciBidWZmZXIkMSA9IEJ1ZmZlciQ4LmFsbG9jKE1BWFNJWkUpO1xuLyoqXG4gKiBTZXRzIHRoZSBzaXplIG9mIHRoZSBpbnRlcm5hbCBzZXJpYWxpemF0aW9uIGJ1ZmZlci5cbiAqXG4gKiBAbWV0aG9kXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBUaGUgZGVzaXJlZCBzaXplIGZvciB0aGUgaW50ZXJuYWwgc2VyaWFsaXphdGlvbiBidWZmZXJcbiAqL1xuXG5mdW5jdGlvbiBzZXRJbnRlcm5hbEJ1ZmZlclNpemUoc2l6ZSkge1xuICAvLyBSZXNpemUgdGhlIGludGVybmFsIHNlcmlhbGl6YXRpb24gYnVmZmVyIGlmIG5lZWRlZFxuICBpZiAoYnVmZmVyJDEubGVuZ3RoIDwgc2l6ZSkge1xuICAgIGJ1ZmZlciQxID0gQnVmZmVyJDguYWxsb2Moc2l6ZSk7XG4gIH1cbn1cbi8qKlxuICogU2VyaWFsaXplIGEgSmF2YXNjcmlwdCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0aGUgSmF2YXNjcmlwdCBvYmplY3QgdG8gc2VyaWFsaXplLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jaGVja0tleXNdIHRoZSBzZXJpYWxpemVyIHdpbGwgY2hlY2sgaWYga2V5cyBhcmUgdmFsaWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucz1mYWxzZV0gc2VyaWFsaXplIHRoZSBqYXZhc2NyaXB0IGZ1bmN0aW9ucyAqKihkZWZhdWx0OmZhbHNlKSoqLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pZ25vcmVVbmRlZmluZWQ9dHJ1ZV0gaWdub3JlIHVuZGVmaW5lZCBmaWVsZHMgKiooZGVmYXVsdDp0cnVlKSoqLlxuICogQHJldHVybiB7QnVmZmVyfSByZXR1cm5zIHRoZSBCdWZmZXIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgb2JqZWN0LlxuICovXG5cblxuZnVuY3Rpb24gc2VyaWFsaXplJDEob2JqZWN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBVbnBhY2sgdGhlIG9wdGlvbnNcblxuICB2YXIgY2hlY2tLZXlzID0gdHlwZW9mIG9wdGlvbnMuY2hlY2tLZXlzID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNoZWNrS2V5cyA6IGZhbHNlO1xuICB2YXIgc2VyaWFsaXplRnVuY3Rpb25zID0gdHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucyA6IGZhbHNlO1xuICB2YXIgaWdub3JlVW5kZWZpbmVkID0gdHlwZW9mIG9wdGlvbnMuaWdub3JlVW5kZWZpbmVkID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCA6IHRydWU7XG4gIHZhciBtaW5JbnRlcm5hbEJ1ZmZlclNpemUgPSB0eXBlb2Ygb3B0aW9ucy5taW5JbnRlcm5hbEJ1ZmZlclNpemUgPT09ICdudW1iZXInID8gb3B0aW9ucy5taW5JbnRlcm5hbEJ1ZmZlclNpemUgOiBNQVhTSVpFOyAvLyBSZXNpemUgdGhlIGludGVybmFsIHNlcmlhbGl6YXRpb24gYnVmZmVyIGlmIG5lZWRlZFxuXG4gIGlmIChidWZmZXIkMS5sZW5ndGggPCBtaW5JbnRlcm5hbEJ1ZmZlclNpemUpIHtcbiAgICBidWZmZXIkMSA9IEJ1ZmZlciQ4LmFsbG9jKG1pbkludGVybmFsQnVmZmVyU2l6ZSk7XG4gIH0gLy8gQXR0ZW1wdCB0byBzZXJpYWxpemVcblxuXG4gIHZhciBzZXJpYWxpemF0aW9uSW5kZXggPSBzZXJpYWxpemVyKGJ1ZmZlciQxLCBvYmplY3QsIGNoZWNrS2V5cywgMCwgMCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQsIFtdKTsgLy8gQ3JlYXRlIHRoZSBmaW5hbCBidWZmZXJcblxuICB2YXIgZmluaXNoZWRCdWZmZXIgPSBCdWZmZXIkOC5hbGxvYyhzZXJpYWxpemF0aW9uSW5kZXgpOyAvLyBDb3B5IGludG8gdGhlIGZpbmlzaGVkIGJ1ZmZlclxuXG4gIGJ1ZmZlciQxLmNvcHkoZmluaXNoZWRCdWZmZXIsIDAsIDAsIGZpbmlzaGVkQnVmZmVyLmxlbmd0aCk7IC8vIFJldHVybiB0aGUgYnVmZmVyXG5cbiAgcmV0dXJuIGZpbmlzaGVkQnVmZmVyO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgYSBKYXZhc2NyaXB0IG9iamVjdCB1c2luZyBhIHByZWRlZmluZWQgQnVmZmVyIGFuZCBpbmRleCBpbnRvIHRoZSBidWZmZXIsIHVzZWZ1bCB3aGVuIHByZS1hbGxvY2F0aW5nIHRoZSBzcGFjZSBmb3Igc2VyaWFsaXphdGlvbi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IHRoZSBKYXZhc2NyaXB0IG9iamVjdCB0byBzZXJpYWxpemUuXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIHRoZSBCdWZmZXIgeW91IHByZS1hbGxvY2F0ZWQgdG8gc3RvcmUgdGhlIHNlcmlhbGl6ZWQgQlNPTiBvYmplY3QuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNoZWNrS2V5c10gdGhlIHNlcmlhbGl6ZXIgd2lsbCBjaGVjayBpZiBrZXlzIGFyZSB2YWxpZC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zPWZhbHNlXSBzZXJpYWxpemUgdGhlIGphdmFzY3JpcHQgZnVuY3Rpb25zICoqKGRlZmF1bHQ6ZmFsc2UpKiouXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmlnbm9yZVVuZGVmaW5lZD10cnVlXSBpZ25vcmUgdW5kZWZpbmVkIGZpZWxkcyAqKihkZWZhdWx0OnRydWUpKiouXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaW5kZXhdIHRoZSBpbmRleCBpbiB0aGUgYnVmZmVyIHdoZXJlIHdlIHdpc2ggdG8gc3RhcnQgc2VyaWFsaXppbmcgaW50by5cbiAqIEByZXR1cm4ge051bWJlcn0gcmV0dXJucyB0aGUgaW5kZXggcG9pbnRpbmcgdG8gdGhlIGxhc3Qgd3JpdHRlbiBieXRlIGluIHRoZSBidWZmZXIuXG4gKi9cblxuXG5mdW5jdGlvbiBzZXJpYWxpemVXaXRoQnVmZmVyQW5kSW5kZXgob2JqZWN0LCBmaW5hbEJ1ZmZlciwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gVW5wYWNrIHRoZSBvcHRpb25zXG5cbiAgdmFyIGNoZWNrS2V5cyA9IHR5cGVvZiBvcHRpb25zLmNoZWNrS2V5cyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5jaGVja0tleXMgOiBmYWxzZTtcbiAgdmFyIHNlcmlhbGl6ZUZ1bmN0aW9ucyA9IHR5cGVvZiBvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5zZXJpYWxpemVGdW5jdGlvbnMgOiBmYWxzZTtcbiAgdmFyIGlnbm9yZVVuZGVmaW5lZCA9IHR5cGVvZiBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucy5pZ25vcmVVbmRlZmluZWQgOiB0cnVlO1xuICB2YXIgc3RhcnRJbmRleCA9IHR5cGVvZiBvcHRpb25zLmluZGV4ID09PSAnbnVtYmVyJyA/IG9wdGlvbnMuaW5kZXggOiAwOyAvLyBBdHRlbXB0IHRvIHNlcmlhbGl6ZVxuXG4gIHZhciBzZXJpYWxpemF0aW9uSW5kZXggPSBzZXJpYWxpemVyKGJ1ZmZlciQxLCBvYmplY3QsIGNoZWNrS2V5cywgMCwgMCwgc2VyaWFsaXplRnVuY3Rpb25zLCBpZ25vcmVVbmRlZmluZWQpO1xuICBidWZmZXIkMS5jb3B5KGZpbmFsQnVmZmVyLCBzdGFydEluZGV4LCAwLCBzZXJpYWxpemF0aW9uSW5kZXgpOyAvLyBSZXR1cm4gdGhlIGluZGV4XG5cbiAgcmV0dXJuIHN0YXJ0SW5kZXggKyBzZXJpYWxpemF0aW9uSW5kZXggLSAxO1xufVxuLyoqXG4gKiBEZXNlcmlhbGl6ZSBkYXRhIGFzIEJTT04uXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciB0aGUgYnVmZmVyIGNvbnRhaW5pbmcgdGhlIHNlcmlhbGl6ZWQgc2V0IG9mIEJTT04gZG9jdW1lbnRzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmV2YWxGdW5jdGlvbnM9ZmFsc2VdIGV2YWx1YXRlIGZ1bmN0aW9ucyBpbiB0aGUgQlNPTiBkb2N1bWVudCBzY29wZWQgdG8gdGhlIG9iamVjdCBkZXNlcmlhbGl6ZWQuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuY2FjaGVGdW5jdGlvbnM9ZmFsc2VdIGNhY2hlIGV2YWx1YXRlZCBmdW5jdGlvbnMgZm9yIHJldXNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNhY2hlRnVuY3Rpb25zQ3JjMzI9ZmFsc2VdIHVzZSBhIGNyYzMyIGNvZGUgZm9yIGNhY2hpbmcsIG90aGVyd2lzZSB1c2UgdGhlIHN0cmluZyBvZiB0aGUgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvbW90ZUxvbmdzPXRydWVdIHdoZW4gZGVzZXJpYWxpemluZyBhIExvbmcgd2lsbCBmaXQgaXQgaW50byBhIE51bWJlciBpZiBpdCdzIHNtYWxsZXIgdGhhbiA1MyBiaXRzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMucHJvbW90ZUJ1ZmZlcnM9ZmFsc2VdIHdoZW4gZGVzZXJpYWxpemluZyBhIEJpbmFyeSB3aWxsIHJldHVybiBpdCBhcyBhIG5vZGUuanMgQnVmZmVyIGluc3RhbmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb21vdGVWYWx1ZXM9ZmFsc2VdIHdoZW4gZGVzZXJpYWxpemluZyB3aWxsIHByb21vdGUgQlNPTiB2YWx1ZXMgdG8gdGhlaXIgTm9kZS5qcyBjbG9zZXN0IGVxdWl2YWxlbnQgdHlwZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZmllbGRzQXNSYXc9bnVsbF0gYWxsb3cgdG8gc3BlY2lmeSBpZiB0aGVyZSB3aGF0IGZpZWxkcyB3ZSB3aXNoIHRvIHJldHVybiBhcyB1bnNlcmlhbGl6ZWQgcmF3IGJ1ZmZlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5ic29uUmVnRXhwPWZhbHNlXSByZXR1cm4gQlNPTiByZWd1bGFyIGV4cHJlc3Npb25zIGFzIEJTT05SZWdFeHAgaW5zdGFuY2VzLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbGxvd09iamVjdFNtYWxsZXJUaGFuQnVmZmVyU2l6ZT1mYWxzZV0gYWxsb3dzIHRoZSBidWZmZXIgdG8gYmUgbGFyZ2VyIHRoYW4gdGhlIHBhcnNlZCBCU09OIG9iamVjdFxuICogQHJldHVybiB7T2JqZWN0fSByZXR1cm5zIHRoZSBkZXNlcmlhbGl6ZWQgSmF2YXNjcmlwdCBPYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZSQyKGJ1ZmZlciQkMSwgb3B0aW9ucykge1xuICBidWZmZXIkJDEgPSBlbnN1cmVfYnVmZmVyKGJ1ZmZlciQkMSk7XG4gIHJldHVybiBkZXNlcmlhbGl6ZXIoYnVmZmVyJCQxLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBic29uIHNpemUgZm9yIGEgcGFzc2VkIGluIEphdmFzY3JpcHQgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgdGhlIEphdmFzY3JpcHQgb2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgQlNPTiBieXRlIHNpemUgZm9yLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zZXJpYWxpemVGdW5jdGlvbnM9ZmFsc2VdIHNlcmlhbGl6ZSB0aGUgamF2YXNjcmlwdCBmdW5jdGlvbnMgKiooZGVmYXVsdDpmYWxzZSkqKi5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaWdub3JlVW5kZWZpbmVkPXRydWVdIGlnbm9yZSB1bmRlZmluZWQgZmllbGRzICoqKGRlZmF1bHQ6dHJ1ZSkqKi5cbiAqIEByZXR1cm4ge051bWJlcn0gcmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoZSBCU09OIG9iamVjdCB3aWxsIHRha2UgdXAuXG4gKi9cblxuXG5mdW5jdGlvbiBjYWxjdWxhdGVPYmplY3RTaXplJDEob2JqZWN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgc2VyaWFsaXplRnVuY3Rpb25zID0gdHlwZW9mIG9wdGlvbnMuc2VyaWFsaXplRnVuY3Rpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zLnNlcmlhbGl6ZUZ1bmN0aW9ucyA6IGZhbHNlO1xuICB2YXIgaWdub3JlVW5kZWZpbmVkID0gdHlwZW9mIG9wdGlvbnMuaWdub3JlVW5kZWZpbmVkID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmlnbm9yZVVuZGVmaW5lZCA6IHRydWU7XG4gIHJldHVybiBjYWxjdWxhdGVfc2l6ZShvYmplY3QsIHNlcmlhbGl6ZUZ1bmN0aW9ucywgaWdub3JlVW5kZWZpbmVkKTtcbn1cbi8qKlxuICogRGVzZXJpYWxpemUgc3RyZWFtIGRhdGEgYXMgQlNPTiBkb2N1bWVudHMuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgdGhlIGJ1ZmZlciBjb250YWluaW5nIHRoZSBzZXJpYWxpemVkIHNldCBvZiBCU09OIGRvY3VtZW50cy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEluZGV4IHRoZSBzdGFydCBpbmRleCBpbiB0aGUgZGF0YSBCdWZmZXIgd2hlcmUgdGhlIGRlc2VyaWFsaXphdGlvbiBpcyB0byBzdGFydC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBudW1iZXJPZkRvY3VtZW50cyBudW1iZXIgb2YgZG9jdW1lbnRzIHRvIGRlc2VyaWFsaXplLlxuICogQHBhcmFtIHtBcnJheX0gZG9jdW1lbnRzIGFuIGFycmF5IHdoZXJlIHRvIHN0b3JlIHRoZSBkZXNlcmlhbGl6ZWQgZG9jdW1lbnRzLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRvY1N0YXJ0SW5kZXggdGhlIGluZGV4IGluIHRoZSBkb2N1bWVudHMgYXJyYXkgZnJvbSB3aGVyZSB0byBzdGFydCBpbnNlcnRpbmcgZG9jdW1lbnRzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBhZGRpdGlvbmFsIG9wdGlvbnMgdXNlZCBmb3IgdGhlIGRlc2VyaWFsaXphdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5ldmFsRnVuY3Rpb25zPWZhbHNlXSBldmFsdWF0ZSBmdW5jdGlvbnMgaW4gdGhlIEJTT04gZG9jdW1lbnQgc2NvcGVkIHRvIHRoZSBvYmplY3QgZGVzZXJpYWxpemVkLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNhY2hlRnVuY3Rpb25zPWZhbHNlXSBjYWNoZSBldmFsdWF0ZWQgZnVuY3Rpb25zIGZvciByZXVzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5jYWNoZUZ1bmN0aW9uc0NyYzMyPWZhbHNlXSB1c2UgYSBjcmMzMiBjb2RlIGZvciBjYWNoaW5nLCBvdGhlcndpc2UgdXNlIHRoZSBzdHJpbmcgb2YgdGhlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb21vdGVMb25ncz10cnVlXSB3aGVuIGRlc2VyaWFsaXppbmcgYSBMb25nIHdpbGwgZml0IGl0IGludG8gYSBOdW1iZXIgaWYgaXQncyBzbWFsbGVyIHRoYW4gNTMgYml0c1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLnByb21vdGVCdWZmZXJzPWZhbHNlXSB3aGVuIGRlc2VyaWFsaXppbmcgYSBCaW5hcnkgd2lsbCByZXR1cm4gaXQgYXMgYSBub2RlLmpzIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5wcm9tb3RlVmFsdWVzPWZhbHNlXSB3aGVuIGRlc2VyaWFsaXppbmcgd2lsbCBwcm9tb3RlIEJTT04gdmFsdWVzIHRvIHRoZWlyIE5vZGUuanMgY2xvc2VzdCBlcXVpdmFsZW50IHR5cGVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmZpZWxkc0FzUmF3PW51bGxdIGFsbG93IHRvIHNwZWNpZnkgaWYgdGhlcmUgd2hhdCBmaWVsZHMgd2Ugd2lzaCB0byByZXR1cm4gYXMgdW5zZXJpYWxpemVkIHJhdyBidWZmZXIuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuYnNvblJlZ0V4cD1mYWxzZV0gcmV0dXJuIEJTT04gcmVndWxhciBleHByZXNzaW9ucyBhcyBCU09OUmVnRXhwIGluc3RhbmNlcy5cbiAqIEByZXR1cm4ge051bWJlcn0gcmV0dXJucyB0aGUgbmV4dCBpbmRleCBpbiB0aGUgYnVmZmVyIGFmdGVyIGRlc2VyaWFsaXphdGlvbiAqKngqKiBudW1iZXJzIG9mIGRvY3VtZW50cy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplU3RyZWFtKGRhdGEsIHN0YXJ0SW5kZXgsIG51bWJlck9mRG9jdW1lbnRzLCBkb2N1bWVudHMsIGRvY1N0YXJ0SW5kZXgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGFsbG93T2JqZWN0U21hbGxlclRoYW5CdWZmZXJTaXplOiB0cnVlXG4gIH0sIG9wdGlvbnMpO1xuICBkYXRhID0gZW5zdXJlX2J1ZmZlcihkYXRhKTtcbiAgdmFyIGluZGV4ID0gc3RhcnRJbmRleDsgLy8gTG9vcCBvdmVyIGFsbCBkb2N1bWVudHNcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlck9mRG9jdW1lbnRzOyBpKyspIHtcbiAgICAvLyBGaW5kIHNpemUgb2YgdGhlIGRvY3VtZW50XG4gICAgdmFyIHNpemUgPSBkYXRhW2luZGV4XSB8IGRhdGFbaW5kZXggKyAxXSA8PCA4IHwgZGF0YVtpbmRleCArIDJdIDw8IDE2IHwgZGF0YVtpbmRleCArIDNdIDw8IDI0OyAvLyBVcGRhdGUgb3B0aW9ucyB3aXRoIGluZGV4XG5cbiAgICBvcHRpb25zLmluZGV4ID0gaW5kZXg7IC8vIFBhcnNlIHRoZSBkb2N1bWVudCBhdCB0aGlzIHBvaW50XG5cbiAgICBkb2N1bWVudHNbZG9jU3RhcnRJbmRleCArIGldID0gZGVzZXJpYWxpemVyKGRhdGEsIG9wdGlvbnMpOyAvLyBBZGp1c3QgaW5kZXggYnkgdGhlIGRvY3VtZW50IHNpemVcblxuICAgIGluZGV4ID0gaW5kZXggKyBzaXplO1xuICB9IC8vIFJldHVybiBvYmplY3QgY29udGFpbmluZyBlbmQgaW5kZXggb2YgcGFyc2luZyBhbmQgbGlzdCBvZiBkb2N1bWVudHNcblxuXG4gIHJldHVybiBpbmRleDtcbn1cblxudmFyIGJzb24gPSB7XG4gIC8vIGNvbnN0YW50c1xuICAvLyBOT1RFOiB0aGlzIGlzIGRvbmUgdGhpcyB3YXkgYmVjYXVzZSByb2xsdXAgY2FuJ3QgcmVzb2x2ZSBhbiBgT2JqZWN0LmFzc2lnbmBlZCBleHBvcnRcbiAgQlNPTl9JTlQzMl9NQVg6IGNvbnN0YW50cy5CU09OX0lOVDMyX01BWCxcbiAgQlNPTl9JTlQzMl9NSU46IGNvbnN0YW50cy5CU09OX0lOVDMyX01JTixcbiAgQlNPTl9JTlQ2NF9NQVg6IGNvbnN0YW50cy5CU09OX0lOVDY0X01BWCxcbiAgQlNPTl9JTlQ2NF9NSU46IGNvbnN0YW50cy5CU09OX0lOVDY0X01JTixcbiAgSlNfSU5UX01BWDogY29uc3RhbnRzLkpTX0lOVF9NQVgsXG4gIEpTX0lOVF9NSU46IGNvbnN0YW50cy5KU19JTlRfTUlOLFxuICBCU09OX0RBVEFfTlVNQkVSOiBjb25zdGFudHMuQlNPTl9EQVRBX05VTUJFUixcbiAgQlNPTl9EQVRBX1NUUklORzogY29uc3RhbnRzLkJTT05fREFUQV9TVFJJTkcsXG4gIEJTT05fREFUQV9PQkpFQ1Q6IGNvbnN0YW50cy5CU09OX0RBVEFfT0JKRUNULFxuICBCU09OX0RBVEFfQVJSQVk6IGNvbnN0YW50cy5CU09OX0RBVEFfQVJSQVksXG4gIEJTT05fREFUQV9CSU5BUlk6IGNvbnN0YW50cy5CU09OX0RBVEFfQklOQVJZLFxuICBCU09OX0RBVEFfVU5ERUZJTkVEOiBjb25zdGFudHMuQlNPTl9EQVRBX1VOREVGSU5FRCxcbiAgQlNPTl9EQVRBX09JRDogY29uc3RhbnRzLkJTT05fREFUQV9PSUQsXG4gIEJTT05fREFUQV9CT09MRUFOOiBjb25zdGFudHMuQlNPTl9EQVRBX0JPT0xFQU4sXG4gIEJTT05fREFUQV9EQVRFOiBjb25zdGFudHMuQlNPTl9EQVRBX0RBVEUsXG4gIEJTT05fREFUQV9OVUxMOiBjb25zdGFudHMuQlNPTl9EQVRBX05VTEwsXG4gIEJTT05fREFUQV9SRUdFWFA6IGNvbnN0YW50cy5CU09OX0RBVEFfUkVHRVhQLFxuICBCU09OX0RBVEFfREJQT0lOVEVSOiBjb25zdGFudHMuQlNPTl9EQVRBX0RCUE9JTlRFUixcbiAgQlNPTl9EQVRBX0NPREU6IGNvbnN0YW50cy5CU09OX0RBVEFfQ09ERSxcbiAgQlNPTl9EQVRBX1NZTUJPTDogY29uc3RhbnRzLkJTT05fREFUQV9TWU1CT0wsXG4gIEJTT05fREFUQV9DT0RFX1dfU0NPUEU6IGNvbnN0YW50cy5CU09OX0RBVEFfQ09ERV9XX1NDT1BFLFxuICBCU09OX0RBVEFfSU5UOiBjb25zdGFudHMuQlNPTl9EQVRBX0lOVCxcbiAgQlNPTl9EQVRBX1RJTUVTVEFNUDogY29uc3RhbnRzLkJTT05fREFUQV9USU1FU1RBTVAsXG4gIEJTT05fREFUQV9MT05HOiBjb25zdGFudHMuQlNPTl9EQVRBX0xPTkcsXG4gIEJTT05fREFUQV9ERUNJTUFMMTI4OiBjb25zdGFudHMuQlNPTl9EQVRBX0RFQ0lNQUwxMjgsXG4gIEJTT05fREFUQV9NSU5fS0VZOiBjb25zdGFudHMuQlNPTl9EQVRBX01JTl9LRVksXG4gIEJTT05fREFUQV9NQVhfS0VZOiBjb25zdGFudHMuQlNPTl9EQVRBX01BWF9LRVksXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVDogY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVCxcbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9GVU5DVElPTjogY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfRlVOQ1RJT04sXG4gIEJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWTogY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWSxcbiAgQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlEOiBjb25zdGFudHMuQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlELFxuICBCU09OX0JJTkFSWV9TVUJUWVBFX01ENTogY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfTUQ1LFxuICBCU09OX0JJTkFSWV9TVUJUWVBFX1VTRVJfREVGSU5FRDogY29uc3RhbnRzLkJTT05fQklOQVJZX1NVQlRZUEVfVVNFUl9ERUZJTkVELFxuICAvLyB3cmFwcGVkIHR5cGVzXG4gIENvZGU6IGNvZGUsXG4gIE1hcDogbWFwLFxuICBCU09OU3ltYm9sOiBzeW1ib2wsXG4gIERCUmVmOiBkYl9yZWYsXG4gIEJpbmFyeTogYmluYXJ5LFxuICBPYmplY3RJZDogb2JqZWN0aWQsXG4gIExvbmc6IGxvbmdfMSxcbiAgVGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gIERvdWJsZTogZG91YmxlXzEsXG4gIEludDMyOiBpbnRfMzIsXG4gIE1pbktleTogbWluX2tleSxcbiAgTWF4S2V5OiBtYXhfa2V5LFxuICBCU09OUmVnRXhwOiByZWdleHAsXG4gIERlY2ltYWwxMjg6IGRlY2ltYWwxMjgsXG4gIC8vIG1ldGhvZHNcbiAgc2VyaWFsaXplOiBzZXJpYWxpemUkMSxcbiAgc2VyaWFsaXplV2l0aEJ1ZmZlckFuZEluZGV4OiBzZXJpYWxpemVXaXRoQnVmZmVyQW5kSW5kZXgsXG4gIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSQyLFxuICBjYWxjdWxhdGVPYmplY3RTaXplOiBjYWxjdWxhdGVPYmplY3RTaXplJDEsXG4gIGRlc2VyaWFsaXplU3RyZWFtOiBkZXNlcmlhbGl6ZVN0cmVhbSxcbiAgc2V0SW50ZXJuYWxCdWZmZXJTaXplOiBzZXRJbnRlcm5hbEJ1ZmZlclNpemUsXG4gIC8vIGxlZ2FjeSBzdXBwb3J0XG4gIE9iamVjdElEOiBvYmplY3RpZCxcbiAgLy8gRXh0ZW5kZWQgSlNPTlxuICBFSlNPTjogZXh0ZW5kZWRfanNvblxufTtcbnZhciBic29uXzEgPSBic29uLkJTT05fSU5UMzJfTUFYO1xudmFyIGJzb25fMiA9IGJzb24uQlNPTl9JTlQzMl9NSU47XG52YXIgYnNvbl8zID0gYnNvbi5CU09OX0lOVDY0X01BWDtcbnZhciBic29uXzQgPSBic29uLkJTT05fSU5UNjRfTUlOO1xudmFyIGJzb25fNSA9IGJzb24uSlNfSU5UX01BWDtcbnZhciBic29uXzYgPSBic29uLkpTX0lOVF9NSU47XG52YXIgYnNvbl83ID0gYnNvbi5CU09OX0RBVEFfTlVNQkVSO1xudmFyIGJzb25fOCA9IGJzb24uQlNPTl9EQVRBX1NUUklORztcbnZhciBic29uXzkgPSBic29uLkJTT05fREFUQV9PQkpFQ1Q7XG52YXIgYnNvbl8xMCA9IGJzb24uQlNPTl9EQVRBX0FSUkFZO1xudmFyIGJzb25fMTEgPSBic29uLkJTT05fREFUQV9CSU5BUlk7XG52YXIgYnNvbl8xMiA9IGJzb24uQlNPTl9EQVRBX1VOREVGSU5FRDtcbnZhciBic29uXzEzID0gYnNvbi5CU09OX0RBVEFfT0lEO1xudmFyIGJzb25fMTQgPSBic29uLkJTT05fREFUQV9CT09MRUFOO1xudmFyIGJzb25fMTUgPSBic29uLkJTT05fREFUQV9EQVRFO1xudmFyIGJzb25fMTYgPSBic29uLkJTT05fREFUQV9OVUxMO1xudmFyIGJzb25fMTcgPSBic29uLkJTT05fREFUQV9SRUdFWFA7XG52YXIgYnNvbl8xOCA9IGJzb24uQlNPTl9EQVRBX0RCUE9JTlRFUjtcbnZhciBic29uXzE5ID0gYnNvbi5CU09OX0RBVEFfQ09ERTtcbnZhciBic29uXzIwID0gYnNvbi5CU09OX0RBVEFfU1lNQk9MO1xudmFyIGJzb25fMjEgPSBic29uLkJTT05fREFUQV9DT0RFX1dfU0NPUEU7XG52YXIgYnNvbl8yMiA9IGJzb24uQlNPTl9EQVRBX0lOVDtcbnZhciBic29uXzIzID0gYnNvbi5CU09OX0RBVEFfVElNRVNUQU1QO1xudmFyIGJzb25fMjQgPSBic29uLkJTT05fREFUQV9MT05HO1xudmFyIGJzb25fMjUgPSBic29uLkJTT05fREFUQV9ERUNJTUFMMTI4O1xudmFyIGJzb25fMjYgPSBic29uLkJTT05fREFUQV9NSU5fS0VZO1xudmFyIGJzb25fMjcgPSBic29uLkJTT05fREFUQV9NQVhfS0VZO1xudmFyIGJzb25fMjggPSBic29uLkJTT05fQklOQVJZX1NVQlRZUEVfREVGQVVMVDtcbnZhciBic29uXzI5ID0gYnNvbi5CU09OX0JJTkFSWV9TVUJUWVBFX0ZVTkNUSU9OO1xudmFyIGJzb25fMzAgPSBic29uLkJTT05fQklOQVJZX1NVQlRZUEVfQllURV9BUlJBWTtcbnZhciBic29uXzMxID0gYnNvbi5CU09OX0JJTkFSWV9TVUJUWVBFX1VVSUQ7XG52YXIgYnNvbl8zMiA9IGJzb24uQlNPTl9CSU5BUllfU1VCVFlQRV9NRDU7XG52YXIgYnNvbl8zMyA9IGJzb24uQlNPTl9CSU5BUllfU1VCVFlQRV9VU0VSX0RFRklORUQ7XG52YXIgYnNvbl8zNCA9IGJzb24uQ29kZTtcbnZhciBic29uXzM1ID0gYnNvbi5CU09OU3ltYm9sO1xudmFyIGJzb25fMzYgPSBic29uLkRCUmVmO1xudmFyIGJzb25fMzcgPSBic29uLkJpbmFyeTtcbnZhciBic29uXzM4ID0gYnNvbi5PYmplY3RJZDtcbnZhciBic29uXzM5ID0gYnNvbi5Mb25nO1xudmFyIGJzb25fNDAgPSBic29uLlRpbWVzdGFtcDtcbnZhciBic29uXzQxID0gYnNvbi5Eb3VibGU7XG52YXIgYnNvbl80MiA9IGJzb24uSW50MzI7XG52YXIgYnNvbl80MyA9IGJzb24uTWluS2V5O1xudmFyIGJzb25fNDQgPSBic29uLk1heEtleTtcbnZhciBic29uXzQ1ID0gYnNvbi5CU09OUmVnRXhwO1xudmFyIGJzb25fNDYgPSBic29uLkRlY2ltYWwxMjg7XG52YXIgYnNvbl80NyA9IGJzb24uc2VyaWFsaXplO1xudmFyIGJzb25fNDggPSBic29uLnNlcmlhbGl6ZVdpdGhCdWZmZXJBbmRJbmRleDtcbnZhciBic29uXzQ5ID0gYnNvbi5kZXNlcmlhbGl6ZTtcbnZhciBic29uXzUwID0gYnNvbi5jYWxjdWxhdGVPYmplY3RTaXplO1xudmFyIGJzb25fNTEgPSBic29uLmRlc2VyaWFsaXplU3RyZWFtO1xudmFyIGJzb25fNTIgPSBic29uLnNldEludGVybmFsQnVmZmVyU2l6ZTtcbnZhciBic29uXzUzID0gYnNvbi5PYmplY3RJRDtcbnZhciBic29uXzU0ID0gYnNvbi5FSlNPTjtcblxuZXhwb3J0IGRlZmF1bHQgYnNvbjtcbmV4cG9ydCB7IGJzb25fMSBhcyBCU09OX0lOVDMyX01BWCwgYnNvbl8yIGFzIEJTT05fSU5UMzJfTUlOLCBic29uXzMgYXMgQlNPTl9JTlQ2NF9NQVgsIGJzb25fNCBhcyBCU09OX0lOVDY0X01JTiwgYnNvbl81IGFzIEpTX0lOVF9NQVgsIGJzb25fNiBhcyBKU19JTlRfTUlOLCBic29uXzcgYXMgQlNPTl9EQVRBX05VTUJFUiwgYnNvbl84IGFzIEJTT05fREFUQV9TVFJJTkcsIGJzb25fOSBhcyBCU09OX0RBVEFfT0JKRUNULCBic29uXzEwIGFzIEJTT05fREFUQV9BUlJBWSwgYnNvbl8xMSBhcyBCU09OX0RBVEFfQklOQVJZLCBic29uXzEyIGFzIEJTT05fREFUQV9VTkRFRklORUQsIGJzb25fMTMgYXMgQlNPTl9EQVRBX09JRCwgYnNvbl8xNCBhcyBCU09OX0RBVEFfQk9PTEVBTiwgYnNvbl8xNSBhcyBCU09OX0RBVEFfREFURSwgYnNvbl8xNiBhcyBCU09OX0RBVEFfTlVMTCwgYnNvbl8xNyBhcyBCU09OX0RBVEFfUkVHRVhQLCBic29uXzE4IGFzIEJTT05fREFUQV9EQlBPSU5URVIsIGJzb25fMTkgYXMgQlNPTl9EQVRBX0NPREUsIGJzb25fMjAgYXMgQlNPTl9EQVRBX1NZTUJPTCwgYnNvbl8yMSBhcyBCU09OX0RBVEFfQ09ERV9XX1NDT1BFLCBic29uXzIyIGFzIEJTT05fREFUQV9JTlQsIGJzb25fMjMgYXMgQlNPTl9EQVRBX1RJTUVTVEFNUCwgYnNvbl8yNCBhcyBCU09OX0RBVEFfTE9ORywgYnNvbl8yNSBhcyBCU09OX0RBVEFfREVDSU1BTDEyOCwgYnNvbl8yNiBhcyBCU09OX0RBVEFfTUlOX0tFWSwgYnNvbl8yNyBhcyBCU09OX0RBVEFfTUFYX0tFWSwgYnNvbl8yOCBhcyBCU09OX0JJTkFSWV9TVUJUWVBFX0RFRkFVTFQsIGJzb25fMjkgYXMgQlNPTl9CSU5BUllfU1VCVFlQRV9GVU5DVElPTiwgYnNvbl8zMCBhcyBCU09OX0JJTkFSWV9TVUJUWVBFX0JZVEVfQVJSQVksIGJzb25fMzEgYXMgQlNPTl9CSU5BUllfU1VCVFlQRV9VVUlELCBic29uXzMyIGFzIEJTT05fQklOQVJZX1NVQlRZUEVfTUQ1LCBic29uXzMzIGFzIEJTT05fQklOQVJZX1NVQlRZUEVfVVNFUl9ERUZJTkVELCBic29uXzM0IGFzIENvZGUsIGJzb25fMzUgYXMgQlNPTlN5bWJvbCwgYnNvbl8zNiBhcyBEQlJlZiwgYnNvbl8zNyBhcyBCaW5hcnksIGJzb25fMzggYXMgT2JqZWN0SWQsIGJzb25fMzkgYXMgTG9uZywgYnNvbl80MCBhcyBUaW1lc3RhbXAsIGJzb25fNDEgYXMgRG91YmxlLCBic29uXzQyIGFzIEludDMyLCBic29uXzQzIGFzIE1pbktleSwgYnNvbl80NCBhcyBNYXhLZXksIGJzb25fNDUgYXMgQlNPTlJlZ0V4cCwgYnNvbl80NiBhcyBEZWNpbWFsMTI4LCBic29uXzQ3IGFzIHNlcmlhbGl6ZSwgYnNvbl80OCBhcyBzZXJpYWxpemVXaXRoQnVmZmVyQW5kSW5kZXgsIGJzb25fNDkgYXMgZGVzZXJpYWxpemUsIGJzb25fNTAgYXMgY2FsY3VsYXRlT2JqZWN0U2l6ZSwgYnNvbl81MSBhcyBkZXNlcmlhbGl6ZVN0cmVhbSwgYnNvbl81MiBhcyBzZXRJbnRlcm5hbEJ1ZmZlclNpemUsIGJzb25fNTMgYXMgT2JqZWN0SUQsIGJzb25fNTQgYXMgRUpTT04gfTtcbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIFNlbWFwaG9yZSB7XG4gICAgY29uc3RydWN0b3IoY291bnQpIHtcbiAgICAgICAgdGhpcy50YXNrcyA9IFtdO1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgfVxuICAgIHNjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5jb3VudCA+IDAgJiYgdGhpcy50YXNrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvdW50LS07XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMudGFza3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgdW5kZWZpbmVkIHZhbHVlIGluIHRhc2tzIGxpc3RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY3F1aXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICB2YXIgdGFzayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgcmVsZWFzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbGVhc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxlYXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICBpZiAocHJvY2VzcyAmJiBwcm9jZXNzLm5leHRUaWNrKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayh0aGlzLnNjaGVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKHRoaXMuc2NoZWQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1c2UoZikge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3F1aXJlKClcbiAgICAgICAgICAgIC50aGVuKHJlbGVhc2UgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGYoKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VtYXBob3JlID0gU2VtYXBob3JlO1xuY2xhc3MgTXV0ZXggZXh0ZW5kcyBTZW1hcGhvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigxKTtcbiAgICB9XG59XG5leHBvcnRzLk11dGV4ID0gTXV0ZXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJmdW5jdGlvbiBkZXRlY3QoKSB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBwYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4gIHJldHVybiBnZXROb2RlVmVyc2lvbigpO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RPUyh1c2VyQWdlbnRTdHJpbmcpIHtcbiAgdmFyIHJ1bGVzID0gZ2V0T3BlcmF0aW5nU3lzdGVtUnVsZXMoKTtcbiAgdmFyIGRldGVjdGVkID0gcnVsZXMuZmlsdGVyKGZ1bmN0aW9uIChvcykge1xuICAgIHJldHVybiBvcy5ydWxlICYmIG9zLnJ1bGUudGVzdCh1c2VyQWdlbnRTdHJpbmcpO1xuICB9KVswXTtcblxuICByZXR1cm4gZGV0ZWN0ZWQgPyBkZXRlY3RlZC5uYW1lIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKSB7XG4gIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9uO1xuICByZXR1cm4gaXNOb2RlICYmIHtcbiAgICBuYW1lOiAnbm9kZScsXG4gICAgdmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLnNsaWNlKDEpLFxuICAgIG9zOiBwcm9jZXNzLnBsYXRmb3JtXG4gIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVzZXJBZ2VudFN0cmluZykge1xuICB2YXIgYnJvd3NlcnMgPSBnZXRCcm93c2VyUnVsZXMoKTtcbiAgaWYgKCF1c2VyQWdlbnRTdHJpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBkZXRlY3RlZCA9IGJyb3dzZXJzLm1hcChmdW5jdGlvbihicm93c2VyKSB7XG4gICAgdmFyIG1hdGNoID0gYnJvd3Nlci5ydWxlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICB2YXIgdmVyc2lvbiA9IG1hdGNoICYmIG1hdGNoWzFdLnNwbGl0KC9bLl9dLykuc2xpY2UoMCwzKTtcblxuICAgIGlmICh2ZXJzaW9uICYmIHZlcnNpb24ubGVuZ3RoIDwgMykge1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24uY29uY2F0KHZlcnNpb24ubGVuZ3RoID09IDEgPyBbMCwgMF0gOiBbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaCAmJiB7XG4gICAgICBuYW1lOiBicm93c2VyLm5hbWUsXG4gICAgICB2ZXJzaW9uOiB2ZXJzaW9uLmpvaW4oJy4nKVxuICAgIH07XG4gIH0pLmZpbHRlcihCb29sZWFuKVswXSB8fCBudWxsO1xuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIGRldGVjdGVkLm9zID0gZGV0ZWN0T1ModXNlckFnZW50U3RyaW5nKTtcbiAgfVxuXG4gIGlmICgvYWxleGF8Ym90fGNyYXdsKGVyfGluZyl8ZmFjZWJvb2tleHRlcm5hbGhpdHxmZWVkYnVybmVyfGdvb2dsZSB3ZWIgcHJldmlld3xuYWdpb3N8cG9zdHJhbmt8cGluZ2RvbXxzbHVycHxzcGlkZXJ8eWFob28hfHlhbmRleC9pLnRlc3QodXNlckFnZW50U3RyaW5nKSkge1xuICAgIGRldGVjdGVkID0gZGV0ZWN0ZWQgfHwge307XG4gICAgZGV0ZWN0ZWQuYm90ID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBkZXRlY3RlZDtcbn1cblxuZnVuY3Rpb24gZ2V0QnJvd3NlclJ1bGVzKCkge1xuICByZXR1cm4gYnVpbGRSdWxlcyhbXG4gICAgWyAnYW9sJywgL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS8gXSxcbiAgICBbICdlZGdlJywgL0VkZ2VcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAneWFuZGV4YnJvd3NlcicsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvIF0sXG4gICAgWyAndml2YWxkaScsIC9WaXZhbGRpXFwvKFswLTlcXC5dKykvIF0sXG4gICAgWyAna2FrYW90YWxrJywgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspLyBdLFxuICAgIFsgJ3NhbXN1bmcnLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS8gXSxcbiAgICBbICdjaHJvbWUnLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpLyBdLFxuICAgIFsgJ3BoYW50b21qcycsIC9QaGFudG9tSlNcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS8gXSxcbiAgICBbICdjcmlvcycsIC9DcmlPU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpLyBdLFxuICAgIFsgJ2ZpcmVmb3gnLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpLyBdLFxuICAgIFsgJ2Z4aW9zJywgL0Z4aU9TXFwvKFswLTlcXC5dKykvIF0sXG4gICAgWyAnb3BlcmEnLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS8gXSxcbiAgICBbICdvcGVyYScsIC9PUFJcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKSQvIF0sXG4gICAgWyAnaWUnLCAvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC8gXSxcbiAgICBbICdpZScsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC8gXSxcbiAgICBbICdpZScsIC9NU0lFXFxzKDdcXC4wKS8gXSxcbiAgICBbICdiYjEwJywgL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS8gXSxcbiAgICBbICdhbmRyb2lkJywgL0FuZHJvaWRcXHMoWzAtOVxcLl0rKS8gXSxcbiAgICBbICdpb3MnLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi8gXSxcbiAgICBbICdzYWZhcmknLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpLyBdLFxuICAgIFsgJ2ZhY2Vib29rJywgL0ZCQVZcXC8oWzAtOVxcLl0rKS9dLFxuICAgIFsgJ2luc3RhZ3JhbScsIC9JbnN0YWdyYW1cXHMoWzAtOVxcLl0rKS9dLFxuICAgIFsgJ2lvcy13ZWJ2aWV3JywgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBnZXRPcGVyYXRpbmdTeXN0ZW1SdWxlcygpIHtcbiAgcmV0dXJuIGJ1aWxkUnVsZXMoW1xuICAgIFsgJ2lPUycsIC9pUChob25lfG9kfGFkKS8gXSxcbiAgICBbICdBbmRyb2lkIE9TJywgL0FuZHJvaWQvIF0sXG4gICAgWyAnQmxhY2tCZXJyeSBPUycsIC9CbGFja0JlcnJ5fEJCMTAvIF0sXG4gICAgWyAnV2luZG93cyBNb2JpbGUnLCAvSUVNb2JpbGUvIF0sXG4gICAgWyAnQW1hem9uIE9TJywgL0tpbmRsZS8gXSxcbiAgICBbICdXaW5kb3dzIDMuMTEnLCAvV2luMTYvIF0sXG4gICAgWyAnV2luZG93cyA5NScsIC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvIF0sXG4gICAgWyAnV2luZG93cyA5OCcsIC8oV2luZG93cyA5OCl8KFdpbjk4KS8gXSxcbiAgICBbICdXaW5kb3dzIDIwMDAnLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS8gXSxcbiAgICBbICdXaW5kb3dzIFhQJywgLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApLyBdLFxuICAgIFsgJ1dpbmRvd3MgU2VydmVyIDIwMDMnLCAvKFdpbmRvd3MgTlQgNS4yKS8gXSxcbiAgICBbICdXaW5kb3dzIFZpc3RhJywgLyhXaW5kb3dzIE5UIDYuMCkvIF0sXG4gICAgWyAnV2luZG93cyA3JywgLyhXaW5kb3dzIE5UIDYuMSkvIF0sXG4gICAgWyAnV2luZG93cyA4JywgLyhXaW5kb3dzIE5UIDYuMikvIF0sXG4gICAgWyAnV2luZG93cyA4LjEnLCAvKFdpbmRvd3MgTlQgNi4zKS8gXSxcbiAgICBbICdXaW5kb3dzIDEwJywgLyhXaW5kb3dzIE5UIDEwLjApLyBdLFxuICAgIFsgJ1dpbmRvd3MgTUUnLCAvV2luZG93cyBNRS8gXSxcbiAgICBbICdPcGVuIEJTRCcsIC9PcGVuQlNELyBdLFxuICAgIFsgJ1N1biBPUycsIC9TdW5PUy8gXSxcbiAgICBbICdMaW51eCcsIC8oTGludXgpfChYMTEpLyBdLFxuICAgIFsgJ01hYyBPUycsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpLyBdLFxuICAgIFsgJ1FOWCcsIC9RTlgvIF0sXG4gICAgWyAnQmVPUycsIC9CZU9TLyBdLFxuICAgIFsgJ09TLzInLCAvT1NcXC8yLyBdLFxuICAgIFsgJ1NlYXJjaCBCb3QnLCAvKG51aGspfChHb29nbGVib3QpfChZYW1teWJvdCl8KE9wZW5ib3QpfChTbHVycCl8KE1TTkJvdCl8KEFzayBKZWV2ZXNcXC9UZW9tYSl8KGlhX2FyY2hpdmVyKS8gXVxuICBdKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRSdWxlcyhydWxlVHVwbGVzKSB7XG4gIHJldHVybiBydWxlVHVwbGVzLm1hcChmdW5jdGlvbih0dXBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0dXBsZVswXSxcbiAgICAgIHJ1bGU6IHR1cGxlWzFdXG4gICAgfTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXRlY3Q6IGRldGVjdCxcbiAgZGV0ZWN0T1M6IGRldGVjdE9TLFxuICBnZXROb2RlVmVyc2lvbjogZ2V0Tm9kZVZlcnNpb24sXG4gIHBhcnNlVXNlckFnZW50OiBwYXJzZVVzZXJBZ2VudFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gTG9uZztcclxuXHJcbi8qKlxyXG4gKiB3YXNtIG9wdGltaXphdGlvbnMsIHRvIGRvIG5hdGl2ZSBpNjQgbXVsdGlwbGljYXRpb24gYW5kIGRpdmlkZVxyXG4gKi9cclxudmFyIHdhc20gPSBudWxsO1xyXG5cclxudHJ5IHtcclxuICB3YXNtID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkoW1xyXG4gICAgMCwgOTcsIDExNSwgMTA5LCAxLCAwLCAwLCAwLCAxLCAxMywgMiwgOTYsIDAsIDEsIDEyNywgOTYsIDQsIDEyNywgMTI3LCAxMjcsIDEyNywgMSwgMTI3LCAzLCA3LCA2LCAwLCAxLCAxLCAxLCAxLCAxLCA2LCA2LCAxLCAxMjcsIDEsIDY1LCAwLCAxMSwgNywgNTAsIDYsIDMsIDEwOSwgMTE3LCAxMDgsIDAsIDEsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTUsIDAsIDIsIDUsIDEwMCwgMTA1LCAxMTgsIDk1LCAxMTcsIDAsIDMsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTUsIDAsIDQsIDUsIDExNCwgMTAxLCAxMDksIDk1LCAxMTcsIDAsIDUsIDgsIDEwMywgMTAxLCAxMTYsIDk1LCAxMDQsIDEwNSwgMTAzLCAxMDQsIDAsIDAsIDEwLCAxOTEsIDEsIDYsIDQsIDAsIDM1LCAwLCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI2LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjcsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOCwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI5LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMzAsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTFcclxuICBdKSksIHt9KS5leHBvcnRzO1xyXG59IGNhdGNoIChlKSB7XHJcbiAgLy8gbm8gd2FzbSBzdXBwb3J0IDooXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciwgZ2l2ZW4gaXRzIGxvdyBhbmQgaGlnaCAzMiBiaXQgdmFsdWVzIGFzICpzaWduZWQqIGludGVnZXJzLlxyXG4gKiAgU2VlIHRoZSBmcm9tKiBmdW5jdGlvbnMgYmVsb3cgZm9yIG1vcmUgY29udmVuaWVudCB3YXlzIG9mIGNvbnN0cnVjdGluZyBMb25ncy5cclxuICogQGV4cG9ydHMgTG9uZ1xyXG4gKiBAY2xhc3MgQSBMb25nIGNsYXNzIGZvciByZXByZXNlbnRpbmcgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbG93IFRoZSBsb3cgKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaCBUaGUgaGlnaCAoc2lnbmVkKSAzMiBiaXRzIG9mIHRoZSBsb25nXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBMb25nKGxvdywgaGlnaCwgdW5zaWduZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBsb3cgMzIgYml0cyBhcyBhIHNpZ25lZCB2YWx1ZS5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHRoaXMubG93ID0gbG93IHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMudW5zaWduZWQgPSAhIXVuc2lnbmVkO1xyXG59XHJcblxyXG4vLyBUaGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gb2YgYSBsb25nIGlzIHRoZSB0d28gZ2l2ZW4gc2lnbmVkLCAzMi1iaXQgdmFsdWVzLlxyXG4vLyBXZSB1c2UgMzItYml0IHBpZWNlcyBiZWNhdXNlIHRoZXNlIGFyZSB0aGUgc2l6ZSBvZiBpbnRlZ2VycyBvbiB3aGljaFxyXG4vLyBKYXZhc2NyaXB0IHBlcmZvcm1zIGJpdC1vcGVyYXRpb25zLiAgRm9yIG9wZXJhdGlvbnMgbGlrZSBhZGRpdGlvbiBhbmRcclxuLy8gbXVsdGlwbGljYXRpb24sIHdlIHNwbGl0IGVhY2ggbnVtYmVyIGludG8gMTYgYml0IHBpZWNlcywgd2hpY2ggY2FuIGVhc2lseSBiZVxyXG4vLyBtdWx0aXBsaWVkIHdpdGhpbiBKYXZhc2NyaXB0J3MgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBvdmVyZmxvd1xyXG4vLyBvciBjaGFuZ2UgaW4gc2lnbi5cclxuLy9cclxuLy8gSW4gdGhlIGFsZ29yaXRobXMgYmVsb3csIHdlIGZyZXF1ZW50bHkgcmVkdWNlIHRoZSBuZWdhdGl2ZSBjYXNlIHRvIHRoZVxyXG4vLyBwb3NpdGl2ZSBjYXNlIGJ5IG5lZ2F0aW5nIHRoZSBpbnB1dChzKSBhbmQgdGhlbiBwb3N0LXByb2Nlc3NpbmcgdGhlIHJlc3VsdC5cclxuLy8gTm90ZSB0aGF0IHdlIG11c3QgQUxXQVlTIGNoZWNrIHNwZWNpYWxseSB3aGV0aGVyIHRob3NlIHZhbHVlcyBhcmUgTUlOX1ZBTFVFXHJcbi8vICgtMl42MykgYmVjYXVzZSAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRSAoc2luY2UgMl42MyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXNcclxuLy8gYSBwb3NpdGl2ZSBudW1iZXIsIGl0IG92ZXJmbG93cyBiYWNrIGludG8gYSBuZWdhdGl2ZSkuICBOb3QgaGFuZGxpbmcgdGhpc1xyXG4vLyBjYXNlIHdvdWxkIG9mdGVuIHJlc3VsdCBpbiBpbmZpbml0ZSByZWN1cnNpb24uXHJcbi8vXHJcbi8vIENvbW1vbiBjb25zdGFudCB2YWx1ZXMgWkVSTywgT05FLCBORUdfT05FLCBldGMuIGFyZSBkZWZpbmVkIGJlbG93IHRoZSBmcm9tKlxyXG4vLyBtZXRob2RzIG9uIHdoaWNoIHRoZXkgZGVwZW5kLlxyXG5cclxuLyoqXHJcbiAqIEFuIGluZGljYXRvciB1c2VkIHRvIHJlbGlhYmx5IGRldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBMb25nIG9yIG5vdC5cclxuICogQHR5cGUge2Jvb2xlYW59XHJcbiAqIEBjb25zdFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuTG9uZy5wcm90b3R5cGUuX19pc0xvbmdfXztcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nLnByb3RvdHlwZSwgXCJfX2lzTG9uZ19fXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0xvbmcob2JqKSB7XHJcbiAgICByZXR1cm4gKG9iaiAmJiBvYmpbXCJfX2lzTG9uZ19fXCJdKSA9PT0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgTG9uZy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7Kn0gb2JqIE9iamVjdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmcuaXNMb25nID0gaXNMb25nO1xyXG5cclxuLyoqXHJcbiAqIEEgY2FjaGUgb2YgdGhlIExvbmcgcmVwcmVzZW50YXRpb25zIG9mIHNtYWxsIGludGVnZXIgdmFsdWVzLlxyXG4gKiBAdHlwZSB7IU9iamVjdH1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuXHJcbiAqIEB0eXBlIHshT2JqZWN0fVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVSU5UX0NBQ0hFID0ge307XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tSW50KHZhbHVlLCB1bnNpZ25lZCkge1xyXG4gICAgdmFyIG9iaiwgY2FjaGVkT2JqLCBjYWNoZTtcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIHZhbHVlID4+Pj0gMDtcclxuICAgICAgICBpZiAoY2FjaGUgPSAoMCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDI1NikpIHtcclxuICAgICAgICAgICAgY2FjaGVkT2JqID0gVUlOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgKHZhbHVlIHwgMCkgPCAwID8gLTEgOiAwLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2FjaGUpXHJcbiAgICAgICAgICAgIFVJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhbHVlIHw9IDA7XHJcbiAgICAgICAgaWYgKGNhY2hlID0gKC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZE9iaiA9IElOVF9DQUNIRVt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWRPYmopXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVkT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvYmogPSBmcm9tQml0cyh2YWx1ZSwgdmFsdWUgPCAwID8gLTEgOiAwLCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKGNhY2hlKVxyXG4gICAgICAgICAgICBJTlRfQ0FDSEVbdmFsdWVdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIGdpdmVuIDMyIGJpdCBpbnRlZ2VyIHZhbHVlLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSAzMiBiaXQgaW50ZWdlciBpbiBxdWVzdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tSW50ID0gZnJvbUludDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21OdW1iZXIodmFsdWUsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAoaXNOYU4odmFsdWUpKVxyXG4gICAgICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIGlmICh1bnNpZ25lZCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiBVWkVSTztcclxuICAgICAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8PSAtVFdPX1BXUl82M19EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICAgICAgaWYgKHZhbHVlICsgMSA+PSBUV09fUFdSXzYzX0RCTClcclxuICAgICAgICAgICAgcmV0dXJuIE1BWF9WQUxVRTtcclxuICAgIH1cclxuICAgIGlmICh2YWx1ZSA8IDApXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIoLXZhbHVlLCB1bnNpZ25lZCkubmVnKCk7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKHZhbHVlICUgVFdPX1BXUl8zMl9EQkwpIHwgMCwgKHZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpIHwgMCwgdW5zaWduZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiB2YWx1ZSwgcHJvdmlkZWQgdGhhdCBpdCBpcyBhIGZpbml0ZSBudW1iZXIuIE90aGVyd2lzZSwgemVybyBpcyByZXR1cm5lZC5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgbnVtYmVyIGluIHF1ZXN0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21OdW1iZXIgPSBmcm9tTnVtYmVyO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoQml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgNjQgYml0IGludGVnZXIgdGhhdCBjb21lcyBieSBjb25jYXRlbmF0aW5nIHRoZSBnaXZlbiBsb3cgYW5kIGhpZ2ggYml0cy4gRWFjaCBpc1xyXG4gKiAgYXNzdW1lZCB0byB1c2UgMzIgYml0cy5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzIFRoZSBsb3cgMzIgYml0c1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHMgVGhlIGhpZ2ggMzIgYml0c1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQml0cyA9IGZyb21CaXRzO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gYmFzZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gZXhwb25lbnRcclxuICogQHJldHVybnMge251bWJlcn1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgcG93X2RibCA9IE1hdGgucG93OyAvLyBVc2VkIDQgdGltZXMgKDQqOCB0byAxNSs0KVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbVN0cmluZyhzdHIsIHVuc2lnbmVkLCByYWRpeCkge1xyXG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2VtcHR5IHN0cmluZycpO1xyXG4gICAgaWYgKHN0ciA9PT0gXCJOYU5cIiB8fCBzdHIgPT09IFwiSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiK0luZmluaXR5XCIgfHwgc3RyID09PSBcIi1JbmZpbml0eVwiKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKHR5cGVvZiB1bnNpZ25lZCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAvLyBGb3IgZ29vZy5tYXRoLmxvbmcgY29tcGF0aWJpbGl0eVxyXG4gICAgICAgIHJhZGl4ID0gdW5zaWduZWQsXHJcbiAgICAgICAgdW5zaWduZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdW5zaWduZWQgPSAhISB1bnNpZ25lZDtcclxuICAgIH1cclxuICAgIHJhZGl4ID0gcmFkaXggfHwgMTA7XHJcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXHJcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcigncmFkaXgnKTtcclxuXHJcbiAgICB2YXIgcDtcclxuICAgIGlmICgocCA9IHN0ci5pbmRleE9mKCctJykpID4gMClcclxuICAgICAgICB0aHJvdyBFcnJvcignaW50ZXJpb3IgaHlwaGVuJyk7XHJcbiAgICBlbHNlIGlmIChwID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgdW5zaWduZWQsIHJhZGl4KS5uZWcoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg4KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDgpKTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gWkVSTztcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSA4KSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbig4LCBzdHIubGVuZ3RoIC0gaSksXHJcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgc2l6ZSksIHJhZGl4KTtcclxuICAgICAgICBpZiAoc2l6ZSA8IDgpIHtcclxuICAgICAgICAgICAgdmFyIHBvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCBzaXplKSk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocG93ZXIpLmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bChyYWRpeFRvUG93ZXIpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXN1bHQudW5zaWduZWQgPSB1bnNpZ25lZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gc3RyaW5nLCB3cml0dGVuIHVzaW5nIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBMb25nXHJcbiAqIEBwYXJhbSB7KGJvb2xlYW58bnVtYmVyKT19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtudW1iZXI9fSByYWRpeCBUaGUgcmFkaXggaW4gd2hpY2ggdGhlIHRleHQgaXMgd3JpdHRlbiAoMi0zNiksIGRlZmF1bHRzIHRvIDEwXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tU3RyaW5nID0gZnJvbVN0cmluZztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWxcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21WYWx1ZSh2YWwsIHVuc2lnbmVkKSB7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodmFsLCB1bnNpZ25lZCk7XHJcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgcmV0dXJuIGZyb21TdHJpbmcodmFsLCB1bnNpZ25lZCk7XHJcbiAgICAvLyBUaHJvd3MgZm9yIG5vbi1vYmplY3RzLCBjb252ZXJ0cyBub24taW5zdGFuY2VvZiBMb25nOlxyXG4gICAgcmV0dXJuIGZyb21CaXRzKHZhbC5sb3csIHZhbC5oaWdoLCB0eXBlb2YgdW5zaWduZWQgPT09ICdib29sZWFuJyA/IHVuc2lnbmVkIDogdmFsLnVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgdmFsdWUgdG8gYSBMb25nIHVzaW5nIHRoZSBhcHByb3ByaWF0ZSBmcm9tKiBmdW5jdGlvbiBmb3IgaXRzIHR5cGUuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd8IXtsb3c6IG51bWJlciwgaGlnaDogbnVtYmVyLCB1bnNpZ25lZDogYm9vbGVhbn19IHZhbCBWYWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmcuZnJvbVZhbHVlID0gZnJvbVZhbHVlO1xyXG5cclxuLy8gTk9URTogdGhlIGNvbXBpbGVyIHNob3VsZCBpbmxpbmUgdGhlc2UgY29uc3RhbnQgdmFsdWVzIGJlbG93IGFuZCB0aGVuIHJlbW92ZSB0aGVzZSB2YXJpYWJsZXMsIHNvIHRoZXJlIHNob3VsZCBiZVxyXG4vLyBubyBydW50aW1lIHBlbmFsdHkgZm9yIHRoZXNlLlxyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjRfREJMID0gMSA8PCAyNDtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8zMl9EQkwgPSBUV09fUFdSXzE2X0RCTCAqIFRXT19QV1JfMTZfREJMO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfNjNfREJMID0gVFdPX1BXUl82NF9EQkwgLyAyO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMjQgPSBmcm9tSW50KFRXT19QV1JfMjRfREJMKTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFpFUk8gPSBmcm9tSW50KDApO1xyXG5cclxuLyoqXHJcbiAqIFNpZ25lZCB6ZXJvLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLlpFUk8gPSBaRVJPO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVVpFUk8gPSBmcm9tSW50KDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIFVuc2lnbmVkIHplcm8uXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVVpFUk8gPSBVWkVSTztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE9ORSA9IGZyb21JbnQoMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5PTkUgPSBPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBVT05FID0gZnJvbUludCgxLCB0cnVlKTtcclxuXHJcbi8qKlxyXG4gKiBVbnNpZ25lZCBvbmUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuVU9ORSA9IFVPTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBORUdfT05FID0gZnJvbUludCgtMSk7XHJcblxyXG4vKipcclxuICogU2lnbmVkIG5lZ2F0aXZlIG9uZS5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5ORUdfT05FID0gTkVHX09ORTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE1BWF9WQUxVRSA9IGZyb21CaXRzKDB4RkZGRkZGRkZ8MCwgMHg3RkZGRkZGRnwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWF4aW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1ZBTFVFID0gTUFYX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUFYX1VOU0lHTkVEX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRnwwLCAweEZGRkZGRkZGfDAsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIE1heGltdW0gdW5zaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUFYX1VOU0lHTkVEX1ZBTFVFID0gTUFYX1VOU0lHTkVEX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTUlOX1ZBTFVFID0gZnJvbUJpdHMoMCwgMHg4MDAwMDAwMHwwLCBmYWxzZSk7XHJcblxyXG4vKipcclxuICogTWluaW11bSBzaWduZWQgdmFsdWUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTUlOX1ZBTFVFID0gTUlOX1ZBTFVFO1xyXG5cclxuLyoqXHJcbiAqIEBhbGlhcyBMb25nLnByb3RvdHlwZVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBMb25nUHJvdG90eXBlID0gTG9uZy5wcm90b3R5cGU7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSAzMiBiaXQgaW50ZWdlciwgYXNzdW1pbmcgaXQgaXMgYSAzMiBiaXQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiB0b0ludCgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gdGhpcy5sb3cgPj4+IDAgOiB0aGlzLmxvdztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHRoZSBuZWFyZXN0IGZsb2F0aW5nLXBvaW50IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmFsdWUgKGRvdWJsZSwgNTMgYml0IG1hbnRpc3NhKS5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcigpIHtcclxuICAgIGlmICh0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiAoKHRoaXMuaGlnaCA+Pj4gMCkgKiBUV09fUFdSXzMyX0RCTCkgKyAodGhpcy5sb3cgPj4+IDApO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG93ID4+PiAwKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHN0cmluZyB3cml0dGVuIGluIHRoZSBzcGVjaWZpZWQgcmFkaXguXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggUmFkaXggKDItMzYpLCBkZWZhdWx0cyB0byAxMFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKiBAb3ZlcnJpZGVcclxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gSWYgYHJhZGl4YCBpcyBvdXQgb2YgcmFuZ2VcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyYWRpeCkge1xyXG4gICAgcmFkaXggPSByYWRpeCB8fCAxMDtcclxuICAgIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcclxuICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdyYWRpeCcpO1xyXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuICcwJztcclxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgeyAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gY2hhbmdlIHRoZSBMb25nIHZhbHVlIGJlZm9yZSBpdCBjYW4gYmUgbmVnYXRlZCwgc28gd2UgcmVtb3ZlXHJcbiAgICAgICAgICAgIC8vIHRoZSBib3R0b20tbW9zdCBkaWdpdCBpbiB0aGlzIGJhc2UgYW5kIHRoZW4gcmVjdXJzZSB0byBkbyB0aGUgcmVzdC5cclxuICAgICAgICAgICAgdmFyIHJhZGl4TG9uZyA9IGZyb21OdW1iZXIocmFkaXgpLFxyXG4gICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5kaXYocmFkaXhMb25nKSxcclxuICAgICAgICAgICAgICAgIHJlbTEgPSBkaXYubXVsKHJhZGl4TG9uZykuc3ViKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGl2LnRvU3RyaW5nKHJhZGl4KSArIHJlbTEudG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAnLScgKyB0aGlzLm5lZygpLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEbyBzZXZlcmFsICg2KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXHJcbiAgICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cclxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBmcm9tTnVtYmVyKHBvd19kYmwocmFkaXgsIDYpLCB0aGlzLnVuc2lnbmVkKSxcclxuICAgICAgICByZW0gPSB0aGlzO1xyXG4gICAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpLFxyXG4gICAgICAgICAgICBpbnR2YWwgPSByZW0uc3ViKHJlbURpdi5tdWwocmFkaXhUb1Bvd2VyKSkudG9JbnQoKSA+Pj4gMCxcclxuICAgICAgICAgICAgZGlnaXRzID0gaW50dmFsLnRvU3RyaW5nKHJhZGl4KTtcclxuICAgICAgICByZW0gPSByZW1EaXY7XHJcbiAgICAgICAgaWYgKHJlbS5pc1plcm8oKSlcclxuICAgICAgICAgICAgcmV0dXJuIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCA2KVxyXG4gICAgICAgICAgICAgICAgZGlnaXRzID0gJzAnICsgZGlnaXRzO1xyXG4gICAgICAgICAgICByZXN1bHQgPSAnJyArIGRpZ2l0cyArIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBoaWdoIGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiBnZXRIaWdoQml0cygpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2g7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGhpZ2ggYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggPj4+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cclxuICogQHJldHVybnMge251bWJlcn0gU2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiBnZXRMb3dCaXRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFVuc2lnbmVkIGxvdyBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldExvd0JpdHNVbnNpZ25lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmxvdyA+Pj4gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBudW1iZXIgb2YgYml0cyBuZWVkZWQgdG8gcmVwcmVzZW50IHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldE51bUJpdHNBYnMgPSBmdW5jdGlvbiBnZXROdW1CaXRzQWJzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSAvLyBVbnNpZ25lZCBMb25ncyBhcmUgbmV2ZXIgbmVnYXRpdmVcclxuICAgICAgICByZXR1cm4gdGhpcy5lcShNSU5fVkFMVUUpID8gNjQgOiB0aGlzLm5lZygpLmdldE51bUJpdHNBYnMoKTtcclxuICAgIHZhciB2YWwgPSB0aGlzLmhpZ2ggIT0gMCA/IHRoaXMuaGlnaCA6IHRoaXMubG93O1xyXG4gICAgZm9yICh2YXIgYml0ID0gMzE7IGJpdCA+IDA7IGJpdC0tKVxyXG4gICAgICAgIGlmICgodmFsICYgKDEgPDwgYml0KSkgIT0gMClcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHplcm8uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbiBpc1plcm8oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoID09PSAwICYmIHRoaXMubG93ID09PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2lzWmVyb30uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXogPSBMb25nUHJvdG90eXBlLmlzWmVybztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBuZWdhdGl2ZS5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzTmVnYXRpdmUgPSBmdW5jdGlvbiBpc05lZ2F0aXZlKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgcG9zaXRpdmUuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkIHx8IHRoaXMuaGlnaCA+PSAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG9kZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZXZlbi5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbigpIHtcclxuICAgIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZCAhPT0gb3RoZXIudW5zaWduZWQgJiYgKHRoaXMuaGlnaCA+Pj4gMzEpID09PSAxICYmIChvdGhlci5oaWdoID4+PiAzMSkgPT09IDEpXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gb3RoZXIuaGlnaCAmJiB0aGlzLmxvdyA9PT0gb3RoZXIubG93O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZXF1YWxzfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmVxID0gTG9uZ1Byb3RvdHlwZS5lcXVhbHM7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90RXF1YWxzID0gZnVuY3Rpb24gbm90RXF1YWxzKG90aGVyKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuZXEoLyogdmFsaWRhdGVzICovIG90aGVyKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZXEgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBkaWZmZXJzIGZyb20gdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25vdEVxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gbGVzc1RoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPD0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sdGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sZSA9IExvbmdQcm90b3R5cGUubGVzc1RoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbn0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndCA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW47XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPj0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ndGUgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcclxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIGlmICh0aGlzLmVxKG90aGVyKSlcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCksXHJcbiAgICAgICAgb3RoZXJOZWcgPSBvdGhlci5pc05lZ2F0aXZlKCk7XHJcbiAgICBpZiAodGhpc05lZyAmJiAhb3RoZXJOZWcpXHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKVxyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgc2lnbiBiaXRzIGFyZSB0aGUgc2FtZVxyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN1YihvdGhlcikuaXNOZWdhdGl2ZSgpID8gLTEgOiAxO1xyXG4gICAgLy8gQm90aCBhcmUgcG9zaXRpdmUgaWYgYXQgbGVhc3Qgb25lIGlzIHVuc2lnbmVkXHJcbiAgICByZXR1cm4gKG90aGVyLmhpZ2ggPj4+IDApID4gKHRoaXMuaGlnaCA+Pj4gMCkgfHwgKG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiAob3RoZXIubG93ID4+PiAwKSA+ICh0aGlzLmxvdyA+Pj4gMCkpID8gLTEgOiAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbXBhcmVzIHRoaXMgTG9uZydzIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2NvbXBhcmV9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCAxIGlmIHRoZSB0aGlzIGlzIGdyZWF0ZXIgYW5kIC0xXHJcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUuY29tcCA9IExvbmdQcm90b3R5cGUuY29tcGFyZTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUoKSB7XHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQgJiYgdGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBNSU5fVkFMVUU7XHJcbiAgICByZXR1cm4gdGhpcy5ub3QoKS5hZGQoT05FKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25lZ2F0ZX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IE5lZ2F0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5uZWcgPSBMb25nUHJvdG90eXBlLm5lZ2F0ZTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGFkZGVuZCBBZGRlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBTdW1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGFkZGVuZCkge1xyXG4gICAgaWYgKCFpc0xvbmcoYWRkZW5kKSlcclxuICAgICAgICBhZGRlbmQgPSBmcm9tVmFsdWUoYWRkZW5kKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBudW1iZXIgaW50byA0IGNodW5rcyBvZiAxNiBiaXRzLCBhbmQgdGhlbiBzdW0gdGhlIGNodW5rcy5cclxuXHJcbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcclxuICAgIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBiNDggPSBhZGRlbmQuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYjMyID0gYWRkZW5kLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gYWRkZW5kLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYjAwID0gYWRkZW5kLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcclxuICAgIGMwMCArPSBhMDAgKyBiMDA7XHJcbiAgICBjMTYgKz0gYzAwID4+PiAxNjtcclxuICAgIGMwMCAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTE2ICsgYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiArIGIzMjtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGM0OCArPSBhNDggKyBiNDg7XHJcbiAgICBjNDggJj0gMHhGRkZGO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHN1YnRyYWhlbmQpIHtcclxuICAgIGlmICghaXNMb25nKHN1YnRyYWhlbmQpKVxyXG4gICAgICAgIHN1YnRyYWhlbmQgPSBmcm9tVmFsdWUoc3VidHJhaGVuZCk7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoc3VidHJhaGVuZC5uZWcoKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc3VidHJhY3R9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBzdWJ0cmFoZW5kIFN1YnRyYWhlbmRcclxuICogQHJldHVybnMgeyFMb25nfSBEaWZmZXJlbmNlXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnN1YiA9IExvbmdQcm90b3R5cGUuc3VidHJhY3Q7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgcHJvZHVjdCBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gbXVsdGlwbGllciBNdWx0aXBsaWVyXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG11bHRpcGxpZXIpIHtcclxuICAgIGlmICh0aGlzLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpXHJcbiAgICAgICAgbXVsdGlwbGllciA9IGZyb21WYWx1ZShtdWx0aXBsaWVyKTtcclxuXHJcbiAgICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcclxuICAgIGlmICh3YXNtKSB7XHJcbiAgICAgICAgdmFyIGxvdyA9IHdhc20ubXVsKHRoaXMubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXIubG93LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVyLmhpZ2gpO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG11bHRpcGxpZXIuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgIHJldHVybiBtdWx0aXBsaWVyLmlzT2RkKCkgPyBNSU5fVkFMVUUgOiBaRVJPO1xyXG4gICAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcclxuXHJcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyLm5lZygpKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLm11bChtdWx0aXBsaWVyKS5uZWcoKTtcclxuICAgIH0gZWxzZSBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsKG11bHRpcGxpZXIubmVnKCkpLm5lZygpO1xyXG5cclxuICAgIC8vIElmIGJvdGggbG9uZ3MgYXJlIHNtYWxsLCB1c2UgZmxvYXQgbXVsdGlwbGljYXRpb25cclxuICAgIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXHJcbiAgICAgICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcclxuXHJcbiAgICAvLyBEaXZpZGUgZWFjaCBsb25nIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gYWRkIHVwIDR4NCBwcm9kdWN0cy5cclxuICAgIC8vIFdlIGNhbiBza2lwIHByb2R1Y3RzIHRoYXQgd291bGQgb3ZlcmZsb3cuXHJcblxyXG4gICAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcclxuICAgIHZhciBhMDAgPSB0aGlzLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYjQ4ID0gbXVsdGlwbGllci5oaWdoID4+PiAxNjtcclxuICAgIHZhciBiMzIgPSBtdWx0aXBsaWVyLmhpZ2ggJiAweEZGRkY7XHJcbiAgICB2YXIgYjE2ID0gbXVsdGlwbGllci5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGIwMCA9IG11bHRpcGxpZXIubG93ICYgMHhGRkZGO1xyXG5cclxuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xyXG4gICAgYzAwICs9IGEwMCAqIGIwMDtcclxuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xyXG4gICAgYzAwICY9IDB4RkZGRjtcclxuICAgIGMxNiArPSBhMTYgKiBiMDA7XHJcbiAgICBjMzIgKz0gYzE2ID4+PiAxNjtcclxuICAgIGMxNiAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTAwICogYjE2O1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEzMiAqIGIwMDtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMTYgKiBiMTY7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTAwICogYjMyO1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzQ4ICs9IGE0OCAqIGIwMCArIGEzMiAqIGIxNiArIGExNiAqIGIzMiArIGEwMCAqIGI0ODtcclxuICAgIGM0OCAmPSAweEZGRkY7XHJcbiAgICByZXR1cm4gZnJvbUJpdHMoKGMxNiA8PCAxNikgfCBjMDAsIChjNDggPDwgMTYpIHwgYzMyLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtdWx0aXBseX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFByb2R1Y3RcclxuICovXHJcbkxvbmdQcm90b3R5cGUubXVsID0gTG9uZ1Byb3RvdHlwZS5tdWx0aXBseTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoZSByZXN1bHQgaXMgc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyBzaWduZWQgb3JcclxuICogIHVuc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyB1bnNpZ25lZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoZGl2aXNvcikge1xyXG4gICAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXHJcbiAgICAgICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcclxuICAgIGlmIChkaXZpc29yLmlzWmVybygpKVxyXG4gICAgICAgIHRocm93IEVycm9yKCdkaXZpc2lvbiBieSB6ZXJvJyk7XHJcblxyXG4gICAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XHJcbiAgICBpZiAod2FzbSkge1xyXG4gICAgICAgIC8vIGd1YXJkIGFnYWluc3Qgc2lnbmVkIGRpdmlzaW9uIG92ZXJmbG93OiB0aGUgbGFyZ2VzdFxyXG4gICAgICAgIC8vIG5lZ2F0aXZlIG51bWJlciAvIC0xIHdvdWxkIGJlIDEgbGFyZ2VyIHRoYW4gdGhlIGxhcmdlc3RcclxuICAgICAgICAvLyBwb3NpdGl2ZSBudW1iZXIsIGR1ZSB0byB0d28ncyBjb21wbGVtZW50LlxyXG4gICAgICAgIGlmICghdGhpcy51bnNpZ25lZCAmJlxyXG4gICAgICAgICAgICB0aGlzLmhpZ2ggPT09IC0weDgwMDAwMDAwICYmXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93ID09PSAtMSAmJiBkaXZpc29yLmhpZ2ggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIGJlIGNvbnNpc3RlbnQgd2l0aCBub24td2FzbSBjb2RlIHBhdGhcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsb3cgPSAodGhpcy51bnNpZ25lZCA/IHdhc20uZGl2X3UgOiB3YXNtLmRpdl9zKShcclxuICAgICAgICAgICAgdGhpcy5sb3csXHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCxcclxuICAgICAgICAgICAgZGl2aXNvci5sb3csXHJcbiAgICAgICAgICAgIGRpdmlzb3IuaGlnaFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbS5nZXRfaGlnaCgpLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgIHZhciBhcHByb3gsIHJlbSwgcmVzO1xyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkKSB7XHJcbiAgICAgICAgLy8gVGhpcyBzZWN0aW9uIGlzIG9ubHkgcmVsZXZhbnQgZm9yIHNpZ25lZCBsb25ncyBhbmQgaXMgZGVyaXZlZCBmcm9tIHRoZVxyXG4gICAgICAgIC8vIGNsb3N1cmUgbGlicmFyeSBhcyBhIHdob2xlLlxyXG4gICAgICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuZXEoT05FKSB8fCBkaXZpc29yLmVxKE5FR19PTkUpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTsgIC8vIHJlY2FsbCB0aGF0IC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBPTkU7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSB8b3RoZXJ8ID49IDIsIHNvIHx0aGlzL290aGVyfCA8IHxNSU5fVkFMVUV8LlxyXG4gICAgICAgICAgICAgICAgdmFyIGhhbGZUaGlzID0gdGhpcy5zaHIoMSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ggPSBoYWxmVGhpcy5kaXYoZGl2aXNvcikuc2hsKDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcHJveC5lcShaRVJPKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXZpc29yLmlzTmVnYXRpdmUoKSA/IE9ORSA6IE5FR19PTkU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbSA9IHRoaXMuc3ViKGRpdmlzb3IubXVsKGFwcHJveCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGFwcHJveC5hZGQocmVtLmRpdihkaXZpc29yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGl2aXNvci5lcShNSU5fVkFMVUUpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcclxuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcclxuICAgICAgICAgICAgaWYgKGRpdmlzb3IuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5kaXYoZGl2aXNvcikubmVnKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGl2KGRpdmlzb3IubmVnKCkpLm5lZygpO1xyXG4gICAgICAgIHJlcyA9IFpFUk87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRoZSBhbGdvcml0aG0gYmVsb3cgaGFzIG5vdCBiZWVuIG1hZGUgZm9yIHVuc2lnbmVkIGxvbmdzLiBJdCdzIHRoZXJlZm9yZVxyXG4gICAgICAgIC8vIHJlcXVpcmVkIHRvIHRha2Ugc3BlY2lhbCBjYXJlIG9mIHRoZSBNU0IgcHJpb3IgdG8gcnVubmluZyBpdC5cclxuICAgICAgICBpZiAoIWRpdmlzb3IudW5zaWduZWQpXHJcbiAgICAgICAgICAgIGRpdmlzb3IgPSBkaXZpc29yLnRvVW5zaWduZWQoKTtcclxuICAgICAgICBpZiAoZGl2aXNvci5ndCh0aGlzKSlcclxuICAgICAgICAgICAgcmV0dXJuIFVaRVJPO1xyXG4gICAgICAgIGlmIChkaXZpc29yLmd0KHRoaXMuc2hydSgxKSkpIC8vIDE1ID4+PiAxID0gNyA7IHdpdGggZGl2aXNvciA9IDggOyB0cnVlXHJcbiAgICAgICAgICAgIHJldHVybiBVT05FO1xyXG4gICAgICAgIHJlcyA9IFVaRVJPO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcGVhdCB0aGUgZm9sbG93aW5nIHVudGlsIHRoZSByZW1haW5kZXIgaXMgbGVzcyB0aGFuIG90aGVyOiAgZmluZCBhXHJcbiAgICAvLyBmbG9hdGluZy1wb2ludCB0aGF0IGFwcHJveGltYXRlcyByZW1haW5kZXIgLyBvdGhlciAqZnJvbSBiZWxvdyosIGFkZCB0aGlzXHJcbiAgICAvLyBpbnRvIHRoZSByZXN1bHQsIGFuZCBzdWJ0cmFjdCBpdCBmcm9tIHRoZSByZW1haW5kZXIuICBJdCBpcyBjcml0aWNhbCB0aGF0XHJcbiAgICAvLyB0aGUgYXBwcm94aW1hdGUgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSByZWFsIHZhbHVlIHNvIHRoYXQgdGhlXHJcbiAgICAvLyByZW1haW5kZXIgbmV2ZXIgYmVjb21lcyBuZWdhdGl2ZS5cclxuICAgIHJlbSA9IHRoaXM7XHJcbiAgICB3aGlsZSAocmVtLmd0ZShkaXZpc29yKSkge1xyXG4gICAgICAgIC8vIEFwcHJveGltYXRlIHRoZSByZXN1bHQgb2YgZGl2aXNpb24uIFRoaXMgbWF5IGJlIGEgbGl0dGxlIGdyZWF0ZXIgb3JcclxuICAgICAgICAvLyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCB2YWx1ZS5cclxuICAgICAgICBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gZGl2aXNvci50b051bWJlcigpKSk7XHJcblxyXG4gICAgICAgIC8vIFdlIHdpbGwgdHdlYWsgdGhlIGFwcHJveGltYXRlIHJlc3VsdCBieSBjaGFuZ2luZyBpdCBpbiB0aGUgNDgtdGggZGlnaXQgb3JcclxuICAgICAgICAvLyB0aGUgc21hbGxlc3Qgbm9uLWZyYWN0aW9uYWwgZGlnaXQsIHdoaWNoZXZlciBpcyBsYXJnZXIuXHJcbiAgICAgICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKSxcclxuICAgICAgICAgICAgZGVsdGEgPSAobG9nMiA8PSA0OCkgPyAxIDogcG93X2RibCgyLCBsb2cyIC0gNDgpLFxyXG5cclxuICAgICAgICAvLyBEZWNyZWFzZSB0aGUgYXBwcm94aW1hdGlvbiB1bnRpbCBpdCBpcyBzbWFsbGVyIHRoYW4gdGhlIHJlbWFpbmRlci4gIE5vdGVcclxuICAgICAgICAvLyB0aGF0IGlmIGl0IGlzIHRvbyBsYXJnZSwgdGhlIHByb2R1Y3Qgb3ZlcmZsb3dzIGFuZCBpcyBuZWdhdGl2ZS5cclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gpLFxyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XHJcbiAgICAgICAgICAgIGFwcHJveCAtPSBkZWx0YTtcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gZnJvbU51bWJlcihhcHByb3gsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2Uga25vdyB0aGUgYW5zd2VyIGNhbid0IGJlIHplcm8uLi4gYW5kIGFjdHVhbGx5LCB6ZXJvIHdvdWxkIGNhdXNlXHJcbiAgICAgICAgLy8gaW5maW5pdGUgcmVjdXJzaW9uIHNpbmNlIHdlIHdvdWxkIG1ha2Ugbm8gcHJvZ3Jlc3MuXHJcbiAgICAgICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSlcclxuICAgICAgICAgICAgYXBwcm94UmVzID0gT05FO1xyXG5cclxuICAgICAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XHJcbiAgICAgICAgcmVtID0gcmVtLnN1YihhcHByb3hSZW0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBkaXZpZGVkIGJ5IHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZGl2aWRlfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZGl2ID0gTG9uZ1Byb3RvdHlwZS5kaXZpZGU7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZHVsbyA9IGZ1bmN0aW9uIG1vZHVsbyhkaXZpc29yKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhkaXZpc29yKSlcclxuICAgICAgICBkaXZpc29yID0gZnJvbVZhbHVlKGRpdmlzb3IpO1xyXG5cclxuICAgIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxyXG4gICAgaWYgKHdhc20pIHtcclxuICAgICAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtLnJlbV91IDogd2FzbS5yZW1fcykoXHJcbiAgICAgICAgICAgIHRoaXMubG93LFxyXG4gICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93LFxyXG4gICAgICAgICAgICBkaXZpc29yLmhpZ2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgbW9kdWxvIHRoZSBzcGVjaWZpZWQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbW9kdWxvfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm1vZCA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5yZW0gPSBMb25nUHJvdG90eXBlLm1vZHVsbztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIE5PVCBvZiB0aGlzIExvbmcuXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUubm90ID0gZnVuY3Rpb24gbm90KCkge1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKH50aGlzLmxvdywgfnRoaXMuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBBTkQgb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgJiBvdGhlci5sb3csIHRoaXMuaGlnaCAmIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5vciA9IGZ1bmN0aW9uIG9yKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIFhPUiBvZiB0aGlzIExvbmcgYW5kIHRoZSBnaXZlbiBvbmUuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIHhvcihvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyBeIG90aGVyLmxvdywgdGhpcy5oaWdoIF4gb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gc2hpZnRMZWZ0KG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IDw8IG51bUJpdHMsICh0aGlzLmhpZ2ggPDwgbnVtQml0cykgfCAodGhpcy5sb3cgPj4+ICgzMiAtIG51bUJpdHMpKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKDAsIHRoaXMubG93IDw8IChudW1CaXRzIC0gMzIpLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgc2hpZnRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0TGVmdH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaGwgPSBMb25nUHJvdG90eXBlLnNoaWZ0TGVmdDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHQobnVtQml0cykge1xyXG4gICAgaWYgKGlzTG9uZyhudW1CaXRzKSlcclxuICAgICAgICBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xyXG4gICAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMoKHRoaXMubG93ID4+PiBudW1CaXRzKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLCB0aGlzLmhpZ2ggPj4gbnVtQml0cywgdGhpcy51bnNpZ25lZCk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+PiAobnVtQml0cyAtIDMyKSwgdGhpcy5oaWdoID49IDAgPyAwIDogLTEsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBhcml0aG1ldGljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hyID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC5cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gc2hpZnRSaWdodFVuc2lnbmVkKG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIG51bUJpdHMgJj0gNjM7XHJcbiAgICBpZiAobnVtQml0cyA9PT0gMClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBoaWdoID0gdGhpcy5oaWdoO1xyXG4gICAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcclxuICAgICAgICAgICAgdmFyIGxvdyA9IHRoaXMubG93O1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUJpdHMoKGxvdyA+Pj4gbnVtQml0cykgfCAoaGlnaCA8PCAoMzIgLSBudW1CaXRzKSksIGhpZ2ggPj4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobnVtQml0cyA9PT0gMzIpXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoLCAwLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQml0cyhoaWdoID4+PiAobnVtQml0cyAtIDMyKSwgMCwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJ1ID0gTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQ7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGxvZ2ljYWxseSBzaGlmdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3NoaWZ0UmlnaHRVbnNpZ25lZH0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zaHJfdSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBzaWduZWQuXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9TaWduZWQgPSBmdW5jdGlvbiB0b1NpZ25lZCgpIHtcclxuICAgIGlmICghdGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCBmYWxzZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIHVuc2lnbmVkLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFVuc2lnbmVkIGxvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9VbnNpZ25lZCA9IGZ1bmN0aW9uIHRvVW5zaWduZWQoKSB7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCB0cnVlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cclxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gdG9CeXRlcyhsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gdGhpcy50b0J5dGVzTEUoKSA6IHRoaXMudG9CeXRlc0JFKCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzTEUgPSBmdW5jdGlvbiB0b0J5dGVzTEUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgbG8gICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSAgICAgICAgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gMjRcclxuICAgIF07XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBiaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS50b0J5dGVzQkUgPSBmdW5jdGlvbiB0b0J5dGVzQkUoKSB7XHJcbiAgICB2YXIgaGkgPSB0aGlzLmhpZ2gsXHJcbiAgICAgICAgbG8gPSB0aGlzLmxvdztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgaGkgPj4+IDI0ICAgICAgICxcclxuICAgICAgICBoaSA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgaGkgICAgICAgICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gMjQgICAgICAgLFxyXG4gICAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBsbyAgICAgICAgJiAweGZmXHJcbiAgICBdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCeXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxyXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQnl0ZXMgPSBmdW5jdGlvbiBmcm9tQnl0ZXMoYnl0ZXMsIHVuc2lnbmVkLCBsZSkge1xyXG4gICAgcmV0dXJuIGxlID8gTG9uZy5mcm9tQnl0ZXNMRShieXRlcywgdW5zaWduZWQpIDogTG9uZy5mcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGxpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CeXRlc0xFID0gZnVuY3Rpb24gZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcoXHJcbiAgICAgICAgYnl0ZXNbMF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzFdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1syXSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbM10gPDwgMjQsXHJcbiAgICAgICAgYnl0ZXNbNF0gICAgICAgfFxyXG4gICAgICAgIGJ5dGVzWzVdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s2XSA8PCAxNiB8XHJcbiAgICAgICAgYnl0ZXNbN10gPDwgMjQsXHJcbiAgICAgICAgdW5zaWduZWRcclxuICAgICk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgQmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcclxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcclxuICAgIHJldHVybiBuZXcgTG9uZyhcclxuICAgICAgICBieXRlc1s0XSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbNV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzZdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1s3XSxcclxuICAgICAgICBieXRlc1swXSA8PCAyNCB8XHJcbiAgICAgICAgYnl0ZXNbMV0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzJdIDw8ICA4IHxcclxuICAgICAgICBieXRlc1szXSxcclxuICAgICAgICB1bnNpZ25lZFxyXG4gICAgKTtcclxufTtcclxuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogVHJ1ZSBpZiB0aGUgY3VzdG9tIGVsZW1lbnRzIHBvbHlmaWxsIGlzIGluIHVzZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ0VQb2x5ZmlsbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzICE9IG51bGwgJiZcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayAhPT1cbiAgICAgICAgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwsIGJlZm9yZSA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB3aXRoIGVtYmVkZGVkIHVuaXF1ZSBrZXkgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGhcbiAqIHBvc3NpYmxlIHRleHQgaW4gdGVtcGxhdGVzLlxuICovXG5leHBvcnQgY29uc3QgbWFya2VyID0gYHt7bGl0LSR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDIpfX19YDtcbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgdXNlZCB0ZXh0LXBvc2l0aW9ucywgbXVsdGktYmluZGluZyBhdHRyaWJ1dGVzLCBhbmRcbiAqIGF0dHJpYnV0ZXMgd2l0aCBtYXJrdXAtbGlrZSB0ZXh0IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vZGVNYXJrZXIgPSBgPCEtLSR7bWFya2VyfS0tPmA7XG5leHBvcnQgY29uc3QgbWFya2VyUmVnZXggPSBuZXcgUmVnRXhwKGAke21hcmtlcn18JHtub2RlTWFya2VyfWApO1xuLyoqXG4gKiBTdWZmaXggYXBwZW5kZWQgdG8gYWxsIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcbi8qKlxuICogQW4gdXBkYXRhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWxlbWVudC5jb250ZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGxhc3QgaW5kZXggYXNzb2NpYXRlZCB3aXRoIGEgcGFydC4gV2UgdHJ5IHRvIGRlbGV0ZVxuICAgICAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAgICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgICAgICBsZXQgbGFzdFBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdzLCB2YWx1ZXM6IHsgbGVuZ3RoIH0gfSA9IHJlc3VsdDtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYW1lZE5vZGVNYXAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHBhcnQgaW5kZXggYW5kIGF0dHJpYnV0ZSBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBzZWN0aW9uIGxlYWRpbmcgdXAgdG8gdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleHByZXNzaW9uIGluIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdGb3JQYXJ0ID0gc3RyaW5nc1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoc3RyaW5nRm9yUGFydClbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKSArIGJvdW5kQXR0cmlidXRlU3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBzdGF0aWNzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdzID0gZGF0YS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBjcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogKytpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRleHQsIHdlIG11c3QgaW5zZXJ0IGEgY29tbWVudCB0byBtYXJrIG91ciBwbGFjZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gICogV2UgZG9uJ3QgaGF2ZSBhIHByZXZpb3VzU2libGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiByZW1vdmUgaXQgdG8gc2F2ZSBmdXR1cmUgY29zdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiAtMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc3VmZml4KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aDtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuLy8gQWxsb3dzIGBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKWAgdG8gYmUgcmVuYW1lZCBmb3IgYVxuLy8gc21hbGwgbWFudWFsIHNpemUtc2F2aW5ncy5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID0gXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKi9cbmltcG9ydCB7IGlzVGVtcGxhdGVQYXJ0QWN0aXZlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCB3YWxrZXJOb2RlRmlsdGVyID0gMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovO1xuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBub2Rlc1RvUmVtb3ZlKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICAgIGxldCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICBsZXQgbm9kZUluZGV4ID0gLTE7XG4gICAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSA9IFtdO1xuICAgIGxldCBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbnVsbDtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIEVuZCByZW1vdmFsIGlmIHN0ZXBwZWQgcGFzdCB0aGUgcmVtb3Zpbmcgbm9kZVxuICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgbm9kZSB0byByZW1vdmUgd2FzIGZvdW5kIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gcmVtb3ZpbmcsIGluY3JlbWVudCBjb3VudCBieSB3aGljaCB0byBhZGp1c3Qgc3Vic2VxdWVudCBwYXJ0IGluZGljZXNcbiAgICAgICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnQgIT09IHVuZGVmaW5lZCAmJiBwYXJ0LmluZGV4ID09PSBub2RlSW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHBhcnQgaXMgaW4gYSByZW1vdmVkIG5vZGUgZGVhY3RpdmF0ZSBpdCBieSBzZXR0aW5nIGluZGV4IHRvIC0xIG9yXG4gICAgICAgICAgICAvLyBhZGp1c3QgdGhlIGluZGV4IGFzIG5lZWRlZC5cbiAgICAgICAgICAgIHBhcnQuaW5kZXggPSBjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsID8gLTEgOiBwYXJ0LmluZGV4IC0gcmVtb3ZlQ291bnQ7XG4gICAgICAgICAgICAvLyBnbyB0byB0aGUgbmV4dCBhY3RpdmUgcGFydC5cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7XG59XG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGUpID0+IHtcbiAgICBsZXQgY291bnQgPSAobm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovKSA/IDAgOiAxO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIobm9kZSwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBjb3VudCsrO1xuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59O1xuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID0gKHBhcnRzLCBzdGFydEluZGV4ID0gLTEpID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCArIDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIG5vZGUsIHJlZk5vZGUgPSBudWxsKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVmTm9kZSwgdGhlbiBwdXQgbm9kZSBhdCBlbmQgb2YgdGVtcGxhdGUuXG4gICAgLy8gTm8gcGFydCBpbmRpY2VzIG5lZWQgdG8gYmUgc2hpZnRlZCBpbiB0aGlzIGNhc2UuXG4gICAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgICBsZXQgd2Fsa2VySW5kZXggPSAtMTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgd2Fsa2VySW5kZXgrKztcbiAgICAgICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgaWYgKHdhbGtlck5vZGUgPT09IHJlZk5vZGUpIHtcbiAgICAgICAgICAgIGluc2VydENvdW50ID0gY291bnROb2Rlcyhub2RlKTtcbiAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICAgICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RpZnktdGVtcGxhdGUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gKGYpID0+ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgIHJldHVybiBkO1xufSk7XG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXJlY3RpdmVzLmhhcyhvKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyB0aGF0IGEgdmFsdWUgd2FzIGhhbmRsZWQgYnkgYSBkaXJlY3RpdmUgYW5kXG4gKiBzaG91bGQgbm90IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vQ2hhbmdlID0ge307XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0NFUG9seWZpbGwgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHByb2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb25lKCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgYSBudW1iZXIgb2Ygc3RlcHMgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHRlbXBsYXRlIGluc3RhbmNlJ3NcbiAgICAgICAgLy8gRE9NIGZyYWdtZW50OlxuICAgICAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgICAgIC8vICAyLiBBZG9wdCAtIGFkb3B0IGludG8gdGhlIG1haW4gZG9jdW1lbnRcbiAgICAgICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAgICAgLy8gIDUuIFVwZGF0ZSAtIHNldCBub2RlLCBhdHRyaWJ1dGUsIHByb3BlcnR5LCBldGMuLCB2YWx1ZXNcbiAgICAgICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgICAgICAvLyAgICAgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAgICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgICAgIC8vICAgIHRocm91Z2ggYW55IHByb3BlcnR5IHNldHRlcnMuXG4gICAgICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgICAgICAvLyAgKiBXZSB3YW50IGN1c3RvbSBlbGVtZW50cyB0byB1cGdyYWRlIGV2ZW4gaW4gZGlzY29ubmVjdGVkIGZyYWdtZW50cy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgICAgICAvLyBwcmVmZXIgdGhlIG9yZGVyOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSwgQ29ubmVjdFxuICAgICAgICAvL1xuICAgICAgICAvLyBCdXQgU2FmYXJpIGRvZXMgbm90IGltcGxlbWVudCBDdXN0b21FbGVtZW50UmVnaXN0cnkjdXBncmFkZSwgc28gd2VcbiAgICAgICAgLy8gY2FuIG5vdCBpbXBsZW1lbnQgdGhhdCBvcmRlciBhbmQgc3RpbGwgaGF2ZSB1cGdyYWRlLWJlZm9yZS11cGRhdGUgYW5kXG4gICAgICAgIC8vIHVwZ3JhZGUgZGlzY29ubmVjdGVkIGZyYWdtZW50cy4gU28gd2UgaW5zdGVhZCBzYWNyaWZpY2UgdGhlXG4gICAgICAgIC8vIHByb2Nlc3MtYmVmb3JlLXVwZ3JhZGUgY29uc3RyYWludCwgc2luY2UgaW4gQ3VzdG9tIEVsZW1lbnRzIHYxIGVsZW1lbnRzXG4gICAgICAgIC8vIG11c3Qgbm90IG1vZGlmeSB0aGVpciBsaWdodCBET00gaW4gdGhlIGNvbnN0cnVjdG9yLiBXZSBzdGlsbCBoYXZlIGlzc3Vlc1xuICAgICAgICAvLyB3aGVuIGNvLWV4aXN0aW5nIHdpdGggQ0V2MCBlbGVtZW50cyBsaWtlIFBvbHltZXIgMSwgYW5kIHdpdGggcG9seWZpbGxzXG4gICAgICAgIC8vIHRoYXQgZG9uJ3Qgc3RyaWN0bHkgYWRoZXJlIHRvIHRoZSBuby1tb2RpZmljYXRpb24gcnVsZSBiZWNhdXNlIHNoYWRvd1xuICAgICAgICAvLyBET00sIHdoaWNoIG1heSBiZSBjcmVhdGVkIGluIHRoZSBjb25zdHJ1Y3RvciwgaXMgZW11bGF0ZWQgYnkgYmVpbmcgcGxhY2VkXG4gICAgICAgIC8vIGluIHRoZSBsaWdodCBET00uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSByZXN1bHRpbmcgb3JkZXIgaXMgb24gbmF0aXZlIGlzOiBDbG9uZSwgQWRvcHQsIFVwZ3JhZGUsIFByb2Nlc3MsXG4gICAgICAgIC8vIFVwZGF0ZSwgQ29ubmVjdC4gZG9jdW1lbnQuaW1wb3J0Tm9kZSgpIHBlcmZvcm1zIENsb25lLCBBZG9wdCwgYW5kIFVwZ3JhZGVcbiAgICAgICAgLy8gaW4gb25lIHN0ZXAuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoZSBDdXN0b20gRWxlbWVudHMgdjEgcG9seWZpbGwgc3VwcG9ydHMgdXBncmFkZSgpLCBzbyB0aGUgb3JkZXIgd2hlblxuICAgICAgICAvLyBwb2x5ZmlsbGVkIGlzIHRoZSBtb3JlIGlkZWFsOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSxcbiAgICAgICAgLy8gQ29ubmVjdC5cbiAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpc0NFUG9seWZpbGwgP1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIDpcbiAgICAgICAgICAgIGRvY3VtZW50LmltcG9ydE5vZGUodGhpcy50ZW1wbGF0ZS5lbGVtZW50LmNvbnRlbnQsIHRydWUpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMudGVtcGxhdGUucGFydHM7XG4gICAgICAgIC8vIEVkZ2UgbmVlZHMgYWxsIDQgcGFyYW1ldGVycyBwcmVzZW50OyBJRTExIG5lZWRzIDNyZCBwYXJhbWV0ZXIgdG8gYmUgbnVsbFxuICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGZyYWdtZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydDtcbiAgICAgICAgbGV0IG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgbm9kZXMgYW5kIHBhcnRzIG9mIGEgdGVtcGxhdGVcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVQYXJ0QWN0aXZlKHBhcnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFByb2dyZXNzIHRoZSB0cmVlIHdhbGtlciB1bnRpbCB3ZSBmaW5kIG91ciBuZXh0IHBhcnQncyBub2RlLlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IG11bHRpcGxlIHBhcnRzIG1heSBzaGFyZSB0aGUgc2FtZSBub2RlIChhdHRyaWJ1dGUgcGFydHNcbiAgICAgICAgICAgIC8vIG9uIGEgc2luZ2xlIGVsZW1lbnQpLCBzbyB0aGlzIGxvb3AgbWF5IG5vdCBydW4gYXQgYWxsLlxuICAgICAgICAgICAgd2hpbGUgKG5vZGVJbmRleCA8IHBhcnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2Ugd2Ugc3RpbGwgaGF2ZSBwYXJ0cyAodGhlIG91dGVyIGZvci1sb29wKSwgd2Uga25vdzpcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSd2ZSBhcnJpdmVkIGF0IG91ciBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdub2RlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnByb2Nlc3Nvci5oYW5kbGVUZXh0RXhwcmVzc2lvbih0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5zZXJ0QWZ0ZXJOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKC4uLnRoaXMucHJvY2Vzc29yLmhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKG5vZGUsIHBhcnQubmFtZSwgcGFydC5zdHJpbmdzLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0NFUG9seWZpbGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkb3B0Tm9kZShmcmFnbWVudCk7XG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy51cGdyYWRlKGZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtaW5zdGFuY2UuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCwgbGFzdEF0dHJpYnV0ZU5hbWVSZWdleCwgbWFya2VyLCBub2RlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCBjb21tZW50TWFya2VyID0gYCAke21hcmtlcn0gYDtcbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIGBodG1sYCwgd2hpY2ggaG9sZHMgYSBUZW1wbGF0ZSBhbmQgdGhlIHZhbHVlcyBmcm9tXG4gKiBpbnRlcnBvbGF0ZWQgZXhwcmVzc2lvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3RydWN0b3Ioc3RyaW5ncywgdmFsdWVzLCB0eXBlLCBwcm9jZXNzb3IpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gcHJvY2Vzc29yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIEhUTUwgdXNlZCB0byBjcmVhdGUgYSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRIVE1MKCkge1xuICAgICAgICBjb25zdCBsID0gdGhpcy5zdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBodG1sID0gJyc7XG4gICAgICAgIGxldCBpc0NvbW1lbnRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5zdHJpbmdzW2ldO1xuICAgICAgICAgICAgLy8gRm9yIGVhY2ggYmluZGluZyB3ZSB3YW50IHRvIGRldGVybWluZSB0aGUga2luZCBvZiBtYXJrZXIgdG8gaW5zZXJ0XG4gICAgICAgICAgICAvLyBpbnRvIHRoZSB0ZW1wbGF0ZSBzb3VyY2UgYmVmb3JlIGl0J3MgcGFyc2VkIGJ5IHRoZSBicm93c2VyJ3MgSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBUaGUgbWFya2VyIHR5cGUgaXMgYmFzZWQgb24gd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhblxuICAgICAgICAgICAgLy8gYXR0cmlidXRlLCB0ZXh0LCBvciBjb21tZW50IHBvc2l0aW9uLlxuICAgICAgICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAgICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAgICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgICAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgICAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAgICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgICAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgICAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWRpbmcgdGhlXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgb25seSBpbiB0aGlzIGJyYW5jaCBpZiB3ZSBkb24ndCBoYXZlIGEgYXR0cmlidXRlLWxpa2VcbiAgICAgICAgICAgICAgICAvLyBwcmVjZWRpbmcgc2VxdWVuY2UuIEZvciBjb21tZW50cywgdGhpcyBndWFyZHMgYWdhaW5zdCB1bnVzdWFsXG4gICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlIHZhbHVlcyBsaWtlIDxkaXYgZm9vPVwiPCEtLSR7J2Jhcid9XCI+LiBDYXNlcyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gPCEtLSBmb289JHsnYmFyJ30tLT4gYXJlIGhhbmRsZWQgY29ycmVjdGx5IGluIHRoZSBhdHRyaWJ1dGUgYnJhbmNoXG4gICAgICAgICAgICAgICAgLy8gYmVsb3cuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzICsgKGlzQ29tbWVudEJpbmRpbmcgPyBjb21tZW50TWFya2VyIDogbm9kZU1hcmtlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYXR0cmlidXRlcyB3ZSB1c2UganVzdCBhIG1hcmtlciBzZW50aW5lbCwgYW5kIGFsc28gYXBwZW5kIGFcbiAgICAgICAgICAgICAgICAvLyAkbGl0JCBzdWZmaXggdG8gdGhlIG5hbWUgdG8gb3B0LW91dCBvZiBhdHRyaWJ1dGUtc3BlY2lmaWMgcGFyc2luZ1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgSUUgYW5kIEVkZ2UgZG8gZm9yIHN0eWxlIGFuZCBjZXJ0YWluIFNWRyBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcy5zdWJzdHIoMCwgYXR0cmlidXRlTWF0Y2guaW5kZXgpICsgYXR0cmlidXRlTWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVNYXRjaFsyXSArIGJvdW5kQXR0cmlidXRlU3VmZml4ICsgYXR0cmlidXRlTWF0Y2hbM10gK1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSB0aGlzLnN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdGhpcy5nZXRIVE1MKCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vKipcbiAqIEEgVGVtcGxhdGVSZXN1bHQgZm9yIFNWRyBmcmFnbWVudHMuXG4gKlxuICogVGhpcyBjbGFzcyB3cmFwcyBIVE1MIGluIGFuIGA8c3ZnPmAgdGFnIGluIG9yZGVyIHRvIHBhcnNlIGl0cyBjb250ZW50cyBpbiB0aGVcbiAqIFNWRyBuYW1lc3BhY2UsIHRoZW4gbW9kaWZpZXMgdGhlIHRlbXBsYXRlIHRvIHJlbW92ZSB0aGUgYDxzdmc+YCB0YWcgc28gdGhhdFxuICogY2xvbmVzIG9ubHkgY29udGFpbmVyIHRoZSBvcmlnaW5hbCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNWR1RlbXBsYXRlUmVzdWx0IGV4dGVuZHMgVGVtcGxhdGVSZXN1bHQge1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIHJldHVybiBgPHN2Zz4ke3N1cGVyLmdldEhUTUwoKX08L3N2Zz5gO1xuICAgIH1cbiAgICBnZXRUZW1wbGF0ZUVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gc3VwZXIuZ2V0VGVtcGxhdGVFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHN2Z0VsZW1lbnQpO1xuICAgICAgICByZXBhcmVudE5vZGVzKGNvbnRlbnQsIHN2Z0VsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1yZXN1bHQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKi9cbmltcG9ydCB7IGlzRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBub0NoYW5nZSwgbm90aGluZyB9IGZyb20gJy4vcGFydC5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vdGVtcGxhdGUtcmVzdWx0LmpzJztcbmltcG9ydCB7IGNyZWF0ZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuZXhwb3J0IGNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuICh2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICAgICAhKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSk7XG59O1xuZXhwb3J0IGNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgISEodmFsdWUgJiYgdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRyaWJ1dGUuIFRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzXG4gKiBmb3IgYW4gYXR0cmlidXRlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGFydHNbaV0gPSB0aGlzLl9jcmVhdGVQYXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpbmdsZSBwYXJ0LiBPdmVycmlkZSB0aGlzIHRvIGNyZWF0ZSBhIGRpZmZlcm50IHR5cGUgb2YgcGFydC5cbiAgICAgKi9cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLnN0cmluZ3M7XG4gICAgICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gcGFydC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogU3RyaW5nKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgdGhpcy5fZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGFsbCBvciBwYXJ0IG9mIGFuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbW1pdHRlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAgICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgICAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdHRlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21taXR0ZXIuY29tbWl0KCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhIGxvY2F0aW9uIHdpdGhpbiBhIE5vZGUgdHJlZS4gTGlrZSBhIFJhbmdlLCBOb2RlUGFydFxuICogaGFzIHN0YXJ0IGFuZCBlbmQgbG9jYXRpb25zIGFuZCBjYW4gc2V0IGFuZCB1cGRhdGUgdGhlIE5vZGVzIGJldHdlZW4gdGhvc2VcbiAqIGxvY2F0aW9ucy5cbiAqXG4gKiBOb2RlUGFydHMgc3VwcG9ydCBzZXZlcmFsIHZhbHVlIHR5cGVzOiBwcmltaXRpdmVzLCBOb2RlcywgVGVtcGxhdGVSZXN1bHRzLFxuICogYXMgd2VsbCBhcyBhcnJheXMgYW5kIGl0ZXJhYmxlcyBvZiB0aG9zZSB0eXBlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBub2RlIChiZXR3ZWVuIGByZWZgIGFuZCBgcmVmYCdzIG5leHRcbiAgICAgKiBzaWJsaW5nKS4gQm90aCBgcmVmYCBhbmQgaXRzIG5leHQgc2libGluZyBtdXN0IGJlIHN0YXRpYywgdW5jaGFuZ2luZyBub2Rlc1xuICAgICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyTm9kZShyZWYpIHtcbiAgICAgICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5uZXh0U2libGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIHBhcmVudCBwYXJ0LlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSW50b1BhcnQocGFydCkge1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuZW5kTm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlclBhcnQocmVmKSB7XG4gICAgICAgIHJlZi5fX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydE5vZGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9faW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgdGhpcy5lbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxuICAgIF9fY29tbWl0Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX19pbnNlcnQodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIC8vIElmIGB2YWx1ZWAgaXNuJ3QgYWxyZWFkeSBhIHN0cmluZywgd2UgZXhwbGljaXRseSBjb252ZXJ0IGl0IGhlcmUgaW4gY2FzZVxuICAgICAgICAvLyBpdCBjYW4ndCBiZSBpbXBsaWNpdGx5IGNvbnZlcnRlZCAtIGkuZS4gaXQncyBhIHN5bWJvbC5cbiAgICAgICAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmVuZE5vZGUucHJldmlvdXNTaWJsaW5nICYmXG4gICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAgICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAgICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlQXNTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZUFzU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGhpcy52YWx1ZS50ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fY29tbWl0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAgICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgICAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAgICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cbiAgICAgICAgLy8gSWYgX3ZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIE5vZGVQYXJ0cy5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICAgICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBuZXcgTm9kZVBhcnQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0LnNldFZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbVBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoaXRlbVBhcnQgJiYgaXRlbVBhcnQuZW5kTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoc3RhcnROb2RlID0gdGhpcy5zdGFydE5vZGUpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXModGhpcy5zdGFydE5vZGUucGFyZW50Tm9kZSwgc3RhcnROb2RlLm5leHRTaWJsaW5nLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gISF0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbn1cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgICB9XG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB0aGlzLl9nZXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xufVxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhpcmRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcbi8vIFdyYXAgaW50byBhbiBJSUZFIGJlY2F1c2UgTVMgRWRnZSA8PSB2NDEgZG9lcyBub3Qgc3VwcG9ydCBoYXZpbmcgdHJ5L2NhdGNoXG4vLyBibG9ja3MgcmlnaHQgaW50byB0aGUgYm9keSBvZiBhIG1vZHVsZVxuKCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgZ2V0IGNhcHR1cmUoKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRPcHRpb25zU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0Jywgb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNhdGNoIChfZSkge1xuICAgICAgICAvLyBldmVudCBvcHRpb25zIG5vdCBzdXBwb3J0ZWRcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZXZlbnROYW1lLCBldmVudENvbnRleHQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgICAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IG5ld0xpc3RlbmVyID09IG51bGwgfHxcbiAgICAgICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAobmV3TGlzdGVuZXIuY2FwdHVyZSAhPT0gb2xkTGlzdGVuZXIuY2FwdHVyZSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PSBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgICAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9IG5ld0xpc3RlbmVyICE9IG51bGwgJiYgKG9sZExpc3RlbmVyID09IG51bGwgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5fX29wdGlvbnMgPSBnZXRPcHRpb25zKG5ld0xpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuY2FsbCh0aGlzLmV2ZW50Q29udGV4dCB8fCB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gV2UgY29weSBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIGluY29uc2lzdGVudCBiZWhhdmlvciBvZiBicm93c2VycyB3aGVuIHJlYWRpbmdcbi8vIHRoZSB0aGlyZCBhcmd1bWVudCBvZiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci4gSUUxMSBkb2Vzbid0IHN1cHBvcnQgb3B0aW9uc1xuLy8gYXQgYWxsLiBDaHJvbWUgNDEgb25seSByZWFkcyBgY2FwdHVyZWAgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbmNvbnN0IGdldE9wdGlvbnMgPSAobykgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICB7IGNhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2UgfSA6XG4gICAgICAgIG8uY2FwdHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQocmVzdWx0LnR5cGUpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChyZXN1bHQudHlwZSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gICAgLy8gVGhpcyBrZXkgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRlbXBsYXRlcyB3aXRoIGlkZW50aWNhbCBjb250ZW50XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvLyBDYWNoZSBhbGwgZnV0dXJlIHF1ZXJpZXMgZm9yIHRoaXMgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1mYWN0b3J5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IE5vZGVQYXJ0IH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHJlc3VsdCBvciBvdGhlciB2YWx1ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgQW55IHZhbHVlIHJlbmRlcmFibGUgYnkgTm9kZVBhcnQgLSB0eXBpY2FsbHkgYSBUZW1wbGF0ZVJlc3VsdFxuICogICAgIGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgcGFydCA9IHBhcnRzLmdldChjb250YWluZXIpO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeSB9LCBvcHRpb25zKSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICB9XG4gICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgIHBhcnQuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgUHJvcGVydHlDb21taXR0ZXIoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGVGYWN0b3J5XG4gICAgICovXG4gICAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqXG4gKiBNYWluIGxpdC1odG1sIG1vZHVsZS5cbiAqXG4gKiBNYWluIGV4cG9ydHM6XG4gKlxuICogLSAgW1todG1sXV1cbiAqIC0gIFtbc3ZnXV1cbiAqIC0gIFtbcmVuZGVyXV1cbiAqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7IGRpcmVjdGl2ZSwgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7IHJlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9saWIvZG9tLmpzJztcbmV4cG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEF0dHJpYnV0ZVBhcnQsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIGlzSXRlcmFibGUsIGlzUHJpbWl0aXZlLCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIsIFByb3BlcnR5UGFydCB9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7IHBhcnRzLCByZW5kZXIgfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMi4xJyk7XG59XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIEhUTUwgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBTVkdUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdzdmcnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWh0bWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBNb2R1bGUgdG8gYWRkIHNoYWR5IERPTS9zaGFkeSBDU1MgcG9seWZpbGwgc3VwcG9ydCB0byBsaXQtaHRtbCB0ZW1wbGF0ZVxuICogcmVuZGVyaW5nLiBTZWUgdGhlIFtbcmVuZGVyXV0gbWV0aG9kIGZvciBkZXRhaWxzLlxuICpcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSwgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUgfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQgeyBwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlciB9IGZyb20gJy4vcmVuZGVyLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlQ2FjaGVzIH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IG1hcmtlciwgVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG4vLyBHZXQgYSBrZXkgdG8gbG9va3VwIGluIGB0ZW1wbGF0ZUNhY2hlc2AuXG5jb25zdCBnZXRUZW1wbGF0ZUNhY2hlS2V5ID0gKHR5cGUsIHNjb3BlTmFtZSkgPT4gYCR7dHlwZX0tLSR7c2NvcGVOYW1lfWA7XG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5pZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG5lbHNlIGlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oYEluY29tcGF0aWJsZSBTaGFkeUNTUyB2ZXJzaW9uIGRldGVjdGVkLiBgICtcbiAgICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgICAgYEB3ZWJjb21wb25lbnRzL3NoYWR5Y3NzQDEuMy4xLmApO1xuICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn1cbi8qKlxuICogVGVtcGxhdGUgZmFjdG9yeSB3aGljaCBzY29wZXMgdGVtcGxhdGUgRE9NIHVzaW5nIFNoYWR5Q1NTLlxuICogQHBhcmFtIHNjb3BlTmFtZSB7c3RyaW5nfVxuICovXG5jb25zdCBzaGFkeVRlbXBsYXRlRmFjdG9yeSA9IChzY29wZU5hbWUpID0+IChyZXN1bHQpID0+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGdldFRlbXBsYXRlQ2FjaGVLZXkocmVzdWx0LnR5cGUsIHNjb3BlTmFtZSk7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoY2FjaGVLZXkpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChjYWNoZUtleSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5nZXQoa2V5KTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBpZiAoY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbikge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufTtcbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuLyoqXG4gKiBSZW1vdmVzIGFsbCBzdHlsZSBlbGVtZW50cyBmcm9tIFRlbXBsYXRlcyBmb3IgdGhlIGdpdmVuIHNjb3BlTmFtZS5cbiAqL1xuY29uc3QgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyA9IChzY29wZU5hbWUpID0+IHtcbiAgICBURU1QTEFURV9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHRlbXBsYXRlQ2FjaGVzLmdldChnZXRUZW1wbGF0ZUNhY2hlS2V5KHR5cGUsIHNjb3BlTmFtZSkpO1xuICAgICAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9IH0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtIFNldCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYWRkKHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBzdHlsZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQoKTtcbi8qKlxuICogRm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLCBlbnN1cmVzIHRoYXQgU2hhZHlDU1Mgc3R5bGUgc2NvcGluZyBpcyBwZXJmb3JtZWQuXG4gKiBUaGlzIGlzIGRvbmUganVzdCBvbmNlIHBlciBzY29wZSBuYW1lIHNvIHRoZSBmcmFnbWVudCBhbmQgdGVtcGxhdGUgY2Fubm90XG4gKiBiZSBtb2RpZmllZC5cbiAqICgxKSBleHRyYWN0cyBzdHlsZXMgZnJvbSB0aGUgcmVuZGVyZWQgZnJhZ21lbnQgYW5kIGhhbmRzIHRoZW0gdG8gU2hhZHlDU1NcbiAqIHRvIGJlIHNjb3BlZCBhbmQgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50XG4gKiAoMikgcmVtb3ZlcyBzdHlsZSBlbGVtZW50cyBmcm9tIGFsbCBsaXQtaHRtbCBUZW1wbGF0ZXMgZm9yIHRoaXMgc2NvcGUgbmFtZS5cbiAqXG4gKiBOb3RlLCA8c3R5bGU+IGVsZW1lbnRzIGNhbiBvbmx5IGJlIHBsYWNlZCBpbnRvIHRlbXBsYXRlcyBmb3IgdGhlXG4gKiBpbml0aWFsIHJlbmRlcmluZyBvZiB0aGUgc2NvcGUuIElmIDxzdHlsZT4gZWxlbWVudHMgYXJlIGluY2x1ZGVkIGluIHRlbXBsYXRlc1xuICogZHluYW1pY2FsbHkgcmVuZGVyZWQgdG8gdGhlIHNjb3BlIChhZnRlciB0aGUgZmlyc3Qgc2NvcGUgcmVuZGVyKSwgdGhleSB3aWxsXG4gKiBub3QgYmUgc2NvcGVkIGFuZCB0aGUgPHN0eWxlPiB3aWxsIGJlIGxlZnQgaW4gdGhlIHRlbXBsYXRlIGFuZCByZW5kZXJlZFxuICogb3V0cHV0LlxuICovXG5jb25zdCBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgPSAoc2NvcGVOYW1lLCByZW5kZXJlZERPTSwgdGVtcGxhdGUpID0+IHtcbiAgICBzaGFkeVJlbmRlclNldC5hZGQoc2NvcGVOYW1lKTtcbiAgICAvLyBJZiBgcmVuZGVyZWRET01gIGlzIHN0YW1wZWQgZnJvbSBhIFRlbXBsYXRlLCB0aGVuIHdlIG5lZWQgdG8gZWRpdCB0aGF0XG4gICAgLy8gVGVtcGxhdGUncyB1bmRlcmx5aW5nIHRlbXBsYXRlIGVsZW1lbnQuIE90aGVyd2lzZSwgd2UgY3JlYXRlIG9uZSBoZXJlXG4gICAgLy8gdG8gZ2l2ZSB0byBTaGFkeUNTUywgd2hpY2ggc3RpbGwgcmVxdWlyZXMgb25lIHdoaWxlIHNjb3BpbmcuXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gISF0ZW1wbGF0ZSA/IHRlbXBsYXRlLmVsZW1lbnQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIC8vIE1vdmUgc3R5bGVzIG91dCBvZiByZW5kZXJlZCBET00gYW5kIHN0b3JlLlxuICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHN0eWxlcztcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEVuc3VyZSBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgaXMgY2FsbGVkIHRvIHN1cHBvcnQgYWRkaW5nXG4gICAgICAgIC8vIHN0eWxlcyB2aWEgYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGAgc2luY2UgdGhhdCByZXF1aXJlcyB0aGF0XG4gICAgICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGlzIGNhbGxlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2hhZHlDU1Mgd2lsbCBvbmx5IHVwZGF0ZSBzdHlsZXMgY29udGFpbmluZyBAYXBwbHkgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIC8vIGdpdmVuIHRvIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgLiBJZiBubyBsaXQgVGVtcGxhdGUgd2FzIGdpdmVuLFxuICAgICAgICAvLyBTaGFkeUNTUyB3aWxsIG5vdCBiZSBhYmxlIHRvIHVwZGF0ZSB1c2VzIG9mIEBhcHBseSBpbiBhbnkgcmVsZXZhbnRcbiAgICAgICAgLy8gdGVtcGxhdGUuIEhvd2V2ZXIsIHRoaXMgaXMgbm90IGEgcHJvYmxlbSBiZWNhdXNlIHdlIG9ubHkgY3JlYXRlIHRoZVxuICAgICAgICAvLyB0ZW1wbGF0ZSBmb3IgdGhlIHB1cnBvc2Ugb2Ygc3VwcG9ydGluZyBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCxcbiAgICAgICAgLy8gd2hpY2ggZG9lc24ndCBzdXBwb3J0IEBhcHBseSBhdCBhbGwuXG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGVFbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmRlbnNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgIC8vIG1hbmlwdWxhdGlvbnMgd2lsbCBub3QgcHJldmVudCB1cyBmcm9tIGJlaW5nIGFibGUgdG8gZml4IHVwIHRlbXBsYXRlXG4gICAgLy8gcGFydCBpbmRpY2VzLlxuICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAvLyBjdXJyZW50bHkgZG9lcyB0aGlzIGFueXdheS4gV2hlbiBpdCBkb2VzIG5vdCwgdGhpcyBzaG91bGQgYmUgY2hhbmdlZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgY29uZGVuc2VkU3R5bGUudGV4dENvbnRlbnQgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgIC8vIEFuZCB0aGVuIHB1dCB0aGUgY29uZGVuc2VkIHN0eWxlIGludG8gdGhlIFwicm9vdFwiIHRlbXBsYXRlIHBhc3NlZCBpbiBhc1xuICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlRWxlbWVudC5jb250ZW50O1xuICAgIGlmICghIXRlbXBsYXRlKSB7XG4gICAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgU2hhZHlDU1MgZ2V0cyB0aGUgdGVtcGxhdGUgdGhhdCBgbGl0LWh0bWxgXG4gICAgLy8gd2lsbCBhY3R1YWxseSByZW5kZXIgc28gdGhhdCBpdCBjYW4gdXBkYXRlIHRoZSBzdHlsZSBpbnNpZGUgd2hlblxuICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZUVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISF0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBXaGVuIG5vIHN0eWxlIGlzIGxlZnQgaW4gdGhlIHRlbXBsYXRlLCBwYXJ0cyB3aWxsIGJlIGJyb2tlbiBhcyBhXG4gICAgICAgIC8vIHJlc3VsdC4gVG8gZml4IHRoaXMsIHdlIHB1dCBiYWNrIHRoZSBzdHlsZSBub2RlIFNoYWR5Q1NTIHJlbW92ZWRcbiAgICAgICAgLy8gYW5kIHRoZW4gdGVsbCBsaXQgdG8gcmVtb3ZlIHRoYXQgbm9kZSBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgLy8gVGhlcmUgY2FuIGJlIG5vIHN0eWxlIGluIHRoZSB0ZW1wbGF0ZSBpbiAyIGNhc2VzICgxKSB3aGVuIFNoYWR5IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UsIFNoYWR5Q1NTIHJlbW92ZXMgYWxsIHN0eWxlcywgKDIpIHdoZW4gbmF0aXZlIFNoYWRvdyBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlIFNoYWR5Q1NTIHJlbW92ZXMgdGhlIHN0eWxlIGlmIGl0IGNvbnRhaW5zIG5vIGNvbnRlbnQuXG4gICAgICAgIC8vIE5PVEUsIFNoYWR5Q1NTIGNyZWF0ZXMgaXRzIG93biBzdHlsZSBzbyB3ZSBjYW4gc2FmZWx5IGFkZC9yZW1vdmVcbiAgICAgICAgLy8gYGNvbmRlbnNlZFN0eWxlYCBoZXJlLlxuICAgICAgICBjb250ZW50Lmluc2VydEJlZm9yZShjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmVtb3Zlcy5hZGQoY29uZGVuc2VkU3R5bGUpO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcmVtb3Zlcyk7XG4gICAgfVxufTtcbi8qKlxuICogRXh0ZW5zaW9uIHRvIHRoZSBzdGFuZGFyZCBgcmVuZGVyYCBtZXRob2Qgd2hpY2ggc3VwcG9ydHMgcmVuZGVyaW5nXG4gKiB0byBTaGFkb3dSb290cyB3aGVuIHRoZSBTaGFkeURPTSAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHlkb20pXG4gKiBhbmQgU2hhZHlDU1MgKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBwb2x5ZmlsbHMgYXJlIHVzZWRcbiAqIG9yIHdoZW4gdGhlIHdlYmNvbXBvbmVudHNqc1xuICogKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcykgcG9seWZpbGwgaXMgdXNlZC5cbiAqXG4gKiBBZGRzIGEgYHNjb3BlTmFtZWAgb3B0aW9uIHdoaWNoIGlzIHVzZWQgdG8gc2NvcGUgZWxlbWVudCBET00gYW5kIHN0eWxlc2hlZXRzXG4gKiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdW5hdmFpbGFibGUuIFRoZSBgc2NvcGVOYW1lYCB3aWxsIGJlIGFkZGVkIHRvXG4gKiB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIGFsbCByZW5kZXJlZCBET00uIEluIGFkZGl0aW9uLCBhbnkgc3R5bGUgZWxlbWVudHMgd2lsbFxuICogYmUgYXV0b21hdGljYWxseSByZS13cml0dGVuIHdpdGggdGhpcyBgc2NvcGVOYW1lYCBzZWxlY3RvciBhbmQgbW92ZWQgb3V0XG4gKiBvZiB0aGUgcmVuZGVyZWQgRE9NIGFuZCBpbnRvIHRoZSBkb2N1bWVudCBgPGhlYWQ+YC5cbiAqXG4gKiBJdCBpcyBjb21tb24gdG8gdXNlIHRoaXMgcmVuZGVyIG1ldGhvZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgY3VzdG9tIGVsZW1lbnRcbiAqIHdoaWNoIHJlbmRlcnMgYSBzaGFkb3dSb290LiBXaGVuIHRoaXMgaXMgZG9uZSwgdHlwaWNhbGx5IHRoZSBlbGVtZW50J3NcbiAqIGBsb2NhbE5hbWVgIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBgc2NvcGVOYW1lYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBET00gc2NvcGluZywgU2hhZHlDU1MgYWxzbyBzdXBwb3J0cyBhIGJhc2ljIHNoaW0gZm9yIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgKG5lZWRlZCBvbmx5IG9uIG9sZGVyIGJyb3dzZXJzIGxpa2UgSUUxMSkgYW5kIGEgc2hpbSBmb3JcbiAqIGEgZGVwcmVjYXRlZCBmZWF0dXJlIGNhbGxlZCBgQGFwcGx5YCB0aGF0IHN1cHBvcnRzIGFwcGx5aW5nIGEgc2V0IG9mIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgdG8gYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9uczpcbiAqXG4gKiAqIFBhcnQgdmFsdWVzIGluIGA8c3R5bGU+YCBlbGVtZW50cyBhcmUgb25seSBhcHBsaWVkIHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW5cbiAqIGBzY29wZU5hbWVgIHJlbmRlcnMuIFN1YnNlcXVlbnQgY2hhbmdlcyB0byBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyB3aWxsIGhhdmVcbiAqIG5vIGVmZmVjdC4gQmVjYXVzZSBvZiB0aGlzLCBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyBzaG91bGQgb25seSBiZSB1c2VkIGZvclxuICogdmFsdWVzIHRoYXQgd2lsbCBuZXZlciBjaGFuZ2UsIGZvciBleGFtcGxlIHBhcnRzIHRoYXQgc2V0IHNjb3BlLXdpZGUgdGhlbWVcbiAqIHZhbHVlcyBvciBwYXJ0cyB3aGljaCByZW5kZXIgc2hhcmVkIHN0eWxlIGVsZW1lbnRzLlxuICpcbiAqICogTm90ZSwgZHVlIHRvIGEgbGltaXRhdGlvbiBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwsIHJlbmRlcmluZyBpbiBhXG4gKiBjdXN0b20gZWxlbWVudCdzIGBjb25zdHJ1Y3RvcmAgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCByZW5kZXJpbmcgc2hvdWxkXG4gKiBlaXRoZXIgZG9uZSBhc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgYXQgbWljcm90YXNrIHRpbWluZyAoZm9yIGV4YW1wbGVcbiAqIGBQcm9taXNlLnJlc29sdmUoKWApLCBvciBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHJ1bnMuXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnMgd2hlbiB1c2luZyBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG9yIGBAYXBwbHlgOlxuICpcbiAqICogV2hlbmV2ZXIgYW55IGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSB3aGljaCBhZmZlY3RcbiAqIGNzcyBjdXN0b20gcHJvcGVydGllcywgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudChlbGVtZW50KWAgbXVzdCBiZSBjYWxsZWRcbiAqIHRvIHVwZGF0ZSB0aGUgZWxlbWVudC4gVGhlcmUgYXJlIHR3byBjYXNlcyB3aGVuIHRoaXMgaXMgbmVlZGVkOlxuICogKDEpIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byBhIG5ldyBwYXJlbnQsICgyKSBhIGNsYXNzIGlzIGFkZGVkIHRvIHRoZVxuICogZWxlbWVudCB0aGF0IGNhdXNlcyBpdCB0byBtYXRjaCBkaWZmZXJlbnQgY3VzdG9tIHByb3BlcnRpZXMuXG4gKiBUbyBhZGRyZXNzIHRoZSBmaXJzdCBjYXNlIHdoZW4gcmVuZGVyaW5nIGEgY3VzdG9tIGVsZW1lbnQsIGBzdHlsZUVsZW1lbnRgXG4gKiBzaG91bGQgYmUgY2FsbGVkIGluIHRoZSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAqXG4gKiAqIFNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgbWF5IG9ubHkgYmUgZGVmaW5lZCBlaXRoZXIgZm9yIGFuIGVudGlyZVxuICogc2hhZG93Um9vdCAoZm9yIGV4YW1wbGUsIGluIGEgYDpob3N0YCBydWxlKSBvciB2aWEgYSBydWxlIHRoYXQgZGlyZWN0bHlcbiAqIG1hdGNoZXMgYW4gZWxlbWVudCB3aXRoIGEgc2hhZG93Um9vdC4gSW4gb3RoZXIgd29yZHMsIGluc3RlYWQgb2YgZmxvd2luZyBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgYXMgZG8gbmF0aXZlIGNzcyBjdXN0b20gcHJvcGVydGllcywgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllc1xuICogZmxvdyBvbmx5IGZyb20gc2hhZG93Um9vdHMgdG8gbmVzdGVkIHNoYWRvd1Jvb3RzLlxuICpcbiAqICogV2hlbiB1c2luZyBgQGFwcGx5YCBtaXhpbmcgY3NzIHNob3J0aGFuZCBwcm9wZXJ0eSBuYW1lcyB3aXRoXG4gKiBub24tc2hvcnRoYW5kIG5hbWVzIChmb3IgZXhhbXBsZSBgYm9yZGVyYCBhbmQgYGJvcmRlci13aWR0aGApIGlzIG5vdFxuICogc3VwcG9ydGVkLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyB8fCAhb3B0aW9ucy5zY29wZU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYHNjb3BlTmFtZWAgb3B0aW9uIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cbiAgICBjb25zdCBzY29wZU5hbWUgPSBvcHRpb25zLnNjb3BlTmFtZTtcbiAgICBjb25zdCBoYXNSZW5kZXJlZCA9IHBhcnRzLmhhcyhjb250YWluZXIpO1xuICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgY29udGFpbmVyLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8gJiZcbiAgICAgICAgISFjb250YWluZXIuaG9zdDtcbiAgICAvLyBIYW5kbGUgZmlyc3QgcmVuZGVyIHRvIGEgc2NvcGUgc3BlY2lhbGx5Li4uXG4gICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgLy8gT24gZmlyc3Qgc2NvcGUgcmVuZGVyLCByZW5kZXIgaW50byBhIGZyYWdtZW50OyB0aGlzIGNhbm5vdCBiZSBhIHNpbmdsZVxuICAgIC8vIGZyYWdtZW50IHRoYXQgaXMgcmV1c2VkIHNpbmNlIG5lc3RlZCByZW5kZXJzIGNhbiBvY2N1ciBzeW5jaHJvbm91c2x5LlxuICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9IGZpcnN0U2NvcGVSZW5kZXIgPyBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkgOiBjb250YWluZXI7XG4gICAgbGl0UmVuZGVyKHJlc3VsdCwgcmVuZGVyQ29udGFpbmVyLCBPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5OiBzaGFkeVRlbXBsYXRlRmFjdG9yeShzY29wZU5hbWUpIH0sIG9wdGlvbnMpKTtcbiAgICAvLyBXaGVuIHBlcmZvcm1pbmcgZmlyc3Qgc2NvcGUgcmVuZGVyLFxuICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgYmVmb3JlIHN1Yi1lbGVtZW50cyBoaXQgdGhlIERPTVxuICAgIC8vICh3aGljaCBtaWdodCBjYXVzZSB0aGVtIHRvIHJlbmRlciBiYXNlZCBvbiBhIGNvbW1vbiBwYXR0ZXJuIG9mXG4gICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAvLyAoMikgU2NvcGUgdGhlIHRlbXBsYXRlIHdpdGggU2hhZHlDU1Mgb25lIHRpbWUgb25seSBmb3IgdGhpcyBzY29wZS5cbiAgICAvLyAoMykgUmVuZGVyIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBjb250YWluZXIgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgIC8vIERPTSB3aWxsIGJlIHJlLXVzZWQgb24gc3Vic2VxdWVudCByZW5kZXJzLlxuICAgIGlmIChmaXJzdFNjb3BlUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5nZXQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuZGVsZXRlKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIC8vIFNoYWR5Q1NTIG1pZ2h0IGhhdmUgc3R5bGUgc2hlZXRzIChlLmcuIGZyb20gYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGApXG4gICAgICAgIC8vIHRoYXQgc2hvdWxkIGFwcGx5IHRvIGByZW5kZXJDb250YWluZXJgIGV2ZW4gaWYgdGhlIHJlbmRlcmVkIHZhbHVlIGlzXG4gICAgICAgIC8vIG5vdCBhIFRlbXBsYXRlSW5zdGFuY2UuIEhvd2V2ZXIsIGl0IHdpbGwgb25seSBpbnNlcnQgc2NvcGVkIHN0eWxlc1xuICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudCBpZiBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgICAgICAvLyBmb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gcGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgP1xuICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyhzY29wZU5hbWUsIHJlbmRlckNvbnRhaW5lciwgdGVtcGxhdGUpO1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgIH1cbiAgICAvLyBBZnRlciBlbGVtZW50cyBoYXZlIGhpdCB0aGUgRE9NLCB1cGRhdGUgc3R5bGluZyBpZiB0aGlzIGlzIHRoZVxuICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgIC8vIFRoaXMgaXMgbmVlZGVkIHdoZW5ldmVyIGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSBzbyBpdCB3b3VsZCBiZVxuICAgIC8vIHNhZmVzdCB0byBkbyBldmVyeSByZW5kZXI7IGhvd2V2ZXIsIHRoaXMgd291bGQgcmVncmVzcyBwZXJmb3JtYW5jZVxuICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudGBcbiAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgIGlmICghaGFzUmVuZGVyZWQgJiYgbmVlZHNTY29waW5nKSB7XG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQoY29udGFpbmVyLmhvc3QpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFkeS1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xudmFyIF9hO1xuLyoqXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbndpbmRvdy5KU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID1cbiAgICAocHJvcCwgX29iaikgPT4gcHJvcDtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyID0ge1xuICAgIHRvQXR0cmlidXRlKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IG51bGw7XG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBudWxsIDogTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG4vKipcbiAqIENoYW5nZSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGRpZmZlcmVudCBmcm9tIGBvbGRWYWx1ZWAuXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGZvciBhIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgbm90RXF1YWwgPSAodmFsdWUsIG9sZCkgPT4ge1xuICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgcmV0dXJuIG9sZCAhPT0gdmFsdWUgJiYgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSk7XG59O1xuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gICAgYXR0cmlidXRlOiB0cnVlLFxuICAgIHR5cGU6IFN0cmluZyxcbiAgICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gICAgcmVmbGVjdDogZmFsc2UsXG4gICAgaGFzQ2hhbmdlZDogbm90RXF1YWxcbn07XG5jb25zdCBTVEFURV9IQVNfVVBEQVRFRCA9IDE7XG5jb25zdCBTVEFURV9VUERBVEVfUkVRVUVTVEVEID0gMSA8PCAyO1xuY29uc3QgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUgPSAxIDw8IDM7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZID0gMSA8PCA0O1xuLyoqXG4gKiBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGdvb2Qgc3VwcG9ydCBmb3Igc3RhdGljXG4gKiBwcm9wZXJ0eSBzZW1hbnRpY3Mgd2hlcmUgXCJ0aGlzXCIgaXMgZHluYW1pYyAoZS5nLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3IGFuZCBvdGhlcnMpIHNvIHdlIHVzZVxuICogdGhpcyBoYWNrIHRvIGJ5cGFzcyBhbnkgcmV3cml0aW5nIGJ5IHRoZSBjb21waWxlci5cbiAqL1xuY29uc3QgZmluYWxpemVkID0gJ2ZpbmFsaXplZCc7XG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB3aGljaCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcy4gV2hlblxuICogcHJvcGVydGllcyBjaGFuZ2UsIHRoZSBgdXBkYXRlYCBtZXRob2QgaXMgYXN5bmNocm9ub3VzbHkgY2FsbGVkLiBUaGlzIG1ldGhvZFxuICogc2hvdWxkIGJlIHN1cHBsaWVkIGJ5IHN1YmNsYXNzZXJzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGRhdGluZ0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBJbml0aWFsaXplIHRvIGFuIHVucmVzb2x2ZWQgUHJvbWlzZSBzbyB3ZSBjYW4gbWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhc1xuICAgICAgICAvLyBjb25uZWN0ZWQgYmVmb3JlIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMpID0+IHRoaXMuX2VuYWJsZVVwZGF0aW5nUmVzb2x2ZXIgPSByZXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBmb3IgYW55IHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgICogdXBkYXRlIGN5Y2xlIHdpdGggcHJldmlvdXMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBmaW5hbGl6ZWQuXG4gICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCB2KTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGUgcHJpdmF0ZSBgX2NsYXNzUHJvcGVydGllc2AgcHJvcGVydHkgbWV0YWRhdGEgaXMgY3JlYXRlZC5cbiAgICAgKiBJbiBhZGRpdGlvbiB0byBgZmluYWxpemVgIHRoaXMgaXMgYWxzbyBjYWxsZWQgaW4gYGNyZWF0ZVByb3BlcnR5YCB0b1xuICAgICAqIGVuc3VyZSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIGNhbiBhZGQgcHJvcGVydHkgbWV0YWRhdGEuXG4gICAgICovXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIGVuc3VyZSBwcml2YXRlIHN0b3JhZ2UgZm9yIHByb3BlcnR5IGRlY2xhcmF0aW9ucy5cbiAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19jbGFzc1Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIC8vIE5PVEU6IFdvcmthcm91bmQgSUUxMSBub3Qgc3VwcG9ydGluZyBNYXAgY29uc3RydWN0b3IgYXJndW1lbnQuXG4gICAgICAgICAgICBjb25zdCBzdXBlclByb3BlcnRpZXMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2NsYXNzUHJvcGVydGllcztcbiAgICAgICAgICAgIGlmIChzdXBlclByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHN1cGVyUHJvcGVydGllcy5mb3JFYWNoKCh2LCBrKSA9PiB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KGssIHYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgICAqIGFuZCBzdG9yZXMgYSBQcm9wZXJ0eURlY2xhcmF0aW9uIGZvciB0aGUgcHJvcGVydHkgd2l0aCB0aGUgZ2l2ZW4gb3B0aW9ucy5cbiAgICAgKiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBwcm9wZXJ0eSBvcHRpb25cbiAgICAgKiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdCB0byByZXF1ZXN0XG4gICAgICogYW4gdXBkYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gY3VzdG9taXplIHByb3BlcnRpZXM7IGhvd2V2ZXIsXG4gICAgICogd2hlbiBkb2luZyBzbywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXIuY3JlYXRlUHJvcGVydHlgIHRvIGVuc3VyZVxuICAgICAqIHRoZSBwcm9wZXJ0eSBpcyBzZXR1cCBjb3JyZWN0bHkuIFRoaXMgbWV0aG9kIGNhbGxzXG4gICAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAgaW50ZXJuYWxseSB0byBnZXQgYSBkZXNjcmlwdG9yIHRvIGluc3RhbGwuXG4gICAgICogVG8gY3VzdG9taXplIHdoYXQgcHJvcGVydGllcyBkbyB3aGVuIHRoZXkgYXJlIGdldCBvciBzZXQsIG92ZXJyaWRlXG4gICAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAuIFRvIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSxcbiAgICAgKiBpbXBsZW1lbnQgYGNyZWF0ZVByb3BlcnR5YCBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAgICogICBzdXBlci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgLy8gTm90ZSwgc2luY2UgdGhpcyBjYW4gYmUgY2FsbGVkIGJ5IHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3Igd2hpY2hcbiAgICAgICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgc3RvcmFnZSBleGlzdHMgZm9yIHByb3BlcnR5XG4gICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgLy8gRG8gbm90IGdlbmVyYXRlIGFuIGFjY2Vzc29yIGlmIHRoZSBwcm90b3R5cGUgYWxyZWFkeSBoYXMgb25lLCBzaW5jZVxuICAgICAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgZXhwZWN0IHVzZXJzIHRvIGNhbGwgYHJlcXVlc3RVcGRhdGVgIHRoZW1zZWx2ZXMgZnJvbVxuICAgICAgICAvLyB1c2VyLWRlZmluZWQgYWNjZXNzb3JzLiBOb3RlIHRoYXQgaWYgdGhlIHN1cGVyIGhhcyBhbiBhY2Nlc3NvciB3ZSB3aWxsXG4gICAgICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgICAgICBpZiAob3B0aW9ucy5ub0FjY2Vzc29yIHx8IHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAgICogSWYgbm8gZGVzY3JpcHRvciBpcyByZXR1cm5lZCwgdGhlIHByb3BlcnR5IHdpbGwgbm90IGJlY29tZSBhbiBhY2Nlc3Nvci5cbiAgICAgKiBGb3IgZXhhbXBsZSxcbiAgICAgKlxuICAgICAqICAgY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAgICogICAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKSB7XG4gICAgICogICAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0b3IgPVxuICAgICAqICAgICAgICAgICBzdXBlci5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICAgKiAgICAgICBjb25zdCBzZXR0ZXIgPSBkZWZhdWx0RGVzY3JpcHRvci5zZXQ7XG4gICAgICogICAgICAgcmV0dXJuIHtcbiAgICAgKiAgICAgICAgIGdldDogZGVmYXVsdERlc2NyaXB0b3IuZ2V0LFxuICAgICAqICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICogICAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgKiAgICAgICAgICAgLy8gY3VzdG9tIGFjdGlvbi5cbiAgICAgKiAgICAgICAgIH0sXG4gICAgICogICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICogICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBfb3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG9wdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBQcm9wZXJ0eURlY2xhcmF0aW9uIHZpYSB0aGUgYHByb3BlcnRpZXNgXG4gICAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAgICogYGNyZWF0ZVByb3BlcnR5KC4uLilgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICAgKiBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIG92ZXJyaWRlIGBjcmVhdGVQcm9wZXJ0eWAuXG4gICAgICpcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqIEBmaW5hbFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xhc3NQcm9wZXJ0aWVzICYmIHRoaXMuX2NsYXNzUHJvcGVydGllcy5nZXQobmFtZSkgfHxcbiAgICAgICAgICAgIGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAgICogYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICAgICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBpZiAoIXN1cGVyQ3Rvci5oYXNPd25Qcm9wZXJ0eShmaW5hbGl6ZWQpKSB7XG4gICAgICAgICAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW2ZpbmFsaXplZF0gPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgICAgICAvLyBhbnkgcHJvcGVydGllcyBkZWZpbmVkIG9uIHRoZSBzdXBlckNsYXNzLCBhbmQgZmluYWxpemF0aW9uIGVuc3VyZXNcbiAgICAgICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgICAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgICAgICAgICAuLi4odHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpID9cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgICAgICAgICBbXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUsIHVzZSBvZiBgYW55YCBpcyBkdWUgdG8gVHlwZVNyaXB0IGxhY2sgb2Ygc3VwcG9ydCBmb3Igc3ltYm9sIGluXG4gICAgICAgICAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgICAgICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIDpcbiAgICAgICAgICAgICAgICAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICAgKiBDYWxsZWQgd2hlbiBhIHByb3BlcnR5IHZhbHVlIGlzIHNldCBhbmQgdXNlcyB0aGUgYGhhc0NoYW5nZWRgXG4gICAgICogb3B0aW9uIGZvciB0aGUgcHJvcGVydHkgaWYgcHJlc2VudCBvciBhIHN0cmljdCBpZGVudGl0eSBjaGVjay5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfdmFsdWVIYXNDaGFuZ2VkKHZhbHVlLCBvbGQsIGhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQ2FsbGVkIHZpYSB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgYW5kIHVzZXMgdGhlIHByb3BlcnR5J3NcbiAgICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgZnJvbUF0dHJpYnV0ZSA9ICh0eXBlb2YgY29udmVydGVyID09PSAnZnVuY3Rpb24nID8gY29udmVydGVyIDogY29udmVydGVyLmZyb21BdHRyaWJ1dGUpO1xuICAgICAgICByZXR1cm4gZnJvbUF0dHJpYnV0ZSA/IGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIDogdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAgICogcmV0dXJucyB1bmRlZmluZWQsIHRoZSBwcm9wZXJ0eSB3aWxsICpub3QqIGJlIHJlZmxlY3RlZCB0byBhbiBhdHRyaWJ1dGUuXG4gICAgICogSWYgdGhpcyByZXR1cm5zIG51bGwsIHRoZSBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkLCBvdGhlcndpc2UgdGhlXG4gICAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICAgKiBUaGlzIHVzZXMgdGhlIHByb3BlcnR5J3MgYHJlZmxlY3RgIGFuZCBgdHlwZS50b0F0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9ucy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgICBjb25zdCB0b0F0dHJpYnV0ZSA9IGNvbnZlcnRlciAmJiBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUgfHxcbiAgICAgICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZlxuICAgICAgICAvLyBgdXBkYXRlQ29tcGxldGVgXG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgICAqICg8PTQxKSwgcHJvcGVydGllcyBjcmVhdGVkIGZvciBuYXRpdmUgcGxhdGZvcm0gcHJvcGVydGllcyBsaWtlIChgaWRgIG9yXG4gICAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgICAqIGRlZmF1bHQgdmFsdWUgd2lsbCBvdmVyd3JpdGUgYW55IGVsZW1lbnQgZGVmYXVsdCAoZS5nLiBpZiB0aGUgZWxlbWVudCBzZXRzXG4gICAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICAgKi9cbiAgICBfc2F2ZUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHRoaXNbcF0gPSB2KTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgLy8gRW5zdXJlIGZpcnN0IGNvbm5lY3Rpb24gY29tcGxldGVzIGFuIHVwZGF0ZS4gVXBkYXRlcyBjYW5ub3QgY29tcGxldGVcbiAgICAgICAgLy8gYmVmb3JlIGNvbm5lY3Rpb24uXG4gICAgICAgIHRoaXMuZW5hYmxlVXBkYXRpbmcoKTtcbiAgICB9XG4gICAgZW5hYmxlVXBkYXRpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbmFibGVVcGRhdGluZ1Jlc29sdmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVVwZGF0aW5nUmVzb2x2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVVwZGF0aW5nUmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgICAqIHJlc2VydmluZyB0aGUgcG9zc2liaWxpdHkgb2YgbWFraW5nIG5vbi1icmVha2luZyBmZWF0dXJlIGFkZGl0aW9uc1xuICAgICAqIHdoZW4gZGlzY29ubmVjdGluZyBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN5bmNocm9uaXplcyBwcm9wZXJ0eSB2YWx1ZXMgd2hlbiBhdHRyaWJ1dGVzIGNoYW5nZS5cbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSkge1xuICAgICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbikge1xuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgYXR0ciA9IGN0b3IuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gY3Rvci5fcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIGFuIHVuZGVmaW5lZCB2YWx1ZSBkb2VzIG5vdCBjaGFuZ2UgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRyYWNrIGlmIHRoZSBwcm9wZXJ0eSBpcyBiZWluZyByZWZsZWN0ZWQgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNldHRpbmcgdGhlIHByb3BlcnR5IGFnYWluIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYC4gTm90ZTpcbiAgICAgICAgICAgIC8vIDEuIHRoaXMgdGFrZXMgYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgdGhlIGNhbGxiYWNrIGlzIHN5bmNocm9ub3VzLlxuICAgICAgICAgICAgLy8gMi4gd2lsbCBiZWhhdmUgaW5jb3JyZWN0bHkgaWYgbXVsdGlwbGUgYXR0cmlidXRlcyBhcmUgaW4gdGhlIHJlYWN0aW9uXG4gICAgICAgICAgICAvLyBzdGFjayBhdCB0aW1lIG9mIGNhbGxpbmcuIEhvd2V2ZXIsIHNpbmNlIHdlIHByb2Nlc3MgYXR0cmlidXRlc1xuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAgdGhpcyBzaG91bGQgbm90IGJlIHBvc3NpYmxlIChvciBhbiBleHRyZW1lIGNvcm5lciBjYXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlJ2QgbGlrZSB0byBkaXNjb3ZlcikuXG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgZGVzZXJpYWxpemluZyBhdHRyaWJ1dGUgdmFsdWUgaWYgaXQgd2FzXG4gICAgICAgIC8vIGp1c3Qgc2V0IGZyb20gYSBwcm9wZXJ0eSBzZXR0ZXIuXG4gICAgICAgIGlmICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIC8vIE5vdGUsIGhpbnQgdGhpcyBhcyBhbiBgQXR0cmlidXRlTWFwYCBzbyBjbG9zdXJlIGNsZWFybHkgdW5kZXJzdGFuZHNcbiAgICAgICAgLy8gdGhlIHR5cGU7IGl0IGhhcyBpc3N1ZXMgd2l0aCB0cmFja2luZyB0eXBlcyB0aHJvdWdoIHN0YXRpY3NcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG4gICAgICAgIGNvbnN0IHByb3BOYW1lID0gY3Rvci5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5nZXQobmFtZSk7XG4gICAgICAgIGlmIChwcm9wTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMocHJvcE5hbWUpO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID1cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgcHJpdmF0ZSB2ZXJzaW9uIG9mIGByZXF1ZXN0VXBkYXRlYCBkb2VzIG5vdCBhY2Nlc3Mgb3IgcmV0dXJuIHRoZVxuICAgICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICAgKiBub3QgZnJlZSB0byBhY2Nlc3MuXG4gICAgICovXG4gICAgX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5nZXRQcm9wZXJ0eU9wdGlvbnMobmFtZSk7XG4gICAgICAgICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKHRoaXNbbmFtZV0sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0eSB0byBgX3JlZmxlY3RpbmdQcm9wZXJ0aWVzYC4gVGhpcyBlbnN1cmVzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgKyBwcm9wZXJ0eSByZWZsZWN0cyBjb3JyZWN0bHkuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgcmVxdWVzdCBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGFzUmVxdWVzdGVkVXBkYXRlICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVByb21pc2UgPSB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGRcbiAgICAgKiBiZSBjYWxsZWQgd2hlbiBhbiBlbGVtZW50IHNob3VsZCB1cGRhdGUgYmFzZWQgb24gc29tZSBzdGF0ZSBub3QgdHJpZ2dlcmVkXG4gICAgICogYnkgc2V0dGluZyBhIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgICAqIHByb3BlcnR5IGBuYW1lYCBhbmQgYG9sZFZhbHVlYCB0byBlbnN1cmUgdGhhdCBhbnkgY29uZmlndXJlZCBwcm9wZXJ0eVxuICAgICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuIFJldHVybnMgdGhlIGB1cGRhdGVDb21wbGV0ZWAgUHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZFxuICAgICAqIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbmFtZSB7UHJvcGVydHlLZXl9IChvcHRpb25hbCkgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHBhcmFtIG9sZFZhbHVlIHthbnl9IChvcHRpb25hbCkgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlcy5cbiAgICAgKi9cbiAgICByZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAgICovXG4gICAgYXN5bmMgX2VucXVldWVVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGFueSBwcmV2aW91cyB1cGRhdGUgaGFzIHJlc29sdmVkIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgIC8vIFRoaXMgYGF3YWl0YCBhbHNvIGVuc3VyZXMgdGhhdCBwcm9wZXJ0eSBjaGFuZ2VzIGFyZSBiYXRjaGVkLlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWdub3JlIGFueSBwcmV2aW91cyBlcnJvcnMuIFdlIG9ubHkgY2FyZSB0aGF0IHRoZSBwcmV2aW91cyBjeWNsZSBpc1xuICAgICAgICAgICAgLy8gZG9uZS4gQW55IGVycm9yIHNob3VsZCBoYXZlIGJlZW4gaGFuZGxlZCBpbiB0aGUgcHJldmlvdXMgdXBkYXRlLlxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgICAvLyBJZiBgcGVyZm9ybVVwZGF0ZWAgcmV0dXJucyBhIFByb21pc2UsIHdlIGF3YWl0IGl0LiBUaGlzIGlzIGRvbmUgdG9cbiAgICAgICAgLy8gZW5hYmxlIGNvb3JkaW5hdGluZyB1cGRhdGVzIHdpdGggYSBzY2hlZHVsZXIuIE5vdGUsIHRoZSByZXN1bHQgaXNcbiAgICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGU7XG4gICAgfVxuICAgIGdldCBfaGFzUmVxdWVzdGVkVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gICAgfVxuICAgIGdldCBoYXNVcGRhdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgICAqIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIucGVyZm9ybVVwZGF0ZSgpYCBtdXN0IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgKiAgIHN1cGVyLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbWFya1VwZGF0ZWQoKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX1VQREFURV9SRVFVRVNURUQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgX2dldFVwZGF0ZUNvbXBsZXRlYFxuICAgICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci5fZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgcmV0dXJucyBhIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlXG4gICAgICogdXBkYXRlIHJlc29sdmVkIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEl0IGlzIG5vdCBzYWZlIHRvIG92ZXJyaWRlIHRoZSBgdXBkYXRlQ29tcGxldGVgIGdldHRlciBkaXJlY3RseSBkdWUgdG8gYVxuICAgICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgICAqIGxhbmd1YWdlIGlzIEVTNSAoaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzgpLlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICAgKiAgICAgYXN5bmMgX2dldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgICAqICAgICAgIGF3YWl0IHN1cGVyLl9nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgICAqICAgICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKi9cbiAgICBfZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAgICogYW5vdGhlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShrLCB0aGlzW2tdLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICB9XG59XG5fYSA9IGZpbmFsaXplZDtcbi8qKlxuICogTWFya3MgY2xhc3MgYXMgaGF2aW5nIGZpbmlzaGVkIGNyZWF0aW5nIHByb3BlcnRpZXMuXG4gKi9cblVwZGF0aW5nRWxlbWVudFtfYV0gPSB0cnVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBkYXRpbmctZWxlbWVudC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5jb25zdCBsZWdhY3lDdXN0b21FbGVtZW50ID0gKHRhZ05hbWUsIGNsYXp6KSA9PiB7XG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgLy8gQ2FzdCBhcyBhbnkgYmVjYXVzZSBUUyBkb2Vzbid0IHJlY29nbml6ZSB0aGUgcmV0dXJuIHR5cGUgYXMgYmVpbmcgYVxuICAgIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gICAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgZm9yIHNvbWUgcmVhc29uLlxuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGlzIGhlbHBmdWwgdG8gbWFrZSBzdXJlIHRoZSBkZWNvcmF0b3IgaXNcbiAgICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgIHJldHVybiBjbGF6ejtcbn07XG5jb25zdCBzdGFuZGFyZEN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGNvbnN0IHsga2luZCwgZWxlbWVudHMgfSA9IGRlc2NyaXB0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIGBgYFxuICogQGN1c3RvbUVsZW1lbnQoJ215LWVsZW1lbnQnKVxuICogY2xhc3MgTXlFbGVtZW50IHtcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYGA7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b21FbGVtZW50ID0gKHRhZ05hbWUpID0+IChjbGFzc09yRGVzY3JpcHRvcikgPT4gKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuY29uc3Qgc3RhbmRhcmRQcm9wZXJ0eSA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgLy8gV2hlbiBkZWNvcmF0aW5nIGFuIGFjY2Vzc29yLCBwYXNzIGl0IHRocm91Z2ggYW5kIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiYgZWxlbWVudC5kZXNjcmlwdG9yICYmXG4gICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVsZW1lbnQpLCB7IGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZmllbGQnLFxuICAgICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiB7fSxcbiAgICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy85MjYwIGV4dHJhczogW1xuICAgICAgICAgICAgLy8gICB7XG4gICAgICAgICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAgIC8vICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyBdLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmluaXRpYWxpemVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBwcm90by5jb25zdHJ1Y3RvclxuICAgICAgICAuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgTGl0RWxlbWVudCBwcm9wZXJ0eSB3aGljaCByZWZsZWN0cyBhXG4gKiBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gQSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgbWF5IG9wdGlvbmFsbHkgYmVcbiAqIHN1cHBsaWVkIHRvIGNvbmZpZ3VyZSBwcm9wZXJ0eSBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGRlY29yYXRvciBzaG91bGQgb25seSBiZSB1c2VkIGZvciBwdWJsaWMgZmllbGRzLiBQcml2YXRlIG9yIHByb3RlY3RlZFxuICogZmllbGRzIHNob3VsZCB1c2UgdGhlIGludGVybmFsUHJvcGVydHkgZGVjb3JhdG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgICAgICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pXG4gKiAgICAgICBjbGlja2VkID0gZmFsc2U7XG4gKiAgICAgfVxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvcGVydHkob3B0aW9ucykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICBsZWdhY3lQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICBzdGFuZGFyZFByb3BlcnR5KG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yKTtcbn1cbi8qKlxuICogRGVjbGFyZXMgYSBwcml2YXRlIG9yIHByb3RlY3RlZCBwcm9wZXJ0eSB0aGF0IHN0aWxsIHRyaWdnZXJzIHVwZGF0ZXMgdG8gdGhlXG4gKiBlbGVtZW50IHdoZW4gaXQgY2hhbmdlcy5cbiAqXG4gKiBQcm9wZXJ0aWVzIGRlY2xhcmVkIHRoaXMgd2F5IG11c3Qgbm90IGJlIHVzZWQgZnJvbSBIVE1MIG9yIEhUTUwgdGVtcGxhdGluZ1xuICogc3lzdGVtcywgdGhleSdyZSBzb2xlbHkgZm9yIHByb3BlcnRpZXMgaW50ZXJuYWwgdG8gdGhlIGVsZW1lbnQuIFRoZXNlXG4gKiBwcm9wZXJ0aWVzIG1heSBiZSByZW5hbWVkIGJ5IG9wdGltaXphdGlvbiB0b29scyBsaWtlIGNsb3N1cmUgY29tcGlsZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcm5hbFByb3BlcnR5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlLCBoYXNDaGFuZ2VkOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGFzQ2hhbmdlZCB9KTtcbn1cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogZXhlY3V0ZXMgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZSBlbGVtZW50J3MgcmVuZGVyUm9vdC5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0b3IgQSBET01TdHJpbmcgY29udGFpbmluZyBvbmUgb3IgbW9yZSBzZWxlY3RvcnMgdG8gbWF0Y2guXG4gKlxuICogU2VlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvclxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgICAgICBAcXVlcnkoJyNmaXJzdCcpXG4gKiAgICAgICBmaXJzdDtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYFxuICogICAgICAgICAgIDxkaXYgaWQ9XCJmaXJzdFwiPjwvZGl2PlxuICogICAgICAgICAgIDxkaXYgaWQ9XCJzZWNvbmRcIj48L2Rpdj5cbiAqICAgICAgICAgYDtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnkoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbi8vIE5vdGUsIGluIHRoZSBmdXR1cmUsIHdlIG1heSBleHRlbmQgdGhpcyBkZWNvcmF0b3IgdG8gc3VwcG9ydCB0aGUgdXNlIGNhc2Vcbi8vIHdoZXJlIHRoZSBxdWVyaWVkIGVsZW1lbnQgbWF5IG5lZWQgdG8gZG8gd29yayB0byBiZWNvbWUgcmVhZHkgdG8gaW50ZXJhY3Rcbi8vIHdpdGggKGUuZy4gbG9hZCBzb21lIGltcGxlbWVudGF0aW9uIGNvZGUpLiBJZiBzbywgd2UgbWlnaHQgZWxlY3QgdG9cbi8vIGFkZCBhIHNlY29uZCBhcmd1bWVudCBkZWZpbmluZyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHJ1biB0byBtYWtlIHRoZVxuLy8gcXVlcmllZCBlbGVtZW50IGxvYWRlZC91cGRhdGVkL3JlYWR5LlxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSByZXN1bHQgb2YgYSBxdWVyeVNlbGVjdG9yIG9uIHRoZVxuICogZWxlbWVudCdzIHJlbmRlclJvb3QgZG9uZSBhZnRlciB0aGUgZWxlbWVudCdzIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZVxuICogcmVzb2x2ZXMuIFdoZW4gdGhlIHF1ZXJpZWQgcHJvcGVydHkgbWF5IGNoYW5nZSB3aXRoIGVsZW1lbnQgc3RhdGUsIHRoaXNcbiAqIGRlY29yYXRvciBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIHJlcXVpcmluZyB1c2VycyB0byBhd2FpdCB0aGVcbiAqIGB1cGRhdGVDb21wbGV0ZWAgYmVmb3JlIGFjY2Vzc2luZyB0aGUgcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHNlbGVjdG9yIEEgRE9NU3RyaW5nIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc2VsZWN0b3JzIHRvIG1hdGNoLlxuICpcbiAqIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L3F1ZXJ5U2VsZWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICogICAgICAgQHF1ZXJ5QXN5bmMoJyNmaXJzdCcpXG4gKiAgICAgICBmaXJzdDtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYFxuICogICAgICAgICAgIDxkaXYgaWQ9XCJmaXJzdFwiPjwvZGl2PlxuICogICAgICAgICAgIDxkaXYgaWQ9XCJzZWNvbmRcIj48L2Rpdj5cbiAqICAgICAgICAgYDtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKlxuICogICAgIC8vIGV4dGVybmFsIHVzYWdlXG4gKiAgICAgYXN5bmMgZG9Tb21ldGhpbmdXaXRoRmlyc3QoKSB7XG4gKiAgICAgIChhd2FpdCBhTXlFbGVtZW50LmZpcnN0KS5kb1NvbWV0aGluZygpO1xuICogICAgIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QXN5bmMoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGFzeW5jIGdldCgpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIERPTVN0cmluZyBjb250YWluaW5nIG9uZSBvciBtb3JlIHNlbGVjdG9ycyB0byBtYXRjaC5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRG9jdW1lbnQvcXVlcnlTZWxlY3RvckFsbFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgICAgICBAcXVlcnlBbGwoJ2RpdicpXG4gKiAgICAgICBkaXZzO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICAgICAgPGRpdiBpZD1cInNlY29uZFwiPjwvZGl2PlxuICogICAgICAgICBgO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QWxsKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIChwcm90b09yRGVzY3JpcHRvciwgXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBkZWNvcmF0b3JcbiAgICBuYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gKG5hbWUgIT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICAgbGVnYWN5UXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgICAgIHN0YW5kYXJkUXVlcnkoZGVzY3JpcHRvciwgcHJvdG9PckRlc2NyaXB0b3IpO1xuICAgIH07XG59XG5jb25zdCBsZWdhY3lRdWVyeSA9IChkZXNjcmlwdG9yLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7XG59O1xuY29uc3Qgc3RhbmRhcmRRdWVyeSA9IChkZXNjcmlwdG9yLCBlbGVtZW50KSA9PiAoe1xuICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gICAga2V5OiBlbGVtZW50LmtleSxcbiAgICBkZXNjcmlwdG9yLFxufSk7XG5jb25zdCBzdGFuZGFyZEV2ZW50T3B0aW9ucyA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCksIHsgZmluaXNoZXIoY2xhenopIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2xhenoucHJvdG90eXBlW2VsZW1lbnQua2V5XSwgb3B0aW9ucyk7XG4gICAgICAgIH0gfSk7XG59O1xuY29uc3QgbGVnYWN5RXZlbnRPcHRpb25zID0gXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGxlZ2FjeSBkZWNvcmF0b3JcbihvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIE9iamVjdC5hc3NpZ24ocHJvdG9bbmFtZV0sIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQWRkcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIHRvIGEgbWV0aG9kIHVzZWQgYXMgYW4gZXZlbnQgbGlzdGVuZXIgaW4gYVxuICogbGl0LWh0bWwgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgQW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgICAgICBjbGlja2VkID0gZmFsc2U7XG4gKlxuICogICAgICAgcmVuZGVyKCkge1xuICogICAgICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgICA8ZGl2IEBjbGljaz0ke3RoaXMuX29uQ2xpY2t9YD5cbiAqICAgICAgICAgICAgIDxidXR0b24+PC9idXR0b24+XG4gKiAgICAgICAgICAgPC9kaXY+XG4gKiAgICAgICAgIGA7XG4gKiAgICAgICB9XG4gKlxuICogICAgICAgQGV2ZW50T3B0aW9ucyh7Y2FwdHVyZTogdHJ1ZX0pXG4gKiAgICAgICBfb25DbGljayhlKSB7XG4gKiAgICAgICAgIHRoaXMuY2xpY2tlZCA9IHRydWU7XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAvLyBSZXR1cm4gdmFsdWUgdHlwZWQgYXMgYW55IHRvIHByZXZlbnQgVHlwZVNjcmlwdCBmcm9tIGNvbXBsYWluaW5nIHRoYXRcbiAgICAvLyBzdGFuZGFyZCBkZWNvcmF0b3IgZnVuY3Rpb24gc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIFR5cGVTY3JpcHQgZGVjb3JhdG9yXG4gICAgLy8gc2lnbmF0dXJlXG4gICAgLy8gVE9ETyhrc2NoYWFmKTogdW5jbGVhciB3aHkgaXQgd2FzIG9ubHkgZmFpbGluZyBvbiB0aGlzIGRlY29yYXRvciBhbmQgbm90XG4gICAgLy8gdGhlIG90aGVyc1xuICAgIHJldHVybiAoKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgIGxlZ2FjeUV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcikpO1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiByZXR1cm5zIHRoZSBgYXNzaWduZWROb2Rlc2Agb2YgdGhlIGdpdmVuIG5hbWVkIGBzbG90YC4gTm90ZSwgdGhlIHR5cGUgb2ZcbiAqIHRoaXMgcHJvcGVydHkgc2hvdWxkIGJlIGFubm90YXRlZCBhcyBgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD5gLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QXNzaWduZWROb2RlcyhzbG90TmFtZSA9ICcnLCBmbGF0dGVuID0gZmFsc2UpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9IGBzbG90JHtzbG90TmFtZSA/IGBbbmFtZT0ke3Nsb3ROYW1lfV1gIDogJyd9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzbG90ICYmIHNsb3QuYXNzaWduZWROb2Rlcyh7IGZsYXR0ZW4gfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSAoJ2Fkb3B0ZWRTdHlsZVNoZWV0cycgaW4gRG9jdW1lbnQucHJvdG90eXBlKSAmJlxuICAgICgncmVwbGFjZScgaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUpO1xuY29uc3QgY29uc3RydWN0aW9uVG9rZW4gPSBTeW1ib2woKTtcbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQsIHNhZmVUb2tlbikge1xuICAgICAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDU1NSZXN1bHQgaXMgbm90IGNvbnN0cnVjdGFibGUuIFVzZSBgdW5zYWZlQ1NTYCBvciBgY3NzYCBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3NzVGV4dCA9IGNzc1RleHQ7XG4gICAgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gICAgLy8gc3R5bGVzaGVldHMgYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAgICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NzVGV4dDtcbiAgICB9XG59XG4vKipcbiAqIFdyYXAgYSB2YWx1ZSBmb3IgaW50ZXJwb2xhdGlvbiBpbiBhIGNzcyB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbC5cbiAqXG4gKiBUaGlzIGlzIHVuc2FmZSBiZWNhdXNlIHVudHJ1c3RlZCBDU1MgdGV4dCBjYW4gYmUgdXNlZCB0byBwaG9uZSBob21lXG4gKiBvciBleGZpbHRyYXRlIGRhdGEgdG8gYW4gYXR0YWNrZXIgY29udHJvbGxlZCBzaXRlLiBUYWtlIGNhcmUgdG8gb25seSB1c2VcbiAqIHRoaXMgd2l0aCB0cnVzdGVkIGlucHV0LlxuICovXG5leHBvcnQgY29uc3QgdW5zYWZlQ1NTID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBDU1NSZXN1bHQoU3RyaW5nKHZhbHVlKSwgY29uc3RydWN0aW9uVG9rZW4pO1xufTtcbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVmFsdWUgcGFzc2VkIHRvICdjc3MnIGZ1bmN0aW9uIG11c3QgYmUgYSAnY3NzJyBmdW5jdGlvbiByZXN1bHQ6ICR7dmFsdWV9LiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dFxuICAgICAgICAgICAgdGFrZSBjYXJlIHRvIGVuc3VyZSBwYWdlIHNlY3VyaXR5LmApO1xuICAgIH1cbn07XG4vKipcbiAqIFRlbXBsYXRlIHRhZyB3aGljaCB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQncyBgc3R5bGVgIHByb3BlcnR5IHRvXG4gKiBzZXQgZWxlbWVudCBzdHlsZXMuIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBtYXkgYmVcbiAqIHVzZWQuIFRvIGluY29ycG9yYXRlIG5vbi1saXRlcmFsIHZhbHVlcyBgdW5zYWZlQ1NTYCBtYXkgYmUgdXNlZCBpbnNpZGUgYVxuICogdGVtcGxhdGUgc3RyaW5nIHBhcnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiB7XG4gICAgY29uc3QgY3NzVGV4dCA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbUNTU1Jlc3VsdCh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQsIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3MtdGFnLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ2xpdC1odG1sL2xpYi9zaGFkeS1yZW5kZXIuanMnO1xuaW1wb3J0IHsgVXBkYXRpbmdFbGVtZW50IH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlY29yYXRvcnMuanMnO1xuZXhwb3J0IHsgaHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCwgU1ZHVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjMuMScpO1xuLyoqXG4gKiBTZW50aW5hbCB2YWx1ZSB1c2VkIHRvIGF2b2lkIGNhbGxpbmcgbGl0LWh0bWwncyByZW5kZXIgZnVuY3Rpb24gd2hlblxuICogc3ViY2xhc3NlcyBkbyBub3QgaW1wbGVtZW50IGByZW5kZXJgXG4gKi9cbmNvbnN0IHJlbmRlck5vdEltcGxlbWVudGVkID0ge307XG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFVwZGF0aW5nRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBhcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuXG4gICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW50ZWdyYXRlIGludG8gYSBzdHlsZSBtYW5hZ2VtZW50IHN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldFN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3R5bGVzO1xuICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpIHtcbiAgICAgICAgLy8gT25seSBnYXRoZXIgc3R5bGVzIG9uY2UgcGVyIGNsYXNzXG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19zdHlsZXMnLCB0aGlzKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUYWtlIGNhcmUgbm90IHRvIGNhbGwgYHRoaXMuZ2V0U3R5bGVzKClgIG11bHRpcGxlIHRpbWVzIHNpbmNlIHRoaXNcbiAgICAgICAgLy8gZ2VuZXJhdGVzIG5ldyBDU1NSZXN1bHRzIGVhY2ggdGltZS5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogU2luY2Ugd2UgZG8gbm90IGNhY2hlIENTU1Jlc3VsdHMgYnkgaW5wdXQsIGFueVxuICAgICAgICAvLyBzaGFyZWQgc3R5bGVzIHdpbGwgZ2VuZXJhdGUgbmV3IHN0eWxlc2hlZXQgb2JqZWN0cywgd2hpY2ggaXMgd2FzdGVmdWwuXG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIGFkZHJlc3NlZCB3aGVuIGEgYnJvd3NlciBzaGlwcyBjb25zdHJ1Y3RhYmxlXG4gICAgICAgIC8vIHN0eWxlc2hlZXRzLlxuICAgICAgICBjb25zdCB1c2VyU3R5bGVzID0gdGhpcy5nZXRTdHlsZXMoKTtcbiAgICAgICAgaWYgKHVzZXJTdHlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh1c2VyU3R5bGVzKSkge1xuICAgICAgICAgICAgLy8gRGUtZHVwbGljYXRlIHN0eWxlcyBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIHNldC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW5cbiAgICAgICAgICAgIC8vIG9jY3VyIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgLy8gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvIHRyeSB0byBwcmVzZXJ2ZSB0aGUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZVxuICAgICAgICAgICAgLy8gYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZVxuICAgICAgICAgICAgLy8gcHJldmlvdXMgc3R5bGVzLlxuICAgICAgICAgICAgY29uc3QgYWRkU3R5bGVzID0gKHN0eWxlcywgc2V0KSA9PiBzdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4gXG4gICAgICAgICAgICAvLyBOb3RlOiBPbiBJRSBzZXQuYWRkKCkgZG9lcyBub3QgcmV0dXJuIHRoZSBzZXRcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkocykgPyBhZGRTdHlsZXMocywgc2V0KSA6IChzZXQuYWRkKHMpLCBzZXQpLCBzZXQpO1xuICAgICAgICAgICAgLy8gQXJyYXkuZnJvbSBkb2VzIG5vdCB3b3JrIG9uIFNldCBpbiBJRSwgb3RoZXJ3aXNlIHJldHVyblxuICAgICAgICAgICAgLy8gQXJyYXkuZnJvbShhZGRTdHlsZXModXNlclN0eWxlcywgbmV3IFNldDxDU1NSZXN1bHQ+KCkpKS5yZXZlcnNlKClcbiAgICAgICAgICAgIGNvbnN0IHNldCA9IGFkZFN0eWxlcyh1c2VyU3R5bGVzLCBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgICAgICBzZXQuZm9yRWFjaCgodikgPT4gc3R5bGVzLnVuc2hpZnQodikpO1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVzID0gc3R5bGVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVzID0gW3VzZXJTdHlsZXNdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICAgKiB0byBjcmVhdGUgdGhlIGVsZW1lbnQgYHJlbmRlclJvb3RgIG5vZGUgYW5kIGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl9nZXRVbmlxdWVTdHlsZXMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290ID1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAgICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgICAgIC8vIHN1cHBvcnQgdGhpcyBub3cgc2luY2UgaXQgd291bGQgcmVxdWlyZSBkaWZmZXJlbnQgbG9naWMgYXJvdW5kIGRlLWR1cGluZy5cbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICAgICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgICAqIHByb3BlcnR5LiBTdHlsaW5nIHdpbGwgYXBwbHkgdXNpbmcgYHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzYCB3aGVyZVxuICAgICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgICAqIGlzIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICAgICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAgICovXG4gICAgYWRvcHRTdHlsZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcztcbiAgICAgICAgaWYgKHN0eWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgICAgIC8vICgxKSBzaGFkb3dSb290IHBvbHlmaWxsZWQ6IHVzZSBTaGFkeUNTU1xuICAgICAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgICAgIC8vIHJlbmRlcmluZ1xuICAgICAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIE5vdGUsIGZpcnN0IHVwZGF0ZS9yZW5kZXIgaGFuZGxlcyBzdHlsZUVsZW1lbnQgc28gd2Ugb25seSBjYWxsIHRoaXMgaWZcbiAgICAgICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIFNldHRpbmcgcHJvcGVydGllcyBpbiBgcmVuZGVyYCBzaG91bGQgbm90IHRyaWdnZXIgYW4gdXBkYXRlLiBTaW5jZVxuICAgICAgICAvLyB1cGRhdGVzIGFyZSBhbGxvd2VkIGFmdGVyIHN1cGVyLnVwZGF0ZSwgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgcmVuZGVyYFxuICAgICAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICAgICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpO1xuICAgICAgICBzdXBlci51cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAvLyBJZiByZW5kZXIgaXMgbm90IGltcGxlbWVudGVkIGJ5IHRoZSBjb21wb25lbnQsIGRvbid0IGNhbGwgbGl0LWh0bWwgcmVuZGVyXG4gICAgICAgIGlmICh0ZW1wbGF0ZVJlc3VsdCAhPT0gcmVuZGVyTm90SW1wbGVtZW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAucmVuZGVyKHRlbXBsYXRlUmVzdWx0LCB0aGlzLnJlbmRlclJvb3QsIHsgc2NvcGVOYW1lOiB0aGlzLmxvY2FsTmFtZSwgZXZlbnRDb250ZXh0OiB0aGlzIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gbmF0aXZlIFNoYWRvdyBET00gaXMgdXNlZCBidXQgYWRvcHRlZFN0eWxlcyBhcmUgbm90IHN1cHBvcnRlZCxcbiAgICAgICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgICAgICAvLyBwcmlvcml0eS5cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl9zdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgICAqIGFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IGxpdC1odG1sJ3MgTm9kZVBhcnQgLSB0eXBpY2FsbHkgYSBUZW1wbGF0ZVJlc3VsdC5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciB0aGUgZWxlbWVudCB0b1xuICAgICAqIHVwZGF0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJOb3RJbXBsZW1lbnRlZDtcbiAgICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgdXBkYXRpbmctZWxlbWVudC50cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuTGl0RWxlbWVudFsnZmluYWxpemVkJ10gPSB0cnVlO1xuLyoqXG4gKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSB2YWx1ZSB0byB0aGUgZWxlbWVudCdzIERPTS5cbiAqIEBwYXJhbSByZXN1bHQgVGhlIHZhbHVlIHRvIHJlbmRlci5cbiAqIEBwYXJhbSBjb250YWluZXIgTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAqIEBwYXJhbSBvcHRpb25zIEVsZW1lbnQgbmFtZS5cbiAqIEBub2NvbGxhcHNlXG4gKi9cbkxpdEVsZW1lbnQucmVuZGVyID0gcmVuZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWVsZW1lbnQuanMubWFwIiwiaW1wb3J0IHtcclxuICAgIFNlbWFwaG9yZVxyXG4gIH0gZnJvbSAnYXdhaXQtc2VtYXBob3JlJztcclxuXHJcbmVudW0gQmx1ZXRvb3RoR2F0dFN0YXRlIHtcclxuICAgIERpc2Nvbm5lY3RlZCA9IDEsXHJcbiAgICBDb25uZWN0aW5nLFxyXG4gICAgQ29ubmVjdGVkLFxyXG4gICAgRGlzY29ubmVjdGluZyxcclxuICAgIEVycm9yLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCVExFY2xhc3MgZXh0ZW5kcyBFdmVudFRhcmdldCB7XHJcbiAgICBibHVldG9vdGhEZXZpY2U6IGFueSA9IG51bGw7XHJcbiAgICBjb25uZWN0aW9uU3RyOiBzdHJpbmcgPSAnZGlzY29ubmVjdGVkJztcclxuICAgIGdhdFNlcnZlcjogYW55ID0gbnVsbDtcclxuICAgIGN1cnJlbnRTZXJ2aWNlOmFueSA9IG51bGw7XHJcbiAgICBjdXJyZW50Q2hhcmFjdGVyaXN0aWNzOmFueSA9IG51bGw7XHJcbiAgICBub3RpZnlDaGFyYWN0ZXJpc3RpY3M6IGFueSA9IG51bGw7XHJcbiAgICBwcmltYXJ5U2VydmljZU9iamVjdCA9IFtdIGFzIGFueVtdO1xyXG4gICAvLyBwcmltYXJ5U2VydmljZU9iamVjdDogYW55ID0gbnVsbDtcclxuICAgIHNlbWFwaG9yZSA9IG5ldyBTZW1hcGhvcmUoMSk7XHJcblxyXG4gICAgbWF4cmV0cnk6IG51bWJlciA9IDA7XHJcbiAgICAvLyAgIGRpc2Nvbm5lY3RibGU6IGJvb2xlYW4gPSBmYWxzZTsgLy8gb24gcHVycG9zZSBkaXNjb25uZWN0XHJcbiAgICAvLyAgIGNvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgc3RhdGU6IEJsdWV0b290aEdhdHRTdGF0ZSA9IEJsdWV0b290aEdhdHRTdGF0ZS5EaXNjb25uZWN0ZWQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYmx1ZXRvb3RoRGV2aWNlOiBhbnksIHByaW1hcnlTZXJ2aWNlT2JqZWN0OiBhbnlbXSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhEZXZpY2UgPSBibHVldG9vdGhEZXZpY2U7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJsdWV0b290aEdhdHRTdGF0ZS5EaXNjb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5wcmltYXJ5U2VydmljZU9iamVjdCA9IHByaW1hcnlTZXJ2aWNlT2JqZWN0O1xyXG4gICAgICAgIHRoaXMuU2V0Tm90aWZ5ID0gdGhpcy5TZXROb3RpZnkuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZU5vdGlmeUNoYW5nZWQgPSB0aGlzLmhhbmRsZU5vdGlmeUNoYW5nZWQuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvZyhsb2dTdHI6IFN0cmluZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGxvZ1N0cik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZShuZXdTdGF0ZTogQmx1ZXRvb3RoR2F0dFN0YXRlKSB7XHJcbiAgICAgICAgbGV0IGxvZ3N0cjogU3RyaW5nID0gXCJvbGQgc3RhdGUgPSBcIiArIEJsdWV0b290aEdhdHRTdGF0ZVt0aGlzLnN0YXRlXSArIFwiIG5ldyBzdGF0ZSA9IFwiICsgQmx1ZXRvb3RoR2F0dFN0YXRlW25ld1N0YXRlXTtcclxuICAgICAgICB0aGlzLmxvZyhsb2dzdHIpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSBCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGVkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VydmljZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RyID0gJ2Nvbm5lY3QnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0aW5nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RyID0gJ2Nvbm5lY3RpbmcnXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGluZzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0ciA9ICdkaXNjb25uZWN0aW5nJ1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0ZWQ6XHJcbiAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RyID0gJ2Nvbm5lY3RlZCdcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0ciA9ICdlcnJvcidcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc3RhdGUtY2hhbmdlJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHRpbWVvdXQoKSB7XHJcbiAgICAgIC8vICB2YXIgYlN0cmluZzpBcnJheUJ1ZmZlciA9IGF3YWl0IHRoaXMucmVhZHZhbHVlRnJvbVNlcnZpY2UoKTtcclxuICAgICAgLy8gIGF3YWl0IGJTdHJpbmc7XHJcbiAgICAgIC8vICBjb25zb2xlLmxvZyhcInJlYWRpbmcgY2hhcmlzdGljIGRvbmUgXFxuXCIpXHJcbiAgICAgIC8vICB2YXIgdGV4dCA9IHVpbnRUb1N0cmluZyhiU3RyaW5nKTtcclxuICAgICAgLy8gIGNvbnNvbGUubG9nKHRleHQpO1xyXG5cclxuICAgICAgICBpZiAoKHRoaXMubWF4cmV0cnkgPCAxMCkgJiYgKHRoaXMuc3RhdGUgPT09IEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0aW5nKSkge1xyXG4gICAgICAgICAgICB0aGlzLm1heHJldHJ5Kys7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGl0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3QoKSAvLyBlbnRyeSBwb2ludCBmb3IgY29ubmVjdCBmcm9tIG91dHNpZGVcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RlZCkgLy8gaXRzIGRpc2Nvbm5lY3RlZCBzbyByZWFkeSB0byBjb25uZWN0XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0aW5nKTtcclxuICAgICAgICAgICAgdGhpcy5tYXhyZXRyeSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGl0KCk7XHJcbiAgICAgICAgfVxyXG4gLy8gICAgICAgZWxzZSB7XHJcbiAvLyAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSAvLyB3YWl0IGEgd2hpbGUgYmVmb3JlIGNvbm5lY3RpbmcgYWdhaW4sIG1heWJlIGl0IGlzIHN0aWxsIGRpc2Nvbm5lY3RpbmdcclxuIC8vICAgICAgICAgICB7XHJcbiAvLyAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RpbmcpO1xyXG4gLy8gICAgICAgICAgICAgICB0aGlzLm1heHJldHJ5ID0gMDtcclxuIC8vICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aXQoKTtcclxuIC8vICAgICAgICAgICB9LCAyMDAwKTtcclxuIC8vICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNjb25uZWN0KGNsYXNzSW5zdGFuY2U6IEJUTEVjbGFzcykge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuYmx1ZXRvb3RoRGV2aWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGluZyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Rpc2Nvbm5lY3RpbmcgZnJvbSBCbHVldG9vdGggRGV2aWNlLi4uJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuYmx1ZXRvb3RoRGV2aWNlLmdhdHQuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmx1ZXRvb3RoRGV2aWNlLmdhdHQuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc+IEJsdWV0b290aCBEZXZpY2UgaXMgYWxyZWFkeSBkaXNjb25uZWN0ZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhEZXZpY2UgPSBudWxsO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyAgY29ubmVjdGl0KCkgLy8gY2FsbGVkIGJ5IGNvbm5lY3QgYW5kIHRoZSB0aW1lb3V0XHJcbiAgICB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5nYXRTZXJ2ZXIgPSBhd2FpdCB0aGlzLmJsdWV0b290aERldmljZS5nYXR0LmNvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGVkKTsgLy8gaWYgbm90IGNvbm5lY3RlZCBpdCB3aWxsIGdvdG8gdGhlIGNhdGNoIFxyXG4gICAgICAgICAgIFxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3RpbmcgZmFpbGVkICBcXG5cIik7XHJcbiAgICAgICAgICAgICh0aGlzLnN0YXRlID09PSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGluZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0cnkgYWdhaW4gb3ZlciA1IHNlY29uZHMgXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnRpbWVvdXQuYmluZCh0aGlzKSwgNTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJz4gQmx1ZXRvb3RoIERldmljZSBkaXNjb25uZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3Rpbmc6XHJcbiAgICAgICAgICAgIGNhc2UgQmx1ZXRvb3RoR2F0dFN0YXRlLkVycm9yOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGVkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RlZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QoKTsgLy8gY29ubmVjdCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Q2hhcmFjdGVyaXN0aWMoc2VydmljZU5yOm51bWJlcilcclxuICAgIHtcclxuICAgICAgIC8vIGlmICh0aGlzLmN1cnJlbnRTZXJ2aWNlID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VydmljZSA9IGF3YWl0IHRoaXMuZ2F0U2VydmVyLmdldFByaW1hcnlTZXJ2aWNlKHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3Rbc2VydmljZU5yXVswXS5zZXJ2aWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAvLyBpZiAodGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWNzID09IG51bGwpXHJcbiAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3MgPSBhd2FpdCB0aGlzLmN1cnJlbnRTZXJ2aWNlLmdldENoYXJhY3RlcmlzdGljKHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3Rbc2VydmljZU5yXVswXS5jaGFyYWN0ZXJpc3RpYyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVhZHZhbHVlRnJvbVNlcnZpY2Uoc2VydmljZU5yOm51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGVkKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVsZWFzZSA9IGF3YWl0IHRoaXMuc2VtYXBob3JlLmFjcXVpcmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldENoYXJhY3RlcmlzdGljKHNlcnZpY2VOcik7IC8vIGZpbGxzIHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljIFxyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gYXdhaXQgdGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWNzLnJlYWRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJhdHRlcnlMZXZlbCA9IHZhbHVlLmdldFVpbnQ4KDApO1xyXG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FyZ2ghICcgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBTZXROb3RpZnkob25PZmY6Ym9vbGVhbiwgc2VydmljZU5yOm51bWJlcilcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICBsZXQgcmVsZWFzZSA9IGF3YWl0IHRoaXMuc2VtYXBob3JlLmFjcXVpcmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldENoYXJhY3RlcmlzdGljKHNlcnZpY2VOcik7IC8vIGZpbGxzIHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljXHJcbiAgICAgICAgICAgICAgICBpZiAob25PZmYgPT09IHRydWUpIFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljcy5zdGFydE5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUNoYXJhY3RlcmlzdGljcyA9IHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdGlmeSBzZXRcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeUNoYXJhY3RlcmlzdGljcy5hZGRFdmVudExpc3RlbmVyKCdjaGFyYWN0ZXJpc3RpY3ZhbHVlY2hhbmdlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU5vdGlmeUNoYW5nZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljcy5zdG9wTm90aWZpY2F0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FyZ2ghICcgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiBcdFx0XHJcbiAgICB9XHJcbiAgICBhc3luYyAgd3JpdGV2YWx1ZVRvU2VydmljZSh2YWx1ZTpEYXRhVmlldywgc2VydmljZU5yOm51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIGxldCByZWxlYXNlID0gYXdhaXQgdGhpcy5zZW1hcGhvcmUuYWNxdWlyZSgpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0Q2hhcmFjdGVyaXN0aWMoc2VydmljZU5yKTsgLy8gZmlsbHMgdGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWMgXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3Mud3JpdGVWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXJnaCEgJyArIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgaGFuZGxlTm90aWZ5Q2hhbmdlZChldnQ6IGFueSkge1xyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIGFueSkudmFsdWU7XHJcblxyXG4gICAgICAgIHZhbHVlID0gdmFsdWUuYnVmZmVyID8gdmFsdWUgOiBuZXcgRGF0YVZpZXcodmFsdWUpO1xyXG5cclxuICAgICAgICBsZXQgbXlFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnbm90aWZ5LWRhdGEtZXZlbnQnLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDogeyBtZXNzYWdlOiB2YWx1ZSB9LFxyXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBjb21wb3NlZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iLCIvKipcclxuICogSW1wb3J0IExpdEVsZW1lbnQgYmFzZSBjbGFzcywgaHRtbCBoZWxwZXIgZnVuY3Rpb24sXHJcbiAqIGFuZCBUeXBlU2NyaXB0IGRlY29yYXRvcnNcclxuICoqL1xyXG5pbXBvcnQge1xyXG4gIExpdEVsZW1lbnQsIGh0bWwsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5XHJcbn0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG4vKmltcG9ydCB7Y2xhc3NNYXB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzJzsgKi9cclxuaW1wb3J0IEJUTEVjbGFzcyBmcm9tICcuL0JUTEVjbGFzcydcclxuXHJcbmV4cG9ydCBlbnVtIEJUTEVfQWN0aW9uIHtcclxuICAncmVhZCcsICd3cml0ZScsJ2VuYWJsZU5vdGlmeScsJ2Rpc2FibGVOb3RpZnknXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQlRMRV9TdHJ1Y3Qge1xyXG4gIHNlcnZpY2VOcjogbnVtYmVyLFxyXG4gIGFjdGlvbjogQlRMRV9BY3Rpb24sIFxyXG4gIGRhdGE6IERhdGFWaWV3XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2UgdGhlIGN1c3RvbUVsZW1lbnQgZGVjb3JhdG9yIHRvIGRlZmluZSB5b3VyIGNsYXNzIGFzXHJcbiAqIGEgY3VzdG9tIGVsZW1lbnQuIFJlZ2lzdGVycyA8bXktZWxlbWVudD4gYXMgYW4gSFRNTCB0YWcuXHJcbiAqL1xyXG5AY3VzdG9tRWxlbWVudCgnbHNnLWJsdWV0b290aCcpXHJcbmV4cG9ydCBjbGFzcyBMU0dfYmx1ZXRvb3RoIGV4dGVuZHMgTGl0RWxlbWVudHtcclxuXHJcbiAgXHJcbiAgLyoqIFxyXG4gICAqIENyZWF0ZSBhbiBvYnNlcnZlZCBwcm9wZXJ0eS4gVHJpZ2dlcnMgdXBkYXRlIG9uIGNoYW5nZS4gXHJcbiAgICovXHJcblxyXG4gIEBwcm9wZXJ0eSgpIG5hbWU6IHN0cmluZyA9ICduYW1laXQnO1xyXG4gIEBwcm9wZXJ0eSgpIGNvbm5lY3RlZFN0cjogU3RyaW5nID0gJ2Nvbm5lY3QnO1xyXG4gIEBwcm9wZXJ0eSgpIGNvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBwcm9wZXJ0eSh7dHlwZSA6IEFycmF5fSkgIHByaW1hcnlTZXJ2aWNlT2JqZWN0ID0gW1t7IHNlcnZpY2U6ICdoZWFydF9yYXRlJywgY2hhcmFjdGVyaXN0aWM6ICdoZWFydF9yYXRlX21lYXN1cmVtZW50JyB9XV07XHJcbiAgQHByb3BlcnR5KCkgcmVhZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIEBwcm9wZXJ0eSgpIGRhdGE6IERhdGFWaWV3W107XHJcbiAgQHByb3BlcnR5KCkgYnRsZWRhdGE6IEJUTEVfU3RydWN0W10gPSBudWxsO1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIHRoaXMuX2hhbmRsZUJ0R2F0dFN0YXRlQ2hhbmdlID0gdGhpcy5faGFuZGxlQnRHYXR0U3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZU5vdGlmeUNoYW5nZWQgPSB0aGlzLl9oYW5kbGVOb3RpZnlDaGFuZ2VkLmJpbmQodGhpcyk7XHJcbiBcclxuICB9XHJcblxyXG4gIC8vIGlmIHlvdSB3YW50IGFsbCBjc3Mgc3R5bGVzIGZyb20gdGhlIGh0bWwgcGFnZSBlbmFibGUgdGhpczpcclxuICAvLyBjcmVhdGVSZW5kZXJSb290KCkge1xyXG4gIC8vICAgcmV0dXJuIHRoaXM7XHJcbiAgLy8gfVxyXG5cclxuICBidXR0b25Db2xvdXIgPSAnYmx1ZSc7XHJcbiAgYnV0dG9uUG9pbnRlciA9ICdwb2ludGVyJztcclxuICBibHVldG9vdGhEZXZpY2U6YW55ID0gbnVsbDtcclxuICBibHVldG9vdGhHYXR0OkJUTEVjbGFzcyA9IG51bGw7XHJcbiAgcHJldkNvbm5lY3RlZFN0cjogU3RyaW5nID0gJyc7XHJcblxyXG5cclxuICBibHVldG9vdGhDYWxsYmFjayhjb25zdHI6c3RyaW5nKVxyXG4gIHtcclxuICAgICB0aGlzLmNvbm5lY3RlZFN0ciA9IGNvbnN0cjtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogSW1wbGVtZW50IGByZW5kZXJgIHRvIGRlZmluZSBhIHRlbXBsYXRlIGZvciB5b3VyIGVsZW1lbnQuXHJcbiAgICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgSmF2YVNjcmlwdCBleHByZXNzaW9ucyB0byBpbmNsdWRlIHByb3BlcnR5IHZhbHVlcyBpblxyXG4gICAgICogdGhlIGVsZW1lbnQgdGVtcGxhdGUuXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgaWYgKHRoaXMuY29ubmVjdGVkU3RyID09IFwiY29ubmVjdGVkXCIpXHJcbiAgICB7XHJcbiAgICAgICB0aGlzLmJ1dHRvbkNvbG91ciA9ICdncmVlbic7XHJcbiAgICAgICBcclxuICAgICAgIGlmICh0aGlzLmJ0bGVkYXRhICE9IG51bGwpXHJcbiAgICAgICB7XHJcbiAgICAgICAgIHRoaXMucHJvY2Vzc0JUTEVjb21tYW5kcygpO1xyXG4gICAgICAgICAvL2ZvciAoY29uc3QgYnRsZUFjdGlvbiBvZiB0aGlzLmJ0bGVkYXRhKXtcclxuICAgICAgICAgLy8gIGNvbnNvbGUubG9nKGJ0bGVBY3Rpb24pO1xyXG4gICAgICAgICAgLy99XHJcbiAgICAgICAgICB0aGlzLmJ0bGVkYXRhID0gbnVsbDtcclxuICAgICAgIH1cclxuICAgICAgIGlmICh0aGlzLmRhdGEgIT0gbnVsbCkgLy8gd2hlbiB0aGUgdXNlciB3YW50cyB0byB3cml0ZSBkYXRhXHJcbiAgICAgICB7XHJcbiAgICAgICAgICB2YXIgc2VuZGQgPSB0aGlzLmRhdGE7IC8vIHdlIG1ha2UgdGhpcy5kYXRhIG51bGwgc28gdXNlIGEgdmFyIGZvciB0aGUgc2Vjb25kIHdyaXRlXHJcbiAgICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQud3JpdGV2YWx1ZVRvU2VydmljZShzZW5kZFswXSwwKVxyXG4gICAgICAgICAgLnRoZW4odmFsdWUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc2VuZGQubGVuZ3RoID4gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRoaXMuYmx1ZXRvb3RoR2F0dC53cml0ZXZhbHVlVG9TZXJ2aWNlKHNlbmRkWzFdLDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XHJcbiAgICAgICB9XHJcbiAgICAgICBpZiAodGhpcy5yZWFkKSAvLyB3aGVuIHRoZSB1c2VyIHdhbnRzIHRvIHJlYWQgZm9yIGEgY2hhcmFjdGlzdGljIFxyXG4gICAgICAge1xyXG4gICAgICAgICAgdGhpcy5yZWFkQnRsZSgwKTtcclxuICAgICAgIH1cclxuICAgICAgXHJcbiAgICB9ZWxzZVxyXG4gICAgaWYgKHRoaXMuY29ubmVjdGVkU3RyID09IFwiY29ubmVjdFwiKVxyXG4gICAge1xyXG4gICAgICAgdGhpcy5idXR0b25Db2xvdXIgPSAnIzQyOWU5ZCcgO1xyXG4gICAgfWVsc2UgXHJcbiAgICBpZiAodGhpcy5jb25uZWN0ZWRTdHIgPT0gXCJjb25uZWN0aW5nXCIpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuYnV0dG9uQ29sb3VyID0gJyNhZDdkNzMnO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICB0aGlzLmJ1dHRvbkNvbG91ciA9ICdyZWQnO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJldkNvbm5lY3RlZFN0ciA9IHRoaXMuY29ubmVjdGVkU3RyO1xyXG5cclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgPHN0eWxlPlxyXG4gICAgICAgXHJcbiAgICAgICAgLmJ1dHRvbiB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmJ1dHRvbkNvbG91cn07IFxyXG4gICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICBjb2xvcjogdmFyKC0tYnRuLWNvbG9yLCB3aGl0ZSk7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgbWFyZ2luOiA0cHggNHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHggNTBweCAzMHB4O1xyXG4gICAgICAgIGN1cnNvcjogJHt0aGlzLmJ1dHRvblBvaW50ZXJ9O1xyXG4gICAgICAgIG91dGxpbmU6MDtcclxuICAgICAgICB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b25cIiBAY2xpY2s9XCIke3RoaXMuY29ubmVjdH1cIj4ke3RoaXMuY29ubmVjdGVkU3RyfSAke3RoaXMubmFtZX08L2J1dHRvbj5gO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY29ubmVjdCgpIHtcclxuICAgIGxldCBvbGRzdGF0ZSA9IHRoaXMuY29ubmVjdGVkU3RyO1xyXG5cclxuICAgIGlmICh0aGlzLmJsdWV0b290aEdhdHQgIT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQuZGlzY29ubmVjdCh0aGlzLmJsdWV0b290aEdhdHQpOyAgLy8gZGlzY29ubmVjdCBvbGQgZ2F0dFxyXG4gICAgfVxyXG4gICAgaWYgKG9sZHN0YXRlID09IFwiY29ubmVjdFwiKVxyXG4gICAge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhciBzZXJ2aWNlbGlzdCA9IFt0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0WzBdWzBdLnNlcnZpY2VdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3RbMV0pICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgc2VydmljZWxpc3QucHVzaCh0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0WzFdWzBdLnNlcnZpY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoRGV2aWNlID0gYXdhaXQgbmF2aWdhdG9yLmJsdWV0b290aC5yZXF1ZXN0RGV2aWNlKHtcclxuICAgICAgICAgIGZpbHRlcnM6IFt7IHNlcnZpY2VzOiBzZXJ2aWNlbGlzdCAgfV0sXHJcbiAgICAgICAgICBvcHRpb25hbFNlcnZpY2VzOiBzZXJ2aWNlbGlzdFxyXG5cclxuICAgICAgICAgIC8vZmlsdGVyczogW3sgc2VydmljZXM6IFt0aGlzLnN0cmVhbWluZ1NlcnZpY2UsIHRoaXMuY29udHJvbFNlcnZpY2VdIH1dLFxyXG4gICAgICAgICAgLy9vcHRpb25hbFNlcnZpY2VzOiBbdGhpcy5jb250cm9sU2VydmljZSwgdGhpcy5zdHJlYW1pbmdTZXJ2aWNlXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoR2F0dCA9IG5ldyBCVExFY2xhc3ModGhpcy5ibHVldG9vdGhEZXZpY2UsIHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3QpO1xyXG4gICAgICAgIC8vIG5lZWQgdG8gYmluZCB0byB0aGUgY2xhc3MgZWxzZSB3ZSBjYW5ub3QgY2FsbCBhbnl0aGluZyBpbnNpZGUgdGhlIGJsdWV0b290aCBjbGFzc1xyXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQzNzI3NTE2L2phdmFzY3JpcHQtaG93LWFkZGluZy1ldmVudC1oYW5kbGVyLWluc2lkZS1hLWNsYXNzLXdpdGgtYS1jbGFzcy1tZXRob2QtYXMtdGhlLWMvNDM3Mjc1ODJcclxuICAgICAgICB0aGlzLmJsdWV0b290aERldmljZS5hZGRFdmVudExpc3RlbmVyKCdnYXR0c2VydmVyZGlzY29ubmVjdGVkJywgdGhpcy5ibHVldG9vdGhHYXR0Lm9uRGlzY29ubmVjdGVkLmJpbmQodGhpcy5ibHVldG9vdGhHYXR0KSk7XHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhHYXR0LmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXRlLWNoYW5nZScsIHRoaXMuX2hhbmRsZUJ0R2F0dFN0YXRlQ2hhbmdlKTtcclxuICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZ5LWRhdGEtZXZlbnQnLCB0aGlzLl9oYW5kbGVOb3RpZnlDaGFuZ2VkKTtcclxuICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQuY29ubmVjdCgpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBcmdoISAnICsgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gICBcclxuICBhc3luYyByZWFkQnRsZShzZXJ2aWNlTnI6bnVtYmVyKVxyXG4gIHtcclxuICAgIGF3YWl0IHRoaXMuYmx1ZXRvb3RoR2F0dC5yZWFkdmFsdWVGcm9tU2VydmljZShzZXJ2aWNlTnIpXHJcbiAgICAgIC50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICB0aGlzLnJlYWQgPSBmYWxzZTtcclxuICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgbGV0IG15RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2RhdGEtZXZlbnQnLCB7XHJcbiAgICAgICAgICBkZXRhaWw6IHsgbWVzc2FnZTogdmFsdWUgfSxcclxuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICAgICAgICBjb21wb3NlZDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuICAgICAgfSwgcmVhc29uID0+IHtcclxuICAgICAgICB0aGlzLnJlYWQgPSBmYWxzZTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG4gIGFzeW5jIHByb2Nlc3NCVExFY29tbWFuZHMoKVxyXG4gIHsgXHJcbiAgICBmb3IgKGNvbnN0IGJ0bGVBY3Rpb24gb2YgdGhpcy5idGxlZGF0YSl7XHJcbiAgICAgIGlmIChidGxlQWN0aW9uLmFjdGlvbiA9PSBCVExFX0FjdGlvbi53cml0ZSlcclxuICAgICAgICBhd2FpdCB0aGlzLmJsdWV0b290aEdhdHQud3JpdGV2YWx1ZVRvU2VydmljZShidGxlQWN0aW9uLmRhdGEsIGJ0bGVBY3Rpb24uc2VydmljZU5yKTtcclxuICAgICAgaWYgIChidGxlQWN0aW9uLmFjdGlvbiA9PSBCVExFX0FjdGlvbi5yZWFkKVxyXG4gICAgICAgIGF3YWl0IHRoaXMucmVhZEJ0bGUoYnRsZUFjdGlvbi5zZXJ2aWNlTnIpOyBcclxuICAgICAgaWYgKGJ0bGVBY3Rpb24uYWN0aW9uID09IEJUTEVfQWN0aW9uLmVuYWJsZU5vdGlmeSlcclxuICAgICAgICBhd2FpdCB0aGlzLmJsdWV0b290aEdhdHQuU2V0Tm90aWZ5KHRydWUsIGJ0bGVBY3Rpb24uc2VydmljZU5yKTtcclxuICAgICAgaWYgKGJ0bGVBY3Rpb24uYWN0aW9uID09IEJUTEVfQWN0aW9uLmRpc2FibGVOb3RpZnkpXHJcbiAgICAgICAgYXdhaXQgdGhpcy5ibHVldG9vdGhHYXR0LlNldE5vdGlmeShmYWxzZSwgYnRsZUFjdGlvbi5zZXJ2aWNlTnIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUJ0R2F0dFN0YXRlQ2hhbmdlKGV2dDphbnkpIHtcclxuICAgIC8vIHVwZGF0ZSB0aGlzLmNvbm5lY3RlZFN0ciB3aGVuIHRoZSBCVExFJ3Mgc3RhZ2UgY2hhbmdlc1xyXG5cclxuICAgIHRoaXMuY29ubmVjdGVkU3RyID0gZXZ0LnRhcmdldC5jb25uZWN0aW9uU3RyO1xyXG4gICAgaWYgKHRoaXMuY29ubmVjdGVkU3RyID09ICdjb25uZWN0ZWQnKVxyXG4gICAge1xyXG4gICAgICBsZXQgbXlFdmVudCA9IG5ldyBDdXN0b21FdmVudCgnZGF0YS1ldmVudCcsIHtcclxuICAgICAgICBkZXRhaWw6IHsgbWVzc2FnZTogXCJjb25uZWN0ZWRcIiB9LFxyXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcbiAgX2hhbmRsZU5vdGlmeUNoYW5nZWQoZXZ0OmFueSlcclxuICB7XHJcbiAgICBpZiAodGhpcy5jb25uZWN0ZWRTdHIgPT0gJ2Nvbm5lY3RlZCcpXHJcbiAgICB7XHJcbiAgICAgLy8gbGV0IHZhbHVlID0gKGV2ZW50LnRhcmdldCBhcyBhbnkpLnZhbHVlO1xyXG5cclxuXHQgICAvLyB2YWx1ZSA9IHZhbHVlLmJ1ZmZlciA/IHZhbHVlIDogbmV3IERhdGFWaWV3KHZhbHVlKTtcclxuXHRcclxuXHQgICAgbGV0IG15RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2RhdGEtZXZlbnQnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7IG1lc3NhZ2U6IGV2dC5kZXRhaWwubWVzc2FnZSB9LFxyXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICAgICAgY29tcG9zZWQ6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuIiwiZXhwb3J0IHZhciBuYW1lID0gXCJkM1wiO1xuZXhwb3J0IHZhciB2ZXJzaW9uID0gXCI1LjE1LjFcIjtcbmV4cG9ydCB2YXIgZGVzY3JpcHRpb24gPSBcIkRhdGEtRHJpdmVuIERvY3VtZW50c1wiO1xuZXhwb3J0IHZhciBrZXl3b3JkcyA9IFtcImRvbVwiLFwidmlzdWFsaXphdGlvblwiLFwic3ZnXCIsXCJhbmltYXRpb25cIixcImNhbnZhc1wiXTtcbmV4cG9ydCB2YXIgaG9tZXBhZ2UgPSBcImh0dHBzOi8vZDNqcy5vcmdcIjtcbmV4cG9ydCB2YXIgbGljZW5zZSA9IFwiQlNELTMtQ2xhdXNlXCI7XG5leHBvcnQgdmFyIGF1dGhvciA9IHtcIm5hbWVcIjpcIk1pa2UgQm9zdG9ja1wiLFwidXJsXCI6XCJodHRwczovL2Jvc3Qub2Nrcy5vcmcvbWlrZVwifTtcbmV4cG9ydCB2YXIgbWFpbiA9IFwiZGlzdC9kMy5ub2RlLmpzXCI7XG5leHBvcnQgdmFyIHVucGtnID0gXCJkaXN0L2QzLm1pbi5qc1wiO1xuZXhwb3J0IHZhciBqc2RlbGl2ciA9IFwiZGlzdC9kMy5taW4uanNcIjtcbmV4cG9ydCB2YXIgbW9kdWxlID0gXCJpbmRleC5qc1wiO1xuZXhwb3J0IHZhciByZXBvc2l0b3J5ID0ge1widHlwZVwiOlwiZ2l0XCIsXCJ1cmxcIjpcImh0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy5naXRcIn07XG5leHBvcnQgdmFyIGZpbGVzID0gW1wiZGlzdC8qKi8qLmpzXCIsXCJpbmRleC5qc1wiXTtcbmV4cG9ydCB2YXIgc2NyaXB0cyA9IHtcInByZXRlc3RcIjpcInJpbXJhZiBkaXN0ICYmIG1rZGlyIGRpc3QgJiYganNvbjJtb2R1bGUgcGFja2FnZS5qc29uID4gZGlzdC9wYWNrYWdlLmpzICYmIHJvbGx1cCAtY1wiLFwidGVzdFwiOlwidGFwZSAndGVzdC8qKi8qLXRlc3QuanMnXCIsXCJwcmVwdWJsaXNoT25seVwiOlwieWFybiB0ZXN0XCIsXCJwb3N0cHVibGlzaFwiOlwiZ2l0IHB1c2ggJiYgZ2l0IHB1c2ggLS10YWdzICYmIGNkIC4uL2QzLmdpdGh1Yi5jb20gJiYgZ2l0IHB1bGwgJiYgY3AgLi4vZDMvZGlzdC9kMy5qcyBkMy52NS5qcyAmJiBjcCAuLi9kMy9kaXN0L2QzLm1pbi5qcyBkMy52NS5taW4uanMgJiYgZ2l0IGFkZCBkMy52NS5qcyBkMy52NS5taW4uanMgJiYgZ2l0IGNvbW1pdCAtbSBcXFwiZDMgJHtucG1fcGFja2FnZV92ZXJzaW9ufVxcXCIgJiYgZ2l0IHB1c2ggJiYgY2QgLSAmJiBjZCAuLi9kMy1ib3dlciAmJiBnaXQgcHVsbCAmJiBjcCAuLi9kMy9MSUNFTlNFIC4uL2QzL1JFQURNRS5tZCAuLi9kMy9kaXN0L2QzLmpzIC4uL2QzL2Rpc3QvZDMubWluLmpzIC4gJiYgZ2l0IGFkZCAtLSBMSUNFTlNFIFJFQURNRS5tZCBkMy5qcyBkMy5taW4uanMgJiYgZ2l0IGNvbW1pdCAtbSBcXFwiJHtucG1fcGFja2FnZV92ZXJzaW9ufVxcXCIgJiYgZ2l0IHRhZyAtYW0gXFxcIiR7bnBtX3BhY2thZ2VfdmVyc2lvbn1cXFwiIHYke25wbV9wYWNrYWdlX3ZlcnNpb259ICYmIGdpdCBwdXNoICYmIGdpdCBwdXNoIC0tdGFncyAmJiBjZCAtICYmIHppcCAtaiBkaXN0L2QzLnppcCAtLSBMSUNFTlNFIFJFQURNRS5tZCBBUEkubWQgQ0hBTkdFUy5tZCBkaXN0L2QzLmpzIGRpc3QvZDMubWluLmpzXCJ9O1xuZXhwb3J0IHZhciBkZXZEZXBlbmRlbmNpZXMgPSB7XCJqc29uMm1vZHVsZVwiOlwiMC4wXCIsXCJyaW1yYWZcIjpcIjJcIixcInJvbGx1cFwiOlwiMVwiLFwicm9sbHVwLXBsdWdpbi1hc2NpaVwiOlwiMC4wXCIsXCJyb2xsdXAtcGx1Z2luLW5vZGUtcmVzb2x2ZVwiOlwiM1wiLFwicm9sbHVwLXBsdWdpbi10ZXJzZXJcIjpcIjVcIixcInRhcGVcIjpcIjRcIn07XG5leHBvcnQgdmFyIGRlcGVuZGVuY2llcyA9IHtcImQzLWFycmF5XCI6XCIxXCIsXCJkMy1heGlzXCI6XCIxXCIsXCJkMy1icnVzaFwiOlwiMVwiLFwiZDMtY2hvcmRcIjpcIjFcIixcImQzLWNvbGxlY3Rpb25cIjpcIjFcIixcImQzLWNvbG9yXCI6XCIxXCIsXCJkMy1jb250b3VyXCI6XCIxXCIsXCJkMy1kaXNwYXRjaFwiOlwiMVwiLFwiZDMtZHJhZ1wiOlwiMVwiLFwiZDMtZHN2XCI6XCIxXCIsXCJkMy1lYXNlXCI6XCIxXCIsXCJkMy1mZXRjaFwiOlwiMVwiLFwiZDMtZm9yY2VcIjpcIjFcIixcImQzLWZvcm1hdFwiOlwiMVwiLFwiZDMtZ2VvXCI6XCIxXCIsXCJkMy1oaWVyYXJjaHlcIjpcIjFcIixcImQzLWludGVycG9sYXRlXCI6XCIxXCIsXCJkMy1wYXRoXCI6XCIxXCIsXCJkMy1wb2x5Z29uXCI6XCIxXCIsXCJkMy1xdWFkdHJlZVwiOlwiMVwiLFwiZDMtcmFuZG9tXCI6XCIxXCIsXCJkMy1zY2FsZVwiOlwiMlwiLFwiZDMtc2NhbGUtY2hyb21hdGljXCI6XCIxXCIsXCJkMy1zZWxlY3Rpb25cIjpcIjFcIixcImQzLXNoYXBlXCI6XCIxXCIsXCJkMy10aW1lXCI6XCIxXCIsXCJkMy10aW1lLWZvcm1hdFwiOlwiMlwiLFwiZDMtdGltZXJcIjpcIjFcIixcImQzLXRyYW5zaXRpb25cIjpcIjFcIixcImQzLXZvcm9ub2lcIjpcIjFcIixcImQzLXpvb21cIjpcIjFcIn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogYSA+PSBiID8gMCA6IE5hTjtcbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKGNvbXBhcmUubGVuZ3RoID09PSAxKSBjb21wYXJlID0gYXNjZW5kaW5nQ29tcGFyYXRvcihjb21wYXJlKTtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBmdW5jdGlvbihhLCB4LCBsbywgaGkpIHtcbiAgICAgIGlmIChsbyA9PSBudWxsKSBsbyA9IDA7XG4gICAgICBpZiAoaGkgPT0gbnVsbCkgaGkgPSBhLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgICAgIHZhciBtaWQgPSBsbyArIGhpID4+PiAxO1xuICAgICAgICBpZiAoY29tcGFyZShhW21pZF0sIHgpIDwgMCkgbG8gPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIGhpID0gbWlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxvO1xuICAgIH0sXG4gICAgcmlnaHQ6IGZ1bmN0aW9uKGEsIHgsIGxvLCBoaSkge1xuICAgICAgaWYgKGxvID09IG51bGwpIGxvID0gMDtcbiAgICAgIGlmIChoaSA9PSBudWxsKSBoaSA9IGEubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxvIDwgaGkpIHtcbiAgICAgICAgdmFyIG1pZCA9IGxvICsgaGkgPj4+IDE7XG4gICAgICAgIGlmIChjb21wYXJlKGFbbWlkXSwgeCkgPiAwKSBoaSA9IG1pZDtcbiAgICAgICAgZWxzZSBsbyA9IG1pZCArIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbG87XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmdDb21wYXJhdG9yKGYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGQsIHgpIHtcbiAgICByZXR1cm4gYXNjZW5kaW5nKGYoZCksIHgpO1xuICB9O1xufVxuIiwiaW1wb3J0IGFzY2VuZGluZyBmcm9tIFwiLi9hc2NlbmRpbmdcIjtcbmltcG9ydCBiaXNlY3RvciBmcm9tIFwiLi9iaXNlY3RvclwiO1xuXG52YXIgYXNjZW5kaW5nQmlzZWN0ID0gYmlzZWN0b3IoYXNjZW5kaW5nKTtcbmV4cG9ydCB2YXIgYmlzZWN0UmlnaHQgPSBhc2NlbmRpbmdCaXNlY3QucmlnaHQ7XG5leHBvcnQgdmFyIGJpc2VjdExlZnQgPSBhc2NlbmRpbmdCaXNlY3QubGVmdDtcbmV4cG9ydCBkZWZhdWx0IGJpc2VjdFJpZ2h0O1xuIiwiaW1wb3J0IHtwYWlyfSBmcm9tIFwiLi9wYWlyc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZXMwLCB2YWx1ZXMxLCByZWR1Y2UpIHtcbiAgdmFyIG4wID0gdmFsdWVzMC5sZW5ndGgsXG4gICAgICBuMSA9IHZhbHVlczEubGVuZ3RoLFxuICAgICAgdmFsdWVzID0gbmV3IEFycmF5KG4wICogbjEpLFxuICAgICAgaTAsXG4gICAgICBpMSxcbiAgICAgIGksXG4gICAgICB2YWx1ZTA7XG5cbiAgaWYgKHJlZHVjZSA9PSBudWxsKSByZWR1Y2UgPSBwYWlyO1xuXG4gIGZvciAoaTAgPSBpID0gMDsgaTAgPCBuMDsgKytpMCkge1xuICAgIGZvciAodmFsdWUwID0gdmFsdWVzMFtpMF0sIGkxID0gMDsgaTEgPCBuMTsgKytpMSwgKytpKSB7XG4gICAgICB2YWx1ZXNbaV0gPSByZWR1Y2UodmFsdWUwLCB2YWx1ZXMxW2kxXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcbn1cbiIsInZhciBhcnJheSA9IEFycmF5LnByb3RvdHlwZTtcblxuZXhwb3J0IHZhciBzbGljZSA9IGFycmF5LnNsaWNlO1xuZXhwb3J0IHZhciBtYXAgPSBhcnJheS5tYXA7XG4iLCJ2YXIgZTEwID0gTWF0aC5zcXJ0KDUwKSxcbiAgICBlNSA9IE1hdGguc3FydCgxMCksXG4gICAgZTIgPSBNYXRoLnNxcnQoMik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBjb3VudCkge1xuICB2YXIgcmV2ZXJzZSxcbiAgICAgIGkgPSAtMSxcbiAgICAgIG4sXG4gICAgICB0aWNrcyxcbiAgICAgIHN0ZXA7XG5cbiAgc3RvcCA9ICtzdG9wLCBzdGFydCA9ICtzdGFydCwgY291bnQgPSArY291bnQ7XG4gIGlmIChzdGFydCA9PT0gc3RvcCAmJiBjb3VudCA+IDApIHJldHVybiBbc3RhcnRdO1xuICBpZiAocmV2ZXJzZSA9IHN0b3AgPCBzdGFydCkgbiA9IHN0YXJ0LCBzdGFydCA9IHN0b3AsIHN0b3AgPSBuO1xuICBpZiAoKHN0ZXAgPSB0aWNrSW5jcmVtZW50KHN0YXJ0LCBzdG9wLCBjb3VudCkpID09PSAwIHx8ICFpc0Zpbml0ZShzdGVwKSkgcmV0dXJuIFtdO1xuXG4gIGlmIChzdGVwID4gMCkge1xuICAgIHN0YXJ0ID0gTWF0aC5jZWlsKHN0YXJ0IC8gc3RlcCk7XG4gICAgc3RvcCA9IE1hdGguZmxvb3Ioc3RvcCAvIHN0ZXApO1xuICAgIHRpY2tzID0gbmV3IEFycmF5KG4gPSBNYXRoLmNlaWwoc3RvcCAtIHN0YXJ0ICsgMSkpO1xuICAgIHdoaWxlICgrK2kgPCBuKSB0aWNrc1tpXSA9IChzdGFydCArIGkpICogc3RlcDtcbiAgfSBlbHNlIHtcbiAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQgKiBzdGVwKTtcbiAgICBzdG9wID0gTWF0aC5jZWlsKHN0b3AgKiBzdGVwKTtcbiAgICB0aWNrcyA9IG5ldyBBcnJheShuID0gTWF0aC5jZWlsKHN0YXJ0IC0gc3RvcCArIDEpKTtcbiAgICB3aGlsZSAoKytpIDwgbikgdGlja3NbaV0gPSAoc3RhcnQgLSBpKSAvIHN0ZXA7XG4gIH1cblxuICBpZiAocmV2ZXJzZSkgdGlja3MucmV2ZXJzZSgpO1xuXG4gIHJldHVybiB0aWNrcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tJbmNyZW1lbnQoc3RhcnQsIHN0b3AsIGNvdW50KSB7XG4gIHZhciBzdGVwID0gKHN0b3AgLSBzdGFydCkgLyBNYXRoLm1heCgwLCBjb3VudCksXG4gICAgICBwb3dlciA9IE1hdGguZmxvb3IoTWF0aC5sb2coc3RlcCkgLyBNYXRoLkxOMTApLFxuICAgICAgZXJyb3IgPSBzdGVwIC8gTWF0aC5wb3coMTAsIHBvd2VyKTtcbiAgcmV0dXJuIHBvd2VyID49IDBcbiAgICAgID8gKGVycm9yID49IGUxMCA/IDEwIDogZXJyb3IgPj0gZTUgPyA1IDogZXJyb3IgPj0gZTIgPyAyIDogMSkgKiBNYXRoLnBvdygxMCwgcG93ZXIpXG4gICAgICA6IC1NYXRoLnBvdygxMCwgLXBvd2VyKSAvIChlcnJvciA+PSBlMTAgPyAxMCA6IGVycm9yID49IGU1ID8gNSA6IGVycm9yID49IGUyID8gMiA6IDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGlja1N0ZXAoc3RhcnQsIHN0b3AsIGNvdW50KSB7XG4gIHZhciBzdGVwMCA9IE1hdGguYWJzKHN0b3AgLSBzdGFydCkgLyBNYXRoLm1heCgwLCBjb3VudCksXG4gICAgICBzdGVwMSA9IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKE1hdGgubG9nKHN0ZXAwKSAvIE1hdGguTE4xMCkpLFxuICAgICAgZXJyb3IgPSBzdGVwMCAvIHN0ZXAxO1xuICBpZiAoZXJyb3IgPj0gZTEwKSBzdGVwMSAqPSAxMDtcbiAgZWxzZSBpZiAoZXJyb3IgPj0gZTUpIHN0ZXAxICo9IDU7XG4gIGVsc2UgaWYgKGVycm9yID49IGUyKSBzdGVwMSAqPSAyO1xuICByZXR1cm4gc3RvcCA8IHN0YXJ0ID8gLXN0ZXAxIDogc3RlcDE7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgcmV0dXJuIE1hdGguY2VpbChNYXRoLmxvZyh2YWx1ZXMubGVuZ3RoKSAvIE1hdGguTE4yKSArIDE7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZXMsIHZhbHVlb2YpIHtcbiAgdmFyIG4gPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgaSA9IC0xLFxuICAgICAgdmFsdWUsXG4gICAgICBtYXg7XG5cbiAgaWYgKHZhbHVlb2YgPT0gbnVsbCkge1xuICAgIHdoaWxlICgrK2kgPCBuKSB7IC8vIEZpbmQgdGhlIGZpcnN0IGNvbXBhcmFibGUgdmFsdWUuXG4gICAgICBpZiAoKHZhbHVlID0gdmFsdWVzW2ldKSAhPSBudWxsICYmIHZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBDb21wYXJlIHRoZSByZW1haW5pbmcgdmFsdWVzLlxuICAgICAgICAgIGlmICgodmFsdWUgPSB2YWx1ZXNbaV0pICE9IG51bGwgJiYgdmFsdWUgPiBtYXgpIHtcbiAgICAgICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVsc2Uge1xuICAgIHdoaWxlICgrK2kgPCBuKSB7IC8vIEZpbmQgdGhlIGZpcnN0IGNvbXBhcmFibGUgdmFsdWUuXG4gICAgICBpZiAoKHZhbHVlID0gdmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpICE9IG51bGwgJiYgdmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbWF4ID0gdmFsdWU7XG4gICAgICAgIHdoaWxlICgrK2kgPCBuKSB7IC8vIENvbXBhcmUgdGhlIHJlbWFpbmluZyB2YWx1ZXMuXG4gICAgICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWVzW2ldLCBpLCB2YWx1ZXMpKSAhPSBudWxsICYmIHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF4O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIGkgPSAtMSxcbiAgICAgIHZhbHVlLFxuICAgICAgbWluO1xuXG4gIGlmICh2YWx1ZW9mID09IG51bGwpIHtcbiAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBGaW5kIHRoZSBmaXJzdCBjb21wYXJhYmxlIHZhbHVlLlxuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlc1tpXSkgIT0gbnVsbCAmJiB2YWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBtaW4gPSB2YWx1ZTtcbiAgICAgICAgd2hpbGUgKCsraSA8IG4pIHsgLy8gQ29tcGFyZSB0aGUgcmVtYWluaW5nIHZhbHVlcy5cbiAgICAgICAgICBpZiAoKHZhbHVlID0gdmFsdWVzW2ldKSAhPSBudWxsICYmIG1pbiA+IHZhbHVlKSB7XG4gICAgICAgICAgICBtaW4gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbHNlIHtcbiAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBGaW5kIHRoZSBmaXJzdCBjb21wYXJhYmxlIHZhbHVlLlxuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWVzW2ldLCBpLCB2YWx1ZXMpKSAhPSBudWxsICYmIHZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBDb21wYXJlIHRoZSByZW1haW5pbmcgdmFsdWVzLlxuICAgICAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlc1tpXSwgaSwgdmFsdWVzKSkgIT0gbnVsbCAmJiBtaW4gPiB2YWx1ZSkge1xuICAgICAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1pbjtcbn1cbiIsImV4cG9ydCB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4iLCJ2YXIgbm9vcCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7fX07XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF8gPSB7fSwgdDsgaSA8IG47ICsraSkge1xuICAgIGlmICghKHQgPSBhcmd1bWVudHNbaV0gKyBcIlwiKSB8fCAodCBpbiBfKSB8fCAvW1xccy5dLy50ZXN0KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIHR5cGU6IFwiICsgdCk7XG4gICAgX1t0XSA9IFtdO1xuICB9XG4gIHJldHVybiBuZXcgRGlzcGF0Y2goXyk7XG59XG5cbmZ1bmN0aW9uIERpc3BhdGNoKF8pIHtcbiAgdGhpcy5fID0gXztcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzLCB0eXBlcykge1xuICByZXR1cm4gdHlwZW5hbWVzLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykubWFwKGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgbmFtZSA9IFwiXCIsIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIG5hbWUgPSB0LnNsaWNlKGkgKyAxKSwgdCA9IHQuc2xpY2UoMCwgaSk7XG4gICAgaWYgKHQgJiYgIXR5cGVzLmhhc093blByb3BlcnR5KHQpKSB0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHR5cGU6IFwiICsgdCk7XG4gICAgcmV0dXJuIHt0eXBlOiB0LCBuYW1lOiBuYW1lfTtcbiAgfSk7XG59XG5cbkRpc3BhdGNoLnByb3RvdHlwZSA9IGRpc3BhdGNoLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IERpc3BhdGNoLFxuICBvbjogZnVuY3Rpb24odHlwZW5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF8gPSB0aGlzLl8sXG4gICAgICAgIFQgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIsIF8pLFxuICAgICAgICB0LFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSBULmxlbmd0aDtcblxuICAgIC8vIElmIG5vIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJldHVybiB0aGUgY2FsbGJhY2sgb2YgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICB3aGlsZSAoKytpIDwgbikgaWYgKCh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgJiYgKHQgPSBnZXQoX1t0XSwgdHlwZW5hbWUubmFtZSkpKSByZXR1cm4gdDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhIHR5cGUgd2FzIHNwZWNpZmllZCwgc2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIHR5cGUgYW5kIG5hbWUuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiBhIG51bGwgY2FsbGJhY2sgd2FzIHNwZWNpZmllZCwgcmVtb3ZlIGNhbGxiYWNrcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjYWxsYmFjazogXCIgKyBjYWxsYmFjayk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGlmICh0ID0gKHR5cGVuYW1lID0gVFtpXSkudHlwZSkgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBjYWxsYmFjayk7XG4gICAgICBlbHNlIGlmIChjYWxsYmFjayA9PSBudWxsKSBmb3IgKHQgaW4gXykgX1t0XSA9IHNldChfW3RdLCB0eXBlbmFtZS5uYW1lLCBudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvcHkgPSB7fSwgXyA9IHRoaXMuXztcbiAgICBmb3IgKHZhciB0IGluIF8pIGNvcHlbdF0gPSBfW3RdLnNsaWNlKCk7XG4gICAgcmV0dXJuIG5ldyBEaXNwYXRjaChjb3B5KTtcbiAgfSxcbiAgY2FsbDogZnVuY3Rpb24odHlwZSwgdGhhdCkge1xuICAgIGlmICgobiA9IGFyZ3VtZW50cy5sZW5ndGggLSAyKSA+IDApIGZvciAodmFyIGFyZ3MgPSBuZXcgQXJyYXkobiksIGkgPSAwLCBuLCB0OyBpIDwgbjsgKytpKSBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodCA9IHRoaXMuX1t0eXBlXSwgaSA9IDAsIG4gPSB0Lmxlbmd0aDsgaSA8IG47ICsraSkgdFtpXS52YWx1ZS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHR5cGUsIHRoYXQsIGFyZ3MpIHtcbiAgICBpZiAoIXRoaXMuXy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHR5cGUpO1xuICAgIGZvciAodmFyIHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldCh0eXBlLCBuYW1lKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGgsIGM7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoKGMgPSB0eXBlW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICByZXR1cm4gYy52YWx1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0KHR5cGUsIG5hbWUsIGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSAwLCBuID0gdHlwZS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAodHlwZVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICB0eXBlW2ldID0gbm9vcCwgdHlwZSA9IHR5cGUuc2xpY2UoMCwgaSkuY29uY2F0KHR5cGUuc2xpY2UoaSArIDEpKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgdHlwZS5wdXNoKHtuYW1lOiBuYW1lLCB2YWx1ZTogY2FsbGJhY2t9KTtcbiAgcmV0dXJuIHR5cGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRpc3BhdGNoO1xuIiwiZnVuY3Rpb24gbm9uZSgpIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gbm9uZSA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB9O1xufVxuIiwiZnVuY3Rpb24gZW1wdHkoKSB7XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIHNlbGVjdG9yID09IG51bGwgPyBlbXB0eSA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXMoc2VsZWN0b3IpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odXBkYXRlKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodXBkYXRlLmxlbmd0aCk7XG59XG4iLCJpbXBvcnQgc3BhcnNlIGZyb20gXCIuL3NwYXJzZVwiO1xuaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9lbnRlciB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW50ZXJOb2RlKHBhcmVudCwgZGF0dW0pIHtcbiAgdGhpcy5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHRoaXMubmFtZXNwYWNlVVJJID0gcGFyZW50Lm5hbWVzcGFjZVVSSTtcbiAgdGhpcy5fbmV4dCA9IG51bGw7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fX2RhdGFfXyA9IGRhdHVtO1xufVxuXG5FbnRlck5vZGUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRW50ZXJOb2RlLFxuICBhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHRoaXMuX25leHQpOyB9LFxuICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGNoaWxkLCBuZXh0KSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBuZXh0KTsgfSxcbiAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfSxcbiAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24oc2VsZWN0b3IpIHsgcmV0dXJuIHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQge0VudGVyTm9kZX0gZnJvbSBcIi4vZW50ZXJcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi4vY29uc3RhbnRcIjtcblxudmFyIGtleVByZWZpeCA9IFwiJFwiOyAvLyBQcm90ZWN0IGFnYWluc3Qga2V5cyBsaWtlIOKAnF9fcHJvdG9fX+KAnS5cblxuZnVuY3Rpb24gYmluZEluZGV4KHBhcmVudCwgZ3JvdXAsIGVudGVyLCB1cGRhdGUsIGV4aXQsIGRhdGEpIHtcbiAgdmFyIGkgPSAwLFxuICAgICAgbm9kZSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXG4gIC8vIFB1dCBhbnkgbm9uLW51bGwgbm9kZXMgdGhhdCBmaXQgaW50byB1cGRhdGUuXG4gIC8vIFB1dCBhbnkgbnVsbCBub2RlcyBpbnRvIGVudGVyLlxuICAvLyBQdXQgYW55IHJlbWFpbmluZyBkYXRhIGludG8gZW50ZXIuXG4gIGZvciAoOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZG9u4oCZdCBmaXQgaW50byBleGl0LlxuICBmb3IgKDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYmluZEtleShwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhLCBrZXkpIHtcbiAgdmFyIGksXG4gICAgICBub2RlLFxuICAgICAgbm9kZUJ5S2V5VmFsdWUgPSB7fSxcbiAgICAgIGdyb3VwTGVuZ3RoID0gZ3JvdXAubGVuZ3RoLFxuICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuICAgICAga2V5VmFsdWVzID0gbmV3IEFycmF5KGdyb3VwTGVuZ3RoKSxcbiAgICAgIGtleVZhbHVlO1xuXG4gIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBub2RlLlxuICAvLyBJZiBtdWx0aXBsZSBub2RlcyBoYXZlIHRoZSBzYW1lIGtleSwgdGhlIGR1cGxpY2F0ZXMgYXJlIGFkZGVkIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAga2V5VmFsdWVzW2ldID0ga2V5VmFsdWUgPSBrZXlQcmVmaXggKyBrZXkuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgICBpZiAoa2V5VmFsdWUgaW4gbm9kZUJ5S2V5VmFsdWUpIHtcbiAgICAgICAgZXhpdFtpXSA9IG5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlQnlLZXlWYWx1ZVtrZXlWYWx1ZV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGtleSBmb3IgZWFjaCBkYXR1bS5cbiAgLy8gSWYgdGhlcmUgYSBub2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGtleSwgam9pbiBhbmQgYWRkIGl0IHRvIHVwZGF0ZS5cbiAgLy8gSWYgdGhlcmUgaXMgbm90IChvciB0aGUga2V5IGlzIGEgZHVwbGljYXRlKSwgYWRkIGl0IHRvIGVudGVyLlxuICBmb3IgKGkgPSAwOyBpIDwgZGF0YUxlbmd0aDsgKytpKSB7XG4gICAga2V5VmFsdWUgPSBrZXlQcmVmaXggKyBrZXkuY2FsbChwYXJlbnQsIGRhdGFbaV0sIGksIGRhdGEpO1xuICAgIGlmIChub2RlID0gbm9kZUJ5S2V5VmFsdWVba2V5VmFsdWVdKSB7XG4gICAgICB1cGRhdGVbaV0gPSBub2RlO1xuICAgICAgbm9kZS5fX2RhdGFfXyA9IGRhdGFbaV07XG4gICAgICBub2RlQnlLZXlWYWx1ZVtrZXlWYWx1ZV0gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbnRlcltpXSA9IG5ldyBFbnRlck5vZGUocGFyZW50LCBkYXRhW2ldKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgYW55IHJlbWFpbmluZyBub2RlcyB0aGF0IHdlcmUgbm90IGJvdW5kIHRvIGRhdGEgdG8gZXhpdC5cbiAgZm9yIChpID0gMDsgaSA8IGdyb3VwTGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgKG5vZGVCeUtleVZhbHVlW2tleVZhbHVlc1tpXV0gPT09IG5vZGUpKSB7XG4gICAgICBleGl0W2ldID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgZGF0YSA9IG5ldyBBcnJheSh0aGlzLnNpemUoKSksIGogPSAtMTtcbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oZCkgeyBkYXRhWysral0gPSBkOyB9KTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciBiaW5kID0ga2V5ID8gYmluZEtleSA6IGJpbmRJbmRleCxcbiAgICAgIHBhcmVudHMgPSB0aGlzLl9wYXJlbnRzLFxuICAgICAgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdmFsdWUgPSBjb25zdGFudCh2YWx1ZSk7XG5cbiAgZm9yICh2YXIgbSA9IGdyb3Vwcy5sZW5ndGgsIHVwZGF0ZSA9IG5ldyBBcnJheShtKSwgZW50ZXIgPSBuZXcgQXJyYXkobSksIGV4aXQgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgdmFyIHBhcmVudCA9IHBhcmVudHNbal0sXG4gICAgICAgIGdyb3VwID0gZ3JvdXBzW2pdLFxuICAgICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgICAgZGF0YSA9IHZhbHVlLmNhbGwocGFyZW50LCBwYXJlbnQgJiYgcGFyZW50Ll9fZGF0YV9fLCBqLCBwYXJlbnRzKSxcbiAgICAgICAgZGF0YUxlbmd0aCA9IGRhdGEubGVuZ3RoLFxuICAgICAgICBlbnRlckdyb3VwID0gZW50ZXJbal0gPSBuZXcgQXJyYXkoZGF0YUxlbmd0aCksXG4gICAgICAgIHVwZGF0ZUdyb3VwID0gdXBkYXRlW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLFxuICAgICAgICBleGl0R3JvdXAgPSBleGl0W2pdID0gbmV3IEFycmF5KGdyb3VwTGVuZ3RoKTtcblxuICAgIGJpbmQocGFyZW50LCBncm91cCwgZW50ZXJHcm91cCwgdXBkYXRlR3JvdXAsIGV4aXRHcm91cCwgZGF0YSwga2V5KTtcblxuICAgIC8vIE5vdyBjb25uZWN0IHRoZSBlbnRlciBub2RlcyB0byB0aGVpciBmb2xsb3dpbmcgdXBkYXRlIG5vZGUsIHN1Y2ggdGhhdFxuICAgIC8vIGFwcGVuZENoaWxkIGNhbiBpbnNlcnQgdGhlIG1hdGVyaWFsaXplZCBlbnRlciBub2RlIGJlZm9yZSB0aGlzIG5vZGUsXG4gICAgLy8gcmF0aGVyIHRoYW4gYXQgdGhlIGVuZCBvZiB0aGUgcGFyZW50IG5vZGUuXG4gICAgZm9yICh2YXIgaTAgPSAwLCBpMSA9IDAsIHByZXZpb3VzLCBuZXh0OyBpMCA8IGRhdGFMZW5ndGg7ICsraTApIHtcbiAgICAgIGlmIChwcmV2aW91cyA9IGVudGVyR3JvdXBbaTBdKSB7XG4gICAgICAgIGlmIChpMCA+PSBpMSkgaTEgPSBpMCArIDE7XG4gICAgICAgIHdoaWxlICghKG5leHQgPSB1cGRhdGVHcm91cFtpMV0pICYmICsraTEgPCBkYXRhTGVuZ3RoKTtcbiAgICAgICAgcHJldmlvdXMuX25leHQgPSBuZXh0IHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlID0gbmV3IFNlbGVjdGlvbih1cGRhdGUsIHBhcmVudHMpO1xuICB1cGRhdGUuX2VudGVyID0gZW50ZXI7XG4gIHVwZGF0ZS5fZXhpdCA9IGV4aXQ7XG4gIHJldHVybiB1cGRhdGU7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29tcGFyZSkge1xuICBpZiAoIWNvbXBhcmUpIGNvbXBhcmUgPSBhc2NlbmRpbmc7XG5cbiAgZnVuY3Rpb24gY29tcGFyZU5vZGUoYSwgYikge1xuICAgIHJldHVybiBhICYmIGIgPyBjb21wYXJlKGEuX19kYXRhX18sIGIuX19kYXRhX18pIDogIWEgLSAhYjtcbiAgfVxuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHNvcnRncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHNvcnRncm91cCA9IHNvcnRncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHNvcnRncm91cFtpXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvcnRncm91cC5zb3J0KGNvbXBhcmVOb2RlKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHNvcnRncm91cHMsIHRoaXMuX3BhcmVudHMpLm9yZGVyKCk7XG59XG5cbmZ1bmN0aW9uIGFzY2VuZGluZyhhLCBiKSB7XG4gIHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogYSA+PSBiID8gMCA6IE5hTjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbMF07XG4gIGFyZ3VtZW50c1swXSA9IHRoaXM7XG4gIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB0aGlzO1xufVxuIiwiZXhwb3J0IHZhciB4aHRtbCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN2ZzogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB4aHRtbDogeGh0bWwsXG4gIHhsaW5rOiBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgeG1sOiBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiXG59O1xuIiwiaW1wb3J0IG5hbWVzcGFjZXMgZnJvbSBcIi4vbmFtZXNwYWNlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwcmVmaXggPSBuYW1lICs9IFwiXCIsIGkgPSBwcmVmaXguaW5kZXhPZihcIjpcIik7XG4gIGlmIChpID49IDAgJiYgKHByZWZpeCA9IG5hbWUuc2xpY2UoMCwgaSkpICE9PSBcInhtbG5zXCIpIG5hbWUgPSBuYW1lLnNsaWNlKGkgKyAxKTtcbiAgcmV0dXJuIG5hbWVzcGFjZXMuaGFzT3duUHJvcGVydHkocHJlZml4KSA/IHtzcGFjZTogbmFtZXNwYWNlc1twcmVmaXhdLCBsb2NhbDogbmFtZX0gOiBuYW1lO1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi4vbmFtZXNwYWNlXCI7XG5cbmZ1bmN0aW9uIGF0dHJSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJSZW1vdmVOUyhmdWxsbmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdmFsdWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICBlbHNlIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHYpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb25OUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gICAgZWxzZSB0aGlzLnNldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCwgdik7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMubm9kZSgpO1xuICAgIHJldHVybiBmdWxsbmFtZS5sb2NhbFxuICAgICAgICA/IG5vZGUuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKVxuICAgICAgICA6IG5vZGUuZ2V0QXR0cmlidXRlKGZ1bGxuYW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGxcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0clJlbW92ZU5TIDogYXR0clJlbW92ZSkgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pXG4gICAgICA6IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJDb25zdGFudE5TIDogYXR0ckNvbnN0YW50KSkpKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gKG5vZGUub3duZXJEb2N1bWVudCAmJiBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIC8vIG5vZGUgaXMgYSBOb2RlXG4gICAgICB8fCAobm9kZS5kb2N1bWVudCAmJiBub2RlKSAvLyBub2RlIGlzIGEgV2luZG93XG4gICAgICB8fCBub2RlLmRlZmF1bHRWaWV3OyAvLyBub2RlIGlzIGEgRG9jdW1lbnRcbn1cbiIsImltcG9ydCBkZWZhdWx0VmlldyBmcm9tIFwiLi4vd2luZG93XCI7XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHYgPT0gbnVsbCkgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgICBlbHNlIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdiwgcHJpb3JpdHkpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxXG4gICAgICA/IHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgICAgICAgPyBzdHlsZVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IHN0eWxlRnVuY3Rpb25cbiAgICAgICAgICAgIDogc3R5bGVDb25zdGFudCkobmFtZSwgdmFsdWUsIHByaW9yaXR5ID09IG51bGwgPyBcIlwiIDogcHJpb3JpdHkpKVxuICAgICAgOiBzdHlsZVZhbHVlKHRoaXMubm9kZSgpLCBuYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlVmFsdWUobm9kZSwgbmFtZSkge1xuICByZXR1cm4gbm9kZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpXG4gICAgICB8fCBkZWZhdWx0Vmlldyhub2RlKS5nZXRDb21wdXRlZFN0eWxlKG5vZGUsIG51bGwpLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG59XG4iLCJmdW5jdGlvbiBjbGFzc0FycmF5KHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnRyaW0oKS5zcGxpdCgvXnxcXHMrLyk7XG59XG5cbmZ1bmN0aW9uIGNsYXNzTGlzdChub2RlKSB7XG4gIHJldHVybiBub2RlLmNsYXNzTGlzdCB8fCBuZXcgQ2xhc3NMaXN0KG5vZGUpO1xufVxuXG5mdW5jdGlvbiBDbGFzc0xpc3Qobm9kZSkge1xuICB0aGlzLl9ub2RlID0gbm9kZTtcbiAgdGhpcy5fbmFtZXMgPSBjbGFzc0FycmF5KG5vZGUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIik7XG59XG5cbkNsYXNzTGlzdC5wcm90b3R5cGUgPSB7XG4gIGFkZDogZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICBpZiAoaSA8IDApIHtcbiAgICAgIHRoaXMuX25hbWVzLnB1c2gobmFtZSk7XG4gICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuX25hbWVzLmpvaW4oXCIgXCIpKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBpID0gdGhpcy5fbmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICBpZiAoaSA+PSAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICB0aGlzLl9ub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuX25hbWVzLmpvaW4oXCIgXCIpKTtcbiAgICB9XG4gIH0sXG4gIGNvbnRhaW5zOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSkgPj0gMDtcbiAgfVxufTtcblxuZnVuY3Rpb24gY2xhc3NlZEFkZChub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5hZGQobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkUmVtb3ZlKG5vZGUsIG5hbWVzKSB7XG4gIHZhciBsaXN0ID0gY2xhc3NMaXN0KG5vZGUpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gIHdoaWxlICgrK2kgPCBuKSBsaXN0LnJlbW92ZShuYW1lc1tpXSk7XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRUcnVlKG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjbGFzc2VkQWRkKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZEZhbHNlKG5hbWVzKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBjbGFzc2VkUmVtb3ZlKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZEZ1bmN0aW9uKG5hbWVzLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgKHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgPyBjbGFzc2VkQWRkIDogY2xhc3NlZFJlbW92ZSkodGhpcywgbmFtZXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgbmFtZXMgPSBjbGFzc0FycmF5KG5hbWUgKyBcIlwiKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgbGlzdCA9IGNsYXNzTGlzdCh0aGlzLm5vZGUoKSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgICB3aGlsZSAoKytpIDwgbikgaWYgKCFsaXN0LmNvbnRhaW5zKG5hbWVzW2ldKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gY2xhc3NlZEZ1bmN0aW9uIDogdmFsdWVcbiAgICAgID8gY2xhc3NlZFRydWVcbiAgICAgIDogY2xhc3NlZEZhbHNlKShuYW1lcywgdmFsdWUpKTtcbn1cbiIsImZ1bmN0aW9uIHRleHRSZW1vdmUoKSB7XG4gIHRoaXMudGV4dENvbnRlbnQgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHYgPT0gbnVsbCA/IFwiXCIgOiB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2godmFsdWUgPT0gbnVsbFxuICAgICAgICAgID8gdGV4dFJlbW92ZSA6ICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gdGV4dEZ1bmN0aW9uXG4gICAgICAgICAgOiB0ZXh0Q29uc3RhbnQpKHZhbHVlKSlcbiAgICAgIDogdGhpcy5ub2RlKCkudGV4dENvbnRlbnQ7XG59XG4iLCJmdW5jdGlvbiBodG1sUmVtb3ZlKCkge1xuICB0aGlzLmlubmVySFRNTCA9IFwiXCI7XG59XG5cbmZ1bmN0aW9uIGh0bWxDb25zdGFudCh2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaHRtbEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdGhpcy5pbm5lckhUTUwgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IGh0bWxSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGh0bWxGdW5jdGlvblxuICAgICAgICAgIDogaHRtbENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLmlubmVySFRNTDtcbn1cbiIsImZ1bmN0aW9uIHJhaXNlKCkge1xuICBpZiAodGhpcy5uZXh0U2libGluZykgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaChyYWlzZSk7XG59XG4iLCJmdW5jdGlvbiBsb3dlcigpIHtcbiAgaWYgKHRoaXMucHJldmlvdXNTaWJsaW5nKSB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMsIHRoaXMucGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gobG93ZXIpO1xufVxuIiwiaW1wb3J0IG5hbWVzcGFjZSBmcm9tIFwiLi9uYW1lc3BhY2VcIjtcbmltcG9ydCB7eGh0bWx9IGZyb20gXCIuL25hbWVzcGFjZXNcIjtcblxuZnVuY3Rpb24gY3JlYXRvckluaGVyaXQobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gdGhpcy5vd25lckRvY3VtZW50LFxuICAgICAgICB1cmkgPSB0aGlzLm5hbWVzcGFjZVVSSTtcbiAgICByZXR1cm4gdXJpID09PSB4aHRtbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJID09PSB4aHRtbFxuICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSlcbiAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlModXJpLCBuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRvckZpeGVkKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKTtcbiAgcmV0dXJuIChmdWxsbmFtZS5sb2NhbFxuICAgICAgPyBjcmVhdG9yRml4ZWRcbiAgICAgIDogY3JlYXRvckluaGVyaXQpKGZ1bGxuYW1lKTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yXCI7XG5pbXBvcnQgc2VsZWN0b3IgZnJvbSBcIi4uL3NlbGVjdG9yXCI7XG5cbmZ1bmN0aW9uIGNvbnN0YW50TnVsbCgpIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIGJlZm9yZSkge1xuICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09IFwiZnVuY3Rpb25cIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpLFxuICAgICAgc2VsZWN0ID0gYmVmb3JlID09IG51bGwgPyBjb25zdGFudE51bGwgOiB0eXBlb2YgYmVmb3JlID09PSBcImZ1bmN0aW9uXCIgPyBiZWZvcmUgOiBzZWxlY3RvcihiZWZvcmUpO1xuICByZXR1cm4gdGhpcy5zZWxlY3QoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBzZWxlY3QuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCJmdW5jdGlvbiByZW1vdmUoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmVtb3ZlKTtcbn1cbiIsImZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZVNoYWxsb3coKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKGZhbHNlKSwgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICByZXR1cm4gcGFyZW50ID8gcGFyZW50Lmluc2VydEJlZm9yZShjbG9uZSwgdGhpcy5uZXh0U2libGluZykgOiBjbG9uZTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0aW9uX2Nsb25lRGVlcCgpIHtcbiAgdmFyIGNsb25lID0gdGhpcy5jbG9uZU5vZGUodHJ1ZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGRlZXApIHtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGRlZXAgPyBzZWxlY3Rpb25fY2xvbmVEZWVwIDogc2VsZWN0aW9uX2Nsb25lU2hhbGxvdyk7XG59XG4iLCJ2YXIgZmlsdGVyRXZlbnRzID0ge307XG5cbmV4cG9ydCB2YXIgZXZlbnQgPSBudWxsO1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICBpZiAoIShcIm9ubW91c2VlbnRlclwiIGluIGVsZW1lbnQpKSB7XG4gICAgZmlsdGVyRXZlbnRzID0ge21vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsIG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIn07XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ29udGV4dExpc3RlbmVyKGxpc3RlbmVyLCBpbmRleCwgZ3JvdXApIHtcbiAgbGlzdGVuZXIgPSBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIsIGluZGV4LCBncm91cCk7XG4gIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRoaXMgJiYgIShyZWxhdGVkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMpICYgOCkpKSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lciwgaW5kZXgsIGdyb3VwKSB7XG4gIHJldHVybiBmdW5jdGlvbihldmVudDEpIHtcbiAgICB2YXIgZXZlbnQwID0gZXZlbnQ7IC8vIEV2ZW50cyBjYW4gYmUgcmVlbnRyYW50IChlLmcuLCBmb2N1cykuXG4gICAgZXZlbnQgPSBldmVudDE7XG4gICAgdHJ5IHtcbiAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgdGhpcy5fX2RhdGFfXywgaW5kZXgsIGdyb3VwKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZXZlbnQgPSBldmVudDA7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZXMpIHtcbiAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XFxzKy8pLm1hcChmdW5jdGlvbih0KSB7XG4gICAgdmFyIG5hbWUgPSBcIlwiLCBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpO1xuICAgIHJldHVybiB7dHlwZTogdCwgbmFtZTogbmFtZX07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvblJlbW92ZSh0eXBlbmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uO1xuICAgIGlmICghb24pIHJldHVybjtcbiAgICBmb3IgKHZhciBqID0gMCwgaSA9IC0xLCBtID0gb24ubGVuZ3RoLCBvOyBqIDwgbTsgKytqKSB7XG4gICAgICBpZiAobyA9IG9uW2pdLCAoIXR5cGVuYW1lLnR5cGUgfHwgby50eXBlID09PSB0eXBlbmFtZS50eXBlKSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciwgby5jYXB0dXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uWysraV0gPSBvO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoKytpKSBvbi5sZW5ndGggPSBpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX19vbjtcbiAgfTtcbn1cblxuZnVuY3Rpb24gb25BZGQodHlwZW5hbWUsIHZhbHVlLCBjYXB0dXJlKSB7XG4gIHZhciB3cmFwID0gZmlsdGVyRXZlbnRzLmhhc093blByb3BlcnR5KHR5cGVuYW1lLnR5cGUpID8gZmlsdGVyQ29udGV4dExpc3RlbmVyIDogY29udGV4dExpc3RlbmVyO1xuICByZXR1cm4gZnVuY3Rpb24oZCwgaSwgZ3JvdXApIHtcbiAgICB2YXIgb24gPSB0aGlzLl9fb24sIG8sIGxpc3RlbmVyID0gd3JhcCh2YWx1ZSwgaSwgZ3JvdXApO1xuICAgIGlmIChvbikgZm9yICh2YXIgaiA9IDAsIG0gPSBvbi5sZW5ndGg7IGogPCBtOyArK2opIHtcbiAgICAgIGlmICgobyA9IG9uW2pdKS50eXBlID09PSB0eXBlbmFtZS50eXBlICYmIG8ubmFtZSA9PT0gdHlwZW5hbWUubmFtZSkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyLCBvLmNhcHR1cmUpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoby50eXBlLCBvLmxpc3RlbmVyID0gbGlzdGVuZXIsIG8uY2FwdHVyZSA9IGNhcHR1cmUpO1xuICAgICAgICBvLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHR5cGVuYW1lLnR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICBvID0ge3R5cGU6IHR5cGVuYW1lLnR5cGUsIG5hbWU6IHR5cGVuYW1lLm5hbWUsIHZhbHVlOiB2YWx1ZSwgbGlzdGVuZXI6IGxpc3RlbmVyLCBjYXB0dXJlOiBjYXB0dXJlfTtcbiAgICBpZiAoIW9uKSB0aGlzLl9fb24gPSBbb107XG4gICAgZWxzZSBvbi5wdXNoKG8pO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0eXBlbmFtZSwgdmFsdWUsIGNhcHR1cmUpIHtcbiAgdmFyIHR5cGVuYW1lcyA9IHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lICsgXCJcIiksIGksIG4gPSB0eXBlbmFtZXMubGVuZ3RoLCB0O1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHZhciBvbiA9IHRoaXMubm9kZSgpLl9fb247XG4gICAgaWYgKG9uKSBmb3IgKHZhciBqID0gMCwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgZm9yIChpID0gMCwgbyA9IG9uW2pdOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmICgodCA9IHR5cGVuYW1lc1tpXSkudHlwZSA9PT0gby50eXBlICYmIHQubmFtZSA9PT0gby5uYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG8udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb24gPSB2YWx1ZSA/IG9uQWRkIDogb25SZW1vdmU7XG4gIGlmIChjYXB0dXJlID09IG51bGwpIGNhcHR1cmUgPSBmYWxzZTtcbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkgdGhpcy5lYWNoKG9uKHR5cGVuYW1lc1tpXSwgdmFsdWUsIGNhcHR1cmUpKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21FdmVudChldmVudDEsIGxpc3RlbmVyLCB0aGF0LCBhcmdzKSB7XG4gIHZhciBldmVudDAgPSBldmVudDtcbiAgZXZlbnQxLnNvdXJjZUV2ZW50ID0gZXZlbnQ7XG4gIGV2ZW50ID0gZXZlbnQxO1xuICB0cnkge1xuICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh0aGF0LCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBldmVudCA9IGV2ZW50MDtcbiAgfVxufVxuIiwiaW1wb3J0IGRlZmF1bHRWaWV3IGZyb20gXCIuLi93aW5kb3dcIjtcblxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChub2RlLCB0eXBlLCBwYXJhbXMpIHtcbiAgdmFyIHdpbmRvdyA9IGRlZmF1bHRWaWV3KG5vZGUpLFxuICAgICAgZXZlbnQgPSB3aW5kb3cuQ3VzdG9tRXZlbnQ7XG5cbiAgaWYgKHR5cGVvZiBldmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZXZlbnQgPSBuZXcgZXZlbnQodHlwZSwgcGFyYW1zKTtcbiAgfSBlbHNlIHtcbiAgICBldmVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuICAgIGlmIChwYXJhbXMpIGV2ZW50LmluaXRFdmVudCh0eXBlLCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUpLCBldmVudC5kZXRhaWwgPSBwYXJhbXMuZGV0YWlsO1xuICAgIGVsc2UgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBkaXNwYXRjaENvbnN0YW50KHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgdHlwZSwgcGFyYW1zKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hGdW5jdGlvbih0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyBkaXNwYXRjaEZ1bmN0aW9uXG4gICAgICA6IGRpc3BhdGNoQ29uc3RhbnQpKHR5cGUsIHBhcmFtcykpO1xufVxuIiwiaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0XCI7XG5pbXBvcnQgc2VsZWN0aW9uX3NlbGVjdEFsbCBmcm9tIFwiLi9zZWxlY3RBbGxcIjtcbmltcG9ydCBzZWxlY3Rpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlclwiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXRhIGZyb20gXCIuL2RhdGFcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW50ZXIgZnJvbSBcIi4vZW50ZXJcIjtcbmltcG9ydCBzZWxlY3Rpb25fZXhpdCBmcm9tIFwiLi9leGl0XCI7XG5pbXBvcnQgc2VsZWN0aW9uX2pvaW4gZnJvbSBcIi4vam9pblwiO1xuaW1wb3J0IHNlbGVjdGlvbl9tZXJnZSBmcm9tIFwiLi9tZXJnZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9vcmRlciBmcm9tIFwiLi9vcmRlclwiO1xuaW1wb3J0IHNlbGVjdGlvbl9zb3J0IGZyb20gXCIuL3NvcnRcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2FsbCBmcm9tIFwiLi9jYWxsXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGVzIGZyb20gXCIuL25vZGVzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX25vZGUgZnJvbSBcIi4vbm9kZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9zaXplIGZyb20gXCIuL3NpemVcIjtcbmltcG9ydCBzZWxlY3Rpb25fZW1wdHkgZnJvbSBcIi4vZW1wdHlcIjtcbmltcG9ydCBzZWxlY3Rpb25fZWFjaCBmcm9tIFwiLi9lYWNoXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2F0dHIgZnJvbSBcIi4vYXR0clwiO1xuaW1wb3J0IHNlbGVjdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9wcm9wZXJ0eSBmcm9tIFwiLi9wcm9wZXJ0eVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbGFzc2VkIGZyb20gXCIuL2NsYXNzZWRcIjtcbmltcG9ydCBzZWxlY3Rpb25fdGV4dCBmcm9tIFwiLi90ZXh0XCI7XG5pbXBvcnQgc2VsZWN0aW9uX2h0bWwgZnJvbSBcIi4vaHRtbFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9yYWlzZSBmcm9tIFwiLi9yYWlzZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9sb3dlciBmcm9tIFwiLi9sb3dlclwiO1xuaW1wb3J0IHNlbGVjdGlvbl9hcHBlbmQgZnJvbSBcIi4vYXBwZW5kXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2luc2VydCBmcm9tIFwiLi9pbnNlcnRcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9jbG9uZSBmcm9tIFwiLi9jbG9uZVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9kYXR1bSBmcm9tIFwiLi9kYXR1bVwiO1xuaW1wb3J0IHNlbGVjdGlvbl9vbiBmcm9tIFwiLi9vblwiO1xuaW1wb3J0IHNlbGVjdGlvbl9kaXNwYXRjaCBmcm9tIFwiLi9kaXNwYXRjaFwiO1xuXG5leHBvcnQgdmFyIHJvb3QgPSBbbnVsbF07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZWxlY3Rpb24oZ3JvdXBzLCBwYXJlbnRzKSB7XG4gIHRoaXMuX2dyb3VwcyA9IGdyb3VwcztcbiAgdGhpcy5fcGFyZW50cyA9IHBhcmVudHM7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdXSwgcm9vdCk7XG59XG5cblNlbGVjdGlvbi5wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogU2VsZWN0aW9uLFxuICBzZWxlY3Q6IHNlbGVjdGlvbl9zZWxlY3QsXG4gIHNlbGVjdEFsbDogc2VsZWN0aW9uX3NlbGVjdEFsbCxcbiAgZmlsdGVyOiBzZWxlY3Rpb25fZmlsdGVyLFxuICBkYXRhOiBzZWxlY3Rpb25fZGF0YSxcbiAgZW50ZXI6IHNlbGVjdGlvbl9lbnRlcixcbiAgZXhpdDogc2VsZWN0aW9uX2V4aXQsXG4gIGpvaW46IHNlbGVjdGlvbl9qb2luLFxuICBtZXJnZTogc2VsZWN0aW9uX21lcmdlLFxuICBvcmRlcjogc2VsZWN0aW9uX29yZGVyLFxuICBzb3J0OiBzZWxlY3Rpb25fc29ydCxcbiAgY2FsbDogc2VsZWN0aW9uX2NhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fbm9kZXMsXG4gIG5vZGU6IHNlbGVjdGlvbl9ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9lbXB0eSxcbiAgZWFjaDogc2VsZWN0aW9uX2VhY2gsXG4gIGF0dHI6IHNlbGVjdGlvbl9hdHRyLFxuICBzdHlsZTogc2VsZWN0aW9uX3N0eWxlLFxuICBwcm9wZXJ0eTogc2VsZWN0aW9uX3Byb3BlcnR5LFxuICBjbGFzc2VkOiBzZWxlY3Rpb25fY2xhc3NlZCxcbiAgdGV4dDogc2VsZWN0aW9uX3RleHQsXG4gIGh0bWw6IHNlbGVjdGlvbl9odG1sLFxuICByYWlzZTogc2VsZWN0aW9uX3JhaXNlLFxuICBsb3dlcjogc2VsZWN0aW9uX2xvd2VyLFxuICBhcHBlbmQ6IHNlbGVjdGlvbl9hcHBlbmQsXG4gIGluc2VydDogc2VsZWN0aW9uX2luc2VydCxcbiAgcmVtb3ZlOiBzZWxlY3Rpb25fcmVtb3ZlLFxuICBjbG9uZTogc2VsZWN0aW9uX2Nsb25lLFxuICBkYXR1bTogc2VsZWN0aW9uX2RhdHVtLFxuICBvbjogc2VsZWN0aW9uX29uLFxuICBkaXNwYXRjaDogc2VsZWN0aW9uX2Rpc3BhdGNoXG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZWxlY3Rpb247XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBzZWxlY3RvciBmcm9tIFwiLi4vc2VsZWN0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cyk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBzZWxlY3RvckFsbCBmcm9tIFwiLi4vc2VsZWN0b3JBbGxcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0KSB7XG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgc3ViZ3JvdXBzLnB1c2goc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHN1Ymdyb3VwcywgcGFyZW50cyk7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBtYXRjaGVyIGZyb20gXCIuLi9tYXRjaGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG1hdGNoKSB7XG4gIGlmICh0eXBlb2YgbWF0Y2ggIT09IFwiZnVuY3Rpb25cIikgbWF0Y2ggPSBtYXRjaGVyKG1hdGNoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzdWJncm91cHMgPSBuZXcgQXJyYXkobSksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIHN1Ymdyb3VwID0gc3ViZ3JvdXBzW2pdID0gW10sIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgbWF0Y2guY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpIHtcbiAgICAgICAgc3ViZ3JvdXAucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2VcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZXhpdCB8fCB0aGlzLl9ncm91cHMubWFwKHNwYXJzZSksIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ob25lbnRlciwgb251cGRhdGUsIG9uZXhpdCkge1xuICB2YXIgZW50ZXIgPSB0aGlzLmVudGVyKCksIHVwZGF0ZSA9IHRoaXMsIGV4aXQgPSB0aGlzLmV4aXQoKTtcbiAgZW50ZXIgPSB0eXBlb2Ygb25lbnRlciA9PT0gXCJmdW5jdGlvblwiID8gb25lbnRlcihlbnRlcikgOiBlbnRlci5hcHBlbmQob25lbnRlciArIFwiXCIpO1xuICBpZiAob251cGRhdGUgIT0gbnVsbCkgdXBkYXRlID0gb251cGRhdGUodXBkYXRlKTtcbiAgaWYgKG9uZXhpdCA9PSBudWxsKSBleGl0LnJlbW92ZSgpOyBlbHNlIG9uZXhpdChleGl0KTtcbiAgcmV0dXJuIGVudGVyICYmIHVwZGF0ZSA/IGVudGVyLm1lcmdlKHVwZGF0ZSkub3JkZXIoKSA6IHVwZGF0ZTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rpb24pIHtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gc2VsZWN0aW9uLl9ncm91cHMsIG0wID0gZ3JvdXBzMC5sZW5ndGgsIG0xID0gZ3JvdXBzMS5sZW5ndGgsIG0gPSBNYXRoLm1pbihtMCwgbTEpLCBtZXJnZXMgPSBuZXcgQXJyYXkobTApLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwMCA9IGdyb3VwczBbal0sIGdyb3VwMSA9IGdyb3VwczFbal0sIG4gPSBncm91cDAubGVuZ3RoLCBtZXJnZSA9IG1lcmdlc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXAwW2ldIHx8IGdyb3VwMVtpXSkge1xuICAgICAgICBtZXJnZVtpXSA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICg7IGogPCBtMDsgKytqKSB7XG4gICAgbWVyZ2VzW2pdID0gZ3JvdXBzMFtqXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKG1lcmdlcywgdGhpcy5fcGFyZW50cyk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAtMSwgbSA9IGdyb3Vwcy5sZW5ndGg7ICsraiA8IG07KSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSBncm91cC5sZW5ndGggLSAxLCBuZXh0ID0gZ3JvdXBbaV0sIG5vZGU7IC0taSA+PSAwOykge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBpZiAobmV4dCAmJiBub2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5leHQpIF4gNCkgbmV4dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBuZXh0KTtcbiAgICAgICAgbmV4dCA9IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIG5vZGVzID0gbmV3IEFycmF5KHRoaXMuc2l6ZSgpKSwgaSA9IC0xO1xuICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7IG5vZGVzWysraV0gPSB0aGlzOyB9KTtcbiAgcmV0dXJuIG5vZGVzO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gMCwgbSA9IGdyb3Vwcy5sZW5ndGg7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgaSA9IDAsIG4gPSBncm91cC5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgIHZhciBub2RlID0gZ3JvdXBbaV07XG4gICAgICBpZiAobm9kZSkgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIHNpemUgPSAwO1xuICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7ICsrc2l6ZTsgfSk7XG4gIHJldHVybiBzaXplO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhdGhpcy5ub2RlKCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaykge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSBjYWxsYmFjay5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cbiIsImZ1bmN0aW9uIHByb3BlcnR5UmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGRlbGV0ZSB0aGlzW25hbWVdO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5RnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAodiA9PSBudWxsKSBkZWxldGUgdGhpc1tuYW1lXTtcbiAgICBlbHNlIHRoaXNbbmFtZV0gPSB2O1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBwcm9wZXJ0eVJlbW92ZSA6IHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBwcm9wZXJ0eUZ1bmN0aW9uXG4gICAgICAgICAgOiBwcm9wZXJ0eUNvbnN0YW50KShuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpW25hbWVdO1xufVxuIiwiaW1wb3J0IGNyZWF0b3IgZnJvbSBcIi4uL2NyZWF0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgY3JlYXRlID0gdHlwZW9mIG5hbWUgPT09IFwiZnVuY3Rpb25cIiA/IG5hbWUgOiBjcmVhdG9yKG5hbWUpO1xuICByZXR1cm4gdGhpcy5zZWxlY3QoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoY3JlYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMucHJvcGVydHkoXCJfX2RhdGFfX1wiLCB2YWx1ZSlcbiAgICAgIDogdGhpcy5ub2RlKCkuX19kYXRhX187XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbiwgcm9vdH0gZnJvbSBcIi4vc2VsZWN0aW9uL2luZGV4XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCJcbiAgICAgID8gbmV3IFNlbGVjdGlvbihbW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpXV0sIFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRdKVxuICAgICAgOiBuZXcgU2VsZWN0aW9uKFtbc2VsZWN0b3JdXSwgcm9vdCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb25zdHJ1Y3RvciwgZmFjdG9yeSwgcHJvdG90eXBlKSB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGZhY3RvcnkucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICBwcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZChwYXJlbnQsIGRlZmluaXRpb24pIHtcbiAgdmFyIHByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG4gIGZvciAodmFyIGtleSBpbiBkZWZpbml0aW9uKSBwcm90b3R5cGVba2V5XSA9IGRlZmluaXRpb25ba2V5XTtcbiAgcmV0dXJuIHByb3RvdHlwZTtcbn1cbiIsImltcG9ydCBkZWZpbmUsIHtleHRlbmR9IGZyb20gXCIuL2RlZmluZS5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29sb3IoKSB7fVxuXG5leHBvcnQgdmFyIGRhcmtlciA9IDAuNztcbmV4cG9ydCB2YXIgYnJpZ2h0ZXIgPSAxIC8gZGFya2VyO1xuXG52YXIgcmVJID0gXCJcXFxccyooWystXT9cXFxcZCspXFxcXHMqXCIsXG4gICAgcmVOID0gXCJcXFxccyooWystXT9cXFxcZCpcXFxcLj9cXFxcZCsoPzpbZUVdWystXT9cXFxcZCspPylcXFxccypcIixcbiAgICByZVAgPSBcIlxcXFxzKihbKy1dP1xcXFxkKlxcXFwuP1xcXFxkKyg/OltlRV1bKy1dP1xcXFxkKyk/KSVcXFxccypcIixcbiAgICByZUhleCA9IC9eIyhbMC05YS1mXXszLDh9KSQvLFxuICAgIHJlUmdiSW50ZWdlciA9IG5ldyBSZWdFeHAoXCJecmdiXFxcXChcIiArIFtyZUksIHJlSSwgcmVJXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlUmdiUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJecmdiXFxcXChcIiArIFtyZVAsIHJlUCwgcmVQXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlUmdiYUludGVnZXIgPSBuZXcgUmVnRXhwKFwiXnJnYmFcXFxcKFwiICsgW3JlSSwgcmVJLCByZUksIHJlTl0gKyBcIlxcXFwpJFwiKSxcbiAgICByZVJnYmFQZXJjZW50ID0gbmV3IFJlZ0V4cChcIl5yZ2JhXFxcXChcIiArIFtyZVAsIHJlUCwgcmVQLCByZU5dICsgXCJcXFxcKSRcIiksXG4gICAgcmVIc2xQZXJjZW50ID0gbmV3IFJlZ0V4cChcIl5oc2xcXFxcKFwiICsgW3JlTiwgcmVQLCByZVBdICsgXCJcXFxcKSRcIiksXG4gICAgcmVIc2xhUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJeaHNsYVxcXFwoXCIgKyBbcmVOLCByZVAsIHJlUCwgcmVOXSArIFwiXFxcXCkkXCIpO1xuXG52YXIgbmFtZWQgPSB7XG4gIGFsaWNlYmx1ZTogMHhmMGY4ZmYsXG4gIGFudGlxdWV3aGl0ZTogMHhmYWViZDcsXG4gIGFxdWE6IDB4MDBmZmZmLFxuICBhcXVhbWFyaW5lOiAweDdmZmZkNCxcbiAgYXp1cmU6IDB4ZjBmZmZmLFxuICBiZWlnZTogMHhmNWY1ZGMsXG4gIGJpc3F1ZTogMHhmZmU0YzQsXG4gIGJsYWNrOiAweDAwMDAwMCxcbiAgYmxhbmNoZWRhbG1vbmQ6IDB4ZmZlYmNkLFxuICBibHVlOiAweDAwMDBmZixcbiAgYmx1ZXZpb2xldDogMHg4YTJiZTIsXG4gIGJyb3duOiAweGE1MmEyYSxcbiAgYnVybHl3b29kOiAweGRlYjg4NyxcbiAgY2FkZXRibHVlOiAweDVmOWVhMCxcbiAgY2hhcnRyZXVzZTogMHg3ZmZmMDAsXG4gIGNob2NvbGF0ZTogMHhkMjY5MWUsXG4gIGNvcmFsOiAweGZmN2Y1MCxcbiAgY29ybmZsb3dlcmJsdWU6IDB4NjQ5NWVkLFxuICBjb3Juc2lsazogMHhmZmY4ZGMsXG4gIGNyaW1zb246IDB4ZGMxNDNjLFxuICBjeWFuOiAweDAwZmZmZixcbiAgZGFya2JsdWU6IDB4MDAwMDhiLFxuICBkYXJrY3lhbjogMHgwMDhiOGIsXG4gIGRhcmtnb2xkZW5yb2Q6IDB4Yjg4NjBiLFxuICBkYXJrZ3JheTogMHhhOWE5YTksXG4gIGRhcmtncmVlbjogMHgwMDY0MDAsXG4gIGRhcmtncmV5OiAweGE5YTlhOSxcbiAgZGFya2toYWtpOiAweGJkYjc2YixcbiAgZGFya21hZ2VudGE6IDB4OGIwMDhiLFxuICBkYXJrb2xpdmVncmVlbjogMHg1NTZiMmYsXG4gIGRhcmtvcmFuZ2U6IDB4ZmY4YzAwLFxuICBkYXJrb3JjaGlkOiAweDk5MzJjYyxcbiAgZGFya3JlZDogMHg4YjAwMDAsXG4gIGRhcmtzYWxtb246IDB4ZTk5NjdhLFxuICBkYXJrc2VhZ3JlZW46IDB4OGZiYzhmLFxuICBkYXJrc2xhdGVibHVlOiAweDQ4M2Q4YixcbiAgZGFya3NsYXRlZ3JheTogMHgyZjRmNGYsXG4gIGRhcmtzbGF0ZWdyZXk6IDB4MmY0ZjRmLFxuICBkYXJrdHVycXVvaXNlOiAweDAwY2VkMSxcbiAgZGFya3Zpb2xldDogMHg5NDAwZDMsXG4gIGRlZXBwaW5rOiAweGZmMTQ5MyxcbiAgZGVlcHNreWJsdWU6IDB4MDBiZmZmLFxuICBkaW1ncmF5OiAweDY5Njk2OSxcbiAgZGltZ3JleTogMHg2OTY5NjksXG4gIGRvZGdlcmJsdWU6IDB4MWU5MGZmLFxuICBmaXJlYnJpY2s6IDB4YjIyMjIyLFxuICBmbG9yYWx3aGl0ZTogMHhmZmZhZjAsXG4gIGZvcmVzdGdyZWVuOiAweDIyOGIyMixcbiAgZnVjaHNpYTogMHhmZjAwZmYsXG4gIGdhaW5zYm9ybzogMHhkY2RjZGMsXG4gIGdob3N0d2hpdGU6IDB4ZjhmOGZmLFxuICBnb2xkOiAweGZmZDcwMCxcbiAgZ29sZGVucm9kOiAweGRhYTUyMCxcbiAgZ3JheTogMHg4MDgwODAsXG4gIGdyZWVuOiAweDAwODAwMCxcbiAgZ3JlZW55ZWxsb3c6IDB4YWRmZjJmLFxuICBncmV5OiAweDgwODA4MCxcbiAgaG9uZXlkZXc6IDB4ZjBmZmYwLFxuICBob3RwaW5rOiAweGZmNjliNCxcbiAgaW5kaWFucmVkOiAweGNkNWM1YyxcbiAgaW5kaWdvOiAweDRiMDA4MixcbiAgaXZvcnk6IDB4ZmZmZmYwLFxuICBraGFraTogMHhmMGU2OGMsXG4gIGxhdmVuZGVyOiAweGU2ZTZmYSxcbiAgbGF2ZW5kZXJibHVzaDogMHhmZmYwZjUsXG4gIGxhd25ncmVlbjogMHg3Y2ZjMDAsXG4gIGxlbW9uY2hpZmZvbjogMHhmZmZhY2QsXG4gIGxpZ2h0Ymx1ZTogMHhhZGQ4ZTYsXG4gIGxpZ2h0Y29yYWw6IDB4ZjA4MDgwLFxuICBsaWdodGN5YW46IDB4ZTBmZmZmLFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogMHhmYWZhZDIsXG4gIGxpZ2h0Z3JheTogMHhkM2QzZDMsXG4gIGxpZ2h0Z3JlZW46IDB4OTBlZTkwLFxuICBsaWdodGdyZXk6IDB4ZDNkM2QzLFxuICBsaWdodHBpbms6IDB4ZmZiNmMxLFxuICBsaWdodHNhbG1vbjogMHhmZmEwN2EsXG4gIGxpZ2h0c2VhZ3JlZW46IDB4MjBiMmFhLFxuICBsaWdodHNreWJsdWU6IDB4ODdjZWZhLFxuICBsaWdodHNsYXRlZ3JheTogMHg3Nzg4OTksXG4gIGxpZ2h0c2xhdGVncmV5OiAweDc3ODg5OSxcbiAgbGlnaHRzdGVlbGJsdWU6IDB4YjBjNGRlLFxuICBsaWdodHllbGxvdzogMHhmZmZmZTAsXG4gIGxpbWU6IDB4MDBmZjAwLFxuICBsaW1lZ3JlZW46IDB4MzJjZDMyLFxuICBsaW5lbjogMHhmYWYwZTYsXG4gIG1hZ2VudGE6IDB4ZmYwMGZmLFxuICBtYXJvb246IDB4ODAwMDAwLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAweDY2Y2RhYSxcbiAgbWVkaXVtYmx1ZTogMHgwMDAwY2QsXG4gIG1lZGl1bW9yY2hpZDogMHhiYTU1ZDMsXG4gIG1lZGl1bXB1cnBsZTogMHg5MzcwZGIsXG4gIG1lZGl1bXNlYWdyZWVuOiAweDNjYjM3MSxcbiAgbWVkaXVtc2xhdGVibHVlOiAweDdiNjhlZSxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDB4MDBmYTlhLFxuICBtZWRpdW10dXJxdW9pc2U6IDB4NDhkMWNjLFxuICBtZWRpdW12aW9sZXRyZWQ6IDB4YzcxNTg1LFxuICBtaWRuaWdodGJsdWU6IDB4MTkxOTcwLFxuICBtaW50Y3JlYW06IDB4ZjVmZmZhLFxuICBtaXN0eXJvc2U6IDB4ZmZlNGUxLFxuICBtb2NjYXNpbjogMHhmZmU0YjUsXG4gIG5hdmFqb3doaXRlOiAweGZmZGVhZCxcbiAgbmF2eTogMHgwMDAwODAsXG4gIG9sZGxhY2U6IDB4ZmRmNWU2LFxuICBvbGl2ZTogMHg4MDgwMDAsXG4gIG9saXZlZHJhYjogMHg2YjhlMjMsXG4gIG9yYW5nZTogMHhmZmE1MDAsXG4gIG9yYW5nZXJlZDogMHhmZjQ1MDAsXG4gIG9yY2hpZDogMHhkYTcwZDYsXG4gIHBhbGVnb2xkZW5yb2Q6IDB4ZWVlOGFhLFxuICBwYWxlZ3JlZW46IDB4OThmYjk4LFxuICBwYWxldHVycXVvaXNlOiAweGFmZWVlZSxcbiAgcGFsZXZpb2xldHJlZDogMHhkYjcwOTMsXG4gIHBhcGF5YXdoaXA6IDB4ZmZlZmQ1LFxuICBwZWFjaHB1ZmY6IDB4ZmZkYWI5LFxuICBwZXJ1OiAweGNkODUzZixcbiAgcGluazogMHhmZmMwY2IsXG4gIHBsdW06IDB4ZGRhMGRkLFxuICBwb3dkZXJibHVlOiAweGIwZTBlNixcbiAgcHVycGxlOiAweDgwMDA4MCxcbiAgcmViZWNjYXB1cnBsZTogMHg2NjMzOTksXG4gIHJlZDogMHhmZjAwMDAsXG4gIHJvc3licm93bjogMHhiYzhmOGYsXG4gIHJveWFsYmx1ZTogMHg0MTY5ZTEsXG4gIHNhZGRsZWJyb3duOiAweDhiNDUxMyxcbiAgc2FsbW9uOiAweGZhODA3MixcbiAgc2FuZHlicm93bjogMHhmNGE0NjAsXG4gIHNlYWdyZWVuOiAweDJlOGI1NyxcbiAgc2Vhc2hlbGw6IDB4ZmZmNWVlLFxuICBzaWVubmE6IDB4YTA1MjJkLFxuICBzaWx2ZXI6IDB4YzBjMGMwLFxuICBza3libHVlOiAweDg3Y2VlYixcbiAgc2xhdGVibHVlOiAweDZhNWFjZCxcbiAgc2xhdGVncmF5OiAweDcwODA5MCxcbiAgc2xhdGVncmV5OiAweDcwODA5MCxcbiAgc25vdzogMHhmZmZhZmEsXG4gIHNwcmluZ2dyZWVuOiAweDAwZmY3ZixcbiAgc3RlZWxibHVlOiAweDQ2ODJiNCxcbiAgdGFuOiAweGQyYjQ4YyxcbiAgdGVhbDogMHgwMDgwODAsXG4gIHRoaXN0bGU6IDB4ZDhiZmQ4LFxuICB0b21hdG86IDB4ZmY2MzQ3LFxuICB0dXJxdW9pc2U6IDB4NDBlMGQwLFxuICB2aW9sZXQ6IDB4ZWU4MmVlLFxuICB3aGVhdDogMHhmNWRlYjMsXG4gIHdoaXRlOiAweGZmZmZmZixcbiAgd2hpdGVzbW9rZTogMHhmNWY1ZjUsXG4gIHllbGxvdzogMHhmZmZmMDAsXG4gIHllbGxvd2dyZWVuOiAweDlhY2QzMlxufTtcblxuZGVmaW5lKENvbG9yLCBjb2xvciwge1xuICBjb3B5OiBmdW5jdGlvbihjaGFubmVscykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyB0aGlzLmNvbnN0cnVjdG9yLCB0aGlzLCBjaGFubmVscyk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2IoKS5kaXNwbGF5YWJsZSgpO1xuICB9LFxuICBoZXg6IGNvbG9yX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiBjb2xvcl9mb3JtYXRIZXgsXG4gIGZvcm1hdEhzbDogY29sb3JfZm9ybWF0SHNsLFxuICBmb3JtYXRSZ2I6IGNvbG9yX2Zvcm1hdFJnYixcbiAgdG9TdHJpbmc6IGNvbG9yX2Zvcm1hdFJnYlxufSk7XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhleCgpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0SGV4KCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdEhzbCgpIHtcbiAgcmV0dXJuIGhzbENvbnZlcnQodGhpcykuZm9ybWF0SHNsKCk7XG59XG5cbmZ1bmN0aW9uIGNvbG9yX2Zvcm1hdFJnYigpIHtcbiAgcmV0dXJuIHRoaXMucmdiKCkuZm9ybWF0UmdiKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbG9yKGZvcm1hdCkge1xuICB2YXIgbSwgbDtcbiAgZm9ybWF0ID0gKGZvcm1hdCArIFwiXCIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKG0gPSByZUhleC5leGVjKGZvcm1hdCkpID8gKGwgPSBtWzFdLmxlbmd0aCwgbSA9IHBhcnNlSW50KG1bMV0sIDE2KSwgbCA9PT0gNiA/IHJnYm4obSkgLy8gI2ZmMDAwMFxuICAgICAgOiBsID09PSAzID8gbmV3IFJnYigobSA+PiA4ICYgMHhmKSB8IChtID4+IDQgJiAweGYwKSwgKG0gPj4gNCAmIDB4ZikgfCAobSAmIDB4ZjApLCAoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpLCAxKSAvLyAjZjAwXG4gICAgICA6IGwgPT09IDggPyBuZXcgUmdiKG0gPj4gMjQgJiAweGZmLCBtID4+IDE2ICYgMHhmZiwgbSA+PiA4ICYgMHhmZiwgKG0gJiAweGZmKSAvIDB4ZmYpIC8vICNmZjAwMDAwMFxuICAgICAgOiBsID09PSA0ID8gbmV3IFJnYigobSA+PiAxMiAmIDB4ZikgfCAobSA+PiA4ICYgMHhmMCksIChtID4+IDggJiAweGYpIHwgKG0gPj4gNCAmIDB4ZjApLCAobSA+PiA0ICYgMHhmKSB8IChtICYgMHhmMCksICgoKG0gJiAweGYpIDw8IDQpIHwgKG0gJiAweGYpKSAvIDB4ZmYpIC8vICNmMDAwXG4gICAgICA6IG51bGwpIC8vIGludmFsaWQgaGV4XG4gICAgICA6IChtID0gcmVSZ2JJbnRlZ2VyLmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0sIG1bMl0sIG1bM10sIDEpIC8vIHJnYigyNTUsIDAsIDApXG4gICAgICA6IChtID0gcmVSZ2JQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBuZXcgUmdiKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIDEpIC8vIHJnYigxMDAlLCAwJSwgMCUpXG4gICAgICA6IChtID0gcmVSZ2JhSW50ZWdlci5leGVjKGZvcm1hdCkpID8gcmdiYShtWzFdLCBtWzJdLCBtWzNdLCBtWzRdKSAvLyByZ2JhKDI1NSwgMCwgMCwgMSlcbiAgICAgIDogKG0gPSByZVJnYmFQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyByZ2JhKG1bMV0gKiAyNTUgLyAxMDAsIG1bMl0gKiAyNTUgLyAxMDAsIG1bM10gKiAyNTUgLyAxMDAsIG1bNF0pIC8vIHJnYigxMDAlLCAwJSwgMCUsIDEpXG4gICAgICA6IChtID0gcmVIc2xQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBoc2xhKG1bMV0sIG1bMl0gLyAxMDAsIG1bM10gLyAxMDAsIDEpIC8vIGhzbCgxMjAsIDUwJSwgNTAlKVxuICAgICAgOiAobSA9IHJlSHNsYVBlcmNlbnQuZXhlYyhmb3JtYXQpKSA/IGhzbGEobVsxXSwgbVsyXSAvIDEwMCwgbVszXSAvIDEwMCwgbVs0XSkgLy8gaHNsYSgxMjAsIDUwJSwgNTAlLCAxKVxuICAgICAgOiBuYW1lZC5oYXNPd25Qcm9wZXJ0eShmb3JtYXQpID8gcmdibihuYW1lZFtmb3JtYXRdKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgOiBmb3JtYXQgPT09IFwidHJhbnNwYXJlbnRcIiA/IG5ldyBSZ2IoTmFOLCBOYU4sIE5hTiwgMClcbiAgICAgIDogbnVsbDtcbn1cblxuZnVuY3Rpb24gcmdibihuKSB7XG4gIHJldHVybiBuZXcgUmdiKG4gPj4gMTYgJiAweGZmLCBuID4+IDggJiAweGZmLCBuICYgMHhmZiwgMSk7XG59XG5cbmZ1bmN0aW9uIHJnYmEociwgZywgYiwgYSkge1xuICBpZiAoYSA8PSAwKSByID0gZyA9IGIgPSBOYU47XG4gIHJldHVybiBuZXcgUmdiKHIsIGcsIGIsIGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmdiQ29udmVydChvKSB7XG4gIGlmICghKG8gaW5zdGFuY2VvZiBDb2xvcikpIG8gPSBjb2xvcihvKTtcbiAgaWYgKCFvKSByZXR1cm4gbmV3IFJnYjtcbiAgbyA9IG8ucmdiKCk7XG4gIHJldHVybiBuZXcgUmdiKG8uciwgby5nLCBvLmIsIG8ub3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2IociwgZywgYiwgb3BhY2l0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IHJnYkNvbnZlcnQocikgOiBuZXcgUmdiKHIsIGcsIGIsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJnYihyLCBnLCBiLCBvcGFjaXR5KSB7XG4gIHRoaXMuciA9ICtyO1xuICB0aGlzLmcgPSArZztcbiAgdGhpcy5iID0gK2I7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoUmdiLCByZ2IsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcjogZnVuY3Rpb24oaykge1xuICAgIGsgPSBrID09IG51bGwgPyBicmlnaHRlciA6IE1hdGgucG93KGJyaWdodGVyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXI6IGZ1bmN0aW9uKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IFJnYih0aGlzLnIgKiBrLCB0aGlzLmcgKiBrLCB0aGlzLmIgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICByZ2I6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBkaXNwbGF5YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICgtMC41IDw9IHRoaXMuciAmJiB0aGlzLnIgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5nICYmIHRoaXMuZyA8IDI1NS41KVxuICAgICAgICAmJiAoLTAuNSA8PSB0aGlzLmIgJiYgdGhpcy5iIDwgMjU1LjUpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGhleDogcmdiX2Zvcm1hdEhleCwgLy8gRGVwcmVjYXRlZCEgVXNlIGNvbG9yLmZvcm1hdEhleC5cbiAgZm9ybWF0SGV4OiByZ2JfZm9ybWF0SGV4LFxuICBmb3JtYXRSZ2I6IHJnYl9mb3JtYXRSZ2IsXG4gIHRvU3RyaW5nOiByZ2JfZm9ybWF0UmdiXG59KSk7XG5cbmZ1bmN0aW9uIHJnYl9mb3JtYXRIZXgoKSB7XG4gIHJldHVybiBcIiNcIiArIGhleCh0aGlzLnIpICsgaGV4KHRoaXMuZykgKyBoZXgodGhpcy5iKTtcbn1cblxuZnVuY3Rpb24gcmdiX2Zvcm1hdFJnYigpIHtcbiAgdmFyIGEgPSB0aGlzLm9wYWNpdHk7IGEgPSBpc05hTihhKSA/IDEgOiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBhKSk7XG4gIHJldHVybiAoYSA9PT0gMSA/IFwicmdiKFwiIDogXCJyZ2JhKFwiKVxuICAgICAgKyBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQodGhpcy5yKSB8fCAwKSkgKyBcIiwgXCJcbiAgICAgICsgTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHRoaXMuZykgfHwgMCkpICsgXCIsIFwiXG4gICAgICArIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh0aGlzLmIpIHx8IDApKVxuICAgICAgKyAoYSA9PT0gMSA/IFwiKVwiIDogXCIsIFwiICsgYSArIFwiKVwiKTtcbn1cblxuZnVuY3Rpb24gaGV4KHZhbHVlKSB7XG4gIHZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHZhbHVlKSB8fCAwKSk7XG4gIHJldHVybiAodmFsdWUgPCAxNiA/IFwiMFwiIDogXCJcIikgKyB2YWx1ZS50b1N0cmluZygxNik7XG59XG5cbmZ1bmN0aW9uIGhzbGEoaCwgcywgbCwgYSkge1xuICBpZiAoYSA8PSAwKSBoID0gcyA9IGwgPSBOYU47XG4gIGVsc2UgaWYgKGwgPD0gMCB8fCBsID49IDEpIGggPSBzID0gTmFOO1xuICBlbHNlIGlmIChzIDw9IDApIGggPSBOYU47XG4gIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsQ29udmVydChvKSB7XG4gIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbmV3IEhzbChvLmgsIG8ucywgby5sLCBvLm9wYWNpdHkpO1xuICBpZiAoIShvIGluc3RhbmNlb2YgQ29sb3IpKSBvID0gY29sb3Iobyk7XG4gIGlmICghbykgcmV0dXJuIG5ldyBIc2w7XG4gIGlmIChvIGluc3RhbmNlb2YgSHNsKSByZXR1cm4gbztcbiAgbyA9IG8ucmdiKCk7XG4gIHZhciByID0gby5yIC8gMjU1LFxuICAgICAgZyA9IG8uZyAvIDI1NSxcbiAgICAgIGIgPSBvLmIgLyAyNTUsXG4gICAgICBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKSxcbiAgICAgIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLFxuICAgICAgaCA9IE5hTixcbiAgICAgIHMgPSBtYXggLSBtaW4sXG4gICAgICBsID0gKG1heCArIG1pbikgLyAyO1xuICBpZiAocykge1xuICAgIGlmIChyID09PSBtYXgpIGggPSAoZyAtIGIpIC8gcyArIChnIDwgYikgKiA2O1xuICAgIGVsc2UgaWYgKGcgPT09IG1heCkgaCA9IChiIC0gcikgLyBzICsgMjtcbiAgICBlbHNlIGggPSAociAtIGcpIC8gcyArIDQ7XG4gICAgcyAvPSBsIDwgMC41ID8gbWF4ICsgbWluIDogMiAtIG1heCAtIG1pbjtcbiAgICBoICo9IDYwO1xuICB9IGVsc2Uge1xuICAgIHMgPSBsID4gMCAmJiBsIDwgMSA/IDAgOiBoO1xuICB9XG4gIHJldHVybiBuZXcgSHNsKGgsIHMsIGwsIG8ub3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoc2woaCwgcywgbCwgb3BhY2l0eSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IGhzbENvbnZlcnQoaCkgOiBuZXcgSHNsKGgsIHMsIGwsIG9wYWNpdHkgPT0gbnVsbCA/IDEgOiBvcGFjaXR5KTtcbn1cblxuZnVuY3Rpb24gSHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgdGhpcy5oID0gK2g7XG4gIHRoaXMucyA9ICtzO1xuICB0aGlzLmwgPSArbDtcbiAgdGhpcy5vcGFjaXR5ID0gK29wYWNpdHk7XG59XG5cbmRlZmluZShIc2wsIGhzbCwgZXh0ZW5kKENvbG9yLCB7XG4gIGJyaWdodGVyOiBmdW5jdGlvbihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGJyaWdodGVyIDogTWF0aC5wb3coYnJpZ2h0ZXIsIGspO1xuICAgIHJldHVybiBuZXcgSHNsKHRoaXMuaCwgdGhpcy5zLCB0aGlzLmwgKiBrLCB0aGlzLm9wYWNpdHkpO1xuICB9LFxuICBkYXJrZXI6IGZ1bmN0aW9uKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gZGFya2VyIDogTWF0aC5wb3coZGFya2VyLCBrKTtcbiAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgcmdiOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaCA9IHRoaXMuaCAlIDM2MCArICh0aGlzLmggPCAwKSAqIDM2MCxcbiAgICAgICAgcyA9IGlzTmFOKGgpIHx8IGlzTmFOKHRoaXMucykgPyAwIDogdGhpcy5zLFxuICAgICAgICBsID0gdGhpcy5sLFxuICAgICAgICBtMiA9IGwgKyAobCA8IDAuNSA/IGwgOiAxIC0gbCkgKiBzLFxuICAgICAgICBtMSA9IDIgKiBsIC0gbTI7XG4gICAgcmV0dXJuIG5ldyBSZ2IoXG4gICAgICBoc2wycmdiKGggPj0gMjQwID8gaCAtIDI0MCA6IGggKyAxMjAsIG0xLCBtMiksXG4gICAgICBoc2wycmdiKGgsIG0xLCBtMiksXG4gICAgICBoc2wycmdiKGggPCAxMjAgPyBoICsgMjQwIDogaCAtIDEyMCwgbTEsIG0yKSxcbiAgICAgIHRoaXMub3BhY2l0eVxuICAgICk7XG4gIH0sXG4gIGRpc3BsYXlhYmxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKDAgPD0gdGhpcy5zICYmIHRoaXMucyA8PSAxIHx8IGlzTmFOKHRoaXMucykpXG4gICAgICAgICYmICgwIDw9IHRoaXMubCAmJiB0aGlzLmwgPD0gMSlcbiAgICAgICAgJiYgKDAgPD0gdGhpcy5vcGFjaXR5ICYmIHRoaXMub3BhY2l0eSA8PSAxKTtcbiAgfSxcbiAgZm9ybWF0SHNsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYSA9IHRoaXMub3BhY2l0eTsgYSA9IGlzTmFOKGEpID8gMSA6IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGEpKTtcbiAgICByZXR1cm4gKGEgPT09IDEgPyBcImhzbChcIiA6IFwiaHNsYShcIilcbiAgICAgICAgKyAodGhpcy5oIHx8IDApICsgXCIsIFwiXG4gICAgICAgICsgKHRoaXMucyB8fCAwKSAqIDEwMCArIFwiJSwgXCJcbiAgICAgICAgKyAodGhpcy5sIHx8IDApICogMTAwICsgXCIlXCJcbiAgICAgICAgKyAoYSA9PT0gMSA/IFwiKVwiIDogXCIsIFwiICsgYSArIFwiKVwiKTtcbiAgfVxufSkpO1xuXG4vKiBGcm9tIEZ2RCAxMy4zNywgQ1NTIENvbG9yIE1vZHVsZSBMZXZlbCAzICovXG5mdW5jdGlvbiBoc2wycmdiKGgsIG0xLCBtMikge1xuICByZXR1cm4gKGggPCA2MCA/IG0xICsgKG0yIC0gbTEpICogaCAvIDYwXG4gICAgICA6IGggPCAxODAgPyBtMlxuICAgICAgOiBoIDwgMjQwID8gbTEgKyAobTIgLSBtMSkgKiAoMjQwIC0gaCkgLyA2MFxuICAgICAgOiBtMSkgKiAyNTU7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gYmFzaXModDEsIHYwLCB2MSwgdjIsIHYzKSB7XG4gIHZhciB0MiA9IHQxICogdDEsIHQzID0gdDIgKiB0MTtcbiAgcmV0dXJuICgoMSAtIDMgKiB0MSArIDMgKiB0MiAtIHQzKSAqIHYwXG4gICAgICArICg0IC0gNiAqIHQyICsgMyAqIHQzKSAqIHYxXG4gICAgICArICgxICsgMyAqIHQxICsgMyAqIHQyIC0gMyAqIHQzKSAqIHYyXG4gICAgICArIHQzICogdjMpIC8gNjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aCAtIDE7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSB0IDw9IDAgPyAodCA9IDApIDogdCA+PSAxID8gKHQgPSAxLCBuIC0gMSkgOiBNYXRoLmZsb29yKHQgKiBuKSxcbiAgICAgICAgdjEgPSB2YWx1ZXNbaV0sXG4gICAgICAgIHYyID0gdmFsdWVzW2kgKyAxXSxcbiAgICAgICAgdjAgPSBpID4gMCA/IHZhbHVlc1tpIC0gMV0gOiAyICogdjEgLSB2MixcbiAgICAgICAgdjMgPSBpIDwgbiAtIDEgPyB2YWx1ZXNbaSArIDJdIDogMiAqIHYyIC0gdjE7XG4gICAgcmV0dXJuIGJhc2lzKCh0IC0gaSAvIG4pICogbiwgdjAsIHYxLCB2MiwgdjMpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG59XG4iLCJpbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcblxuZnVuY3Rpb24gbGluZWFyKGEsIGQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSArIHQgKiBkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHBvbmVudGlhbChhLCBiLCB5KSB7XG4gIHJldHVybiBhID0gTWF0aC5wb3coYSwgeSksIGIgPSBNYXRoLnBvdyhiLCB5KSAtIGEsIHkgPSAxIC8geSwgZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyhhICsgdCAqIGIsIHkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHVlKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCA+IDE4MCB8fCBkIDwgLTE4MCA/IGQgLSAzNjAgKiBNYXRoLnJvdW5kKGQgLyAzNjApIDogZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdhbW1hKHkpIHtcbiAgcmV0dXJuICh5ID0gK3kpID09PSAxID8gbm9nYW1tYSA6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYiAtIGEgPyBleHBvbmVudGlhbChhLCBiLCB5KSA6IGNvbnN0YW50KGlzTmFOKGEpID8gYiA6IGEpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBub2dhbW1hKGEsIGIpIHtcbiAgdmFyIGQgPSBiIC0gYTtcbiAgcmV0dXJuIGQgPyBsaW5lYXIoYSwgZCkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbn1cbiIsImltcG9ydCB7cmdiIGFzIGNvbG9yUmdifSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCBiYXNpcyBmcm9tIFwiLi9iYXNpcy5qc1wiO1xuaW1wb3J0IGJhc2lzQ2xvc2VkIGZyb20gXCIuL2Jhc2lzQ2xvc2VkLmpzXCI7XG5pbXBvcnQgbm9nYW1tYSwge2dhbW1hfSBmcm9tIFwiLi9jb2xvci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gcmdiR2FtbWEoeSkge1xuICB2YXIgY29sb3IgPSBnYW1tYSh5KTtcblxuICBmdW5jdGlvbiByZ2Ioc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gY29sb3IoKHN0YXJ0ID0gY29sb3JSZ2Ioc3RhcnQpKS5yLCAoZW5kID0gY29sb3JSZ2IoZW5kKSkuciksXG4gICAgICAgIGcgPSBjb2xvcihzdGFydC5nLCBlbmQuZyksXG4gICAgICAgIGIgPSBjb2xvcihzdGFydC5iLCBlbmQuYiksXG4gICAgICAgIG9wYWNpdHkgPSBub2dhbW1hKHN0YXJ0Lm9wYWNpdHksIGVuZC5vcGFjaXR5KTtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgc3RhcnQuciA9IHIodCk7XG4gICAgICBzdGFydC5nID0gZyh0KTtcbiAgICAgIHN0YXJ0LmIgPSBiKHQpO1xuICAgICAgc3RhcnQub3BhY2l0eSA9IG9wYWNpdHkodCk7XG4gICAgICByZXR1cm4gc3RhcnQgKyBcIlwiO1xuICAgIH07XG4gIH1cblxuICByZ2IuZ2FtbWEgPSByZ2JHYW1tYTtcblxuICByZXR1cm4gcmdiO1xufSkoMSk7XG5cbmZ1bmN0aW9uIHJnYlNwbGluZShzcGxpbmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbG9ycykge1xuICAgIHZhciBuID0gY29sb3JzLmxlbmd0aCxcbiAgICAgICAgciA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgZyA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgYiA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgaSwgY29sb3I7XG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgY29sb3IgPSBjb2xvclJnYihjb2xvcnNbaV0pO1xuICAgICAgcltpXSA9IGNvbG9yLnIgfHwgMDtcbiAgICAgIGdbaV0gPSBjb2xvci5nIHx8IDA7XG4gICAgICBiW2ldID0gY29sb3IuYiB8fCAwO1xuICAgIH1cbiAgICByID0gc3BsaW5lKHIpO1xuICAgIGcgPSBzcGxpbmUoZyk7XG4gICAgYiA9IHNwbGluZShiKTtcbiAgICBjb2xvci5vcGFjaXR5ID0gMTtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgY29sb3IuciA9IHIodCk7XG4gICAgICBjb2xvci5nID0gZyh0KTtcbiAgICAgIGNvbG9yLmIgPSBiKHQpO1xuICAgICAgcmV0dXJuIGNvbG9yICsgXCJcIjtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgdmFyIHJnYkJhc2lzID0gcmdiU3BsaW5lKGJhc2lzKTtcbmV4cG9ydCB2YXIgcmdiQmFzaXNDbG9zZWQgPSByZ2JTcGxpbmUoYmFzaXNDbG9zZWQpO1xuIiwiaW1wb3J0IHtiYXNpc30gZnJvbSBcIi4vYmFzaXMuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB2YXIgaSA9IE1hdGguZmxvb3IoKCh0ICU9IDEpIDwgMCA/ICsrdCA6IHQpICogbiksXG4gICAgICAgIHYwID0gdmFsdWVzWyhpICsgbiAtIDEpICUgbl0sXG4gICAgICAgIHYxID0gdmFsdWVzW2kgJSBuXSxcbiAgICAgICAgdjIgPSB2YWx1ZXNbKGkgKyAxKSAlIG5dLFxuICAgICAgICB2MyA9IHZhbHVlc1soaSArIDIpICUgbl07XG4gICAgcmV0dXJuIGJhc2lzKCh0IC0gaSAvIG4pICogbiwgdjAsIHYxLCB2MiwgdjMpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgZCA9IG5ldyBEYXRlO1xuICByZXR1cm4gYSA9ICthLCBiID0gK2IsIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gZC5zZXRUaW1lKGEgKiAoMSAtIHQpICsgYiAqIHQpLCBkO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9ICthLCBiID0gK2IsIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gYSAqICgxIC0gdCkgKyBiICogdDtcbiAgfTtcbn1cbiIsImltcG9ydCBudW1iZXIgZnJvbSBcIi4vbnVtYmVyLmpzXCI7XG5cbnZhciByZUEgPSAvWy0rXT8oPzpcXGQrXFwuP1xcZCp8XFwuP1xcZCspKD86W2VFXVstK10/XFxkKyk/L2csXG4gICAgcmVCID0gbmV3IFJlZ0V4cChyZUEuc291cmNlLCBcImdcIik7XG5cbmZ1bmN0aW9uIHplcm8oYikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uZShiKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGIodCkgKyBcIlwiO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciBiaSA9IHJlQS5sYXN0SW5kZXggPSByZUIubGFzdEluZGV4ID0gMCwgLy8gc2NhbiBpbmRleCBmb3IgbmV4dCBudW1iZXIgaW4gYlxuICAgICAgYW0sIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYVxuICAgICAgYm0sIC8vIGN1cnJlbnQgbWF0Y2ggaW4gYlxuICAgICAgYnMsIC8vIHN0cmluZyBwcmVjZWRpbmcgY3VycmVudCBudW1iZXIgaW4gYiwgaWYgYW55XG4gICAgICBpID0gLTEsIC8vIGluZGV4IGluIHNcbiAgICAgIHMgPSBbXSwgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzXG4gICAgICBxID0gW107IC8vIG51bWJlciBpbnRlcnBvbGF0b3JzXG5cbiAgLy8gQ29lcmNlIGlucHV0cyB0byBzdHJpbmdzLlxuICBhID0gYSArIFwiXCIsIGIgPSBiICsgXCJcIjtcblxuICAvLyBJbnRlcnBvbGF0ZSBwYWlycyBvZiBudW1iZXJzIGluIGEgJiBiLlxuICB3aGlsZSAoKGFtID0gcmVBLmV4ZWMoYSkpXG4gICAgICAmJiAoYm0gPSByZUIuZXhlYyhiKSkpIHtcbiAgICBpZiAoKGJzID0gYm0uaW5kZXgpID4gYmkpIHsgLy8gYSBzdHJpbmcgcHJlY2VkZXMgdGhlIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGJzID0gYi5zbGljZShiaSwgYnMpO1xuICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgICBlbHNlIHNbKytpXSA9IGJzO1xuICAgIH1cbiAgICBpZiAoKGFtID0gYW1bMF0pID09PSAoYm0gPSBibVswXSkpIHsgLy8gbnVtYmVycyBpbiBhICYgYiBtYXRjaFxuICAgICAgaWYgKHNbaV0pIHNbaV0gKz0gYm07IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgICBlbHNlIHNbKytpXSA9IGJtO1xuICAgIH0gZWxzZSB7IC8vIGludGVycG9sYXRlIG5vbi1tYXRjaGluZyBudW1iZXJzXG4gICAgICBzWysraV0gPSBudWxsO1xuICAgICAgcS5wdXNoKHtpOiBpLCB4OiBudW1iZXIoYW0sIGJtKX0pO1xuICAgIH1cbiAgICBiaSA9IHJlQi5sYXN0SW5kZXg7XG4gIH1cblxuICAvLyBBZGQgcmVtYWlucyBvZiBiLlxuICBpZiAoYmkgPCBiLmxlbmd0aCkge1xuICAgIGJzID0gYi5zbGljZShiaSk7XG4gICAgaWYgKHNbaV0pIHNbaV0gKz0gYnM7IC8vIGNvYWxlc2NlIHdpdGggcHJldmlvdXMgc3RyaW5nXG4gICAgZWxzZSBzWysraV0gPSBicztcbiAgfVxuXG4gIC8vIFNwZWNpYWwgb3B0aW1pemF0aW9uIGZvciBvbmx5IGEgc2luZ2xlIG1hdGNoLlxuICAvLyBPdGhlcndpc2UsIGludGVycG9sYXRlIGVhY2ggb2YgdGhlIG51bWJlcnMgYW5kIHJlam9pbiB0aGUgc3RyaW5nLlxuICByZXR1cm4gcy5sZW5ndGggPCAyID8gKHFbMF1cbiAgICAgID8gb25lKHFbMF0ueClcbiAgICAgIDogemVybyhiKSlcbiAgICAgIDogKGIgPSBxLmxlbmd0aCwgZnVuY3Rpb24odCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBvOyBpIDwgYjsgKytpKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICAgICAgcmV0dXJuIHMuam9pbihcIlwiKTtcbiAgICAgICAgfSk7XG59XG4iLCJ2YXIgZnJhbWUgPSAwLCAvLyBpcyBhbiBhbmltYXRpb24gZnJhbWUgcGVuZGluZz9cbiAgICB0aW1lb3V0ID0gMCwgLy8gaXMgYSB0aW1lb3V0IHBlbmRpbmc/XG4gICAgaW50ZXJ2YWwgPSAwLCAvLyBhcmUgYW55IHRpbWVycyBhY3RpdmU/XG4gICAgcG9rZURlbGF5ID0gMTAwMCwgLy8gaG93IGZyZXF1ZW50bHkgd2UgY2hlY2sgZm9yIGNsb2NrIHNrZXdcbiAgICB0YXNrSGVhZCxcbiAgICB0YXNrVGFpbCxcbiAgICBjbG9ja0xhc3QgPSAwLFxuICAgIGNsb2NrTm93ID0gMCxcbiAgICBjbG9ja1NrZXcgPSAwLFxuICAgIGNsb2NrID0gdHlwZW9mIHBlcmZvcm1hbmNlID09PSBcIm9iamVjdFwiICYmIHBlcmZvcm1hbmNlLm5vdyA/IHBlcmZvcm1hbmNlIDogRGF0ZSxcbiAgICBzZXRGcmFtZSA9IHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZCh3aW5kb3cpIDogZnVuY3Rpb24oZikgeyBzZXRUaW1lb3V0KGYsIDE3KTsgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5vdygpIHtcbiAgcmV0dXJuIGNsb2NrTm93IHx8IChzZXRGcmFtZShjbGVhck5vdyksIGNsb2NrTm93ID0gY2xvY2subm93KCkgKyBjbG9ja1NrZXcpO1xufVxuXG5mdW5jdGlvbiBjbGVhck5vdygpIHtcbiAgY2xvY2tOb3cgPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGltZXIoKSB7XG4gIHRoaXMuX2NhbGwgPVxuICB0aGlzLl90aW1lID1cbiAgdGhpcy5fbmV4dCA9IG51bGw7XG59XG5cblRpbWVyLnByb3RvdHlwZSA9IHRpbWVyLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRpbWVyLFxuICByZXN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblwiKTtcbiAgICB0aW1lID0gKHRpbWUgPT0gbnVsbCA/IG5vdygpIDogK3RpbWUpICsgKGRlbGF5ID09IG51bGwgPyAwIDogK2RlbGF5KTtcbiAgICBpZiAoIXRoaXMuX25leHQgJiYgdGFza1RhaWwgIT09IHRoaXMpIHtcbiAgICAgIGlmICh0YXNrVGFpbCkgdGFza1RhaWwuX25leHQgPSB0aGlzO1xuICAgICAgZWxzZSB0YXNrSGVhZCA9IHRoaXM7XG4gICAgICB0YXNrVGFpbCA9IHRoaXM7XG4gICAgfVxuICAgIHRoaXMuX2NhbGwgPSBjYWxsYmFjaztcbiAgICB0aGlzLl90aW1lID0gdGltZTtcbiAgICBzbGVlcCgpO1xuICB9LFxuICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fY2FsbCkge1xuICAgICAgdGhpcy5fY2FsbCA9IG51bGw7XG4gICAgICB0aGlzLl90aW1lID0gSW5maW5pdHk7XG4gICAgICBzbGVlcCgpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgdC5yZXN0YXJ0KGNhbGxiYWNrLCBkZWxheSwgdGltZSk7XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZXJGbHVzaCgpIHtcbiAgbm93KCk7IC8vIEdldCB0aGUgY3VycmVudCB0aW1lLCBpZiBub3QgYWxyZWFkeSBzZXQuXG4gICsrZnJhbWU7IC8vIFByZXRlbmQgd2XigJl2ZSBzZXQgYW4gYWxhcm0sIGlmIHdlIGhhdmVu4oCZdCBhbHJlYWR5LlxuICB2YXIgdCA9IHRhc2tIZWFkLCBlO1xuICB3aGlsZSAodCkge1xuICAgIGlmICgoZSA9IGNsb2NrTm93IC0gdC5fdGltZSkgPj0gMCkgdC5fY2FsbC5jYWxsKG51bGwsIGUpO1xuICAgIHQgPSB0Ll9uZXh0O1xuICB9XG4gIC0tZnJhbWU7XG59XG5cbmZ1bmN0aW9uIHdha2UoKSB7XG4gIGNsb2NrTm93ID0gKGNsb2NrTGFzdCA9IGNsb2NrLm5vdygpKSArIGNsb2NrU2tldztcbiAgZnJhbWUgPSB0aW1lb3V0ID0gMDtcbiAgdHJ5IHtcbiAgICB0aW1lckZsdXNoKCk7XG4gIH0gZmluYWxseSB7XG4gICAgZnJhbWUgPSAwO1xuICAgIG5hcCgpO1xuICAgIGNsb2NrTm93ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb2tlKCkge1xuICB2YXIgbm93ID0gY2xvY2subm93KCksIGRlbGF5ID0gbm93IC0gY2xvY2tMYXN0O1xuICBpZiAoZGVsYXkgPiBwb2tlRGVsYXkpIGNsb2NrU2tldyAtPSBkZWxheSwgY2xvY2tMYXN0ID0gbm93O1xufVxuXG5mdW5jdGlvbiBuYXAoKSB7XG4gIHZhciB0MCwgdDEgPSB0YXNrSGVhZCwgdDIsIHRpbWUgPSBJbmZpbml0eTtcbiAgd2hpbGUgKHQxKSB7XG4gICAgaWYgKHQxLl9jYWxsKSB7XG4gICAgICBpZiAodGltZSA+IHQxLl90aW1lKSB0aW1lID0gdDEuX3RpbWU7XG4gICAgICB0MCA9IHQxLCB0MSA9IHQxLl9uZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0MiA9IHQxLl9uZXh0LCB0MS5fbmV4dCA9IG51bGw7XG4gICAgICB0MSA9IHQwID8gdDAuX25leHQgPSB0MiA6IHRhc2tIZWFkID0gdDI7XG4gICAgfVxuICB9XG4gIHRhc2tUYWlsID0gdDA7XG4gIHNsZWVwKHRpbWUpO1xufVxuXG5mdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gIGlmIChmcmFtZSkgcmV0dXJuOyAvLyBTb29uZXN0IGFsYXJtIGFscmVhZHkgc2V0LCBvciB3aWxsIGJlLlxuICBpZiAodGltZW91dCkgdGltZW91dCA9IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgdmFyIGRlbGF5ID0gdGltZSAtIGNsb2NrTm93OyAvLyBTdHJpY3RseSBsZXNzIHRoYW4gaWYgd2UgcmVjb21wdXRlZCBjbG9ja05vdy5cbiAgaWYgKGRlbGF5ID4gMjQpIHtcbiAgICBpZiAodGltZSA8IEluZmluaXR5KSB0aW1lb3V0ID0gc2V0VGltZW91dCh3YWtlLCB0aW1lIC0gY2xvY2subm93KCkgLSBjbG9ja1NrZXcpO1xuICAgIGlmIChpbnRlcnZhbCkgaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWludGVydmFsKSBjbG9ja0xhc3QgPSBjbG9jay5ub3coKSwgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChwb2tlLCBwb2tlRGVsYXkpO1xuICAgIGZyYW1lID0gMSwgc2V0RnJhbWUod2FrZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7VGltZXJ9IGZyb20gXCIuL3RpbWVyLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrLCBkZWxheSwgdGltZSkge1xuICB2YXIgdCA9IG5ldyBUaW1lcjtcbiAgZGVsYXkgPSBkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheTtcbiAgdC5yZXN0YXJ0KGZ1bmN0aW9uKGVsYXBzZWQpIHtcbiAgICB0LnN0b3AoKTtcbiAgICBjYWxsYmFjayhlbGFwc2VkICsgZGVsYXkpO1xuICB9LCBkZWxheSwgdGltZSk7XG4gIHJldHVybiB0O1xufVxuIiwiaW1wb3J0IHtkaXNwYXRjaH0gZnJvbSBcImQzLWRpc3BhdGNoXCI7XG5pbXBvcnQge3RpbWVyLCB0aW1lb3V0fSBmcm9tIFwiZDMtdGltZXJcIjtcblxudmFyIGVtcHR5T24gPSBkaXNwYXRjaChcInN0YXJ0XCIsIFwiZW5kXCIsIFwiY2FuY2VsXCIsIFwiaW50ZXJydXB0XCIpO1xudmFyIGVtcHR5VHdlZW4gPSBbXTtcblxuZXhwb3J0IHZhciBDUkVBVEVEID0gMDtcbmV4cG9ydCB2YXIgU0NIRURVTEVEID0gMTtcbmV4cG9ydCB2YXIgU1RBUlRJTkcgPSAyO1xuZXhwb3J0IHZhciBTVEFSVEVEID0gMztcbmV4cG9ydCB2YXIgUlVOTklORyA9IDQ7XG5leHBvcnQgdmFyIEVORElORyA9IDU7XG5leHBvcnQgdmFyIEVOREVEID0gNjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obm9kZSwgbmFtZSwgaWQsIGluZGV4LCBncm91cCwgdGltaW5nKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgaWYgKCFzY2hlZHVsZXMpIG5vZGUuX190cmFuc2l0aW9uID0ge307XG4gIGVsc2UgaWYgKGlkIGluIHNjaGVkdWxlcykgcmV0dXJuO1xuICBjcmVhdGUobm9kZSwgaWQsIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIGluZGV4OiBpbmRleCwgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLlxuICAgIGdyb3VwOiBncm91cCwgLy8gRm9yIGNvbnRleHQgZHVyaW5nIGNhbGxiYWNrLlxuICAgIG9uOiBlbXB0eU9uLFxuICAgIHR3ZWVuOiBlbXB0eVR3ZWVuLFxuICAgIHRpbWU6IHRpbWluZy50aW1lLFxuICAgIGRlbGF5OiB0aW1pbmcuZGVsYXksXG4gICAgZHVyYXRpb246IHRpbWluZy5kdXJhdGlvbixcbiAgICBlYXNlOiB0aW1pbmcuZWFzZSxcbiAgICB0aW1lcjogbnVsbCxcbiAgICBzdGF0ZTogQ1JFQVRFRFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gZ2V0KG5vZGUsIGlkKTtcbiAgaWYgKHNjaGVkdWxlLnN0YXRlID4gQ1JFQVRFRCkgdGhyb3cgbmV3IEVycm9yKFwidG9vIGxhdGU7IGFscmVhZHkgc2NoZWR1bGVkXCIpO1xuICByZXR1cm4gc2NoZWR1bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQobm9kZSwgaWQpIHtcbiAgdmFyIHNjaGVkdWxlID0gZ2V0KG5vZGUsIGlkKTtcbiAgaWYgKHNjaGVkdWxlLnN0YXRlID4gU1RBUlRFRCkgdGhyb3cgbmV3IEVycm9yKFwidG9vIGxhdGU7IGFscmVhZHkgcnVubmluZ1wiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IG5vZGUuX190cmFuc2l0aW9uO1xuICBpZiAoIXNjaGVkdWxlIHx8ICEoc2NoZWR1bGUgPSBzY2hlZHVsZVtpZF0pKSB0aHJvdyBuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIG5vdCBmb3VuZFwiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGUobm9kZSwgaWQsIHNlbGYpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLFxuICAgICAgdHdlZW47XG5cbiAgLy8gSW5pdGlhbGl6ZSB0aGUgc2VsZiB0aW1lciB3aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGNyZWF0ZWQuXG4gIC8vIE5vdGUgdGhlIGFjdHVhbCBkZWxheSBpcyBub3Qga25vd24gdW50aWwgdGhlIGZpcnN0IGNhbGxiYWNrIVxuICBzY2hlZHVsZXNbaWRdID0gc2VsZjtcbiAgc2VsZi50aW1lciA9IHRpbWVyKHNjaGVkdWxlLCAwLCBzZWxmLnRpbWUpO1xuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlKGVsYXBzZWQpIHtcbiAgICBzZWxmLnN0YXRlID0gU0NIRURVTEVEO1xuICAgIHNlbGYudGltZXIucmVzdGFydChzdGFydCwgc2VsZi5kZWxheSwgc2VsZi50aW1lKTtcblxuICAgIC8vIElmIHRoZSBlbGFwc2VkIGRlbGF5IGlzIGxlc3MgdGhhbiBvdXIgZmlyc3Qgc2xlZXAsIHN0YXJ0IGltbWVkaWF0ZWx5LlxuICAgIGlmIChzZWxmLmRlbGF5IDw9IGVsYXBzZWQpIHN0YXJ0KGVsYXBzZWQgLSBzZWxmLmRlbGF5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KGVsYXBzZWQpIHtcbiAgICB2YXIgaSwgaiwgbiwgbztcblxuICAgIC8vIElmIHRoZSBzdGF0ZSBpcyBub3QgU0NIRURVTEVELCB0aGVuIHdlIHByZXZpb3VzbHkgZXJyb3JlZCBvbiBzdGFydC5cbiAgICBpZiAoc2VsZi5zdGF0ZSAhPT0gU0NIRURVTEVEKSByZXR1cm4gc3RvcCgpO1xuXG4gICAgZm9yIChpIGluIHNjaGVkdWxlcykge1xuICAgICAgbyA9IHNjaGVkdWxlc1tpXTtcbiAgICAgIGlmIChvLm5hbWUgIT09IHNlbGYubmFtZSkgY29udGludWU7XG5cbiAgICAgIC8vIFdoaWxlIHRoaXMgZWxlbWVudCBhbHJlYWR5IGhhcyBhIHN0YXJ0aW5nIHRyYW5zaXRpb24gZHVyaW5nIHRoaXMgZnJhbWUsXG4gICAgICAvLyBkZWZlciBzdGFydGluZyBhbiBpbnRlcnJ1cHRpbmcgdHJhbnNpdGlvbiB1bnRpbCB0aGF0IHRyYW5zaXRpb24gaGFzIGFcbiAgICAgIC8vIGNoYW5jZSB0byB0aWNrIChhbmQgcG9zc2libHkgZW5kKTsgc2VlIGQzL2QzLXRyYW5zaXRpb24jNTQhXG4gICAgICBpZiAoby5zdGF0ZSA9PT0gU1RBUlRFRCkgcmV0dXJuIHRpbWVvdXQoc3RhcnQpO1xuXG4gICAgICAvLyBJbnRlcnJ1cHQgdGhlIGFjdGl2ZSB0cmFuc2l0aW9uLCBpZiBhbnkuXG4gICAgICBpZiAoby5zdGF0ZSA9PT0gUlVOTklORykge1xuICAgICAgICBvLnN0YXRlID0gRU5ERUQ7XG4gICAgICAgIG8udGltZXIuc3RvcCgpO1xuICAgICAgICBvLm9uLmNhbGwoXCJpbnRlcnJ1cHRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgby5pbmRleCwgby5ncm91cCk7XG4gICAgICAgIGRlbGV0ZSBzY2hlZHVsZXNbaV07XG4gICAgICB9XG5cbiAgICAgIC8vIENhbmNlbCBhbnkgcHJlLWVtcHRlZCB0cmFuc2l0aW9ucy5cbiAgICAgIGVsc2UgaWYgKCtpIDwgaWQpIHtcbiAgICAgICAgby5zdGF0ZSA9IEVOREVEO1xuICAgICAgICBvLnRpbWVyLnN0b3AoKTtcbiAgICAgICAgby5vbi5jYWxsKFwiY2FuY2VsXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApO1xuICAgICAgICBkZWxldGUgc2NoZWR1bGVzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmVyIHRoZSBmaXJzdCB0aWNrIHRvIGVuZCBvZiB0aGUgY3VycmVudCBmcmFtZTsgc2VlIGQzL2QzIzE1NzYuXG4gICAgLy8gTm90ZSB0aGUgdHJhbnNpdGlvbiBtYXkgYmUgY2FuY2VsZWQgYWZ0ZXIgc3RhcnQgYW5kIGJlZm9yZSB0aGUgZmlyc3QgdGljayFcbiAgICAvLyBOb3RlIHRoaXMgbXVzdCBiZSBzY2hlZHVsZWQgYmVmb3JlIHRoZSBzdGFydCBldmVudDsgc2VlIGQzL2QzLXRyYW5zaXRpb24jMTYhXG4gICAgLy8gQXNzdW1pbmcgdGhpcyBpcyBzdWNjZXNzZnVsLCBzdWJzZXF1ZW50IGNhbGxiYWNrcyBnbyBzdHJhaWdodCB0byB0aWNrLlxuICAgIHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gU1RBUlRFRCkge1xuICAgICAgICBzZWxmLnN0YXRlID0gUlVOTklORztcbiAgICAgICAgc2VsZi50aW1lci5yZXN0YXJ0KHRpY2ssIHNlbGYuZGVsYXksIHNlbGYudGltZSk7XG4gICAgICAgIHRpY2soZWxhcHNlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgc3RhcnQgZXZlbnQuXG4gICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIHR3ZWVuIGFyZSBpbml0aWFsaXplZC5cbiAgICBzZWxmLnN0YXRlID0gU1RBUlRJTkc7XG4gICAgc2VsZi5vbi5jYWxsKFwic3RhcnRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7XG4gICAgaWYgKHNlbGYuc3RhdGUgIT09IFNUQVJUSU5HKSByZXR1cm47IC8vIGludGVycnVwdGVkXG4gICAgc2VsZi5zdGF0ZSA9IFNUQVJURUQ7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSB0d2VlbiwgZGVsZXRpbmcgbnVsbCB0d2Vlbi5cbiAgICB0d2VlbiA9IG5ldyBBcnJheShuID0gc2VsZi50d2Vlbi5sZW5ndGgpO1xuICAgIGZvciAoaSA9IDAsIGogPSAtMTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG8gPSBzZWxmLnR3ZWVuW2ldLnZhbHVlLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCkpIHtcbiAgICAgICAgdHdlZW5bKytqXSA9IG87XG4gICAgICB9XG4gICAgfVxuICAgIHR3ZWVuLmxlbmd0aCA9IGogKyAxO1xuICB9XG5cbiAgZnVuY3Rpb24gdGljayhlbGFwc2VkKSB7XG4gICAgdmFyIHQgPSBlbGFwc2VkIDwgc2VsZi5kdXJhdGlvbiA/IHNlbGYuZWFzZS5jYWxsKG51bGwsIGVsYXBzZWQgLyBzZWxmLmR1cmF0aW9uKSA6IChzZWxmLnRpbWVyLnJlc3RhcnQoc3RvcCksIHNlbGYuc3RhdGUgPSBFTkRJTkcsIDEpLFxuICAgICAgICBpID0gLTEsXG4gICAgICAgIG4gPSB0d2Vlbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpIDwgbikge1xuICAgICAgdHdlZW5baV0uY2FsbChub2RlLCB0KTtcbiAgICB9XG5cbiAgICAvLyBEaXNwYXRjaCB0aGUgZW5kIGV2ZW50LlxuICAgIGlmIChzZWxmLnN0YXRlID09PSBFTkRJTkcpIHtcbiAgICAgIHNlbGYub24uY2FsbChcImVuZFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBzZWxmLmluZGV4LCBzZWxmLmdyb3VwKTtcbiAgICAgIHN0b3AoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHNlbGYuc3RhdGUgPSBFTkRFRDtcbiAgICBzZWxmLnRpbWVyLnN0b3AoKTtcbiAgICBkZWxldGUgc2NoZWR1bGVzW2lkXTtcbiAgICBmb3IgKHZhciBpIGluIHNjaGVkdWxlcykgcmV0dXJuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgZGVsZXRlIG5vZGUuX190cmFuc2l0aW9uO1xuICB9XG59XG4iLCJpbXBvcnQge1NUQVJUSU5HLCBFTkRJTkcsIEVOREVEfSBmcm9tIFwiLi90cmFuc2l0aW9uL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcbiAgdmFyIHNjaGVkdWxlcyA9IG5vZGUuX190cmFuc2l0aW9uLFxuICAgICAgc2NoZWR1bGUsXG4gICAgICBhY3RpdmUsXG4gICAgICBlbXB0eSA9IHRydWUsXG4gICAgICBpO1xuXG4gIGlmICghc2NoZWR1bGVzKSByZXR1cm47XG5cbiAgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgXCJcIjtcblxuICBmb3IgKGkgaW4gc2NoZWR1bGVzKSB7XG4gICAgaWYgKChzY2hlZHVsZSA9IHNjaGVkdWxlc1tpXSkubmFtZSAhPT0gbmFtZSkgeyBlbXB0eSA9IGZhbHNlOyBjb250aW51ZTsgfVxuICAgIGFjdGl2ZSA9IHNjaGVkdWxlLnN0YXRlID4gU1RBUlRJTkcgJiYgc2NoZWR1bGUuc3RhdGUgPCBFTkRJTkc7XG4gICAgc2NoZWR1bGUuc3RhdGUgPSBFTkRFRDtcbiAgICBzY2hlZHVsZS50aW1lci5zdG9wKCk7XG4gICAgc2NoZWR1bGUub24uY2FsbChhY3RpdmUgPyBcImludGVycnVwdFwiIDogXCJjYW5jZWxcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2NoZWR1bGUuaW5kZXgsIHNjaGVkdWxlLmdyb3VwKTtcbiAgICBkZWxldGUgc2NoZWR1bGVzW2ldO1xuICB9XG5cbiAgaWYgKGVtcHR5KSBkZWxldGUgbm9kZS5fX3RyYW5zaXRpb247XG59XG4iLCJpbXBvcnQgZGVjb21wb3NlLCB7aWRlbnRpdHl9IGZyb20gXCIuL2RlY29tcG9zZS5qc1wiO1xuXG52YXIgY3NzTm9kZSxcbiAgICBjc3NSb290LFxuICAgIGNzc1ZpZXcsXG4gICAgc3ZnTm9kZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ3NzKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gXCJub25lXCIpIHJldHVybiBpZGVudGl0eTtcbiAgaWYgKCFjc3NOb2RlKSBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKSwgY3NzUm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgY3NzVmlldyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3O1xuICBjc3NOb2RlLnN0eWxlLnRyYW5zZm9ybSA9IHZhbHVlO1xuICB2YWx1ZSA9IGNzc1ZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShjc3NSb290LmFwcGVuZENoaWxkKGNzc05vZGUpLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpO1xuICBjc3NSb290LnJlbW92ZUNoaWxkKGNzc05vZGUpO1xuICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDcsIC0xKS5zcGxpdChcIixcIik7XG4gIHJldHVybiBkZWNvbXBvc2UoK3ZhbHVlWzBdLCArdmFsdWVbMV0sICt2YWx1ZVsyXSwgK3ZhbHVlWzNdLCArdmFsdWVbNF0sICt2YWx1ZVs1XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN2Zyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGlkZW50aXR5O1xuICBpZiAoIXN2Z05vZGUpIHN2Z05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gIHN2Z05vZGUuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIHZhbHVlKTtcbiAgaWYgKCEodmFsdWUgPSBzdmdOb2RlLnRyYW5zZm9ybS5iYXNlVmFsLmNvbnNvbGlkYXRlKCkpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHZhbHVlID0gdmFsdWUubWF0cml4O1xuICByZXR1cm4gZGVjb21wb3NlKHZhbHVlLmEsIHZhbHVlLmIsIHZhbHVlLmMsIHZhbHVlLmQsIHZhbHVlLmUsIHZhbHVlLmYpO1xufVxuIiwidmFyIGRlZ3JlZXMgPSAxODAgLyBNYXRoLlBJO1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0ge1xuICB0cmFuc2xhdGVYOiAwLFxuICB0cmFuc2xhdGVZOiAwLFxuICByb3RhdGU6IDAsXG4gIHNrZXdYOiAwLFxuICBzY2FsZVg6IDEsXG4gIHNjYWxlWTogMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZikge1xuICB2YXIgc2NhbGVYLCBzY2FsZVksIHNrZXdYO1xuICBpZiAoc2NhbGVYID0gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpKSBhIC89IHNjYWxlWCwgYiAvPSBzY2FsZVg7XG4gIGlmIChza2V3WCA9IGEgKiBjICsgYiAqIGQpIGMgLT0gYSAqIHNrZXdYLCBkIC09IGIgKiBza2V3WDtcbiAgaWYgKHNjYWxlWSA9IE1hdGguc3FydChjICogYyArIGQgKiBkKSkgYyAvPSBzY2FsZVksIGQgLz0gc2NhbGVZLCBza2V3WCAvPSBzY2FsZVk7XG4gIGlmIChhICogZCA8IGIgKiBjKSBhID0gLWEsIGIgPSAtYiwgc2tld1ggPSAtc2tld1gsIHNjYWxlWCA9IC1zY2FsZVg7XG4gIHJldHVybiB7XG4gICAgdHJhbnNsYXRlWDogZSxcbiAgICB0cmFuc2xhdGVZOiBmLFxuICAgIHJvdGF0ZTogTWF0aC5hdGFuMihiLCBhKSAqIGRlZ3JlZXMsXG4gICAgc2tld1g6IE1hdGguYXRhbihza2V3WCkgKiBkZWdyZWVzLFxuICAgIHNjYWxlWDogc2NhbGVYLFxuICAgIHNjYWxlWTogc2NhbGVZXG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuLi9udW1iZXIuanNcIjtcbmltcG9ydCB7cGFyc2VDc3MsIHBhcnNlU3ZnfSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZSwgcHhDb21tYSwgcHhQYXJlbiwgZGVnUGFyZW4pIHtcblxuICBmdW5jdGlvbiBwb3Aocykge1xuICAgIHJldHVybiBzLmxlbmd0aCA/IHMucG9wKCkgKyBcIiBcIiA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2xhdGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2goXCJ0cmFuc2xhdGUoXCIsIG51bGwsIHB4Q29tbWEsIG51bGwsIHB4UGFyZW4pO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiB8fCB5Yikge1xuICAgICAgcy5wdXNoKFwidHJhbnNsYXRlKFwiICsgeGIgKyBweENvbW1hICsgeWIgKyBweFBhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGUoYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBpZiAoYSAtIGIgPiAxODApIGIgKz0gMzYwOyBlbHNlIGlmIChiIC0gYSA+IDE4MCkgYSArPSAzNjA7IC8vIHNob3J0ZXN0IHBhdGhcbiAgICAgIHEucHVzaCh7aTogcy5wdXNoKHBvcChzKSArIFwicm90YXRlKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2tld1goYSwgYiwgcywgcSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiLCBudWxsLCBkZWdQYXJlbikgLSAyLCB4OiBudW1iZXIoYSwgYil9KTtcbiAgICB9IGVsc2UgaWYgKGIpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNrZXdYKFwiICsgYiArIGRlZ1BhcmVuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY2FsZSh4YSwgeWEsIHhiLCB5YiwgcywgcSkge1xuICAgIGlmICh4YSAhPT0geGIgfHwgeWEgIT09IHliKSB7XG4gICAgICB2YXIgaSA9IHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiLCBudWxsLCBcIixcIiwgbnVsbCwgXCIpXCIpO1xuICAgICAgcS5wdXNoKHtpOiBpIC0gNCwgeDogbnVtYmVyKHhhLCB4Yil9LCB7aTogaSAtIDIsIHg6IG51bWJlcih5YSwgeWIpfSk7XG4gICAgfSBlbHNlIGlmICh4YiAhPT0gMSB8fCB5YiAhPT0gMSkge1xuICAgICAgcy5wdXNoKHBvcChzKSArIFwic2NhbGUoXCIgKyB4YiArIFwiLFwiICsgeWIgKyBcIilcIik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgcyA9IFtdLCAvLyBzdHJpbmcgY29uc3RhbnRzIGFuZCBwbGFjZWhvbGRlcnNcbiAgICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuICAgIGEgPSBwYXJzZShhKSwgYiA9IHBhcnNlKGIpO1xuICAgIHRyYW5zbGF0ZShhLnRyYW5zbGF0ZVgsIGEudHJhbnNsYXRlWSwgYi50cmFuc2xhdGVYLCBiLnRyYW5zbGF0ZVksIHMsIHEpO1xuICAgIHJvdGF0ZShhLnJvdGF0ZSwgYi5yb3RhdGUsIHMsIHEpO1xuICAgIHNrZXdYKGEuc2tld1gsIGIuc2tld1gsIHMsIHEpO1xuICAgIHNjYWxlKGEuc2NhbGVYLCBhLnNjYWxlWSwgYi5zY2FsZVgsIGIuc2NhbGVZLCBzLCBxKTtcbiAgICBhID0gYiA9IG51bGw7IC8vIGdjXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBpID0gLTEsIG4gPSBxLmxlbmd0aCwgbztcbiAgICAgIHdoaWxlICgrK2kgPCBuKSBzWyhvID0gcVtpXSkuaV0gPSBvLngodCk7XG4gICAgICByZXR1cm4gcy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZUNzcywgXCJweCwgXCIsIFwicHgpXCIsIFwiZGVnKVwiKTtcbmV4cG9ydCB2YXIgaW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgPSBpbnRlcnBvbGF0ZVRyYW5zZm9ybShwYXJzZVN2ZywgXCIsIFwiLCBcIilcIiwgXCIpXCIpO1xuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gdHdlZW5SZW1vdmUoaWQsIG5hbWUpIHtcbiAgdmFyIHR3ZWVuMCwgdHdlZW4xO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgdHdlZW4gPSBzY2hlZHVsZS50d2VlbjtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgdHdlZW4gd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgdHdlZW4gYW5kIHdl4oCZcmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKHR3ZWVuICE9PSB0d2VlbjApIHtcbiAgICAgIHR3ZWVuMSA9IHR3ZWVuMCA9IHR3ZWVuO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2VlbjEubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICAgIGlmICh0d2VlbjFbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgIHR3ZWVuMSA9IHR3ZWVuMS5zbGljZSgpO1xuICAgICAgICAgIHR3ZWVuMS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzY2hlZHVsZS50d2VlbiA9IHR3ZWVuMTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdHdlZW5GdW5jdGlvbihpZCwgbmFtZSwgdmFsdWUpIHtcbiAgdmFyIHR3ZWVuMCwgdHdlZW4xO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSAodHdlZW4wID0gdHdlZW4pLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciB0ID0ge25hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZX0sIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjFbaV0gPSB0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaSA9PT0gbikgdHdlZW4xLnB1c2godCk7XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIG5hbWUgKz0gXCJcIjtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgdHdlZW4gPSBnZXQodGhpcy5ub2RlKCksIGlkKS50d2VlbjtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHR3ZWVuLmxlbmd0aCwgdDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKCh0ID0gdHdlZW5baV0pLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHQudmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbCA/IHR3ZWVuUmVtb3ZlIDogdHdlZW5GdW5jdGlvbikoaWQsIG5hbWUsIHZhbHVlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0d2VlblZhbHVlKHRyYW5zaXRpb24sIG5hbWUsIHZhbHVlKSB7XG4gIHZhciBpZCA9IHRyYW5zaXRpb24uX2lkO1xuXG4gIHRyYW5zaXRpb24uZWFjaChmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpO1xuICAgIChzY2hlZHVsZS52YWx1ZSB8fCAoc2NoZWR1bGUudmFsdWUgPSB7fSkpW25hbWVdID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gZ2V0KG5vZGUsIGlkKS52YWx1ZVtuYW1lXTtcbiAgfTtcbn1cbiIsImltcG9ydCB7Y29sb3J9IGZyb20gXCJkMy1jb2xvclwiO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZU51bWJlciwgaW50ZXJwb2xhdGVSZ2IsIGludGVycG9sYXRlU3RyaW5nfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYztcbiAgcmV0dXJuICh0eXBlb2YgYiA9PT0gXCJudW1iZXJcIiA/IGludGVycG9sYXRlTnVtYmVyXG4gICAgICA6IGIgaW5zdGFuY2VvZiBjb2xvciA/IGludGVycG9sYXRlUmdiXG4gICAgICA6IChjID0gY29sb3IoYikpID8gKGIgPSBjLCBpbnRlcnBvbGF0ZVJnYilcbiAgICAgIDogaW50ZXJwb2xhdGVTdHJpbmcpKGEsIGIpO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlRnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLl9fdHJhbnNpdGlvbikgaWYgKCtpICE9PSBpZCkgcmV0dXJuO1xuICAgIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9uKFwiZW5kLnJlbW92ZVwiLCByZW1vdmVGdW5jdGlvbih0aGlzLl9pZCkpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcblxudmFyIFNlbGVjdGlvbiA9IHNlbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLl9ncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiaW1wb3J0IHtpbnRlcnBvbGF0ZVRyYW5zZm9ybUNzcyBhcyBpbnRlcnBvbGF0ZVRyYW5zZm9ybX0gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5pbXBvcnQge3N0eWxlfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBzdHlsZU51bGwobmFtZSwgaW50ZXJwb2xhdGUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHN0eWxlKHRoaXMsIG5hbWUpLFxuICAgICAgICBzdHJpbmcxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlKHRoaXMsIG5hbWUpKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgc3RyaW5nMTAgPSBzdHJpbmcxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVSZW1vdmUobmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVDb25zdGFudChuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUxKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3R5bGVGdW5jdGlvbihuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHN0eWxlKHRoaXMsIG5hbWUpLFxuICAgICAgICB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSxcbiAgICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCI7XG4gICAgaWYgKHZhbHVlMSA9PSBudWxsKSBzdHJpbmcxID0gdmFsdWUxID0gKHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSksIHN0eWxlKHRoaXMsIG5hbWUpKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlTWF5YmVSZW1vdmUoaWQsIG5hbWUpIHtcbiAgdmFyIG9uMCwgb24xLCBsaXN0ZW5lcjAsIGtleSA9IFwic3R5bGUuXCIgKyBuYW1lLCBldmVudCA9IFwiZW5kLlwiICsga2V5LCByZW1vdmU7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uLFxuICAgICAgICBsaXN0ZW5lciA9IHNjaGVkdWxlLnZhbHVlW2tleV0gPT0gbnVsbCA/IHJlbW92ZSB8fCAocmVtb3ZlID0gc3R5bGVSZW1vdmUobmFtZSkpIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wIHx8IGxpc3RlbmVyMCAhPT0gbGlzdGVuZXIpIChvbjEgPSAob24wID0gb24pLmNvcHkoKSkub24oZXZlbnQsIGxpc3RlbmVyMCA9IGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgdmFyIGkgPSAobmFtZSArPSBcIlwiKSA9PT0gXCJ0cmFuc2Zvcm1cIiA/IGludGVycG9sYXRlVHJhbnNmb3JtIDogaW50ZXJwb2xhdGU7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpc1xuICAgICAgLnN0eWxlVHdlZW4obmFtZSwgc3R5bGVOdWxsKG5hbWUsIGkpKVxuICAgICAgLm9uKFwiZW5kLnN0eWxlLlwiICsgbmFtZSwgc3R5bGVSZW1vdmUobmFtZSkpXG4gICAgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlRnVuY3Rpb24obmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCBcInN0eWxlLlwiICsgbmFtZSwgdmFsdWUpKSlcbiAgICAgIC5lYWNoKHN0eWxlTWF5YmVSZW1vdmUodGhpcy5faWQsIG5hbWUpKVxuICAgIDogdGhpc1xuICAgICAgLnN0eWxlVHdlZW4obmFtZSwgc3R5bGVDb25zdGFudChuYW1lLCBpLCB2YWx1ZSksIHByaW9yaXR5KVxuICAgICAgLm9uKFwiZW5kLnN0eWxlLlwiICsgbmFtZSwgbnVsbCk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGUoaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSBpLmNhbGwodGhpcywgdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRUd2Vlbih2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIHRleHRJbnRlcnBvbGF0ZShpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGtleSA9IFwidGV4dFwiO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDEpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgdGV4dFR3ZWVuKHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge3NlbGVjdGlvbn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHRyYW5zaXRpb25fYXR0ciBmcm9tIFwiLi9hdHRyLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9hdHRyVHdlZW4gZnJvbSBcIi4vYXR0clR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9kZWxheSBmcm9tIFwiLi9kZWxheS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZHVyYXRpb24gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2Vhc2UgZnJvbSBcIi4vZWFzZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZmlsdGVyIGZyb20gXCIuL2ZpbHRlci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX29uIGZyb20gXCIuL29uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9yZW1vdmUgZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3QgZnJvbSBcIi4vc2VsZWN0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zZWxlY3Rpb24gZnJvbSBcIi4vc2VsZWN0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9zdHlsZSBmcm9tIFwiLi9zdHlsZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGVUd2VlbiBmcm9tIFwiLi9zdHlsZVR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0IGZyb20gXCIuL3RleHQuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RleHRUd2VlbiBmcm9tIFwiLi90ZXh0VHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdHdlZW4gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2VuZCBmcm9tIFwiLi9lbmQuanNcIjtcblxudmFyIGlkID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zaXRpb24oZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCkge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xuICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgdGhpcy5faWQgPSBpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNpdGlvbihuYW1lKSB7XG4gIHJldHVybiBzZWxlY3Rpb24oKS50cmFuc2l0aW9uKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3SWQoKSB7XG4gIHJldHVybiArK2lkO1xufVxuXG52YXIgc2VsZWN0aW9uX3Byb3RvdHlwZSA9IHNlbGVjdGlvbi5wcm90b3R5cGU7XG5cblRyYW5zaXRpb24ucHJvdG90eXBlID0gdHJhbnNpdGlvbi5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUcmFuc2l0aW9uLFxuICBzZWxlY3Q6IHRyYW5zaXRpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHRyYW5zaXRpb25fc2VsZWN0QWxsLFxuICBmaWx0ZXI6IHRyYW5zaXRpb25fZmlsdGVyLFxuICBtZXJnZTogdHJhbnNpdGlvbl9tZXJnZSxcbiAgc2VsZWN0aW9uOiB0cmFuc2l0aW9uX3NlbGVjdGlvbixcbiAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbl90cmFuc2l0aW9uLFxuICBjYWxsOiBzZWxlY3Rpb25fcHJvdG90eXBlLmNhbGwsXG4gIG5vZGVzOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGVzLFxuICBub2RlOiBzZWxlY3Rpb25fcHJvdG90eXBlLm5vZGUsXG4gIHNpemU6IHNlbGVjdGlvbl9wcm90b3R5cGUuc2l6ZSxcbiAgZW1wdHk6IHNlbGVjdGlvbl9wcm90b3R5cGUuZW1wdHksXG4gIGVhY2g6IHNlbGVjdGlvbl9wcm90b3R5cGUuZWFjaCxcbiAgb246IHRyYW5zaXRpb25fb24sXG4gIGF0dHI6IHRyYW5zaXRpb25fYXR0cixcbiAgYXR0clR3ZWVuOiB0cmFuc2l0aW9uX2F0dHJUd2VlbixcbiAgc3R5bGU6IHRyYW5zaXRpb25fc3R5bGUsXG4gIHN0eWxlVHdlZW46IHRyYW5zaXRpb25fc3R5bGVUd2VlbixcbiAgdGV4dDogdHJhbnNpdGlvbl90ZXh0LFxuICB0ZXh0VHdlZW46IHRyYW5zaXRpb25fdGV4dFR3ZWVuLFxuICByZW1vdmU6IHRyYW5zaXRpb25fcmVtb3ZlLFxuICB0d2VlbjogdHJhbnNpdGlvbl90d2VlbixcbiAgZGVsYXk6IHRyYW5zaXRpb25fZGVsYXksXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uX2R1cmF0aW9uLFxuICBlYXNlOiB0cmFuc2l0aW9uX2Vhc2UsXG4gIGVuZDogdHJhbnNpdGlvbl9lbmRcbn07XG4iLCJpbXBvcnQge3NlbGVjdG9yfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IG5ldyBBcnJheShuKSwgbm9kZSwgc3Vibm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiAoc3Vibm9kZSA9IHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkpIHtcbiAgICAgICAgaWYgKFwiX19kYXRhX19cIiBpbiBub2RlKSBzdWJub2RlLl9fZGF0YV9fID0gbm9kZS5fX2RhdGFfXztcbiAgICAgICAgc3ViZ3JvdXBbaV0gPSBzdWJub2RlO1xuICAgICAgICBzY2hlZHVsZShzdWJncm91cFtpXSwgbmFtZSwgaWQsIGksIHN1Ymdyb3VwLCBnZXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge3NlbGVjdG9yQWxsfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge1RyYW5zaXRpb259IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUsIHtnZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICB2YXIgbmFtZSA9IHRoaXMuX25hbWUsXG4gICAgICBpZCA9IHRoaXMuX2lkO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0ICE9PSBcImZ1bmN0aW9uXCIpIHNlbGVjdCA9IHNlbGVjdG9yQWxsKHNlbGVjdCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gW10sIHBhcmVudHMgPSBbXSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgZm9yICh2YXIgY2hpbGRyZW4gPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCksIGNoaWxkLCBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkKSwgayA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGsgPCBsOyArK2spIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPSBjaGlsZHJlbltrXSkge1xuICAgICAgICAgICAgc2NoZWR1bGUoY2hpbGQsIG5hbWUsIGlkLCBrLCBjaGlsZHJlbiwgaW5oZXJpdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKGNoaWxkcmVuKTtcbiAgICAgICAgcGFyZW50cy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHBhcmVudHMsIG5hbWUsIGlkKTtcbn1cbiIsImltcG9ydCB7bWF0Y2hlcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0cmFuc2l0aW9uKSB7XG4gIGlmICh0cmFuc2l0aW9uLl9pZCAhPT0gdGhpcy5faWQpIHRocm93IG5ldyBFcnJvcjtcblxuICBmb3IgKHZhciBncm91cHMwID0gdGhpcy5fZ3JvdXBzLCBncm91cHMxID0gdHJhbnNpdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24obWVyZ2VzLCB0aGlzLl9wYXJlbnRzLCB0aGlzLl9uYW1lLCB0aGlzLl9pZCk7XG59XG4iLCJpbXBvcnQge1RyYW5zaXRpb24sIG5ld0lkfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlLCB7Z2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLl9uYW1lLFxuICAgICAgaWQwID0gdGhpcy5faWQsXG4gICAgICBpZDEgPSBuZXdJZCgpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHZhciBpbmhlcml0ID0gZ2V0KG5vZGUsIGlkMCk7XG4gICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkMSwgaSwgZ3JvdXAsIHtcbiAgICAgICAgICB0aW1lOiBpbmhlcml0LnRpbWUgKyBpbmhlcml0LmRlbGF5ICsgaW5oZXJpdC5kdXJhdGlvbixcbiAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICBkdXJhdGlvbjogaW5oZXJpdC5kdXJhdGlvbixcbiAgICAgICAgICBlYXNlOiBpbmhlcml0LmVhc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQxKTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHN0YXJ0KG5hbWUpIHtcbiAgcmV0dXJuIChuYW1lICsgXCJcIikudHJpbSgpLnNwbGl0KC9efFxccysvKS5ldmVyeShmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSB0LmluZGV4T2YoXCIuXCIpO1xuICAgIGlmIChpID49IDApIHQgPSB0LnNsaWNlKDAsIGkpO1xuICAgIHJldHVybiAhdCB8fCB0ID09PSBcInN0YXJ0XCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvbkZ1bmN0aW9uKGlkLCBuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgb24wLCBvbjEsIHNpdCA9IHN0YXJ0KG5hbWUpID8gaW5pdCA6IHNldDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNpdCh0aGlzLCBpZCksXG4gICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAvLyBqdXN0IGFzc2lnbiB0aGUgdXBkYXRlZCBzaGFyZWQgZGlzcGF0Y2ggYW5kIHdl4oCZcmUgZG9uZSFcbiAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgaWYgKG9uICE9PSBvbjApIChvbjEgPSAob24wID0gb24pLmNvcHkoKSkub24obmFtZSwgbGlzdGVuZXIpO1xuXG4gICAgc2NoZWR1bGUub24gPSBvbjE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMlxuICAgICAgPyBnZXQodGhpcy5ub2RlKCksIGlkKS5vbi5vbihuYW1lKVxuICAgICAgOiB0aGlzLmVhY2gob25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1TdmcgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcbmltcG9ydCBpbnRlcnBvbGF0ZSBmcm9tIFwiLi9pbnRlcnBvbGF0ZS5qc1wiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyQ29uc3RhbnROUyhmdWxsbmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAsIHZhbHVlMSA9IHZhbHVlKHRoaXMpLCBzdHJpbmcxO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgcmV0dXJuIHZvaWQgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcwID0gdGhpcy5nZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIHJldHVybiBzdHJpbmcwID09PSBzdHJpbmcxID8gbnVsbFxuICAgICAgICA6IHN0cmluZzAgPT09IHN0cmluZzAwICYmIHN0cmluZzEgPT09IHN0cmluZzEwID8gaW50ZXJwb2xhdGUwXG4gICAgICAgIDogKHN0cmluZzEwID0gc3RyaW5nMSwgaW50ZXJwb2xhdGUwID0gaW50ZXJwb2xhdGUoc3RyaW5nMDAgPSBzdHJpbmcwLCB2YWx1ZTEpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpLCBpID0gZnVsbG5hbWUgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdGhpcy5hdHRyVHdlZW4obmFtZSwgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckZ1bmN0aW9uTlMgOiBhdHRyRnVuY3Rpb24pKGZ1bGxuYW1lLCBpLCB0d2VlblZhbHVlKHRoaXMsIFwiYXR0ci5cIiArIG5hbWUsIHZhbHVlKSlcbiAgICAgIDogdmFsdWUgPT0gbnVsbCA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpKGZ1bGxuYW1lKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkoZnVsbG5hbWUsIGksIHZhbHVlKSk7XG59XG4iLCJpbXBvcnQge25hbWVzcGFjZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGUobmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIGkuY2FsbCh0aGlzLCB0KSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2Vlbk5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZU5TKGZ1bGxuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZnVuY3Rpb24gYXR0clR3ZWVuKG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0MCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQwID0gKGkwID0gaSkgJiYgYXR0ckludGVycG9sYXRlKG5hbWUsIGkpO1xuICAgIHJldHVybiB0MDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIga2V5ID0gXCJhdHRyLlwiICsgbmFtZTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgKGZ1bGxuYW1lLmxvY2FsID8gYXR0clR3ZWVuTlMgOiBhdHRyVHdlZW4pKGZ1bGxuYW1lLCB2YWx1ZSkpO1xufVxuIiwiZnVuY3Rpb24gc3R5bGVJbnRlcnBvbGF0ZShuYW1lLCBpLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgaS5jYWxsKHRoaXMsIHQpLCBwcmlvcml0eSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciB0LCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdCA9IChpMCA9IGkpICYmIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIga2V5ID0gXCJzdHlsZS5cIiArIChuYW1lICs9IFwiXCIpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiAoa2V5ID0gdGhpcy50d2VlbihrZXkpKSAmJiBrZXkuX3ZhbHVlO1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHRoaXMudHdlZW4oa2V5LCBudWxsKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgc3R5bGVUd2VlbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkgPT0gbnVsbCA/IFwiXCIgOiBwcmlvcml0eSkpO1xufVxuIiwiaW1wb3J0IHt0d2VlblZhbHVlfSBmcm9tIFwiLi90d2Vlbi5qc1wiO1xuXG5mdW5jdGlvbiB0ZXh0Q29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGV4dEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUxID0gdmFsdWUodGhpcyk7XG4gICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlMSA9PSBudWxsID8gXCJcIiA6IHZhbHVlMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHRoaXMudHdlZW4oXCJ0ZXh0XCIsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IHRleHRGdW5jdGlvbih0d2VlblZhbHVlKHRoaXMsIFwidGV4dFwiLCB2YWx1ZSkpXG4gICAgICA6IHRleHRDb25zdGFudCh2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIikpO1xufVxuIiwiaW1wb3J0IHtnZXQsIGluaXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGRlbGF5RnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9ICt2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkZWxheUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPSArdmFsdWUsIGZ1bmN0aW9uKCkge1xuICAgIGluaXQodGhpcywgaWQpLmRlbGF5ID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGRlbGF5RnVuY3Rpb25cbiAgICAgICAgICA6IGRlbGF5Q29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmRlbGF5O1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZHVyYXRpb25GdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZHVyYXRpb24gPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZHVyYXRpb25Db25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gdmFsdWU7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBpZCA9IHRoaXMuX2lkO1xuXG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCgodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IGR1cmF0aW9uRnVuY3Rpb25cbiAgICAgICAgICA6IGR1cmF0aW9uQ29uc3RhbnQpKGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmR1cmF0aW9uO1xufVxuIiwiaW1wb3J0IHtnZXQsIHNldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZnVuY3Rpb24gZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHNldCh0aGlzLCBpZCkuZWFzZSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goZWFzZUNvbnN0YW50KGlkLCB2YWx1ZSkpXG4gICAgICA6IGdldCh0aGlzLm5vZGUoKSwgaWQpLmVhc2U7XG59XG4iLCJpbXBvcnQge3NldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBvbjAsIG9uMSwgdGhhdCA9IHRoaXMsIGlkID0gdGhhdC5faWQsIHNpemUgPSB0aGF0LnNpemUoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBjYW5jZWwgPSB7dmFsdWU6IHJlamVjdH0sXG4gICAgICAgIGVuZCA9IHt2YWx1ZTogZnVuY3Rpb24oKSB7IGlmICgtLXNpemUgPT09IDApIHJlc29sdmUoKTsgfX07XG5cbiAgICB0aGF0LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICAgIG9uID0gc2NoZWR1bGUub247XG5cbiAgICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgICAvLyBPdGhlcndpc2UsIGNvcHktb24td3JpdGUuXG4gICAgICBpZiAob24gIT09IG9uMCkge1xuICAgICAgICBvbjEgPSAob24wID0gb24pLmNvcHkoKTtcbiAgICAgICAgb24xLl8uY2FuY2VsLnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uaW50ZXJydXB0LnB1c2goY2FuY2VsKTtcbiAgICAgICAgb24xLl8uZW5kLnB1c2goZW5kKTtcbiAgICAgIH1cblxuICAgICAgc2NoZWR1bGUub24gPSBvbjE7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4uL3RyYW5zaXRpb24vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSBmcm9tIFwiLi4vdHJhbnNpdGlvbi9zY2hlZHVsZS5qc1wiO1xuaW1wb3J0IHtlYXNlQ3ViaWNJbk91dH0gZnJvbSBcImQzLWVhc2VcIjtcbmltcG9ydCB7bm93fSBmcm9tIFwiZDMtdGltZXJcIjtcblxudmFyIGRlZmF1bHRUaW1pbmcgPSB7XG4gIHRpbWU6IG51bGwsIC8vIFNldCBvbiB1c2UuXG4gIGRlbGF5OiAwLFxuICBkdXJhdGlvbjogMjUwLFxuICBlYXNlOiBlYXNlQ3ViaWNJbk91dFxufTtcblxuZnVuY3Rpb24gaW5oZXJpdChub2RlLCBpZCkge1xuICB2YXIgdGltaW5nO1xuICB3aGlsZSAoISh0aW1pbmcgPSBub2RlLl9fdHJhbnNpdGlvbikgfHwgISh0aW1pbmcgPSB0aW1pbmdbaWRdKSkge1xuICAgIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFRpbWluZy50aW1lID0gbm93KCksIGRlZmF1bHRUaW1pbmc7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aW1pbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGlkLFxuICAgICAgdGltaW5nO1xuXG4gIGlmIChuYW1lIGluc3RhbmNlb2YgVHJhbnNpdGlvbikge1xuICAgIGlkID0gbmFtZS5faWQsIG5hbWUgPSBuYW1lLl9uYW1lO1xuICB9IGVsc2Uge1xuICAgIGlkID0gbmV3SWQoKSwgKHRpbWluZyA9IGRlZmF1bHRUaW1pbmcpLnRpbWUgPSBub3coKSwgbmFtZSA9IG5hbWUgPT0gbnVsbCA/IG51bGwgOiBuYW1lICsgXCJcIjtcbiAgfVxuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHNjaGVkdWxlKG5vZGUsIG5hbWUsIGlkLCBpLCBncm91cCwgdGltaW5nIHx8IGluaGVyaXQobm9kZSwgaWQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oZ3JvdXBzLCB0aGlzLl9wYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3ViaWNJbih0KSB7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gIHJldHVybiAtLXQgKiB0ICogdCArIDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luT3V0KHQpIHtcbiAgcmV0dXJuICgodCAqPSAyKSA8PSAxID8gdCAqIHQgKiB0IDogKHQgLT0gMikgKiB0ICogdCArIDIpIC8gMjtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2ludGVycnVwdCBmcm9tIFwiLi9pbnRlcnJ1cHQuanNcIjtcbmltcG9ydCBzZWxlY3Rpb25fdHJhbnNpdGlvbiBmcm9tIFwiLi90cmFuc2l0aW9uLmpzXCI7XG5cbnNlbGVjdGlvbi5wcm90b3R5cGUuaW50ZXJydXB0ID0gc2VsZWN0aW9uX2ludGVycnVwdDtcbnNlbGVjdGlvbi5wcm90b3R5cGUudHJhbnNpdGlvbiA9IHNlbGVjdGlvbl90cmFuc2l0aW9uO1xuIiwiaW1wb3J0IGludGVycnVwdCBmcm9tIFwiLi4vaW50ZXJydXB0LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICBpbnRlcnJ1cHQodGhpcywgbmFtZSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHtkaXNwYXRjaH0gZnJvbSBcImQzLWRpc3BhdGNoXCI7XG5pbXBvcnQge2RyYWdEaXNhYmxlLCBkcmFnRW5hYmxlfSBmcm9tIFwiZDMtZHJhZ1wiO1xuaW1wb3J0IHtpbnRlcnBvbGF0ZX0gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5pbXBvcnQge2N1c3RvbUV2ZW50LCBldmVudCwgdG91Y2gsIG1vdXNlLCBzZWxlY3R9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7aW50ZXJydXB0fSBmcm9tIFwiZDMtdHJhbnNpdGlvblwiO1xuaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5pbXBvcnQgQnJ1c2hFdmVudCBmcm9tIFwiLi9ldmVudC5qc1wiO1xuaW1wb3J0IG5vZXZlbnQsIHtub3Byb3BhZ2F0aW9ufSBmcm9tIFwiLi9ub2V2ZW50LmpzXCI7XG5cbnZhciBNT0RFX0RSQUcgPSB7bmFtZTogXCJkcmFnXCJ9LFxuICAgIE1PREVfU1BBQ0UgPSB7bmFtZTogXCJzcGFjZVwifSxcbiAgICBNT0RFX0hBTkRMRSA9IHtuYW1lOiBcImhhbmRsZVwifSxcbiAgICBNT0RFX0NFTlRFUiA9IHtuYW1lOiBcImNlbnRlclwifTtcblxuZnVuY3Rpb24gbnVtYmVyMShlKSB7XG4gIHJldHVybiBbK2VbMF0sICtlWzFdXTtcbn1cblxuZnVuY3Rpb24gbnVtYmVyMihlKSB7XG4gIHJldHVybiBbbnVtYmVyMShlWzBdKSwgbnVtYmVyMShlWzFdKV07XG59XG5cbmZ1bmN0aW9uIHRvdWNoZXIoaWRlbnRpZmllcikge1xuICByZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRvdWNoKHRhcmdldCwgZXZlbnQudG91Y2hlcywgaWRlbnRpZmllcik7XG4gIH07XG59XG5cbnZhciBYID0ge1xuICBuYW1lOiBcInhcIixcbiAgaGFuZGxlczogW1wid1wiLCBcImVcIl0ubWFwKHR5cGUpLFxuICBpbnB1dDogZnVuY3Rpb24oeCwgZSkgeyByZXR1cm4geCA9PSBudWxsID8gbnVsbCA6IFtbK3hbMF0sIGVbMF1bMV1dLCBbK3hbMV0sIGVbMV1bMV1dXTsgfSxcbiAgb3V0cHV0OiBmdW5jdGlvbih4eSkgeyByZXR1cm4geHkgJiYgW3h5WzBdWzBdLCB4eVsxXVswXV07IH1cbn07XG5cbnZhciBZID0ge1xuICBuYW1lOiBcInlcIixcbiAgaGFuZGxlczogW1wiblwiLCBcInNcIl0ubWFwKHR5cGUpLFxuICBpbnB1dDogZnVuY3Rpb24oeSwgZSkgeyByZXR1cm4geSA9PSBudWxsID8gbnVsbCA6IFtbZVswXVswXSwgK3lbMF1dLCBbZVsxXVswXSwgK3lbMV1dXTsgfSxcbiAgb3V0cHV0OiBmdW5jdGlvbih4eSkgeyByZXR1cm4geHkgJiYgW3h5WzBdWzFdLCB4eVsxXVsxXV07IH1cbn07XG5cbnZhciBYWSA9IHtcbiAgbmFtZTogXCJ4eVwiLFxuICBoYW5kbGVzOiBbXCJuXCIsIFwid1wiLCBcImVcIiwgXCJzXCIsIFwibndcIiwgXCJuZVwiLCBcInN3XCIsIFwic2VcIl0ubWFwKHR5cGUpLFxuICBpbnB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5ID09IG51bGwgPyBudWxsIDogbnVtYmVyMih4eSk7IH0sXG4gIG91dHB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5OyB9XG59O1xuXG52YXIgY3Vyc29ycyA9IHtcbiAgb3ZlcmxheTogXCJjcm9zc2hhaXJcIixcbiAgc2VsZWN0aW9uOiBcIm1vdmVcIixcbiAgbjogXCJucy1yZXNpemVcIixcbiAgZTogXCJldy1yZXNpemVcIixcbiAgczogXCJucy1yZXNpemVcIixcbiAgdzogXCJldy1yZXNpemVcIixcbiAgbnc6IFwibndzZS1yZXNpemVcIixcbiAgbmU6IFwibmVzdy1yZXNpemVcIixcbiAgc2U6IFwibndzZS1yZXNpemVcIixcbiAgc3c6IFwibmVzdy1yZXNpemVcIlxufTtcblxudmFyIGZsaXBYID0ge1xuICBlOiBcIndcIixcbiAgdzogXCJlXCIsXG4gIG53OiBcIm5lXCIsXG4gIG5lOiBcIm53XCIsXG4gIHNlOiBcInN3XCIsXG4gIHN3OiBcInNlXCJcbn07XG5cbnZhciBmbGlwWSA9IHtcbiAgbjogXCJzXCIsXG4gIHM6IFwiblwiLFxuICBudzogXCJzd1wiLFxuICBuZTogXCJzZVwiLFxuICBzZTogXCJuZVwiLFxuICBzdzogXCJud1wiXG59O1xuXG52YXIgc2lnbnNYID0ge1xuICBvdmVybGF5OiArMSxcbiAgc2VsZWN0aW9uOiArMSxcbiAgbjogbnVsbCxcbiAgZTogKzEsXG4gIHM6IG51bGwsXG4gIHc6IC0xLFxuICBudzogLTEsXG4gIG5lOiArMSxcbiAgc2U6ICsxLFxuICBzdzogLTFcbn07XG5cbnZhciBzaWduc1kgPSB7XG4gIG92ZXJsYXk6ICsxLFxuICBzZWxlY3Rpb246ICsxLFxuICBuOiAtMSxcbiAgZTogbnVsbCxcbiAgczogKzEsXG4gIHc6IG51bGwsXG4gIG53OiAtMSxcbiAgbmU6IC0xLFxuICBzZTogKzEsXG4gIHN3OiArMVxufTtcblxuZnVuY3Rpb24gdHlwZSh0KSB7XG4gIHJldHVybiB7dHlwZTogdH07XG59XG5cbi8vIElnbm9yZSByaWdodC1jbGljaywgc2luY2UgdGhhdCBzaG91bGQgb3BlbiB0aGUgY29udGV4dCBtZW51LlxuZnVuY3Rpb24gZGVmYXVsdEZpbHRlcigpIHtcbiAgcmV0dXJuICFldmVudC5jdHJsS2V5ICYmICFldmVudC5idXR0b247XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRFeHRlbnQoKSB7XG4gIHZhciBzdmcgPSB0aGlzLm93bmVyU1ZHRWxlbWVudCB8fCB0aGlzO1xuICBpZiAoc3ZnLmhhc0F0dHJpYnV0ZShcInZpZXdCb3hcIikpIHtcbiAgICBzdmcgPSBzdmcudmlld0JveC5iYXNlVmFsO1xuICAgIHJldHVybiBbW3N2Zy54LCBzdmcueV0sIFtzdmcueCArIHN2Zy53aWR0aCwgc3ZnLnkgKyBzdmcuaGVpZ2h0XV07XG4gIH1cbiAgcmV0dXJuIFtbMCwgMF0sIFtzdmcud2lkdGguYmFzZVZhbC52YWx1ZSwgc3ZnLmhlaWdodC5iYXNlVmFsLnZhbHVlXV07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUb3VjaGFibGUoKSB7XG4gIHJldHVybiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgfHwgKFwib250b3VjaHN0YXJ0XCIgaW4gdGhpcyk7XG59XG5cbi8vIExpa2UgZDMubG9jYWwsIGJ1dCB3aXRoIHRoZSBuYW1lIOKAnF9fYnJ1c2jigJ0gcmF0aGVyIHRoYW4gYXV0by1nZW5lcmF0ZWQuXG5mdW5jdGlvbiBsb2NhbChub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX2JydXNoKSBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkgcmV0dXJuO1xuICByZXR1cm4gbm9kZS5fX2JydXNoO1xufVxuXG5mdW5jdGlvbiBlbXB0eShleHRlbnQpIHtcbiAgcmV0dXJuIGV4dGVudFswXVswXSA9PT0gZXh0ZW50WzFdWzBdXG4gICAgICB8fCBleHRlbnRbMF1bMV0gPT09IGV4dGVudFsxXVsxXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJydXNoU2VsZWN0aW9uKG5vZGUpIHtcbiAgdmFyIHN0YXRlID0gbm9kZS5fX2JydXNoO1xuICByZXR1cm4gc3RhdGUgPyBzdGF0ZS5kaW0ub3V0cHV0KHN0YXRlLnNlbGVjdGlvbikgOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJ1c2hYKCkge1xuICByZXR1cm4gYnJ1c2goWCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicnVzaFkoKSB7XG4gIHJldHVybiBicnVzaChZKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBicnVzaChYWSk7XG59XG5cbmZ1bmN0aW9uIGJydXNoKGRpbSkge1xuICB2YXIgZXh0ZW50ID0gZGVmYXVsdEV4dGVudCxcbiAgICAgIGZpbHRlciA9IGRlZmF1bHRGaWx0ZXIsXG4gICAgICB0b3VjaGFibGUgPSBkZWZhdWx0VG91Y2hhYmxlLFxuICAgICAga2V5cyA9IHRydWUsXG4gICAgICBsaXN0ZW5lcnMgPSBkaXNwYXRjaChcInN0YXJ0XCIsIFwiYnJ1c2hcIiwgXCJlbmRcIiksXG4gICAgICBoYW5kbGVTaXplID0gNixcbiAgICAgIHRvdWNoZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGJydXNoKGdyb3VwKSB7XG4gICAgdmFyIG92ZXJsYXkgPSBncm91cFxuICAgICAgICAucHJvcGVydHkoXCJfX2JydXNoXCIsIGluaXRpYWxpemUpXG4gICAgICAuc2VsZWN0QWxsKFwiLm92ZXJsYXlcIilcbiAgICAgIC5kYXRhKFt0eXBlKFwib3ZlcmxheVwiKV0pO1xuXG4gICAgb3ZlcmxheS5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcIm92ZXJsYXlcIilcbiAgICAgICAgLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLm92ZXJsYXkpXG4gICAgICAubWVyZ2Uob3ZlcmxheSlcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGV4dGVudCA9IGxvY2FsKHRoaXMpLmV4dGVudDtcbiAgICAgICAgICBzZWxlY3QodGhpcylcbiAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIGV4dGVudFswXVswXSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGV4dGVudFswXVsxXSlcbiAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBleHRlbnRbMV1bMF0gLSBleHRlbnRbMF1bMF0pXG4gICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGV4dGVudFsxXVsxXSAtIGV4dGVudFswXVsxXSk7XG4gICAgICAgIH0pO1xuXG4gICAgZ3JvdXAuc2VsZWN0QWxsKFwiLnNlbGVjdGlvblwiKVxuICAgICAgLmRhdGEoW3R5cGUoXCJzZWxlY3Rpb25cIildKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwic2VsZWN0aW9uXCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIGN1cnNvcnMuc2VsZWN0aW9uKVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgXCIjNzc3XCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIDAuMylcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCIjZmZmXCIpXG4gICAgICAgIC5hdHRyKFwic2hhcGUtcmVuZGVyaW5nXCIsIFwiY3Jpc3BFZGdlc1wiKTtcblxuICAgIHZhciBoYW5kbGUgPSBncm91cC5zZWxlY3RBbGwoXCIuaGFuZGxlXCIpXG4gICAgICAuZGF0YShkaW0uaGFuZGxlcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlOyB9KTtcblxuICAgIGhhbmRsZS5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBoYW5kbGUuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJoYW5kbGUgaGFuZGxlLS1cIiArIGQudHlwZTsgfSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gY3Vyc29yc1tkLnR5cGVdOyB9KTtcblxuICAgIGdyb3VwXG4gICAgICAgIC5lYWNoKHJlZHJhdylcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwiYWxsXCIpXG4gICAgICAgIC5vbihcIm1vdXNlZG93bi5icnVzaFwiLCBzdGFydGVkKVxuICAgICAgLmZpbHRlcih0b3VjaGFibGUpXG4gICAgICAgIC5vbihcInRvdWNoc3RhcnQuYnJ1c2hcIiwgc3RhcnRlZClcbiAgICAgICAgLm9uKFwidG91Y2htb3ZlLmJydXNoXCIsIHRvdWNobW92ZWQpXG4gICAgICAgIC5vbihcInRvdWNoZW5kLmJydXNoIHRvdWNoY2FuY2VsLmJydXNoXCIsIHRvdWNoZW5kZWQpXG4gICAgICAgIC5zdHlsZShcInRvdWNoLWFjdGlvblwiLCBcIm5vbmVcIilcbiAgICAgICAgLnN0eWxlKFwiLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yXCIsIFwicmdiYSgwLDAsMCwwKVwiKTtcbiAgfVxuXG4gIGJydXNoLm1vdmUgPSBmdW5jdGlvbihncm91cCwgc2VsZWN0aW9uKSB7XG4gICAgaWYgKGdyb3VwLnNlbGVjdGlvbikge1xuICAgICAgZ3JvdXBcbiAgICAgICAgICAub24oXCJzdGFydC5icnVzaFwiLCBmdW5jdGlvbigpIHsgZW1pdHRlcih0aGlzLCBhcmd1bWVudHMpLmJlZm9yZXN0YXJ0KCkuc3RhcnQoKTsgfSlcbiAgICAgICAgICAub24oXCJpbnRlcnJ1cHQuYnJ1c2ggZW5kLmJydXNoXCIsIGZ1bmN0aW9uKCkgeyBlbWl0dGVyKHRoaXMsIGFyZ3VtZW50cykuZW5kKCk7IH0pXG4gICAgICAgICAgLnR3ZWVuKFwiYnJ1c2hcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGF0Ll9fYnJ1c2gsXG4gICAgICAgICAgICAgICAgZW1pdCA9IGVtaXR0ZXIodGhhdCwgYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24wID0gc3RhdGUuc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjEgPSBkaW0uaW5wdXQodHlwZW9mIHNlbGVjdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gc2VsZWN0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBzZWxlY3Rpb24sIHN0YXRlLmV4dGVudCksXG4gICAgICAgICAgICAgICAgaSA9IGludGVycG9sYXRlKHNlbGVjdGlvbjAsIHNlbGVjdGlvbjEpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0d2Vlbih0KSB7XG4gICAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IHQgPT09IDEgJiYgc2VsZWN0aW9uMSA9PT0gbnVsbCA/IG51bGwgOiBpKHQpO1xuICAgICAgICAgICAgICByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgICAgICAgICAgZW1pdC5icnVzaCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uMCAhPT0gbnVsbCAmJiBzZWxlY3Rpb24xICE9PSBudWxsID8gdHdlZW4gOiB0d2VlbigxKTtcbiAgICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3JvdXBcbiAgICAgICAgICAuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhhdC5fX2JydXNoLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjEgPSBkaW0uaW5wdXQodHlwZW9mIHNlbGVjdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gc2VsZWN0aW9uLmFwcGx5KHRoYXQsIGFyZ3MpIDogc2VsZWN0aW9uLCBzdGF0ZS5leHRlbnQpLFxuICAgICAgICAgICAgICAgIGVtaXQgPSBlbWl0dGVyKHRoYXQsIGFyZ3MpLmJlZm9yZXN0YXJ0KCk7XG5cbiAgICAgICAgICAgIGludGVycnVwdCh0aGF0KTtcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjEgPT09IG51bGwgPyBudWxsIDogc2VsZWN0aW9uMTtcbiAgICAgICAgICAgIHJlZHJhdy5jYWxsKHRoYXQpO1xuICAgICAgICAgICAgZW1pdC5zdGFydCgpLmJydXNoKCkuZW5kKCk7XG4gICAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGJydXNoLmNsZWFyID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICBicnVzaC5tb3ZlKGdyb3VwLCBudWxsKTtcbiAgfTtcblxuICBmdW5jdGlvbiByZWRyYXcoKSB7XG4gICAgdmFyIGdyb3VwID0gc2VsZWN0KHRoaXMpLFxuICAgICAgICBzZWxlY3Rpb24gPSBsb2NhbCh0aGlzKS5zZWxlY3Rpb247XG5cbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICBncm91cC5zZWxlY3RBbGwoXCIuc2VsZWN0aW9uXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBudWxsKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCBzZWxlY3Rpb25bMF1bMF0pXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIHNlbGVjdGlvblswXVsxXSlcbiAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHNlbGVjdGlvblsxXVswXSAtIHNlbGVjdGlvblswXVswXSlcbiAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBzZWxlY3Rpb25bMV1bMV0gLSBzZWxlY3Rpb25bMF1bMV0pO1xuXG4gICAgICBncm91cC5zZWxlY3RBbGwoXCIuaGFuZGxlXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBudWxsKVxuICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnR5cGVbZC50eXBlLmxlbmd0aCAtIDFdID09PSBcImVcIiA/IHNlbGVjdGlvblsxXVswXSAtIGhhbmRsZVNpemUgLyAyIDogc2VsZWN0aW9uWzBdWzBdIC0gaGFuZGxlU2l6ZSAvIDI7IH0pXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZVswXSA9PT0gXCJzXCIgPyBzZWxlY3Rpb25bMV1bMV0gLSBoYW5kbGVTaXplIC8gMiA6IHNlbGVjdGlvblswXVsxXSAtIGhhbmRsZVNpemUgLyAyOyB9KVxuICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlID09PSBcIm5cIiB8fCBkLnR5cGUgPT09IFwic1wiID8gc2VsZWN0aW9uWzFdWzBdIC0gc2VsZWN0aW9uWzBdWzBdICsgaGFuZGxlU2l6ZSA6IGhhbmRsZVNpemU7IH0pXG4gICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlID09PSBcImVcIiB8fCBkLnR5cGUgPT09IFwid1wiID8gc2VsZWN0aW9uWzFdWzFdIC0gc2VsZWN0aW9uWzBdWzFdICsgaGFuZGxlU2l6ZSA6IGhhbmRsZVNpemU7IH0pO1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgZ3JvdXAuc2VsZWN0QWxsKFwiLnNlbGVjdGlvbiwuaGFuZGxlXCIpXG4gICAgICAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIilcbiAgICAgICAgICAuYXR0cihcInhcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcInlcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIG51bGwpXG4gICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1pdHRlcih0aGF0LCBhcmdzLCBjbGVhbikge1xuICAgIHJldHVybiAoIWNsZWFuICYmIHRoYXQuX19icnVzaC5lbWl0dGVyKSB8fCBuZXcgRW1pdHRlcih0aGF0LCBhcmdzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEVtaXR0ZXIodGhhdCwgYXJncykge1xuICAgIHRoaXMudGhhdCA9IHRoYXQ7XG4gICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB0aGlzLnN0YXRlID0gdGhhdC5fX2JydXNoO1xuICAgIHRoaXMuYWN0aXZlID0gMDtcbiAgfVxuXG4gIEVtaXR0ZXIucHJvdG90eXBlID0ge1xuICAgIGJlZm9yZXN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgrK3RoaXMuYWN0aXZlID09PSAxKSB0aGlzLnN0YXRlLmVtaXR0ZXIgPSB0aGlzLCB0aGlzLnN0YXJ0aW5nID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuc3RhcnRpbmcpIHRoaXMuc3RhcnRpbmcgPSBmYWxzZSwgdGhpcy5lbWl0KFwic3RhcnRcIik7XG4gICAgICBlbHNlIHRoaXMuZW1pdChcImJydXNoXCIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBicnVzaDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVtaXQoXCJicnVzaFwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRoaXMuYWN0aXZlID09PSAwKSBkZWxldGUgdGhpcy5zdGF0ZS5lbWl0dGVyLCB0aGlzLmVtaXQoXCJlbmRcIik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVtaXQ6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIGN1c3RvbUV2ZW50KG5ldyBCcnVzaEV2ZW50KGJydXNoLCB0eXBlLCBkaW0ub3V0cHV0KHRoaXMuc3RhdGUuc2VsZWN0aW9uKSksIGxpc3RlbmVycy5hcHBseSwgbGlzdGVuZXJzLCBbdHlwZSwgdGhpcy50aGF0LCB0aGlzLmFyZ3NdKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gc3RhcnRlZCgpIHtcbiAgICBpZiAodG91Y2hlbmRpbmcgJiYgIWV2ZW50LnRvdWNoZXMpIHJldHVybjtcbiAgICBpZiAoIWZpbHRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSByZXR1cm47XG5cbiAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgIHR5cGUgPSBldmVudC50YXJnZXQuX19kYXRhX18udHlwZSxcbiAgICAgICAgbW9kZSA9IChrZXlzICYmIGV2ZW50Lm1ldGFLZXkgPyB0eXBlID0gXCJvdmVybGF5XCIgOiB0eXBlKSA9PT0gXCJzZWxlY3Rpb25cIiA/IE1PREVfRFJBRyA6IChrZXlzICYmIGV2ZW50LmFsdEtleSA/IE1PREVfQ0VOVEVSIDogTU9ERV9IQU5ETEUpLFxuICAgICAgICBzaWduWCA9IGRpbSA9PT0gWSA/IG51bGwgOiBzaWduc1hbdHlwZV0sXG4gICAgICAgIHNpZ25ZID0gZGltID09PSBYID8gbnVsbCA6IHNpZ25zWVt0eXBlXSxcbiAgICAgICAgc3RhdGUgPSBsb2NhbCh0aGF0KSxcbiAgICAgICAgZXh0ZW50ID0gc3RhdGUuZXh0ZW50LFxuICAgICAgICBzZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb24sXG4gICAgICAgIFcgPSBleHRlbnRbMF1bMF0sIHcwLCB3MSxcbiAgICAgICAgTiA9IGV4dGVudFswXVsxXSwgbjAsIG4xLFxuICAgICAgICBFID0gZXh0ZW50WzFdWzBdLCBlMCwgZTEsXG4gICAgICAgIFMgPSBleHRlbnRbMV1bMV0sIHMwLCBzMSxcbiAgICAgICAgZHggPSAwLFxuICAgICAgICBkeSA9IDAsXG4gICAgICAgIG1vdmluZyxcbiAgICAgICAgc2hpZnRpbmcgPSBzaWduWCAmJiBzaWduWSAmJiBrZXlzICYmIGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICBsb2NrWCxcbiAgICAgICAgbG9ja1ksXG4gICAgICAgIHBvaW50ZXIgPSBldmVudC50b3VjaGVzID8gdG91Y2hlcihldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyKSA6IG1vdXNlLFxuICAgICAgICBwb2ludDAgPSBwb2ludGVyKHRoYXQpLFxuICAgICAgICBwb2ludCA9IHBvaW50MCxcbiAgICAgICAgZW1pdCA9IGVtaXR0ZXIodGhhdCwgYXJndW1lbnRzLCB0cnVlKS5iZWZvcmVzdGFydCgpO1xuXG4gICAgaWYgKHR5cGUgPT09IFwib3ZlcmxheVwiKSB7XG4gICAgICBpZiAoc2VsZWN0aW9uKSBtb3ZpbmcgPSB0cnVlO1xuICAgICAgc3RhdGUuc2VsZWN0aW9uID0gc2VsZWN0aW9uID0gW1xuICAgICAgICBbdzAgPSBkaW0gPT09IFkgPyBXIDogcG9pbnQwWzBdLCBuMCA9IGRpbSA9PT0gWCA/IE4gOiBwb2ludDBbMV1dLFxuICAgICAgICBbZTAgPSBkaW0gPT09IFkgPyBFIDogdzAsIHMwID0gZGltID09PSBYID8gUyA6IG4wXVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdzAgPSBzZWxlY3Rpb25bMF1bMF07XG4gICAgICBuMCA9IHNlbGVjdGlvblswXVsxXTtcbiAgICAgIGUwID0gc2VsZWN0aW9uWzFdWzBdO1xuICAgICAgczAgPSBzZWxlY3Rpb25bMV1bMV07XG4gICAgfVxuXG4gICAgdzEgPSB3MDtcbiAgICBuMSA9IG4wO1xuICAgIGUxID0gZTA7XG4gICAgczEgPSBzMDtcblxuICAgIHZhciBncm91cCA9IHNlbGVjdCh0aGF0KVxuICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcblxuICAgIHZhciBvdmVybGF5ID0gZ3JvdXAuc2VsZWN0QWxsKFwiLm92ZXJsYXlcIilcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29yc1t0eXBlXSk7XG5cbiAgICBpZiAoZXZlbnQudG91Y2hlcykge1xuICAgICAgZW1pdC5tb3ZlZCA9IG1vdmVkO1xuICAgICAgZW1pdC5lbmRlZCA9IGVuZGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IHNlbGVjdChldmVudC52aWV3KVxuICAgICAgICAgIC5vbihcIm1vdXNlbW92ZS5icnVzaFwiLCBtb3ZlZCwgdHJ1ZSlcbiAgICAgICAgICAub24oXCJtb3VzZXVwLmJydXNoXCIsIGVuZGVkLCB0cnVlKTtcbiAgICAgIGlmIChrZXlzKSB2aWV3XG4gICAgICAgICAgLm9uKFwia2V5ZG93bi5icnVzaFwiLCBrZXlkb3duZWQsIHRydWUpXG4gICAgICAgICAgLm9uKFwia2V5dXAuYnJ1c2hcIiwga2V5dXBwZWQsIHRydWUpXG5cbiAgICAgIGRyYWdEaXNhYmxlKGV2ZW50LnZpZXcpO1xuICAgIH1cblxuICAgIG5vcHJvcGFnYXRpb24oKTtcbiAgICBpbnRlcnJ1cHQodGhhdCk7XG4gICAgcmVkcmF3LmNhbGwodGhhdCk7XG4gICAgZW1pdC5zdGFydCgpO1xuXG4gICAgZnVuY3Rpb24gbW92ZWQoKSB7XG4gICAgICB2YXIgcG9pbnQxID0gcG9pbnRlcih0aGF0KTtcbiAgICAgIGlmIChzaGlmdGluZyAmJiAhbG9ja1ggJiYgIWxvY2tZKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhwb2ludDFbMF0gLSBwb2ludFswXSkgPiBNYXRoLmFicyhwb2ludDFbMV0gLSBwb2ludFsxXSkpIGxvY2tZID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBsb2NrWCA9IHRydWU7XG4gICAgICB9XG4gICAgICBwb2ludCA9IHBvaW50MTtcbiAgICAgIG1vdmluZyA9IHRydWU7XG4gICAgICBub2V2ZW50KCk7XG4gICAgICBtb3ZlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW92ZSgpIHtcbiAgICAgIHZhciB0O1xuXG4gICAgICBkeCA9IHBvaW50WzBdIC0gcG9pbnQwWzBdO1xuICAgICAgZHkgPSBwb2ludFsxXSAtIHBvaW50MFsxXTtcblxuICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgIGNhc2UgTU9ERV9TUEFDRTpcbiAgICAgICAgY2FzZSBNT0RFX0RSQUc6IHtcbiAgICAgICAgICBpZiAoc2lnblgpIGR4ID0gTWF0aC5tYXgoVyAtIHcwLCBNYXRoLm1pbihFIC0gZTAsIGR4KSksIHcxID0gdzAgKyBkeCwgZTEgPSBlMCArIGR4O1xuICAgICAgICAgIGlmIChzaWduWSkgZHkgPSBNYXRoLm1heChOIC0gbjAsIE1hdGgubWluKFMgLSBzMCwgZHkpKSwgbjEgPSBuMCArIGR5LCBzMSA9IHMwICsgZHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBNT0RFX0hBTkRMRToge1xuICAgICAgICAgIGlmIChzaWduWCA8IDApIGR4ID0gTWF0aC5tYXgoVyAtIHcwLCBNYXRoLm1pbihFIC0gdzAsIGR4KSksIHcxID0gdzAgKyBkeCwgZTEgPSBlMDtcbiAgICAgICAgICBlbHNlIGlmIChzaWduWCA+IDApIGR4ID0gTWF0aC5tYXgoVyAtIGUwLCBNYXRoLm1pbihFIC0gZTAsIGR4KSksIHcxID0gdzAsIGUxID0gZTAgKyBkeDtcbiAgICAgICAgICBpZiAoc2lnblkgPCAwKSBkeSA9IE1hdGgubWF4KE4gLSBuMCwgTWF0aC5taW4oUyAtIG4wLCBkeSkpLCBuMSA9IG4wICsgZHksIHMxID0gczA7XG4gICAgICAgICAgZWxzZSBpZiAoc2lnblkgPiAwKSBkeSA9IE1hdGgubWF4KE4gLSBzMCwgTWF0aC5taW4oUyAtIHMwLCBkeSkpLCBuMSA9IG4wLCBzMSA9IHMwICsgZHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBNT0RFX0NFTlRFUjoge1xuICAgICAgICAgIGlmIChzaWduWCkgdzEgPSBNYXRoLm1heChXLCBNYXRoLm1pbihFLCB3MCAtIGR4ICogc2lnblgpKSwgZTEgPSBNYXRoLm1heChXLCBNYXRoLm1pbihFLCBlMCArIGR4ICogc2lnblgpKTtcbiAgICAgICAgICBpZiAoc2lnblkpIG4xID0gTWF0aC5tYXgoTiwgTWF0aC5taW4oUywgbjAgLSBkeSAqIHNpZ25ZKSksIHMxID0gTWF0aC5tYXgoTiwgTWF0aC5taW4oUywgczAgKyBkeSAqIHNpZ25ZKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGUxIDwgdzEpIHtcbiAgICAgICAgc2lnblggKj0gLTE7XG4gICAgICAgIHQgPSB3MCwgdzAgPSBlMCwgZTAgPSB0O1xuICAgICAgICB0ID0gdzEsIHcxID0gZTEsIGUxID0gdDtcbiAgICAgICAgaWYgKHR5cGUgaW4gZmxpcFgpIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGUgPSBmbGlwWFt0eXBlXV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoczEgPCBuMSkge1xuICAgICAgICBzaWduWSAqPSAtMTtcbiAgICAgICAgdCA9IG4wLCBuMCA9IHMwLCBzMCA9IHQ7XG4gICAgICAgIHQgPSBuMSwgbjEgPSBzMSwgczEgPSB0O1xuICAgICAgICBpZiAodHlwZSBpbiBmbGlwWSkgb3ZlcmxheS5hdHRyKFwiY3Vyc29yXCIsIGN1cnNvcnNbdHlwZSA9IGZsaXBZW3R5cGVdXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24pIHNlbGVjdGlvbiA9IHN0YXRlLnNlbGVjdGlvbjsgLy8gTWF5IGJlIHNldCBieSBicnVzaC5tb3ZlIVxuICAgICAgaWYgKGxvY2tYKSB3MSA9IHNlbGVjdGlvblswXVswXSwgZTEgPSBzZWxlY3Rpb25bMV1bMF07XG4gICAgICBpZiAobG9ja1kpIG4xID0gc2VsZWN0aW9uWzBdWzFdLCBzMSA9IHNlbGVjdGlvblsxXVsxXTtcblxuICAgICAgaWYgKHNlbGVjdGlvblswXVswXSAhPT0gdzFcbiAgICAgICAgICB8fCBzZWxlY3Rpb25bMF1bMV0gIT09IG4xXG4gICAgICAgICAgfHwgc2VsZWN0aW9uWzFdWzBdICE9PSBlMVxuICAgICAgICAgIHx8IHNlbGVjdGlvblsxXVsxXSAhPT0gczEpIHtcbiAgICAgICAgc3RhdGUuc2VsZWN0aW9uID0gW1t3MSwgbjFdLCBbZTEsIHMxXV07XG4gICAgICAgIHJlZHJhdy5jYWxsKHRoYXQpO1xuICAgICAgICBlbWl0LmJydXNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5kZWQoKSB7XG4gICAgICBub3Byb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoZXZlbnQudG91Y2hlcykge1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgaWYgKHRvdWNoZW5kaW5nKSBjbGVhclRpbWVvdXQodG91Y2hlbmRpbmcpO1xuICAgICAgICB0b3VjaGVuZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRvdWNoZW5kaW5nID0gbnVsbDsgfSwgNTAwKTsgLy8gR2hvc3QgY2xpY2tzIGFyZSBkZWxheWVkIVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZ0VuYWJsZShldmVudC52aWV3LCBtb3ZpbmcpO1xuICAgICAgICB2aWV3Lm9uKFwia2V5ZG93bi5icnVzaCBrZXl1cC5icnVzaCBtb3VzZW1vdmUuYnJ1c2ggbW91c2V1cC5icnVzaFwiLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIGdyb3VwLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKTtcbiAgICAgIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLm92ZXJsYXkpO1xuICAgICAgaWYgKHN0YXRlLnNlbGVjdGlvbikgc2VsZWN0aW9uID0gc3RhdGUuc2VsZWN0aW9uOyAvLyBNYXkgYmUgc2V0IGJ5IGJydXNoLm1vdmUgKG9uIHN0YXJ0KSFcbiAgICAgIGlmIChlbXB0eShzZWxlY3Rpb24pKSBzdGF0ZS5zZWxlY3Rpb24gPSBudWxsLCByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgIGVtaXQuZW5kKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga2V5ZG93bmVkKCkge1xuICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgMTY6IHsgLy8gU0hJRlRcbiAgICAgICAgICBzaGlmdGluZyA9IHNpZ25YICYmIHNpZ25ZO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMTg6IHsgLy8gQUxUXG4gICAgICAgICAgaWYgKG1vZGUgPT09IE1PREVfSEFORExFKSB7XG4gICAgICAgICAgICBpZiAoc2lnblgpIGUwID0gZTEgLSBkeCAqIHNpZ25YLCB3MCA9IHcxICsgZHggKiBzaWduWDtcbiAgICAgICAgICAgIGlmIChzaWduWSkgczAgPSBzMSAtIGR5ICogc2lnblksIG4wID0gbjEgKyBkeSAqIHNpZ25ZO1xuICAgICAgICAgICAgbW9kZSA9IE1PREVfQ0VOVEVSO1xuICAgICAgICAgICAgbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDMyOiB7IC8vIFNQQUNFOyB0YWtlcyBwcmlvcml0eSBvdmVyIEFMVFxuICAgICAgICAgIGlmIChtb2RlID09PSBNT0RFX0hBTkRMRSB8fCBtb2RlID09PSBNT0RFX0NFTlRFUikge1xuICAgICAgICAgICAgaWYgKHNpZ25YIDwgMCkgZTAgPSBlMSAtIGR4OyBlbHNlIGlmIChzaWduWCA+IDApIHcwID0gdzEgLSBkeDtcbiAgICAgICAgICAgIGlmIChzaWduWSA8IDApIHMwID0gczEgLSBkeTsgZWxzZSBpZiAoc2lnblkgPiAwKSBuMCA9IG4xIC0gZHk7XG4gICAgICAgICAgICBtb2RlID0gTU9ERV9TUEFDRTtcbiAgICAgICAgICAgIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLnNlbGVjdGlvbik7XG4gICAgICAgICAgICBtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5vZXZlbnQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXl1cHBlZCgpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDE2OiB7IC8vIFNISUZUXG4gICAgICAgICAgaWYgKHNoaWZ0aW5nKSB7XG4gICAgICAgICAgICBsb2NrWCA9IGxvY2tZID0gc2hpZnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxODogeyAvLyBBTFRcbiAgICAgICAgICBpZiAobW9kZSA9PT0gTU9ERV9DRU5URVIpIHtcbiAgICAgICAgICAgIGlmIChzaWduWCA8IDApIGUwID0gZTE7IGVsc2UgaWYgKHNpZ25YID4gMCkgdzAgPSB3MTtcbiAgICAgICAgICAgIGlmIChzaWduWSA8IDApIHMwID0gczE7IGVsc2UgaWYgKHNpZ25ZID4gMCkgbjAgPSBuMTtcbiAgICAgICAgICAgIG1vZGUgPSBNT0RFX0hBTkRMRTtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzMjogeyAvLyBTUEFDRVxuICAgICAgICAgIGlmIChtb2RlID09PSBNT0RFX1NQQUNFKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgICAgIGlmIChzaWduWCkgZTAgPSBlMSAtIGR4ICogc2lnblgsIHcwID0gdzEgKyBkeCAqIHNpZ25YO1xuICAgICAgICAgICAgICBpZiAoc2lnblkpIHMwID0gczEgLSBkeSAqIHNpZ25ZLCBuMCA9IG4xICsgZHkgKiBzaWduWTtcbiAgICAgICAgICAgICAgbW9kZSA9IE1PREVfQ0VOVEVSO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHNpZ25YIDwgMCkgZTAgPSBlMTsgZWxzZSBpZiAoc2lnblggPiAwKSB3MCA9IHcxO1xuICAgICAgICAgICAgICBpZiAoc2lnblkgPCAwKSBzMCA9IHMxOyBlbHNlIGlmIChzaWduWSA+IDApIG4wID0gbjE7XG4gICAgICAgICAgICAgIG1vZGUgPSBNT0RFX0hBTkRMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGVdKTtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogcmV0dXJuO1xuICAgICAgfVxuICAgICAgbm9ldmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNobW92ZWQoKSB7XG4gICAgZW1pdHRlcih0aGlzLCBhcmd1bWVudHMpLm1vdmVkKCk7XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaGVuZGVkKCkge1xuICAgIGVtaXR0ZXIodGhpcywgYXJndW1lbnRzKS5lbmRlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9fYnJ1c2ggfHwge3NlbGVjdGlvbjogbnVsbH07XG4gICAgc3RhdGUuZXh0ZW50ID0gbnVtYmVyMihleHRlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgc3RhdGUuZGltID0gZGltO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIGJydXNoLmV4dGVudCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChleHRlbnQgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KG51bWJlcjIoXykpLCBicnVzaCkgOiBleHRlbnQ7XG4gIH07XG5cbiAgYnJ1c2guZmlsdGVyID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGZpbHRlciA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoISFfKSwgYnJ1c2gpIDogZmlsdGVyO1xuICB9O1xuXG4gIGJydXNoLnRvdWNoYWJsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0b3VjaGFibGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCEhXyksIGJydXNoKSA6IHRvdWNoYWJsZTtcbiAgfTtcblxuICBicnVzaC5oYW5kbGVTaXplID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGhhbmRsZVNpemUgPSArXywgYnJ1c2gpIDogaGFuZGxlU2l6ZTtcbiAgfTtcblxuICBicnVzaC5rZXlNb2RpZmllcnMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoa2V5cyA9ICEhXywgYnJ1c2gpIDoga2V5cztcbiAgfTtcblxuICBicnVzaC5vbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZSA9IGxpc3RlbmVycy5vbi5hcHBseShsaXN0ZW5lcnMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHZhbHVlID09PSBsaXN0ZW5lcnMgPyBicnVzaCA6IHZhbHVlO1xuICB9O1xuXG4gIHJldHVybiBicnVzaDtcbn1cbiIsImV4cG9ydCB2YXIgY29zID0gTWF0aC5jb3M7XG5leHBvcnQgdmFyIHNpbiA9IE1hdGguc2luO1xuZXhwb3J0IHZhciBwaSA9IE1hdGguUEk7XG5leHBvcnQgdmFyIGhhbGZQaSA9IHBpIC8gMjtcbmV4cG9ydCB2YXIgdGF1ID0gcGkgKiAyO1xuZXhwb3J0IHZhciBtYXggPSBNYXRoLm1heDtcbiIsImV4cG9ydCB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4iLCJpbXBvcnQge3JhbmdlfSBmcm9tIFwiZDMtYXJyYXlcIjtcbmltcG9ydCB7bWF4LCB0YXV9IGZyb20gXCIuL21hdGhcIjtcblxuZnVuY3Rpb24gY29tcGFyZVZhbHVlKGNvbXBhcmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gY29tcGFyZShcbiAgICAgIGEuc291cmNlLnZhbHVlICsgYS50YXJnZXQudmFsdWUsXG4gICAgICBiLnNvdXJjZS52YWx1ZSArIGIudGFyZ2V0LnZhbHVlXG4gICAgKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBwYWRBbmdsZSA9IDAsXG4gICAgICBzb3J0R3JvdXBzID0gbnVsbCxcbiAgICAgIHNvcnRTdWJncm91cHMgPSBudWxsLFxuICAgICAgc29ydENob3JkcyA9IG51bGw7XG5cbiAgZnVuY3Rpb24gY2hvcmQobWF0cml4KSB7XG4gICAgdmFyIG4gPSBtYXRyaXgubGVuZ3RoLFxuICAgICAgICBncm91cFN1bXMgPSBbXSxcbiAgICAgICAgZ3JvdXBJbmRleCA9IHJhbmdlKG4pLFxuICAgICAgICBzdWJncm91cEluZGV4ID0gW10sXG4gICAgICAgIGNob3JkcyA9IFtdLFxuICAgICAgICBncm91cHMgPSBjaG9yZHMuZ3JvdXBzID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBzdWJncm91cHMgPSBuZXcgQXJyYXkobiAqIG4pLFxuICAgICAgICBrLFxuICAgICAgICB4LFxuICAgICAgICB4MCxcbiAgICAgICAgZHgsXG4gICAgICAgIGksXG4gICAgICAgIGo7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBzdW0uXG4gICAgayA9IDAsIGkgPSAtMTsgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIHggPSAwLCBqID0gLTE7IHdoaWxlICgrK2ogPCBuKSB7XG4gICAgICAgIHggKz0gbWF0cml4W2ldW2pdO1xuICAgICAgfVxuICAgICAgZ3JvdXBTdW1zLnB1c2goeCk7XG4gICAgICBzdWJncm91cEluZGV4LnB1c2gocmFuZ2UobikpO1xuICAgICAgayArPSB4O1xuICAgIH1cblxuICAgIC8vIFNvcnQgZ3JvdXBz4oCmXG4gICAgaWYgKHNvcnRHcm91cHMpIGdyb3VwSW5kZXguc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICByZXR1cm4gc29ydEdyb3Vwcyhncm91cFN1bXNbYV0sIGdyb3VwU3Vtc1tiXSk7XG4gICAgfSk7XG5cbiAgICAvLyBTb3J0IHN1Ymdyb3Vwc+KAplxuICAgIGlmIChzb3J0U3ViZ3JvdXBzKSBzdWJncm91cEluZGV4LmZvckVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHNvcnRTdWJncm91cHMobWF0cml4W2ldW2FdLCBtYXRyaXhbaV1bYl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBDb252ZXJ0IHRoZSBzdW0gdG8gc2NhbGluZyBmYWN0b3IgZm9yIFswLCAycGldLlxuICAgIC8vIFRPRE8gQWxsb3cgc3RhcnQgYW5kIGVuZCBhbmdsZSB0byBiZSBzcGVjaWZpZWQ/XG4gICAgLy8gVE9ETyBBbGxvdyBwYWRkaW5nIHRvIGJlIHNwZWNpZmllZCBhcyBwZXJjZW50YWdlP1xuICAgIGsgPSBtYXgoMCwgdGF1IC0gcGFkQW5nbGUgKiBuKSAvIGs7XG4gICAgZHggPSBrID8gcGFkQW5nbGUgOiB0YXUgLyBuO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgc3RhcnQgYW5kIGVuZCBhbmdsZSBmb3IgZWFjaCBncm91cCBhbmQgc3ViZ3JvdXAuXG4gICAgLy8gTm90ZTogT3BlcmEgaGFzIGEgYnVnIHJlb3JkZXJpbmcgb2JqZWN0IGxpdGVyYWwgcHJvcGVydGllcyFcbiAgICB4ID0gMCwgaSA9IC0xOyB3aGlsZSAoKytpIDwgbikge1xuICAgICAgeDAgPSB4LCBqID0gLTE7IHdoaWxlICgrK2ogPCBuKSB7XG4gICAgICAgIHZhciBkaSA9IGdyb3VwSW5kZXhbaV0sXG4gICAgICAgICAgICBkaiA9IHN1Ymdyb3VwSW5kZXhbZGldW2pdLFxuICAgICAgICAgICAgdiA9IG1hdHJpeFtkaV1bZGpdLFxuICAgICAgICAgICAgYTAgPSB4LFxuICAgICAgICAgICAgYTEgPSB4ICs9IHYgKiBrO1xuICAgICAgICBzdWJncm91cHNbZGogKiBuICsgZGldID0ge1xuICAgICAgICAgIGluZGV4OiBkaSxcbiAgICAgICAgICBzdWJpbmRleDogZGosXG4gICAgICAgICAgc3RhcnRBbmdsZTogYTAsXG4gICAgICAgICAgZW5kQW5nbGU6IGExLFxuICAgICAgICAgIHZhbHVlOiB2XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBncm91cHNbZGldID0ge1xuICAgICAgICBpbmRleDogZGksXG4gICAgICAgIHN0YXJ0QW5nbGU6IHgwLFxuICAgICAgICBlbmRBbmdsZTogeCxcbiAgICAgICAgdmFsdWU6IGdyb3VwU3Vtc1tkaV1cbiAgICAgIH07XG4gICAgICB4ICs9IGR4O1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIGNob3JkcyBmb3IgZWFjaCAobm9uLWVtcHR5KSBzdWJncm91cC1zdWJncm91cCBsaW5rLlxuICAgIGkgPSAtMTsgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIGogPSBpIC0gMTsgd2hpbGUgKCsraiA8IG4pIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHN1Ymdyb3Vwc1tqICogbiArIGldLFxuICAgICAgICAgICAgdGFyZ2V0ID0gc3ViZ3JvdXBzW2kgKiBuICsgal07XG4gICAgICAgIGlmIChzb3VyY2UudmFsdWUgfHwgdGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgY2hvcmRzLnB1c2goc291cmNlLnZhbHVlIDwgdGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgID8ge3NvdXJjZTogdGFyZ2V0LCB0YXJnZXQ6IHNvdXJjZX1cbiAgICAgICAgICAgICAgOiB7c291cmNlOiBzb3VyY2UsIHRhcmdldDogdGFyZ2V0fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc29ydENob3JkcyA/IGNob3Jkcy5zb3J0KHNvcnRDaG9yZHMpIDogY2hvcmRzO1xuICB9XG5cbiAgY2hvcmQucGFkQW5nbGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocGFkQW5nbGUgPSBtYXgoMCwgXyksIGNob3JkKSA6IHBhZEFuZ2xlO1xuICB9O1xuXG4gIGNob3JkLnNvcnRHcm91cHMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc29ydEdyb3VwcyA9IF8sIGNob3JkKSA6IHNvcnRHcm91cHM7XG4gIH07XG5cbiAgY2hvcmQuc29ydFN1Ymdyb3VwcyA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzb3J0U3ViZ3JvdXBzID0gXywgY2hvcmQpIDogc29ydFN1Ymdyb3VwcztcbiAgfTtcblxuICBjaG9yZC5zb3J0Q2hvcmRzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKF8gPT0gbnVsbCA/IHNvcnRDaG9yZHMgPSBudWxsIDogKHNvcnRDaG9yZHMgPSBjb21wYXJlVmFsdWUoXykpLl8gPSBfLCBjaG9yZCkgOiBzb3J0Q2hvcmRzICYmIHNvcnRDaG9yZHMuXztcbiAgfTtcblxuICByZXR1cm4gY2hvcmQ7XG59XG4iLCJ2YXIgcGkgPSBNYXRoLlBJLFxuICAgIHRhdSA9IDIgKiBwaSxcbiAgICBlcHNpbG9uID0gMWUtNixcbiAgICB0YXVFcHNpbG9uID0gdGF1IC0gZXBzaWxvbjtcblxuZnVuY3Rpb24gUGF0aCgpIHtcbiAgdGhpcy5feDAgPSB0aGlzLl95MCA9IC8vIHN0YXJ0IG9mIGN1cnJlbnQgc3VicGF0aFxuICB0aGlzLl94MSA9IHRoaXMuX3kxID0gbnVsbDsgLy8gZW5kIG9mIGN1cnJlbnQgc3VicGF0aFxuICB0aGlzLl8gPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBwYXRoKCkge1xuICByZXR1cm4gbmV3IFBhdGg7XG59XG5cblBhdGgucHJvdG90eXBlID0gcGF0aC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQYXRoLFxuICBtb3ZlVG86IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLl8gKz0gXCJNXCIgKyAodGhpcy5feDAgPSB0aGlzLl94MSA9ICt4KSArIFwiLFwiICsgKHRoaXMuX3kwID0gdGhpcy5feTEgPSAreSk7XG4gIH0sXG4gIGNsb3NlUGF0aDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3gxICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl94MSA9IHRoaXMuX3gwLCB0aGlzLl95MSA9IHRoaXMuX3kwO1xuICAgICAgdGhpcy5fICs9IFwiWlwiO1xuICAgIH1cbiAgfSxcbiAgbGluZVRvOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgdGhpcy5fICs9IFwiTFwiICsgKHRoaXMuX3gxID0gK3gpICsgXCIsXCIgKyAodGhpcy5feTEgPSAreSk7XG4gIH0sXG4gIHF1YWRyYXRpY0N1cnZlVG86IGZ1bmN0aW9uKHgxLCB5MSwgeCwgeSkge1xuICAgIHRoaXMuXyArPSBcIlFcIiArICgreDEpICsgXCIsXCIgKyAoK3kxKSArIFwiLFwiICsgKHRoaXMuX3gxID0gK3gpICsgXCIsXCIgKyAodGhpcy5feTEgPSAreSk7XG4gIH0sXG4gIGJlemllckN1cnZlVG86IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCB4LCB5KSB7XG4gICAgdGhpcy5fICs9IFwiQ1wiICsgKCt4MSkgKyBcIixcIiArICgreTEpICsgXCIsXCIgKyAoK3gyKSArIFwiLFwiICsgKCt5MikgKyBcIixcIiArICh0aGlzLl94MSA9ICt4KSArIFwiLFwiICsgKHRoaXMuX3kxID0gK3kpO1xuICB9LFxuICBhcmNUbzogZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIHIpIHtcbiAgICB4MSA9ICt4MSwgeTEgPSAreTEsIHgyID0gK3gyLCB5MiA9ICt5MiwgciA9ICtyO1xuICAgIHZhciB4MCA9IHRoaXMuX3gxLFxuICAgICAgICB5MCA9IHRoaXMuX3kxLFxuICAgICAgICB4MjEgPSB4MiAtIHgxLFxuICAgICAgICB5MjEgPSB5MiAtIHkxLFxuICAgICAgICB4MDEgPSB4MCAtIHgxLFxuICAgICAgICB5MDEgPSB5MCAtIHkxLFxuICAgICAgICBsMDFfMiA9IHgwMSAqIHgwMSArIHkwMSAqIHkwMTtcblxuICAgIC8vIElzIHRoZSByYWRpdXMgbmVnYXRpdmU/IEVycm9yLlxuICAgIGlmIChyIDwgMCkgdGhyb3cgbmV3IEVycm9yKFwibmVnYXRpdmUgcmFkaXVzOiBcIiArIHIpO1xuXG4gICAgLy8gSXMgdGhpcyBwYXRoIGVtcHR5PyBNb3ZlIHRvICh4MSx5MSkuXG4gICAgaWYgKHRoaXMuX3gxID09PSBudWxsKSB7XG4gICAgICB0aGlzLl8gKz0gXCJNXCIgKyAodGhpcy5feDEgPSB4MSkgKyBcIixcIiArICh0aGlzLl95MSA9IHkxKTtcbiAgICB9XG5cbiAgICAvLyBPciwgaXMgKHgxLHkxKSBjb2luY2lkZW50IHdpdGggKHgwLHkwKT8gRG8gbm90aGluZy5cbiAgICBlbHNlIGlmICghKGwwMV8yID4gZXBzaWxvbikpO1xuXG4gICAgLy8gT3IsIGFyZSAoeDAseTApLCAoeDEseTEpIGFuZCAoeDIseTIpIGNvbGxpbmVhcj9cbiAgICAvLyBFcXVpdmFsZW50bHksIGlzICh4MSx5MSkgY29pbmNpZGVudCB3aXRoICh4Mix5Mik/XG4gICAgLy8gT3IsIGlzIHRoZSByYWRpdXMgemVybz8gTGluZSB0byAoeDEseTEpLlxuICAgIGVsc2UgaWYgKCEoTWF0aC5hYnMoeTAxICogeDIxIC0geTIxICogeDAxKSA+IGVwc2lsb24pIHx8ICFyKSB7XG4gICAgICB0aGlzLl8gKz0gXCJMXCIgKyAodGhpcy5feDEgPSB4MSkgKyBcIixcIiArICh0aGlzLl95MSA9IHkxKTtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIGRyYXcgYW4gYXJjIVxuICAgIGVsc2Uge1xuICAgICAgdmFyIHgyMCA9IHgyIC0geDAsXG4gICAgICAgICAgeTIwID0geTIgLSB5MCxcbiAgICAgICAgICBsMjFfMiA9IHgyMSAqIHgyMSArIHkyMSAqIHkyMSxcbiAgICAgICAgICBsMjBfMiA9IHgyMCAqIHgyMCArIHkyMCAqIHkyMCxcbiAgICAgICAgICBsMjEgPSBNYXRoLnNxcnQobDIxXzIpLFxuICAgICAgICAgIGwwMSA9IE1hdGguc3FydChsMDFfMiksXG4gICAgICAgICAgbCA9IHIgKiBNYXRoLnRhbigocGkgLSBNYXRoLmFjb3MoKGwyMV8yICsgbDAxXzIgLSBsMjBfMikgLyAoMiAqIGwyMSAqIGwwMSkpKSAvIDIpLFxuICAgICAgICAgIHQwMSA9IGwgLyBsMDEsXG4gICAgICAgICAgdDIxID0gbCAvIGwyMTtcblxuICAgICAgLy8gSWYgdGhlIHN0YXJ0IHRhbmdlbnQgaXMgbm90IGNvaW5jaWRlbnQgd2l0aCAoeDAseTApLCBsaW5lIHRvLlxuICAgICAgaWYgKE1hdGguYWJzKHQwMSAtIDEpID4gZXBzaWxvbikge1xuICAgICAgICB0aGlzLl8gKz0gXCJMXCIgKyAoeDEgKyB0MDEgKiB4MDEpICsgXCIsXCIgKyAoeTEgKyB0MDEgKiB5MDEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl8gKz0gXCJBXCIgKyByICsgXCIsXCIgKyByICsgXCIsMCwwLFwiICsgKCsoeTAxICogeDIwID4geDAxICogeTIwKSkgKyBcIixcIiArICh0aGlzLl94MSA9IHgxICsgdDIxICogeDIxKSArIFwiLFwiICsgKHRoaXMuX3kxID0geTEgKyB0MjEgKiB5MjEpO1xuICAgIH1cbiAgfSxcbiAgYXJjOiBmdW5jdGlvbih4LCB5LCByLCBhMCwgYTEsIGNjdykge1xuICAgIHggPSAreCwgeSA9ICt5LCByID0gK3IsIGNjdyA9ICEhY2N3O1xuICAgIHZhciBkeCA9IHIgKiBNYXRoLmNvcyhhMCksXG4gICAgICAgIGR5ID0gciAqIE1hdGguc2luKGEwKSxcbiAgICAgICAgeDAgPSB4ICsgZHgsXG4gICAgICAgIHkwID0geSArIGR5LFxuICAgICAgICBjdyA9IDEgXiBjY3csXG4gICAgICAgIGRhID0gY2N3ID8gYTAgLSBhMSA6IGExIC0gYTA7XG5cbiAgICAvLyBJcyB0aGUgcmFkaXVzIG5lZ2F0aXZlPyBFcnJvci5cbiAgICBpZiAociA8IDApIHRocm93IG5ldyBFcnJvcihcIm5lZ2F0aXZlIHJhZGl1czogXCIgKyByKTtcblxuICAgIC8vIElzIHRoaXMgcGF0aCBlbXB0eT8gTW92ZSB0byAoeDAseTApLlxuICAgIGlmICh0aGlzLl94MSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fICs9IFwiTVwiICsgeDAgKyBcIixcIiArIHkwO1xuICAgIH1cblxuICAgIC8vIE9yLCBpcyAoeDAseTApIG5vdCBjb2luY2lkZW50IHdpdGggdGhlIHByZXZpb3VzIHBvaW50PyBMaW5lIHRvICh4MCx5MCkuXG4gICAgZWxzZSBpZiAoTWF0aC5hYnModGhpcy5feDEgLSB4MCkgPiBlcHNpbG9uIHx8IE1hdGguYWJzKHRoaXMuX3kxIC0geTApID4gZXBzaWxvbikge1xuICAgICAgdGhpcy5fICs9IFwiTFwiICsgeDAgKyBcIixcIiArIHkwO1xuICAgIH1cblxuICAgIC8vIElzIHRoaXMgYXJjIGVtcHR5PyBXZeKAmXJlIGRvbmUuXG4gICAgaWYgKCFyKSByZXR1cm47XG5cbiAgICAvLyBEb2VzIHRoZSBhbmdsZSBnbyB0aGUgd3Jvbmcgd2F5PyBGbGlwIHRoZSBkaXJlY3Rpb24uXG4gICAgaWYgKGRhIDwgMCkgZGEgPSBkYSAlIHRhdSArIHRhdTtcblxuICAgIC8vIElzIHRoaXMgYSBjb21wbGV0ZSBjaXJjbGU/IERyYXcgdHdvIGFyY3MgdG8gY29tcGxldGUgdGhlIGNpcmNsZS5cbiAgICBpZiAoZGEgPiB0YXVFcHNpbG9uKSB7XG4gICAgICB0aGlzLl8gKz0gXCJBXCIgKyByICsgXCIsXCIgKyByICsgXCIsMCwxLFwiICsgY3cgKyBcIixcIiArICh4IC0gZHgpICsgXCIsXCIgKyAoeSAtIGR5KSArIFwiQVwiICsgciArIFwiLFwiICsgciArIFwiLDAsMSxcIiArIGN3ICsgXCIsXCIgKyAodGhpcy5feDEgPSB4MCkgKyBcIixcIiArICh0aGlzLl95MSA9IHkwKTtcbiAgICB9XG5cbiAgICAvLyBJcyB0aGlzIGFyYyBub24tZW1wdHk/IERyYXcgYW4gYXJjIVxuICAgIGVsc2UgaWYgKGRhID4gZXBzaWxvbikge1xuICAgICAgdGhpcy5fICs9IFwiQVwiICsgciArIFwiLFwiICsgciArIFwiLDAsXCIgKyAoKyhkYSA+PSBwaSkpICsgXCIsXCIgKyBjdyArIFwiLFwiICsgKHRoaXMuX3gxID0geCArIHIgKiBNYXRoLmNvcyhhMSkpICsgXCIsXCIgKyAodGhpcy5feTEgPSB5ICsgciAqIE1hdGguc2luKGExKSk7XG4gICAgfVxuICB9LFxuICByZWN0OiBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG4gICAgdGhpcy5fICs9IFwiTVwiICsgKHRoaXMuX3gwID0gdGhpcy5feDEgPSAreCkgKyBcIixcIiArICh0aGlzLl95MCA9IHRoaXMuX3kxID0gK3kpICsgXCJoXCIgKyAoK3cpICsgXCJ2XCIgKyAoK2gpICsgXCJoXCIgKyAoLXcpICsgXCJaXCI7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwYXRoO1xuIiwiZXhwb3J0IHZhciBwcmVmaXggPSBcIiRcIjtcblxuZnVuY3Rpb24gTWFwKCkge31cblxuTWFwLnByb3RvdHlwZSA9IG1hcC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBNYXAsXG4gIGhhczogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIChwcmVmaXggKyBrZXkpIGluIHRoaXM7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXNbcHJlZml4ICsga2V5XTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdGhpc1twcmVmaXggKyBrZXldID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHByb3BlcnR5ID0gcHJlZml4ICsga2V5O1xuICAgIHJldHVybiBwcm9wZXJ0eSBpbiB0aGlzICYmIGRlbGV0ZSB0aGlzW3Byb3BlcnR5XTtcbiAgfSxcbiAgY2xlYXI6IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpIGlmIChwcm9wZXJ0eVswXSA9PT0gcHJlZml4KSBkZWxldGUgdGhpc1twcm9wZXJ0eV07XG4gIH0sXG4gIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcykgaWYgKHByb3BlcnR5WzBdID09PSBwcmVmaXgpIGtleXMucHVzaChwcm9wZXJ0eS5zbGljZSgxKSk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH0sXG4gIHZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpIGlmIChwcm9wZXJ0eVswXSA9PT0gcHJlZml4KSB2YWx1ZXMucHVzaCh0aGlzW3Byb3BlcnR5XSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfSxcbiAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSBpZiAocHJvcGVydHlbMF0gPT09IHByZWZpeCkgZW50cmllcy5wdXNoKHtrZXk6IHByb3BlcnR5LnNsaWNlKDEpLCB2YWx1ZTogdGhpc1twcm9wZXJ0eV19KTtcbiAgICByZXR1cm4gZW50cmllcztcbiAgfSxcbiAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNpemUgPSAwO1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpIGlmIChwcm9wZXJ0eVswXSA9PT0gcHJlZml4KSArK3NpemU7XG4gICAgcmV0dXJuIHNpemU7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSBpZiAocHJvcGVydHlbMF0gPT09IHByZWZpeCkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBlYWNoOiBmdW5jdGlvbihmKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcykgaWYgKHByb3BlcnR5WzBdID09PSBwcmVmaXgpIGYodGhpc1twcm9wZXJ0eV0sIHByb3BlcnR5LnNsaWNlKDEpLCB0aGlzKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gbWFwKG9iamVjdCwgZikge1xuICB2YXIgbWFwID0gbmV3IE1hcDtcblxuICAvLyBDb3B5IGNvbnN0cnVjdG9yLlxuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTWFwKSBvYmplY3QuZWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7IG1hcC5zZXQoa2V5LCB2YWx1ZSk7IH0pO1xuXG4gIC8vIEluZGV4IGFycmF5IGJ5IG51bWVyaWMgaW5kZXggb3Igc3BlY2lmaWVkIGtleSBmdW5jdGlvbi5cbiAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgdmFyIGkgPSAtMSxcbiAgICAgICAgbiA9IG9iamVjdC5sZW5ndGgsXG4gICAgICAgIG87XG5cbiAgICBpZiAoZiA9PSBudWxsKSB3aGlsZSAoKytpIDwgbikgbWFwLnNldChpLCBvYmplY3RbaV0pO1xuICAgIGVsc2Ugd2hpbGUgKCsraSA8IG4pIG1hcC5zZXQoZihvID0gb2JqZWN0W2ldLCBpLCBvYmplY3QpLCBvKTtcbiAgfVxuXG4gIC8vIENvbnZlcnQgb2JqZWN0IHRvIG1hcC5cbiAgZWxzZSBpZiAob2JqZWN0KSBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSBtYXAuc2V0KGtleSwgb2JqZWN0W2tleV0pO1xuXG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1hcDtcbiIsImltcG9ydCB7ZGVmYXVsdCBhcyBtYXAsIHByZWZpeH0gZnJvbSBcIi4vbWFwXCI7XG5cbmZ1bmN0aW9uIFNldCgpIHt9XG5cbnZhciBwcm90byA9IG1hcC5wcm90b3R5cGU7XG5cblNldC5wcm90b3R5cGUgPSBzZXQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogU2V0LFxuICBoYXM6IHByb3RvLmhhcyxcbiAgYWRkOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlICs9IFwiXCI7XG4gICAgdGhpc1twcmVmaXggKyB2YWx1ZV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgcmVtb3ZlOiBwcm90by5yZW1vdmUsXG4gIGNsZWFyOiBwcm90by5jbGVhcixcbiAgdmFsdWVzOiBwcm90by5rZXlzLFxuICBzaXplOiBwcm90by5zaXplLFxuICBlbXB0eTogcHJvdG8uZW1wdHksXG4gIGVhY2g6IHByb3RvLmVhY2hcbn07XG5cbmZ1bmN0aW9uIHNldChvYmplY3QsIGYpIHtcbiAgdmFyIHNldCA9IG5ldyBTZXQ7XG5cbiAgLy8gQ29weSBjb25zdHJ1Y3Rvci5cbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFNldCkgb2JqZWN0LmVhY2goZnVuY3Rpb24odmFsdWUpIHsgc2V0LmFkZCh2YWx1ZSk7IH0pO1xuXG4gIC8vIE90aGVyd2lzZSwgYXNzdW1lIGl04oCZcyBhbiBhcnJheS5cbiAgZWxzZSBpZiAob2JqZWN0KSB7XG4gICAgdmFyIGkgPSAtMSwgbiA9IG9iamVjdC5sZW5ndGg7XG4gICAgaWYgKGYgPT0gbnVsbCkgd2hpbGUgKCsraSA8IG4pIHNldC5hZGQob2JqZWN0W2ldKTtcbiAgICBlbHNlIHdoaWxlICgrK2kgPCBuKSBzZXQuYWRkKGYob2JqZWN0W2ldLCBpLCBvYmplY3QpKTtcbiAgfVxuXG4gIHJldHVybiBzZXQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNldDtcbiIsInZhciBhcnJheSA9IEFycmF5LnByb3RvdHlwZTtcblxuZXhwb3J0IHZhciBzbGljZSA9IGFycmF5LnNsaWNlO1xuIiwiZnVuY3Rpb24gcmVzcG9uc2VBcnJheUJ1ZmZlcihyZXNwb25zZSkge1xuICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBmZXRjaChpbnB1dCwgaW5pdCkudGhlbihyZXNwb25zZUFycmF5QnVmZmVyKTtcbn1cbiIsInZhciBFT0wgPSB7fSxcbiAgICBFT0YgPSB7fSxcbiAgICBRVU9URSA9IDM0LFxuICAgIE5FV0xJTkUgPSAxMCxcbiAgICBSRVRVUk4gPSAxMztcblxuZnVuY3Rpb24gb2JqZWN0Q29udmVydGVyKGNvbHVtbnMpIHtcbiAgcmV0dXJuIG5ldyBGdW5jdGlvbihcImRcIiwgXCJyZXR1cm4ge1wiICsgY29sdW1ucy5tYXAoZnVuY3Rpb24obmFtZSwgaSkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShuYW1lKSArIFwiOiBkW1wiICsgaSArIFwiXSB8fCBcXFwiXFxcIlwiO1xuICB9KS5qb2luKFwiLFwiKSArIFwifVwiKTtcbn1cblxuZnVuY3Rpb24gY3VzdG9tQ29udmVydGVyKGNvbHVtbnMsIGYpIHtcbiAgdmFyIG9iamVjdCA9IG9iamVjdENvbnZlcnRlcihjb2x1bW5zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHJvdywgaSkge1xuICAgIHJldHVybiBmKG9iamVjdChyb3cpLCBpLCBjb2x1bW5zKTtcbiAgfTtcbn1cblxuLy8gQ29tcHV0ZSB1bmlxdWUgY29sdW1ucyBpbiBvcmRlciBvZiBkaXNjb3ZlcnkuXG5mdW5jdGlvbiBpbmZlckNvbHVtbnMocm93cykge1xuICB2YXIgY29sdW1uU2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIGNvbHVtbnMgPSBbXTtcblxuICByb3dzLmZvckVhY2goZnVuY3Rpb24ocm93KSB7XG4gICAgZm9yICh2YXIgY29sdW1uIGluIHJvdykge1xuICAgICAgaWYgKCEoY29sdW1uIGluIGNvbHVtblNldCkpIHtcbiAgICAgICAgY29sdW1ucy5wdXNoKGNvbHVtblNldFtjb2x1bW5dID0gY29sdW1uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBjb2x1bW5zO1xufVxuXG5mdW5jdGlvbiBwYWQodmFsdWUsIHdpZHRoKSB7XG4gIHZhciBzID0gdmFsdWUgKyBcIlwiLCBsZW5ndGggPSBzLmxlbmd0aDtcbiAgcmV0dXJuIGxlbmd0aCA8IHdpZHRoID8gbmV3IEFycmF5KHdpZHRoIC0gbGVuZ3RoICsgMSkuam9pbigwKSArIHMgOiBzO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRZZWFyKHllYXIpIHtcbiAgcmV0dXJuIHllYXIgPCAwID8gXCItXCIgKyBwYWQoLXllYXIsIDYpXG4gICAgOiB5ZWFyID4gOTk5OSA/IFwiK1wiICsgcGFkKHllYXIsIDYpXG4gICAgOiBwYWQoeWVhciwgNCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkge1xuICB2YXIgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCksXG4gICAgICBtaW51dGVzID0gZGF0ZS5nZXRVVENNaW51dGVzKCksXG4gICAgICBzZWNvbmRzID0gZGF0ZS5nZXRVVENTZWNvbmRzKCksXG4gICAgICBtaWxsaXNlY29uZHMgPSBkYXRlLmdldFVUQ01pbGxpc2Vjb25kcygpO1xuICByZXR1cm4gaXNOYU4oZGF0ZSkgPyBcIkludmFsaWQgRGF0ZVwiXG4gICAgICA6IGZvcm1hdFllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpLCA0KSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsIDIpICsgXCItXCIgKyBwYWQoZGF0ZS5nZXRVVENEYXRlKCksIDIpXG4gICAgICArIChtaWxsaXNlY29uZHMgPyBcIlRcIiArIHBhZChob3VycywgMikgKyBcIjpcIiArIHBhZChtaW51dGVzLCAyKSArIFwiOlwiICsgcGFkKHNlY29uZHMsIDIpICsgXCIuXCIgKyBwYWQobWlsbGlzZWNvbmRzLCAzKSArIFwiWlwiXG4gICAgICA6IHNlY29uZHMgPyBcIlRcIiArIHBhZChob3VycywgMikgKyBcIjpcIiArIHBhZChtaW51dGVzLCAyKSArIFwiOlwiICsgcGFkKHNlY29uZHMsIDIpICsgXCJaXCJcbiAgICAgIDogbWludXRlcyB8fCBob3VycyA/IFwiVFwiICsgcGFkKGhvdXJzLCAyKSArIFwiOlwiICsgcGFkKG1pbnV0ZXMsIDIpICsgXCJaXCJcbiAgICAgIDogXCJcIik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGRlbGltaXRlcikge1xuICB2YXIgcmVGb3JtYXQgPSBuZXcgUmVnRXhwKFwiW1xcXCJcIiArIGRlbGltaXRlciArIFwiXFxuXFxyXVwiKSxcbiAgICAgIERFTElNSVRFUiA9IGRlbGltaXRlci5jaGFyQ29kZUF0KDApO1xuXG4gIGZ1bmN0aW9uIHBhcnNlKHRleHQsIGYpIHtcbiAgICB2YXIgY29udmVydCwgY29sdW1ucywgcm93cyA9IHBhcnNlUm93cyh0ZXh0LCBmdW5jdGlvbihyb3csIGkpIHtcbiAgICAgIGlmIChjb252ZXJ0KSByZXR1cm4gY29udmVydChyb3csIGkgLSAxKTtcbiAgICAgIGNvbHVtbnMgPSByb3csIGNvbnZlcnQgPSBmID8gY3VzdG9tQ29udmVydGVyKHJvdywgZikgOiBvYmplY3RDb252ZXJ0ZXIocm93KTtcbiAgICB9KTtcbiAgICByb3dzLmNvbHVtbnMgPSBjb2x1bW5zIHx8IFtdO1xuICAgIHJldHVybiByb3dzO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VSb3dzKHRleHQsIGYpIHtcbiAgICB2YXIgcm93cyA9IFtdLCAvLyBvdXRwdXQgcm93c1xuICAgICAgICBOID0gdGV4dC5sZW5ndGgsXG4gICAgICAgIEkgPSAwLCAvLyBjdXJyZW50IGNoYXJhY3RlciBpbmRleFxuICAgICAgICBuID0gMCwgLy8gY3VycmVudCBsaW5lIG51bWJlclxuICAgICAgICB0LCAvLyBjdXJyZW50IHRva2VuXG4gICAgICAgIGVvZiA9IE4gPD0gMCwgLy8gY3VycmVudCB0b2tlbiBmb2xsb3dlZCBieSBFT0Y/XG4gICAgICAgIGVvbCA9IGZhbHNlOyAvLyBjdXJyZW50IHRva2VuIGZvbGxvd2VkIGJ5IEVPTD9cblxuICAgIC8vIFN0cmlwIHRoZSB0cmFpbGluZyBuZXdsaW5lLlxuICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoTiAtIDEpID09PSBORVdMSU5FKSAtLU47XG4gICAgaWYgKHRleHQuY2hhckNvZGVBdChOIC0gMSkgPT09IFJFVFVSTikgLS1OO1xuXG4gICAgZnVuY3Rpb24gdG9rZW4oKSB7XG4gICAgICBpZiAoZW9mKSByZXR1cm4gRU9GO1xuICAgICAgaWYgKGVvbCkgcmV0dXJuIGVvbCA9IGZhbHNlLCBFT0w7XG5cbiAgICAgIC8vIFVuZXNjYXBlIHF1b3Rlcy5cbiAgICAgIHZhciBpLCBqID0gSSwgYztcbiAgICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoaikgPT09IFFVT1RFKSB7XG4gICAgICAgIHdoaWxlIChJKysgPCBOICYmIHRleHQuY2hhckNvZGVBdChJKSAhPT0gUVVPVEUgfHwgdGV4dC5jaGFyQ29kZUF0KCsrSSkgPT09IFFVT1RFKTtcbiAgICAgICAgaWYgKChpID0gSSkgPj0gTikgZW9mID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoKGMgPSB0ZXh0LmNoYXJDb2RlQXQoSSsrKSkgPT09IE5FV0xJTkUpIGVvbCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IFJFVFVSTikgeyBlb2wgPSB0cnVlOyBpZiAodGV4dC5jaGFyQ29kZUF0KEkpID09PSBORVdMSU5FKSArK0k7IH1cbiAgICAgICAgcmV0dXJuIHRleHQuc2xpY2UoaiArIDEsIGkgLSAxKS5yZXBsYWNlKC9cIlwiL2csIFwiXFxcIlwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gRmluZCBuZXh0IGRlbGltaXRlciBvciBuZXdsaW5lLlxuICAgICAgd2hpbGUgKEkgPCBOKSB7XG4gICAgICAgIGlmICgoYyA9IHRleHQuY2hhckNvZGVBdChpID0gSSsrKSkgPT09IE5FV0xJTkUpIGVvbCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKGMgPT09IFJFVFVSTikgeyBlb2wgPSB0cnVlOyBpZiAodGV4dC5jaGFyQ29kZUF0KEkpID09PSBORVdMSU5FKSArK0k7IH1cbiAgICAgICAgZWxzZSBpZiAoYyAhPT0gREVMSU1JVEVSKSBjb250aW51ZTtcbiAgICAgICAgcmV0dXJuIHRleHQuc2xpY2UoaiwgaSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJldHVybiBsYXN0IHRva2VuIGJlZm9yZSBFT0YuXG4gICAgICByZXR1cm4gZW9mID0gdHJ1ZSwgdGV4dC5zbGljZShqLCBOKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoKHQgPSB0b2tlbigpKSAhPT0gRU9GKSB7XG4gICAgICB2YXIgcm93ID0gW107XG4gICAgICB3aGlsZSAodCAhPT0gRU9MICYmIHQgIT09IEVPRikgcm93LnB1c2godCksIHQgPSB0b2tlbigpO1xuICAgICAgaWYgKGYgJiYgKHJvdyA9IGYocm93LCBuKyspKSA9PSBudWxsKSBjb250aW51ZTtcbiAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgIH1cblxuICAgIHJldHVybiByb3dzO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlZm9ybWF0Qm9keShyb3dzLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIHJvd3MubWFwKGZ1bmN0aW9uKHJvdykge1xuICAgICAgcmV0dXJuIGNvbHVtbnMubWFwKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gZm9ybWF0VmFsdWUocm93W2NvbHVtbl0pO1xuICAgICAgfSkuam9pbihkZWxpbWl0ZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0KHJvd3MsIGNvbHVtbnMpIHtcbiAgICBpZiAoY29sdW1ucyA9PSBudWxsKSBjb2x1bW5zID0gaW5mZXJDb2x1bW5zKHJvd3MpO1xuICAgIHJldHVybiBbY29sdW1ucy5tYXAoZm9ybWF0VmFsdWUpLmpvaW4oZGVsaW1pdGVyKV0uY29uY2F0KHByZWZvcm1hdEJvZHkocm93cywgY29sdW1ucykpLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRCb2R5KHJvd3MsIGNvbHVtbnMpIHtcbiAgICBpZiAoY29sdW1ucyA9PSBudWxsKSBjb2x1bW5zID0gaW5mZXJDb2x1bW5zKHJvd3MpO1xuICAgIHJldHVybiBwcmVmb3JtYXRCb2R5KHJvd3MsIGNvbHVtbnMpLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRSb3dzKHJvd3MpIHtcbiAgICByZXR1cm4gcm93cy5tYXAoZm9ybWF0Um93KS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0Um93KHJvdykge1xuICAgIHJldHVybiByb3cubWFwKGZvcm1hdFZhbHVlKS5qb2luKGRlbGltaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIlxuICAgICAgICA6IHZhbHVlIGluc3RhbmNlb2YgRGF0ZSA/IGZvcm1hdERhdGUodmFsdWUpXG4gICAgICAgIDogcmVGb3JtYXQudGVzdCh2YWx1ZSArPSBcIlwiKSA/IFwiXFxcIlwiICsgdmFsdWUucmVwbGFjZSgvXCIvZywgXCJcXFwiXFxcIlwiKSArIFwiXFxcIlwiXG4gICAgICAgIDogdmFsdWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhcnNlOiBwYXJzZSxcbiAgICBwYXJzZVJvd3M6IHBhcnNlUm93cyxcbiAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICBmb3JtYXRCb2R5OiBmb3JtYXRCb2R5LFxuICAgIGZvcm1hdFJvd3M6IGZvcm1hdFJvd3MsXG4gICAgZm9ybWF0Um93OiBmb3JtYXRSb3csXG4gICAgZm9ybWF0VmFsdWU6IGZvcm1hdFZhbHVlXG4gIH07XG59XG4iLCJpbXBvcnQgZHN2IGZyb20gXCIuL2Rzdi5qc1wiO1xuXG52YXIgY3N2ID0gZHN2KFwiLFwiKTtcblxuZXhwb3J0IHZhciBjc3ZQYXJzZSA9IGNzdi5wYXJzZTtcbmV4cG9ydCB2YXIgY3N2UGFyc2VSb3dzID0gY3N2LnBhcnNlUm93cztcbmV4cG9ydCB2YXIgY3N2Rm9ybWF0ID0gY3N2LmZvcm1hdDtcbmV4cG9ydCB2YXIgY3N2Rm9ybWF0Qm9keSA9IGNzdi5mb3JtYXRCb2R5O1xuZXhwb3J0IHZhciBjc3ZGb3JtYXRSb3dzID0gY3N2LmZvcm1hdFJvd3M7XG5leHBvcnQgdmFyIGNzdkZvcm1hdFJvdyA9IGNzdi5mb3JtYXRSb3c7XG5leHBvcnQgdmFyIGNzdkZvcm1hdFZhbHVlID0gY3N2LmZvcm1hdFZhbHVlO1xuIiwiaW1wb3J0IGRzdiBmcm9tIFwiLi9kc3YuanNcIjtcblxudmFyIHRzdiA9IGRzdihcIlxcdFwiKTtcblxuZXhwb3J0IHZhciB0c3ZQYXJzZSA9IHRzdi5wYXJzZTtcbmV4cG9ydCB2YXIgdHN2UGFyc2VSb3dzID0gdHN2LnBhcnNlUm93cztcbmV4cG9ydCB2YXIgdHN2Rm9ybWF0ID0gdHN2LmZvcm1hdDtcbmV4cG9ydCB2YXIgdHN2Rm9ybWF0Qm9keSA9IHRzdi5mb3JtYXRCb2R5O1xuZXhwb3J0IHZhciB0c3ZGb3JtYXRSb3dzID0gdHN2LmZvcm1hdFJvd3M7XG5leHBvcnQgdmFyIHRzdkZvcm1hdFJvdyA9IHRzdi5mb3JtYXRSb3c7XG5leHBvcnQgdmFyIHRzdkZvcm1hdFZhbHVlID0gdHN2LmZvcm1hdFZhbHVlO1xuIiwiZnVuY3Rpb24gcmVzcG9uc2VUZXh0KHJlc3BvbnNlKSB7XG4gIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXMgKyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gZmV0Y2goaW5wdXQsIGluaXQpLnRoZW4ocmVzcG9uc2VUZXh0KTtcbn1cbiIsImltcG9ydCB7Y3N2UGFyc2UsIGRzdkZvcm1hdCwgdHN2UGFyc2V9IGZyb20gXCJkMy1kc3ZcIjtcbmltcG9ydCB0ZXh0IGZyb20gXCIuL3RleHRcIjtcblxuZnVuY3Rpb24gZHN2UGFyc2UocGFyc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBpbml0LCByb3cpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgaW5pdCA9PT0gXCJmdW5jdGlvblwiKSByb3cgPSBpbml0LCBpbml0ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiB0ZXh0KGlucHV0LCBpbml0KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcGFyc2UocmVzcG9uc2UsIHJvdyk7XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRzdihkZWxpbWl0ZXIsIGlucHV0LCBpbml0LCByb3cpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgdHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikgcm93ID0gaW5pdCwgaW5pdCA9IHVuZGVmaW5lZDtcbiAgdmFyIGZvcm1hdCA9IGRzdkZvcm1hdChkZWxpbWl0ZXIpO1xuICByZXR1cm4gdGV4dChpbnB1dCwgaW5pdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiBmb3JtYXQucGFyc2UocmVzcG9uc2UsIHJvdyk7XG4gIH0pO1xufVxuXG5leHBvcnQgdmFyIGNzdiA9IGRzdlBhcnNlKGNzdlBhcnNlKTtcbmV4cG9ydCB2YXIgdHN2ID0gZHN2UGFyc2UodHN2UGFyc2UpO1xuIiwiaW1wb3J0IHRleHQgZnJvbSBcIi4vdGV4dFwiO1xuXG5mdW5jdGlvbiBwYXJzZXIodHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGluaXQpICB7XG4gICAgcmV0dXJuIHRleHQoaW5wdXQsIGluaXQpLnRoZW4oZnVuY3Rpb24odGV4dCkge1xuICAgICAgcmV0dXJuIChuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodGV4dCwgdHlwZSk7XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlcihcImFwcGxpY2F0aW9uL3htbFwiKTtcblxuZXhwb3J0IHZhciBodG1sID0gcGFyc2VyKFwidGV4dC9odG1sXCIpO1xuXG5leHBvcnQgdmFyIHN2ZyA9IHBhcnNlcihcImltYWdlL3N2Zyt4bWxcIik7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkKSB7XG4gIHZhciB4ID0gK3RoaXMuX3guY2FsbChudWxsLCBkKSxcbiAgICAgIHkgPSArdGhpcy5feS5jYWxsKG51bGwsIGQpO1xuICByZXR1cm4gYWRkKHRoaXMuY292ZXIoeCwgeSksIHgsIHksIGQpO1xufVxuXG5mdW5jdGlvbiBhZGQodHJlZSwgeCwgeSwgZCkge1xuICBpZiAoaXNOYU4oeCkgfHwgaXNOYU4oeSkpIHJldHVybiB0cmVlOyAvLyBpZ25vcmUgaW52YWxpZCBwb2ludHNcblxuICB2YXIgcGFyZW50LFxuICAgICAgbm9kZSA9IHRyZWUuX3Jvb3QsXG4gICAgICBsZWFmID0ge2RhdGE6IGR9LFxuICAgICAgeDAgPSB0cmVlLl94MCxcbiAgICAgIHkwID0gdHJlZS5feTAsXG4gICAgICB4MSA9IHRyZWUuX3gxLFxuICAgICAgeTEgPSB0cmVlLl95MSxcbiAgICAgIHhtLFxuICAgICAgeW0sXG4gICAgICB4cCxcbiAgICAgIHlwLFxuICAgICAgcmlnaHQsXG4gICAgICBib3R0b20sXG4gICAgICBpLFxuICAgICAgajtcblxuICAvLyBJZiB0aGUgdHJlZSBpcyBlbXB0eSwgaW5pdGlhbGl6ZSB0aGUgcm9vdCBhcyBhIGxlYWYuXG4gIGlmICghbm9kZSkgcmV0dXJuIHRyZWUuX3Jvb3QgPSBsZWFmLCB0cmVlO1xuXG4gIC8vIEZpbmQgdGhlIGV4aXN0aW5nIGxlYWYgZm9yIHRoZSBuZXcgcG9pbnQsIG9yIGFkZCBpdC5cbiAgd2hpbGUgKG5vZGUubGVuZ3RoKSB7XG4gICAgaWYgKHJpZ2h0ID0geCA+PSAoeG0gPSAoeDAgKyB4MSkgLyAyKSkgeDAgPSB4bTsgZWxzZSB4MSA9IHhtO1xuICAgIGlmIChib3R0b20gPSB5ID49ICh5bSA9ICh5MCArIHkxKSAvIDIpKSB5MCA9IHltOyBlbHNlIHkxID0geW07XG4gICAgaWYgKHBhcmVudCA9IG5vZGUsICEobm9kZSA9IG5vZGVbaSA9IGJvdHRvbSA8PCAxIHwgcmlnaHRdKSkgcmV0dXJuIHBhcmVudFtpXSA9IGxlYWYsIHRyZWU7XG4gIH1cblxuICAvLyBJcyB0aGUgbmV3IHBvaW50IGlzIGV4YWN0bHkgY29pbmNpZGVudCB3aXRoIHRoZSBleGlzdGluZyBwb2ludD9cbiAgeHAgPSArdHJlZS5feC5jYWxsKG51bGwsIG5vZGUuZGF0YSk7XG4gIHlwID0gK3RyZWUuX3kuY2FsbChudWxsLCBub2RlLmRhdGEpO1xuICBpZiAoeCA9PT0geHAgJiYgeSA9PT0geXApIHJldHVybiBsZWFmLm5leHQgPSBub2RlLCBwYXJlbnQgPyBwYXJlbnRbaV0gPSBsZWFmIDogdHJlZS5fcm9vdCA9IGxlYWYsIHRyZWU7XG5cbiAgLy8gT3RoZXJ3aXNlLCBzcGxpdCB0aGUgbGVhZiBub2RlIHVudGlsIHRoZSBvbGQgYW5kIG5ldyBwb2ludCBhcmUgc2VwYXJhdGVkLlxuICBkbyB7XG4gICAgcGFyZW50ID0gcGFyZW50ID8gcGFyZW50W2ldID0gbmV3IEFycmF5KDQpIDogdHJlZS5fcm9vdCA9IG5ldyBBcnJheSg0KTtcbiAgICBpZiAocmlnaHQgPSB4ID49ICh4bSA9ICh4MCArIHgxKSAvIDIpKSB4MCA9IHhtOyBlbHNlIHgxID0geG07XG4gICAgaWYgKGJvdHRvbSA9IHkgPj0gKHltID0gKHkwICsgeTEpIC8gMikpIHkwID0geW07IGVsc2UgeTEgPSB5bTtcbiAgfSB3aGlsZSAoKGkgPSBib3R0b20gPDwgMSB8IHJpZ2h0KSA9PT0gKGogPSAoeXAgPj0geW0pIDw8IDEgfCAoeHAgPj0geG0pKSk7XG4gIHJldHVybiBwYXJlbnRbal0gPSBub2RlLCBwYXJlbnRbaV0gPSBsZWFmLCB0cmVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxsKGRhdGEpIHtcbiAgdmFyIGQsIGksIG4gPSBkYXRhLmxlbmd0aCxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgeHogPSBuZXcgQXJyYXkobiksXG4gICAgICB5eiA9IG5ldyBBcnJheShuKSxcbiAgICAgIHgwID0gSW5maW5pdHksXG4gICAgICB5MCA9IEluZmluaXR5LFxuICAgICAgeDEgPSAtSW5maW5pdHksXG4gICAgICB5MSA9IC1JbmZpbml0eTtcblxuICAvLyBDb21wdXRlIHRoZSBwb2ludHMgYW5kIHRoZWlyIGV4dGVudC5cbiAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgIGlmIChpc05hTih4ID0gK3RoaXMuX3guY2FsbChudWxsLCBkID0gZGF0YVtpXSkpIHx8IGlzTmFOKHkgPSArdGhpcy5feS5jYWxsKG51bGwsIGQpKSkgY29udGludWU7XG4gICAgeHpbaV0gPSB4O1xuICAgIHl6W2ldID0geTtcbiAgICBpZiAoeCA8IHgwKSB4MCA9IHg7XG4gICAgaWYgKHggPiB4MSkgeDEgPSB4O1xuICAgIGlmICh5IDwgeTApIHkwID0geTtcbiAgICBpZiAoeSA+IHkxKSB5MSA9IHk7XG4gIH1cblxuICAvLyBJZiB0aGVyZSB3ZXJlIG5vICh2YWxpZCkgcG9pbnRzLCBhYm9ydC5cbiAgaWYgKHgwID4geDEgfHwgeTAgPiB5MSkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gRXhwYW5kIHRoZSB0cmVlIHRvIGNvdmVyIHRoZSBuZXcgcG9pbnRzLlxuICB0aGlzLmNvdmVyKHgwLCB5MCkuY292ZXIoeDEsIHkxKTtcblxuICAvLyBBZGQgdGhlIG5ldyBwb2ludHMuXG4gIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBhZGQodGhpcywgeHpbaV0sIHl6W2ldLCBkYXRhW2ldKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCwgeSkge1xuICBpZiAoaXNOYU4oeCA9ICt4KSB8fCBpc05hTih5ID0gK3kpKSByZXR1cm4gdGhpczsgLy8gaWdub3JlIGludmFsaWQgcG9pbnRzXG5cbiAgdmFyIHgwID0gdGhpcy5feDAsXG4gICAgICB5MCA9IHRoaXMuX3kwLFxuICAgICAgeDEgPSB0aGlzLl94MSxcbiAgICAgIHkxID0gdGhpcy5feTE7XG5cbiAgLy8gSWYgdGhlIHF1YWR0cmVlIGhhcyBubyBleHRlbnQsIGluaXRpYWxpemUgdGhlbS5cbiAgLy8gSW50ZWdlciBleHRlbnQgYXJlIG5lY2Vzc2FyeSBzbyB0aGF0IGlmIHdlIGxhdGVyIGRvdWJsZSB0aGUgZXh0ZW50LFxuICAvLyB0aGUgZXhpc3RpbmcgcXVhZHJhbnQgYm91bmRhcmllcyBkb27igJl0IGNoYW5nZSBkdWUgdG8gZmxvYXRpbmcgcG9pbnQgZXJyb3IhXG4gIGlmIChpc05hTih4MCkpIHtcbiAgICB4MSA9ICh4MCA9IE1hdGguZmxvb3IoeCkpICsgMTtcbiAgICB5MSA9ICh5MCA9IE1hdGguZmxvb3IoeSkpICsgMTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgZG91YmxlIHJlcGVhdGVkbHkgdG8gY292ZXIuXG4gIGVsc2Uge1xuICAgIHZhciB6ID0geDEgLSB4MCxcbiAgICAgICAgbm9kZSA9IHRoaXMuX3Jvb3QsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgaTtcblxuICAgIHdoaWxlICh4MCA+IHggfHwgeCA+PSB4MSB8fCB5MCA+IHkgfHwgeSA+PSB5MSkge1xuICAgICAgaSA9ICh5IDwgeTApIDw8IDEgfCAoeCA8IHgwKTtcbiAgICAgIHBhcmVudCA9IG5ldyBBcnJheSg0KSwgcGFyZW50W2ldID0gbm9kZSwgbm9kZSA9IHBhcmVudCwgeiAqPSAyO1xuICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgIGNhc2UgMDogeDEgPSB4MCArIHosIHkxID0geTAgKyB6OyBicmVhaztcbiAgICAgICAgY2FzZSAxOiB4MCA9IHgxIC0geiwgeTEgPSB5MCArIHo7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IHgxID0geDAgKyB6LCB5MCA9IHkxIC0gejsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogeDAgPSB4MSAtIHosIHkwID0geTEgLSB6OyBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcm9vdCAmJiB0aGlzLl9yb290Lmxlbmd0aCkgdGhpcy5fcm9vdCA9IG5vZGU7XG4gIH1cblxuICB0aGlzLl94MCA9IHgwO1xuICB0aGlzLl95MCA9IHkwO1xuICB0aGlzLl94MSA9IHgxO1xuICB0aGlzLl95MSA9IHkxO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUsIHgwLCB5MCwgeDEsIHkxKSB7XG4gIHRoaXMubm9kZSA9IG5vZGU7XG4gIHRoaXMueDAgPSB4MDtcbiAgdGhpcy55MCA9IHkwO1xuICB0aGlzLngxID0geDE7XG4gIHRoaXMueTEgPSB5MTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0WChkKSB7XG4gIHJldHVybiBkWzBdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihfKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHRoaXMuX3ggPSBfLCB0aGlzKSA6IHRoaXMuX3g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZGVmYXVsdFkoZCkge1xuICByZXR1cm4gZFsxXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLl95ID0gXywgdGhpcykgOiB0aGlzLl95O1xufVxuIiwiaW1wb3J0IHRyZWVfYWRkLCB7YWRkQWxsIGFzIHRyZWVfYWRkQWxsfSBmcm9tIFwiLi9hZGQuanNcIjtcbmltcG9ydCB0cmVlX2NvdmVyIGZyb20gXCIuL2NvdmVyLmpzXCI7XG5pbXBvcnQgdHJlZV9kYXRhIGZyb20gXCIuL2RhdGEuanNcIjtcbmltcG9ydCB0cmVlX2V4dGVudCBmcm9tIFwiLi9leHRlbnQuanNcIjtcbmltcG9ydCB0cmVlX2ZpbmQgZnJvbSBcIi4vZmluZC5qc1wiO1xuaW1wb3J0IHRyZWVfcmVtb3ZlLCB7cmVtb3ZlQWxsIGFzIHRyZWVfcmVtb3ZlQWxsfSBmcm9tIFwiLi9yZW1vdmUuanNcIjtcbmltcG9ydCB0cmVlX3Jvb3QgZnJvbSBcIi4vcm9vdC5qc1wiO1xuaW1wb3J0IHRyZWVfc2l6ZSBmcm9tIFwiLi9zaXplLmpzXCI7XG5pbXBvcnQgdHJlZV92aXNpdCBmcm9tIFwiLi92aXNpdC5qc1wiO1xuaW1wb3J0IHRyZWVfdmlzaXRBZnRlciBmcm9tIFwiLi92aXNpdEFmdGVyLmpzXCI7XG5pbXBvcnQgdHJlZV94LCB7ZGVmYXVsdFh9IGZyb20gXCIuL3guanNcIjtcbmltcG9ydCB0cmVlX3ksIHtkZWZhdWx0WX0gZnJvbSBcIi4veS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBxdWFkdHJlZShub2RlcywgeCwgeSkge1xuICB2YXIgdHJlZSA9IG5ldyBRdWFkdHJlZSh4ID09IG51bGwgPyBkZWZhdWx0WCA6IHgsIHkgPT0gbnVsbCA/IGRlZmF1bHRZIDogeSwgTmFOLCBOYU4sIE5hTiwgTmFOKTtcbiAgcmV0dXJuIG5vZGVzID09IG51bGwgPyB0cmVlIDogdHJlZS5hZGRBbGwobm9kZXMpO1xufVxuXG5mdW5jdGlvbiBRdWFkdHJlZSh4LCB5LCB4MCwgeTAsIHgxLCB5MSkge1xuICB0aGlzLl94ID0geDtcbiAgdGhpcy5feSA9IHk7XG4gIHRoaXMuX3gwID0geDA7XG4gIHRoaXMuX3kwID0geTA7XG4gIHRoaXMuX3gxID0geDE7XG4gIHRoaXMuX3kxID0geTE7XG4gIHRoaXMuX3Jvb3QgPSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGxlYWZfY29weShsZWFmKSB7XG4gIHZhciBjb3B5ID0ge2RhdGE6IGxlYWYuZGF0YX0sIG5leHQgPSBjb3B5O1xuICB3aGlsZSAobGVhZiA9IGxlYWYubmV4dCkgbmV4dCA9IG5leHQubmV4dCA9IHtkYXRhOiBsZWFmLmRhdGF9O1xuICByZXR1cm4gY29weTtcbn1cblxudmFyIHRyZWVQcm90byA9IHF1YWR0cmVlLnByb3RvdHlwZSA9IFF1YWR0cmVlLnByb3RvdHlwZTtcblxudHJlZVByb3RvLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvcHkgPSBuZXcgUXVhZHRyZWUodGhpcy5feCwgdGhpcy5feSwgdGhpcy5feDAsIHRoaXMuX3kwLCB0aGlzLl94MSwgdGhpcy5feTEpLFxuICAgICAgbm9kZSA9IHRoaXMuX3Jvb3QsXG4gICAgICBub2RlcyxcbiAgICAgIGNoaWxkO1xuXG4gIGlmICghbm9kZSkgcmV0dXJuIGNvcHk7XG5cbiAgaWYgKCFub2RlLmxlbmd0aCkgcmV0dXJuIGNvcHkuX3Jvb3QgPSBsZWFmX2NvcHkobm9kZSksIGNvcHk7XG5cbiAgbm9kZXMgPSBbe3NvdXJjZTogbm9kZSwgdGFyZ2V0OiBjb3B5Ll9yb290ID0gbmV3IEFycmF5KDQpfV07XG4gIHdoaWxlIChub2RlID0gbm9kZXMucG9wKCkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgaWYgKGNoaWxkID0gbm9kZS5zb3VyY2VbaV0pIHtcbiAgICAgICAgaWYgKGNoaWxkLmxlbmd0aCkgbm9kZXMucHVzaCh7c291cmNlOiBjaGlsZCwgdGFyZ2V0OiBub2RlLnRhcmdldFtpXSA9IG5ldyBBcnJheSg0KX0pO1xuICAgICAgICBlbHNlIG5vZGUudGFyZ2V0W2ldID0gbGVhZl9jb3B5KGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29weTtcbn07XG5cbnRyZWVQcm90by5hZGQgPSB0cmVlX2FkZDtcbnRyZWVQcm90by5hZGRBbGwgPSB0cmVlX2FkZEFsbDtcbnRyZWVQcm90by5jb3ZlciA9IHRyZWVfY292ZXI7XG50cmVlUHJvdG8uZGF0YSA9IHRyZWVfZGF0YTtcbnRyZWVQcm90by5leHRlbnQgPSB0cmVlX2V4dGVudDtcbnRyZWVQcm90by5maW5kID0gdHJlZV9maW5kO1xudHJlZVByb3RvLnJlbW92ZSA9IHRyZWVfcmVtb3ZlO1xudHJlZVByb3RvLnJlbW92ZUFsbCA9IHRyZWVfcmVtb3ZlQWxsO1xudHJlZVByb3RvLnJvb3QgPSB0cmVlX3Jvb3Q7XG50cmVlUHJvdG8uc2l6ZSA9IHRyZWVfc2l6ZTtcbnRyZWVQcm90by52aXNpdCA9IHRyZWVfdmlzaXQ7XG50cmVlUHJvdG8udmlzaXRBZnRlciA9IHRyZWVfdmlzaXRBZnRlcjtcbnRyZWVQcm90by54ID0gdHJlZV94O1xudHJlZVByb3RvLnkgPSB0cmVlX3k7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGRhdGEgPSBbXTtcbiAgdGhpcy52aXNpdChmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKCFub2RlLmxlbmd0aCkgZG8gZGF0YS5wdXNoKG5vZGUuZGF0YSk7IHdoaWxlIChub2RlID0gbm9kZS5uZXh0KVxuICB9KTtcbiAgcmV0dXJuIGRhdGE7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihfKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuY292ZXIoK19bMF1bMF0sICtfWzBdWzFdKS5jb3ZlcigrX1sxXVswXSwgK19bMV1bMV0pXG4gICAgICA6IGlzTmFOKHRoaXMuX3gwKSA/IHVuZGVmaW5lZCA6IFtbdGhpcy5feDAsIHRoaXMuX3kwXSwgW3RoaXMuX3gxLCB0aGlzLl95MV1dO1xufVxuIiwiaW1wb3J0IFF1YWQgZnJvbSBcIi4vcXVhZC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4LCB5LCByYWRpdXMpIHtcbiAgdmFyIGRhdGEsXG4gICAgICB4MCA9IHRoaXMuX3gwLFxuICAgICAgeTAgPSB0aGlzLl95MCxcbiAgICAgIHgxLFxuICAgICAgeTEsXG4gICAgICB4MixcbiAgICAgIHkyLFxuICAgICAgeDMgPSB0aGlzLl94MSxcbiAgICAgIHkzID0gdGhpcy5feTEsXG4gICAgICBxdWFkcyA9IFtdLFxuICAgICAgbm9kZSA9IHRoaXMuX3Jvb3QsXG4gICAgICBxLFxuICAgICAgaTtcblxuICBpZiAobm9kZSkgcXVhZHMucHVzaChuZXcgUXVhZChub2RlLCB4MCwgeTAsIHgzLCB5MykpO1xuICBpZiAocmFkaXVzID09IG51bGwpIHJhZGl1cyA9IEluZmluaXR5O1xuICBlbHNlIHtcbiAgICB4MCA9IHggLSByYWRpdXMsIHkwID0geSAtIHJhZGl1cztcbiAgICB4MyA9IHggKyByYWRpdXMsIHkzID0geSArIHJhZGl1cztcbiAgICByYWRpdXMgKj0gcmFkaXVzO1xuICB9XG5cbiAgd2hpbGUgKHEgPSBxdWFkcy5wb3AoKSkge1xuXG4gICAgLy8gU3RvcCBzZWFyY2hpbmcgaWYgdGhpcyBxdWFkcmFudCBjYW7igJl0IGNvbnRhaW4gYSBjbG9zZXIgbm9kZS5cbiAgICBpZiAoIShub2RlID0gcS5ub2RlKVxuICAgICAgICB8fCAoeDEgPSBxLngwKSA+IHgzXG4gICAgICAgIHx8ICh5MSA9IHEueTApID4geTNcbiAgICAgICAgfHwgKHgyID0gcS54MSkgPCB4MFxuICAgICAgICB8fCAoeTIgPSBxLnkxKSA8IHkwKSBjb250aW51ZTtcblxuICAgIC8vIEJpc2VjdCB0aGUgY3VycmVudCBxdWFkcmFudC5cbiAgICBpZiAobm9kZS5sZW5ndGgpIHtcbiAgICAgIHZhciB4bSA9ICh4MSArIHgyKSAvIDIsXG4gICAgICAgICAgeW0gPSAoeTEgKyB5MikgLyAyO1xuXG4gICAgICBxdWFkcy5wdXNoKFxuICAgICAgICBuZXcgUXVhZChub2RlWzNdLCB4bSwgeW0sIHgyLCB5MiksXG4gICAgICAgIG5ldyBRdWFkKG5vZGVbMl0sIHgxLCB5bSwgeG0sIHkyKSxcbiAgICAgICAgbmV3IFF1YWQobm9kZVsxXSwgeG0sIHkxLCB4MiwgeW0pLFxuICAgICAgICBuZXcgUXVhZChub2RlWzBdLCB4MSwgeTEsIHhtLCB5bSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFZpc2l0IHRoZSBjbG9zZXN0IHF1YWRyYW50IGZpcnN0LlxuICAgICAgaWYgKGkgPSAoeSA+PSB5bSkgPDwgMSB8ICh4ID49IHhtKSkge1xuICAgICAgICBxID0gcXVhZHNbcXVhZHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHF1YWRzW3F1YWRzLmxlbmd0aCAtIDFdID0gcXVhZHNbcXVhZHMubGVuZ3RoIC0gMSAtIGldO1xuICAgICAgICBxdWFkc1txdWFkcy5sZW5ndGggLSAxIC0gaV0gPSBxO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZpc2l0IHRoaXMgcG9pbnQuIChWaXNpdGluZyBjb2luY2lkZW50IHBvaW50cyBpc27igJl0IG5lY2Vzc2FyeSEpXG4gICAgZWxzZSB7XG4gICAgICB2YXIgZHggPSB4IC0gK3RoaXMuX3guY2FsbChudWxsLCBub2RlLmRhdGEpLFxuICAgICAgICAgIGR5ID0geSAtICt0aGlzLl95LmNhbGwobnVsbCwgbm9kZS5kYXRhKSxcbiAgICAgICAgICBkMiA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgaWYgKGQyIDwgcmFkaXVzKSB7XG4gICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KHJhZGl1cyA9IGQyKTtcbiAgICAgICAgeDAgPSB4IC0gZCwgeTAgPSB5IC0gZDtcbiAgICAgICAgeDMgPSB4ICsgZCwgeTMgPSB5ICsgZDtcbiAgICAgICAgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGQpIHtcbiAgaWYgKGlzTmFOKHggPSArdGhpcy5feC5jYWxsKG51bGwsIGQpKSB8fCBpc05hTih5ID0gK3RoaXMuX3kuY2FsbChudWxsLCBkKSkpIHJldHVybiB0aGlzOyAvLyBpZ25vcmUgaW52YWxpZCBwb2ludHNcblxuICB2YXIgcGFyZW50LFxuICAgICAgbm9kZSA9IHRoaXMuX3Jvb3QsXG4gICAgICByZXRhaW5lcixcbiAgICAgIHByZXZpb3VzLFxuICAgICAgbmV4dCxcbiAgICAgIHgwID0gdGhpcy5feDAsXG4gICAgICB5MCA9IHRoaXMuX3kwLFxuICAgICAgeDEgPSB0aGlzLl94MSxcbiAgICAgIHkxID0gdGhpcy5feTEsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHhtLFxuICAgICAgeW0sXG4gICAgICByaWdodCxcbiAgICAgIGJvdHRvbSxcbiAgICAgIGksXG4gICAgICBqO1xuXG4gIC8vIElmIHRoZSB0cmVlIGlzIGVtcHR5LCBpbml0aWFsaXplIHRoZSByb290IGFzIGEgbGVhZi5cbiAgaWYgKCFub2RlKSByZXR1cm4gdGhpcztcblxuICAvLyBGaW5kIHRoZSBsZWFmIG5vZGUgZm9yIHRoZSBwb2ludC5cbiAgLy8gV2hpbGUgZGVzY2VuZGluZywgYWxzbyByZXRhaW4gdGhlIGRlZXBlc3QgcGFyZW50IHdpdGggYSBub24tcmVtb3ZlZCBzaWJsaW5nLlxuICBpZiAobm9kZS5sZW5ndGgpIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKHJpZ2h0ID0geCA+PSAoeG0gPSAoeDAgKyB4MSkgLyAyKSkgeDAgPSB4bTsgZWxzZSB4MSA9IHhtO1xuICAgIGlmIChib3R0b20gPSB5ID49ICh5bSA9ICh5MCArIHkxKSAvIDIpKSB5MCA9IHltOyBlbHNlIHkxID0geW07XG4gICAgaWYgKCEocGFyZW50ID0gbm9kZSwgbm9kZSA9IG5vZGVbaSA9IGJvdHRvbSA8PCAxIHwgcmlnaHRdKSkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKCFub2RlLmxlbmd0aCkgYnJlYWs7XG4gICAgaWYgKHBhcmVudFsoaSArIDEpICYgM10gfHwgcGFyZW50WyhpICsgMikgJiAzXSB8fCBwYXJlbnRbKGkgKyAzKSAmIDNdKSByZXRhaW5lciA9IHBhcmVudCwgaiA9IGk7XG4gIH1cblxuICAvLyBGaW5kIHRoZSBwb2ludCB0byByZW1vdmUuXG4gIHdoaWxlIChub2RlLmRhdGEgIT09IGQpIGlmICghKHByZXZpb3VzID0gbm9kZSwgbm9kZSA9IG5vZGUubmV4dCkpIHJldHVybiB0aGlzO1xuICBpZiAobmV4dCA9IG5vZGUubmV4dCkgZGVsZXRlIG5vZGUubmV4dDtcblxuICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY29pbmNpZGVudCBwb2ludHMsIHJlbW92ZSBqdXN0IHRoZSBwb2ludC5cbiAgaWYgKHByZXZpb3VzKSByZXR1cm4gKG5leHQgPyBwcmV2aW91cy5uZXh0ID0gbmV4dCA6IGRlbGV0ZSBwcmV2aW91cy5uZXh0KSwgdGhpcztcblxuICAvLyBJZiB0aGlzIGlzIHRoZSByb290IHBvaW50LCByZW1vdmUgaXQuXG4gIGlmICghcGFyZW50KSByZXR1cm4gdGhpcy5fcm9vdCA9IG5leHQsIHRoaXM7XG5cbiAgLy8gUmVtb3ZlIHRoaXMgbGVhZi5cbiAgbmV4dCA/IHBhcmVudFtpXSA9IG5leHQgOiBkZWxldGUgcGFyZW50W2ldO1xuXG4gIC8vIElmIHRoZSBwYXJlbnQgbm93IGNvbnRhaW5zIGV4YWN0bHkgb25lIGxlYWYsIGNvbGxhcHNlIHN1cGVyZmx1b3VzIHBhcmVudHMuXG4gIGlmICgobm9kZSA9IHBhcmVudFswXSB8fCBwYXJlbnRbMV0gfHwgcGFyZW50WzJdIHx8IHBhcmVudFszXSlcbiAgICAgICYmIG5vZGUgPT09IChwYXJlbnRbM10gfHwgcGFyZW50WzJdIHx8IHBhcmVudFsxXSB8fCBwYXJlbnRbMF0pXG4gICAgICAmJiAhbm9kZS5sZW5ndGgpIHtcbiAgICBpZiAocmV0YWluZXIpIHJldGFpbmVyW2pdID0gbm9kZTtcbiAgICBlbHNlIHRoaXMuX3Jvb3QgPSBub2RlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBbGwoZGF0YSkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGRhdGEubGVuZ3RoOyBpIDwgbjsgKytpKSB0aGlzLnJlbW92ZShkYXRhW2ldKTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX3Jvb3Q7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIHNpemUgPSAwO1xuICB0aGlzLnZpc2l0KGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUubGVuZ3RoKSBkbyArK3NpemU7IHdoaWxlIChub2RlID0gbm9kZS5uZXh0KVxuICB9KTtcbiAgcmV0dXJuIHNpemU7XG59XG4iLCJpbXBvcnQgUXVhZCBmcm9tIFwiLi9xdWFkLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBxdWFkcyA9IFtdLCBxLCBub2RlID0gdGhpcy5fcm9vdCwgY2hpbGQsIHgwLCB5MCwgeDEsIHkxO1xuICBpZiAobm9kZSkgcXVhZHMucHVzaChuZXcgUXVhZChub2RlLCB0aGlzLl94MCwgdGhpcy5feTAsIHRoaXMuX3gxLCB0aGlzLl95MSkpO1xuICB3aGlsZSAocSA9IHF1YWRzLnBvcCgpKSB7XG4gICAgaWYgKCFjYWxsYmFjayhub2RlID0gcS5ub2RlLCB4MCA9IHEueDAsIHkwID0gcS55MCwgeDEgPSBxLngxLCB5MSA9IHEueTEpICYmIG5vZGUubGVuZ3RoKSB7XG4gICAgICB2YXIgeG0gPSAoeDAgKyB4MSkgLyAyLCB5bSA9ICh5MCArIHkxKSAvIDI7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzNdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4bSwgeW0sIHgxLCB5MSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVsyXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeDAsIHltLCB4bSwgeTEpKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMV0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHhtLCB5MCwgeDEsIHltKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzBdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4MCwgeTAsIHhtLCB5bSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbiIsImltcG9ydCBRdWFkIGZyb20gXCIuL3F1YWQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgdmFyIHF1YWRzID0gW10sIG5leHQgPSBbXSwgcTtcbiAgaWYgKHRoaXMuX3Jvb3QpIHF1YWRzLnB1c2gobmV3IFF1YWQodGhpcy5fcm9vdCwgdGhpcy5feDAsIHRoaXMuX3kwLCB0aGlzLl94MSwgdGhpcy5feTEpKTtcbiAgd2hpbGUgKHEgPSBxdWFkcy5wb3AoKSkge1xuICAgIHZhciBub2RlID0gcS5ub2RlO1xuICAgIGlmIChub2RlLmxlbmd0aCkge1xuICAgICAgdmFyIGNoaWxkLCB4MCA9IHEueDAsIHkwID0gcS55MCwgeDEgPSBxLngxLCB5MSA9IHEueTEsIHhtID0gKHgwICsgeDEpIC8gMiwgeW0gPSAoeTAgKyB5MSkgLyAyO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVswXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeDAsIHkwLCB4bSwgeW0pKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMV0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHhtLCB5MCwgeDEsIHltKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzJdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4MCwgeW0sIHhtLCB5MSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVszXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeG0sIHltLCB4MSwgeTEpKTtcbiAgICB9XG4gICAgbmV4dC5wdXNoKHEpO1xuICB9XG4gIHdoaWxlIChxID0gbmV4dC5wb3AoKSkge1xuICAgIGNhbGxiYWNrKHEubm9kZSwgcS54MCwgcS55MCwgcS54MSwgcS55MSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQge2Rpc3BhdGNofSBmcm9tIFwiZDMtZGlzcGF0Y2hcIjtcbmltcG9ydCB7bWFwfSBmcm9tIFwiZDMtY29sbGVjdGlvblwiO1xuaW1wb3J0IHt0aW1lcn0gZnJvbSBcImQzLXRpbWVyXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB4KGQpIHtcbiAgcmV0dXJuIGQueDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHkoZCkge1xuICByZXR1cm4gZC55O1xufVxuXG52YXIgaW5pdGlhbFJhZGl1cyA9IDEwLFxuICAgIGluaXRpYWxBbmdsZSA9IE1hdGguUEkgKiAoMyAtIE1hdGguc3FydCg1KSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGVzKSB7XG4gIHZhciBzaW11bGF0aW9uLFxuICAgICAgYWxwaGEgPSAxLFxuICAgICAgYWxwaGFNaW4gPSAwLjAwMSxcbiAgICAgIGFscGhhRGVjYXkgPSAxIC0gTWF0aC5wb3coYWxwaGFNaW4sIDEgLyAzMDApLFxuICAgICAgYWxwaGFUYXJnZXQgPSAwLFxuICAgICAgdmVsb2NpdHlEZWNheSA9IDAuNixcbiAgICAgIGZvcmNlcyA9IG1hcCgpLFxuICAgICAgc3RlcHBlciA9IHRpbWVyKHN0ZXApLFxuICAgICAgZXZlbnQgPSBkaXNwYXRjaChcInRpY2tcIiwgXCJlbmRcIik7XG5cbiAgaWYgKG5vZGVzID09IG51bGwpIG5vZGVzID0gW107XG5cbiAgZnVuY3Rpb24gc3RlcCgpIHtcbiAgICB0aWNrKCk7XG4gICAgZXZlbnQuY2FsbChcInRpY2tcIiwgc2ltdWxhdGlvbik7XG4gICAgaWYgKGFscGhhIDwgYWxwaGFNaW4pIHtcbiAgICAgIHN0ZXBwZXIuc3RvcCgpO1xuICAgICAgZXZlbnQuY2FsbChcImVuZFwiLCBzaW11bGF0aW9uKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrKGl0ZXJhdGlvbnMpIHtcbiAgICB2YXIgaSwgbiA9IG5vZGVzLmxlbmd0aCwgbm9kZTtcblxuICAgIGlmIChpdGVyYXRpb25zID09PSB1bmRlZmluZWQpIGl0ZXJhdGlvbnMgPSAxO1xuXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVyYXRpb25zOyArK2spIHtcbiAgICAgIGFscGhhICs9IChhbHBoYVRhcmdldCAtIGFscGhhKSAqIGFscGhhRGVjYXk7XG5cbiAgICAgIGZvcmNlcy5lYWNoKGZ1bmN0aW9uIChmb3JjZSkge1xuICAgICAgICBmb3JjZShhbHBoYSk7XG4gICAgICB9KTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLmZ4ID09IG51bGwpIG5vZGUueCArPSBub2RlLnZ4ICo9IHZlbG9jaXR5RGVjYXk7XG4gICAgICAgIGVsc2Ugbm9kZS54ID0gbm9kZS5meCwgbm9kZS52eCA9IDA7XG4gICAgICAgIGlmIChub2RlLmZ5ID09IG51bGwpIG5vZGUueSArPSBub2RlLnZ5ICo9IHZlbG9jaXR5RGVjYXk7XG4gICAgICAgIGVsc2Ugbm9kZS55ID0gbm9kZS5meSwgbm9kZS52eSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNpbXVsYXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBpbml0aWFsaXplTm9kZXMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBub2Rlcy5sZW5ndGgsIG5vZGU7IGkgPCBuOyArK2kpIHtcbiAgICAgIG5vZGUgPSBub2Rlc1tpXSwgbm9kZS5pbmRleCA9IGk7XG4gICAgICBpZiAobm9kZS5meCAhPSBudWxsKSBub2RlLnggPSBub2RlLmZ4O1xuICAgICAgaWYgKG5vZGUuZnkgIT0gbnVsbCkgbm9kZS55ID0gbm9kZS5meTtcbiAgICAgIGlmIChpc05hTihub2RlLngpIHx8IGlzTmFOKG5vZGUueSkpIHtcbiAgICAgICAgdmFyIHJhZGl1cyA9IGluaXRpYWxSYWRpdXMgKiBNYXRoLnNxcnQoaSksIGFuZ2xlID0gaSAqIGluaXRpYWxBbmdsZTtcbiAgICAgICAgbm9kZS54ID0gcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBub2RlLnkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNOYU4obm9kZS52eCkgfHwgaXNOYU4obm9kZS52eSkpIHtcbiAgICAgICAgbm9kZS52eCA9IG5vZGUudnkgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRpYWxpemVGb3JjZShmb3JjZSkge1xuICAgIGlmIChmb3JjZS5pbml0aWFsaXplKSBmb3JjZS5pbml0aWFsaXplKG5vZGVzKTtcbiAgICByZXR1cm4gZm9yY2U7XG4gIH1cblxuICBpbml0aWFsaXplTm9kZXMoKTtcblxuICByZXR1cm4gc2ltdWxhdGlvbiA9IHtcbiAgICB0aWNrOiB0aWNrLFxuXG4gICAgcmVzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RlcHBlci5yZXN0YXJ0KHN0ZXApLCBzaW11bGF0aW9uO1xuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzdGVwcGVyLnN0b3AoKSwgc2ltdWxhdGlvbjtcbiAgICB9LFxuXG4gICAgbm9kZXM6IGZ1bmN0aW9uKF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG5vZGVzID0gXywgaW5pdGlhbGl6ZU5vZGVzKCksIGZvcmNlcy5lYWNoKGluaXRpYWxpemVGb3JjZSksIHNpbXVsYXRpb24pIDogbm9kZXM7XG4gICAgfSxcblxuICAgIGFscGhhOiBmdW5jdGlvbihfKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChhbHBoYSA9ICtfLCBzaW11bGF0aW9uKSA6IGFscGhhO1xuICAgIH0sXG5cbiAgICBhbHBoYU1pbjogZnVuY3Rpb24oXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoYWxwaGFNaW4gPSArXywgc2ltdWxhdGlvbikgOiBhbHBoYU1pbjtcbiAgICB9LFxuXG4gICAgYWxwaGFEZWNheTogZnVuY3Rpb24oXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoYWxwaGFEZWNheSA9ICtfLCBzaW11bGF0aW9uKSA6ICthbHBoYURlY2F5O1xuICAgIH0sXG5cbiAgICBhbHBoYVRhcmdldDogZnVuY3Rpb24oXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoYWxwaGFUYXJnZXQgPSArXywgc2ltdWxhdGlvbikgOiBhbHBoYVRhcmdldDtcbiAgICB9LFxuXG4gICAgdmVsb2NpdHlEZWNheTogZnVuY3Rpb24oXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodmVsb2NpdHlEZWNheSA9IDEgLSBfLCBzaW11bGF0aW9uKSA6IDEgLSB2ZWxvY2l0eURlY2F5O1xuICAgIH0sXG5cbiAgICBmb3JjZTogZnVuY3Rpb24obmFtZSwgXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gKChfID09IG51bGwgPyBmb3JjZXMucmVtb3ZlKG5hbWUpIDogZm9yY2VzLnNldChuYW1lLCBpbml0aWFsaXplRm9yY2UoXykpKSwgc2ltdWxhdGlvbikgOiBmb3JjZXMuZ2V0KG5hbWUpO1xuICAgIH0sXG5cbiAgICBmaW5kOiBmdW5jdGlvbih4LCB5LCByYWRpdXMpIHtcbiAgICAgIHZhciBpID0gMCxcbiAgICAgICAgICBuID0gbm9kZXMubGVuZ3RoLFxuICAgICAgICAgIGR4LFxuICAgICAgICAgIGR5LFxuICAgICAgICAgIGQyLFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgY2xvc2VzdDtcblxuICAgICAgaWYgKHJhZGl1cyA9PSBudWxsKSByYWRpdXMgPSBJbmZpbml0eTtcbiAgICAgIGVsc2UgcmFkaXVzICo9IHJhZGl1cztcblxuICAgICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGR4ID0geCAtIG5vZGUueDtcbiAgICAgICAgZHkgPSB5IC0gbm9kZS55O1xuICAgICAgICBkMiA9IGR4ICogZHggKyBkeSAqIGR5O1xuICAgICAgICBpZiAoZDIgPCByYWRpdXMpIGNsb3Nlc3QgPSBub2RlLCByYWRpdXMgPSBkMjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsb3Nlc3Q7XG4gICAgfSxcblxuICAgIG9uOiBmdW5jdGlvbihuYW1lLCBfKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyAoZXZlbnQub24obmFtZSwgXyksIHNpbXVsYXRpb24pIDogZXZlbnQub24obmFtZSk7XG4gICAgfVxuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpO1xufVxuIiwiaW1wb3J0IGRlZmF1bHRTb3VyY2UgZnJvbSBcIi4vZGVmYXVsdFNvdXJjZVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gc291cmNlUmFuZG9tTm9ybWFsKHNvdXJjZSkge1xuICBmdW5jdGlvbiByYW5kb21Ob3JtYWwobXUsIHNpZ21hKSB7XG4gICAgdmFyIHgsIHI7XG4gICAgbXUgPSBtdSA9PSBudWxsID8gMCA6ICttdTtcbiAgICBzaWdtYSA9IHNpZ21hID09IG51bGwgPyAxIDogK3NpZ21hO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB5O1xuXG4gICAgICAvLyBJZiBhdmFpbGFibGUsIHVzZSB0aGUgc2Vjb25kIHByZXZpb3VzbHktZ2VuZXJhdGVkIHVuaWZvcm0gcmFuZG9tLlxuICAgICAgaWYgKHggIT0gbnVsbCkgeSA9IHgsIHggPSBudWxsO1xuXG4gICAgICAvLyBPdGhlcndpc2UsIGdlbmVyYXRlIGEgbmV3IHggYW5kIHkuXG4gICAgICBlbHNlIGRvIHtcbiAgICAgICAgeCA9IHNvdXJjZSgpICogMiAtIDE7XG4gICAgICAgIHkgPSBzb3VyY2UoKSAqIDIgLSAxO1xuICAgICAgICByID0geCAqIHggKyB5ICogeTtcbiAgICAgIH0gd2hpbGUgKCFyIHx8IHIgPiAxKTtcblxuICAgICAgcmV0dXJuIG11ICsgc2lnbWEgKiB5ICogTWF0aC5zcXJ0KC0yICogTWF0aC5sb2cocikgLyByKTtcbiAgICB9O1xuICB9XG5cbiAgcmFuZG9tTm9ybWFsLnNvdXJjZSA9IHNvdXJjZVJhbmRvbU5vcm1hbDtcblxuICByZXR1cm4gcmFuZG9tTm9ybWFsO1xufSkoZGVmYXVsdFNvdXJjZSk7XG4iLCJpbXBvcnQgZGVmYXVsdFNvdXJjZSBmcm9tIFwiLi9kZWZhdWx0U291cmNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBzb3VyY2VSYW5kb21Vbmlmb3JtKHNvdXJjZSkge1xuICBmdW5jdGlvbiByYW5kb21Vbmlmb3JtKG1pbiwgbWF4KSB7XG4gICAgbWluID0gbWluID09IG51bGwgPyAwIDogK21pbjtcbiAgICBtYXggPSBtYXggPT0gbnVsbCA/IDEgOiArbWF4O1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSBtYXggPSBtaW4sIG1pbiA9IDA7XG4gICAgZWxzZSBtYXggLT0gbWluO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzb3VyY2UoKSAqIG1heCArIG1pbjtcbiAgICB9O1xuICB9XG5cbiAgcmFuZG9tVW5pZm9ybS5zb3VyY2UgPSBzb3VyY2VSYW5kb21Vbmlmb3JtO1xuXG4gIHJldHVybiByYW5kb21Vbmlmb3JtO1xufSkoZGVmYXVsdFNvdXJjZSk7XG4iLCJpbXBvcnQgZGVmYXVsdFNvdXJjZSBmcm9tIFwiLi9kZWZhdWx0U291cmNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBzb3VyY2VSYW5kb21JcndpbkhhbGwoc291cmNlKSB7XG4gIGZ1bmN0aW9uIHJhbmRvbUlyd2luSGFsbChuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgc3VtID0gMCwgaSA9IDA7IGkgPCBuOyArK2kpIHN1bSArPSBzb3VyY2UoKTtcbiAgICAgIHJldHVybiBzdW07XG4gICAgfTtcbiAgfVxuXG4gIHJhbmRvbUlyd2luSGFsbC5zb3VyY2UgPSBzb3VyY2VSYW5kb21JcndpbkhhbGw7XG5cbiAgcmV0dXJuIHJhbmRvbUlyd2luSGFsbDtcbn0pKGRlZmF1bHRTb3VyY2UpO1xuIiwiaW1wb3J0IGRlZmF1bHRTb3VyY2UgZnJvbSBcIi4vZGVmYXVsdFNvdXJjZVwiO1xuaW1wb3J0IG5vcm1hbCBmcm9tIFwiLi9ub3JtYWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHNvdXJjZVJhbmRvbUxvZ05vcm1hbChzb3VyY2UpIHtcbiAgZnVuY3Rpb24gcmFuZG9tTG9nTm9ybWFsKCkge1xuICAgIHZhciByYW5kb21Ob3JtYWwgPSBub3JtYWwuc291cmNlKHNvdXJjZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5leHAocmFuZG9tTm9ybWFsKCkpO1xuICAgIH07XG4gIH1cblxuICByYW5kb21Mb2dOb3JtYWwuc291cmNlID0gc291cmNlUmFuZG9tTG9nTm9ybWFsO1xuXG4gIHJldHVybiByYW5kb21Mb2dOb3JtYWw7XG59KShkZWZhdWx0U291cmNlKTtcbiIsImltcG9ydCBkZWZhdWx0U291cmNlIGZyb20gXCIuL2RlZmF1bHRTb3VyY2VcIjtcbmltcG9ydCBpcndpbkhhbGwgZnJvbSBcIi4vaXJ3aW5IYWxsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBzb3VyY2VSYW5kb21CYXRlcyhzb3VyY2UpIHtcbiAgZnVuY3Rpb24gcmFuZG9tQmF0ZXMobikge1xuICAgIHZhciByYW5kb21JcndpbkhhbGwgPSBpcndpbkhhbGwuc291cmNlKHNvdXJjZSkobik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJhbmRvbUlyd2luSGFsbCgpIC8gbjtcbiAgICB9O1xuICB9XG5cbiAgcmFuZG9tQmF0ZXMuc291cmNlID0gc291cmNlUmFuZG9tQmF0ZXM7XG5cbiAgcmV0dXJuIHJhbmRvbUJhdGVzO1xufSkoZGVmYXVsdFNvdXJjZSk7XG4iLCJpbXBvcnQgZGVmYXVsdFNvdXJjZSBmcm9tIFwiLi9kZWZhdWx0U291cmNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBzb3VyY2VSYW5kb21FeHBvbmVudGlhbChzb3VyY2UpIHtcbiAgZnVuY3Rpb24gcmFuZG9tRXhwb25lbnRpYWwobGFtYmRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIC1NYXRoLmxvZygxIC0gc291cmNlKCkpIC8gbGFtYmRhO1xuICAgIH07XG4gIH1cblxuICByYW5kb21FeHBvbmVudGlhbC5zb3VyY2UgPSBzb3VyY2VSYW5kb21FeHBvbmVudGlhbDtcblxuICByZXR1cm4gcmFuZG9tRXhwb25lbnRpYWw7XG59KShkZWZhdWx0U291cmNlKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBpbml0UmFuZ2UoZG9tYWluLCByYW5nZSkge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IGJyZWFrO1xuICAgIGNhc2UgMTogdGhpcy5yYW5nZShkb21haW4pOyBicmVhaztcbiAgICBkZWZhdWx0OiB0aGlzLnJhbmdlKHJhbmdlKS5kb21haW4oZG9tYWluKTsgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0SW50ZXJwb2xhdG9yKGRvbWFpbiwgaW50ZXJwb2xhdG9yKSB7XG4gIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogYnJlYWs7XG4gICAgY2FzZSAxOiB0aGlzLmludGVycG9sYXRvcihkb21haW4pOyBicmVhaztcbiAgICBkZWZhdWx0OiB0aGlzLmludGVycG9sYXRvcihpbnRlcnBvbGF0b3IpLmRvbWFpbihkb21haW4pOyBicmVhaztcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbiIsInZhciBhcnJheSA9IEFycmF5LnByb3RvdHlwZTtcblxuZXhwb3J0IHZhciBtYXAgPSBhcnJheS5tYXA7XG5leHBvcnQgdmFyIHNsaWNlID0gYXJyYXkuc2xpY2U7XG4iLCIvLyBbW2ZpbGxdYWxpZ25dW3NpZ25dW3N5bWJvbF1bMF1bd2lkdGhdWyxdWy5wcmVjaXNpb25dW35dW3R5cGVdXG52YXIgcmUgPSAvXig/OiguKT8oWzw+PV5dKSk/KFsrXFwtKCBdKT8oWyQjXSk/KDApPyhcXGQrKT8oLCk/KFxcLlxcZCspPyh+KT8oW2EteiVdKT8kL2k7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpIHtcbiAgaWYgKCEobWF0Y2ggPSByZS5leGVjKHNwZWNpZmllcikpKSB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGZvcm1hdDogXCIgKyBzcGVjaWZpZXIpO1xuICB2YXIgbWF0Y2g7XG4gIHJldHVybiBuZXcgRm9ybWF0U3BlY2lmaWVyKHtcbiAgICBmaWxsOiBtYXRjaFsxXSxcbiAgICBhbGlnbjogbWF0Y2hbMl0sXG4gICAgc2lnbjogbWF0Y2hbM10sXG4gICAgc3ltYm9sOiBtYXRjaFs0XSxcbiAgICB6ZXJvOiBtYXRjaFs1XSxcbiAgICB3aWR0aDogbWF0Y2hbNl0sXG4gICAgY29tbWE6IG1hdGNoWzddLFxuICAgIHByZWNpc2lvbjogbWF0Y2hbOF0gJiYgbWF0Y2hbOF0uc2xpY2UoMSksXG4gICAgdHJpbTogbWF0Y2hbOV0sXG4gICAgdHlwZTogbWF0Y2hbMTBdXG4gIH0pO1xufVxuXG5mb3JtYXRTcGVjaWZpZXIucHJvdG90eXBlID0gRm9ybWF0U3BlY2lmaWVyLnByb3RvdHlwZTsgLy8gaW5zdGFuY2VvZlxuXG5leHBvcnQgZnVuY3Rpb24gRm9ybWF0U3BlY2lmaWVyKHNwZWNpZmllcikge1xuICB0aGlzLmZpbGwgPSBzcGVjaWZpZXIuZmlsbCA9PT0gdW5kZWZpbmVkID8gXCIgXCIgOiBzcGVjaWZpZXIuZmlsbCArIFwiXCI7XG4gIHRoaXMuYWxpZ24gPSBzcGVjaWZpZXIuYWxpZ24gPT09IHVuZGVmaW5lZCA/IFwiPlwiIDogc3BlY2lmaWVyLmFsaWduICsgXCJcIjtcbiAgdGhpcy5zaWduID0gc3BlY2lmaWVyLnNpZ24gPT09IHVuZGVmaW5lZCA/IFwiLVwiIDogc3BlY2lmaWVyLnNpZ24gKyBcIlwiO1xuICB0aGlzLnN5bWJvbCA9IHNwZWNpZmllci5zeW1ib2wgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBzcGVjaWZpZXIuc3ltYm9sICsgXCJcIjtcbiAgdGhpcy56ZXJvID0gISFzcGVjaWZpZXIuemVybztcbiAgdGhpcy53aWR0aCA9IHNwZWNpZmllci53aWR0aCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogK3NwZWNpZmllci53aWR0aDtcbiAgdGhpcy5jb21tYSA9ICEhc3BlY2lmaWVyLmNvbW1hO1xuICB0aGlzLnByZWNpc2lvbiA9IHNwZWNpZmllci5wcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICtzcGVjaWZpZXIucHJlY2lzaW9uO1xuICB0aGlzLnRyaW0gPSAhIXNwZWNpZmllci50cmltO1xuICB0aGlzLnR5cGUgPSBzcGVjaWZpZXIudHlwZSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IHNwZWNpZmllci50eXBlICsgXCJcIjtcbn1cblxuRm9ybWF0U3BlY2lmaWVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maWxsXG4gICAgICArIHRoaXMuYWxpZ25cbiAgICAgICsgdGhpcy5zaWduXG4gICAgICArIHRoaXMuc3ltYm9sXG4gICAgICArICh0aGlzLnplcm8gPyBcIjBcIiA6IFwiXCIpXG4gICAgICArICh0aGlzLndpZHRoID09PSB1bmRlZmluZWQgPyBcIlwiIDogTWF0aC5tYXgoMSwgdGhpcy53aWR0aCB8IDApKVxuICAgICAgKyAodGhpcy5jb21tYSA/IFwiLFwiIDogXCJcIilcbiAgICAgICsgKHRoaXMucHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyBcIlwiIDogXCIuXCIgKyBNYXRoLm1heCgwLCB0aGlzLnByZWNpc2lvbiB8IDApKVxuICAgICAgKyAodGhpcy50cmltID8gXCJ+XCIgOiBcIlwiKVxuICAgICAgKyB0aGlzLnR5cGU7XG59O1xuIiwiLy8gQ29tcHV0ZXMgdGhlIGRlY2ltYWwgY29lZmZpY2llbnQgYW5kIGV4cG9uZW50IG9mIHRoZSBzcGVjaWZpZWQgbnVtYmVyIHggd2l0aFxuLy8gc2lnbmlmaWNhbnQgZGlnaXRzIHAsIHdoZXJlIHggaXMgcG9zaXRpdmUgYW5kIHAgaXMgaW4gWzEsIDIxXSBvciB1bmRlZmluZWQuXG4vLyBGb3IgZXhhbXBsZSwgZm9ybWF0RGVjaW1hbCgxLjIzKSByZXR1cm5zIFtcIjEyM1wiLCAwXS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHApIHtcbiAgaWYgKChpID0gKHggPSBwID8geC50b0V4cG9uZW50aWFsKHAgLSAxKSA6IHgudG9FeHBvbmVudGlhbCgpKS5pbmRleE9mKFwiZVwiKSkgPCAwKSByZXR1cm4gbnVsbDsgLy8gTmFOLCDCsUluZmluaXR5XG4gIHZhciBpLCBjb2VmZmljaWVudCA9IHguc2xpY2UoMCwgaSk7XG5cbiAgLy8gVGhlIHN0cmluZyByZXR1cm5lZCBieSB0b0V4cG9uZW50aWFsIGVpdGhlciBoYXMgdGhlIGZvcm0gXFxkXFwuXFxkK2VbLStdXFxkK1xuICAvLyAoZS5nLiwgMS4yZSszKSBvciB0aGUgZm9ybSBcXGRlWy0rXVxcZCsgKGUuZy4sIDFlKzMpLlxuICByZXR1cm4gW1xuICAgIGNvZWZmaWNpZW50Lmxlbmd0aCA+IDEgPyBjb2VmZmljaWVudFswXSArIGNvZWZmaWNpZW50LnNsaWNlKDIpIDogY29lZmZpY2llbnQsXG4gICAgK3guc2xpY2UoaSArIDEpXG4gIF07XG59XG4iLCJpbXBvcnQgZm9ybWF0RGVjaW1hbCBmcm9tIFwiLi9mb3JtYXREZWNpbWFsLmpzXCI7XG5cbmV4cG9ydCB2YXIgcHJlZml4RXhwb25lbnQ7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHApIHtcbiAgdmFyIGQgPSBmb3JtYXREZWNpbWFsKHgsIHApO1xuICBpZiAoIWQpIHJldHVybiB4ICsgXCJcIjtcbiAgdmFyIGNvZWZmaWNpZW50ID0gZFswXSxcbiAgICAgIGV4cG9uZW50ID0gZFsxXSxcbiAgICAgIGkgPSBleHBvbmVudCAtIChwcmVmaXhFeHBvbmVudCA9IE1hdGgubWF4KC04LCBNYXRoLm1pbig4LCBNYXRoLmZsb29yKGV4cG9uZW50IC8gMykpKSAqIDMpICsgMSxcbiAgICAgIG4gPSBjb2VmZmljaWVudC5sZW5ndGg7XG4gIHJldHVybiBpID09PSBuID8gY29lZmZpY2llbnRcbiAgICAgIDogaSA+IG4gPyBjb2VmZmljaWVudCArIG5ldyBBcnJheShpIC0gbiArIDEpLmpvaW4oXCIwXCIpXG4gICAgICA6IGkgPiAwID8gY29lZmZpY2llbnQuc2xpY2UoMCwgaSkgKyBcIi5cIiArIGNvZWZmaWNpZW50LnNsaWNlKGkpXG4gICAgICA6IFwiMC5cIiArIG5ldyBBcnJheSgxIC0gaSkuam9pbihcIjBcIikgKyBmb3JtYXREZWNpbWFsKHgsIE1hdGgubWF4KDAsIHAgKyBpIC0gMSkpWzBdOyAvLyBsZXNzIHRoYW4gMXkhXG59XG4iLCJpbXBvcnQgZm9ybWF0TG9jYWxlIGZyb20gXCIuL2xvY2FsZS5qc1wiO1xuXG52YXIgbG9jYWxlO1xuZXhwb3J0IHZhciBmb3JtYXQ7XG5leHBvcnQgdmFyIGZvcm1hdFByZWZpeDtcblxuZGVmYXVsdExvY2FsZSh7XG4gIGRlY2ltYWw6IFwiLlwiLFxuICB0aG91c2FuZHM6IFwiLFwiLFxuICBncm91cGluZzogWzNdLFxuICBjdXJyZW5jeTogW1wiJFwiLCBcIlwiXSxcbiAgbWludXM6IFwiLVwiXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdExvY2FsZShkZWZpbml0aW9uKSB7XG4gIGxvY2FsZSA9IGZvcm1hdExvY2FsZShkZWZpbml0aW9uKTtcbiAgZm9ybWF0ID0gbG9jYWxlLmZvcm1hdDtcbiAgZm9ybWF0UHJlZml4ID0gbG9jYWxlLmZvcm1hdFByZWZpeDtcbiAgcmV0dXJuIGxvY2FsZTtcbn1cbiIsImltcG9ydCBmb3JtYXREZWNpbWFsIGZyb20gXCIuL2Zvcm1hdERlY2ltYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4geCA9IGZvcm1hdERlY2ltYWwoTWF0aC5hYnMoeCkpLCB4ID8geFsxXSA6IE5hTjtcbn1cbiIsIi8vIFRyaW1zIGluc2lnbmlmaWNhbnQgemVyb3MsIGUuZy4sIHJlcGxhY2VzIDEuMjAwMGsgd2l0aCAxLjJrLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocykge1xuICBvdXQ6IGZvciAodmFyIG4gPSBzLmxlbmd0aCwgaSA9IDEsIGkwID0gLTEsIGkxOyBpIDwgbjsgKytpKSB7XG4gICAgc3dpdGNoIChzW2ldKSB7XG4gICAgICBjYXNlIFwiLlwiOiBpMCA9IGkxID0gaTsgYnJlYWs7XG4gICAgICBjYXNlIFwiMFwiOiBpZiAoaTAgPT09IDApIGkwID0gaTsgaTEgPSBpOyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IGlmICghK3NbaV0pIGJyZWFrIG91dDsgaWYgKGkwID4gMCkgaTAgPSAwOyBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGkwID4gMCA/IHMuc2xpY2UoMCwgaTApICsgcy5zbGljZShpMSArIDEpIDogcztcbn1cbiIsImltcG9ydCBmb3JtYXREZWNpbWFsIGZyb20gXCIuL2Zvcm1hdERlY2ltYWwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCwgcCkge1xuICB2YXIgZCA9IGZvcm1hdERlY2ltYWwoeCwgcCk7XG4gIGlmICghZCkgcmV0dXJuIHggKyBcIlwiO1xuICB2YXIgY29lZmZpY2llbnQgPSBkWzBdLFxuICAgICAgZXhwb25lbnQgPSBkWzFdO1xuICByZXR1cm4gZXhwb25lbnQgPCAwID8gXCIwLlwiICsgbmV3IEFycmF5KC1leHBvbmVudCkuam9pbihcIjBcIikgKyBjb2VmZmljaWVudFxuICAgICAgOiBjb2VmZmljaWVudC5sZW5ndGggPiBleHBvbmVudCArIDEgPyBjb2VmZmljaWVudC5zbGljZSgwLCBleHBvbmVudCArIDEpICsgXCIuXCIgKyBjb2VmZmljaWVudC5zbGljZShleHBvbmVudCArIDEpXG4gICAgICA6IGNvZWZmaWNpZW50ICsgbmV3IEFycmF5KGV4cG9uZW50IC0gY29lZmZpY2llbnQubGVuZ3RoICsgMikuam9pbihcIjBcIik7XG59XG4iLCJpbXBvcnQgZm9ybWF0UHJlZml4QXV0byBmcm9tIFwiLi9mb3JtYXRQcmVmaXhBdXRvLmpzXCI7XG5pbXBvcnQgZm9ybWF0Um91bmRlZCBmcm9tIFwiLi9mb3JtYXRSb3VuZGVkLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXCIlXCI6IGZ1bmN0aW9uKHgsIHApIHsgcmV0dXJuICh4ICogMTAwKS50b0ZpeGVkKHApOyB9LFxuICBcImJcIjogZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5yb3VuZCh4KS50b1N0cmluZygyKTsgfSxcbiAgXCJjXCI6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggKyBcIlwiOyB9LFxuICBcImRcIjogZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5yb3VuZCh4KS50b1N0cmluZygxMCk7IH0sXG4gIFwiZVwiOiBmdW5jdGlvbih4LCBwKSB7IHJldHVybiB4LnRvRXhwb25lbnRpYWwocCk7IH0sXG4gIFwiZlwiOiBmdW5jdGlvbih4LCBwKSB7IHJldHVybiB4LnRvRml4ZWQocCk7IH0sXG4gIFwiZ1wiOiBmdW5jdGlvbih4LCBwKSB7IHJldHVybiB4LnRvUHJlY2lzaW9uKHApOyB9LFxuICBcIm9cIjogZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5yb3VuZCh4KS50b1N0cmluZyg4KTsgfSxcbiAgXCJwXCI6IGZ1bmN0aW9uKHgsIHApIHsgcmV0dXJuIGZvcm1hdFJvdW5kZWQoeCAqIDEwMCwgcCk7IH0sXG4gIFwiclwiOiBmb3JtYXRSb3VuZGVkLFxuICBcInNcIjogZm9ybWF0UHJlZml4QXV0byxcbiAgXCJYXCI6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7IH0sXG4gIFwieFwiOiBmdW5jdGlvbih4KSB7IHJldHVybiBNYXRoLnJvdW5kKHgpLnRvU3RyaW5nKDE2KTsgfVxufTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHg7XG59XG4iLCJpbXBvcnQgZXhwb25lbnQgZnJvbSBcIi4vZXhwb25lbnQuanNcIjtcbmltcG9ydCBmb3JtYXRHcm91cCBmcm9tIFwiLi9mb3JtYXRHcm91cC5qc1wiO1xuaW1wb3J0IGZvcm1hdE51bWVyYWxzIGZyb20gXCIuL2Zvcm1hdE51bWVyYWxzLmpzXCI7XG5pbXBvcnQgZm9ybWF0U3BlY2lmaWVyIGZyb20gXCIuL2Zvcm1hdFNwZWNpZmllci5qc1wiO1xuaW1wb3J0IGZvcm1hdFRyaW0gZnJvbSBcIi4vZm9ybWF0VHJpbS5qc1wiO1xuaW1wb3J0IGZvcm1hdFR5cGVzIGZyb20gXCIuL2Zvcm1hdFR5cGVzLmpzXCI7XG5pbXBvcnQge3ByZWZpeEV4cG9uZW50fSBmcm9tIFwiLi9mb3JtYXRQcmVmaXhBdXRvLmpzXCI7XG5pbXBvcnQgaWRlbnRpdHkgZnJvbSBcIi4vaWRlbnRpdHkuanNcIjtcblxudmFyIG1hcCA9IEFycmF5LnByb3RvdHlwZS5tYXAsXG4gICAgcHJlZml4ZXMgPSBbXCJ5XCIsXCJ6XCIsXCJhXCIsXCJmXCIsXCJwXCIsXCJuXCIsXCLCtVwiLFwibVwiLFwiXCIsXCJrXCIsXCJNXCIsXCJHXCIsXCJUXCIsXCJQXCIsXCJFXCIsXCJaXCIsXCJZXCJdO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihsb2NhbGUpIHtcbiAgdmFyIGdyb3VwID0gbG9jYWxlLmdyb3VwaW5nID09PSB1bmRlZmluZWQgfHwgbG9jYWxlLnRob3VzYW5kcyA9PT0gdW5kZWZpbmVkID8gaWRlbnRpdHkgOiBmb3JtYXRHcm91cChtYXAuY2FsbChsb2NhbGUuZ3JvdXBpbmcsIE51bWJlciksIGxvY2FsZS50aG91c2FuZHMgKyBcIlwiKSxcbiAgICAgIGN1cnJlbmN5UHJlZml4ID0gbG9jYWxlLmN1cnJlbmN5ID09PSB1bmRlZmluZWQgPyBcIlwiIDogbG9jYWxlLmN1cnJlbmN5WzBdICsgXCJcIixcbiAgICAgIGN1cnJlbmN5U3VmZml4ID0gbG9jYWxlLmN1cnJlbmN5ID09PSB1bmRlZmluZWQgPyBcIlwiIDogbG9jYWxlLmN1cnJlbmN5WzFdICsgXCJcIixcbiAgICAgIGRlY2ltYWwgPSBsb2NhbGUuZGVjaW1hbCA9PT0gdW5kZWZpbmVkID8gXCIuXCIgOiBsb2NhbGUuZGVjaW1hbCArIFwiXCIsXG4gICAgICBudW1lcmFscyA9IGxvY2FsZS5udW1lcmFscyA9PT0gdW5kZWZpbmVkID8gaWRlbnRpdHkgOiBmb3JtYXROdW1lcmFscyhtYXAuY2FsbChsb2NhbGUubnVtZXJhbHMsIFN0cmluZykpLFxuICAgICAgcGVyY2VudCA9IGxvY2FsZS5wZXJjZW50ID09PSB1bmRlZmluZWQgPyBcIiVcIiA6IGxvY2FsZS5wZXJjZW50ICsgXCJcIixcbiAgICAgIG1pbnVzID0gbG9jYWxlLm1pbnVzID09PSB1bmRlZmluZWQgPyBcIi1cIiA6IGxvY2FsZS5taW51cyArIFwiXCIsXG4gICAgICBuYW4gPSBsb2NhbGUubmFuID09PSB1bmRlZmluZWQgPyBcIk5hTlwiIDogbG9jYWxlLm5hbiArIFwiXCI7XG5cbiAgZnVuY3Rpb24gbmV3Rm9ybWF0KHNwZWNpZmllcikge1xuICAgIHNwZWNpZmllciA9IGZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpO1xuXG4gICAgdmFyIGZpbGwgPSBzcGVjaWZpZXIuZmlsbCxcbiAgICAgICAgYWxpZ24gPSBzcGVjaWZpZXIuYWxpZ24sXG4gICAgICAgIHNpZ24gPSBzcGVjaWZpZXIuc2lnbixcbiAgICAgICAgc3ltYm9sID0gc3BlY2lmaWVyLnN5bWJvbCxcbiAgICAgICAgemVybyA9IHNwZWNpZmllci56ZXJvLFxuICAgICAgICB3aWR0aCA9IHNwZWNpZmllci53aWR0aCxcbiAgICAgICAgY29tbWEgPSBzcGVjaWZpZXIuY29tbWEsXG4gICAgICAgIHByZWNpc2lvbiA9IHNwZWNpZmllci5wcmVjaXNpb24sXG4gICAgICAgIHRyaW0gPSBzcGVjaWZpZXIudHJpbSxcbiAgICAgICAgdHlwZSA9IHNwZWNpZmllci50eXBlO1xuXG4gICAgLy8gVGhlIFwiblwiIHR5cGUgaXMgYW4gYWxpYXMgZm9yIFwiLGdcIi5cbiAgICBpZiAodHlwZSA9PT0gXCJuXCIpIGNvbW1hID0gdHJ1ZSwgdHlwZSA9IFwiZ1wiO1xuXG4gICAgLy8gVGhlIFwiXCIgdHlwZSwgYW5kIGFueSBpbnZhbGlkIHR5cGUsIGlzIGFuIGFsaWFzIGZvciBcIi4xMn5nXCIuXG4gICAgZWxzZSBpZiAoIWZvcm1hdFR5cGVzW3R5cGVdKSBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCAmJiAocHJlY2lzaW9uID0gMTIpLCB0cmltID0gdHJ1ZSwgdHlwZSA9IFwiZ1wiO1xuXG4gICAgLy8gSWYgemVybyBmaWxsIGlzIHNwZWNpZmllZCwgcGFkZGluZyBnb2VzIGFmdGVyIHNpZ24gYW5kIGJlZm9yZSBkaWdpdHMuXG4gICAgaWYgKHplcm8gfHwgKGZpbGwgPT09IFwiMFwiICYmIGFsaWduID09PSBcIj1cIikpIHplcm8gPSB0cnVlLCBmaWxsID0gXCIwXCIsIGFsaWduID0gXCI9XCI7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBwcmVmaXggYW5kIHN1ZmZpeC5cbiAgICAvLyBGb3IgU0ktcHJlZml4LCB0aGUgc3VmZml4IGlzIGxhemlseSBjb21wdXRlZC5cbiAgICB2YXIgcHJlZml4ID0gc3ltYm9sID09PSBcIiRcIiA/IGN1cnJlbmN5UHJlZml4IDogc3ltYm9sID09PSBcIiNcIiAmJiAvW2JveFhdLy50ZXN0KHR5cGUpID8gXCIwXCIgKyB0eXBlLnRvTG93ZXJDYXNlKCkgOiBcIlwiLFxuICAgICAgICBzdWZmaXggPSBzeW1ib2wgPT09IFwiJFwiID8gY3VycmVuY3lTdWZmaXggOiAvWyVwXS8udGVzdCh0eXBlKSA/IHBlcmNlbnQgOiBcIlwiO1xuXG4gICAgLy8gV2hhdCBmb3JtYXQgZnVuY3Rpb24gc2hvdWxkIHdlIHVzZT9cbiAgICAvLyBJcyB0aGlzIGFuIGludGVnZXIgdHlwZT9cbiAgICAvLyBDYW4gdGhpcyB0eXBlIGdlbmVyYXRlIGV4cG9uZW50aWFsIG5vdGF0aW9uP1xuICAgIHZhciBmb3JtYXRUeXBlID0gZm9ybWF0VHlwZXNbdHlwZV0sXG4gICAgICAgIG1heWJlU3VmZml4ID0gL1tkZWZncHJzJV0vLnRlc3QodHlwZSk7XG5cbiAgICAvLyBTZXQgdGhlIGRlZmF1bHQgcHJlY2lzaW9uIGlmIG5vdCBzcGVjaWZpZWQsXG4gICAgLy8gb3IgY2xhbXAgdGhlIHNwZWNpZmllZCBwcmVjaXNpb24gdG8gdGhlIHN1cHBvcnRlZCByYW5nZS5cbiAgICAvLyBGb3Igc2lnbmlmaWNhbnQgcHJlY2lzaW9uLCBpdCBtdXN0IGJlIGluIFsxLCAyMV0uXG4gICAgLy8gRm9yIGZpeGVkIHByZWNpc2lvbiwgaXQgbXVzdCBiZSBpbiBbMCwgMjBdLlxuICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gNlxuICAgICAgICA6IC9bZ3Byc10vLnRlc3QodHlwZSkgPyBNYXRoLm1heCgxLCBNYXRoLm1pbigyMSwgcHJlY2lzaW9uKSlcbiAgICAgICAgOiBNYXRoLm1heCgwLCBNYXRoLm1pbigyMCwgcHJlY2lzaW9uKSk7XG5cbiAgICBmdW5jdGlvbiBmb3JtYXQodmFsdWUpIHtcbiAgICAgIHZhciB2YWx1ZVByZWZpeCA9IHByZWZpeCxcbiAgICAgICAgICB2YWx1ZVN1ZmZpeCA9IHN1ZmZpeCxcbiAgICAgICAgICBpLCBuLCBjO1xuXG4gICAgICBpZiAodHlwZSA9PT0gXCJjXCIpIHtcbiAgICAgICAgdmFsdWVTdWZmaXggPSBmb3JtYXRUeXBlKHZhbHVlKSArIHZhbHVlU3VmZml4O1xuICAgICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9ICt2YWx1ZTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHNpZ24uIC0wIGlzIG5vdCBsZXNzIHRoYW4gMCwgYnV0IDEgLyAtMCBpcyFcbiAgICAgICAgdmFyIHZhbHVlTmVnYXRpdmUgPSB2YWx1ZSA8IDAgfHwgMSAvIHZhbHVlIDwgMDtcblxuICAgICAgICAvLyBQZXJmb3JtIHRoZSBpbml0aWFsIGZvcm1hdHRpbmcuXG4gICAgICAgIHZhbHVlID0gaXNOYU4odmFsdWUpID8gbmFuIDogZm9ybWF0VHlwZShNYXRoLmFicyh2YWx1ZSksIHByZWNpc2lvbik7XG5cbiAgICAgICAgLy8gVHJpbSBpbnNpZ25pZmljYW50IHplcm9zLlxuICAgICAgICBpZiAodHJpbSkgdmFsdWUgPSBmb3JtYXRUcmltKHZhbHVlKTtcblxuICAgICAgICAvLyBJZiBhIG5lZ2F0aXZlIHZhbHVlIHJvdW5kcyB0byB6ZXJvIGFmdGVyIGZvcm1hdHRpbmcsIGFuZCBubyBleHBsaWNpdCBwb3NpdGl2ZSBzaWduIGlzIHJlcXVlc3RlZCwgaGlkZSB0aGUgc2lnbi5cbiAgICAgICAgaWYgKHZhbHVlTmVnYXRpdmUgJiYgK3ZhbHVlID09PSAwICYmIHNpZ24gIT09IFwiK1wiKSB2YWx1ZU5lZ2F0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcHJlZml4IGFuZCBzdWZmaXguXG4gICAgICAgIHZhbHVlUHJlZml4ID0gKHZhbHVlTmVnYXRpdmUgPyAoc2lnbiA9PT0gXCIoXCIgPyBzaWduIDogbWludXMpIDogc2lnbiA9PT0gXCItXCIgfHwgc2lnbiA9PT0gXCIoXCIgPyBcIlwiIDogc2lnbikgKyB2YWx1ZVByZWZpeDtcbiAgICAgICAgdmFsdWVTdWZmaXggPSAodHlwZSA9PT0gXCJzXCIgPyBwcmVmaXhlc1s4ICsgcHJlZml4RXhwb25lbnQgLyAzXSA6IFwiXCIpICsgdmFsdWVTdWZmaXggKyAodmFsdWVOZWdhdGl2ZSAmJiBzaWduID09PSBcIihcIiA/IFwiKVwiIDogXCJcIik7XG5cbiAgICAgICAgLy8gQnJlYWsgdGhlIGZvcm1hdHRlZCB2YWx1ZSBpbnRvIHRoZSBpbnRlZ2VyIOKAnHZhbHVl4oCdIHBhcnQgdGhhdCBjYW4gYmVcbiAgICAgICAgLy8gZ3JvdXBlZCwgYW5kIGZyYWN0aW9uYWwgb3IgZXhwb25lbnRpYWwg4oCcc3VmZml44oCdIHBhcnQgdGhhdCBpcyBub3QuXG4gICAgICAgIGlmIChtYXliZVN1ZmZpeCkge1xuICAgICAgICAgIGkgPSAtMSwgbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbikge1xuICAgICAgICAgICAgaWYgKGMgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpLCA0OCA+IGMgfHwgYyA+IDU3KSB7XG4gICAgICAgICAgICAgIHZhbHVlU3VmZml4ID0gKGMgPT09IDQ2ID8gZGVjaW1hbCArIHZhbHVlLnNsaWNlKGkgKyAxKSA6IHZhbHVlLnNsaWNlKGkpKSArIHZhbHVlU3VmZml4O1xuICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIGZpbGwgY2hhcmFjdGVyIGlzIG5vdCBcIjBcIiwgZ3JvdXBpbmcgaXMgYXBwbGllZCBiZWZvcmUgcGFkZGluZy5cbiAgICAgIGlmIChjb21tYSAmJiAhemVybykgdmFsdWUgPSBncm91cCh2YWx1ZSwgSW5maW5pdHkpO1xuXG4gICAgICAvLyBDb21wdXRlIHRoZSBwYWRkaW5nLlxuICAgICAgdmFyIGxlbmd0aCA9IHZhbHVlUHJlZml4Lmxlbmd0aCArIHZhbHVlLmxlbmd0aCArIHZhbHVlU3VmZml4Lmxlbmd0aCxcbiAgICAgICAgICBwYWRkaW5nID0gbGVuZ3RoIDwgd2lkdGggPyBuZXcgQXJyYXkod2lkdGggLSBsZW5ndGggKyAxKS5qb2luKGZpbGwpIDogXCJcIjtcblxuICAgICAgLy8gSWYgdGhlIGZpbGwgY2hhcmFjdGVyIGlzIFwiMFwiLCBncm91cGluZyBpcyBhcHBsaWVkIGFmdGVyIHBhZGRpbmcuXG4gICAgICBpZiAoY29tbWEgJiYgemVybykgdmFsdWUgPSBncm91cChwYWRkaW5nICsgdmFsdWUsIHBhZGRpbmcubGVuZ3RoID8gd2lkdGggLSB2YWx1ZVN1ZmZpeC5sZW5ndGggOiBJbmZpbml0eSksIHBhZGRpbmcgPSBcIlwiO1xuXG4gICAgICAvLyBSZWNvbnN0cnVjdCB0aGUgZmluYWwgb3V0cHV0IGJhc2VkIG9uIHRoZSBkZXNpcmVkIGFsaWdubWVudC5cbiAgICAgIHN3aXRjaCAoYWxpZ24pIHtcbiAgICAgICAgY2FzZSBcIjxcIjogdmFsdWUgPSB2YWx1ZVByZWZpeCArIHZhbHVlICsgdmFsdWVTdWZmaXggKyBwYWRkaW5nOyBicmVhaztcbiAgICAgICAgY2FzZSBcIj1cIjogdmFsdWUgPSB2YWx1ZVByZWZpeCArIHBhZGRpbmcgKyB2YWx1ZSArIHZhbHVlU3VmZml4OyBicmVhaztcbiAgICAgICAgY2FzZSBcIl5cIjogdmFsdWUgPSBwYWRkaW5nLnNsaWNlKDAsIGxlbmd0aCA9IHBhZGRpbmcubGVuZ3RoID4+IDEpICsgdmFsdWVQcmVmaXggKyB2YWx1ZSArIHZhbHVlU3VmZml4ICsgcGFkZGluZy5zbGljZShsZW5ndGgpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDogdmFsdWUgPSBwYWRkaW5nICsgdmFsdWVQcmVmaXggKyB2YWx1ZSArIHZhbHVlU3VmZml4OyBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bWVyYWxzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBmb3JtYXQudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzcGVjaWZpZXIgKyBcIlwiO1xuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybWF0O1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0UHJlZml4KHNwZWNpZmllciwgdmFsdWUpIHtcbiAgICB2YXIgZiA9IG5ld0Zvcm1hdCgoc3BlY2lmaWVyID0gZm9ybWF0U3BlY2lmaWVyKHNwZWNpZmllciksIHNwZWNpZmllci50eXBlID0gXCJmXCIsIHNwZWNpZmllcikpLFxuICAgICAgICBlID0gTWF0aC5tYXgoLTgsIE1hdGgubWluKDgsIE1hdGguZmxvb3IoZXhwb25lbnQodmFsdWUpIC8gMykpKSAqIDMsXG4gICAgICAgIGsgPSBNYXRoLnBvdygxMCwgLWUpLFxuICAgICAgICBwcmVmaXggPSBwcmVmaXhlc1s4ICsgZSAvIDNdO1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGYoayAqIHZhbHVlKSArIHByZWZpeDtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXQ6IG5ld0Zvcm1hdCxcbiAgICBmb3JtYXRQcmVmaXg6IGZvcm1hdFByZWZpeFxuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZ3JvdXBpbmcsIHRob3VzYW5kcykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIHdpZHRoKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgIHQgPSBbXSxcbiAgICAgICAgaiA9IDAsXG4gICAgICAgIGcgPSBncm91cGluZ1swXSxcbiAgICAgICAgbGVuZ3RoID0gMDtcblxuICAgIHdoaWxlIChpID4gMCAmJiBnID4gMCkge1xuICAgICAgaWYgKGxlbmd0aCArIGcgKyAxID4gd2lkdGgpIGcgPSBNYXRoLm1heCgxLCB3aWR0aCAtIGxlbmd0aCk7XG4gICAgICB0LnB1c2godmFsdWUuc3Vic3RyaW5nKGkgLT0gZywgaSArIGcpKTtcbiAgICAgIGlmICgobGVuZ3RoICs9IGcgKyAxKSA+IHdpZHRoKSBicmVhaztcbiAgICAgIGcgPSBncm91cGluZ1tqID0gKGogKyAxKSAlIGdyb3VwaW5nLmxlbmd0aF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHQucmV2ZXJzZSgpLmpvaW4odGhvdXNhbmRzKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG51bWVyYWxzKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bMC05XS9nLCBmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gbnVtZXJhbHNbK2ldO1xuICAgIH0pO1xuICB9O1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ZXAsIG1heCkge1xuICBzdGVwID0gTWF0aC5hYnMoc3RlcCksIG1heCA9IE1hdGguYWJzKG1heCkgLSBzdGVwO1xuICByZXR1cm4gTWF0aC5tYXgoMCwgZXhwb25lbnQobWF4KSAtIGV4cG9uZW50KHN0ZXApKSArIDE7XG59XG4iLCJpbXBvcnQge3RpY2tTdGVwfSBmcm9tIFwiZDMtYXJyYXlcIjtcbmltcG9ydCB7Zm9ybWF0LCBmb3JtYXRQcmVmaXgsIGZvcm1hdFNwZWNpZmllciwgcHJlY2lzaW9uRml4ZWQsIHByZWNpc2lvblByZWZpeCwgcHJlY2lzaW9uUm91bmR9IGZyb20gXCJkMy1mb3JtYXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RhcnQsIHN0b3AsIGNvdW50LCBzcGVjaWZpZXIpIHtcbiAgdmFyIHN0ZXAgPSB0aWNrU3RlcChzdGFydCwgc3RvcCwgY291bnQpLFxuICAgICAgcHJlY2lzaW9uO1xuICBzcGVjaWZpZXIgPSBmb3JtYXRTcGVjaWZpZXIoc3BlY2lmaWVyID09IG51bGwgPyBcIixmXCIgOiBzcGVjaWZpZXIpO1xuICBzd2l0Y2ggKHNwZWNpZmllci50eXBlKSB7XG4gICAgY2FzZSBcInNcIjoge1xuICAgICAgdmFyIHZhbHVlID0gTWF0aC5tYXgoTWF0aC5hYnMoc3RhcnQpLCBNYXRoLmFicyhzdG9wKSk7XG4gICAgICBpZiAoc3BlY2lmaWVyLnByZWNpc2lvbiA9PSBudWxsICYmICFpc05hTihwcmVjaXNpb24gPSBwcmVjaXNpb25QcmVmaXgoc3RlcCwgdmFsdWUpKSkgc3BlY2lmaWVyLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICAgIHJldHVybiBmb3JtYXRQcmVmaXgoc3BlY2lmaWVyLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhc2UgXCJcIjpcbiAgICBjYXNlIFwiZVwiOlxuICAgIGNhc2UgXCJnXCI6XG4gICAgY2FzZSBcInBcIjpcbiAgICBjYXNlIFwiclwiOiB7XG4gICAgICBpZiAoc3BlY2lmaWVyLnByZWNpc2lvbiA9PSBudWxsICYmICFpc05hTihwcmVjaXNpb24gPSBwcmVjaXNpb25Sb3VuZChzdGVwLCBNYXRoLm1heChNYXRoLmFicyhzdGFydCksIE1hdGguYWJzKHN0b3ApKSkpKSBzcGVjaWZpZXIucHJlY2lzaW9uID0gcHJlY2lzaW9uIC0gKHNwZWNpZmllci50eXBlID09PSBcImVcIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBcImZcIjpcbiAgICBjYXNlIFwiJVwiOiB7XG4gICAgICBpZiAoc3BlY2lmaWVyLnByZWNpc2lvbiA9PSBudWxsICYmICFpc05hTihwcmVjaXNpb24gPSBwcmVjaXNpb25GaXhlZChzdGVwKSkpIHNwZWNpZmllci5wcmVjaXNpb24gPSBwcmVjaXNpb24gLSAoc3BlY2lmaWVyLnR5cGUgPT09IFwiJVwiKSAqIDI7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZvcm1hdChzcGVjaWZpZXIpO1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ZXAsIHZhbHVlKSB7XG4gIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1heCgtOCwgTWF0aC5taW4oOCwgTWF0aC5mbG9vcihleHBvbmVudCh2YWx1ZSkgLyAzKSkpICogMyAtIGV4cG9uZW50KE1hdGguYWJzKHN0ZXApKSk7XG59XG4iLCJpbXBvcnQgZXhwb25lbnQgZnJvbSBcIi4vZXhwb25lbnQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gTWF0aC5tYXgoMCwgLWV4cG9uZW50KE1hdGguYWJzKHN0ZXApKSk7XG59XG4iLCJpbXBvcnQge3RpY2tzLCB0aWNrSW5jcmVtZW50fSBmcm9tIFwiZDMtYXJyYXlcIjtcbmltcG9ydCBjb250aW51b3VzLCB7Y29weSwgaWRlbnRpdHl9IGZyb20gXCIuL2NvbnRpbnVvdXNcIjtcbmltcG9ydCB7aW5pdFJhbmdlfSBmcm9tIFwiLi9pbml0XCI7XG5pbXBvcnQgdGlja0Zvcm1hdCBmcm9tIFwiLi90aWNrRm9ybWF0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXJpc2goc2NhbGUpIHtcbiAgdmFyIGRvbWFpbiA9IHNjYWxlLmRvbWFpbjtcblxuICBzY2FsZS50aWNrcyA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgdmFyIGQgPSBkb21haW4oKTtcbiAgICByZXR1cm4gdGlja3MoZFswXSwgZFtkLmxlbmd0aCAtIDFdLCBjb3VudCA9PSBudWxsID8gMTAgOiBjb3VudCk7XG4gIH07XG5cbiAgc2NhbGUudGlja0Zvcm1hdCA9IGZ1bmN0aW9uKGNvdW50LCBzcGVjaWZpZXIpIHtcbiAgICB2YXIgZCA9IGRvbWFpbigpO1xuICAgIHJldHVybiB0aWNrRm9ybWF0KGRbMF0sIGRbZC5sZW5ndGggLSAxXSwgY291bnQgPT0gbnVsbCA/IDEwIDogY291bnQsIHNwZWNpZmllcik7XG4gIH07XG5cbiAgc2NhbGUubmljZSA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IG51bGwpIGNvdW50ID0gMTA7XG5cbiAgICB2YXIgZCA9IGRvbWFpbigpLFxuICAgICAgICBpMCA9IDAsXG4gICAgICAgIGkxID0gZC5sZW5ndGggLSAxLFxuICAgICAgICBzdGFydCA9IGRbaTBdLFxuICAgICAgICBzdG9wID0gZFtpMV0sXG4gICAgICAgIHN0ZXA7XG5cbiAgICBpZiAoc3RvcCA8IHN0YXJ0KSB7XG4gICAgICBzdGVwID0gc3RhcnQsIHN0YXJ0ID0gc3RvcCwgc3RvcCA9IHN0ZXA7XG4gICAgICBzdGVwID0gaTAsIGkwID0gaTEsIGkxID0gc3RlcDtcbiAgICB9XG5cbiAgICBzdGVwID0gdGlja0luY3JlbWVudChzdGFydCwgc3RvcCwgY291bnQpO1xuXG4gICAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBzdG9wID0gTWF0aC5jZWlsKHN0b3AgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBzdGVwID0gdGlja0luY3JlbWVudChzdGFydCwgc3RvcCwgY291bnQpO1xuICAgIH0gZWxzZSBpZiAoc3RlcCA8IDApIHtcbiAgICAgIHN0YXJ0ID0gTWF0aC5jZWlsKHN0YXJ0ICogc3RlcCkgLyBzdGVwO1xuICAgICAgc3RvcCA9IE1hdGguZmxvb3Ioc3RvcCAqIHN0ZXApIC8gc3RlcDtcbiAgICAgIHN0ZXAgPSB0aWNrSW5jcmVtZW50KHN0YXJ0LCBzdG9wLCBjb3VudCk7XG4gICAgfVxuXG4gICAgaWYgKHN0ZXAgPiAwKSB7XG4gICAgICBkW2kwXSA9IE1hdGguZmxvb3Ioc3RhcnQgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICBkW2kxXSA9IE1hdGguY2VpbChzdG9wIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgZG9tYWluKGQpO1xuICAgIH0gZWxzZSBpZiAoc3RlcCA8IDApIHtcbiAgICAgIGRbaTBdID0gTWF0aC5jZWlsKHN0YXJ0ICogc3RlcCkgLyBzdGVwO1xuICAgICAgZFtpMV0gPSBNYXRoLmZsb29yKHN0b3AgKiBzdGVwKSAvIHN0ZXA7XG4gICAgICBkb21haW4oZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjYWxlO1xuICB9O1xuXG4gIHJldHVybiBzY2FsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbGluZWFyKCkge1xuICB2YXIgc2NhbGUgPSBjb250aW51b3VzKGlkZW50aXR5LCBpZGVudGl0eSk7XG5cbiAgc2NhbGUuY29weSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb3B5KHNjYWxlLCBsaW5lYXIoKSk7XG4gIH07XG5cbiAgaW5pdFJhbmdlLmFwcGx5KHNjYWxlLCBhcmd1bWVudHMpO1xuXG4gIHJldHVybiBsaW5lYXJpc2goc2NhbGUpO1xufVxuIiwiaW1wb3J0IHtiaXNlY3R9IGZyb20gXCJkMy1hcnJheVwiO1xuaW1wb3J0IHtzbGljZX0gZnJvbSBcIi4vYXJyYXlcIjtcbmltcG9ydCB7bGluZWFyaXNofSBmcm9tIFwiLi9saW5lYXJcIjtcbmltcG9ydCB7aW5pdFJhbmdlfSBmcm9tIFwiLi9pbml0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHF1YW50aXplKCkge1xuICB2YXIgeDAgPSAwLFxuICAgICAgeDEgPSAxLFxuICAgICAgbiA9IDEsXG4gICAgICBkb21haW4gPSBbMC41XSxcbiAgICAgIHJhbmdlID0gWzAsIDFdLFxuICAgICAgdW5rbm93bjtcblxuICBmdW5jdGlvbiBzY2FsZSh4KSB7XG4gICAgcmV0dXJuIHggPD0geCA/IHJhbmdlW2Jpc2VjdChkb21haW4sIHgsIDAsIG4pXSA6IHVua25vd247XG4gIH1cblxuICBmdW5jdGlvbiByZXNjYWxlKCkge1xuICAgIHZhciBpID0gLTE7XG4gICAgZG9tYWluID0gbmV3IEFycmF5KG4pO1xuICAgIHdoaWxlICgrK2kgPCBuKSBkb21haW5baV0gPSAoKGkgKyAxKSAqIHgxIC0gKGkgLSBuKSAqIHgwKSAvIChuICsgMSk7XG4gICAgcmV0dXJuIHNjYWxlO1xuICB9XG5cbiAgc2NhbGUuZG9tYWluID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHgwID0gK19bMF0sIHgxID0gK19bMV0sIHJlc2NhbGUoKSkgOiBbeDAsIHgxXTtcbiAgfTtcblxuICBzY2FsZS5yYW5nZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChuID0gKHJhbmdlID0gc2xpY2UuY2FsbChfKSkubGVuZ3RoIC0gMSwgcmVzY2FsZSgpKSA6IHJhbmdlLnNsaWNlKCk7XG4gIH07XG5cbiAgc2NhbGUuaW52ZXJ0RXh0ZW50ID0gZnVuY3Rpb24oeSkge1xuICAgIHZhciBpID0gcmFuZ2UuaW5kZXhPZih5KTtcbiAgICByZXR1cm4gaSA8IDAgPyBbTmFOLCBOYU5dXG4gICAgICAgIDogaSA8IDEgPyBbeDAsIGRvbWFpblswXV1cbiAgICAgICAgOiBpID49IG4gPyBbZG9tYWluW24gLSAxXSwgeDFdXG4gICAgICAgIDogW2RvbWFpbltpIC0gMV0sIGRvbWFpbltpXV07XG4gIH07XG5cbiAgc2NhbGUudW5rbm93biA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh1bmtub3duID0gXywgc2NhbGUpIDogc2NhbGU7XG4gIH07XG5cbiAgc2NhbGUudGhyZXNob2xkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkb21haW4uc2xpY2UoKTtcbiAgfTtcblxuICBzY2FsZS5jb3B5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHF1YW50aXplKClcbiAgICAgICAgLmRvbWFpbihbeDAsIHgxXSlcbiAgICAgICAgLnJhbmdlKHJhbmdlKVxuICAgICAgICAudW5rbm93bih1bmtub3duKTtcbiAgfTtcblxuICByZXR1cm4gaW5pdFJhbmdlLmFwcGx5KGxpbmVhcmlzaChzY2FsZSksIGFyZ3VtZW50cyk7XG59XG4iLCJ2YXIgdDAgPSBuZXcgRGF0ZSxcbiAgICB0MSA9IG5ldyBEYXRlO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBuZXdJbnRlcnZhbChmbG9vcmksIG9mZnNldGksIGNvdW50LCBmaWVsZCkge1xuXG4gIGZ1bmN0aW9uIGludGVydmFsKGRhdGUpIHtcbiAgICByZXR1cm4gZmxvb3JpKGRhdGUgPSBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gbmV3IERhdGUgOiBuZXcgRGF0ZSgrZGF0ZSkpLCBkYXRlO1xuICB9XG5cbiAgaW50ZXJ2YWwuZmxvb3IgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuIGZsb29yaShkYXRlID0gbmV3IERhdGUoK2RhdGUpKSwgZGF0ZTtcbiAgfTtcblxuICBpbnRlcnZhbC5jZWlsID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiBmbG9vcmkoZGF0ZSA9IG5ldyBEYXRlKGRhdGUgLSAxKSksIG9mZnNldGkoZGF0ZSwgMSksIGZsb29yaShkYXRlKSwgZGF0ZTtcbiAgfTtcblxuICBpbnRlcnZhbC5yb3VuZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgZDAgPSBpbnRlcnZhbChkYXRlKSxcbiAgICAgICAgZDEgPSBpbnRlcnZhbC5jZWlsKGRhdGUpO1xuICAgIHJldHVybiBkYXRlIC0gZDAgPCBkMSAtIGRhdGUgPyBkMCA6IGQxO1xuICB9O1xuXG4gIGludGVydmFsLm9mZnNldCA9IGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICByZXR1cm4gb2Zmc2V0aShkYXRlID0gbmV3IERhdGUoK2RhdGUpLCBzdGVwID09IG51bGwgPyAxIDogTWF0aC5mbG9vcihzdGVwKSksIGRhdGU7XG4gIH07XG5cbiAgaW50ZXJ2YWwucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIHZhciByYW5nZSA9IFtdLCBwcmV2aW91cztcbiAgICBzdGFydCA9IGludGVydmFsLmNlaWwoc3RhcnQpO1xuICAgIHN0ZXAgPSBzdGVwID09IG51bGwgPyAxIDogTWF0aC5mbG9vcihzdGVwKTtcbiAgICBpZiAoIShzdGFydCA8IHN0b3ApIHx8ICEoc3RlcCA+IDApKSByZXR1cm4gcmFuZ2U7IC8vIGFsc28gaGFuZGxlcyBJbnZhbGlkIERhdGVcbiAgICBkbyByYW5nZS5wdXNoKHByZXZpb3VzID0gbmV3IERhdGUoK3N0YXJ0KSksIG9mZnNldGkoc3RhcnQsIHN0ZXApLCBmbG9vcmkoc3RhcnQpO1xuICAgIHdoaWxlIChwcmV2aW91cyA8IHN0YXJ0ICYmIHN0YXJ0IDwgc3RvcCk7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIGludGVydmFsLmZpbHRlciA9IGZ1bmN0aW9uKHRlc3QpIHtcbiAgICByZXR1cm4gbmV3SW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgaWYgKGRhdGUgPj0gZGF0ZSkgd2hpbGUgKGZsb29yaShkYXRlKSwgIXRlc3QoZGF0ZSkpIGRhdGUuc2V0VGltZShkYXRlIC0gMSk7XG4gICAgfSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgICAgaWYgKGRhdGUgPj0gZGF0ZSkge1xuICAgICAgICBpZiAoc3RlcCA8IDApIHdoaWxlICgrK3N0ZXAgPD0gMCkge1xuICAgICAgICAgIHdoaWxlIChvZmZzZXRpKGRhdGUsIC0xKSwgIXRlc3QoZGF0ZSkpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICAgICAgfSBlbHNlIHdoaWxlICgtLXN0ZXAgPj0gMCkge1xuICAgICAgICAgIHdoaWxlIChvZmZzZXRpKGRhdGUsICsxKSwgIXRlc3QoZGF0ZSkpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGlmIChjb3VudCkge1xuICAgIGludGVydmFsLmNvdW50ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgdDAuc2V0VGltZSgrc3RhcnQpLCB0MS5zZXRUaW1lKCtlbmQpO1xuICAgICAgZmxvb3JpKHQwKSwgZmxvb3JpKHQxKTtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGNvdW50KHQwLCB0MSkpO1xuICAgIH07XG5cbiAgICBpbnRlcnZhbC5ldmVyeSA9IGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgIHN0ZXAgPSBNYXRoLmZsb29yKHN0ZXApO1xuICAgICAgcmV0dXJuICFpc0Zpbml0ZShzdGVwKSB8fCAhKHN0ZXAgPiAwKSA/IG51bGxcbiAgICAgICAgICA6ICEoc3RlcCA+IDEpID8gaW50ZXJ2YWxcbiAgICAgICAgICA6IGludGVydmFsLmZpbHRlcihmaWVsZFxuICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGZpZWxkKGQpICUgc3RlcCA9PT0gMDsgfVxuICAgICAgICAgICAgICA6IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGludGVydmFsLmNvdW50KDAsIGQpICUgc3RlcCA9PT0gMDsgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBpbnRlcnZhbDtcbn1cbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuXG52YXIgeWVhciA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRNb250aCgwLCAxKTtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIGVuZC5nZXRGdWxsWWVhcigpIC0gc3RhcnQuZ2V0RnVsbFllYXIoKTtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKTtcbn0pO1xuXG4vLyBBbiBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb24gZm9yIHRoaXMgc2ltcGxlIGNhc2UuXG55ZWFyLmV2ZXJ5ID0gZnVuY3Rpb24oaykge1xuICByZXR1cm4gIWlzRmluaXRlKGsgPSBNYXRoLmZsb29yKGspKSB8fCAhKGsgPiAwKSA/IG51bGwgOiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXRGdWxsWWVhcihNYXRoLmZsb29yKGRhdGUuZ2V0RnVsbFllYXIoKSAvIGspICogayk7XG4gICAgZGF0ZS5zZXRNb250aCgwLCAxKTtcbiAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBzdGVwICogayk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgeWVhcjtcbmV4cG9ydCB2YXIgeWVhcnMgPSB5ZWFyLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciBtb250aCA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXREYXRlKDEpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kLmdldE1vbnRoKCkgLSBzdGFydC5nZXRNb250aCgpICsgKGVuZC5nZXRGdWxsWWVhcigpIC0gc3RhcnQuZ2V0RnVsbFllYXIoKSkgKiAxMjtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtb250aDtcbmV4cG9ydCB2YXIgbW9udGhzID0gbW9udGgucmFuZ2U7XG4iLCJleHBvcnQgdmFyIGR1cmF0aW9uU2Vjb25kID0gMWUzO1xuZXhwb3J0IHZhciBkdXJhdGlvbk1pbnV0ZSA9IDZlNDtcbmV4cG9ydCB2YXIgZHVyYXRpb25Ib3VyID0gMzZlNTtcbmV4cG9ydCB2YXIgZHVyYXRpb25EYXkgPSA4NjRlNTtcbmV4cG9ydCB2YXIgZHVyYXRpb25XZWVrID0gNjA0OGU1O1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uTWludXRlLCBkdXJhdGlvbldlZWt9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbmZ1bmN0aW9uIHdlZWtkYXkoaSkge1xuICByZXR1cm4gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIChkYXRlLmdldERheSgpICsgNyAtIGkpICUgNyk7XG4gICAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgfSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIHN0ZXAgKiA3KTtcbiAgfSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiAoZW5kIC0gc3RhcnQgLSAoZW5kLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIGR1cmF0aW9uTWludXRlKSAvIGR1cmF0aW9uV2VlaztcbiAgfSk7XG59XG5cbmV4cG9ydCB2YXIgc3VuZGF5ID0gd2Vla2RheSgwKTtcbmV4cG9ydCB2YXIgbW9uZGF5ID0gd2Vla2RheSgxKTtcbmV4cG9ydCB2YXIgdHVlc2RheSA9IHdlZWtkYXkoMik7XG5leHBvcnQgdmFyIHdlZG5lc2RheSA9IHdlZWtkYXkoMyk7XG5leHBvcnQgdmFyIHRodXJzZGF5ID0gd2Vla2RheSg0KTtcbmV4cG9ydCB2YXIgZnJpZGF5ID0gd2Vla2RheSg1KTtcbmV4cG9ydCB2YXIgc2F0dXJkYXkgPSB3ZWVrZGF5KDYpO1xuXG5leHBvcnQgdmFyIHN1bmRheXMgPSBzdW5kYXkucmFuZ2U7XG5leHBvcnQgdmFyIG1vbmRheXMgPSBtb25kYXkucmFuZ2U7XG5leHBvcnQgdmFyIHR1ZXNkYXlzID0gdHVlc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgd2VkbmVzZGF5cyA9IHdlZG5lc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgdGh1cnNkYXlzID0gdGh1cnNkYXkucmFuZ2U7XG5leHBvcnQgdmFyIGZyaWRheXMgPSBmcmlkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHNhdHVyZGF5cyA9IHNhdHVyZGF5LnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uRGF5LCBkdXJhdGlvbk1pbnV0ZX0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIGRheSA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQgLSAoZW5kLmdldFRpbWV6b25lT2Zmc2V0KCkgLSBzdGFydC5nZXRUaW1lem9uZU9mZnNldCgpKSAqIGR1cmF0aW9uTWludXRlKSAvIGR1cmF0aW9uRGF5O1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXREYXRlKCkgLSAxO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGRheTtcbmV4cG9ydCB2YXIgZGF5cyA9IGRheS5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbkhvdXIsIGR1cmF0aW9uTWludXRlLCBkdXJhdGlvblNlY29uZH0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIGhvdXIgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VGltZShkYXRlIC0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAtIGRhdGUuZ2V0U2Vjb25kcygpICogZHVyYXRpb25TZWNvbmQgLSBkYXRlLmdldE1pbnV0ZXMoKSAqIGR1cmF0aW9uTWludXRlKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRUaW1lKCtkYXRlICsgc3RlcCAqIGR1cmF0aW9uSG91cik7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gZHVyYXRpb25Ib3VyO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRIb3VycygpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGhvdXI7XG5leHBvcnQgdmFyIGhvdXJzID0gaG91ci5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbk1pbnV0ZSwgZHVyYXRpb25TZWNvbmR9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbnZhciBtaW51dGUgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VGltZShkYXRlIC0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAtIGRhdGUuZ2V0U2Vjb25kcygpICogZHVyYXRpb25TZWNvbmQpO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25NaW51dGUpO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uTWludXRlO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRNaW51dGVzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgbWludXRlO1xuZXhwb3J0IHZhciBtaW51dGVzID0gbWludXRlLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uU2Vjb25kfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgc2Vjb25kID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFRpbWUoZGF0ZSAtIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25TZWNvbmQpO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uU2Vjb25kO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENTZWNvbmRzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgc2Vjb25kO1xuZXhwb3J0IHZhciBzZWNvbmRzID0gc2Vjb25kLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciBtaWxsaXNlY29uZCA9IGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAvLyBub29wXG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kIC0gc3RhcnQ7XG59KTtcblxuLy8gQW4gb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGZvciB0aGlzIHNpbXBsZSBjYXNlLlxubWlsbGlzZWNvbmQuZXZlcnkgPSBmdW5jdGlvbihrKSB7XG4gIGsgPSBNYXRoLmZsb29yKGspO1xuICBpZiAoIWlzRmluaXRlKGspIHx8ICEoayA+IDApKSByZXR1cm4gbnVsbDtcbiAgaWYgKCEoayA+IDEpKSByZXR1cm4gbWlsbGlzZWNvbmQ7XG4gIHJldHVybiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXRUaW1lKE1hdGguZmxvb3IoZGF0ZSAvIGspICogayk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogayk7XG4gIH0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGs7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWlsbGlzZWNvbmQ7XG5leHBvcnQgdmFyIG1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uV2Vla30gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxuZnVuY3Rpb24gdXRjV2Vla2RheShpKSB7XG4gIHJldHVybiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXRVVENEYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpIC0gKGRhdGUuZ2V0VVRDRGF5KCkgKyA3IC0gaSkgJSA3KTtcbiAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgZGF0ZS5zZXRVVENEYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpICsgc3RlcCAqIDcpO1xuICB9LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbldlZWs7XG4gIH0pO1xufVxuXG5leHBvcnQgdmFyIHV0Y1N1bmRheSA9IHV0Y1dlZWtkYXkoMCk7XG5leHBvcnQgdmFyIHV0Y01vbmRheSA9IHV0Y1dlZWtkYXkoMSk7XG5leHBvcnQgdmFyIHV0Y1R1ZXNkYXkgPSB1dGNXZWVrZGF5KDIpO1xuZXhwb3J0IHZhciB1dGNXZWRuZXNkYXkgPSB1dGNXZWVrZGF5KDMpO1xuZXhwb3J0IHZhciB1dGNUaHVyc2RheSA9IHV0Y1dlZWtkYXkoNCk7XG5leHBvcnQgdmFyIHV0Y0ZyaWRheSA9IHV0Y1dlZWtkYXkoNSk7XG5leHBvcnQgdmFyIHV0Y1NhdHVyZGF5ID0gdXRjV2Vla2RheSg2KTtcblxuZXhwb3J0IHZhciB1dGNTdW5kYXlzID0gdXRjU3VuZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB1dGNNb25kYXlzID0gdXRjTW9uZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB1dGNUdWVzZGF5cyA9IHV0Y1R1ZXNkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1dlZG5lc2RheXMgPSB1dGNXZWRuZXNkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1RodXJzZGF5cyA9IHV0Y1RodXJzZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB1dGNGcmlkYXlzID0gdXRjRnJpZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB1dGNTYXR1cmRheXMgPSB1dGNTYXR1cmRheS5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbkRheX0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIHV0Y0RheSA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRVVENEYXRlKGRhdGUuZ2V0VVRDRGF0ZSgpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gZHVyYXRpb25EYXk7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFVUQ0RhdGUoKSAtIDE7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXRjRGF5O1xuZXhwb3J0IHZhciB1dGNEYXlzID0gdXRjRGF5LnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciB1dGNZZWFyID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ01vbnRoKDAsIDEpO1xuICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kLmdldFVUQ0Z1bGxZZWFyKCkgLSBzdGFydC5nZXRVVENGdWxsWWVhcigpO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xufSk7XG5cbi8vIEFuIG9wdGltaXplZCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBzaW1wbGUgY2FzZS5cbnV0Y1llYXIuZXZlcnkgPSBmdW5jdGlvbihrKSB7XG4gIHJldHVybiAhaXNGaW5pdGUoayA9IE1hdGguZmxvb3IoaykpIHx8ICEoayA+IDApID8gbnVsbCA6IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKE1hdGguZmxvb3IoZGF0ZS5nZXRVVENGdWxsWWVhcigpIC8gaykgKiBrKTtcbiAgICBkYXRlLnNldFVUQ01vbnRoKDAsIDEpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSArIHN0ZXAgKiBrKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB1dGNZZWFyO1xuZXhwb3J0IHZhciB1dGNZZWFycyA9IHV0Y1llYXIucmFuZ2U7XG4iLCJpbXBvcnQge1xuICB0aW1lRGF5LFxuICB0aW1lU3VuZGF5LFxuICB0aW1lTW9uZGF5LFxuICB0aW1lVGh1cnNkYXksXG4gIHRpbWVZZWFyLFxuICB1dGNEYXksXG4gIHV0Y1N1bmRheSxcbiAgdXRjTW9uZGF5LFxuICB1dGNUaHVyc2RheSxcbiAgdXRjWWVhclxufSBmcm9tIFwiZDMtdGltZVwiO1xuXG5mdW5jdGlvbiBsb2NhbERhdGUoZCkge1xuICBpZiAoMCA8PSBkLnkgJiYgZC55IDwgMTAwKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgtMSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCk7XG4gICAgZGF0ZS5zZXRGdWxsWWVhcihkLnkpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG4gIHJldHVybiBuZXcgRGF0ZShkLnksIGQubSwgZC5kLCBkLkgsIGQuTSwgZC5TLCBkLkwpO1xufVxuXG5mdW5jdGlvbiB1dGNEYXRlKGQpIHtcbiAgaWYgKDAgPD0gZC55ICYmIGQueSA8IDEwMCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoLTEsIGQubSwgZC5kLCBkLkgsIGQuTSwgZC5TLCBkLkwpKTtcbiAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKGQueSk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGQueSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCkpO1xufVxuXG5mdW5jdGlvbiBuZXdEYXRlKHksIG0sIGQpIHtcbiAgcmV0dXJuIHt5OiB5LCBtOiBtLCBkOiBkLCBIOiAwLCBNOiAwLCBTOiAwLCBMOiAwfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm9ybWF0TG9jYWxlKGxvY2FsZSkge1xuICB2YXIgbG9jYWxlX2RhdGVUaW1lID0gbG9jYWxlLmRhdGVUaW1lLFxuICAgICAgbG9jYWxlX2RhdGUgPSBsb2NhbGUuZGF0ZSxcbiAgICAgIGxvY2FsZV90aW1lID0gbG9jYWxlLnRpbWUsXG4gICAgICBsb2NhbGVfcGVyaW9kcyA9IGxvY2FsZS5wZXJpb2RzLFxuICAgICAgbG9jYWxlX3dlZWtkYXlzID0gbG9jYWxlLmRheXMsXG4gICAgICBsb2NhbGVfc2hvcnRXZWVrZGF5cyA9IGxvY2FsZS5zaG9ydERheXMsXG4gICAgICBsb2NhbGVfbW9udGhzID0gbG9jYWxlLm1vbnRocyxcbiAgICAgIGxvY2FsZV9zaG9ydE1vbnRocyA9IGxvY2FsZS5zaG9ydE1vbnRocztcblxuICB2YXIgcGVyaW9kUmUgPSBmb3JtYXRSZShsb2NhbGVfcGVyaW9kcyksXG4gICAgICBwZXJpb2RMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX3BlcmlvZHMpLFxuICAgICAgd2Vla2RheVJlID0gZm9ybWF0UmUobG9jYWxlX3dlZWtkYXlzKSxcbiAgICAgIHdlZWtkYXlMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX3dlZWtkYXlzKSxcbiAgICAgIHNob3J0V2Vla2RheVJlID0gZm9ybWF0UmUobG9jYWxlX3Nob3J0V2Vla2RheXMpLFxuICAgICAgc2hvcnRXZWVrZGF5TG9va3VwID0gZm9ybWF0TG9va3VwKGxvY2FsZV9zaG9ydFdlZWtkYXlzKSxcbiAgICAgIG1vbnRoUmUgPSBmb3JtYXRSZShsb2NhbGVfbW9udGhzKSxcbiAgICAgIG1vbnRoTG9va3VwID0gZm9ybWF0TG9va3VwKGxvY2FsZV9tb250aHMpLFxuICAgICAgc2hvcnRNb250aFJlID0gZm9ybWF0UmUobG9jYWxlX3Nob3J0TW9udGhzKSxcbiAgICAgIHNob3J0TW9udGhMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX3Nob3J0TW9udGhzKTtcblxuICB2YXIgZm9ybWF0cyA9IHtcbiAgICBcImFcIjogZm9ybWF0U2hvcnRXZWVrZGF5LFxuICAgIFwiQVwiOiBmb3JtYXRXZWVrZGF5LFxuICAgIFwiYlwiOiBmb3JtYXRTaG9ydE1vbnRoLFxuICAgIFwiQlwiOiBmb3JtYXRNb250aCxcbiAgICBcImNcIjogbnVsbCxcbiAgICBcImRcIjogZm9ybWF0RGF5T2ZNb250aCxcbiAgICBcImVcIjogZm9ybWF0RGF5T2ZNb250aCxcbiAgICBcImZcIjogZm9ybWF0TWljcm9zZWNvbmRzLFxuICAgIFwiSFwiOiBmb3JtYXRIb3VyMjQsXG4gICAgXCJJXCI6IGZvcm1hdEhvdXIxMixcbiAgICBcImpcIjogZm9ybWF0RGF5T2ZZZWFyLFxuICAgIFwiTFwiOiBmb3JtYXRNaWxsaXNlY29uZHMsXG4gICAgXCJtXCI6IGZvcm1hdE1vbnRoTnVtYmVyLFxuICAgIFwiTVwiOiBmb3JtYXRNaW51dGVzLFxuICAgIFwicFwiOiBmb3JtYXRQZXJpb2QsXG4gICAgXCJxXCI6IGZvcm1hdFF1YXJ0ZXIsXG4gICAgXCJRXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXAsXG4gICAgXCJzXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXBTZWNvbmRzLFxuICAgIFwiU1wiOiBmb3JtYXRTZWNvbmRzLFxuICAgIFwidVwiOiBmb3JtYXRXZWVrZGF5TnVtYmVyTW9uZGF5LFxuICAgIFwiVVwiOiBmb3JtYXRXZWVrTnVtYmVyU3VuZGF5LFxuICAgIFwiVlwiOiBmb3JtYXRXZWVrTnVtYmVySVNPLFxuICAgIFwid1wiOiBmb3JtYXRXZWVrZGF5TnVtYmVyU3VuZGF5LFxuICAgIFwiV1wiOiBmb3JtYXRXZWVrTnVtYmVyTW9uZGF5LFxuICAgIFwieFwiOiBudWxsLFxuICAgIFwiWFwiOiBudWxsLFxuICAgIFwieVwiOiBmb3JtYXRZZWFyLFxuICAgIFwiWVwiOiBmb3JtYXRGdWxsWWVhcixcbiAgICBcIlpcIjogZm9ybWF0Wm9uZSxcbiAgICBcIiVcIjogZm9ybWF0TGl0ZXJhbFBlcmNlbnRcbiAgfTtcblxuICB2YXIgdXRjRm9ybWF0cyA9IHtcbiAgICBcImFcIjogZm9ybWF0VVRDU2hvcnRXZWVrZGF5LFxuICAgIFwiQVwiOiBmb3JtYXRVVENXZWVrZGF5LFxuICAgIFwiYlwiOiBmb3JtYXRVVENTaG9ydE1vbnRoLFxuICAgIFwiQlwiOiBmb3JtYXRVVENNb250aCxcbiAgICBcImNcIjogbnVsbCxcbiAgICBcImRcIjogZm9ybWF0VVRDRGF5T2ZNb250aCxcbiAgICBcImVcIjogZm9ybWF0VVRDRGF5T2ZNb250aCxcbiAgICBcImZcIjogZm9ybWF0VVRDTWljcm9zZWNvbmRzLFxuICAgIFwiSFwiOiBmb3JtYXRVVENIb3VyMjQsXG4gICAgXCJJXCI6IGZvcm1hdFVUQ0hvdXIxMixcbiAgICBcImpcIjogZm9ybWF0VVRDRGF5T2ZZZWFyLFxuICAgIFwiTFwiOiBmb3JtYXRVVENNaWxsaXNlY29uZHMsXG4gICAgXCJtXCI6IGZvcm1hdFVUQ01vbnRoTnVtYmVyLFxuICAgIFwiTVwiOiBmb3JtYXRVVENNaW51dGVzLFxuICAgIFwicFwiOiBmb3JtYXRVVENQZXJpb2QsXG4gICAgXCJxXCI6IGZvcm1hdFVUQ1F1YXJ0ZXIsXG4gICAgXCJRXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXAsXG4gICAgXCJzXCI6IGZvcm1hdFVuaXhUaW1lc3RhbXBTZWNvbmRzLFxuICAgIFwiU1wiOiBmb3JtYXRVVENTZWNvbmRzLFxuICAgIFwidVwiOiBmb3JtYXRVVENXZWVrZGF5TnVtYmVyTW9uZGF5LFxuICAgIFwiVVwiOiBmb3JtYXRVVENXZWVrTnVtYmVyU3VuZGF5LFxuICAgIFwiVlwiOiBmb3JtYXRVVENXZWVrTnVtYmVySVNPLFxuICAgIFwid1wiOiBmb3JtYXRVVENXZWVrZGF5TnVtYmVyU3VuZGF5LFxuICAgIFwiV1wiOiBmb3JtYXRVVENXZWVrTnVtYmVyTW9uZGF5LFxuICAgIFwieFwiOiBudWxsLFxuICAgIFwiWFwiOiBudWxsLFxuICAgIFwieVwiOiBmb3JtYXRVVENZZWFyLFxuICAgIFwiWVwiOiBmb3JtYXRVVENGdWxsWWVhcixcbiAgICBcIlpcIjogZm9ybWF0VVRDWm9uZSxcbiAgICBcIiVcIjogZm9ybWF0TGl0ZXJhbFBlcmNlbnRcbiAgfTtcblxuICB2YXIgcGFyc2VzID0ge1xuICAgIFwiYVwiOiBwYXJzZVNob3J0V2Vla2RheSxcbiAgICBcIkFcIjogcGFyc2VXZWVrZGF5LFxuICAgIFwiYlwiOiBwYXJzZVNob3J0TW9udGgsXG4gICAgXCJCXCI6IHBhcnNlTW9udGgsXG4gICAgXCJjXCI6IHBhcnNlTG9jYWxlRGF0ZVRpbWUsXG4gICAgXCJkXCI6IHBhcnNlRGF5T2ZNb250aCxcbiAgICBcImVcIjogcGFyc2VEYXlPZk1vbnRoLFxuICAgIFwiZlwiOiBwYXJzZU1pY3Jvc2Vjb25kcyxcbiAgICBcIkhcIjogcGFyc2VIb3VyMjQsXG4gICAgXCJJXCI6IHBhcnNlSG91cjI0LFxuICAgIFwialwiOiBwYXJzZURheU9mWWVhcixcbiAgICBcIkxcIjogcGFyc2VNaWxsaXNlY29uZHMsXG4gICAgXCJtXCI6IHBhcnNlTW9udGhOdW1iZXIsXG4gICAgXCJNXCI6IHBhcnNlTWludXRlcyxcbiAgICBcInBcIjogcGFyc2VQZXJpb2QsXG4gICAgXCJxXCI6IHBhcnNlUXVhcnRlcixcbiAgICBcIlFcIjogcGFyc2VVbml4VGltZXN0YW1wLFxuICAgIFwic1wiOiBwYXJzZVVuaXhUaW1lc3RhbXBTZWNvbmRzLFxuICAgIFwiU1wiOiBwYXJzZVNlY29uZHMsXG4gICAgXCJ1XCI6IHBhcnNlV2Vla2RheU51bWJlck1vbmRheSxcbiAgICBcIlVcIjogcGFyc2VXZWVrTnVtYmVyU3VuZGF5LFxuICAgIFwiVlwiOiBwYXJzZVdlZWtOdW1iZXJJU08sXG4gICAgXCJ3XCI6IHBhcnNlV2Vla2RheU51bWJlclN1bmRheSxcbiAgICBcIldcIjogcGFyc2VXZWVrTnVtYmVyTW9uZGF5LFxuICAgIFwieFwiOiBwYXJzZUxvY2FsZURhdGUsXG4gICAgXCJYXCI6IHBhcnNlTG9jYWxlVGltZSxcbiAgICBcInlcIjogcGFyc2VZZWFyLFxuICAgIFwiWVwiOiBwYXJzZUZ1bGxZZWFyLFxuICAgIFwiWlwiOiBwYXJzZVpvbmUsXG4gICAgXCIlXCI6IHBhcnNlTGl0ZXJhbFBlcmNlbnRcbiAgfTtcblxuICAvLyBUaGVzZSByZWN1cnNpdmUgZGlyZWN0aXZlIGRlZmluaXRpb25zIG11c3QgYmUgZGVmZXJyZWQuXG4gIGZvcm1hdHMueCA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZSwgZm9ybWF0cyk7XG4gIGZvcm1hdHMuWCA9IG5ld0Zvcm1hdChsb2NhbGVfdGltZSwgZm9ybWF0cyk7XG4gIGZvcm1hdHMuYyA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZVRpbWUsIGZvcm1hdHMpO1xuICB1dGNGb3JtYXRzLnggPSBuZXdGb3JtYXQobG9jYWxlX2RhdGUsIHV0Y0Zvcm1hdHMpO1xuICB1dGNGb3JtYXRzLlggPSBuZXdGb3JtYXQobG9jYWxlX3RpbWUsIHV0Y0Zvcm1hdHMpO1xuICB1dGNGb3JtYXRzLmMgPSBuZXdGb3JtYXQobG9jYWxlX2RhdGVUaW1lLCB1dGNGb3JtYXRzKTtcblxuICBmdW5jdGlvbiBuZXdGb3JtYXQoc3BlY2lmaWVyLCBmb3JtYXRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgIHZhciBzdHJpbmcgPSBbXSxcbiAgICAgICAgICBpID0gLTEsXG4gICAgICAgICAgaiA9IDAsXG4gICAgICAgICAgbiA9IHNwZWNpZmllci5sZW5ndGgsXG4gICAgICAgICAgYyxcbiAgICAgICAgICBwYWQsXG4gICAgICAgICAgZm9ybWF0O1xuXG4gICAgICBpZiAoIShkYXRlIGluc3RhbmNlb2YgRGF0ZSkpIGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSk7XG5cbiAgICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICAgIGlmIChzcGVjaWZpZXIuY2hhckNvZGVBdChpKSA9PT0gMzcpIHtcbiAgICAgICAgICBzdHJpbmcucHVzaChzcGVjaWZpZXIuc2xpY2UoaiwgaSkpO1xuICAgICAgICAgIGlmICgocGFkID0gcGFkc1tjID0gc3BlY2lmaWVyLmNoYXJBdCgrK2kpXSkgIT0gbnVsbCkgYyA9IHNwZWNpZmllci5jaGFyQXQoKytpKTtcbiAgICAgICAgICBlbHNlIHBhZCA9IGMgPT09IFwiZVwiID8gXCIgXCIgOiBcIjBcIjtcbiAgICAgICAgICBpZiAoZm9ybWF0ID0gZm9ybWF0c1tjXSkgYyA9IGZvcm1hdChkYXRlLCBwYWQpO1xuICAgICAgICAgIHN0cmluZy5wdXNoKGMpO1xuICAgICAgICAgIGogPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzdHJpbmcucHVzaChzcGVjaWZpZXIuc2xpY2UoaiwgaSkpO1xuICAgICAgcmV0dXJuIHN0cmluZy5qb2luKFwiXCIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBuZXdQYXJzZShzcGVjaWZpZXIsIFopIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgZCA9IG5ld0RhdGUoMTkwMCwgdW5kZWZpbmVkLCAxKSxcbiAgICAgICAgICBpID0gcGFyc2VTcGVjaWZpZXIoZCwgc3BlY2lmaWVyLCBzdHJpbmcgKz0gXCJcIiwgMCksXG4gICAgICAgICAgd2VlaywgZGF5O1xuICAgICAgaWYgKGkgIT0gc3RyaW5nLmxlbmd0aCkgcmV0dXJuIG51bGw7XG5cbiAgICAgIC8vIElmIGEgVU5JWCB0aW1lc3RhbXAgaXMgc3BlY2lmaWVkLCByZXR1cm4gaXQuXG4gICAgICBpZiAoXCJRXCIgaW4gZCkgcmV0dXJuIG5ldyBEYXRlKGQuUSk7XG4gICAgICBpZiAoXCJzXCIgaW4gZCkgcmV0dXJuIG5ldyBEYXRlKGQucyAqIDEwMDAgKyAoXCJMXCIgaW4gZCA/IGQuTCA6IDApKTtcblxuICAgICAgLy8gSWYgdGhpcyBpcyB1dGNQYXJzZSwgbmV2ZXIgdXNlIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAgICAgIGlmIChaICYmICEoXCJaXCIgaW4gZCkpIGQuWiA9IDA7XG5cbiAgICAgIC8vIFRoZSBhbS1wbSBmbGFnIGlzIDAgZm9yIEFNLCBhbmQgMSBmb3IgUE0uXG4gICAgICBpZiAoXCJwXCIgaW4gZCkgZC5IID0gZC5IICUgMTIgKyBkLnAgKiAxMjtcblxuICAgICAgLy8gSWYgdGhlIG1vbnRoIHdhcyBub3Qgc3BlY2lmaWVkLCBpbmhlcml0IGZyb20gdGhlIHF1YXJ0ZXIuXG4gICAgICBpZiAoZC5tID09PSB1bmRlZmluZWQpIGQubSA9IFwicVwiIGluIGQgPyBkLnEgOiAwO1xuXG4gICAgICAvLyBDb252ZXJ0IGRheS1vZi13ZWVrIGFuZCB3ZWVrLW9mLXllYXIgdG8gZGF5LW9mLXllYXIuXG4gICAgICBpZiAoXCJWXCIgaW4gZCkge1xuICAgICAgICBpZiAoZC5WIDwgMSB8fCBkLlYgPiA1MykgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghKFwid1wiIGluIGQpKSBkLncgPSAxO1xuICAgICAgICBpZiAoXCJaXCIgaW4gZCkge1xuICAgICAgICAgIHdlZWsgPSB1dGNEYXRlKG5ld0RhdGUoZC55LCAwLCAxKSksIGRheSA9IHdlZWsuZ2V0VVRDRGF5KCk7XG4gICAgICAgICAgd2VlayA9IGRheSA+IDQgfHwgZGF5ID09PSAwID8gdXRjTW9uZGF5LmNlaWwod2VlaykgOiB1dGNNb25kYXkod2Vlayk7XG4gICAgICAgICAgd2VlayA9IHV0Y0RheS5vZmZzZXQod2VlaywgKGQuViAtIDEpICogNyk7XG4gICAgICAgICAgZC55ID0gd2Vlay5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICAgIGQubSA9IHdlZWsuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgICBkLmQgPSB3ZWVrLmdldFVUQ0RhdGUoKSArIChkLncgKyA2KSAlIDc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2VlayA9IGxvY2FsRGF0ZShuZXdEYXRlKGQueSwgMCwgMSkpLCBkYXkgPSB3ZWVrLmdldERheSgpO1xuICAgICAgICAgIHdlZWsgPSBkYXkgPiA0IHx8IGRheSA9PT0gMCA/IHRpbWVNb25kYXkuY2VpbCh3ZWVrKSA6IHRpbWVNb25kYXkod2Vlayk7XG4gICAgICAgICAgd2VlayA9IHRpbWVEYXkub2Zmc2V0KHdlZWssIChkLlYgLSAxKSAqIDcpO1xuICAgICAgICAgIGQueSA9IHdlZWsuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICBkLm0gPSB3ZWVrLmdldE1vbnRoKCk7XG4gICAgICAgICAgZC5kID0gd2Vlay5nZXREYXRlKCkgKyAoZC53ICsgNikgJSA3O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFwiV1wiIGluIGQgfHwgXCJVXCIgaW4gZCkge1xuICAgICAgICBpZiAoIShcIndcIiBpbiBkKSkgZC53ID0gXCJ1XCIgaW4gZCA/IGQudSAlIDcgOiBcIldcIiBpbiBkID8gMSA6IDA7XG4gICAgICAgIGRheSA9IFwiWlwiIGluIGQgPyB1dGNEYXRlKG5ld0RhdGUoZC55LCAwLCAxKSkuZ2V0VVRDRGF5KCkgOiBsb2NhbERhdGUobmV3RGF0ZShkLnksIDAsIDEpKS5nZXREYXkoKTtcbiAgICAgICAgZC5tID0gMDtcbiAgICAgICAgZC5kID0gXCJXXCIgaW4gZCA/IChkLncgKyA2KSAlIDcgKyBkLlcgKiA3IC0gKGRheSArIDUpICUgNyA6IGQudyArIGQuVSAqIDcgLSAoZGF5ICsgNikgJSA3O1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhIHRpbWUgem9uZSBpcyBzcGVjaWZpZWQsIGFsbCBmaWVsZHMgYXJlIGludGVycHJldGVkIGFzIFVUQyBhbmQgdGhlblxuICAgICAgLy8gb2Zmc2V0IGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIHRpbWUgem9uZS5cbiAgICAgIGlmIChcIlpcIiBpbiBkKSB7XG4gICAgICAgIGQuSCArPSBkLlogLyAxMDAgfCAwO1xuICAgICAgICBkLk0gKz0gZC5aICUgMTAwO1xuICAgICAgICByZXR1cm4gdXRjRGF0ZShkKTtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlLCBhbGwgZmllbGRzIGFyZSBpbiBsb2NhbCB0aW1lLlxuICAgICAgcmV0dXJuIGxvY2FsRGF0ZShkKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VTcGVjaWZpZXIoZCwgc3BlY2lmaWVyLCBzdHJpbmcsIGopIHtcbiAgICB2YXIgaSA9IDAsXG4gICAgICAgIG4gPSBzcGVjaWZpZXIubGVuZ3RoLFxuICAgICAgICBtID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgYyxcbiAgICAgICAgcGFyc2U7XG5cbiAgICB3aGlsZSAoaSA8IG4pIHtcbiAgICAgIGlmIChqID49IG0pIHJldHVybiAtMTtcbiAgICAgIGMgPSBzcGVjaWZpZXIuY2hhckNvZGVBdChpKyspO1xuICAgICAgaWYgKGMgPT09IDM3KSB7XG4gICAgICAgIGMgPSBzcGVjaWZpZXIuY2hhckF0KGkrKyk7XG4gICAgICAgIHBhcnNlID0gcGFyc2VzW2MgaW4gcGFkcyA/IHNwZWNpZmllci5jaGFyQXQoaSsrKSA6IGNdO1xuICAgICAgICBpZiAoIXBhcnNlIHx8ICgoaiA9IHBhcnNlKGQsIHN0cmluZywgaikpIDwgMCkpIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoYyAhPSBzdHJpbmcuY2hhckNvZGVBdChqKyspKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gajtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlUGVyaW9kKGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gcGVyaW9kUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQucCA9IHBlcmlvZExvb2t1cFtuWzBdLnRvTG93ZXJDYXNlKCldLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVNob3J0V2Vla2RheShkLCBzdHJpbmcsIGkpIHtcbiAgICB2YXIgbiA9IHNob3J0V2Vla2RheVJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtcbiAgICByZXR1cm4gbiA/IChkLncgPSBzaG9ydFdlZWtkYXlMb29rdXBbblswXS50b0xvd2VyQ2FzZSgpXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gd2Vla2RheVJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtcbiAgICByZXR1cm4gbiA/IChkLncgPSB3ZWVrZGF5TG9va3VwW25bMF0udG9Mb3dlckNhc2UoKV0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlU2hvcnRNb250aChkLCBzdHJpbmcsIGkpIHtcbiAgICB2YXIgbiA9IHNob3J0TW9udGhSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gICAgcmV0dXJuIG4gPyAoZC5tID0gc2hvcnRNb250aExvb2t1cFtuWzBdLnRvTG93ZXJDYXNlKCldLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZU1vbnRoKGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gbW9udGhSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gICAgcmV0dXJuIG4gPyAoZC5tID0gbW9udGhMb29rdXBbblswXS50b0xvd2VyQ2FzZSgpXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMb2NhbGVEYXRlVGltZShkLCBzdHJpbmcsIGkpIHtcbiAgICByZXR1cm4gcGFyc2VTcGVjaWZpZXIoZCwgbG9jYWxlX2RhdGVUaW1lLCBzdHJpbmcsIGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMb2NhbGVEYXRlKGQsIHN0cmluZywgaSkge1xuICAgIHJldHVybiBwYXJzZVNwZWNpZmllcihkLCBsb2NhbGVfZGF0ZSwgc3RyaW5nLCBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlTG9jYWxlVGltZShkLCBzdHJpbmcsIGkpIHtcbiAgICByZXR1cm4gcGFyc2VTcGVjaWZpZXIoZCwgbG9jYWxlX3RpbWUsIHN0cmluZywgaSk7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRTaG9ydFdlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfc2hvcnRXZWVrZGF5c1tkLmdldERheSgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFdlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfd2Vla2RheXNbZC5nZXREYXkoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRTaG9ydE1vbnRoKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3Nob3J0TW9udGhzW2QuZ2V0TW9udGgoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRNb250aChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9tb250aHNbZC5nZXRNb250aCgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFBlcmlvZChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9wZXJpb2RzWysoZC5nZXRIb3VycygpID49IDEyKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRRdWFydGVyKGQpIHtcbiAgICByZXR1cm4gMSArIH5+KGQuZ2V0TW9udGgoKSAvIDMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0VVRDU2hvcnRXZWVrZGF5KGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3Nob3J0V2Vla2RheXNbZC5nZXRVVENEYXkoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENXZWVrZGF5KGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3dlZWtkYXlzW2QuZ2V0VVRDRGF5KCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0VVRDU2hvcnRNb250aChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9zaG9ydE1vbnRoc1tkLmdldFVUQ01vbnRoKCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0VVRDTW9udGgoZCkge1xuICAgIHJldHVybiBsb2NhbGVfbW9udGhzW2QuZ2V0VVRDTW9udGgoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENQZXJpb2QoZCkge1xuICAgIHJldHVybiBsb2NhbGVfcGVyaW9kc1srKGQuZ2V0VVRDSG91cnMoKSA+PSAxMildO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0VVRDUXVhcnRlcihkKSB7XG4gICAgcmV0dXJuIDEgKyB+fihkLmdldFVUQ01vbnRoKCkgLyAzKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZm9ybWF0OiBmdW5jdGlvbihzcGVjaWZpZXIpIHtcbiAgICAgIHZhciBmID0gbmV3Rm9ybWF0KHNwZWNpZmllciArPSBcIlwiLCBmb3JtYXRzKTtcbiAgICAgIGYudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNwZWNpZmllcjsgfTtcbiAgICAgIHJldHVybiBmO1xuICAgIH0sXG4gICAgcGFyc2U6IGZ1bmN0aW9uKHNwZWNpZmllcikge1xuICAgICAgdmFyIHAgPSBuZXdQYXJzZShzcGVjaWZpZXIgKz0gXCJcIiwgZmFsc2UpO1xuICAgICAgcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcbiAgICB1dGNGb3JtYXQ6IGZ1bmN0aW9uKHNwZWNpZmllcikge1xuICAgICAgdmFyIGYgPSBuZXdGb3JtYXQoc3BlY2lmaWVyICs9IFwiXCIsIHV0Y0Zvcm1hdHMpO1xuICAgICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSxcbiAgICB1dGNQYXJzZTogZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICB2YXIgcCA9IG5ld1BhcnNlKHNwZWNpZmllciArPSBcIlwiLCB0cnVlKTtcbiAgICAgIHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNwZWNpZmllcjsgfTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIHBhZHMgPSB7XCItXCI6IFwiXCIsIFwiX1wiOiBcIiBcIiwgXCIwXCI6IFwiMFwifSxcbiAgICBudW1iZXJSZSA9IC9eXFxzKlxcZCsvLCAvLyBub3RlOiBpZ25vcmVzIG5leHQgZGlyZWN0aXZlXG4gICAgcGVyY2VudFJlID0gL14lLyxcbiAgICByZXF1b3RlUmUgPSAvW1xcXFxeJCorP3xbXFxdKCkue31dL2c7XG5cbmZ1bmN0aW9uIHBhZCh2YWx1ZSwgZmlsbCwgd2lkdGgpIHtcbiAgdmFyIHNpZ24gPSB2YWx1ZSA8IDAgPyBcIi1cIiA6IFwiXCIsXG4gICAgICBzdHJpbmcgPSAoc2lnbiA/IC12YWx1ZSA6IHZhbHVlKSArIFwiXCIsXG4gICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICByZXR1cm4gc2lnbiArIChsZW5ndGggPCB3aWR0aCA/IG5ldyBBcnJheSh3aWR0aCAtIGxlbmd0aCArIDEpLmpvaW4oZmlsbCkgKyBzdHJpbmcgOiBzdHJpbmcpO1xufVxuXG5mdW5jdGlvbiByZXF1b3RlKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZShyZXF1b3RlUmUsIFwiXFxcXCQmXCIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRSZShuYW1lcykge1xuICByZXR1cm4gbmV3IFJlZ0V4cChcIl4oPzpcIiArIG5hbWVzLm1hcChyZXF1b3RlKS5qb2luKFwifFwiKSArIFwiKVwiLCBcImlcIik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdExvb2t1cChuYW1lcykge1xuICB2YXIgbWFwID0ge30sIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIG1hcFtuYW1lc1tpXS50b0xvd2VyQ2FzZSgpXSA9IGk7XG4gIHJldHVybiBtYXA7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheU51bWJlclN1bmRheShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMSkpO1xuICByZXR1cm4gbiA/IChkLncgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVdlZWtkYXlOdW1iZXJNb25kYXkoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDEpKTtcbiAgcmV0dXJuIG4gPyAoZC51ID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VXZWVrTnVtYmVyU3VuZGF5KGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuVSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla051bWJlcklTTyhkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLlYgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVdlZWtOdW1iZXJNb25kYXkoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5XID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VGdWxsWWVhcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgNCkpO1xuICByZXR1cm4gbiA/IChkLnkgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVllYXIoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC55ID0gK25bMF0gKyAoK25bMF0gPiA2OCA/IDE5MDAgOiAyMDAwKSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVpvbmUoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gL14oWil8KFsrLV1cXGRcXGQpKD86Oj8oXFxkXFxkKSk/Ly5leGVjKHN0cmluZy5zbGljZShpLCBpICsgNikpO1xuICByZXR1cm4gbiA/IChkLlogPSBuWzFdID8gMCA6IC0oblsyXSArIChuWzNdIHx8IFwiMDBcIikpLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlUXVhcnRlcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMSkpO1xuICByZXR1cm4gbiA/IChkLnEgPSBuWzBdICogMyAtIDMsIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNb250aE51bWJlcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLm0gPSBuWzBdIC0gMSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZURheU9mTW9udGgoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5kID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VEYXlPZlllYXIoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDMpKTtcbiAgcmV0dXJuIG4gPyAoZC5tID0gMCwgZC5kID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VIb3VyMjQoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5IID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNaW51dGVzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuTSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlU2Vjb25kcyhkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLlMgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1pbGxpc2Vjb25kcyhkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMykpO1xuICByZXR1cm4gbiA/IChkLkwgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1pY3Jvc2Vjb25kcyhkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgNikpO1xuICByZXR1cm4gbiA/IChkLkwgPSBNYXRoLmZsb29yKG5bMF0gLyAxMDAwKSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZUxpdGVyYWxQZXJjZW50KGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IHBlcmNlbnRSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMSkpO1xuICByZXR1cm4gbiA/IGkgKyBuWzBdLmxlbmd0aCA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVVuaXhUaW1lc3RhbXAoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICByZXR1cm4gbiA/IChkLlEgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVVuaXhUaW1lc3RhbXBTZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtcbiAgcmV0dXJuIG4gPyAoZC5zID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0RGF5T2ZNb250aChkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXREYXRlKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRIb3VyMjQoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0SG91cnMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhvdXIxMihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRIb3VycygpICUgMTIgfHwgMTIsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXlPZlllYXIoZCwgcCkge1xuICByZXR1cm4gcGFkKDEgKyB0aW1lRGF5LmNvdW50KHRpbWVZZWFyKGQpLCBkKSwgcCwgMyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1pbGxpc2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRNaWxsaXNlY29uZHMoKSwgcCwgMyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1pY3Jvc2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBmb3JtYXRNaWxsaXNlY29uZHMoZCwgcCkgKyBcIjAwMFwiO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRNb250aE51bWJlcihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRNb250aCgpICsgMSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1pbnV0ZXMoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0TWludXRlcygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0U2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRTZWNvbmRzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXZWVrZGF5TnVtYmVyTW9uZGF5KGQpIHtcbiAgdmFyIGRheSA9IGQuZ2V0RGF5KCk7XG4gIHJldHVybiBkYXkgPT09IDAgPyA3IDogZGF5O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXZWVrTnVtYmVyU3VuZGF5KGQsIHApIHtcbiAgcmV0dXJuIHBhZCh0aW1lU3VuZGF5LmNvdW50KHRpbWVZZWFyKGQpIC0gMSwgZCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXZWVrTnVtYmVySVNPKGQsIHApIHtcbiAgdmFyIGRheSA9IGQuZ2V0RGF5KCk7XG4gIGQgPSAoZGF5ID49IDQgfHwgZGF5ID09PSAwKSA/IHRpbWVUaHVyc2RheShkKSA6IHRpbWVUaHVyc2RheS5jZWlsKGQpO1xuICByZXR1cm4gcGFkKHRpbWVUaHVyc2RheS5jb3VudCh0aW1lWWVhcihkKSwgZCkgKyAodGltZVllYXIoZCkuZ2V0RGF5KCkgPT09IDQpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0V2Vla2RheU51bWJlclN1bmRheShkKSB7XG4gIHJldHVybiBkLmdldERheSgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXZWVrTnVtYmVyTW9uZGF5KGQsIHApIHtcbiAgcmV0dXJuIHBhZCh0aW1lTW9uZGF5LmNvdW50KHRpbWVZZWFyKGQpIC0gMSwgZCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldEZ1bGxZZWFyKCkgJSAxMDAsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRGdWxsWWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRGdWxsWWVhcigpICUgMTAwMDAsIHAsIDQpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRab25lKGQpIHtcbiAgdmFyIHogPSBkLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gIHJldHVybiAoeiA+IDAgPyBcIi1cIiA6ICh6ICo9IC0xLCBcIitcIikpXG4gICAgICArIHBhZCh6IC8gNjAgfCAwLCBcIjBcIiwgMilcbiAgICAgICsgcGFkKHogJSA2MCwgXCIwXCIsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENEYXlPZk1vbnRoKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0RhdGUoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ0hvdXIyNChkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENIb3VycygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDSG91cjEyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0hvdXJzKCkgJSAxMiB8fCAxMiwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ0RheU9mWWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoMSArIHV0Y0RheS5jb3VudCh1dGNZZWFyKGQpLCBkKSwgcCwgMyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ01pbGxpc2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENNaWxsaXNlY29uZHMoKSwgcCwgMyk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ01pY3Jvc2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBmb3JtYXRVVENNaWxsaXNlY29uZHMoZCwgcCkgKyBcIjAwMFwiO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENNb250aE51bWJlcihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENNb250aCgpICsgMSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ01pbnV0ZXMoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDTWludXRlcygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDU2Vjb25kcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENTZWNvbmRzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrZGF5TnVtYmVyTW9uZGF5KGQpIHtcbiAgdmFyIGRvdyA9IGQuZ2V0VVRDRGF5KCk7XG4gIHJldHVybiBkb3cgPT09IDAgPyA3IDogZG93O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrTnVtYmVyU3VuZGF5KGQsIHApIHtcbiAgcmV0dXJuIHBhZCh1dGNTdW5kYXkuY291bnQodXRjWWVhcihkKSAtIDEsIGQpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDV2Vla051bWJlcklTTyhkLCBwKSB7XG4gIHZhciBkYXkgPSBkLmdldFVUQ0RheSgpO1xuICBkID0gKGRheSA+PSA0IHx8IGRheSA9PT0gMCkgPyB1dGNUaHVyc2RheShkKSA6IHV0Y1RodXJzZGF5LmNlaWwoZCk7XG4gIHJldHVybiBwYWQodXRjVGh1cnNkYXkuY291bnQodXRjWWVhcihkKSwgZCkgKyAodXRjWWVhcihkKS5nZXRVVENEYXkoKSA9PT0gNCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrZGF5TnVtYmVyU3VuZGF5KGQpIHtcbiAgcmV0dXJuIGQuZ2V0VVRDRGF5KCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtOdW1iZXJNb25kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHV0Y01vbmRheS5jb3VudCh1dGNZZWFyKGQpIC0gMSwgZCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0Z1bGxZZWFyKCkgJSAxMDAsIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENGdWxsWWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENGdWxsWWVhcigpICUgMTAwMDAsIHAsIDQpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENab25lKCkge1xuICByZXR1cm4gXCIrMDAwMFwiO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRMaXRlcmFsUGVyY2VudCgpIHtcbiAgcmV0dXJuIFwiJVwiO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVbml4VGltZXN0YW1wKGQpIHtcbiAgcmV0dXJuICtkO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVbml4VGltZXN0YW1wU2Vjb25kcyhkKSB7XG4gIHJldHVybiBNYXRoLmZsb29yKCtkIC8gMTAwMCk7XG59XG4iLCJpbXBvcnQgZm9ybWF0TG9jYWxlIGZyb20gXCIuL2xvY2FsZS5qc1wiO1xuXG52YXIgbG9jYWxlO1xuZXhwb3J0IHZhciB0aW1lRm9ybWF0O1xuZXhwb3J0IHZhciB0aW1lUGFyc2U7XG5leHBvcnQgdmFyIHV0Y0Zvcm1hdDtcbmV4cG9ydCB2YXIgdXRjUGFyc2U7XG5cbmRlZmF1bHRMb2NhbGUoe1xuICBkYXRlVGltZTogXCIleCwgJVhcIixcbiAgZGF0ZTogXCIlLW0vJS1kLyVZXCIsXG4gIHRpbWU6IFwiJS1JOiVNOiVTICVwXCIsXG4gIHBlcmlvZHM6IFtcIkFNXCIsIFwiUE1cIl0sXG4gIGRheXM6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdLFxuICBzaG9ydERheXM6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcbiAgbW9udGhzOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXSxcbiAgc2hvcnRNb250aHM6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRMb2NhbGUoZGVmaW5pdGlvbikge1xuICBsb2NhbGUgPSBmb3JtYXRMb2NhbGUoZGVmaW5pdGlvbik7XG4gIHRpbWVGb3JtYXQgPSBsb2NhbGUuZm9ybWF0O1xuICB0aW1lUGFyc2UgPSBsb2NhbGUucGFyc2U7XG4gIHV0Y0Zvcm1hdCA9IGxvY2FsZS51dGNGb3JtYXQ7XG4gIHV0Y1BhcnNlID0gbG9jYWxlLnV0Y1BhcnNlO1xuICByZXR1cm4gbG9jYWxlO1xufVxuIiwiaW1wb3J0IHtiaXNlY3RvciwgdGlja1N0ZXB9IGZyb20gXCJkMy1hcnJheVwiO1xuaW1wb3J0IHt0aW1lWWVhciwgdGltZU1vbnRoLCB0aW1lV2VlaywgdGltZURheSwgdGltZUhvdXIsIHRpbWVNaW51dGUsIHRpbWVTZWNvbmQsIHRpbWVNaWxsaXNlY29uZH0gZnJvbSBcImQzLXRpbWVcIjtcbmltcG9ydCB7dGltZUZvcm1hdH0gZnJvbSBcImQzLXRpbWUtZm9ybWF0XCI7XG5pbXBvcnQge21hcH0gZnJvbSBcIi4vYXJyYXlcIjtcbmltcG9ydCBjb250aW51b3VzLCB7Y29weSwgaWRlbnRpdHl9IGZyb20gXCIuL2NvbnRpbnVvdXNcIjtcbmltcG9ydCB7aW5pdFJhbmdlfSBmcm9tIFwiLi9pbml0XCI7XG5pbXBvcnQgbmljZSBmcm9tIFwiLi9uaWNlXCI7XG5cbnZhciBkdXJhdGlvblNlY29uZCA9IDEwMDAsXG4gICAgZHVyYXRpb25NaW51dGUgPSBkdXJhdGlvblNlY29uZCAqIDYwLFxuICAgIGR1cmF0aW9uSG91ciA9IGR1cmF0aW9uTWludXRlICogNjAsXG4gICAgZHVyYXRpb25EYXkgPSBkdXJhdGlvbkhvdXIgKiAyNCxcbiAgICBkdXJhdGlvbldlZWsgPSBkdXJhdGlvbkRheSAqIDcsXG4gICAgZHVyYXRpb25Nb250aCA9IGR1cmF0aW9uRGF5ICogMzAsXG4gICAgZHVyYXRpb25ZZWFyID0gZHVyYXRpb25EYXkgKiAzNjU7XG5cbmZ1bmN0aW9uIGRhdGUodCkge1xuICByZXR1cm4gbmV3IERhdGUodCk7XG59XG5cbmZ1bmN0aW9uIG51bWJlcih0KSB7XG4gIHJldHVybiB0IGluc3RhbmNlb2YgRGF0ZSA/ICt0IDogK25ldyBEYXRlKCt0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGVuZGFyKHllYXIsIG1vbnRoLCB3ZWVrLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZCwgZm9ybWF0KSB7XG4gIHZhciBzY2FsZSA9IGNvbnRpbnVvdXMoaWRlbnRpdHksIGlkZW50aXR5KSxcbiAgICAgIGludmVydCA9IHNjYWxlLmludmVydCxcbiAgICAgIGRvbWFpbiA9IHNjYWxlLmRvbWFpbjtcblxuICB2YXIgZm9ybWF0TWlsbGlzZWNvbmQgPSBmb3JtYXQoXCIuJUxcIiksXG4gICAgICBmb3JtYXRTZWNvbmQgPSBmb3JtYXQoXCI6JVNcIiksXG4gICAgICBmb3JtYXRNaW51dGUgPSBmb3JtYXQoXCIlSTolTVwiKSxcbiAgICAgIGZvcm1hdEhvdXIgPSBmb3JtYXQoXCIlSSAlcFwiKSxcbiAgICAgIGZvcm1hdERheSA9IGZvcm1hdChcIiVhICVkXCIpLFxuICAgICAgZm9ybWF0V2VlayA9IGZvcm1hdChcIiViICVkXCIpLFxuICAgICAgZm9ybWF0TW9udGggPSBmb3JtYXQoXCIlQlwiKSxcbiAgICAgIGZvcm1hdFllYXIgPSBmb3JtYXQoXCIlWVwiKTtcblxuICB2YXIgdGlja0ludGVydmFscyA9IFtcbiAgICBbc2Vjb25kLCAgMSwgICAgICBkdXJhdGlvblNlY29uZF0sXG4gICAgW3NlY29uZCwgIDUsICA1ICogZHVyYXRpb25TZWNvbmRdLFxuICAgIFtzZWNvbmQsIDE1LCAxNSAqIGR1cmF0aW9uU2Vjb25kXSxcbiAgICBbc2Vjb25kLCAzMCwgMzAgKiBkdXJhdGlvblNlY29uZF0sXG4gICAgW21pbnV0ZSwgIDEsICAgICAgZHVyYXRpb25NaW51dGVdLFxuICAgIFttaW51dGUsICA1LCAgNSAqIGR1cmF0aW9uTWludXRlXSxcbiAgICBbbWludXRlLCAxNSwgMTUgKiBkdXJhdGlvbk1pbnV0ZV0sXG4gICAgW21pbnV0ZSwgMzAsIDMwICogZHVyYXRpb25NaW51dGVdLFxuICAgIFsgIGhvdXIsICAxLCAgICAgIGR1cmF0aW9uSG91ciAgXSxcbiAgICBbICBob3VyLCAgMywgIDMgKiBkdXJhdGlvbkhvdXIgIF0sXG4gICAgWyAgaG91ciwgIDYsICA2ICogZHVyYXRpb25Ib3VyICBdLFxuICAgIFsgIGhvdXIsIDEyLCAxMiAqIGR1cmF0aW9uSG91ciAgXSxcbiAgICBbICAgZGF5LCAgMSwgICAgICBkdXJhdGlvbkRheSAgIF0sXG4gICAgWyAgIGRheSwgIDIsICAyICogZHVyYXRpb25EYXkgICBdLFxuICAgIFsgIHdlZWssICAxLCAgICAgIGR1cmF0aW9uV2VlayAgXSxcbiAgICBbIG1vbnRoLCAgMSwgICAgICBkdXJhdGlvbk1vbnRoIF0sXG4gICAgWyBtb250aCwgIDMsICAzICogZHVyYXRpb25Nb250aCBdLFxuICAgIFsgIHllYXIsICAxLCAgICAgIGR1cmF0aW9uWWVhciAgXVxuICBdO1xuXG4gIGZ1bmN0aW9uIHRpY2tGb3JtYXQoZGF0ZSkge1xuICAgIHJldHVybiAoc2Vjb25kKGRhdGUpIDwgZGF0ZSA/IGZvcm1hdE1pbGxpc2Vjb25kXG4gICAgICAgIDogbWludXRlKGRhdGUpIDwgZGF0ZSA/IGZvcm1hdFNlY29uZFxuICAgICAgICA6IGhvdXIoZGF0ZSkgPCBkYXRlID8gZm9ybWF0TWludXRlXG4gICAgICAgIDogZGF5KGRhdGUpIDwgZGF0ZSA/IGZvcm1hdEhvdXJcbiAgICAgICAgOiBtb250aChkYXRlKSA8IGRhdGUgPyAod2VlayhkYXRlKSA8IGRhdGUgPyBmb3JtYXREYXkgOiBmb3JtYXRXZWVrKVxuICAgICAgICA6IHllYXIoZGF0ZSkgPCBkYXRlID8gZm9ybWF0TW9udGhcbiAgICAgICAgOiBmb3JtYXRZZWFyKShkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpY2tJbnRlcnZhbChpbnRlcnZhbCwgc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoaW50ZXJ2YWwgPT0gbnVsbCkgaW50ZXJ2YWwgPSAxMDtcblxuICAgIC8vIElmIGEgZGVzaXJlZCB0aWNrIGNvdW50IGlzIHNwZWNpZmllZCwgcGljayBhIHJlYXNvbmFibGUgdGljayBpbnRlcnZhbFxuICAgIC8vIGJhc2VkIG9uIHRoZSBleHRlbnQgb2YgdGhlIGRvbWFpbiBhbmQgYSByb3VnaCBlc3RpbWF0ZSBvZiB0aWNrIHNpemUuXG4gICAgLy8gT3RoZXJ3aXNlLCBhc3N1bWUgaW50ZXJ2YWwgaXMgYWxyZWFkeSBhIHRpbWUgaW50ZXJ2YWwgYW5kIHVzZSBpdC5cbiAgICBpZiAodHlwZW9mIGludGVydmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gTWF0aC5hYnMoc3RvcCAtIHN0YXJ0KSAvIGludGVydmFsLFxuICAgICAgICAgIGkgPSBiaXNlY3RvcihmdW5jdGlvbihpKSB7IHJldHVybiBpWzJdOyB9KS5yaWdodCh0aWNrSW50ZXJ2YWxzLCB0YXJnZXQpO1xuICAgICAgaWYgKGkgPT09IHRpY2tJbnRlcnZhbHMubGVuZ3RoKSB7XG4gICAgICAgIHN0ZXAgPSB0aWNrU3RlcChzdGFydCAvIGR1cmF0aW9uWWVhciwgc3RvcCAvIGR1cmF0aW9uWWVhciwgaW50ZXJ2YWwpO1xuICAgICAgICBpbnRlcnZhbCA9IHllYXI7XG4gICAgICB9IGVsc2UgaWYgKGkpIHtcbiAgICAgICAgaSA9IHRpY2tJbnRlcnZhbHNbdGFyZ2V0IC8gdGlja0ludGVydmFsc1tpIC0gMV1bMl0gPCB0aWNrSW50ZXJ2YWxzW2ldWzJdIC8gdGFyZ2V0ID8gaSAtIDEgOiBpXTtcbiAgICAgICAgc3RlcCA9IGlbMV07XG4gICAgICAgIGludGVydmFsID0gaVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ZXAgPSBNYXRoLm1heCh0aWNrU3RlcChzdGFydCwgc3RvcCwgaW50ZXJ2YWwpLCAxKTtcbiAgICAgICAgaW50ZXJ2YWwgPSBtaWxsaXNlY29uZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RlcCA9PSBudWxsID8gaW50ZXJ2YWwgOiBpbnRlcnZhbC5ldmVyeShzdGVwKTtcbiAgfVxuXG4gIHNjYWxlLmludmVydCA9IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoaW52ZXJ0KHkpKTtcbiAgfTtcblxuICBzY2FsZS5kb21haW4gPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBkb21haW4obWFwLmNhbGwoXywgbnVtYmVyKSkgOiBkb21haW4oKS5tYXAoZGF0ZSk7XG4gIH07XG5cbiAgc2NhbGUudGlja3MgPSBmdW5jdGlvbihpbnRlcnZhbCwgc3RlcCkge1xuICAgIHZhciBkID0gZG9tYWluKCksXG4gICAgICAgIHQwID0gZFswXSxcbiAgICAgICAgdDEgPSBkW2QubGVuZ3RoIC0gMV0sXG4gICAgICAgIHIgPSB0MSA8IHQwLFxuICAgICAgICB0O1xuICAgIGlmIChyKSB0ID0gdDAsIHQwID0gdDEsIHQxID0gdDtcbiAgICB0ID0gdGlja0ludGVydmFsKGludGVydmFsLCB0MCwgdDEsIHN0ZXApO1xuICAgIHQgPSB0ID8gdC5yYW5nZSh0MCwgdDEgKyAxKSA6IFtdOyAvLyBpbmNsdXNpdmUgc3RvcFxuICAgIHJldHVybiByID8gdC5yZXZlcnNlKCkgOiB0O1xuICB9O1xuXG4gIHNjYWxlLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihjb3VudCwgc3BlY2lmaWVyKSB7XG4gICAgcmV0dXJuIHNwZWNpZmllciA9PSBudWxsID8gdGlja0Zvcm1hdCA6IGZvcm1hdChzcGVjaWZpZXIpO1xuICB9O1xuXG4gIHNjYWxlLm5pY2UgPSBmdW5jdGlvbihpbnRlcnZhbCwgc3RlcCkge1xuICAgIHZhciBkID0gZG9tYWluKCk7XG4gICAgcmV0dXJuIChpbnRlcnZhbCA9IHRpY2tJbnRlcnZhbChpbnRlcnZhbCwgZFswXSwgZFtkLmxlbmd0aCAtIDFdLCBzdGVwKSlcbiAgICAgICAgPyBkb21haW4obmljZShkLCBpbnRlcnZhbCkpXG4gICAgICAgIDogc2NhbGU7XG4gIH07XG5cbiAgc2NhbGUuY29weSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb3B5KHNjYWxlLCBjYWxlbmRhcih5ZWFyLCBtb250aCwgd2VlaywgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmQsIGZvcm1hdCkpO1xuICB9O1xuXG4gIHJldHVybiBzY2FsZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBpbml0UmFuZ2UuYXBwbHkoY2FsZW5kYXIodGltZVllYXIsIHRpbWVNb250aCwgdGltZVdlZWssIHRpbWVEYXksIHRpbWVIb3VyLCB0aW1lTWludXRlLCB0aW1lU2Vjb25kLCB0aW1lTWlsbGlzZWNvbmQsIHRpbWVGb3JtYXQpLmRvbWFpbihbbmV3IERhdGUoMjAwMCwgMCwgMSksIG5ldyBEYXRlKDIwMDAsIDAsIDIpXSksIGFyZ3VtZW50cyk7XG59XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcblxudmFyIHV0Y01vbnRoID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ0RhdGUoMSk7XG4gIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VVRDTW9udGgoZGF0ZS5nZXRVVENNb250aCgpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBlbmQuZ2V0VVRDTW9udGgoKSAtIHN0YXJ0LmdldFVUQ01vbnRoKCkgKyAoZW5kLmdldFVUQ0Z1bGxZZWFyKCkgLSBzdGFydC5nZXRVVENGdWxsWWVhcigpKSAqIDEyO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENNb250aCgpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0Y01vbnRoO1xuZXhwb3J0IHZhciB1dGNNb250aHMgPSB1dGNNb250aC5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbkhvdXJ9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbnZhciB1dGNIb3VyID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ01pbnV0ZXMoMCwgMCwgMCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXAgKiBkdXJhdGlvbkhvdXIpO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uSG91cjtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDSG91cnMoKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1dGNIb3VyO1xuZXhwb3J0IHZhciB1dGNIb3VycyA9IHV0Y0hvdXIucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25NaW51dGV9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbnZhciB1dGNNaW51dGUgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VVRDU2Vjb25kcygwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRUaW1lKCtkYXRlICsgc3RlcCAqIGR1cmF0aW9uTWludXRlKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbk1pbnV0ZTtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDTWludXRlcygpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0Y01pbnV0ZTtcbmV4cG9ydCB2YXIgdXRjTWludXRlcyA9IHV0Y01pbnV0ZS5yYW5nZTtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbnN0YW50KCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiZXhwb3J0IHZhciBhYnMgPSBNYXRoLmFicztcbmV4cG9ydCB2YXIgYXRhbjIgPSBNYXRoLmF0YW4yO1xuZXhwb3J0IHZhciBjb3MgPSBNYXRoLmNvcztcbmV4cG9ydCB2YXIgbWF4ID0gTWF0aC5tYXg7XG5leHBvcnQgdmFyIG1pbiA9IE1hdGgubWluO1xuZXhwb3J0IHZhciBzaW4gPSBNYXRoLnNpbjtcbmV4cG9ydCB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuZXhwb3J0IHZhciBlcHNpbG9uID0gMWUtMTI7XG5leHBvcnQgdmFyIHBpID0gTWF0aC5QSTtcbmV4cG9ydCB2YXIgaGFsZlBpID0gcGkgLyAyO1xuZXhwb3J0IHZhciB0YXUgPSAyICogcGk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY29zKHgpIHtcbiAgcmV0dXJuIHggPiAxID8gMCA6IHggPCAtMSA/IHBpIDogTWF0aC5hY29zKHgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNpbih4KSB7XG4gIHJldHVybiB4ID49IDEgPyBoYWxmUGkgOiB4IDw9IC0xID8gLWhhbGZQaSA6IE1hdGguYXNpbih4KTtcbn1cbiIsImltcG9ydCB7cGF0aH0gZnJvbSBcImQzLXBhdGhcIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuaW1wb3J0IHthYnMsIGFjb3MsIGFzaW4sIGF0YW4yLCBjb3MsIGVwc2lsb24sIGhhbGZQaSwgbWF4LCBtaW4sIHBpLCBzaW4sIHNxcnQsIHRhdX0gZnJvbSBcIi4vbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBhcmNJbm5lclJhZGl1cyhkKSB7XG4gIHJldHVybiBkLmlubmVyUmFkaXVzO1xufVxuXG5mdW5jdGlvbiBhcmNPdXRlclJhZGl1cyhkKSB7XG4gIHJldHVybiBkLm91dGVyUmFkaXVzO1xufVxuXG5mdW5jdGlvbiBhcmNTdGFydEFuZ2xlKGQpIHtcbiAgcmV0dXJuIGQuc3RhcnRBbmdsZTtcbn1cblxuZnVuY3Rpb24gYXJjRW5kQW5nbGUoZCkge1xuICByZXR1cm4gZC5lbmRBbmdsZTtcbn1cblxuZnVuY3Rpb24gYXJjUGFkQW5nbGUoZCkge1xuICByZXR1cm4gZCAmJiBkLnBhZEFuZ2xlOyAvLyBOb3RlOiBvcHRpb25hbCFcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0KHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICB2YXIgeDEwID0geDEgLSB4MCwgeTEwID0geTEgLSB5MCxcbiAgICAgIHgzMiA9IHgzIC0geDIsIHkzMiA9IHkzIC0geTIsXG4gICAgICB0ID0geTMyICogeDEwIC0geDMyICogeTEwO1xuICBpZiAodCAqIHQgPCBlcHNpbG9uKSByZXR1cm47XG4gIHQgPSAoeDMyICogKHkwIC0geTIpIC0geTMyICogKHgwIC0geDIpKSAvIHQ7XG4gIHJldHVybiBbeDAgKyB0ICogeDEwLCB5MCArIHQgKiB5MTBdO1xufVxuXG4vLyBDb21wdXRlIHBlcnBlbmRpY3VsYXIgb2Zmc2V0IGxpbmUgb2YgbGVuZ3RoIHJjLlxuLy8gaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9DaXJjbGUtTGluZUludGVyc2VjdGlvbi5odG1sXG5mdW5jdGlvbiBjb3JuZXJUYW5nZW50cyh4MCwgeTAsIHgxLCB5MSwgcjEsIHJjLCBjdykge1xuICB2YXIgeDAxID0geDAgLSB4MSxcbiAgICAgIHkwMSA9IHkwIC0geTEsXG4gICAgICBsbyA9IChjdyA/IHJjIDogLXJjKSAvIHNxcnQoeDAxICogeDAxICsgeTAxICogeTAxKSxcbiAgICAgIG94ID0gbG8gKiB5MDEsXG4gICAgICBveSA9IC1sbyAqIHgwMSxcbiAgICAgIHgxMSA9IHgwICsgb3gsXG4gICAgICB5MTEgPSB5MCArIG95LFxuICAgICAgeDEwID0geDEgKyBveCxcbiAgICAgIHkxMCA9IHkxICsgb3ksXG4gICAgICB4MDAgPSAoeDExICsgeDEwKSAvIDIsXG4gICAgICB5MDAgPSAoeTExICsgeTEwKSAvIDIsXG4gICAgICBkeCA9IHgxMCAtIHgxMSxcbiAgICAgIGR5ID0geTEwIC0geTExLFxuICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeSxcbiAgICAgIHIgPSByMSAtIHJjLFxuICAgICAgRCA9IHgxMSAqIHkxMCAtIHgxMCAqIHkxMSxcbiAgICAgIGQgPSAoZHkgPCAwID8gLTEgOiAxKSAqIHNxcnQobWF4KDAsIHIgKiByICogZDIgLSBEICogRCkpLFxuICAgICAgY3gwID0gKEQgKiBkeSAtIGR4ICogZCkgLyBkMixcbiAgICAgIGN5MCA9ICgtRCAqIGR4IC0gZHkgKiBkKSAvIGQyLFxuICAgICAgY3gxID0gKEQgKiBkeSArIGR4ICogZCkgLyBkMixcbiAgICAgIGN5MSA9ICgtRCAqIGR4ICsgZHkgKiBkKSAvIGQyLFxuICAgICAgZHgwID0gY3gwIC0geDAwLFxuICAgICAgZHkwID0gY3kwIC0geTAwLFxuICAgICAgZHgxID0gY3gxIC0geDAwLFxuICAgICAgZHkxID0gY3kxIC0geTAwO1xuXG4gIC8vIFBpY2sgdGhlIGNsb3NlciBvZiB0aGUgdHdvIGludGVyc2VjdGlvbiBwb2ludHMuXG4gIC8vIFRPRE8gSXMgdGhlcmUgYSBmYXN0ZXIgd2F5IHRvIGRldGVybWluZSB3aGljaCBpbnRlcnNlY3Rpb24gdG8gdXNlP1xuICBpZiAoZHgwICogZHgwICsgZHkwICogZHkwID4gZHgxICogZHgxICsgZHkxICogZHkxKSBjeDAgPSBjeDEsIGN5MCA9IGN5MTtcblxuICByZXR1cm4ge1xuICAgIGN4OiBjeDAsXG4gICAgY3k6IGN5MCxcbiAgICB4MDE6IC1veCxcbiAgICB5MDE6IC1veSxcbiAgICB4MTE6IGN4MCAqIChyMSAvIHIgLSAxKSxcbiAgICB5MTE6IGN5MCAqIChyMSAvIHIgLSAxKVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGlubmVyUmFkaXVzID0gYXJjSW5uZXJSYWRpdXMsXG4gICAgICBvdXRlclJhZGl1cyA9IGFyY091dGVyUmFkaXVzLFxuICAgICAgY29ybmVyUmFkaXVzID0gY29uc3RhbnQoMCksXG4gICAgICBwYWRSYWRpdXMgPSBudWxsLFxuICAgICAgc3RhcnRBbmdsZSA9IGFyY1N0YXJ0QW5nbGUsXG4gICAgICBlbmRBbmdsZSA9IGFyY0VuZEFuZ2xlLFxuICAgICAgcGFkQW5nbGUgPSBhcmNQYWRBbmdsZSxcbiAgICAgIGNvbnRleHQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGFyYygpIHtcbiAgICB2YXIgYnVmZmVyLFxuICAgICAgICByLFxuICAgICAgICByMCA9ICtpbm5lclJhZGl1cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICByMSA9ICtvdXRlclJhZGl1cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICBhMCA9IHN0YXJ0QW5nbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSAtIGhhbGZQaSxcbiAgICAgICAgYTEgPSBlbmRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIC0gaGFsZlBpLFxuICAgICAgICBkYSA9IGFicyhhMSAtIGEwKSxcbiAgICAgICAgY3cgPSBhMSA+IGEwO1xuXG4gICAgaWYgKCFjb250ZXh0KSBjb250ZXh0ID0gYnVmZmVyID0gcGF0aCgpO1xuXG4gICAgLy8gRW5zdXJlIHRoYXQgdGhlIG91dGVyIHJhZGl1cyBpcyBhbHdheXMgbGFyZ2VyIHRoYW4gdGhlIGlubmVyIHJhZGl1cy5cbiAgICBpZiAocjEgPCByMCkgciA9IHIxLCByMSA9IHIwLCByMCA9IHI7XG5cbiAgICAvLyBJcyBpdCBhIHBvaW50P1xuICAgIGlmICghKHIxID4gZXBzaWxvbikpIGNvbnRleHQubW92ZVRvKDAsIDApO1xuXG4gICAgLy8gT3IgaXMgaXQgYSBjaXJjbGUgb3IgYW5udWx1cz9cbiAgICBlbHNlIGlmIChkYSA+IHRhdSAtIGVwc2lsb24pIHtcbiAgICAgIGNvbnRleHQubW92ZVRvKHIxICogY29zKGEwKSwgcjEgKiBzaW4oYTApKTtcbiAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHIxLCBhMCwgYTEsICFjdyk7XG4gICAgICBpZiAocjAgPiBlcHNpbG9uKSB7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKHIwICogY29zKGExKSwgcjAgKiBzaW4oYTEpKTtcbiAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgcjAsIGExLCBhMCwgY3cpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9yIGlzIGl0IGEgY2lyY3VsYXIgb3IgYW5udWxhciBzZWN0b3I/XG4gICAgZWxzZSB7XG4gICAgICB2YXIgYTAxID0gYTAsXG4gICAgICAgICAgYTExID0gYTEsXG4gICAgICAgICAgYTAwID0gYTAsXG4gICAgICAgICAgYTEwID0gYTEsXG4gICAgICAgICAgZGEwID0gZGEsXG4gICAgICAgICAgZGExID0gZGEsXG4gICAgICAgICAgYXAgPSBwYWRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIC8gMixcbiAgICAgICAgICBycCA9IChhcCA+IGVwc2lsb24pICYmIChwYWRSYWRpdXMgPyArcGFkUmFkaXVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBzcXJ0KHIwICogcjAgKyByMSAqIHIxKSksXG4gICAgICAgICAgcmMgPSBtaW4oYWJzKHIxIC0gcjApIC8gMiwgK2Nvcm5lclJhZGl1cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSxcbiAgICAgICAgICByYzAgPSByYyxcbiAgICAgICAgICByYzEgPSByYyxcbiAgICAgICAgICB0MCxcbiAgICAgICAgICB0MTtcblxuICAgICAgLy8gQXBwbHkgcGFkZGluZz8gTm90ZSB0aGF0IHNpbmNlIHIxIOKJpSByMCwgZGExIOKJpSBkYTAuXG4gICAgICBpZiAocnAgPiBlcHNpbG9uKSB7XG4gICAgICAgIHZhciBwMCA9IGFzaW4ocnAgLyByMCAqIHNpbihhcCkpLFxuICAgICAgICAgICAgcDEgPSBhc2luKHJwIC8gcjEgKiBzaW4oYXApKTtcbiAgICAgICAgaWYgKChkYTAgLT0gcDAgKiAyKSA+IGVwc2lsb24pIHAwICo9IChjdyA/IDEgOiAtMSksIGEwMCArPSBwMCwgYTEwIC09IHAwO1xuICAgICAgICBlbHNlIGRhMCA9IDAsIGEwMCA9IGExMCA9IChhMCArIGExKSAvIDI7XG4gICAgICAgIGlmICgoZGExIC09IHAxICogMikgPiBlcHNpbG9uKSBwMSAqPSAoY3cgPyAxIDogLTEpLCBhMDEgKz0gcDEsIGExMSAtPSBwMTtcbiAgICAgICAgZWxzZSBkYTEgPSAwLCBhMDEgPSBhMTEgPSAoYTAgKyBhMSkgLyAyO1xuICAgICAgfVxuXG4gICAgICB2YXIgeDAxID0gcjEgKiBjb3MoYTAxKSxcbiAgICAgICAgICB5MDEgPSByMSAqIHNpbihhMDEpLFxuICAgICAgICAgIHgxMCA9IHIwICogY29zKGExMCksXG4gICAgICAgICAgeTEwID0gcjAgKiBzaW4oYTEwKTtcblxuICAgICAgLy8gQXBwbHkgcm91bmRlZCBjb3JuZXJzP1xuICAgICAgaWYgKHJjID4gZXBzaWxvbikge1xuICAgICAgICB2YXIgeDExID0gcjEgKiBjb3MoYTExKSxcbiAgICAgICAgICAgIHkxMSA9IHIxICogc2luKGExMSksXG4gICAgICAgICAgICB4MDAgPSByMCAqIGNvcyhhMDApLFxuICAgICAgICAgICAgeTAwID0gcjAgKiBzaW4oYTAwKSxcbiAgICAgICAgICAgIG9jO1xuXG4gICAgICAgIC8vIFJlc3RyaWN0IHRoZSBjb3JuZXIgcmFkaXVzIGFjY29yZGluZyB0byB0aGUgc2VjdG9yIGFuZ2xlLlxuICAgICAgICBpZiAoZGEgPCBwaSAmJiAob2MgPSBpbnRlcnNlY3QoeDAxLCB5MDEsIHgwMCwgeTAwLCB4MTEsIHkxMSwgeDEwLCB5MTApKSkge1xuICAgICAgICAgIHZhciBheCA9IHgwMSAtIG9jWzBdLFxuICAgICAgICAgICAgICBheSA9IHkwMSAtIG9jWzFdLFxuICAgICAgICAgICAgICBieCA9IHgxMSAtIG9jWzBdLFxuICAgICAgICAgICAgICBieSA9IHkxMSAtIG9jWzFdLFxuICAgICAgICAgICAgICBrYyA9IDEgLyBzaW4oYWNvcygoYXggKiBieCArIGF5ICogYnkpIC8gKHNxcnQoYXggKiBheCArIGF5ICogYXkpICogc3FydChieCAqIGJ4ICsgYnkgKiBieSkpKSAvIDIpLFxuICAgICAgICAgICAgICBsYyA9IHNxcnQob2NbMF0gKiBvY1swXSArIG9jWzFdICogb2NbMV0pO1xuICAgICAgICAgIHJjMCA9IG1pbihyYywgKHIwIC0gbGMpIC8gKGtjIC0gMSkpO1xuICAgICAgICAgIHJjMSA9IG1pbihyYywgKHIxIC0gbGMpIC8gKGtjICsgMSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElzIHRoZSBzZWN0b3IgY29sbGFwc2VkIHRvIGEgbGluZT9cbiAgICAgIGlmICghKGRhMSA+IGVwc2lsb24pKSBjb250ZXh0Lm1vdmVUbyh4MDEsIHkwMSk7XG5cbiAgICAgIC8vIERvZXMgdGhlIHNlY3RvcuKAmXMgb3V0ZXIgcmluZyBoYXZlIHJvdW5kZWQgY29ybmVycz9cbiAgICAgIGVsc2UgaWYgKHJjMSA+IGVwc2lsb24pIHtcbiAgICAgICAgdDAgPSBjb3JuZXJUYW5nZW50cyh4MDAsIHkwMCwgeDAxLCB5MDEsIHIxLCByYzEsIGN3KTtcbiAgICAgICAgdDEgPSBjb3JuZXJUYW5nZW50cyh4MTEsIHkxMSwgeDEwLCB5MTAsIHIxLCByYzEsIGN3KTtcblxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0MC5jeCArIHQwLngwMSwgdDAuY3kgKyB0MC55MDEpO1xuXG4gICAgICAgIC8vIEhhdmUgdGhlIGNvcm5lcnMgbWVyZ2VkP1xuICAgICAgICBpZiAocmMxIDwgcmMpIGNvbnRleHQuYXJjKHQwLmN4LCB0MC5jeSwgcmMxLCBhdGFuMih0MC55MDEsIHQwLngwMSksIGF0YW4yKHQxLnkwMSwgdDEueDAxKSwgIWN3KTtcblxuICAgICAgICAvLyBPdGhlcndpc2UsIGRyYXcgdGhlIHR3byBjb3JuZXJzIGFuZCB0aGUgcmluZy5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29udGV4dC5hcmModDAuY3gsIHQwLmN5LCByYzEsIGF0YW4yKHQwLnkwMSwgdDAueDAxKSwgYXRhbjIodDAueTExLCB0MC54MTEpLCAhY3cpO1xuICAgICAgICAgIGNvbnRleHQuYXJjKDAsIDAsIHIxLCBhdGFuMih0MC5jeSArIHQwLnkxMSwgdDAuY3ggKyB0MC54MTEpLCBhdGFuMih0MS5jeSArIHQxLnkxMSwgdDEuY3ggKyB0MS54MTEpLCAhY3cpO1xuICAgICAgICAgIGNvbnRleHQuYXJjKHQxLmN4LCB0MS5jeSwgcmMxLCBhdGFuMih0MS55MTEsIHQxLngxMSksIGF0YW4yKHQxLnkwMSwgdDEueDAxKSwgIWN3KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPciBpcyB0aGUgb3V0ZXIgcmluZyBqdXN0IGEgY2lyY3VsYXIgYXJjP1xuICAgICAgZWxzZSBjb250ZXh0Lm1vdmVUbyh4MDEsIHkwMSksIGNvbnRleHQuYXJjKDAsIDAsIHIxLCBhMDEsIGExMSwgIWN3KTtcblxuICAgICAgLy8gSXMgdGhlcmUgbm8gaW5uZXIgcmluZywgYW5kIGl04oCZcyBhIGNpcmN1bGFyIHNlY3Rvcj9cbiAgICAgIC8vIE9yIHBlcmhhcHMgaXTigJlzIGFuIGFubnVsYXIgc2VjdG9yIGNvbGxhcHNlZCBkdWUgdG8gcGFkZGluZz9cbiAgICAgIGlmICghKHIwID4gZXBzaWxvbikgfHwgIShkYTAgPiBlcHNpbG9uKSkgY29udGV4dC5saW5lVG8oeDEwLCB5MTApO1xuXG4gICAgICAvLyBEb2VzIHRoZSBzZWN0b3LigJlzIGlubmVyIHJpbmcgKG9yIHBvaW50KSBoYXZlIHJvdW5kZWQgY29ybmVycz9cbiAgICAgIGVsc2UgaWYgKHJjMCA+IGVwc2lsb24pIHtcbiAgICAgICAgdDAgPSBjb3JuZXJUYW5nZW50cyh4MTAsIHkxMCwgeDExLCB5MTEsIHIwLCAtcmMwLCBjdyk7XG4gICAgICAgIHQxID0gY29ybmVyVGFuZ2VudHMoeDAxLCB5MDEsIHgwMCwgeTAwLCByMCwgLXJjMCwgY3cpO1xuXG4gICAgICAgIGNvbnRleHQubGluZVRvKHQwLmN4ICsgdDAueDAxLCB0MC5jeSArIHQwLnkwMSk7XG5cbiAgICAgICAgLy8gSGF2ZSB0aGUgY29ybmVycyBtZXJnZWQ/XG4gICAgICAgIGlmIChyYzAgPCByYykgY29udGV4dC5hcmModDAuY3gsIHQwLmN5LCByYzAsIGF0YW4yKHQwLnkwMSwgdDAueDAxKSwgYXRhbjIodDEueTAxLCB0MS54MDEpLCAhY3cpO1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgZHJhdyB0aGUgdHdvIGNvcm5lcnMgYW5kIHRoZSByaW5nLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0LmFyYyh0MC5jeCwgdDAuY3ksIHJjMCwgYXRhbjIodDAueTAxLCB0MC54MDEpLCBhdGFuMih0MC55MTEsIHQwLngxMSksICFjdyk7XG4gICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgcjAsIGF0YW4yKHQwLmN5ICsgdDAueTExLCB0MC5jeCArIHQwLngxMSksIGF0YW4yKHQxLmN5ICsgdDEueTExLCB0MS5jeCArIHQxLngxMSksIGN3KTtcbiAgICAgICAgICBjb250ZXh0LmFyYyh0MS5jeCwgdDEuY3ksIHJjMCwgYXRhbjIodDEueTExLCB0MS54MTEpLCBhdGFuMih0MS55MDEsIHQxLngwMSksICFjdyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gT3IgaXMgdGhlIGlubmVyIHJpbmcganVzdCBhIGNpcmN1bGFyIGFyYz9cbiAgICAgIGVsc2UgY29udGV4dC5hcmMoMCwgMCwgcjAsIGExMCwgYTAwLCBjdyk7XG4gICAgfVxuXG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICAgIGlmIChidWZmZXIpIHJldHVybiBjb250ZXh0ID0gbnVsbCwgYnVmZmVyICsgXCJcIiB8fCBudWxsO1xuICB9XG5cbiAgYXJjLmNlbnRyb2lkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHIgPSAoK2lubmVyUmFkaXVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgKyArb3V0ZXJSYWRpdXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgLyAyLFxuICAgICAgICBhID0gKCtzdGFydEFuZ2xlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgKyArZW5kQW5nbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgLyAyIC0gcGkgLyAyO1xuICAgIHJldHVybiBbY29zKGEpICogciwgc2luKGEpICogcl07XG4gIH07XG5cbiAgYXJjLmlubmVyUmFkaXVzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGlubmVyUmFkaXVzID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIGFyYykgOiBpbm5lclJhZGl1cztcbiAgfTtcblxuICBhcmMub3V0ZXJSYWRpdXMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAob3V0ZXJSYWRpdXMgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgYXJjKSA6IG91dGVyUmFkaXVzO1xuICB9O1xuXG4gIGFyYy5jb3JuZXJSYWRpdXMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoY29ybmVyUmFkaXVzID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIGFyYykgOiBjb3JuZXJSYWRpdXM7XG4gIH07XG5cbiAgYXJjLnBhZFJhZGl1cyA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChwYWRSYWRpdXMgPSBfID09IG51bGwgPyBudWxsIDogdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIGFyYykgOiBwYWRSYWRpdXM7XG4gIH07XG5cbiAgYXJjLnN0YXJ0QW5nbGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc3RhcnRBbmdsZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBhcmMpIDogc3RhcnRBbmdsZTtcbiAgfTtcblxuICBhcmMuZW5kQW5nbGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZW5kQW5nbGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgYXJjKSA6IGVuZEFuZ2xlO1xuICB9O1xuXG4gIGFyYy5wYWRBbmdsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChwYWRBbmdsZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBhcmMpIDogcGFkQW5nbGU7XG4gIH07XG5cbiAgYXJjLmNvbnRleHQgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoKGNvbnRleHQgPSBfID09IG51bGwgPyBudWxsIDogXyksIGFyYykgOiBjb250ZXh0O1xuICB9O1xuXG4gIHJldHVybiBhcmM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBiIDwgYSA/IC0xIDogYiA+IGEgPyAxIDogYiA+PSBhID8gMCA6IE5hTjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGQpIHtcbiAgcmV0dXJuIGQ7XG59XG4iLCJpbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4vY29uc3RhbnQuanNcIjtcbmltcG9ydCBkZXNjZW5kaW5nIGZyb20gXCIuL2Rlc2NlbmRpbmcuanNcIjtcbmltcG9ydCBpZGVudGl0eSBmcm9tIFwiLi9pZGVudGl0eS5qc1wiO1xuaW1wb3J0IHt0YXV9IGZyb20gXCIuL21hdGguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciB2YWx1ZSA9IGlkZW50aXR5LFxuICAgICAgc29ydFZhbHVlcyA9IGRlc2NlbmRpbmcsXG4gICAgICBzb3J0ID0gbnVsbCxcbiAgICAgIHN0YXJ0QW5nbGUgPSBjb25zdGFudCgwKSxcbiAgICAgIGVuZEFuZ2xlID0gY29uc3RhbnQodGF1KSxcbiAgICAgIHBhZEFuZ2xlID0gY29uc3RhbnQoMCk7XG5cbiAgZnVuY3Rpb24gcGllKGRhdGEpIHtcbiAgICB2YXIgaSxcbiAgICAgICAgbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICBqLFxuICAgICAgICBrLFxuICAgICAgICBzdW0gPSAwLFxuICAgICAgICBpbmRleCA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgYXJjcyA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgYTAgPSArc3RhcnRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLFxuICAgICAgICBkYSA9IE1hdGgubWluKHRhdSwgTWF0aC5tYXgoLXRhdSwgZW5kQW5nbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSAtIGEwKSksXG4gICAgICAgIGExLFxuICAgICAgICBwID0gTWF0aC5taW4oTWF0aC5hYnMoZGEpIC8gbiwgcGFkQW5nbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSksXG4gICAgICAgIHBhID0gcCAqIChkYSA8IDAgPyAtMSA6IDEpLFxuICAgICAgICB2O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKCh2ID0gYXJjc1tpbmRleFtpXSA9IGldID0gK3ZhbHVlKGRhdGFbaV0sIGksIGRhdGEpKSA+IDApIHtcbiAgICAgICAgc3VtICs9IHY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT3B0aW9uYWxseSBzb3J0IHRoZSBhcmNzIGJ5IHByZXZpb3VzbHktY29tcHV0ZWQgdmFsdWVzIG9yIGJ5IGRhdGEuXG4gICAgaWYgKHNvcnRWYWx1ZXMgIT0gbnVsbCkgaW5kZXguc29ydChmdW5jdGlvbihpLCBqKSB7IHJldHVybiBzb3J0VmFsdWVzKGFyY3NbaV0sIGFyY3Nbal0pOyB9KTtcbiAgICBlbHNlIGlmIChzb3J0ICE9IG51bGwpIGluZGV4LnNvcnQoZnVuY3Rpb24oaSwgaikgeyByZXR1cm4gc29ydChkYXRhW2ldLCBkYXRhW2pdKTsgfSk7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBhcmNzISBUaGV5IGFyZSBzdG9yZWQgaW4gdGhlIG9yaWdpbmFsIGRhdGEncyBvcmRlci5cbiAgICBmb3IgKGkgPSAwLCBrID0gc3VtID8gKGRhIC0gbiAqIHBhKSAvIHN1bSA6IDA7IGkgPCBuOyArK2ksIGEwID0gYTEpIHtcbiAgICAgIGogPSBpbmRleFtpXSwgdiA9IGFyY3Nbal0sIGExID0gYTAgKyAodiA+IDAgPyB2ICogayA6IDApICsgcGEsIGFyY3Nbal0gPSB7XG4gICAgICAgIGRhdGE6IGRhdGFbal0sXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICB2YWx1ZTogdixcbiAgICAgICAgc3RhcnRBbmdsZTogYTAsXG4gICAgICAgIGVuZEFuZ2xlOiBhMSxcbiAgICAgICAgcGFkQW5nbGU6IHBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyY3M7XG4gIH1cblxuICBwaWUudmFsdWUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodmFsdWUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgcGllKSA6IHZhbHVlO1xuICB9O1xuXG4gIHBpZS5zb3J0VmFsdWVzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHNvcnRWYWx1ZXMgPSBfLCBzb3J0ID0gbnVsbCwgcGllKSA6IHNvcnRWYWx1ZXM7XG4gIH07XG5cbiAgcGllLnNvcnQgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc29ydCA9IF8sIHNvcnRWYWx1ZXMgPSBudWxsLCBwaWUpIDogc29ydDtcbiAgfTtcblxuICBwaWUuc3RhcnRBbmdsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzdGFydEFuZ2xlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIHBpZSkgOiBzdGFydEFuZ2xlO1xuICB9O1xuXG4gIHBpZS5lbmRBbmdsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChlbmRBbmdsZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBwaWUpIDogZW5kQW5nbGU7XG4gIH07XG5cbiAgcGllLnBhZEFuZ2xlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhZEFuZ2xlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIHBpZSkgOiBwYWRBbmdsZTtcbiAgfTtcblxuICByZXR1cm4gcGllO1xufVxuIiwiZnVuY3Rpb24gUmVkQmxhY2tUcmVlKCkge1xuICB0aGlzLl8gPSBudWxsOyAvLyByb290IG5vZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlZEJsYWNrTm9kZShub2RlKSB7XG4gIG5vZGUuVSA9IC8vIHBhcmVudCBub2RlXG4gIG5vZGUuQyA9IC8vIGNvbG9yIC0gdHJ1ZSBmb3IgcmVkLCBmYWxzZSBmb3IgYmxhY2tcbiAgbm9kZS5MID0gLy8gbGVmdCBub2RlXG4gIG5vZGUuUiA9IC8vIHJpZ2h0IG5vZGVcbiAgbm9kZS5QID0gLy8gcHJldmlvdXMgbm9kZVxuICBub2RlLk4gPSBudWxsOyAvLyBuZXh0IG5vZGVcbn1cblxuUmVkQmxhY2tUcmVlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFJlZEJsYWNrVHJlZSxcblxuICBpbnNlcnQ6IGZ1bmN0aW9uKGFmdGVyLCBub2RlKSB7XG4gICAgdmFyIHBhcmVudCwgZ3JhbmRwYSwgdW5jbGU7XG5cbiAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgIG5vZGUuUCA9IGFmdGVyO1xuICAgICAgbm9kZS5OID0gYWZ0ZXIuTjtcbiAgICAgIGlmIChhZnRlci5OKSBhZnRlci5OLlAgPSBub2RlO1xuICAgICAgYWZ0ZXIuTiA9IG5vZGU7XG4gICAgICBpZiAoYWZ0ZXIuUikge1xuICAgICAgICBhZnRlciA9IGFmdGVyLlI7XG4gICAgICAgIHdoaWxlIChhZnRlci5MKSBhZnRlciA9IGFmdGVyLkw7XG4gICAgICAgIGFmdGVyLkwgPSBub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWZ0ZXIuUiA9IG5vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBhZnRlcjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuXykge1xuICAgICAgYWZ0ZXIgPSBSZWRCbGFja0ZpcnN0KHRoaXMuXyk7XG4gICAgICBub2RlLlAgPSBudWxsO1xuICAgICAgbm9kZS5OID0gYWZ0ZXI7XG4gICAgICBhZnRlci5QID0gYWZ0ZXIuTCA9IG5vZGU7XG4gICAgICBwYXJlbnQgPSBhZnRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5QID0gbm9kZS5OID0gbnVsbDtcbiAgICAgIHRoaXMuXyA9IG5vZGU7XG4gICAgICBwYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBub2RlLkwgPSBub2RlLlIgPSBudWxsO1xuICAgIG5vZGUuVSA9IHBhcmVudDtcbiAgICBub2RlLkMgPSB0cnVlO1xuXG4gICAgYWZ0ZXIgPSBub2RlO1xuICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LkMpIHtcbiAgICAgIGdyYW5kcGEgPSBwYXJlbnQuVTtcbiAgICAgIGlmIChwYXJlbnQgPT09IGdyYW5kcGEuTCkge1xuICAgICAgICB1bmNsZSA9IGdyYW5kcGEuUjtcbiAgICAgICAgaWYgKHVuY2xlICYmIHVuY2xlLkMpIHtcbiAgICAgICAgICBwYXJlbnQuQyA9IHVuY2xlLkMgPSBmYWxzZTtcbiAgICAgICAgICBncmFuZHBhLkMgPSB0cnVlO1xuICAgICAgICAgIGFmdGVyID0gZ3JhbmRwYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYWZ0ZXIgPT09IHBhcmVudC5SKSB7XG4gICAgICAgICAgICBSZWRCbGFja1JvdGF0ZUxlZnQodGhpcywgcGFyZW50KTtcbiAgICAgICAgICAgIGFmdGVyID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gYWZ0ZXIuVTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50LkMgPSBmYWxzZTtcbiAgICAgICAgICBncmFuZHBhLkMgPSB0cnVlO1xuICAgICAgICAgIFJlZEJsYWNrUm90YXRlUmlnaHQodGhpcywgZ3JhbmRwYSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuY2xlID0gZ3JhbmRwYS5MO1xuICAgICAgICBpZiAodW5jbGUgJiYgdW5jbGUuQykge1xuICAgICAgICAgIHBhcmVudC5DID0gdW5jbGUuQyA9IGZhbHNlO1xuICAgICAgICAgIGdyYW5kcGEuQyA9IHRydWU7XG4gICAgICAgICAgYWZ0ZXIgPSBncmFuZHBhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhZnRlciA9PT0gcGFyZW50LkwpIHtcbiAgICAgICAgICAgIFJlZEJsYWNrUm90YXRlUmlnaHQodGhpcywgcGFyZW50KTtcbiAgICAgICAgICAgIGFmdGVyID0gcGFyZW50O1xuICAgICAgICAgICAgcGFyZW50ID0gYWZ0ZXIuVTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50LkMgPSBmYWxzZTtcbiAgICAgICAgICBncmFuZHBhLkMgPSB0cnVlO1xuICAgICAgICAgIFJlZEJsYWNrUm90YXRlTGVmdCh0aGlzLCBncmFuZHBhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGFyZW50ID0gYWZ0ZXIuVTtcbiAgICB9XG4gICAgdGhpcy5fLkMgPSBmYWxzZTtcbiAgfSxcblxuICByZW1vdmU6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAobm9kZS5OKSBub2RlLk4uUCA9IG5vZGUuUDtcbiAgICBpZiAobm9kZS5QKSBub2RlLlAuTiA9IG5vZGUuTjtcbiAgICBub2RlLk4gPSBub2RlLlAgPSBudWxsO1xuXG4gICAgdmFyIHBhcmVudCA9IG5vZGUuVSxcbiAgICAgICAgc2libGluZyxcbiAgICAgICAgbGVmdCA9IG5vZGUuTCxcbiAgICAgICAgcmlnaHQgPSBub2RlLlIsXG4gICAgICAgIG5leHQsXG4gICAgICAgIHJlZDtcblxuICAgIGlmICghbGVmdCkgbmV4dCA9IHJpZ2h0O1xuICAgIGVsc2UgaWYgKCFyaWdodCkgbmV4dCA9IGxlZnQ7XG4gICAgZWxzZSBuZXh0ID0gUmVkQmxhY2tGaXJzdChyaWdodCk7XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LkwgPT09IG5vZGUpIHBhcmVudC5MID0gbmV4dDtcbiAgICAgIGVsc2UgcGFyZW50LlIgPSBuZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl8gPSBuZXh0O1xuICAgIH1cblxuICAgIGlmIChsZWZ0ICYmIHJpZ2h0KSB7XG4gICAgICByZWQgPSBuZXh0LkM7XG4gICAgICBuZXh0LkMgPSBub2RlLkM7XG4gICAgICBuZXh0LkwgPSBsZWZ0O1xuICAgICAgbGVmdC5VID0gbmV4dDtcbiAgICAgIGlmIChuZXh0ICE9PSByaWdodCkge1xuICAgICAgICBwYXJlbnQgPSBuZXh0LlU7XG4gICAgICAgIG5leHQuVSA9IG5vZGUuVTtcbiAgICAgICAgbm9kZSA9IG5leHQuUjtcbiAgICAgICAgcGFyZW50LkwgPSBub2RlO1xuICAgICAgICBuZXh0LlIgPSByaWdodDtcbiAgICAgICAgcmlnaHQuVSA9IG5leHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0LlUgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudCA9IG5leHQ7XG4gICAgICAgIG5vZGUgPSBuZXh0LlI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZCA9IG5vZGUuQztcbiAgICAgIG5vZGUgPSBuZXh0O1xuICAgIH1cblxuICAgIGlmIChub2RlKSBub2RlLlUgPSBwYXJlbnQ7XG4gICAgaWYgKHJlZCkgcmV0dXJuO1xuICAgIGlmIChub2RlICYmIG5vZGUuQykgeyBub2RlLkMgPSBmYWxzZTsgcmV0dXJuOyB9XG5cbiAgICBkbyB7XG4gICAgICBpZiAobm9kZSA9PT0gdGhpcy5fKSBicmVhaztcbiAgICAgIGlmIChub2RlID09PSBwYXJlbnQuTCkge1xuICAgICAgICBzaWJsaW5nID0gcGFyZW50LlI7XG4gICAgICAgIGlmIChzaWJsaW5nLkMpIHtcbiAgICAgICAgICBzaWJsaW5nLkMgPSBmYWxzZTtcbiAgICAgICAgICBwYXJlbnQuQyA9IHRydWU7XG4gICAgICAgICAgUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMsIHBhcmVudCk7XG4gICAgICAgICAgc2libGluZyA9IHBhcmVudC5SO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2libGluZy5MICYmIHNpYmxpbmcuTC5DKVxuICAgICAgICAgICAgfHwgKHNpYmxpbmcuUiAmJiBzaWJsaW5nLlIuQykpIHtcbiAgICAgICAgICBpZiAoIXNpYmxpbmcuUiB8fCAhc2libGluZy5SLkMpIHtcbiAgICAgICAgICAgIHNpYmxpbmcuTC5DID0gZmFsc2U7XG4gICAgICAgICAgICBzaWJsaW5nLkMgPSB0cnVlO1xuICAgICAgICAgICAgUmVkQmxhY2tSb3RhdGVSaWdodCh0aGlzLCBzaWJsaW5nKTtcbiAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQuUjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2libGluZy5DID0gcGFyZW50LkM7XG4gICAgICAgICAgcGFyZW50LkMgPSBzaWJsaW5nLlIuQyA9IGZhbHNlO1xuICAgICAgICAgIFJlZEJsYWNrUm90YXRlTGVmdCh0aGlzLCBwYXJlbnQpO1xuICAgICAgICAgIG5vZGUgPSB0aGlzLl87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpYmxpbmcgPSBwYXJlbnQuTDtcbiAgICAgICAgaWYgKHNpYmxpbmcuQykge1xuICAgICAgICAgIHNpYmxpbmcuQyA9IGZhbHNlO1xuICAgICAgICAgIHBhcmVudC5DID0gdHJ1ZTtcbiAgICAgICAgICBSZWRCbGFja1JvdGF0ZVJpZ2h0KHRoaXMsIHBhcmVudCk7XG4gICAgICAgICAgc2libGluZyA9IHBhcmVudC5MO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2libGluZy5MICYmIHNpYmxpbmcuTC5DKVxuICAgICAgICAgIHx8IChzaWJsaW5nLlIgJiYgc2libGluZy5SLkMpKSB7XG4gICAgICAgICAgaWYgKCFzaWJsaW5nLkwgfHwgIXNpYmxpbmcuTC5DKSB7XG4gICAgICAgICAgICBzaWJsaW5nLlIuQyA9IGZhbHNlO1xuICAgICAgICAgICAgc2libGluZy5DID0gdHJ1ZTtcbiAgICAgICAgICAgIFJlZEJsYWNrUm90YXRlTGVmdCh0aGlzLCBzaWJsaW5nKTtcbiAgICAgICAgICAgIHNpYmxpbmcgPSBwYXJlbnQuTDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2libGluZy5DID0gcGFyZW50LkM7XG4gICAgICAgICAgcGFyZW50LkMgPSBzaWJsaW5nLkwuQyA9IGZhbHNlO1xuICAgICAgICAgIFJlZEJsYWNrUm90YXRlUmlnaHQodGhpcywgcGFyZW50KTtcbiAgICAgICAgICBub2RlID0gdGhpcy5fO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzaWJsaW5nLkMgPSB0cnVlO1xuICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5VO1xuICAgIH0gd2hpbGUgKCFub2RlLkMpO1xuXG4gICAgaWYgKG5vZGUpIG5vZGUuQyA9IGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBSZWRCbGFja1JvdGF0ZUxlZnQodHJlZSwgbm9kZSkge1xuICB2YXIgcCA9IG5vZGUsXG4gICAgICBxID0gbm9kZS5SLFxuICAgICAgcGFyZW50ID0gcC5VO1xuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBpZiAocGFyZW50LkwgPT09IHApIHBhcmVudC5MID0gcTtcbiAgICBlbHNlIHBhcmVudC5SID0gcTtcbiAgfSBlbHNlIHtcbiAgICB0cmVlLl8gPSBxO1xuICB9XG5cbiAgcS5VID0gcGFyZW50O1xuICBwLlUgPSBxO1xuICBwLlIgPSBxLkw7XG4gIGlmIChwLlIpIHAuUi5VID0gcDtcbiAgcS5MID0gcDtcbn1cblxuZnVuY3Rpb24gUmVkQmxhY2tSb3RhdGVSaWdodCh0cmVlLCBub2RlKSB7XG4gIHZhciBwID0gbm9kZSxcbiAgICAgIHEgPSBub2RlLkwsXG4gICAgICBwYXJlbnQgPSBwLlU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQuTCA9PT0gcCkgcGFyZW50LkwgPSBxO1xuICAgIGVsc2UgcGFyZW50LlIgPSBxO1xuICB9IGVsc2Uge1xuICAgIHRyZWUuXyA9IHE7XG4gIH1cblxuICBxLlUgPSBwYXJlbnQ7XG4gIHAuVSA9IHE7XG4gIHAuTCA9IHEuUjtcbiAgaWYgKHAuTCkgcC5MLlUgPSBwO1xuICBxLlIgPSBwO1xufVxuXG5mdW5jdGlvbiBSZWRCbGFja0ZpcnN0KG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUuTCkgbm9kZSA9IG5vZGUuTDtcbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZEJsYWNrVHJlZTtcbiIsImltcG9ydCB7Y2VsbHMsIGVkZ2VzLCBlcHNpbG9ufSBmcm9tIFwiLi9EaWFncmFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFZGdlKGxlZnQsIHJpZ2h0LCB2MCwgdjEpIHtcbiAgdmFyIGVkZ2UgPSBbbnVsbCwgbnVsbF0sXG4gICAgICBpbmRleCA9IGVkZ2VzLnB1c2goZWRnZSkgLSAxO1xuICBlZGdlLmxlZnQgPSBsZWZ0O1xuICBlZGdlLnJpZ2h0ID0gcmlnaHQ7XG4gIGlmICh2MCkgc2V0RWRnZUVuZChlZGdlLCBsZWZ0LCByaWdodCwgdjApO1xuICBpZiAodjEpIHNldEVkZ2VFbmQoZWRnZSwgcmlnaHQsIGxlZnQsIHYxKTtcbiAgY2VsbHNbbGVmdC5pbmRleF0uaGFsZmVkZ2VzLnB1c2goaW5kZXgpO1xuICBjZWxsc1tyaWdodC5pbmRleF0uaGFsZmVkZ2VzLnB1c2goaW5kZXgpO1xuICByZXR1cm4gZWRnZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUJvcmRlckVkZ2UobGVmdCwgdjAsIHYxKSB7XG4gIHZhciBlZGdlID0gW3YwLCB2MV07XG4gIGVkZ2UubGVmdCA9IGxlZnQ7XG4gIHJldHVybiBlZGdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0RWRnZUVuZChlZGdlLCBsZWZ0LCByaWdodCwgdmVydGV4KSB7XG4gIGlmICghZWRnZVswXSAmJiAhZWRnZVsxXSkge1xuICAgIGVkZ2VbMF0gPSB2ZXJ0ZXg7XG4gICAgZWRnZS5sZWZ0ID0gbGVmdDtcbiAgICBlZGdlLnJpZ2h0ID0gcmlnaHQ7XG4gIH0gZWxzZSBpZiAoZWRnZS5sZWZ0ID09PSByaWdodCkge1xuICAgIGVkZ2VbMV0gPSB2ZXJ0ZXg7XG4gIH0gZWxzZSB7XG4gICAgZWRnZVswXSA9IHZlcnRleDtcbiAgfVxufVxuXG4vLyBMaWFuZ+KAk0JhcnNreSBsaW5lIGNsaXBwaW5nLlxuZnVuY3Rpb24gY2xpcEVkZ2UoZWRnZSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgdmFyIGEgPSBlZGdlWzBdLFxuICAgICAgYiA9IGVkZ2VbMV0sXG4gICAgICBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICB0MCA9IDAsXG4gICAgICB0MSA9IDEsXG4gICAgICBkeCA9IGJ4IC0gYXgsXG4gICAgICBkeSA9IGJ5IC0gYXksXG4gICAgICByO1xuXG4gIHIgPSB4MCAtIGF4O1xuICBpZiAoIWR4ICYmIHIgPiAwKSByZXR1cm47XG4gIHIgLz0gZHg7XG4gIGlmIChkeCA8IDApIHtcbiAgICBpZiAociA8IHQwKSByZXR1cm47XG4gICAgaWYgKHIgPCB0MSkgdDEgPSByO1xuICB9IGVsc2UgaWYgKGR4ID4gMCkge1xuICAgIGlmIChyID4gdDEpIHJldHVybjtcbiAgICBpZiAociA+IHQwKSB0MCA9IHI7XG4gIH1cblxuICByID0geDEgLSBheDtcbiAgaWYgKCFkeCAmJiByIDwgMCkgcmV0dXJuO1xuICByIC89IGR4O1xuICBpZiAoZHggPCAwKSB7XG4gICAgaWYgKHIgPiB0MSkgcmV0dXJuO1xuICAgIGlmIChyID4gdDApIHQwID0gcjtcbiAgfSBlbHNlIGlmIChkeCA+IDApIHtcbiAgICBpZiAociA8IHQwKSByZXR1cm47XG4gICAgaWYgKHIgPCB0MSkgdDEgPSByO1xuICB9XG5cbiAgciA9IHkwIC0gYXk7XG4gIGlmICghZHkgJiYgciA+IDApIHJldHVybjtcbiAgciAvPSBkeTtcbiAgaWYgKGR5IDwgMCkge1xuICAgIGlmIChyIDwgdDApIHJldHVybjtcbiAgICBpZiAociA8IHQxKSB0MSA9IHI7XG4gIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgaWYgKHIgPiB0MSkgcmV0dXJuO1xuICAgIGlmIChyID4gdDApIHQwID0gcjtcbiAgfVxuXG4gIHIgPSB5MSAtIGF5O1xuICBpZiAoIWR5ICYmIHIgPCAwKSByZXR1cm47XG4gIHIgLz0gZHk7XG4gIGlmIChkeSA8IDApIHtcbiAgICBpZiAociA+IHQxKSByZXR1cm47XG4gICAgaWYgKHIgPiB0MCkgdDAgPSByO1xuICB9IGVsc2UgaWYgKGR5ID4gMCkge1xuICAgIGlmIChyIDwgdDApIHJldHVybjtcbiAgICBpZiAociA8IHQxKSB0MSA9IHI7XG4gIH1cblxuICBpZiAoISh0MCA+IDApICYmICEodDEgPCAxKSkgcmV0dXJuIHRydWU7IC8vIFRPRE8gQmV0dGVyIGNoZWNrP1xuXG4gIGlmICh0MCA+IDApIGVkZ2VbMF0gPSBbYXggKyB0MCAqIGR4LCBheSArIHQwICogZHldO1xuICBpZiAodDEgPCAxKSBlZGdlWzFdID0gW2F4ICsgdDEgKiBkeCwgYXkgKyB0MSAqIGR5XTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbm5lY3RFZGdlKGVkZ2UsIHgwLCB5MCwgeDEsIHkxKSB7XG4gIHZhciB2MSA9IGVkZ2VbMV07XG4gIGlmICh2MSkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIHYwID0gZWRnZVswXSxcbiAgICAgIGxlZnQgPSBlZGdlLmxlZnQsXG4gICAgICByaWdodCA9IGVkZ2UucmlnaHQsXG4gICAgICBseCA9IGxlZnRbMF0sXG4gICAgICBseSA9IGxlZnRbMV0sXG4gICAgICByeCA9IHJpZ2h0WzBdLFxuICAgICAgcnkgPSByaWdodFsxXSxcbiAgICAgIGZ4ID0gKGx4ICsgcngpIC8gMixcbiAgICAgIGZ5ID0gKGx5ICsgcnkpIC8gMixcbiAgICAgIGZtLFxuICAgICAgZmI7XG5cbiAgaWYgKHJ5ID09PSBseSkge1xuICAgIGlmIChmeCA8IHgwIHx8IGZ4ID49IHgxKSByZXR1cm47XG4gICAgaWYgKGx4ID4gcngpIHtcbiAgICAgIGlmICghdjApIHYwID0gW2Z4LCB5MF07XG4gICAgICBlbHNlIGlmICh2MFsxXSA+PSB5MSkgcmV0dXJuO1xuICAgICAgdjEgPSBbZngsIHkxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF2MCkgdjAgPSBbZngsIHkxXTtcbiAgICAgIGVsc2UgaWYgKHYwWzFdIDwgeTApIHJldHVybjtcbiAgICAgIHYxID0gW2Z4LCB5MF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZtID0gKGx4IC0gcngpIC8gKHJ5IC0gbHkpO1xuICAgIGZiID0gZnkgLSBmbSAqIGZ4O1xuICAgIGlmIChmbSA8IC0xIHx8IGZtID4gMSkge1xuICAgICAgaWYgKGx4ID4gcngpIHtcbiAgICAgICAgaWYgKCF2MCkgdjAgPSBbKHkwIC0gZmIpIC8gZm0sIHkwXTtcbiAgICAgICAgZWxzZSBpZiAodjBbMV0gPj0geTEpIHJldHVybjtcbiAgICAgICAgdjEgPSBbKHkxIC0gZmIpIC8gZm0sIHkxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdjApIHYwID0gWyh5MSAtIGZiKSAvIGZtLCB5MV07XG4gICAgICAgIGVsc2UgaWYgKHYwWzFdIDwgeTApIHJldHVybjtcbiAgICAgICAgdjEgPSBbKHkwIC0gZmIpIC8gZm0sIHkwXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGx5IDwgcnkpIHtcbiAgICAgICAgaWYgKCF2MCkgdjAgPSBbeDAsIGZtICogeDAgKyBmYl07XG4gICAgICAgIGVsc2UgaWYgKHYwWzBdID49IHgxKSByZXR1cm47XG4gICAgICAgIHYxID0gW3gxLCBmbSAqIHgxICsgZmJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF2MCkgdjAgPSBbeDEsIGZtICogeDEgKyBmYl07XG4gICAgICAgIGVsc2UgaWYgKHYwWzBdIDwgeDApIHJldHVybjtcbiAgICAgICAgdjEgPSBbeDAsIGZtICogeDAgKyBmYl07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZWRnZVswXSA9IHYwO1xuICBlZGdlWzFdID0gdjE7XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpcEVkZ2VzKHgwLCB5MCwgeDEsIHkxKSB7XG4gIHZhciBpID0gZWRnZXMubGVuZ3RoLFxuICAgICAgZWRnZTtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKCFjb25uZWN0RWRnZShlZGdlID0gZWRnZXNbaV0sIHgwLCB5MCwgeDEsIHkxKVxuICAgICAgICB8fCAhY2xpcEVkZ2UoZWRnZSwgeDAsIHkwLCB4MSwgeTEpXG4gICAgICAgIHx8ICEoTWF0aC5hYnMoZWRnZVswXVswXSAtIGVkZ2VbMV1bMF0pID4gZXBzaWxvblxuICAgICAgICAgICAgfHwgTWF0aC5hYnMoZWRnZVswXVsxXSAtIGVkZ2VbMV1bMV0pID4gZXBzaWxvbikpIHtcbiAgICAgIGRlbGV0ZSBlZGdlc1tpXTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7Y3JlYXRlQm9yZGVyRWRnZX0gZnJvbSBcIi4vRWRnZVwiO1xuaW1wb3J0IHtjZWxscywgZWRnZXMsIGVwc2lsb259IGZyb20gXCIuL0RpYWdyYW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNlbGwoc2l0ZSkge1xuICByZXR1cm4gY2VsbHNbc2l0ZS5pbmRleF0gPSB7XG4gICAgc2l0ZTogc2l0ZSxcbiAgICBoYWxmZWRnZXM6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNlbGxIYWxmZWRnZUFuZ2xlKGNlbGwsIGVkZ2UpIHtcbiAgdmFyIHNpdGUgPSBjZWxsLnNpdGUsXG4gICAgICB2YSA9IGVkZ2UubGVmdCxcbiAgICAgIHZiID0gZWRnZS5yaWdodDtcbiAgaWYgKHNpdGUgPT09IHZiKSB2YiA9IHZhLCB2YSA9IHNpdGU7XG4gIGlmICh2YikgcmV0dXJuIE1hdGguYXRhbjIodmJbMV0gLSB2YVsxXSwgdmJbMF0gLSB2YVswXSk7XG4gIGlmIChzaXRlID09PSB2YSkgdmEgPSBlZGdlWzFdLCB2YiA9IGVkZ2VbMF07XG4gIGVsc2UgdmEgPSBlZGdlWzBdLCB2YiA9IGVkZ2VbMV07XG4gIHJldHVybiBNYXRoLmF0YW4yKHZhWzBdIC0gdmJbMF0sIHZiWzFdIC0gdmFbMV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2VsbEhhbGZlZGdlU3RhcnQoY2VsbCwgZWRnZSkge1xuICByZXR1cm4gZWRnZVsrKGVkZ2UubGVmdCAhPT0gY2VsbC5zaXRlKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjZWxsSGFsZmVkZ2VFbmQoY2VsbCwgZWRnZSkge1xuICByZXR1cm4gZWRnZVsrKGVkZ2UubGVmdCA9PT0gY2VsbC5zaXRlKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0Q2VsbEhhbGZlZGdlcygpIHtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSBjZWxscy5sZW5ndGgsIGNlbGwsIGhhbGZlZGdlcywgaiwgbTsgaSA8IG47ICsraSkge1xuICAgIGlmICgoY2VsbCA9IGNlbGxzW2ldKSAmJiAobSA9IChoYWxmZWRnZXMgPSBjZWxsLmhhbGZlZGdlcykubGVuZ3RoKSkge1xuICAgICAgdmFyIGluZGV4ID0gbmV3IEFycmF5KG0pLFxuICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5KG0pO1xuICAgICAgZm9yIChqID0gMDsgaiA8IG07ICsraikgaW5kZXhbal0gPSBqLCBhcnJheVtqXSA9IGNlbGxIYWxmZWRnZUFuZ2xlKGNlbGwsIGVkZ2VzW2hhbGZlZGdlc1tqXV0pO1xuICAgICAgaW5kZXguc29ydChmdW5jdGlvbihpLCBqKSB7IHJldHVybiBhcnJheVtqXSAtIGFycmF5W2ldOyB9KTtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBtOyArK2opIGFycmF5W2pdID0gaGFsZmVkZ2VzW2luZGV4W2pdXTtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBtOyArK2opIGhhbGZlZGdlc1tqXSA9IGFycmF5W2pdO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpcENlbGxzKHgwLCB5MCwgeDEsIHkxKSB7XG4gIHZhciBuQ2VsbHMgPSBjZWxscy5sZW5ndGgsXG4gICAgICBpQ2VsbCxcbiAgICAgIGNlbGwsXG4gICAgICBzaXRlLFxuICAgICAgaUhhbGZlZGdlLFxuICAgICAgaGFsZmVkZ2VzLFxuICAgICAgbkhhbGZlZGdlcyxcbiAgICAgIHN0YXJ0LFxuICAgICAgc3RhcnRYLFxuICAgICAgc3RhcnRZLFxuICAgICAgZW5kLFxuICAgICAgZW5kWCxcbiAgICAgIGVuZFksXG4gICAgICBjb3ZlciA9IHRydWU7XG5cbiAgZm9yIChpQ2VsbCA9IDA7IGlDZWxsIDwgbkNlbGxzOyArK2lDZWxsKSB7XG4gICAgaWYgKGNlbGwgPSBjZWxsc1tpQ2VsbF0pIHtcbiAgICAgIHNpdGUgPSBjZWxsLnNpdGU7XG4gICAgICBoYWxmZWRnZXMgPSBjZWxsLmhhbGZlZGdlcztcbiAgICAgIGlIYWxmZWRnZSA9IGhhbGZlZGdlcy5sZW5ndGg7XG5cbiAgICAgIC8vIFJlbW92ZSBhbnkgZGFuZ2xpbmcgY2xpcHBlZCBlZGdlcy5cbiAgICAgIHdoaWxlIChpSGFsZmVkZ2UtLSkge1xuICAgICAgICBpZiAoIWVkZ2VzW2hhbGZlZGdlc1tpSGFsZmVkZ2VdXSkge1xuICAgICAgICAgIGhhbGZlZGdlcy5zcGxpY2UoaUhhbGZlZGdlLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJbnNlcnQgYW55IGJvcmRlciBlZGdlcyBhcyBuZWNlc3NhcnkuXG4gICAgICBpSGFsZmVkZ2UgPSAwLCBuSGFsZmVkZ2VzID0gaGFsZmVkZ2VzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChpSGFsZmVkZ2UgPCBuSGFsZmVkZ2VzKSB7XG4gICAgICAgIGVuZCA9IGNlbGxIYWxmZWRnZUVuZChjZWxsLCBlZGdlc1toYWxmZWRnZXNbaUhhbGZlZGdlXV0pLCBlbmRYID0gZW5kWzBdLCBlbmRZID0gZW5kWzFdO1xuICAgICAgICBzdGFydCA9IGNlbGxIYWxmZWRnZVN0YXJ0KGNlbGwsIGVkZ2VzW2hhbGZlZGdlc1srK2lIYWxmZWRnZSAlIG5IYWxmZWRnZXNdXSksIHN0YXJ0WCA9IHN0YXJ0WzBdLCBzdGFydFkgPSBzdGFydFsxXTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGVuZFggLSBzdGFydFgpID4gZXBzaWxvbiB8fCBNYXRoLmFicyhlbmRZIC0gc3RhcnRZKSA+IGVwc2lsb24pIHtcbiAgICAgICAgICBoYWxmZWRnZXMuc3BsaWNlKGlIYWxmZWRnZSwgMCwgZWRnZXMucHVzaChjcmVhdGVCb3JkZXJFZGdlKHNpdGUsIGVuZCxcbiAgICAgICAgICAgICAgTWF0aC5hYnMoZW5kWCAtIHgwKSA8IGVwc2lsb24gJiYgeTEgLSBlbmRZID4gZXBzaWxvbiA/IFt4MCwgTWF0aC5hYnMoc3RhcnRYIC0geDApIDwgZXBzaWxvbiA/IHN0YXJ0WSA6IHkxXVxuICAgICAgICAgICAgICA6IE1hdGguYWJzKGVuZFkgLSB5MSkgPCBlcHNpbG9uICYmIHgxIC0gZW5kWCA+IGVwc2lsb24gPyBbTWF0aC5hYnMoc3RhcnRZIC0geTEpIDwgZXBzaWxvbiA/IHN0YXJ0WCA6IHgxLCB5MV1cbiAgICAgICAgICAgICAgOiBNYXRoLmFicyhlbmRYIC0geDEpIDwgZXBzaWxvbiAmJiBlbmRZIC0geTAgPiBlcHNpbG9uID8gW3gxLCBNYXRoLmFicyhzdGFydFggLSB4MSkgPCBlcHNpbG9uID8gc3RhcnRZIDogeTBdXG4gICAgICAgICAgICAgIDogTWF0aC5hYnMoZW5kWSAtIHkwKSA8IGVwc2lsb24gJiYgZW5kWCAtIHgwID4gZXBzaWxvbiA/IFtNYXRoLmFicyhzdGFydFkgLSB5MCkgPCBlcHNpbG9uID8gc3RhcnRYIDogeDAsIHkwXVxuICAgICAgICAgICAgICA6IG51bGwpKSAtIDEpO1xuICAgICAgICAgICsrbkhhbGZlZGdlcztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobkhhbGZlZGdlcykgY292ZXIgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSB3ZXJlbuKAmXQgYW55IGVkZ2VzLCBoYXZlIHRoZSBjbG9zZXN0IHNpdGUgY292ZXIgdGhlIGV4dGVudC5cbiAgLy8gSXQgZG9lc27igJl0IG1hdHRlciB3aGljaCBjb3JuZXIgb2YgdGhlIGV4dGVudCB3ZSBtZWFzdXJlIVxuICBpZiAoY292ZXIpIHtcbiAgICB2YXIgZHgsIGR5LCBkMiwgZGMgPSBJbmZpbml0eTtcblxuICAgIGZvciAoaUNlbGwgPSAwLCBjb3ZlciA9IG51bGw7IGlDZWxsIDwgbkNlbGxzOyArK2lDZWxsKSB7XG4gICAgICBpZiAoY2VsbCA9IGNlbGxzW2lDZWxsXSkge1xuICAgICAgICBzaXRlID0gY2VsbC5zaXRlO1xuICAgICAgICBkeCA9IHNpdGVbMF0gLSB4MDtcbiAgICAgICAgZHkgPSBzaXRlWzFdIC0geTA7XG4gICAgICAgIGQyID0gZHggKiBkeCArIGR5ICogZHk7XG4gICAgICAgIGlmIChkMiA8IGRjKSBkYyA9IGQyLCBjb3ZlciA9IGNlbGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvdmVyKSB7XG4gICAgICB2YXIgdjAwID0gW3gwLCB5MF0sIHYwMSA9IFt4MCwgeTFdLCB2MTEgPSBbeDEsIHkxXSwgdjEwID0gW3gxLCB5MF07XG4gICAgICBjb3Zlci5oYWxmZWRnZXMucHVzaChcbiAgICAgICAgZWRnZXMucHVzaChjcmVhdGVCb3JkZXJFZGdlKHNpdGUgPSBjb3Zlci5zaXRlLCB2MDAsIHYwMSkpIC0gMSxcbiAgICAgICAgZWRnZXMucHVzaChjcmVhdGVCb3JkZXJFZGdlKHNpdGUsIHYwMSwgdjExKSkgLSAxLFxuICAgICAgICBlZGdlcy5wdXNoKGNyZWF0ZUJvcmRlckVkZ2Uoc2l0ZSwgdjExLCB2MTApKSAtIDEsXG4gICAgICAgIGVkZ2VzLnB1c2goY3JlYXRlQm9yZGVyRWRnZShzaXRlLCB2MTAsIHYwMCkpIC0gMVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBMYXN0bHkgZGVsZXRlIGFueSBjZWxscyB3aXRoIG5vIGVkZ2VzOyB0aGVzZSB3ZXJlIGVudGlyZWx5IGNsaXBwZWQuXG4gIGZvciAoaUNlbGwgPSAwOyBpQ2VsbCA8IG5DZWxsczsgKytpQ2VsbCkge1xuICAgIGlmIChjZWxsID0gY2VsbHNbaUNlbGxdKSB7XG4gICAgICBpZiAoIWNlbGwuaGFsZmVkZ2VzLmxlbmd0aCkge1xuICAgICAgICBkZWxldGUgY2VsbHNbaUNlbGxdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtSZWRCbGFja05vZGV9IGZyb20gXCIuL1JlZEJsYWNrVHJlZVwiO1xuaW1wb3J0IHtjaXJjbGVzLCBlcHNpbG9uMn0gZnJvbSBcIi4vRGlhZ3JhbVwiO1xuXG52YXIgY2lyY2xlUG9vbCA9IFtdO1xuXG5leHBvcnQgdmFyIGZpcnN0Q2lyY2xlO1xuXG5mdW5jdGlvbiBDaXJjbGUoKSB7XG4gIFJlZEJsYWNrTm9kZSh0aGlzKTtcbiAgdGhpcy54ID1cbiAgdGhpcy55ID1cbiAgdGhpcy5hcmMgPVxuICB0aGlzLnNpdGUgPVxuICB0aGlzLmN5ID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaENpcmNsZShhcmMpIHtcbiAgdmFyIGxBcmMgPSBhcmMuUCxcbiAgICAgIHJBcmMgPSBhcmMuTjtcblxuICBpZiAoIWxBcmMgfHwgIXJBcmMpIHJldHVybjtcblxuICB2YXIgbFNpdGUgPSBsQXJjLnNpdGUsXG4gICAgICBjU2l0ZSA9IGFyYy5zaXRlLFxuICAgICAgclNpdGUgPSByQXJjLnNpdGU7XG5cbiAgaWYgKGxTaXRlID09PSByU2l0ZSkgcmV0dXJuO1xuXG4gIHZhciBieCA9IGNTaXRlWzBdLFxuICAgICAgYnkgPSBjU2l0ZVsxXSxcbiAgICAgIGF4ID0gbFNpdGVbMF0gLSBieCxcbiAgICAgIGF5ID0gbFNpdGVbMV0gLSBieSxcbiAgICAgIGN4ID0gclNpdGVbMF0gLSBieCxcbiAgICAgIGN5ID0gclNpdGVbMV0gLSBieTtcblxuICB2YXIgZCA9IDIgKiAoYXggKiBjeSAtIGF5ICogY3gpO1xuICBpZiAoZCA+PSAtZXBzaWxvbjIpIHJldHVybjtcblxuICB2YXIgaGEgPSBheCAqIGF4ICsgYXkgKiBheSxcbiAgICAgIGhjID0gY3ggKiBjeCArIGN5ICogY3ksXG4gICAgICB4ID0gKGN5ICogaGEgLSBheSAqIGhjKSAvIGQsXG4gICAgICB5ID0gKGF4ICogaGMgLSBjeCAqIGhhKSAvIGQ7XG5cbiAgdmFyIGNpcmNsZSA9IGNpcmNsZVBvb2wucG9wKCkgfHwgbmV3IENpcmNsZTtcbiAgY2lyY2xlLmFyYyA9IGFyYztcbiAgY2lyY2xlLnNpdGUgPSBjU2l0ZTtcbiAgY2lyY2xlLnggPSB4ICsgYng7XG4gIGNpcmNsZS55ID0gKGNpcmNsZS5jeSA9IHkgKyBieSkgKyBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7IC8vIHkgYm90dG9tXG5cbiAgYXJjLmNpcmNsZSA9IGNpcmNsZTtcblxuICB2YXIgYmVmb3JlID0gbnVsbCxcbiAgICAgIG5vZGUgPSBjaXJjbGVzLl87XG5cbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAoY2lyY2xlLnkgPCBub2RlLnkgfHwgKGNpcmNsZS55ID09PSBub2RlLnkgJiYgY2lyY2xlLnggPD0gbm9kZS54KSkge1xuICAgICAgaWYgKG5vZGUuTCkgbm9kZSA9IG5vZGUuTDtcbiAgICAgIGVsc2UgeyBiZWZvcmUgPSBub2RlLlA7IGJyZWFrOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChub2RlLlIpIG5vZGUgPSBub2RlLlI7XG4gICAgICBlbHNlIHsgYmVmb3JlID0gbm9kZTsgYnJlYWs7IH1cbiAgICB9XG4gIH1cblxuICBjaXJjbGVzLmluc2VydChiZWZvcmUsIGNpcmNsZSk7XG4gIGlmICghYmVmb3JlKSBmaXJzdENpcmNsZSA9IGNpcmNsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaENpcmNsZShhcmMpIHtcbiAgdmFyIGNpcmNsZSA9IGFyYy5jaXJjbGU7XG4gIGlmIChjaXJjbGUpIHtcbiAgICBpZiAoIWNpcmNsZS5QKSBmaXJzdENpcmNsZSA9IGNpcmNsZS5OO1xuICAgIGNpcmNsZXMucmVtb3ZlKGNpcmNsZSk7XG4gICAgY2lyY2xlUG9vbC5wdXNoKGNpcmNsZSk7XG4gICAgUmVkQmxhY2tOb2RlKGNpcmNsZSk7XG4gICAgYXJjLmNpcmNsZSA9IG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7UmVkQmxhY2tOb2RlfSBmcm9tIFwiLi9SZWRCbGFja1RyZWVcIjtcbmltcG9ydCB7Y3JlYXRlQ2VsbH0gZnJvbSBcIi4vQ2VsbFwiO1xuaW1wb3J0IHthdHRhY2hDaXJjbGUsIGRldGFjaENpcmNsZX0gZnJvbSBcIi4vQ2lyY2xlXCI7XG5pbXBvcnQge2NyZWF0ZUVkZ2UsIHNldEVkZ2VFbmR9IGZyb20gXCIuL0VkZ2VcIjtcbmltcG9ydCB7YmVhY2hlcywgZXBzaWxvbn0gZnJvbSBcIi4vRGlhZ3JhbVwiO1xuXG52YXIgYmVhY2hQb29sID0gW107XG5cbmZ1bmN0aW9uIEJlYWNoKCkge1xuICBSZWRCbGFja05vZGUodGhpcyk7XG4gIHRoaXMuZWRnZSA9XG4gIHRoaXMuc2l0ZSA9XG4gIHRoaXMuY2lyY2xlID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQmVhY2goc2l0ZSkge1xuICB2YXIgYmVhY2ggPSBiZWFjaFBvb2wucG9wKCkgfHwgbmV3IEJlYWNoO1xuICBiZWFjaC5zaXRlID0gc2l0ZTtcbiAgcmV0dXJuIGJlYWNoO1xufVxuXG5mdW5jdGlvbiBkZXRhY2hCZWFjaChiZWFjaCkge1xuICBkZXRhY2hDaXJjbGUoYmVhY2gpO1xuICBiZWFjaGVzLnJlbW92ZShiZWFjaCk7XG4gIGJlYWNoUG9vbC5wdXNoKGJlYWNoKTtcbiAgUmVkQmxhY2tOb2RlKGJlYWNoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUJlYWNoKGJlYWNoKSB7XG4gIHZhciBjaXJjbGUgPSBiZWFjaC5jaXJjbGUsXG4gICAgICB4ID0gY2lyY2xlLngsXG4gICAgICB5ID0gY2lyY2xlLmN5LFxuICAgICAgdmVydGV4ID0gW3gsIHldLFxuICAgICAgcHJldmlvdXMgPSBiZWFjaC5QLFxuICAgICAgbmV4dCA9IGJlYWNoLk4sXG4gICAgICBkaXNhcHBlYXJpbmcgPSBbYmVhY2hdO1xuXG4gIGRldGFjaEJlYWNoKGJlYWNoKTtcblxuICB2YXIgbEFyYyA9IHByZXZpb3VzO1xuICB3aGlsZSAobEFyYy5jaXJjbGVcbiAgICAgICYmIE1hdGguYWJzKHggLSBsQXJjLmNpcmNsZS54KSA8IGVwc2lsb25cbiAgICAgICYmIE1hdGguYWJzKHkgLSBsQXJjLmNpcmNsZS5jeSkgPCBlcHNpbG9uKSB7XG4gICAgcHJldmlvdXMgPSBsQXJjLlA7XG4gICAgZGlzYXBwZWFyaW5nLnVuc2hpZnQobEFyYyk7XG4gICAgZGV0YWNoQmVhY2gobEFyYyk7XG4gICAgbEFyYyA9IHByZXZpb3VzO1xuICB9XG5cbiAgZGlzYXBwZWFyaW5nLnVuc2hpZnQobEFyYyk7XG4gIGRldGFjaENpcmNsZShsQXJjKTtcblxuICB2YXIgckFyYyA9IG5leHQ7XG4gIHdoaWxlIChyQXJjLmNpcmNsZVxuICAgICAgJiYgTWF0aC5hYnMoeCAtIHJBcmMuY2lyY2xlLngpIDwgZXBzaWxvblxuICAgICAgJiYgTWF0aC5hYnMoeSAtIHJBcmMuY2lyY2xlLmN5KSA8IGVwc2lsb24pIHtcbiAgICBuZXh0ID0gckFyYy5OO1xuICAgIGRpc2FwcGVhcmluZy5wdXNoKHJBcmMpO1xuICAgIGRldGFjaEJlYWNoKHJBcmMpO1xuICAgIHJBcmMgPSBuZXh0O1xuICB9XG5cbiAgZGlzYXBwZWFyaW5nLnB1c2gockFyYyk7XG4gIGRldGFjaENpcmNsZShyQXJjKTtcblxuICB2YXIgbkFyY3MgPSBkaXNhcHBlYXJpbmcubGVuZ3RoLFxuICAgICAgaUFyYztcbiAgZm9yIChpQXJjID0gMTsgaUFyYyA8IG5BcmNzOyArK2lBcmMpIHtcbiAgICByQXJjID0gZGlzYXBwZWFyaW5nW2lBcmNdO1xuICAgIGxBcmMgPSBkaXNhcHBlYXJpbmdbaUFyYyAtIDFdO1xuICAgIHNldEVkZ2VFbmQockFyYy5lZGdlLCBsQXJjLnNpdGUsIHJBcmMuc2l0ZSwgdmVydGV4KTtcbiAgfVxuXG4gIGxBcmMgPSBkaXNhcHBlYXJpbmdbMF07XG4gIHJBcmMgPSBkaXNhcHBlYXJpbmdbbkFyY3MgLSAxXTtcbiAgckFyYy5lZGdlID0gY3JlYXRlRWRnZShsQXJjLnNpdGUsIHJBcmMuc2l0ZSwgbnVsbCwgdmVydGV4KTtcblxuICBhdHRhY2hDaXJjbGUobEFyYyk7XG4gIGF0dGFjaENpcmNsZShyQXJjKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEJlYWNoKHNpdGUpIHtcbiAgdmFyIHggPSBzaXRlWzBdLFxuICAgICAgZGlyZWN0cml4ID0gc2l0ZVsxXSxcbiAgICAgIGxBcmMsXG4gICAgICByQXJjLFxuICAgICAgZHhsLFxuICAgICAgZHhyLFxuICAgICAgbm9kZSA9IGJlYWNoZXMuXztcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGR4bCA9IGxlZnRCcmVha1BvaW50KG5vZGUsIGRpcmVjdHJpeCkgLSB4O1xuICAgIGlmIChkeGwgPiBlcHNpbG9uKSBub2RlID0gbm9kZS5MOyBlbHNlIHtcbiAgICAgIGR4ciA9IHggLSByaWdodEJyZWFrUG9pbnQobm9kZSwgZGlyZWN0cml4KTtcbiAgICAgIGlmIChkeHIgPiBlcHNpbG9uKSB7XG4gICAgICAgIGlmICghbm9kZS5SKSB7XG4gICAgICAgICAgbEFyYyA9IG5vZGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUuUjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkeGwgPiAtZXBzaWxvbikge1xuICAgICAgICAgIGxBcmMgPSBub2RlLlA7XG4gICAgICAgICAgckFyYyA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoZHhyID4gLWVwc2lsb24pIHtcbiAgICAgICAgICBsQXJjID0gbm9kZTtcbiAgICAgICAgICByQXJjID0gbm9kZS5OO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxBcmMgPSByQXJjID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjcmVhdGVDZWxsKHNpdGUpO1xuICB2YXIgbmV3QXJjID0gY3JlYXRlQmVhY2goc2l0ZSk7XG4gIGJlYWNoZXMuaW5zZXJ0KGxBcmMsIG5ld0FyYyk7XG5cbiAgaWYgKCFsQXJjICYmICFyQXJjKSByZXR1cm47XG5cbiAgaWYgKGxBcmMgPT09IHJBcmMpIHtcbiAgICBkZXRhY2hDaXJjbGUobEFyYyk7XG4gICAgckFyYyA9IGNyZWF0ZUJlYWNoKGxBcmMuc2l0ZSk7XG4gICAgYmVhY2hlcy5pbnNlcnQobmV3QXJjLCByQXJjKTtcbiAgICBuZXdBcmMuZWRnZSA9IHJBcmMuZWRnZSA9IGNyZWF0ZUVkZ2UobEFyYy5zaXRlLCBuZXdBcmMuc2l0ZSk7XG4gICAgYXR0YWNoQ2lyY2xlKGxBcmMpO1xuICAgIGF0dGFjaENpcmNsZShyQXJjKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXJBcmMpIHsgLy8gJiYgbEFyY1xuICAgIG5ld0FyYy5lZGdlID0gY3JlYXRlRWRnZShsQXJjLnNpdGUsIG5ld0FyYy5zaXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBlbHNlIGxBcmMgIT09IHJBcmNcbiAgZGV0YWNoQ2lyY2xlKGxBcmMpO1xuICBkZXRhY2hDaXJjbGUockFyYyk7XG5cbiAgdmFyIGxTaXRlID0gbEFyYy5zaXRlLFxuICAgICAgYXggPSBsU2l0ZVswXSxcbiAgICAgIGF5ID0gbFNpdGVbMV0sXG4gICAgICBieCA9IHNpdGVbMF0gLSBheCxcbiAgICAgIGJ5ID0gc2l0ZVsxXSAtIGF5LFxuICAgICAgclNpdGUgPSByQXJjLnNpdGUsXG4gICAgICBjeCA9IHJTaXRlWzBdIC0gYXgsXG4gICAgICBjeSA9IHJTaXRlWzFdIC0gYXksXG4gICAgICBkID0gMiAqIChieCAqIGN5IC0gYnkgKiBjeCksXG4gICAgICBoYiA9IGJ4ICogYnggKyBieSAqIGJ5LFxuICAgICAgaGMgPSBjeCAqIGN4ICsgY3kgKiBjeSxcbiAgICAgIHZlcnRleCA9IFsoY3kgKiBoYiAtIGJ5ICogaGMpIC8gZCArIGF4LCAoYnggKiBoYyAtIGN4ICogaGIpIC8gZCArIGF5XTtcblxuICBzZXRFZGdlRW5kKHJBcmMuZWRnZSwgbFNpdGUsIHJTaXRlLCB2ZXJ0ZXgpO1xuICBuZXdBcmMuZWRnZSA9IGNyZWF0ZUVkZ2UobFNpdGUsIHNpdGUsIG51bGwsIHZlcnRleCk7XG4gIHJBcmMuZWRnZSA9IGNyZWF0ZUVkZ2Uoc2l0ZSwgclNpdGUsIG51bGwsIHZlcnRleCk7XG4gIGF0dGFjaENpcmNsZShsQXJjKTtcbiAgYXR0YWNoQ2lyY2xlKHJBcmMpO1xufVxuXG5mdW5jdGlvbiBsZWZ0QnJlYWtQb2ludChhcmMsIGRpcmVjdHJpeCkge1xuICB2YXIgc2l0ZSA9IGFyYy5zaXRlLFxuICAgICAgcmZvY3ggPSBzaXRlWzBdLFxuICAgICAgcmZvY3kgPSBzaXRlWzFdLFxuICAgICAgcGJ5MiA9IHJmb2N5IC0gZGlyZWN0cml4O1xuXG4gIGlmICghcGJ5MikgcmV0dXJuIHJmb2N4O1xuXG4gIHZhciBsQXJjID0gYXJjLlA7XG4gIGlmICghbEFyYykgcmV0dXJuIC1JbmZpbml0eTtcblxuICBzaXRlID0gbEFyYy5zaXRlO1xuICB2YXIgbGZvY3ggPSBzaXRlWzBdLFxuICAgICAgbGZvY3kgPSBzaXRlWzFdLFxuICAgICAgcGxieTIgPSBsZm9jeSAtIGRpcmVjdHJpeDtcblxuICBpZiAoIXBsYnkyKSByZXR1cm4gbGZvY3g7XG5cbiAgdmFyIGhsID0gbGZvY3ggLSByZm9jeCxcbiAgICAgIGFieTIgPSAxIC8gcGJ5MiAtIDEgLyBwbGJ5MixcbiAgICAgIGIgPSBobCAvIHBsYnkyO1xuXG4gIGlmIChhYnkyKSByZXR1cm4gKC1iICsgTWF0aC5zcXJ0KGIgKiBiIC0gMiAqIGFieTIgKiAoaGwgKiBobCAvICgtMiAqIHBsYnkyKSAtIGxmb2N5ICsgcGxieTIgLyAyICsgcmZvY3kgLSBwYnkyIC8gMikpKSAvIGFieTIgKyByZm9jeDtcblxuICByZXR1cm4gKHJmb2N4ICsgbGZvY3gpIC8gMjtcbn1cblxuZnVuY3Rpb24gcmlnaHRCcmVha1BvaW50KGFyYywgZGlyZWN0cml4KSB7XG4gIHZhciByQXJjID0gYXJjLk47XG4gIGlmIChyQXJjKSByZXR1cm4gbGVmdEJyZWFrUG9pbnQockFyYywgZGlyZWN0cml4KTtcbiAgdmFyIHNpdGUgPSBhcmMuc2l0ZTtcbiAgcmV0dXJuIHNpdGVbMV0gPT09IGRpcmVjdHJpeCA/IHNpdGVbMF0gOiBJbmZpbml0eTtcbn1cbiIsImltcG9ydCB7YWRkQmVhY2gsIHJlbW92ZUJlYWNofSBmcm9tIFwiLi9CZWFjaFwiO1xuaW1wb3J0IHtzb3J0Q2VsbEhhbGZlZGdlcywgY2VsbEhhbGZlZGdlU3RhcnQsIGNsaXBDZWxsc30gZnJvbSBcIi4vQ2VsbFwiO1xuaW1wb3J0IHtmaXJzdENpcmNsZX0gZnJvbSBcIi4vQ2lyY2xlXCI7XG5pbXBvcnQge2NsaXBFZGdlc30gZnJvbSBcIi4vRWRnZVwiO1xuaW1wb3J0IFJlZEJsYWNrVHJlZSBmcm9tIFwiLi9SZWRCbGFja1RyZWVcIjtcblxuZXhwb3J0IHZhciBlcHNpbG9uID0gMWUtNjtcbmV4cG9ydCB2YXIgZXBzaWxvbjIgPSAxZS0xMjtcbmV4cG9ydCB2YXIgYmVhY2hlcztcbmV4cG9ydCB2YXIgY2VsbHM7XG5leHBvcnQgdmFyIGNpcmNsZXM7XG5leHBvcnQgdmFyIGVkZ2VzO1xuXG5mdW5jdGlvbiB0cmlhbmdsZUFyZWEoYSwgYiwgYykge1xuICByZXR1cm4gKGFbMF0gLSBjWzBdKSAqIChiWzFdIC0gYVsxXSkgLSAoYVswXSAtIGJbMF0pICogKGNbMV0gLSBhWzFdKTtcbn1cblxuZnVuY3Rpb24gbGV4aWNvZ3JhcGhpYyhhLCBiKSB7XG4gIHJldHVybiBiWzFdIC0gYVsxXVxuICAgICAgfHwgYlswXSAtIGFbMF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERpYWdyYW0oc2l0ZXMsIGV4dGVudCkge1xuICB2YXIgc2l0ZSA9IHNpdGVzLnNvcnQobGV4aWNvZ3JhcGhpYykucG9wKCksXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGNpcmNsZTtcblxuICBlZGdlcyA9IFtdO1xuICBjZWxscyA9IG5ldyBBcnJheShzaXRlcy5sZW5ndGgpO1xuICBiZWFjaGVzID0gbmV3IFJlZEJsYWNrVHJlZTtcbiAgY2lyY2xlcyA9IG5ldyBSZWRCbGFja1RyZWU7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjaXJjbGUgPSBmaXJzdENpcmNsZTtcbiAgICBpZiAoc2l0ZSAmJiAoIWNpcmNsZSB8fCBzaXRlWzFdIDwgY2lyY2xlLnkgfHwgKHNpdGVbMV0gPT09IGNpcmNsZS55ICYmIHNpdGVbMF0gPCBjaXJjbGUueCkpKSB7XG4gICAgICBpZiAoc2l0ZVswXSAhPT0geCB8fCBzaXRlWzFdICE9PSB5KSB7XG4gICAgICAgIGFkZEJlYWNoKHNpdGUpO1xuICAgICAgICB4ID0gc2l0ZVswXSwgeSA9IHNpdGVbMV07XG4gICAgICB9XG4gICAgICBzaXRlID0gc2l0ZXMucG9wKCk7XG4gICAgfSBlbHNlIGlmIChjaXJjbGUpIHtcbiAgICAgIHJlbW92ZUJlYWNoKGNpcmNsZS5hcmMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzb3J0Q2VsbEhhbGZlZGdlcygpO1xuXG4gIGlmIChleHRlbnQpIHtcbiAgICB2YXIgeDAgPSArZXh0ZW50WzBdWzBdLFxuICAgICAgICB5MCA9ICtleHRlbnRbMF1bMV0sXG4gICAgICAgIHgxID0gK2V4dGVudFsxXVswXSxcbiAgICAgICAgeTEgPSArZXh0ZW50WzFdWzFdO1xuICAgIGNsaXBFZGdlcyh4MCwgeTAsIHgxLCB5MSk7XG4gICAgY2xpcENlbGxzKHgwLCB5MCwgeDEsIHkxKTtcbiAgfVxuXG4gIHRoaXMuZWRnZXMgPSBlZGdlcztcbiAgdGhpcy5jZWxscyA9IGNlbGxzO1xuXG4gIGJlYWNoZXMgPVxuICBjaXJjbGVzID1cbiAgZWRnZXMgPVxuICBjZWxscyA9IG51bGw7XG59XG5cbkRpYWdyYW0ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogRGlhZ3JhbSxcblxuICBwb2x5Z29uczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVkZ2VzID0gdGhpcy5lZGdlcztcblxuICAgIHJldHVybiB0aGlzLmNlbGxzLm1hcChmdW5jdGlvbihjZWxsKSB7XG4gICAgICB2YXIgcG9seWdvbiA9IGNlbGwuaGFsZmVkZ2VzLm1hcChmdW5jdGlvbihpKSB7IHJldHVybiBjZWxsSGFsZmVkZ2VTdGFydChjZWxsLCBlZGdlc1tpXSk7IH0pO1xuICAgICAgcG9seWdvbi5kYXRhID0gY2VsbC5zaXRlLmRhdGE7XG4gICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9KTtcbiAgfSxcblxuICB0cmlhbmdsZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0cmlhbmdsZXMgPSBbXSxcbiAgICAgICAgZWRnZXMgPSB0aGlzLmVkZ2VzO1xuXG4gICAgdGhpcy5jZWxscy5mb3JFYWNoKGZ1bmN0aW9uKGNlbGwsIGkpIHtcbiAgICAgIGlmICghKG0gPSAoaGFsZmVkZ2VzID0gY2VsbC5oYWxmZWRnZXMpLmxlbmd0aCkpIHJldHVybjtcbiAgICAgIHZhciBzaXRlID0gY2VsbC5zaXRlLFxuICAgICAgICAgIGhhbGZlZGdlcyxcbiAgICAgICAgICBqID0gLTEsXG4gICAgICAgICAgbSxcbiAgICAgICAgICBzMCxcbiAgICAgICAgICBlMSA9IGVkZ2VzW2hhbGZlZGdlc1ttIC0gMV1dLFxuICAgICAgICAgIHMxID0gZTEubGVmdCA9PT0gc2l0ZSA/IGUxLnJpZ2h0IDogZTEubGVmdDtcblxuICAgICAgd2hpbGUgKCsraiA8IG0pIHtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgICAgZTEgPSBlZGdlc1toYWxmZWRnZXNbal1dO1xuICAgICAgICBzMSA9IGUxLmxlZnQgPT09IHNpdGUgPyBlMS5yaWdodCA6IGUxLmxlZnQ7XG4gICAgICAgIGlmIChzMCAmJiBzMSAmJiBpIDwgczAuaW5kZXggJiYgaSA8IHMxLmluZGV4ICYmIHRyaWFuZ2xlQXJlYShzaXRlLCBzMCwgczEpIDwgMCkge1xuICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKFtzaXRlLmRhdGEsIHMwLmRhdGEsIHMxLmRhdGFdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbiAgfSxcblxuICBsaW5rczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRnZXMuZmlsdGVyKGZ1bmN0aW9uKGVkZ2UpIHtcbiAgICAgIHJldHVybiBlZGdlLnJpZ2h0O1xuICAgIH0pLm1hcChmdW5jdGlvbihlZGdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2U6IGVkZ2UubGVmdC5kYXRhLFxuICAgICAgICB0YXJnZXQ6IGVkZ2UucmlnaHQuZGF0YVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbih4LCB5LCByYWRpdXMpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXMsIGkwLCBpMSA9IHRoYXQuX2ZvdW5kIHx8IDAsIG4gPSB0aGF0LmNlbGxzLmxlbmd0aCwgY2VsbDtcblxuICAgIC8vIFVzZSB0aGUgcHJldmlvdXNseS1mb3VuZCBjZWxsLCBvciBzdGFydCB3aXRoIGFuIGFyYml0cmFyeSBvbmUuXG4gICAgd2hpbGUgKCEoY2VsbCA9IHRoYXQuY2VsbHNbaTFdKSkgaWYgKCsraTEgPj0gbikgcmV0dXJuIG51bGw7XG4gICAgdmFyIGR4ID0geCAtIGNlbGwuc2l0ZVswXSwgZHkgPSB5IC0gY2VsbC5zaXRlWzFdLCBkMiA9IGR4ICogZHggKyBkeSAqIGR5O1xuXG4gICAgLy8gVHJhdmVyc2UgdGhlIGhhbGYtZWRnZXMgdG8gZmluZCBhIGNsb3NlciBjZWxsLCBpZiBhbnkuXG4gICAgZG8ge1xuICAgICAgY2VsbCA9IHRoYXQuY2VsbHNbaTAgPSBpMV0sIGkxID0gbnVsbDtcbiAgICAgIGNlbGwuaGFsZmVkZ2VzLmZvckVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWRnZSA9IHRoYXQuZWRnZXNbZV0sIHYgPSBlZGdlLmxlZnQ7XG4gICAgICAgIGlmICgodiA9PT0gY2VsbC5zaXRlIHx8ICF2KSAmJiAhKHYgPSBlZGdlLnJpZ2h0KSkgcmV0dXJuO1xuICAgICAgICB2YXIgdnggPSB4IC0gdlswXSwgdnkgPSB5IC0gdlsxXSwgdjIgPSB2eCAqIHZ4ICsgdnkgKiB2eTtcbiAgICAgICAgaWYgKHYyIDwgZDIpIGQyID0gdjIsIGkxID0gdi5pbmRleDtcbiAgICAgIH0pO1xuICAgIH0gd2hpbGUgKGkxICE9PSBudWxsKTtcblxuICAgIHRoYXQuX2ZvdW5kID0gaTA7XG5cbiAgICByZXR1cm4gcmFkaXVzID09IG51bGwgfHwgZDIgPD0gcmFkaXVzICogcmFkaXVzID8gY2VsbC5zaXRlIDogbnVsbDtcbiAgfVxufVxuIiwidmFyIHJobyA9IE1hdGguU1FSVDIsXG4gICAgcmhvMiA9IDIsXG4gICAgcmhvNCA9IDQsXG4gICAgZXBzaWxvbjIgPSAxZS0xMjtcblxuZnVuY3Rpb24gY29zaCh4KSB7XG4gIHJldHVybiAoKHggPSBNYXRoLmV4cCh4KSkgKyAxIC8geCkgLyAyO1xufVxuXG5mdW5jdGlvbiBzaW5oKHgpIHtcbiAgcmV0dXJuICgoeCA9IE1hdGguZXhwKHgpKSAtIDEgLyB4KSAvIDI7XG59XG5cbmZ1bmN0aW9uIHRhbmgoeCkge1xuICByZXR1cm4gKCh4ID0gTWF0aC5leHAoMiAqIHgpKSAtIDEpIC8gKHggKyAxKTtcbn1cblxuLy8gcDAgPSBbdXgwLCB1eTAsIHcwXVxuLy8gcDEgPSBbdXgxLCB1eTEsIHcxXVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24ocDAsIHAxKSB7XG4gIHZhciB1eDAgPSBwMFswXSwgdXkwID0gcDBbMV0sIHcwID0gcDBbMl0sXG4gICAgICB1eDEgPSBwMVswXSwgdXkxID0gcDFbMV0sIHcxID0gcDFbMl0sXG4gICAgICBkeCA9IHV4MSAtIHV4MCxcbiAgICAgIGR5ID0gdXkxIC0gdXkwLFxuICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeSxcbiAgICAgIGksXG4gICAgICBTO1xuXG4gIC8vIFNwZWNpYWwgY2FzZSBmb3IgdTAg4omFIHUxLlxuICBpZiAoZDIgPCBlcHNpbG9uMikge1xuICAgIFMgPSBNYXRoLmxvZyh3MSAvIHcwKSAvIHJobztcbiAgICBpID0gZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgdXgwICsgdCAqIGR4LFxuICAgICAgICB1eTAgKyB0ICogZHksXG4gICAgICAgIHcwICogTWF0aC5leHAocmhvICogdCAqIFMpXG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIC8vIEdlbmVyYWwgY2FzZS5cbiAgZWxzZSB7XG4gICAgdmFyIGQxID0gTWF0aC5zcXJ0KGQyKSxcbiAgICAgICAgYjAgPSAodzEgKiB3MSAtIHcwICogdzAgKyByaG80ICogZDIpIC8gKDIgKiB3MCAqIHJobzIgKiBkMSksXG4gICAgICAgIGIxID0gKHcxICogdzEgLSB3MCAqIHcwIC0gcmhvNCAqIGQyKSAvICgyICogdzEgKiByaG8yICogZDEpLFxuICAgICAgICByMCA9IE1hdGgubG9nKE1hdGguc3FydChiMCAqIGIwICsgMSkgLSBiMCksXG4gICAgICAgIHIxID0gTWF0aC5sb2coTWF0aC5zcXJ0KGIxICogYjEgKyAxKSAtIGIxKTtcbiAgICBTID0gKHIxIC0gcjApIC8gcmhvO1xuICAgIGkgPSBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgcyA9IHQgKiBTLFxuICAgICAgICAgIGNvc2hyMCA9IGNvc2gocjApLFxuICAgICAgICAgIHUgPSB3MCAvIChyaG8yICogZDEpICogKGNvc2hyMCAqIHRhbmgocmhvICogcyArIHIwKSAtIHNpbmgocjApKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHV4MCArIHUgKiBkeCxcbiAgICAgICAgdXkwICsgdSAqIGR5LFxuICAgICAgICB3MCAqIGNvc2hyMCAvIGNvc2gocmhvICogcyArIHIwKVxuICAgICAgXTtcbiAgICB9XG4gIH1cblxuICBpLmR1cmF0aW9uID0gUyAqIDEwMDA7XG5cbiAgcmV0dXJuIGk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gVHJhbnNmb3JtKGssIHgsIHkpIHtcbiAgdGhpcy5rID0gaztcbiAgdGhpcy54ID0geDtcbiAgdGhpcy55ID0geTtcbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFRyYW5zZm9ybSxcbiAgc2NhbGU6IGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gayA9PT0gMSA/IHRoaXMgOiBuZXcgVHJhbnNmb3JtKHRoaXMuayAqIGssIHRoaXMueCwgdGhpcy55KTtcbiAgfSxcbiAgdHJhbnNsYXRlOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgcmV0dXJuIHggPT09IDAgJiB5ID09PSAwID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rLCB0aGlzLnggKyB0aGlzLmsgKiB4LCB0aGlzLnkgKyB0aGlzLmsgKiB5KTtcbiAgfSxcbiAgYXBwbHk6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIFtwb2ludFswXSAqIHRoaXMuayArIHRoaXMueCwgcG9pbnRbMV0gKiB0aGlzLmsgKyB0aGlzLnldO1xuICB9LFxuICBhcHBseVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHRoaXMuayArIHRoaXMueDtcbiAgfSxcbiAgYXBwbHlZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkgKiB0aGlzLmsgKyB0aGlzLnk7XG4gIH0sXG4gIGludmVydDogZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICByZXR1cm4gWyhsb2NhdGlvblswXSAtIHRoaXMueCkgLyB0aGlzLmssIChsb2NhdGlvblsxXSAtIHRoaXMueSkgLyB0aGlzLmtdO1xuICB9LFxuICBpbnZlcnRYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4IC0gdGhpcy54KSAvIHRoaXMuaztcbiAgfSxcbiAgaW52ZXJ0WTogZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiAoeSAtIHRoaXMueSkgLyB0aGlzLms7XG4gIH0sXG4gIHJlc2NhbGVYOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHguY29weSgpLmRvbWFpbih4LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WCwgdGhpcykubWFwKHguaW52ZXJ0LCB4KSk7XG4gIH0sXG4gIHJlc2NhbGVZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuIHkuY29weSgpLmRvbWFpbih5LnJhbmdlKCkubWFwKHRoaXMuaW52ZXJ0WSwgdGhpcykubWFwKHkuaW52ZXJ0LCB5KSk7XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLnggKyBcIixcIiArIHRoaXMueSArIFwiKSBzY2FsZShcIiArIHRoaXMuayArIFwiKVwiO1xuICB9XG59O1xuXG5leHBvcnQgdmFyIGlkZW50aXR5ID0gbmV3IFRyYW5zZm9ybSgxLCAwLCAwKTtcblxudHJhbnNmb3JtLnByb3RvdHlwZSA9IFRyYW5zZm9ybS5wcm90b3R5cGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShub2RlKSB7XG4gIHdoaWxlICghbm9kZS5fX3pvb20pIGlmICghKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpKSByZXR1cm4gaWRlbnRpdHk7XG4gIHJldHVybiBub2RlLl9fem9vbTtcbn1cbiIsImltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIExpdEVsZW1lbnQsIGh0bWwsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5XHJcbn0gZnJvbSAnbGl0LWVsZW1lbnQnO1xyXG5cclxuY2xhc3MgTFNHUGllIGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblxyXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBUaGUgbWF4aW11bSByYWRpdXMgbnVtYmVyIGZvciBhbnkga2luZCBvZiBlbGVtZW50ICh1c2VkIGJ5IHRoZSBjb2xsaWRlXHJcbiAgICAgICAgICAgICAqIHN5c3RlbSkuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBkYXRhUG9pbnRzOiB7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBBcnJheVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjdXJBbmdsZToge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiBcImFuZ2xlXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZXJ2YWw6e1xyXG4gICAgICAgICAgICAgICAgdHlwZTpOdW1iZXJcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGFsYXJtOntcclxuICAgICAgICAgICAgICAgIHR5cGU6TnVtYmVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZpcnN0dGltZSA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuZGVncmVlcyA9IDEwXHJcbiAgICAgICAgdGhpcy5OUl9FTEVNRU5UUyA9IDM2MCAvIHRoaXMuZGVncmVlcztcclxuICAgICAgICB0aGlzLmRhdGFGb3JDb2xlcmluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhU2l6ZUVsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGljayA9IHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5hbGFybSA9IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRha2VzIHN0eWxlcyBmcm9tIHJvb3RcclxuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZpcnN0dGltZSA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmRvVXBkYXRlKHRoaXMuZGF0YVBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBodG1sYFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYFxyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcykge1xyXG4gICAgICAgIHRoaXMuZmlyc3R0aW1lID0gMDtcclxuXHJcbiAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcIiNjaGFydFwiKTtcclxuXHJcbiAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgIC5jbGFzc2VkKFwic3ZnLWNvbnRhaW5lclwiLCB0cnVlKVxyXG4gICAgICAgICAgICAuYXR0cihcInByZXNlcnZlQXNwZWN0UmF0aW9cIiwgXCJ4TWluWU1pbiBtZWV0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidmlld0JveFwiLCBcIi02MCAtNjAgMzIwIDMyMFwiKVxyXG4gICAgICAgICAgICAvLyBDbGFzcyB0byBtYWtlIGl0IHJlc3BvbnNpdmUuXHJcbiAgICAgICAgICAgIC5jbGFzc2VkKFwic3ZnLWNvbnRlbnQtcmVzcG9uc2l2ZVwiLCB0cnVlKTtcclxuICAgICAgICB2YXIgd2lkdGggPSAyMDBcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gd2lkdGggLy8rc3ZnLmF0dHIoXCJoZWlnaHRcIilcclxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5taW4od2lkdGggLSAyNSwgaGVpZ2h0IC0gMjUpIC8gMjtcclxuICAgICAgICB2YXIgZm9udFNpemUgPSAod2lkdGggLyAyMCkudG9TdHJpbmcoKTtcclxuICAgICAgICB2YXIgZyA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3aWR0aCAvIDIgKyBcIixcIiArIGhlaWdodCAvIDIgKyBcIilcIik7XHJcblxyXG4gICAgICAgIHZhciBkYXRhRm9yQ29sZXJpbmcgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTlJfRUxFTUVOVFM7IGkrKykge1xyXG4gICAgICAgICAgICBkYXRhRm9yQ29sZXJpbmcucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9EZWZpbmUgcXVhbnRpemUgc2NhbGUgdG8gc29ydCBkYXRhIHZhbHVlcyBpbnRvIGJ1Y2tldHMgb2YgY29sb3JcclxuICAgICAgICB2YXIgY29sb3IgPSBkMy5zY2FsZVF1YW50aXplKClcclxuICAgICAgICAgICAgLnJhbmdlKFtcIiNmZmY1ZjBcIiwgXCIjZmZmNGVmXCIsIFwiI2ZmZjRlZVwiLCBcIiNmZmYzZWRcIiwgXCIjZmZmMmVjXCIsIFwiI2ZmZjJlYlwiLCBcIiNmZmYxZWFcIiwgXCIjZmZmMGU5XCIsIFwiI2ZmZjBlOFwiLCBcIiNmZmVmZTdcIiwgXCIjZmZlZWU2XCIsIFwiI2ZmZWVlNlwiLCBcIiNmZmVkZTVcIiwgXCIjZmZlY2U0XCIsIFwiI2ZmZWNlM1wiLCBcIiNmZmViZTJcIiwgXCIjZmVlYWUxXCIsIFwiI2ZlZTllMFwiLCBcIiNmZWU5ZGVcIiwgXCIjZmVlOGRkXCIsIFwiI2ZlZTdkY1wiLCBcIiNmZWU2ZGJcIiwgXCIjZmVlNmRhXCIsIFwiI2ZlZTVkOVwiLCBcIiNmZWU0ZDhcIiwgXCIjZmVlM2Q3XCIsIFwiI2ZlZTJkNlwiLCBcIiNmZWUyZDVcIiwgXCIjZmVlMWQ0XCIsIFwiI2ZlZTBkMlwiLCBcIiNmZWRmZDFcIiwgXCIjZmVkZWQwXCIsIFwiI2ZlZGRjZlwiLCBcIiNmZWRjY2RcIiwgXCIjZmVkYmNjXCIsIFwiI2ZlZGFjYlwiLCBcIiNmZWQ5Y2FcIiwgXCIjZmVkOGM4XCIsIFwiI2ZlZDdjN1wiLCBcIiNmZGQ2YzZcIiwgXCIjZmRkNWM0XCIsIFwiI2ZkZDRjM1wiLCBcIiNmZGQzYzFcIiwgXCIjZmRkMmMwXCIsIFwiI2ZkZDFiZlwiLCBcIiNmZGQwYmRcIiwgXCIjZmRjZmJjXCIsIFwiI2ZkY2ViYVwiLCBcIiNmZGNkYjlcIiwgXCIjZmRjY2I3XCIsIFwiI2ZkY2JiNlwiLCBcIiNmZGM5YjRcIiwgXCIjZmRjOGIzXCIsIFwiI2ZkYzdiMlwiLCBcIiNmZGM2YjBcIiwgXCIjZmRjNWFmXCIsIFwiI2ZkYzRhZFwiLCBcIiNmZGMyYWNcIiwgXCIjZmRjMWFhXCIsIFwiI2ZkYzBhOFwiLCBcIiNmY2JmYTdcIiwgXCIjZmNiZWE1XCIsIFwiI2ZjYmNhNFwiLCBcIiNmY2JiYTJcIiwgXCIjZmNiYWExXCIsIFwiI2ZjYjk5ZlwiLCBcIiNmY2I4OWVcIiwgXCIjZmNiNjljXCIsIFwiI2ZjYjU5YlwiLCBcIiNmY2I0OTlcIiwgXCIjZmNiMzk4XCIsIFwiI2ZjYjE5NlwiLCBcIiNmY2IwOTVcIiwgXCIjZmNhZjk0XCIsIFwiI2ZjYWU5MlwiLCBcIiNmY2FjOTFcIiwgXCIjZmNhYjhmXCIsIFwiI2ZjYWE4ZVwiLCBcIiNmY2E5OGNcIiwgXCIjZmNhNzhiXCIsIFwiI2ZjYTY4OVwiLCBcIiNmY2E1ODhcIiwgXCIjZmNhNDg2XCIsIFwiI2ZjYTI4NVwiLCBcIiNmY2ExODNcIiwgXCIjZmNhMDgyXCIsIFwiI2ZjOWU4MVwiLCBcIiNmYzlkN2ZcIiwgXCIjZmM5YzdlXCIsIFwiI2ZjOWI3Y1wiLCBcIiNmYzk5N2JcIiwgXCIjZmM5ODdhXCIsIFwiI2ZjOTc3OFwiLCBcIiNmYzk2NzdcIiwgXCIjZmM5NDc1XCIsIFwiI2ZjOTM3NFwiLCBcIiNmYzkyNzNcIiwgXCIjZmM5MDcxXCIsIFwiI2ZjOGY3MFwiLCBcIiNmYzhlNmZcIiwgXCIjZmM4ZDZkXCIsIFwiI2ZjOGI2Y1wiLCBcIiNmYzhhNmJcIiwgXCIjZmM4OTY5XCIsIFwiI2ZjODg2OFwiLCBcIiNmYzg2NjdcIiwgXCIjZmM4NTY1XCIsIFwiI2ZjODQ2NFwiLCBcIiNmYjgyNjNcIiwgXCIjZmI4MTYyXCIsIFwiI2ZiODA2MFwiLCBcIiNmYjdmNWZcIiwgXCIjZmI3ZDVlXCIsIFwiI2ZiN2M1ZFwiLCBcIiNmYjdiNWJcIiwgXCIjZmI3OTVhXCIsIFwiI2ZiNzg1OVwiLCBcIiNmYjc3NThcIiwgXCIjZmI3NjU3XCIsIFwiI2ZiNzQ1NVwiLCBcIiNmYTczNTRcIiwgXCIjZmE3MjUzXCIsIFwiI2ZhNzA1MlwiLCBcIiNmYTZmNTFcIiwgXCIjZmE2ZTUwXCIsIFwiI2ZhNmM0ZVwiLCBcIiNmOTZiNGRcIiwgXCIjZjk2YTRjXCIsIFwiI2Y5Njg0YlwiLCBcIiNmOTY3NGFcIiwgXCIjZjk2NTQ5XCIsIFwiI2Y4NjQ0OFwiLCBcIiNmODYzNDdcIiwgXCIjZjg2MTQ2XCIsIFwiI2Y4NjA0NVwiLCBcIiNmNzVlNDRcIiwgXCIjZjc1ZDQzXCIsIFwiI2Y3NWM0MlwiLCBcIiNmNjVhNDFcIiwgXCIjZjY1OTQwXCIsIFwiI2Y2NTczZlwiLCBcIiNmNTU2M2VcIiwgXCIjZjU1NTNkXCIsIFwiI2Y0NTMzY1wiLCBcIiNmNDUyM2JcIiwgXCIjZjQ1MDNhXCIsIFwiI2YzNGYzOVwiLCBcIiNmMzRlMzhcIiwgXCIjZjI0YzM3XCIsIFwiI2YyNGIzN1wiLCBcIiNmMTQ5MzZcIiwgXCIjZjE0ODM1XCIsIFwiI2YwNDczNFwiLCBcIiNlZjQ1MzNcIiwgXCIjZWY0NDMzXCIsIFwiI2VlNDMzMlwiLCBcIiNlZDQxMzFcIiwgXCIjZWQ0MDMwXCIsIFwiI2VjM2YyZlwiLCBcIiNlYjNkMmZcIiwgXCIjZWIzYzJlXCIsIFwiI2VhM2IyZFwiLCBcIiNlOTNhMmRcIiwgXCIjZTgzODJjXCIsIFwiI2U3MzcyYlwiLCBcIiNlNjM2MmJcIiwgXCIjZTYzNTJhXCIsIFwiI2U1MzQyYVwiLCBcIiNlNDMyMjlcIiwgXCIjZTMzMTI4XCIsIFwiI2UyMzAyOFwiLCBcIiNlMTJmMjdcIiwgXCIjZTAyZTI3XCIsIFwiI2RmMmQyNlwiLCBcIiNkZTJjMjZcIiwgXCIjZGQyYjI1XCIsIFwiI2RjMmEyNVwiLCBcIiNkYjI5MjRcIiwgXCIjZGEyODI0XCIsIFwiI2Q5MjcyM1wiLCBcIiNkNzI2MjNcIiwgXCIjZDYyNTIyXCIsIFwiI2Q1MjQyMlwiLCBcIiNkNDIzMjFcIiwgXCIjZDMyMjIxXCIsIFwiI2QyMjEyMVwiLCBcIiNkMTIwMjBcIiwgXCIjZDAxZjIwXCIsIFwiI2NlMWYxZlwiLCBcIiNjZDFlMWZcIiwgXCIjY2MxZDFmXCIsIFwiI2NiMWQxZVwiLCBcIiNjYTFjMWVcIiwgXCIjYzkxYjFlXCIsIFwiI2M3MWIxZFwiLCBcIiNjNjFhMWRcIiwgXCIjYzUxOTFkXCIsIFwiI2M0MTkxY1wiLCBcIiNjMzE4MWNcIiwgXCIjYzIxODFjXCIsIFwiI2MwMTcxYlwiLCBcIiNiZjE3MWJcIiwgXCIjYmUxNjFiXCIsIFwiI2JkMTYxYVwiLCBcIiNiYjE1MWFcIiwgXCIjYmExNTFhXCIsIFwiI2I5MTQxOVwiLCBcIiNiODE0MTlcIiwgXCIjYjYxNDE5XCIsIFwiI2I1MTMxOVwiLCBcIiNiNDEzMThcIiwgXCIjYjIxMjE4XCIsIFwiI2IxMTIxOFwiLCBcIiNiMDEyMThcIiwgXCIjYWUxMTE3XCIsIFwiI2FkMTExN1wiLCBcIiNhYzExMTdcIiwgXCIjYWExMDE3XCIsIFwiI2E5MTAxNlwiLCBcIiNhNzEwMTZcIiwgXCIjYTYwZjE2XCIsIFwiI2E0MGYxNlwiLCBcIiNhMzBlMTVcIiwgXCIjYTEwZTE1XCIsIFwiI2EwMGUxNVwiLCBcIiM5ZTBkMTVcIiwgXCIjOWMwZDE0XCIsIFwiIzliMGMxNFwiLCBcIiM5OTBjMTRcIiwgXCIjOTcwYzE0XCIsIFwiIzk2MGIxM1wiLCBcIiM5NDBiMTNcIiwgXCIjOTIwYTEzXCIsIFwiIzkwMGExM1wiLCBcIiM4ZjBhMTJcIiwgXCIjOGQwOTEyXCIsIFwiIzhiMDkxMlwiLCBcIiM4OTA4MTJcIiwgXCIjODcwODExXCIsIFwiIzg2MDcxMVwiLCBcIiM4NDA3MTFcIiwgXCIjODIwNzExXCIsIFwiIzgwMDYxMFwiLCBcIiM3ZTA2MTBcIiwgXCIjN2MwNTEwXCIsIFwiIzdhMDUxMFwiLCBcIiM3ODA0MGZcIiwgXCIjNzYwNDBmXCIsIFwiIzc1MDMwZlwiLCBcIiM3MzAzMGZcIiwgXCIjNzEwMjBlXCIsIFwiIzZmMDIwZVwiLCBcIiM2ZDAxMGVcIiwgXCIjNmIwMTBlXCIsIFwiIzY5MDAwZFwiLCBcIiM2NzAwMGRcIl1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAvL0NvbG9ycyBkZXJpdmVkIGZyb20gQ29sb3JCcmV3ZXIsIGJ5IEN5bnRoaWEgQnJld2VyLCBhbmQgaW5jbHVkZWQgaW5cclxuICAgICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9kMy9kMy1zY2FsZS1jaHJvbWF0aWNcclxuXHJcbiAgICAgICAgY29sb3IuZG9tYWluKFtcclxuICAgICAgICAgICAgZDMubWluKGRhdGFGb3JDb2xlcmluZywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0pLFxyXG4gICAgICAgICAgICBkMy5tYXgoZGF0YUZvckNvbGVyaW5nLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSlcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGFTaXplRWxlbWVudHMgPSBBcnJheSh0aGlzLk5SX0VMRU1FTlRTKS5maWxsKHRoaXMuZGVncmVlcyk7XHJcblxyXG5cclxuICAgICAgICB2YXIgcGllID0gZDMucGllKClcclxuICAgICAgICAgICAgLnNvcnQobnVsbClcclxuICAgICAgICAgICAgLnZhbHVlKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkOyB9KTtcclxuXHJcbiAgICAgICAgdmFyIHBhdGggPSBkMy5hcmMoKVxyXG4gICAgICAgICAgICAub3V0ZXJSYWRpdXMocmFkaXVzIC0gMTApXHJcbiAgICAgICAgICAgIC5pbm5lclJhZGl1cyhyYWRpdXMgLSBoZWlnaHQgLyAxMik7XHJcblxyXG4gICAgICAgIC8vIGZvciBsYWJlbHMgb24gYSBjaXJjZWwgYXJvdW5kIHRoZSBkb251dCBjaGFydFxyXG4gICAgICAgIHZhciBsYWJlbCA9IGQzLmFyYygpXHJcbiAgICAgICAgICAgIC5vdXRlclJhZGl1cyhyYWRpdXMpXHJcbiAgICAgICAgICAgIC5pbm5lclJhZGl1cyhyYWRpdXMpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cobGFiZWwpXHJcblxyXG5cclxuICAgICAgICB2YXIgcGF0aERhdGEgPSBsYWJlbCh7XHJcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IDAsLy8tMS4yNSAqIE1hdGguUEksXHJcbiAgICAgICAgICAgIGVuZEFuZ2xlOiAyICogTWF0aC5QSVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhwYXRoRGF0YSlcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcIndhdnlcIikgLy8gdW5pcXVlIGlkIG9mIHBhdGhcclxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGhEYXRhKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgXCIjMEFBQUFBXCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3aWR0aCAvIDIgKyBcIixcIiArIGhlaWdodCAvIDIgKyBcIilcIik7XHJcbiAgICAgICAgLy8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKTtcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmFwcGVuZChcInRleHRQYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcIiN3YXZ5XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3RhcnRPZmZzZXRcIiwgXCIxMi41JVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBmb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoXCJaaWpsaWdnaW5nIHJlY2h0c1wiKVxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdGFydE9mZnNldFwiLCBcIjM3LjUlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIGZvbnRTaXplKVxyXG4gICAgICAgICAgICAudGV4dChcIlppamxpZ2dpbmcgbGlua3NcIilcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmFwcGVuZChcInRleHRQYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcIiN3YXZ5XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3RhcnRPZmZzZXRcIiwgXCIzNy41JVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBmb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoXCJaaWpsaWdnaW5nIGxpbmtzXCIpXHJcblxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJyaWdodFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0YXJ0T2Zmc2V0XCIsIFwiNDguMiVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIiwgZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiUnVnIFwiKVxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3RhcnRPZmZzZXRcIiwgXCIwJVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCBmb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoXCJsaWdnaW5nXCIpXHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0UGF0aFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInhsaW5rOmhyZWZcIiwgXCIjd2F2eVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0YXJ0T2Zmc2V0XCIsIFwiNzUlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIGZvbnRTaXplKVxyXG4gICAgICAgICAgICAvLyAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxyXG4gICAgICAgICAgICAudGV4dChcIkJ1aWsgbGlnZ2luZ1wiKTtcclxuXHJcblxyXG4gICAgICAgIHZhciBhcmMgPSBnLnNlbGVjdEFsbChcIi5hcmNcIilcclxuICAgICAgICAgICAgLmRhdGEocGllKGRhdGFTaXplRWxlbWVudHMpKVxyXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJhcmNcIik7XHJcblxyXG5cclxuICAgICAgICBhcmMuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgcGF0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IoZGF0YUZvckNvbGVyaW5nW2ldKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2spO1xyXG5cclxuICAgICAgICAvLyBtYWtlIGRhdGEgYXJyYXkgMCBhZ2FpblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5OUl9FTEVNRU5UUzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRhdGFGb3JDb2xlcmluZ1tpXSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRhdGFGb3JDb2xlcmluZyA9IGRhdGFGb3JDb2xlcmluZztcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5hcmMgPSBhcmM7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcblxyXG5cclxuICAgICAgICB2YXIgY29udGVudEcgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgxMDAsMTAwKVwiKTsgLy8gY2VudGVyIG9mIHJvdGF0aW9uXHJcblxyXG4gICAgICAgIHZhciByb3RhdGluZ0cgPSBjb250ZW50Ry5hcHBlbmQoXCJnXCIpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHJlY3QgPSByb3RhdGluZ0cuYXBwZW5kKFwic3ZnOmltYWdlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJmZWV0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgMTAwKVxyXG4gICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCAxMDApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAtNTApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAtNTApXHJcbiAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcIi4vaW1nL2ljb25zL2ZlZXQyLnBuZ1wiKTtcclxuXHJcbiAgICAgICAgcm90YXRpbmdHLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoXCIgKyAwICsgXCIpXCIpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVDbGljaygpIHtcclxuXHJcbiAgICAgICAgLy8gIHZhciBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlRFU1RcIilcclxuICAgICAgICAvLyAgZWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kb1VwZGF0ZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkb1VwZGF0ZShkYXRhYXJyYXkpIHtcclxuXHJcbiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5jb2xvcjtcclxuICAgICAgICB2YXIgZGF0YUZvckNvbGVyaW5nID0gdGhpcy5kYXRhRm9yQ29sZXJpbmc7XHJcblxyXG4gICAgICAgIHZhciBkYXQgPSBkYXRhYXJyYXlbMF07XHJcbiAgICAgICAgdmFyIGFyY25yID0gZGF0IC8gdGhpcy5kZWdyZWVzO1xyXG4gICAgICAgIGFyY25yID0gTWF0aC5mbG9vcihhcmNucik7XHJcblxyXG5cclxuICAgICAgICAvLyB2YXIgZGF0YUZvckNvbGVyaW5nID0gW107XHJcbiAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk5SX0VMRU1FTlRTOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgIGRhdGFGb3JDb2xlcmluZy5wdXNoKDApO1xyXG4gICAgICAgIC8vICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWxhcm0gPT0gLTEpXHJcbiAgICAgICAgICAgZGF0YUZvckNvbGVyaW5nW2FyY25yXSA9IGRhdGFGb3JDb2xlcmluZ1thcmNucl0gKyAxO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5OUl9FTEVNRU5UUzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhRm9yQ29sZXJpbmdbaV0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGFGb3JDb2xlcmluZ1thcmNucl0gPSAxOyAgLy8gbWFrZSBvbmx5IDEgcmVkIFxyXG4gICAgICAgIH1cclxuICAgICAgICAgLy9EZWZpbmUgcXVhbnRpemUgc2NhbGUgdG8gc29ydCBkYXRhIHZhbHVlcyBpbnRvIGJ1Y2tldHMgb2YgY29sb3JcclxuICAgICAgICAgdmFyIGNvbG9yQXJyYXkgPSBbXCIjZmZmNWYwXCIsIFwiI2ZmZjRlZlwiLCBcIiNmZmY0ZWVcIiwgXCIjZmZmM2VkXCIsIFwiI2ZmZjJlY1wiLCBcIiNmZmYyZWJcIiwgXCIjZmZmMWVhXCIsIFwiI2ZmZjBlOVwiLCBcIiNmZmYwZThcIiwgXCIjZmZlZmU3XCIsIFwiI2ZmZWVlNlwiLCBcIiNmZmVlZTZcIiwgXCIjZmZlZGU1XCIsIFwiI2ZmZWNlNFwiLCBcIiNmZmVjZTNcIiwgXCIjZmZlYmUyXCIsIFwiI2ZlZWFlMVwiLCBcIiNmZWU5ZTBcIiwgXCIjZmVlOWRlXCIsIFwiI2ZlZThkZFwiLCBcIiNmZWU3ZGNcIiwgXCIjZmVlNmRiXCIsIFwiI2ZlZTZkYVwiLCBcIiNmZWU1ZDlcIiwgXCIjZmVlNGQ4XCIsIFwiI2ZlZTNkN1wiLCBcIiNmZWUyZDZcIiwgXCIjZmVlMmQ1XCIsIFwiI2ZlZTFkNFwiLCBcIiNmZWUwZDJcIiwgXCIjZmVkZmQxXCIsIFwiI2ZlZGVkMFwiLCBcIiNmZWRkY2ZcIiwgXCIjZmVkY2NkXCIsIFwiI2ZlZGJjY1wiLCBcIiNmZWRhY2JcIiwgXCIjZmVkOWNhXCIsIFwiI2ZlZDhjOFwiLCBcIiNmZWQ3YzdcIiwgXCIjZmRkNmM2XCIsIFwiI2ZkZDVjNFwiLCBcIiNmZGQ0YzNcIiwgXCIjZmRkM2MxXCIsIFwiI2ZkZDJjMFwiLCBcIiNmZGQxYmZcIiwgXCIjZmRkMGJkXCIsIFwiI2ZkY2ZiY1wiLCBcIiNmZGNlYmFcIiwgXCIjZmRjZGI5XCIsIFwiI2ZkY2NiN1wiLCBcIiNmZGNiYjZcIiwgXCIjZmRjOWI0XCIsIFwiI2ZkYzhiM1wiLCBcIiNmZGM3YjJcIiwgXCIjZmRjNmIwXCIsIFwiI2ZkYzVhZlwiLCBcIiNmZGM0YWRcIiwgXCIjZmRjMmFjXCIsIFwiI2ZkYzFhYVwiLCBcIiNmZGMwYThcIiwgXCIjZmNiZmE3XCIsIFwiI2ZjYmVhNVwiLCBcIiNmY2JjYTRcIiwgXCIjZmNiYmEyXCIsIFwiI2ZjYmFhMVwiLCBcIiNmY2I5OWZcIiwgXCIjZmNiODllXCIsIFwiI2ZjYjY5Y1wiLCBcIiNmY2I1OWJcIiwgXCIjZmNiNDk5XCIsIFwiI2ZjYjM5OFwiLCBcIiNmY2IxOTZcIiwgXCIjZmNiMDk1XCIsIFwiI2ZjYWY5NFwiLCBcIiNmY2FlOTJcIiwgXCIjZmNhYzkxXCIsIFwiI2ZjYWI4ZlwiLCBcIiNmY2FhOGVcIiwgXCIjZmNhOThjXCIsIFwiI2ZjYTc4YlwiLCBcIiNmY2E2ODlcIiwgXCIjZmNhNTg4XCIsIFwiI2ZjYTQ4NlwiLCBcIiNmY2EyODVcIiwgXCIjZmNhMTgzXCIsIFwiI2ZjYTA4MlwiLCBcIiNmYzllODFcIiwgXCIjZmM5ZDdmXCIsIFwiI2ZjOWM3ZVwiLCBcIiNmYzliN2NcIiwgXCIjZmM5OTdiXCIsIFwiI2ZjOTg3YVwiLCBcIiNmYzk3NzhcIiwgXCIjZmM5Njc3XCIsIFwiI2ZjOTQ3NVwiLCBcIiNmYzkzNzRcIiwgXCIjZmM5MjczXCIsIFwiI2ZjOTA3MVwiLCBcIiNmYzhmNzBcIiwgXCIjZmM4ZTZmXCIsIFwiI2ZjOGQ2ZFwiLCBcIiNmYzhiNmNcIiwgXCIjZmM4YTZiXCIsIFwiI2ZjODk2OVwiLCBcIiNmYzg4NjhcIiwgXCIjZmM4NjY3XCIsIFwiI2ZjODU2NVwiLCBcIiNmYzg0NjRcIiwgXCIjZmI4MjYzXCIsIFwiI2ZiODE2MlwiLCBcIiNmYjgwNjBcIiwgXCIjZmI3ZjVmXCIsIFwiI2ZiN2Q1ZVwiLCBcIiNmYjdjNWRcIiwgXCIjZmI3YjViXCIsIFwiI2ZiNzk1YVwiLCBcIiNmYjc4NTlcIiwgXCIjZmI3NzU4XCIsIFwiI2ZiNzY1N1wiLCBcIiNmYjc0NTVcIiwgXCIjZmE3MzU0XCIsIFwiI2ZhNzI1M1wiLCBcIiNmYTcwNTJcIiwgXCIjZmE2ZjUxXCIsIFwiI2ZhNmU1MFwiLCBcIiNmYTZjNGVcIiwgXCIjZjk2YjRkXCIsIFwiI2Y5NmE0Y1wiLCBcIiNmOTY4NGJcIiwgXCIjZjk2NzRhXCIsIFwiI2Y5NjU0OVwiLCBcIiNmODY0NDhcIiwgXCIjZjg2MzQ3XCIsIFwiI2Y4NjE0NlwiLCBcIiNmODYwNDVcIiwgXCIjZjc1ZTQ0XCIsIFwiI2Y3NWQ0M1wiLCBcIiNmNzVjNDJcIiwgXCIjZjY1YTQxXCIsIFwiI2Y2NTk0MFwiLCBcIiNmNjU3M2ZcIiwgXCIjZjU1NjNlXCIsIFwiI2Y1NTUzZFwiLCBcIiNmNDUzM2NcIiwgXCIjZjQ1MjNiXCIsIFwiI2Y0NTAzYVwiLCBcIiNmMzRmMzlcIiwgXCIjZjM0ZTM4XCIsIFwiI2YyNGMzN1wiLCBcIiNmMjRiMzdcIiwgXCIjZjE0OTM2XCIsIFwiI2YxNDgzNVwiLCBcIiNmMDQ3MzRcIiwgXCIjZWY0NTMzXCIsIFwiI2VmNDQzM1wiLCBcIiNlZTQzMzJcIiwgXCIjZWQ0MTMxXCIsIFwiI2VkNDAzMFwiLCBcIiNlYzNmMmZcIiwgXCIjZWIzZDJmXCIsIFwiI2ViM2MyZVwiLCBcIiNlYTNiMmRcIiwgXCIjZTkzYTJkXCIsIFwiI2U4MzgyY1wiLCBcIiNlNzM3MmJcIiwgXCIjZTYzNjJiXCIsIFwiI2U2MzUyYVwiLCBcIiNlNTM0MmFcIiwgXCIjZTQzMjI5XCIsIFwiI2UzMzEyOFwiLCBcIiNlMjMwMjhcIiwgXCIjZTEyZjI3XCIsIFwiI2UwMmUyN1wiLCBcIiNkZjJkMjZcIiwgXCIjZGUyYzI2XCIsIFwiI2RkMmIyNVwiLCBcIiNkYzJhMjVcIiwgXCIjZGIyOTI0XCIsIFwiI2RhMjgyNFwiLCBcIiNkOTI3MjNcIiwgXCIjZDcyNjIzXCIsIFwiI2Q2MjUyMlwiLCBcIiNkNTI0MjJcIiwgXCIjZDQyMzIxXCIsIFwiI2QzMjIyMVwiLCBcIiNkMjIxMjFcIiwgXCIjZDEyMDIwXCIsIFwiI2QwMWYyMFwiLCBcIiNjZTFmMWZcIiwgXCIjY2QxZTFmXCIsIFwiI2NjMWQxZlwiLCBcIiNjYjFkMWVcIiwgXCIjY2ExYzFlXCIsIFwiI2M5MWIxZVwiLCBcIiNjNzFiMWRcIiwgXCIjYzYxYTFkXCIsIFwiI2M1MTkxZFwiLCBcIiNjNDE5MWNcIiwgXCIjYzMxODFjXCIsIFwiI2MyMTgxY1wiLCBcIiNjMDE3MWJcIiwgXCIjYmYxNzFiXCIsIFwiI2JlMTYxYlwiLCBcIiNiZDE2MWFcIiwgXCIjYmIxNTFhXCIsIFwiI2JhMTUxYVwiLCBcIiNiOTE0MTlcIiwgXCIjYjgxNDE5XCIsIFwiI2I2MTQxOVwiLCBcIiNiNTEzMTlcIiwgXCIjYjQxMzE4XCIsIFwiI2IyMTIxOFwiLCBcIiNiMTEyMThcIiwgXCIjYjAxMjE4XCIsIFwiI2FlMTExN1wiLCBcIiNhZDExMTdcIiwgXCIjYWMxMTE3XCIsIFwiI2FhMTAxN1wiLCBcIiNhOTEwMTZcIiwgXCIjYTcxMDE2XCIsIFwiI2E2MGYxNlwiLCBcIiNhNDBmMTZcIiwgXCIjYTMwZTE1XCIsIFwiI2ExMGUxNVwiLCBcIiNhMDBlMTVcIiwgXCIjOWUwZDE1XCIsIFwiIzljMGQxNFwiLCBcIiM5YjBjMTRcIiwgXCIjOTkwYzE0XCIsIFwiIzk3MGMxNFwiLCBcIiM5NjBiMTNcIiwgXCIjOTQwYjEzXCIsIFwiIzkyMGExM1wiLCBcIiM5MDBhMTNcIiwgXCIjOGYwYTEyXCIsIFwiIzhkMDkxMlwiLCBcIiM4YjA5MTJcIiwgXCIjODkwODEyXCIsIFwiIzg3MDgxMVwiLCBcIiM4NjA3MTFcIiwgXCIjODQwNzExXCIsIFwiIzgyMDcxMVwiLCBcIiM4MDA2MTBcIiwgXCIjN2UwNjEwXCIsIFwiIzdjMDUxMFwiLCBcIiM3YTA1MTBcIiwgXCIjNzgwNDBmXCIsIFwiIzc2MDQwZlwiLCBcIiM3NTAzMGZcIiwgXCIjNzMwMzBmXCIsIFwiIzcxMDIwZVwiLCBcIiM2ZjAyMGVcIiwgXCIjNmQwMTBlXCIsIFwiIzZiMDEwZVwiLCBcIiM2OTAwMGRcIiwgXCIjNjcwMDBkXCJdXHJcbiAgICAgICAgXHJcbiAgICAgICAgIHZhciBjb2xvciA9IGQzLnNjYWxlUXVhbnRpemUoKS5yYW5nZShjb2xvckFycmF5KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5hbGFybSA9PSAtMSlcclxuICAgICAgICB7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGRvbWFpbiBhZ2FpblxyXG4gICAgICAgIGNvbG9yLmRvbWFpbihbXHJcbiAgICAgICAgICAgIGQzLm1pbihkYXRhRm9yQ29sZXJpbmcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkOyB9KSxcclxuICAgICAgICAgICAgKCg0KjYwKjYwKSAvIHRoaXMuaW50ZXJ2YWwpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbG9yLmRvbWFpbihbXHJcbiAgICAgICAgICAgICAgICBkMy5taW4oZGF0YUZvckNvbGVyaW5nLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSksXHJcbiAgICAgICAgICAgICAgICAoKDQqNjApIC8gdGhpcy5hbGFybSkgIC8vIHNob3VsZCBiZSA0KjYwIGJ1dCB0aGVuIGNvbG9ycyBhcmUgdG8gZGFyayBhbHJlYWR5XHJcbiAgICAgICAgICAgIF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZDMuc2VsZWN0KFwiI2NoYXJ0XCIpXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGRhdGFGb3JDb2xlcmluZ1tpXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGQzLnNlbGVjdChcIiNjaGFydFwiKVxyXG4gICAgICAgICAgICAuc2VsZWN0KFwiI2ZlZXRcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoXCIgKyBkYXQgKyBcIilcIik7XHJcbiAgICAgICAgLy9kYXRhRm9yQ29sZXJpbmdbYXJjbnJdID0gZGF0YUZvckNvbGVyaW5nW2FyY25yXSAtIDE5OyAgLy8gb25seSBhZGQgMSBpbiB0b3RhbFxyXG4gICAgfVxyXG5cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2xzZy1waWUnLCBMU0dQaWUpO1xyXG4iLCJjbGFzcyBMdW1vIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG4gICAgcmV0dXJuICcxLjUuMCc7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCd2YWFkaW4tbHVtby1zdHlsZXMnLCBMdW1vKTtcblxuZXhwb3J0IHsgTHVtbyB9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge1Byb21pc2U8dm9pZD59ICovXG5sZXQgcmVhZHlQcm9taXNlID0gbnVsbDtcblxuLyoqIEB0eXBlIHs/ZnVuY3Rpb24oP2Z1bmN0aW9uKCkpfSAqL1xubGV0IHdoZW5SZWFkeSA9IHdpbmRvd1snSFRNTEltcG9ydHMnXSAmJiB3aW5kb3dbJ0hUTUxJbXBvcnRzJ11bJ3doZW5SZWFkeSddIHx8IG51bGw7XG5cbi8qKiBAdHlwZSB7ZnVuY3Rpb24oKX0gKi9cbmxldCByZXNvbHZlRm47XG5cbi8qKlxuICogQHBhcmFtIHs/ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZG9jdW1lbnRXYWl0KGNhbGxiYWNrKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICBpZiAod2hlblJlYWR5KSB7XG4gICAgICB3aGVuUmVhZHkoY2FsbGJhY2spXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcmVhZHlQcm9taXNlKSB7XG4gICAgICAgIHJlYWR5UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7cmVzb2x2ZUZuID0gcmVzb2x2ZX0pO1xuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHJlc29sdmVGbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICByZXNvbHZlRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24oKXsgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTsgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGRvY3VtZW50V2FpdCBmcm9tICcuL2RvY3VtZW50LXdhaXQuanMnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtIVE1MU3R5bGVFbGVtZW50IHwge2dldFN0eWxlOiBmdW5jdGlvbigpOkhUTUxTdHlsZUVsZW1lbnR9fVxuICovXG5leHBvcnQgbGV0IEN1c3RvbVN0eWxlUHJvdmlkZXI7XG5cbmNvbnN0IFNFRU5fTUFSS0VSID0gJ19fc2VlbkJ5U2hhZHlDU1MnO1xuY29uc3QgQ0FDSEVEX1NUWUxFID0gJ19fc2hhZHlDU1NDYWNoZWRTdHlsZSc7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gKi9cbmxldCB0cmFuc2Zvcm1GbiA9IG51bGw7XG5cbi8qKiBAdHlwZSB7P2Z1bmN0aW9uKCl9ICovXG5sZXQgdmFsaWRhdGVGbiA9IG51bGw7XG5cbi8qKlxuVGhpcyBpbnRlcmZhY2UgaXMgcHJvdmlkZWQgdG8gYWRkIGRvY3VtZW50LWxldmVsIDxzdHlsZT4gZWxlbWVudHMgdG8gU2hhZHlDU1MgZm9yIHByb2Nlc3NpbmcuXG5UaGVzZSBzdHlsZXMgbXVzdCBiZSBwcm9jZXNzZWQgYnkgU2hhZHlDU1MgdG8gc2ltdWxhdGUgU2hhZG93Um9vdCB1cHBlci1ib3VuZCBlbmNhcHN1bGF0aW9uIGZyb20gb3V0c2lkZSBzdHlsZXNcbkluIGFkZGl0aW9uLCB0aGVzZSBzdHlsZXMgbWF5IGFsc28gbmVlZCB0byBiZSBwcm9jZXNzZWQgZm9yIEBhcHBseSBydWxlcyBhbmQgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG5cblRvIGFkZCBkb2N1bWVudC1sZXZlbCBzdHlsZXMgdG8gU2hhZHlDU1MsIG9uZSBjYW4gY2FsbCBgU2hhZHlDU1MuYWRkRG9jdW1lbnRTdHlsZShzdHlsZUVsZW1lbnQpYCBvciBgU2hhZHlDU1MuYWRkRG9jdW1lbnRTdHlsZSh7Z2V0U3R5bGU6ICgpID0+IHN0eWxlRWxlbWVudH0pYFxuXG5JbiBhZGRpdGlvbiwgaWYgdGhlIHByb2Nlc3MgdXNlZCB0byBkaXNjb3ZlciBkb2N1bWVudC1sZXZlbCBzdHlsZXMgY2FuIGJlIHN5bmNocm9ub3VzbHkgZmx1c2hlZCwgb25lIHNob3VsZCBzZXQgYFNoYWR5Q1NTLmRvY3VtZW50U3R5bGVGbHVzaGAuXG5UaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW4gY2FsY3VsYXRpbmcgc3R5bGVzLlxuXG5BbiBleGFtcGxlIHVzYWdlIG9mIHRoZSBkb2N1bWVudC1sZXZlbCBzdHlsaW5nIGFwaSBjYW4gYmUgZm91bmQgaW4gYGV4YW1wbGVzL2RvY3VtZW50LXN0eWxlLWxpYi5qc2BcblxuQHVucmVzdHJpY3RlZFxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbVN0eWxlSW50ZXJmYWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHshQXJyYXk8IUN1c3RvbVN0eWxlUHJvdmlkZXI+fSAqL1xuICAgIHRoaXNbJ2N1c3RvbVN0eWxlcyddID0gW107XG4gICAgdGhpc1snZW5xdWV1ZWQnXSA9IGZhbHNlO1xuICAgIC8vIE5PVEUoZGZyZWVkbSk6IHVzZSBxdW90ZXMgaGVyZSB0byBwcmV2ZW50IGNsb3N1cmUgaW5saW5pbmcgdG8gYGZ1bmN0aW9uKCl7fWA7XG4gICAgZG9jdW1lbnRXYWl0KCgpID0+IHtcbiAgICAgIGlmICh3aW5kb3dbJ1NoYWR5Q1NTJ11bJ2ZsdXNoQ3VzdG9tU3R5bGVzJ10pIHtcbiAgICAgICAgd2luZG93WydTaGFkeUNTUyddWydmbHVzaEN1c3RvbVN0eWxlcyddKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICAvKipcbiAgICogUXVldWUgYSB2YWxpZGF0aW9uIGZvciBuZXcgY3VzdG9tIHN0eWxlcyB0byBiYXRjaCBzdHlsZSByZWNhbGN1bGF0aW9uc1xuICAgKi9cbiAgZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbigpIHtcbiAgICBpZiAodGhpc1snZW5xdWV1ZWQnXSB8fCAhdmFsaWRhdGVGbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzWydlbnF1ZXVlZCddID0gdHJ1ZTtcbiAgICBkb2N1bWVudFdhaXQodmFsaWRhdGVGbik7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqL1xuICBhZGRDdXN0b21TdHlsZShzdHlsZSkge1xuICAgIGlmICghc3R5bGVbU0VFTl9NQVJLRVJdKSB7XG4gICAgICBzdHlsZVtTRUVOX01BUktFUl0gPSB0cnVlO1xuICAgICAgdGhpc1snY3VzdG9tU3R5bGVzJ10ucHVzaChzdHlsZSk7XG4gICAgICB0aGlzLmVucXVldWVEb2N1bWVudFZhbGlkYXRpb24oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUN1c3RvbVN0eWxlUHJvdmlkZXJ9IGN1c3RvbVN0eWxlXG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gICAqL1xuICBnZXRTdHlsZUZvckN1c3RvbVN0eWxlKGN1c3RvbVN0eWxlKSB7XG4gICAgaWYgKGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV0pIHtcbiAgICAgIHJldHVybiBjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdO1xuICAgIH1cbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKGN1c3RvbVN0eWxlWydnZXRTdHlsZSddKSB7XG4gICAgICBzdHlsZSA9IGN1c3RvbVN0eWxlWydnZXRTdHlsZSddKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlID0gY3VzdG9tU3R5bGU7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiB7IUFycmF5PCFDdXN0b21TdHlsZVByb3ZpZGVyPn1cbiAgICovXG4gIHByb2Nlc3NTdHlsZXMoKSB7XG4gICAgY29uc3QgY3MgPSB0aGlzWydjdXN0b21TdHlsZXMnXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjdXN0b21TdHlsZSA9IGNzW2ldO1xuICAgICAgaWYgKGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGVGb3JDdXN0b21TdHlsZShjdXN0b21TdHlsZSk7XG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgLy8gSFRNTEltcG9ydHMgcG9seWZpbGwgbWF5IGhhdmUgY2xvbmVkIHRoZSBzdHlsZSBpbnRvIHRoZSBtYWluIGRvY3VtZW50LFxuICAgICAgICAvLyB3aGljaCBpcyByZWZlcmVuY2VkIHdpdGggX19hcHBsaWVkRWxlbWVudC5cbiAgICAgICAgY29uc3Qgc3R5bGVUb1RyYW5zZm9ybSA9IC8qKiBAdHlwZSB7IUhUTUxTdHlsZUVsZW1lbnR9ICovKHN0eWxlWydfX2FwcGxpZWRFbGVtZW50J10gfHwgc3R5bGUpO1xuICAgICAgICBpZiAodHJhbnNmb3JtRm4pIHtcbiAgICAgICAgICB0cmFuc2Zvcm1GbihzdHlsZVRvVHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBjdXN0b21TdHlsZVtDQUNIRURfU1RZTEVdID0gc3R5bGVUb1RyYW5zZm9ybTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNzO1xuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduICovXG5DdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGVbJ2FkZEN1c3RvbVN0eWxlJ10gPSBDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUuYWRkQ3VzdG9tU3R5bGU7XG5DdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGVbJ2dldFN0eWxlRm9yQ3VzdG9tU3R5bGUnXSA9IEN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZS5nZXRTdHlsZUZvckN1c3RvbVN0eWxlO1xuQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlWydwcm9jZXNzU3R5bGVzJ10gPSBDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUucHJvY2Vzc1N0eWxlcztcbi8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1hc3NpZ24gKi9cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlLCB7XG4gICd0cmFuc2Zvcm1DYWxsYmFjayc6IHtcbiAgICAvKiogQHJldHVybiB7P2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KX0gKi9cbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtRm47XG4gICAgfSxcbiAgICAvKiogQHBhcmFtIHs/ZnVuY3Rpb24oIUhUTUxTdHlsZUVsZW1lbnQpfSBmbiAqL1xuICAgIHNldChmbikge1xuICAgICAgdHJhbnNmb3JtRm4gPSBmbjtcbiAgICB9XG4gIH0sXG4gICd2YWxpZGF0ZUNhbGxiYWNrJzoge1xuICAgIC8qKiBAcmV0dXJuIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVGbjtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P2Z1bmN0aW9uKCl9IGZuXG4gICAgICogQHRoaXMge0N1c3RvbVN0eWxlSW50ZXJmYWNlfVxuICAgICAqL1xuICAgIHNldChmbikge1xuICAgICAgbGV0IG5lZWRzRW5xdWV1ZSA9IGZhbHNlO1xuICAgICAgaWYgKCF2YWxpZGF0ZUZuKSB7XG4gICAgICAgIG5lZWRzRW5xdWV1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YWxpZGF0ZUZuID0gZm47XG4gICAgICBpZiAobmVlZHNFbnF1ZXVlKSB7XG4gICAgICAgIHRoaXMuZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG4gIH1cbn0pXG5cbi8qKiBAdHlwZWRlZiB7e1xuICogY3VzdG9tU3R5bGVzOiAhQXJyYXk8IUN1c3RvbVN0eWxlUHJvdmlkZXI+LFxuICogYWRkQ3VzdG9tU3R5bGU6IGZ1bmN0aW9uKCFDdXN0b21TdHlsZVByb3ZpZGVyKSxcbiAqIGdldFN0eWxlRm9yQ3VzdG9tU3R5bGU6IGZ1bmN0aW9uKCFDdXN0b21TdHlsZVByb3ZpZGVyKTogSFRNTFN0eWxlRWxlbWVudCxcbiAqIGZpbmRTdHlsZXM6IGZ1bmN0aW9uKCksXG4gKiB0cmFuc2Zvcm1DYWxsYmFjazogP2Z1bmN0aW9uKCFIVE1MU3R5bGVFbGVtZW50KSxcbiAqIHZhbGlkYXRlQ2FsbGJhY2s6ID9mdW5jdGlvbigpXG4gKiB9fVxuICovXG5leHBvcnQgY29uc3QgQ3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2UgPSB7fTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmV4cG9ydCBjb25zdCBWQVJfQVNTSUdOID0gLyg/Ol58WztcXHN7XVxccyopKC0tW1xcdy1dKj8pXFxzKjpcXHMqKD86KCg/OicoPzpcXFxcJ3wuKSo/J3xcIig/OlxcXFxcInwuKSo/XCJ8XFwoW14pXSo/XFwpfFtefTt7XSkrKXxcXHsoW159XSopXFx9KD86KD89WztcXHN9XSl8JCkpL2dpO1xuZXhwb3J0IGNvbnN0IE1JWElOX01BVENIID0gLyg/Ol58XFxXKylAYXBwbHlcXHMqXFwoPyhbXik7XFxuXSopXFwpPy9naTtcbmV4cG9ydCBjb25zdCBWQVJfQ09OU1VNRUQgPSAvKC0tW1xcdy1dKylcXHMqKFs6LDspXXwkKS9naTtcbmV4cG9ydCBjb25zdCBBTklNQVRJT05fTUFUQ0ggPSAvKGFuaW1hdGlvblxccyo6KXwoYW5pbWF0aW9uLW5hbWVcXHMqOikvO1xuZXhwb3J0IGNvbnN0IE1FRElBX01BVENIID0gL0BtZWRpYVxccyguKikvO1xuZXhwb3J0IGNvbnN0IElTX1ZBUiA9IC9eLS0vO1xuZXhwb3J0IGNvbnN0IEJSQUNLRVRFRCA9IC9cXHtbXn1dKlxcfS9nO1xuZXhwb3J0IGNvbnN0IEhPU1RfUFJFRklYID0gJyg/Ol58W14uI1s6XSknO1xuZXhwb3J0IGNvbnN0IEhPU1RfU1VGRklYID0gJygkfFsuOltcXFxccz4rfl0pJztcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgTUlYSU5fTUFUQ0gsIFZBUl9BU1NJR04gfSBmcm9tICcuL2NvbW1vbi1yZWdleC5qcyc7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAvLyByZW1vdmUgcHJldmlvdXMgcHJvcGVydGllc1xuICBmb3IgKGxldCBwIGluIHByb3BlcnRpZXMpIHtcbiAgICAvLyBOT1RFOiBmb3IgYmMgd2l0aCBzaGltLCBkb24ndCBhcHBseSBudWxsIHZhbHVlcy5cbiAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwLCBwcm9wZXJ0aWVzW3BdKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIC8qKlxuICAgKiBAY29uc3Qge3N0cmluZ31cbiAgICovXG4gIGNvbnN0IHZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfVxufVxuXG4vKipcbiAqIHJldHVybiB0cnVlIGlmIGBjc3NUZXh0YCBjb250YWlucyBhIG1peGluIGRlZmluaXRpb24gb3IgY29uc3VtcHRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0TWl4aW4oY3NzVGV4dCkge1xuICBjb25zdCBoYXMgPSBNSVhJTl9NQVRDSC50ZXN0KGNzc1RleHQpIHx8IFZBUl9BU1NJR04udGVzdChjc3NUZXh0KTtcbiAgLy8gcmVzZXQgc3RhdGUgb2YgdGhlIHJlZ2V4ZXNcbiAgTUlYSU5fTUFUQ0gubGFzdEluZGV4ID0gMDtcbiAgVkFSX0FTU0lHTi5sYXN0SW5kZXggPSAwO1xuICByZXR1cm4gaGFzO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY29uc3QgbmF0aXZlU2hhZG93ID0gISh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKTtcbmxldCBuYXRpdmVDc3NWYXJpYWJsZXNfO1xuXG4vKipcbiAqIEBwYXJhbSB7KFNoYWR5Q1NTT3B0aW9ucyB8IFNoYWR5Q1NTSW50ZXJmYWNlKT19IHNldHRpbmdzXG4gKi9cbmZ1bmN0aW9uIGNhbGNDc3NWYXJpYWJsZXMoc2V0dGluZ3MpIHtcbiAgaWYgKHNldHRpbmdzICYmIHNldHRpbmdzWydzaGltY3NzcHJvcGVydGllcyddKSB7XG4gICAgbmF0aXZlQ3NzVmFyaWFibGVzXyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIC8vIGNocm9tZSA0OSBoYXMgc2VtaS13b3JraW5nIGNzcyB2YXJzLCBjaGVjayBpZiBib3gtc2hhZG93IHdvcmtzXG4gICAgLy8gc2FmYXJpIDkuMSBoYXMgYSByZWNhbGMgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU1NzgyXG4gICAgLy8gSG93ZXZlciwgc2hpbSBjc3MgY3VzdG9tIHByb3BlcnRpZXMgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggU2hhZHlET00gZW5hYmxlZCxcbiAgICAvLyBzbyBmYWxsIGJhY2sgb24gbmF0aXZlIGlmIHdlIGRvIG5vdCBkZXRlY3QgU2hhZHlET01cbiAgICAvLyBFZGdlIDE1OiBjdXN0b20gcHJvcGVydGllcyB1c2VkIGluIDo6YmVmb3JlIGFuZCA6OmFmdGVyIHdpbGwgYWxzbyBiZSB1c2VkIGluIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzEyNDE0MjU3L1xuICAgIG5hdGl2ZUNzc1ZhcmlhYmxlc18gPSBuYXRpdmVTaGFkb3cgfHwgQm9vbGVhbighbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC82MDF8RWRnZVxcLzE1LykgJiZcbiAgICAgIHdpbmRvdy5DU1MgJiYgQ1NTLnN1cHBvcnRzICYmIENTUy5zdXBwb3J0cygnYm94LXNoYWRvdycsICcwIDAgMCB2YXIoLS1mb28pJykpO1xuICB9XG59XG5cbi8qKiBAdHlwZSB7c3RyaW5nIHwgdW5kZWZpbmVkfSAqL1xuZXhwb3J0IGxldCBjc3NCdWlsZDtcbmlmICh3aW5kb3cuU2hhZHlDU1MgJiYgd2luZG93LlNoYWR5Q1NTLmNzc0J1aWxkICE9PSB1bmRlZmluZWQpIHtcbiAgY3NzQnVpbGQgPSB3aW5kb3cuU2hhZHlDU1MuY3NzQnVpbGQ7XG59XG5cbi8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBjb25zdCBkaXNhYmxlUnVudGltZSA9IEJvb2xlYW4od2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5kaXNhYmxlUnVudGltZSk7XG5cbmlmICh3aW5kb3cuU2hhZHlDU1MgJiYgd2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzcyAhPT0gdW5kZWZpbmVkKSB7XG4gIG5hdGl2ZUNzc1ZhcmlhYmxlc18gPSB3aW5kb3cuU2hhZHlDU1MubmF0aXZlQ3NzO1xufSBlbHNlIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgY2FsY0Nzc1ZhcmlhYmxlcyh3aW5kb3cuU2hhZHlDU1MpO1xuICAvLyByZXNldCB3aW5kb3cgdmFyaWFibGUgdG8gbGV0IFNoYWR5Q1NTIEFQSSB0YWtlIGl0cyBwbGFjZVxuICB3aW5kb3cuU2hhZHlDU1MgPSB1bmRlZmluZWQ7XG59IGVsc2Uge1xuICBjYWxjQ3NzVmFyaWFibGVzKHdpbmRvd1snV2ViQ29tcG9uZW50cyddICYmIHdpbmRvd1snV2ViQ29tcG9uZW50cyddWydmbGFncyddKTtcbn1cblxuLy8gSGFjayBmb3IgdHlwZSBlcnJvciB1bmRlciBuZXcgdHlwZSBpbmZlcmVuY2Ugd2hpY2ggZG9lc24ndCBsaWtlIHRoYXRcbi8vIG5hdGl2ZUNzc1ZhcmlhYmxlcyBpcyB1cGRhdGVkIGluIGEgZnVuY3Rpb24gYW5kIGFzc2lnbnMgdGhlIHR5cGVcbi8vIGBmdW5jdGlvbigpOiA/YCBpbnN0ZWFkIG9mIGBib29sZWFuYC5cbmV4cG9ydCBjb25zdCBuYXRpdmVDc3NWYXJpYWJsZXMgPSAvKiogQHR5cGUge2Jvb2xlYW59ICovKG5hdGl2ZUNzc1ZhcmlhYmxlc18pOyIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEN1c3RvbVN0eWxlSW50ZXJmYWNlIGZyb20gJy4uL3NyYy9jdXN0b20tc3R5bGUtaW50ZXJmYWNlLmpzJztcbmltcG9ydCB7Z2V0Q29tcHV0ZWRTdHlsZVZhbHVlLCB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzfSBmcm9tICcuLi9zcmMvY29tbW9uLXV0aWxzLmpzJztcbmltcG9ydCB7bmF0aXZlQ3NzVmFyaWFibGVzLCBuYXRpdmVTaGFkb3csIGNzc0J1aWxkLCBkaXNhYmxlUnVudGltZX0gZnJvbSAnLi4vc3JjL3N0eWxlLXNldHRpbmdzLmpzJztcblxuY29uc3QgY3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBuZXcgQ3VzdG9tU3R5bGVJbnRlcmZhY2UoKTtcblxuaWYgKCF3aW5kb3cuU2hhZHlDU1MpIHtcbiAgd2luZG93LlNoYWR5Q1NTID0ge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50RXh0ZW5kc1xuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIGVsZW1lbnRFeHRlbmRzKSB7fSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKi9cbiAgICBwcmVwYXJlVGVtcGxhdGVEb20odGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7fSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdHlsZVN1YnRyZWUoZWxlbWVudCwgcHJvcGVydGllcykge1xuICAgICAgY3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvY2Vzc1N0eWxlcygpO1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgY3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvY2Vzc1N0eWxlcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdHlsZURvY3VtZW50KHByb3BlcnRpZXMpIHtcbiAgICAgIGN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb2Nlc3NTdHlsZXMoKTtcbiAgICAgIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXMoZG9jdW1lbnQuYm9keSwgcHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgIH0sXG5cbiAgICBmbHVzaEN1c3RvbVN0eWxlcygpIHt9LFxuICAgIG5hdGl2ZUNzczogbmF0aXZlQ3NzVmFyaWFibGVzLFxuICAgIG5hdGl2ZVNoYWRvdzogbmF0aXZlU2hhZG93LFxuICAgIGNzc0J1aWxkOiBjc3NCdWlsZCxcbiAgICBkaXNhYmxlUnVudGltZTogZGlzYWJsZVJ1bnRpbWUsXG4gIH1cbn1cblxud2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlID0gY3VzdG9tU3R5bGVJbnRlcmZhY2U7IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzIHJlcGxhY2VkIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XVxuICogV2UgY2Fubm90IGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZSBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHBhcmFtIHs/T2JqZWN0fSBvYmogUmVmZXJlbmNlIG9iamVjdFxuICogQHJldHVybiB7c3RyaW5nfSBQb3RlbnRpYWxseSByZW5hbWVkIHByb3BlcnR5IG5hbWVcbiAqL1xud2luZG93LkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSBmdW5jdGlvbihwcm9wLCBvYmopIHtcbiAgcmV0dXJuIHByb3A7XG59O1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5leHBvcnQge307XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5sZXQgQ1NTX1VSTF9SWCA9IC8odXJsXFwoKShbXildKikoXFwpKS9nO1xubGV0IEFCU19VUkwgPSAvKF5cXC9bXlxcL10pfCheIyl8KF5bXFx3LVxcZF0qOikvO1xubGV0IHdvcmtpbmdVUkw7XG5sZXQgcmVzb2x2ZURvYztcbi8qKlxuICogUmVzb2x2ZXMgdGhlIGdpdmVuIFVSTCBhZ2FpbnN0IHRoZSBwcm92aWRlZCBgYmFzZVVyaScuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgbm8gcmVzb2x1dGlvbiBmb3IgVVJMcyB0aGF0IHN0YXJ0XG4gKiB3aXRoIGAvYCAoYWJzb2x1dGUgVVJMcykgb3IgYCNgIChoYXNoIGlkZW50aWZpZXJzKS4gIEZvciBnZW5lcmFsIHB1cnBvc2VcbiAqIFVSTCByZXNvbHV0aW9uLCB1c2UgYHdpbmRvdy5VUkxgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSW5wdXQgVVJMIHRvIHJlc29sdmVcbiAqIEBwYXJhbSB7P3N0cmluZz19IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmVzb2x2ZSB0aGUgVVJMIGFnYWluc3RcbiAqIEByZXR1cm4ge3N0cmluZ30gcmVzb2x2ZWQgVVJMXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlVXJsKHVybCwgYmFzZVVSSSkge1xuICBpZiAodXJsICYmIEFCU19VUkwudGVzdCh1cmwpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBpZiAodXJsID09PSAnLy8nKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICAvLyBMYXp5IGZlYXR1cmUgZGV0ZWN0aW9uLlxuICBpZiAod29ya2luZ1VSTCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgd29ya2luZ1VSTCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1ID0gbmV3IFVSTCgnYicsICdodHRwOi8vYScpO1xuICAgICAgdS5wYXRobmFtZSA9ICdjJTIwZCc7XG4gICAgICB3b3JraW5nVVJMID0gKHUuaHJlZiA9PT0gJ2h0dHA6Ly9hL2MlMjBkJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gc2lsZW50bHkgZmFpbFxuICAgIH1cbiAgfVxuICBpZiAoIWJhc2VVUkkpIHtcbiAgICBiYXNlVVJJID0gZG9jdW1lbnQuYmFzZVVSSSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgfVxuICBpZiAod29ya2luZ1VSTCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKG5ldyBVUkwodXJsLCBiYXNlVVJJKSkuaHJlZjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBCYWQgdXJsIG9yIGJhc2VVUkkgc3RydWN0dXJlLiBEbyBub3QgYXR0ZW1wdCB0byByZXNvbHZlLlxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1cbiAgLy8gRmFsbGJhY2sgdG8gY3JlYXRpbmcgYW4gYW5jaG9yIGludG8gYSBkaXNjb25uZWN0ZWQgZG9jdW1lbnQuXG4gIGlmICghcmVzb2x2ZURvYykge1xuICAgIHJlc29sdmVEb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJ3RlbXAnKTtcbiAgICByZXNvbHZlRG9jLmJhc2UgPSByZXNvbHZlRG9jLmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKTtcbiAgICByZXNvbHZlRG9jLmhlYWQuYXBwZW5kQ2hpbGQocmVzb2x2ZURvYy5iYXNlKTtcbiAgICByZXNvbHZlRG9jLmFuY2hvciA9IHJlc29sdmVEb2MuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHJlc29sdmVEb2MuYm9keS5hcHBlbmRDaGlsZChyZXNvbHZlRG9jLmFuY2hvcik7XG4gIH1cbiAgcmVzb2x2ZURvYy5iYXNlLmhyZWYgPSBiYXNlVVJJO1xuICByZXNvbHZlRG9jLmFuY2hvci5ocmVmID0gdXJsO1xuICByZXR1cm4gcmVzb2x2ZURvYy5hbmNob3IuaHJlZiB8fCB1cmw7XG5cbn1cblxuLyoqXG4gKiBSZXNvbHZlcyBhbnkgcmVsYXRpdmUgVVJMJ3MgaW4gdGhlIGdpdmVuIENTUyB0ZXh0IGFnYWluc3QgdGhlIHByb3ZpZGVkXG4gKiBgb3duZXJEb2N1bWVudGAncyBgYmFzZVVSSWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgQ1NTIHRleHQgdG8gcHJvY2Vzc1xuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmVzb2x2ZSB0aGUgVVJMIGFnYWluc3RcbiAqIEByZXR1cm4ge3N0cmluZ30gUHJvY2Vzc2VkIENTUyB0ZXh0IHdpdGggcmVzb2x2ZWQgVVJMJ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDc3MoY3NzVGV4dCwgYmFzZVVSSSkge1xuICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKENTU19VUkxfUlgsIGZ1bmN0aW9uKG0sIHByZSwgdXJsLCBwb3N0KSB7XG4gICAgcmV0dXJuIHByZSArICdcXCcnICtcbiAgICAgIHJlc29sdmVVcmwodXJsLnJlcGxhY2UoL1tcIiddL2csICcnKSwgYmFzZVVSSSkgK1xuICAgICAgJ1xcJycgKyBwb3N0O1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gYHVybGAuIFRoZSBwYXRoIGluY2x1ZGVzIHRoZSB0cmFpbGluZ1xuICogYC9gIGZyb20gdGhlIHVybC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIElucHV0IFVSTCB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm4ge3N0cmluZ30gcmVzb2x2ZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGF0aEZyb21VcmwodXJsKSB7XG4gIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBwYXRoRnJvbVVybCB9IGZyb20gJy4vcmVzb2x2ZS11cmwuanMnO1xuZXhwb3J0IGNvbnN0IHVzZVNoYWRvdyA9ICEod2luZG93LlNoYWR5RE9NKTtcbmV4cG9ydCBjb25zdCB1c2VOYXRpdmVDU1NQcm9wZXJ0aWVzID0gQm9vbGVhbighd2luZG93LlNoYWR5Q1NTIHx8IHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3MpO1xuZXhwb3J0IGNvbnN0IHVzZU5hdGl2ZUN1c3RvbUVsZW1lbnRzID0gISh3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayk7XG5cblxuLyoqXG4gKiBHbG9iYWxseSBzZXR0YWJsZSBwcm9wZXJ0eSB0aGF0IGlzIGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG9cbiAqIGBFbGVtZW50TWl4aW5gIGluc3RhbmNlcywgdXNlZnVsIGZvciBiaW5kaW5nIGluIHRlbXBsYXRlcyB0b1xuICogbWFrZSBVUkwncyByZWxhdGl2ZSB0byBhbiBhcHBsaWNhdGlvbidzIHJvb3QuICBEZWZhdWx0cyB0byB0aGUgbWFpblxuICogZG9jdW1lbnQgVVJMLCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgdXNlcnMuICBJdCBtYXkgYmUgdXNlZnVsIHRvIHNldFxuICogYHJvb3RQYXRoYCB0byBwcm92aWRlIGEgc3RhYmxlIGFwcGxpY2F0aW9uIG1vdW50IHBhdGggd2hlblxuICogdXNpbmcgY2xpZW50IHNpZGUgcm91dGluZy5cbiAqL1xuZXhwb3J0IGxldCByb290UGF0aCA9IHBhdGhGcm9tVXJsKGRvY3VtZW50LmJhc2VVUkkgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG4vKipcbiAqIFNldHMgdGhlIGdsb2JhbCByb290UGF0aCBwcm9wZXJ0eSB1c2VkIGJ5IGBFbGVtZW50TWl4aW5gIGFuZFxuICogYXZhaWxhYmxlIHZpYSBgcm9vdFBhdGhgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBuZXcgcm9vdCBwYXRoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0Um9vdFBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJvb3RQYXRoID0gcGF0aDtcbn07XG5cbi8qKlxuICogQSBnbG9iYWwgY2FsbGJhY2sgdXNlZCB0byBzYW5pdGl6ZSBhbnkgdmFsdWUgYmVmb3JlIGluc2VydGluZyBpdCBpbnRvIHRoZSBET00uXG4gKiBUaGUgY2FsbGJhY2sgc2lnbmF0dXJlIGlzOlxuICpcbiAqICBmdW5jdGlvbiBzYW5pdGl6ZURPTVZhbHVlKHZhbHVlLCBuYW1lLCB0eXBlLCBub2RlKSB7IC4uLiB9XG4gKlxuICogV2hlcmU6XG4gKlxuICogYHZhbHVlYCBpcyB0aGUgdmFsdWUgdG8gc2FuaXRpemUuXG4gKiBgbmFtZWAgaXMgdGhlIG5hbWUgb2YgYW4gYXR0cmlidXRlIG9yIHByb3BlcnR5IChmb3IgZXhhbXBsZSwgaHJlZikuXG4gKiBgdHlwZWAgaW5kaWNhdGVzIHdoZXJlIHRoZSB2YWx1ZSBpcyBiZWluZyBpbnNlcnRlZDogb25lIG9mIHByb3BlcnR5LCBhdHRyaWJ1dGUsIG9yIHRleHQuXG4gKiBgbm9kZWAgaXMgdGhlIG5vZGUgd2hlcmUgdGhlIHZhbHVlIGlzIGJlaW5nIGluc2VydGVkLlxuICpcbiAqIEB0eXBlIHsoZnVuY3Rpb24oKixzdHJpbmcsc3RyaW5nLE5vZGUpOiopfHVuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGxldCBzYW5pdGl6ZURPTVZhbHVlID0gd2luZG93LlBvbHltZXIgJiYgd2luZG93LlBvbHltZXIuc2FuaXRpemVET01WYWx1ZSB8fCB1bmRlZmluZWQ7XG5cbi8qKlxuICogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplRE9NVmFsdWUgYXZhaWxhYmxlIHZpYSB0aGlzIG1vZHVsZSdzIGV4cG9ydGVkXG4gKiBgc2FuaXRpemVET01WYWx1ZWAgdmFyaWFibGUuXG4gKlxuICogQHBhcmFtIHsoZnVuY3Rpb24oKixzdHJpbmcsc3RyaW5nLE5vZGUpOiopfHVuZGVmaW5lZH0gbmV3U2FuaXRpemVET01WYWx1ZSB0aGUgZ2xvYmFsIHNhbml0aXplRE9NVmFsdWUgY2FsbGJhY2tcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRTYW5pdGl6ZURPTVZhbHVlID0gZnVuY3Rpb24obmV3U2FuaXRpemVET01WYWx1ZSkge1xuICBzYW5pdGl6ZURPTVZhbHVlID0gbmV3U2FuaXRpemVET01WYWx1ZTtcbn07XG5cbi8qKlxuICogR2xvYmFsbHkgc2V0dGFibGUgcHJvcGVydHkgdG8gbWFrZSBQb2x5bWVyIEdlc3R1cmVzIHVzZSBwYXNzaXZlIFRvdWNoRXZlbnQgbGlzdGVuZXJzIHdoZW4gcmVjb2duaXppbmcgZ2VzdHVyZXMuXG4gKiBXaGVuIHNldCB0byBgdHJ1ZWAsIGdlc3R1cmVzIG1hZGUgZnJvbSB0b3VjaCB3aWxsIG5vdCBiZSBhYmxlIHRvIHByZXZlbnQgc2Nyb2xsaW5nLCBhbGxvd2luZyBmb3Igc21vb3RoZXJcbiAqIHNjcm9sbGluZyBwZXJmb3JtYW5jZS5cbiAqIERlZmF1bHRzIHRvIGBmYWxzZWAgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgbGV0IHBhc3NpdmVUb3VjaEdlc3R1cmVzID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgcGFzc2l2ZVRvdWNoR2VzdHVyZXNgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdXNpbmcgUG9seW1lciBHZXN0dXJlcy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVBhc3NpdmUgZW5hYmxlIG9yIGRpc2FibGUgcGFzc2l2ZSB0b3VjaCBnZXN0dXJlcyBnbG9iYWxseVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFBhc3NpdmVUb3VjaEdlc3R1cmVzID0gZnVuY3Rpb24odXNlUGFzc2l2ZSkge1xuICBwYXNzaXZlVG91Y2hHZXN0dXJlcyA9IHVzZVBhc3NpdmU7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gZW5zdXJlIFBvbHltZXIgdGVtcGxhdGUgZXZhbHVhdGlvbiBvbmx5IG9jY3VycyBiYXNlZCBvbiB0ZW1wYXRlc1xuICogZGVmaW5lZCBpbiB0cnVzdGVkIHNjcmlwdC4gIFdoZW4gdHJ1ZSwgYDxkb20tbW9kdWxlPmAgcmUtcmVnaXN0cmF0aW9uIGlzXG4gKiBkaXNhbGxvd2VkLCBgPGRvbS1iaW5kPmAgaXMgZGlzYWJsZWQsIGFuZCBgPGRvbS1pZj5gL2A8ZG9tLXJlcGVhdD5gXG4gKiB0ZW1wbGF0ZXMgd2lsbCBvbmx5IGV2YWx1YXRlIGluIHRoZSBjb250ZXh0IG9mIGEgdHJ1c3RlZCBlbGVtZW50IHRlbXBsYXRlLlxuICovXG5leHBvcnQgbGV0IHN0cmljdFRlbXBsYXRlUG9saWN5ID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyBgc3RyaWN0VGVtcGxhdGVQb2xpY3lgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVN0cmljdFBvbGljeSBlbmFibGUgb3IgZGlzYWJsZSBzdHJpY3QgdGVtcGxhdGUgcG9saWN5XG4gKiAgIGdsb2JhbGx5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0U3RyaWN0VGVtcGxhdGVQb2xpY3kgPSBmdW5jdGlvbih1c2VTdHJpY3RQb2xpY3kpIHtcbiAgc3RyaWN0VGVtcGxhdGVQb2xpY3kgPSB1c2VTdHJpY3RQb2xpY3k7XG59O1xuXG4vKipcbiAqIFNldHRpbmcgdG8gZW5hYmxlIGRvbS1tb2R1bGUgbG9va3VwIGZyb20gUG9seW1lci5FbGVtZW50LiAgQnkgZGVmYXVsdCxcbiAqIHRlbXBsYXRlcyBtdXN0IGJlIGRlZmluZWQgaW4gc2NyaXB0IHVzaW5nIHRoZSBgc3RhdGljIGdldCB0ZW1wbGF0ZSgpYFxuICogZ2V0dGVyIGFuZCB0aGUgYGh0bWxgIHRhZyBmdW5jdGlvbi4gIFRvIGVuYWJsZSBsZWdhY3kgbG9hZGluZyBvZiB0ZW1wbGF0ZXNcbiAqIHZpYSBkb20tbW9kdWxlLCBzZXQgdGhpcyBmbGFnIHRvIHRydWUuXG4gKi9cbmV4cG9ydCBsZXQgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBsb29rdXBUZW1wbGF0ZUZyb21Eb21Nb2R1bGVgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHNcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFsbG93RG9tTW9kdWxlIGVuYWJsZSBvciBkaXNhYmxlIHRlbXBsYXRlIGxvb2t1cFxuICogICBnbG9iYWxseVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldEFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlID0gZnVuY3Rpb24oYWxsb3dEb21Nb2R1bGUpIHtcbiAgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUgPSBhbGxvd0RvbU1vZHVsZTtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBza2lwIHByb2Nlc3Npbmcgc3R5bGUgaW5jbHVkZXMgYW5kIHJlLXdyaXRpbmcgdXJscyBpbiBjc3Mgc3R5bGVzLlxuICogTm9ybWFsbHkgXCJpbmNsdWRlZFwiIHN0eWxlcyBhcmUgcHVsbGVkIGludG8gdGhlIGVsZW1lbnQgYW5kIGFsbCB1cmxzIGluIHN0eWxlc1xuICogYXJlIHJlLXdyaXR0ZW4gdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5pbmcgc2NyaXB0IHVybC5cbiAqIElmIG5vIGluY2x1ZGVzIG9yIHJlbGF0aXZlIHVybHMgYXJlIHVzZWQgaW4gc3R5bGVzLCB0aGVzZSBzdGVwcyBjYW4gYmVcbiAqIHNraXBwZWQgYXMgYW4gb3B0aW1pemF0aW9uLlxuICovXG5leHBvcnQgbGV0IGxlZ2FjeU9wdGltaXphdGlvbnMgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBsZWdhY3lPcHRpbWl6YXRpb25zYCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzIHRvIGVuYWJsZSBvcHRpbWl6YXRpb25zXG4gKiB3aGVuIG9ubHkgbGVnYWN5IGJhc2VkIGVsZW1lbnRzIGFyZSB1c2VkLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlTGVnYWN5T3B0aW1pemF0aW9ucyBlbmFibGUgb3IgZGlzYWJsZSBsZWdhY3kgb3B0aW1pemF0aW9uc1xuICogaW5jbHVkZXMgYW5kIHVybCByZXdyaXRpbmdcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRMZWdhY3lPcHRpbWl6YXRpb25zID0gZnVuY3Rpb24odXNlTGVnYWN5T3B0aW1pemF0aW9ucykge1xuICBsZWdhY3lPcHRpbWl6YXRpb25zID0gdXNlTGVnYWN5T3B0aW1pemF0aW9ucztcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBwZXJmb3JtIGluaXRpYWwgcmVuZGVyaW5nIHN5bmNocm9ub3VzbHkgd2hlbiBydW5uaW5nIHVuZGVyIFNoYWR5RE9NLlxuICogVGhpcyBtYXRjaGVzIHRoZSBiZWhhdmlvciBvZiBQb2x5bWVyIDEuXG4gKi9cbmV4cG9ydCBsZXQgc3luY0luaXRpYWxSZW5kZXIgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBzeW5jSW5pdGlhbFJlbmRlcmAgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50cyB0byBlbmFibGUgc3luY2hyb25vdXNcbiAqIGluaXRpYWwgcmVuZGVyaW5nLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlU3luY0luaXRpYWxSZW5kZXIgZW5hYmxlIG9yIGRpc2FibGUgc3luY2hyb25vdXMgaW5pdGlhbFxuICogcmVuZGVyaW5nIGdsb2JhbGx5LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFN5bmNJbml0aWFsUmVuZGVyID0gZnVuY3Rpb24odXNlU3luY0luaXRpYWxSZW5kZXIpIHtcbiAgc3luY0luaXRpYWxSZW5kZXIgPSB1c2VTeW5jSW5pdGlhbFJlbmRlcjtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBjYW5jZWwgc3ludGhldGljIGNsaWNrIGV2ZW50cyBmaXJlZCBieSBvbGRlciBtb2JpbGUgYnJvd3NlcnMuIE1vZGVybiBicm93c2Vyc1xuICogbm8gbG9uZ2VyIGZpcmUgc3ludGhldGljIGNsaWNrIGV2ZW50cywgYW5kIHRoZSBjYW5jZWxsYXRpb24gYmVoYXZpb3IgY2FuIGludGVyZmVyZVxuICogd2hlbiBwcm9ncmFtbWF0aWNhbGx5IGNsaWNraW5nIG9uIGVsZW1lbnRzLlxuICovXG5leHBvcnQgbGV0IGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzID0gdHJ1ZTtcblxuLyoqXG4gKiBTZXRzIGBzZXRDYW5jZWxTeW50aGV0aWNFdmVudHNgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdG8gY2FuY2VsIHN5bnRoZXRpYyBjbGljayBldmVudHMuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VDYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyBlbmFibGUgb3IgZGlzYWJsZSBjYW5jZWxsaW5nIHN5bnRoZXRpY1xuICogZXZlbnRzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0Q2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMgPSBmdW5jdGlvbih1c2VDYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cykge1xuICBjYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyA9IHVzZUNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyByZXNvbHZlVXJsLCBwYXRoRnJvbVVybCB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmUtdXJsLmpzJztcbmltcG9ydCB7IHN0cmljdFRlbXBsYXRlUG9saWN5IH0gZnJvbSAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuXG5sZXQgbW9kdWxlcyA9IHt9O1xubGV0IGxjTW9kdWxlcyA9IHt9O1xuLyoqXG4gKiBTZXRzIGEgZG9tLW1vZHVsZSBpbnRvIHRoZSBnbG9iYWwgcmVnaXN0cnkgYnkgaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIGRvbS1tb2R1bGUgaWRcbiAqIEBwYXJhbSB7RG9tTW9kdWxlfSBtb2R1bGUgZG9tLW1vZHVsZSBpbnN0YW5jZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gc2V0TW9kdWxlKGlkLCBtb2R1bGUpIHtcbiAgLy8gc3RvcmUgaWQgc2VwYXJhdGUgZnJvbSBsb3dlcmNhc2VkIGlkIHNvIHRoYXRcbiAgLy8gaW4gYWxsIGNhc2VzIG1peGVkQ2FzZSBpZCB3aWxsIHN0b3JlZCBkaXN0aW5jdGx5XG4gIC8vIGFuZCBsb3dlcmNhc2UgdmVyc2lvbiBpcyBhIGZhbGxiYWNrXG4gIG1vZHVsZXNbaWRdID0gbGNNb2R1bGVzW2lkLnRvTG93ZXJDYXNlKCldID0gbW9kdWxlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBkb20tbW9kdWxlIGZyb20gdGhlIGdsb2JhbCByZWdpc3RyeSBieSBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgZG9tLW1vZHVsZSBpZFxuICogQHJldHVybiB7RG9tTW9kdWxlIX0gZG9tLW1vZHVsZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBmaW5kTW9kdWxlKGlkKSB7XG4gIHJldHVybiBtb2R1bGVzW2lkXSB8fCBsY01vZHVsZXNbaWQudG9Mb3dlckNhc2UoKV07XG59XG5cbmZ1bmN0aW9uIHN0eWxlT3V0c2lkZVRlbXBsYXRlQ2hlY2soaW5zdCkge1xuICBpZiAoaW5zdC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKSB7XG4gICAgY29uc29sZS53YXJuKCdkb20tbW9kdWxlICVzIGhhcyBzdHlsZSBvdXRzaWRlIHRlbXBsYXRlJywgaW5zdC5pZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgYGRvbS1tb2R1bGVgIGVsZW1lbnQgcmVnaXN0ZXJzIHRoZSBkb20gaXQgY29udGFpbnMgdG8gdGhlIG5hbWUgZ2l2ZW5cbiAqIGJ5IHRoZSBtb2R1bGUncyBpZCBhdHRyaWJ1dGUuIEl0IHByb3ZpZGVzIGEgdW5pZmllZCBkYXRhYmFzZSBvZiBkb21cbiAqIGFjY2Vzc2libGUgdmlhIGl0cyBzdGF0aWMgYGltcG9ydGAgQVBJLlxuICpcbiAqIEEga2V5IHVzZSBjYXNlIG9mIGBkb20tbW9kdWxlYCBpcyBmb3IgcHJvdmlkaW5nIGN1c3RvbSBlbGVtZW50IGA8dGVtcGxhdGU+YHNcbiAqIHZpYSBIVE1MIGltcG9ydHMgdGhhdCBhcmUgcGFyc2VkIGJ5IHRoZSBuYXRpdmUgSFRNTCBwYXJzZXIsIHRoYXQgY2FuIGJlXG4gKiByZWxvY2F0ZWQgZHVyaW5nIGEgYnVuZGxpbmcgcGFzcyBhbmQgc3RpbGwgbG9va2VkIHVwIGJ5IGBpZGAuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgPGRvbS1tb2R1bGUgaWQ9XCJmb29cIj5cbiAqICAgICAgIDxpbWcgc3JjPVwic3R1ZmYucG5nXCI+XG4gKiAgICAgPC9kb20tbW9kdWxlPlxuICpcbiAqIFRoZW4gaW4gY29kZSBpbiBzb21lIG90aGVyIGxvY2F0aW9uIHRoYXQgY2Fubm90IGFjY2VzcyB0aGUgZG9tLW1vZHVsZSBhYm92ZVxuICpcbiAqICAgICBsZXQgaW1nID0gY3VzdG9tRWxlbWVudHMuZ2V0KCdkb20tbW9kdWxlJykuaW1wb3J0KCdmb28nLCAnaW1nJyk7XG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0aGF0IHByb3ZpZGVzIGEgcmVnaXN0cnkgb2YgcmVsb2NhdGFibGUgRE9NIGNvbnRlbnRcbiAqICAgYnkgYGlkYCB0aGF0IGlzIGFnbm9zdGljIHRvIGJ1bmRsaW5nLlxuICogQHVucmVzdHJpY3RlZFxuICovXG5leHBvcnQgY2xhc3MgRG9tTW9kdWxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7IHJldHVybiBbJ2lkJ107IH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBlbGVtZW50IHNwZWNpZmllZCBieSB0aGUgY3NzIGBzZWxlY3RvcmAgaW4gdGhlIG1vZHVsZVxuICAgKiByZWdpc3RlcmVkIGJ5IGBpZGAuIEZvciBleGFtcGxlLCB0aGlzLmltcG9ydCgnZm9vJywgJ2ltZycpO1xuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBkb20tbW9kdWxlIGluIHdoaWNoIHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzZWxlY3RvciBUaGUgY3NzIHNlbGVjdG9yIGJ5IHdoaWNoIHRvIGZpbmQgdGhlIGVsZW1lbnQuXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9IFJldHVybnMgdGhlIGVsZW1lbnQgd2hpY2ggbWF0Y2hlcyBgc2VsZWN0b3JgIGluIHRoZVxuICAgKiBtb2R1bGUgcmVnaXN0ZXJlZCBhdCB0aGUgc3BlY2lmaWVkIGBpZGAuXG4gICAqXG4gICAqIEBleHBvcnRcbiAgICogQG5vY29sbGFwc2UgUmVmZXJyZWQgdG8gaW5kaXJlY3RseSBpbiBzdHlsZS1nYXRoZXIuanNcbiAgICovXG4gIHN0YXRpYyBpbXBvcnQoaWQsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGlkKSB7XG4gICAgICBsZXQgbSA9IGZpbmRNb2R1bGUoaWQpO1xuICAgICAgaWYgKG0gJiYgc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG0ucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQ3VycmVudCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlIEF0dHJpYnV0ZSBuYW1lc3BhY2UuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyKCk7XG4gICAgfVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWFyZ3MgKi9cblxuICAvKipcbiAgICogVGhlIGFic29sdXRlIFVSTCBvZiB0aGUgb3JpZ2luYWwgbG9jYXRpb24gb2YgdGhpcyBgZG9tLW1vZHVsZWAuXG4gICAqXG4gICAqIFRoaXMgdmFsdWUgd2lsbCBkaWZmZXIgZnJvbSB0aGlzIGVsZW1lbnQncyBgb3duZXJEb2N1bWVudGAgaW4gdGhlXG4gICAqIGZvbGxvd2luZyB3YXlzOlxuICAgKiAtIFRha2VzIGludG8gYWNjb3VudCBhbnkgYGFzc2V0cGF0aGAgYXR0cmlidXRlIGFkZGVkIGR1cmluZyBidW5kbGluZ1xuICAgKiAgIHRvIGluZGljYXRlIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiByZWxhdGl2ZSB0byB0aGUgYnVuZGxlZCBsb2NhdGlvblxuICAgKiAtIFVzZXMgdGhlIEhUTUxJbXBvcnRzIHBvbHlmaWxsJ3MgYGltcG9ydEZvckVsZW1lbnRgIEFQSSB0byBlbnN1cmVcbiAgICogICB0aGUgcGF0aCBpcyByZWxhdGl2ZSB0byB0aGUgaW1wb3J0IGRvY3VtZW50J3MgbG9jYXRpb24gc2luY2VcbiAgICogICBgb3duZXJEb2N1bWVudGAgaXMgbm90IGN1cnJlbnRseSBwb2x5ZmlsbGVkXG4gICAqL1xuICBnZXQgYXNzZXRwYXRoKCkge1xuICAgIC8vIERvbid0IG92ZXJyaWRlIGV4aXN0aW5nIGFzc2V0cGF0aC5cbiAgICBpZiAoIXRoaXMuX19hc3NldHBhdGgpIHtcbiAgICAgIC8vIG5vdGU6IGFzc2V0cGF0aCBzZXQgdmlhIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIHJlbGF0aXZlIHRvIHRoaXNcbiAgICAgIC8vIGVsZW1lbnQncyBsb2NhdGlvbjsgYWNjb21vZGF0ZSBwb2x5ZmlsbGVkIEhUTUxJbXBvcnRzXG4gICAgICBjb25zdCBvd25lciA9IHdpbmRvdy5IVE1MSW1wb3J0cyAmJiBIVE1MSW1wb3J0cy5pbXBvcnRGb3JFbGVtZW50ID9cbiAgICAgICAgSFRNTEltcG9ydHMuaW1wb3J0Rm9yRWxlbWVudCh0aGlzKSB8fCBkb2N1bWVudCA6IHRoaXMub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHVybCA9IHJlc29sdmVVcmwoXG4gICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKCdhc3NldHBhdGgnKSB8fCAnJywgb3duZXIuYmFzZVVSSSk7XG4gICAgICB0aGlzLl9fYXNzZXRwYXRoID0gcGF0aEZyb21VcmwodXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX19hc3NldHBhdGg7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBkb20tbW9kdWxlIGF0IGEgZ2l2ZW4gaWQuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZFxuICAgKiB3aGVuIGEgZG9tLW1vZHVsZSBpcyBpbXBlcmF0aXZlbHkgY3JlYXRlZC4gRm9yXG4gICAqIGV4YW1wbGUsIGBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkb20tbW9kdWxlJykucmVnaXN0ZXIoJ2ZvbycpYC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBpZCBUaGUgaWQgYXQgd2hpY2ggdG8gcmVnaXN0ZXIgdGhlIGRvbS1tb2R1bGUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZWdpc3RlcihpZCkge1xuICAgIGlkID0gaWQgfHwgdGhpcy5pZDtcbiAgICBpZiAoaWQpIHtcbiAgICAgIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCByZWplY3QgYW5kIG51bGwgb3V0IGFueSByZS1yZWdpc3RlcmVkXG4gICAgICAvLyBkb20tbW9kdWxlIHNpbmNlIGl0IGlzIGFtYmlndW91cyB3aGV0aGVyIGZpcnN0LWluIG9yIGxhc3QtaW4gaXMgdHJ1c3RlZFxuICAgICAgaWYgKHN0cmljdFRlbXBsYXRlUG9saWN5ICYmIGZpbmRNb2R1bGUoaWQpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2V0TW9kdWxlKGlkLCBudWxsKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdHJpY3RUZW1wbGF0ZVBvbGljeTogZG9tLW1vZHVsZSAke2lkfSByZS1yZWdpc3RlcmVkYCk7XG4gICAgICB9XG4gICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICBzZXRNb2R1bGUoaWQsIHRoaXMpO1xuICAgICAgc3R5bGVPdXRzaWRlVGVtcGxhdGVDaGVjayh0aGlzKTtcbiAgICB9XG4gIH1cbn1cblxuRG9tTW9kdWxlLnByb3RvdHlwZVsnbW9kdWxlcyddID0gbW9kdWxlcztcblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkb20tbW9kdWxlJywgRG9tTW9kdWxlKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBjb2xsZWN0aW9uIENTUyB0ZXh0IGZyb20gYDx0ZW1wbGF0ZXM+YCwgZXh0ZXJuYWxcbiAqIHN0eWxlc2hlZXRzLCBhbmQgYGRvbS1tb2R1bGVgcy5cbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIGNvbGxlY3Rpb24gQ1NTIHRleHQgZnJvbSB2YXJpb3VzIHNvdXJjZXMuXG4gKi9cblxuaW1wb3J0IHsgRG9tTW9kdWxlIH0gZnJvbSAnLi4vZWxlbWVudHMvZG9tLW1vZHVsZS5qcyc7XG5pbXBvcnQgeyByZXNvbHZlQ3NzIH0gZnJvbSAnLi9yZXNvbHZlLXVybC5qcyc7XG5cbmNvbnN0IE1PRFVMRV9TVFlMRV9MSU5LX1NFTEVDVE9SID0gJ2xpbmtbcmVsPWltcG9ydF1bdHlwZX49Y3NzXSc7XG5jb25zdCBJTkNMVURFX0FUVFIgPSAnaW5jbHVkZSc7XG5jb25zdCBTSEFEWV9VTlNDT1BFRF9BVFRSID0gJ3NoYWR5LXVuc2NvcGVkJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgLlxuICogQHJldHVybiB7P0RvbU1vZHVsZX0gLlxuICovXG5mdW5jdGlvbiBpbXBvcnRNb2R1bGUobW9kdWxlSWQpIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7P0RvbU1vZHVsZX0gKi8oRG9tTW9kdWxlLmltcG9ydChtb2R1bGVJZCkpO1xufVxuXG5mdW5jdGlvbiBzdHlsZUZvckltcG9ydChpbXBvcnREb2MpIHtcbiAgLy8gTk9URTogcG9seWZpbGwgYWZmb3JkYW5jZS5cbiAgLy8gdW5kZXIgdGhlIEhUTUxJbXBvcnRzIHBvbHlmaWxsLCB0aGVyZSB3aWxsIGJlIG5vICdib2R5JyxcbiAgLy8gYnV0IHRoZSBpbXBvcnQgcHNldWRvLWRvYyBjYW4gYmUgdXNlZCBkaXJlY3RseS5cbiAgbGV0IGNvbnRhaW5lciA9IGltcG9ydERvYy5ib2R5ID8gaW1wb3J0RG9jLmJvZHkgOiBpbXBvcnREb2M7XG4gIGNvbnN0IGltcG9ydENzcyA9IHJlc29sdmVDc3MoY29udGFpbmVyLnRleHRDb250ZW50LFxuICAgIGltcG9ydERvYy5iYXNlVVJJKTtcbiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGltcG9ydENzcztcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKiogQHR5cGVkZWYge3thc3NldHBhdGg6IHN0cmluZ319ICovXG5sZXQgdGVtcGxhdGVXaXRoQXNzZXRQYXRoOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiA8c3R5bGU+IGVsZW1lbnRzIGluIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgYGRvbS1tb2R1bGVgcy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZHMgTGlzdCBvZiBkb20tbW9kdWxlIGlkJ3Mgd2l0aGluIHdoaWNoIHRvXG4gKiBzZWFyY2ggZm9yIGNzcy5cbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCA8c3R5bGU+IGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tTW9kdWxlcyhtb2R1bGVJZHMpIHtcbiBjb25zdCBtb2R1bGVzID0gbW9kdWxlSWRzLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuIGNvbnN0IHN0eWxlcyA9IFtdO1xuIGZvciAobGV0IGk9MDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgIHN0eWxlcy5wdXNoKC4uLnN0eWxlc0Zyb21Nb2R1bGUobW9kdWxlc1tpXSkpO1xuIH1cbiByZXR1cm4gc3R5bGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIDxzdHlsZT4gZWxlbWVudHMgaW4gYSBnaXZlbiBgZG9tLW1vZHVsZWAuXG4gKiBTdHlsZXMgaW4gYSBgZG9tLW1vZHVsZWAgY2FuIGNvbWUgZWl0aGVyIGZyb20gYDxzdHlsZT5gcyB3aXRoaW4gdGhlXG4gKiBmaXJzdCBgPHRlbXBsYXRlPmAsIG9yIGVsc2UgZnJvbSBvbmUgb3IgbW9yZVxuICogYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIGxpbmtzIG91dHNpZGUgdGhlIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCBkb20tbW9kdWxlIGlkIHRvIGdhdGhlciBzdHlsZXMgZnJvbVxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2YgY29udGFpbmVkIHN0eWxlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlc0Zyb21Nb2R1bGUobW9kdWxlSWQpIHtcbiAgY29uc3QgbSA9IGltcG9ydE1vZHVsZShtb2R1bGVJZCk7XG5cbiAgaWYgKCFtKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgZmluZCBzdHlsZSBkYXRhIGluIG1vZHVsZSBuYW1lZCcsIG1vZHVsZUlkKTtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBpZiAobS5fc3R5bGVzID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgICAvLyBtb2R1bGUgaW1wb3J0czogPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPlxuICAgIHN0eWxlcy5wdXNoKC4uLl9zdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhtKSk7XG4gICAgLy8gaW5jbHVkZSBjc3MgZnJvbSB0aGUgZmlyc3QgdGVtcGxhdGUgaW4gdGhlIG1vZHVsZVxuICAgIGNvbnN0IHRlbXBsYXRlID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8oXG4gICAgICAgIG0ucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICBzdHlsZXMucHVzaCguLi5zdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsXG4gICAgICAgIC8qKiBAdHlwZSB7dGVtcGxhdGVXaXRoQXNzZXRQYXRofSAqLyhtKS5hc3NldHBhdGgpKTtcbiAgICB9XG5cbiAgICBtLl9zdHlsZXMgPSBzdHlsZXM7XG4gIH1cblxuICByZXR1cm4gbS5fc3R5bGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGA8c3R5bGU+YCBlbGVtZW50cyB3aXRoaW4gYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYmFzZVVSSSBiYXNlVVJJIGZvciBzdHlsZSBjb250ZW50XG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBzdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgYmFzZVVSSSkge1xuICBpZiAoIXRlbXBsYXRlLl9zdHlsZXMpIHtcbiAgICBjb25zdCBzdHlsZXMgPSBbXTtcbiAgICAvLyBpZiBlbGVtZW50IGlzIGEgdGVtcGxhdGUsIGdldCBjb250ZW50IGZyb20gaXRzIC5jb250ZW50XG4gICAgY29uc3QgZSQgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgZSQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlID0gZSRbaV07XG4gICAgICAvLyBzdXBwb3J0IHN0eWxlIHNoYXJpbmcgYnkgYWxsb3dpbmcgc3R5bGVzIHRvIFwiaW5jbHVkZVwiXG4gICAgICAvLyBvdGhlciBkb20tbW9kdWxlcyB0aGF0IGNvbnRhaW4gc3R5bGluZ1xuICAgICAgbGV0IGluY2x1ZGUgPSBlLmdldEF0dHJpYnV0ZShJTkNMVURFX0FUVFIpO1xuICAgICAgaWYgKGluY2x1ZGUpIHtcbiAgICAgICAgc3R5bGVzLnB1c2goLi4uc3R5bGVzRnJvbU1vZHVsZXMoaW5jbHVkZSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIGluZGV4LCBzZWxmKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PT0gaW5kZXg7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlVVJJKSB7XG4gICAgICAgIGUudGV4dENvbnRlbnQgPVxuICAgICAgICAgICAgcmVzb2x2ZUNzcyhlLnRleHRDb250ZW50LCAvKiogQHR5cGUge3N0cmluZ30gKi8gKGJhc2VVUkkpKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlcy5wdXNoKGUpO1xuICAgIH1cbiAgICB0ZW1wbGF0ZS5fc3R5bGVzID0gc3R5bGVzO1xuICB9XG4gIHJldHVybiB0ZW1wbGF0ZS5fc3R5bGVzO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIDxzdHlsZT4gZWxlbWVudHMgIGZyb20gc3R5bGVzaGVldHMgbG9hZGVkIHZpYSBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmAgbGlua3Mgd2l0aGluIHRoZSBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCBJZCBvZiBgZG9tLW1vZHVsZWAgdG8gZ2F0aGVyIENTUyBmcm9tXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBjb250YWluZWQgc3R5bGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobW9kdWxlSWQpIHtcbiBsZXQgbSA9IGltcG9ydE1vZHVsZShtb2R1bGVJZCk7XG4gcmV0dXJuIG0gPyBfc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobSkgOiBbXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gbW9kdWxlIGRvbS1tb2R1bGUgZWxlbWVudCB0aGF0IGNvdWxkIGNvbnRhaW4gYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIHN0eWxlc1xuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2YgY29udGFpbmVkIHN0eWxlc1xuICovXG5mdW5jdGlvbiBfc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobW9kdWxlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IFtdO1xuICBjb25zdCBwJCA9IG1vZHVsZS5xdWVyeVNlbGVjdG9yQWxsKE1PRFVMRV9TVFlMRV9MSU5LX1NFTEVDVE9SKTtcbiAgZm9yIChsZXQgaT0wOyBpIDwgcCQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcCA9IHAkW2ldO1xuICAgIGlmIChwLmltcG9ydCkge1xuICAgICAgY29uc3QgaW1wb3J0RG9jID0gcC5pbXBvcnQ7XG4gICAgICBjb25zdCB1bnNjb3BlZCA9IHAuaGFzQXR0cmlidXRlKFNIQURZX1VOU0NPUEVEX0FUVFIpO1xuICAgICAgaWYgKHVuc2NvcGVkICYmICFpbXBvcnREb2MuX3Vuc2NvcGVkU3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZUZvckltcG9ydChpbXBvcnREb2MpO1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoU0hBRFlfVU5TQ09QRURfQVRUUiwgJycpO1xuICAgICAgICBpbXBvcnREb2MuX3Vuc2NvcGVkU3R5bGUgPSBzdHlsZTtcbiAgICAgIH0gZWxzZSBpZiAoIWltcG9ydERvYy5fc3R5bGUpIHtcbiAgICAgICAgaW1wb3J0RG9jLl9zdHlsZSA9IHN0eWxlRm9ySW1wb3J0KGltcG9ydERvYyk7XG4gICAgICB9XG4gICAgICBzdHlsZXMucHVzaCh1bnNjb3BlZCA/IGltcG9ydERvYy5fdW5zY29wZWRTdHlsZSA6IGltcG9ydERvYy5fc3R5bGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVzO1xufVxuXG4vKipcbiAqXG4gKiBSZXR1cm5zIENTUyB0ZXh0IG9mIHN0eWxlcyBpbiBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIGBkb20tbW9kdWxlYHMuXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlc0Zyb21Nb2R1bGVzYCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWRzIExpc3Qgb2YgZG9tLW1vZHVsZSBpZCdzIHdpdGhpbiB3aGljaCB0b1xuICogc2VhcmNoIGZvciBjc3MuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIHNwZWNpZmllZCBgZG9tLW1vZHVsZWBzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NGcm9tTW9kdWxlcyhtb2R1bGVJZHMpIHtcbiBsZXQgbW9kdWxlcyA9IG1vZHVsZUlkcy50cmltKCkuc3BsaXQoL1xccysvKTtcbiBsZXQgY3NzVGV4dCA9ICcnO1xuIGZvciAobGV0IGk9MDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgIGNzc1RleHQgKz0gY3NzRnJvbU1vZHVsZShtb2R1bGVzW2ldKTtcbiB9XG4gcmV0dXJuIGNzc1RleHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBDU1MgdGV4dCBvZiBzdHlsZXMgaW4gYSBnaXZlbiBgZG9tLW1vZHVsZWAuICBDU1MgaW4gYSBgZG9tLW1vZHVsZWBcbiAqIGNhbiBjb21lIGVpdGhlciBmcm9tIGA8c3R5bGU+YHMgd2l0aGluIHRoZSBmaXJzdCBgPHRlbXBsYXRlPmAsIG9yIGVsc2VcbiAqIGZyb20gb25lIG9yIG1vcmUgYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIGxpbmtzIG91dHNpZGUgdGhlXG4gKiB0ZW1wbGF0ZS5cbiAqXG4gKiBBbnkgYDxzdHlsZXM+YCBwcm9jZXNzZWQgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBvcmlnaW5hbCBsb2NhdGlvbi5cbiAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBgc3R5bGVGcm9tTW9kdWxlYCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgZG9tLW1vZHVsZSBpZCB0byBnYXRoZXIgc3R5bGVzIGZyb21cbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gc3BlY2lmaWVkIGBkb20tbW9kdWxlYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbU1vZHVsZShtb2R1bGVJZCkge1xuICBsZXQgbSA9IGltcG9ydE1vZHVsZShtb2R1bGVJZCk7XG4gIGlmIChtICYmIG0uX2Nzc1RleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIG1vZHVsZSBpbXBvcnRzOiA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+XG4gICAgbGV0IGNzc1RleHQgPSBfY3NzRnJvbU1vZHVsZUltcG9ydHMobSk7XG4gICAgLy8gaW5jbHVkZSBjc3MgZnJvbSB0aGUgZmlyc3QgdGVtcGxhdGUgaW4gdGhlIG1vZHVsZVxuICAgIGxldCB0ID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8obS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICBpZiAodCkge1xuICAgICAgY3NzVGV4dCArPSBjc3NGcm9tVGVtcGxhdGUodCxcbiAgICAgICAgLyoqIEB0eXBlIHt0ZW1wbGF0ZVdpdGhBc3NldFBhdGh9ICovKG0pLmFzc2V0cGF0aCk7XG4gICAgfVxuICAgIG0uX2Nzc1RleHQgPSBjc3NUZXh0IHx8IG51bGw7XG4gIH1cbiAgaWYgKCFtKSB7XG4gICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgZmluZCBzdHlsZSBkYXRhIGluIG1vZHVsZSBuYW1lZCcsIG1vZHVsZUlkKTtcbiAgfVxuICByZXR1cm4gbSAmJiBtLl9jc3NUZXh0IHx8ICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgQ1NTIHRleHQgb2YgYDxzdHlsZXM+YCB3aXRoaW4gYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqXG4gKiBBbnkgYDxzdHlsZXM+YCBwcm9jZXNzZWQgYXJlIHJlbW92ZWQgZnJvbSB0aGVpciBvcmlnaW5hbCBsb2NhdGlvbi5cbiAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBgc3R5bGVGcm9tVGVtcGxhdGVgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIGdhdGhlciBzdHlsZXMgZnJvbVxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmVzb2x2ZSB0aGUgVVJMIGFnYWluc3RcbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gc3BlY2lmaWVkIHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NGcm9tVGVtcGxhdGUodGVtcGxhdGUsIGJhc2VVUkkpIHtcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgY29uc3QgZSQgPSBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIGJhc2VVUkkpO1xuICAvLyBpZiBlbGVtZW50IGlzIGEgdGVtcGxhdGUsIGdldCBjb250ZW50IGZyb20gaXRzIC5jb250ZW50XG4gIGZvciAobGV0IGk9MDsgaSA8IGUkLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGUgPSBlJFtpXTtcbiAgICBpZiAoZS5wYXJlbnROb2RlKSB7XG4gICAgICBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7XG4gICAgfVxuICAgIGNzc1RleHQgKz0gZS50ZXh0Q29udGVudDtcbiAgfVxuICByZXR1cm4gY3NzVGV4dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIENTUyB0ZXh0IGZyb20gc3R5bGVzaGVldHMgbG9hZGVkIHZpYSBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmBcbiAqIGxpbmtzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGBkb20tbW9kdWxlYC5cbiAqXG4gKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgYHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzYCBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIElkIG9mIGBkb20tbW9kdWxlYCB0byBnYXRoZXIgQ1NTIGZyb21cbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gbGlua3MgaW4gc3BlY2lmaWVkIGBkb20tbW9kdWxlYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzRnJvbU1vZHVsZUltcG9ydHMobW9kdWxlSWQpIHtcbiAgbGV0IG0gPSBpbXBvcnRNb2R1bGUobW9kdWxlSWQpO1xuICByZXR1cm4gbSA/IF9jc3NGcm9tTW9kdWxlSW1wb3J0cyhtKSA6ICcnO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gbW9kdWxlIGRvbS1tb2R1bGUgZWxlbWVudCB0aGF0IGNvdWxkIGNvbnRhaW4gYDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5gIHN0eWxlc1xuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBsaW5rcyBpbiB0aGUgZG9tLW1vZHVsZVxuICovXG5mdW5jdGlvbiBfY3NzRnJvbU1vZHVsZUltcG9ydHMobW9kdWxlKSB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGxldCBzdHlsZXMgPSBfc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMobW9kdWxlKTtcbiAgZm9yIChsZXQgaT0wOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY3NzVGV4dCArPSBzdHlsZXNbaV0udGV4dENvbnRlbnQ7XG4gIH1cbiAgcmV0dXJuIGNzc1RleHQ7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAd2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9jdXN0b20tc3R5bGUtaW50ZXJmYWNlLmpzJztcblxuaW1wb3J0IHsgY3NzRnJvbU1vZHVsZXMgfSBmcm9tICcuLi91dGlscy9zdHlsZS1nYXRoZXIuanMnO1xuXG5jb25zdCBhdHRyID0gJ2luY2x1ZGUnO1xuXG5jb25zdCBDdXN0b21TdHlsZUludGVyZmFjZSA9IHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZTtcblxuLyoqXG4gKiBDdXN0b20gZWxlbWVudCBmb3IgZGVmaW5pbmcgc3R5bGVzIGluIHRoZSBtYWluIGRvY3VtZW50IHRoYXQgY2FuIHRha2VcbiAqIGFkdmFudGFnZSBvZiBbc2hhZHkgRE9NXShodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgc2hpbXNcbiAqIGZvciBzdHlsZSBlbmNhcHN1bGF0aW9uLCBjdXN0b20gcHJvcGVydGllcywgYW5kIGN1c3RvbSBtaXhpbnMuXG4gKlxuICogLSBEb2N1bWVudCBzdHlsZXMgZGVmaW5lZCBpbiBhIGA8Y3VzdG9tLXN0eWxlPmAgYXJlIHNoaW1tZWQgdG8gZW5zdXJlIHRoZXlcbiAqICAgZG8gbm90IGxlYWsgaW50byBsb2NhbCBET00gd2hlbiBydW5uaW5nIG9uIGJyb3dzZXJzIHdpdGhvdXQgbmF0aXZlXG4gKiAgIFNoYWRvdyBET00uXG4gKiAtIEN1c3RvbSBwcm9wZXJ0aWVzIGNhbiBiZSBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YC4gVXNlIHRoZSBgaHRtbGAgc2VsZWN0b3JcbiAqICAgdG8gZGVmaW5lIGN1c3RvbSBwcm9wZXJ0aWVzIHRoYXQgYXBwbHkgdG8gYWxsIGN1c3RvbSBlbGVtZW50cy5cbiAqIC0gQ3VzdG9tIG1peGlucyBjYW4gYmUgZGVmaW5lZCBpbiBhIGA8Y3VzdG9tLXN0eWxlPmAsIGlmIHlvdSBpbXBvcnQgdGhlIG9wdGlvbmFsXG4gKiAgIFthcHBseSBzaGltXShodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcyNhYm91dC1hcHBseXNoaW0pXG4gKiAgIChgc2hhZHljc3MvYXBwbHktc2hpbS5odG1sYCkuXG4gKlxuICogVG8gdXNlOlxuICpcbiAqIC0gSW1wb3J0IGBjdXN0b20tc3R5bGUuaHRtbGAuXG4gKiAtIFBsYWNlIGEgYDxjdXN0b20tc3R5bGU+YCBlbGVtZW50IGluIHRoZSBtYWluIGRvY3VtZW50LCB3cmFwcGluZyBhbiBpbmxpbmUgYDxzdHlsZT5gIHRhZyB0aGF0XG4gKiAgIGNvbnRhaW5zIHRoZSBDU1MgcnVsZXMgeW91IHdhbnQgdG8gc2hpbS5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIGltcG9ydCBhcHBseSBzaGltLS1vbmx5IHJlcXVpcmVkIGlmIHVzaW5nIG1peGlucyAtLT5cbiAqIDxsaW5rIHJlbD1cImltcG9ydFwiIGhyZWY9XCJib3dlcl9jb21wb25lbnRzL3NoYWR5Y3NzL2FwcGx5LXNoaW0uaHRtbFwiPlxuICogPCEtLSBpbXBvcnQgY3VzdG9tLXN0eWxlIGVsZW1lbnQgLS0+XG4gKiA8bGluayByZWw9XCJpbXBvcnRcIiBocmVmPVwiYm93ZXJfY29tcG9uZW50cy9wb2x5bWVyL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuaHRtbFwiPlxuICpcbiAqIDxjdXN0b20tc3R5bGU+XG4gKiAgIDxzdHlsZT5cbiAqICAgICBodG1sIHtcbiAqICAgICAgIC0tY3VzdG9tLWNvbG9yOiBibHVlO1xuICogICAgICAgLS1jdXN0b20tbWl4aW46IHtcbiAqICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gKiAgICAgICAgIGNvbG9yOiByZWQ7XG4gKiAgICAgICB9O1xuICogICAgIH1cbiAqICAgPC9zdHlsZT5cbiAqIDwvY3VzdG9tLXN0eWxlPlxuICogYGBgXG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBmb3IgZGVmaW5pbmcgc3R5bGVzIGluIHRoZSBtYWluIGRvY3VtZW50IHRoYXQgY2FuXG4gKiAgIHRha2UgYWR2YW50YWdlIG9mIFBvbHltZXIncyBzdHlsZSBzY29waW5nIGFuZCBjdXN0b20gcHJvcGVydGllcyBzaGltcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEN1c3RvbVN0eWxlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICBDdXN0b21TdHlsZUludGVyZmFjZS5hZGRDdXN0b21TdHlsZSh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlnaHQtRE9NIGA8c3R5bGU+YCBjaGlsZCB0aGlzIGVsZW1lbnQgd3JhcHMuICBVcG9uIGZpcnN0XG4gICAqIGNhbGwgYW55IHN0eWxlIG1vZHVsZXMgcmVmZXJlbmNlZCB2aWEgdGhlIGBpbmNsdWRlYCBhdHRyaWJ1dGUgd2lsbCBiZVxuICAgKiBjb25jYXRlbmF0ZWQgdG8gdGhpcyBlbGVtZW50J3MgYDxzdHlsZT5gLlxuICAgKlxuICAgKiBAZXhwb3J0XG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9IFRoaXMgZWxlbWVudCdzIGxpZ2h0LURPTSBgPHN0eWxlPmBcbiAgICovXG4gIGdldFN0eWxlKCkge1xuICAgIGlmICh0aGlzLl9zdHlsZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8odGhpcy5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICBjb25zdCBpbmNsdWRlID0gc3R5bGUuZ2V0QXR0cmlidXRlKGF0dHIpO1xuICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAvKiogQHN1cHByZXNzIHtkZXByZWNhdGVkfSAqL1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBjc3NGcm9tTW9kdWxlcyhpbmNsdWRlKSArIHN0eWxlLnRleHRDb250ZW50O1xuICAgIH1cbiAgICAvKlxuICAgIEhUTUwgSW1wb3J0cyBzdHlsaW5nIHRoZSBtYWluIGRvY3VtZW50IGFyZSBkZXByZWNhdGVkIGluIENocm9tZVxuICAgIGh0dHBzOi8vY3JidWcuY29tLzUyMzk1MlxuXG4gICAgSWYgdGhpcyBlbGVtZW50IGlzIG5vdCBpbiB0aGUgbWFpbiBkb2N1bWVudCwgdGhlbiBpdCBtdXN0IGJlIGluIGFuIEhUTUwgSW1wb3J0IGRvY3VtZW50LlxuICAgIEluIHRoYXQgY2FzZSwgbW92ZSB0aGUgY3VzdG9tIHN0eWxlIHRvIHRoZSBtYWluIGRvY3VtZW50LlxuXG4gICAgVGhlIG9yZGVyaW5nIG9mIGA8Y3VzdG9tLXN0eWxlPmAgc2hvdWxkIHN0YXkgdGhlIHNhbWUgYXMgd2hlbiBsb2FkZWQgYnkgSFRNTCBJbXBvcnRzLCBidXQgdGhlcmUgbWF5IGJlIG9kZFxuICAgIGNhc2VzIG9mIG9yZGVyaW5nIHcuci50IHRoZSBtYWluIGRvY3VtZW50IHN0eWxlcy5cbiAgICAqL1xuICAgIGlmICh0aGlzLm93bmVyRG9jdW1lbnQgIT09IHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgd2luZG93LmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgfVxufVxuXG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjdXN0b20tc3R5bGUnLCBDdXN0b21TdHlsZSk7XG4iLCJpbXBvcnQgJy4vdmVyc2lvbi5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbiRfZG9jdW1lbnRDb250YWluZXIuaW5uZXJIVE1MID0gYDxjdXN0b20tc3R5bGU+XG4gIDxzdHlsZT5cbiAgICBodG1sIHtcbiAgICAgIC8qIEJhc2UgKGJhY2tncm91bmQpICovXG4gICAgICAtLWx1bW8tYmFzZS1jb2xvcjogI0ZGRjtcblxuICAgICAgLyogVGludCAqL1xuICAgICAgLS1sdW1vLXRpbnQtNXBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC4zKTtcbiAgICAgIC0tbHVtby10aW50LTEwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjM3KTtcbiAgICAgIC0tbHVtby10aW50LTIwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjQ0KTtcbiAgICAgIC0tbHVtby10aW50LTMwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjUpO1xuICAgICAgLS1sdW1vLXRpbnQtNDBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNTcpO1xuICAgICAgLS1sdW1vLXRpbnQtNTBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNjQpO1xuICAgICAgLS1sdW1vLXRpbnQtNjBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNyk7XG4gICAgICAtLWx1bW8tdGludC03MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC43Nyk7XG4gICAgICAtLWx1bW8tdGludC04MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC44NCk7XG4gICAgICAtLWx1bW8tdGludC05MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC45KTtcbiAgICAgIC0tbHVtby10aW50OiAjRkZGO1xuXG4gICAgICAvKiBTaGFkZSAqL1xuICAgICAgLS1sdW1vLXNoYWRlLTVwY3Q6IGhzbGEoMjE0LCA2MSUsIDI1JSwgMC4wNSk7XG4gICAgICAtLWx1bW8tc2hhZGUtMTBwY3Q6IGhzbGEoMjE0LCA1NyUsIDI0JSwgMC4xKTtcbiAgICAgIC0tbHVtby1zaGFkZS0yMHBjdDogaHNsYSgyMTQsIDUzJSwgMjMlLCAwLjE2KTtcbiAgICAgIC0tbHVtby1zaGFkZS0zMHBjdDogaHNsYSgyMTQsIDUwJSwgMjIlLCAwLjI2KTtcbiAgICAgIC0tbHVtby1zaGFkZS00MHBjdDogaHNsYSgyMTQsIDQ3JSwgMjElLCAwLjM4KTtcbiAgICAgIC0tbHVtby1zaGFkZS01MHBjdDogaHNsYSgyMTQsIDQ1JSwgMjAlLCAwLjUpO1xuICAgICAgLS1sdW1vLXNoYWRlLTYwcGN0OiBoc2xhKDIxNCwgNDMlLCAxOSUsIDAuNjEpO1xuICAgICAgLS1sdW1vLXNoYWRlLTcwcGN0OiBoc2xhKDIxNCwgNDIlLCAxOCUsIDAuNzIpO1xuICAgICAgLS1sdW1vLXNoYWRlLTgwcGN0OiBoc2xhKDIxNCwgNDElLCAxNyUsIDAuODMpO1xuICAgICAgLS1sdW1vLXNoYWRlLTkwcGN0OiBoc2xhKDIxNCwgNDAlLCAxNiUsIDAuOTQpO1xuICAgICAgLS1sdW1vLXNoYWRlOiBoc2woMjE0LCAzNSUsIDE1JSk7XG5cbiAgICAgIC8qIENvbnRyYXN0ICovXG4gICAgICAtLWx1bW8tY29udHJhc3QtNXBjdDogdmFyKC0tbHVtby1zaGFkZS01cGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC0xMHBjdDogdmFyKC0tbHVtby1zaGFkZS0xMHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtMjBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTMwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTMwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC00MHBjdDogdmFyKC0tbHVtby1zaGFkZS00MHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtNTBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtNTBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTYwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTYwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC03MHBjdDogdmFyKC0tbHVtby1zaGFkZS03MHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtODBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtODBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTkwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTkwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdDogdmFyKC0tbHVtby1zaGFkZSk7XG5cbiAgICAgIC8qIFRleHQgKi9cbiAgICAgIC0tbHVtby1oZWFkZXItdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdCk7XG4gICAgICAtLWx1bW8tYm9keS10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTkwcGN0KTtcbiAgICAgIC0tbHVtby1zZWNvbmRhcnktdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC03MHBjdCk7XG4gICAgICAtLWx1bW8tdGVydGlhcnktdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC01MHBjdCk7XG4gICAgICAtLWx1bW8tZGlzYWJsZWQtdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG5cbiAgICAgIC8qIFByaW1hcnkgKi9cbiAgICAgIC0tbHVtby1wcmltYXJ5LWNvbG9yOiBoc2woMjE0LCA5MCUsIDUyJSk7XG4gICAgICAtLWx1bW8tcHJpbWFyeS1jb2xvci01MHBjdDogaHNsYSgyMTQsIDkwJSwgNTIlLCAwLjUpO1xuICAgICAgLS1sdW1vLXByaW1hcnktY29sb3ItMTBwY3Q6IGhzbGEoMjE0LCA5MCUsIDUyJSwgMC4xKTtcbiAgICAgIC0tbHVtby1wcmltYXJ5LXRleHQtY29sb3I6IHZhcigtLWx1bW8tcHJpbWFyeS1jb2xvcik7XG4gICAgICAtLWx1bW8tcHJpbWFyeS1jb250cmFzdC1jb2xvcjogI0ZGRjtcblxuICAgICAgLyogRXJyb3IgKi9cbiAgICAgIC0tbHVtby1lcnJvci1jb2xvcjogaHNsKDMsIDEwMCUsIDYxJSk7XG4gICAgICAtLWx1bW8tZXJyb3ItY29sb3ItNTBwY3Q6IGhzbGEoMywgMTAwJSwgNjAlLCAwLjUpO1xuICAgICAgLS1sdW1vLWVycm9yLWNvbG9yLTEwcGN0OiBoc2xhKDMsIDEwMCUsIDYwJSwgMC4xKTtcbiAgICAgIC0tbHVtby1lcnJvci10ZXh0LWNvbG9yOiBoc2woMywgOTIlLCA1MyUpO1xuICAgICAgLS1sdW1vLWVycm9yLWNvbnRyYXN0LWNvbG9yOiAjRkZGO1xuXG4gICAgICAvKiBTdWNjZXNzICovXG4gICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvcjogaHNsKDE0NSwgODAlLCA0MiUpOyAvKiBoc2woMTQ0LDgyJSwzNyUpOyAqL1xuICAgICAgLS1sdW1vLXN1Y2Nlc3MtY29sb3ItNTBwY3Q6IGhzbGEoMTQ1LCA3NiUsIDQ0JSwgMC41NSk7XG4gICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvci0xMHBjdDogaHNsYSgxNDUsIDc2JSwgNDQlLCAwLjEyKTtcbiAgICAgIC0tbHVtby1zdWNjZXNzLXRleHQtY29sb3I6IGhzbCgxNDUsIDEwMCUsIDMyJSk7XG4gICAgICAtLWx1bW8tc3VjY2Vzcy1jb250cmFzdC1jb2xvcjogI0ZGRjtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2N1c3RvbS1zdHlsZT48ZG9tLW1vZHVsZSBpZD1cImx1bW8tY29sb3JcIj5cbiAgPHRlbXBsYXRlPlxuICAgIDxzdHlsZT5cbiAgICAgIFt0aGVtZX49XCJkYXJrXCJdIHtcbiAgICAgICAgLyogQmFzZSAoYmFja2dyb3VuZCkgKi9cbiAgICAgICAgLS1sdW1vLWJhc2UtY29sb3I6IGhzbCgyMTQsIDM1JSwgMjElKTtcblxuICAgICAgICAvKiBUaW50ICovXG4gICAgICAgIC0tbHVtby10aW50LTVwY3Q6IGhzbGEoMjE0LCA2NSUsIDg1JSwgMC4wNik7XG4gICAgICAgIC0tbHVtby10aW50LTEwcGN0OiBoc2xhKDIxNCwgNjAlLCA4MCUsIDAuMTQpO1xuICAgICAgICAtLWx1bW8tdGludC0yMHBjdDogaHNsYSgyMTQsIDY0JSwgODIlLCAwLjIzKTtcbiAgICAgICAgLS1sdW1vLXRpbnQtMzBwY3Q6IGhzbGEoMjE0LCA2OSUsIDg0JSwgMC4zMik7XG4gICAgICAgIC0tbHVtby10aW50LTQwcGN0OiBoc2xhKDIxNCwgNzMlLCA4NiUsIDAuNDEpO1xuICAgICAgICAtLWx1bW8tdGludC01MHBjdDogaHNsYSgyMTQsIDc4JSwgODglLCAwLjUpO1xuICAgICAgICAtLWx1bW8tdGludC02MHBjdDogaHNsYSgyMTQsIDgyJSwgOTAlLCAwLjYpO1xuICAgICAgICAtLWx1bW8tdGludC03MHBjdDogaHNsYSgyMTQsIDg3JSwgOTIlLCAwLjcpO1xuICAgICAgICAtLWx1bW8tdGludC04MHBjdDogaHNsYSgyMTQsIDkxJSwgOTQlLCAwLjgpO1xuICAgICAgICAtLWx1bW8tdGludC05MHBjdDogaHNsYSgyMTQsIDk2JSwgOTYlLCAwLjkpO1xuICAgICAgICAtLWx1bW8tdGludDogaHNsKDIxNCwgMTAwJSwgOTglKTtcblxuICAgICAgICAvKiBTaGFkZSAqL1xuICAgICAgICAtLWx1bW8tc2hhZGUtNXBjdDogaHNsYSgyMTQsIDAlLCAwJSwgMC4wNyk7XG4gICAgICAgIC0tbHVtby1zaGFkZS0xMHBjdDogaHNsYSgyMTQsIDQlLCAyJSwgMC4xNSk7XG4gICAgICAgIC0tbHVtby1zaGFkZS0yMHBjdDogaHNsYSgyMTQsIDglLCA0JSwgMC4yMyk7XG4gICAgICAgIC0tbHVtby1zaGFkZS0zMHBjdDogaHNsYSgyMTQsIDEyJSwgNiUsIDAuMzIpO1xuICAgICAgICAtLWx1bW8tc2hhZGUtNDBwY3Q6IGhzbGEoMjE0LCAxNiUsIDglLCAwLjQxKTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTUwcGN0OiBoc2xhKDIxNCwgMjAlLCAxMCUsIDAuNSk7XG4gICAgICAgIC0tbHVtby1zaGFkZS02MHBjdDogaHNsYSgyMTQsIDI0JSwgMTIlLCAwLjYpO1xuICAgICAgICAtLWx1bW8tc2hhZGUtNzBwY3Q6IGhzbGEoMjE0LCAyOCUsIDEzJSwgMC43KTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTgwcGN0OiBoc2xhKDIxNCwgMzIlLCAxMyUsIDAuOCk7XG4gICAgICAgIC0tbHVtby1zaGFkZS05MHBjdDogaHNsYSgyMTQsIDMzJSwgMTMlLCAwLjkpO1xuICAgICAgICAtLWx1bW8tc2hhZGU6IGhzbCgyMTQsIDMzJSwgMTMlKTtcblxuICAgICAgICAvKiBDb250cmFzdCAqL1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtNXBjdDogdmFyKC0tbHVtby10aW50LTVwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtMTBwY3Q6IHZhcigtLWx1bW8tdGludC0xMHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC0yMHBjdDogdmFyKC0tbHVtby10aW50LTIwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTMwcGN0OiB2YXIoLS1sdW1vLXRpbnQtMzBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtNDBwY3Q6IHZhcigtLWx1bW8tdGludC00MHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC01MHBjdDogdmFyKC0tbHVtby10aW50LTUwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTYwcGN0OiB2YXIoLS1sdW1vLXRpbnQtNjBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtNzBwY3Q6IHZhcigtLWx1bW8tdGludC03MHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC04MHBjdDogdmFyKC0tbHVtby10aW50LTgwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTkwcGN0OiB2YXIoLS1sdW1vLXRpbnQtOTBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3Q6IHZhcigtLWx1bW8tdGludCk7XG5cbiAgICAgICAgLyogVGV4dCAqL1xuICAgICAgICAtLWx1bW8taGVhZGVyLXRleHQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QpO1xuICAgICAgICAtLWx1bW8tYm9keS10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTkwcGN0KTtcbiAgICAgICAgLS1sdW1vLXNlY29uZGFyeS10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTcwcGN0KTtcbiAgICAgICAgLS1sdW1vLXRlcnRpYXJ5LXRleHQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtNTBwY3QpO1xuICAgICAgICAtLWx1bW8tZGlzYWJsZWQtdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG5cbiAgICAgICAgLyogUHJpbWFyeSAqL1xuICAgICAgICAtLWx1bW8tcHJpbWFyeS1jb2xvcjogaHNsKDIxNCwgODYlLCA1NSUpO1xuICAgICAgICAtLWx1bW8tcHJpbWFyeS1jb2xvci01MHBjdDogaHNsYSgyMTQsIDg2JSwgNTUlLCAwLjUpO1xuICAgICAgICAtLWx1bW8tcHJpbWFyeS1jb2xvci0xMHBjdDogaHNsYSgyMTQsIDkwJSwgNjMlLCAwLjEpO1xuICAgICAgICAtLWx1bW8tcHJpbWFyeS10ZXh0LWNvbG9yOiBoc2woMjE0LCAxMDAlLCA3MCUpO1xuICAgICAgICAtLWx1bW8tcHJpbWFyeS1jb250cmFzdC1jb2xvcjogI0ZGRjtcblxuICAgICAgICAvKiBFcnJvciAqL1xuICAgICAgICAtLWx1bW8tZXJyb3ItY29sb3I6IGhzbCgzLCA5MCUsIDYzJSk7XG4gICAgICAgIC0tbHVtby1lcnJvci1jb2xvci01MHBjdDogaHNsYSgzLCA5MCUsIDYzJSwgMC41KTtcbiAgICAgICAgLS1sdW1vLWVycm9yLWNvbG9yLTEwcGN0OiBoc2xhKDMsIDkwJSwgNjMlLCAwLjEpO1xuICAgICAgICAtLWx1bW8tZXJyb3ItdGV4dC1jb2xvcjogaHNsKDMsIDEwMCUsIDY3JSk7XG5cbiAgICAgICAgLyogU3VjY2VzcyAqL1xuICAgICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvcjogaHNsKDE0NSwgNjUlLCA0MiUpO1xuICAgICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvci01MHBjdDogaHNsYSgxNDUsIDY1JSwgNDIlLCAwLjUpO1xuICAgICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvci0xMHBjdDogaHNsYSgxNDUsIDY1JSwgNDIlLCAwLjEpO1xuICAgICAgICAtLWx1bW8tc3VjY2Vzcy10ZXh0LWNvbG9yOiBoc2woMTQ1LCA4NSUsIDQ3JSk7XG4gICAgICB9XG5cbiAgICAgIGh0bWwge1xuICAgICAgICBjb2xvcjogdmFyKC0tbHVtby1ib2R5LXRleHQtY29sb3IpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWJhc2UtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICBbdGhlbWV+PVwiZGFya1wiXSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLWJvZHktdGV4dC1jb2xvcik7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tYmFzZS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIGgxLFxuICAgICAgaDIsXG4gICAgICBoMyxcbiAgICAgIGg0LFxuICAgICAgaDUsXG4gICAgICBoNiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLWhlYWRlci10ZXh0LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgYSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIGJsb2NrcXVvdGUge1xuICAgICAgICBjb2xvcjogdmFyKC0tbHVtby1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIGNvZGUsXG4gICAgICBwcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTEwcGN0KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLW0pO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvdGVtcGxhdGU+XG48L2RvbS1tb2R1bGU+PGRvbS1tb2R1bGUgaWQ9XCJsdW1vLWNvbG9yLWxlZ2FjeVwiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlIGluY2x1ZGU9XCJsdW1vLWNvbG9yXCI+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLWJvZHktdGV4dC1jb2xvcikgIWltcG9ydGFudDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1iYXNlLWNvbG9yKSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvdGVtcGxhdGU+XG48L2RvbS1tb2R1bGU+YDtcblxuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCgkX2RvY3VtZW50Q29udGFpbmVyLmNvbnRlbnQpO1xuXG4vKiBPbmx5IG5lZWRlZCBmb3IgSUUxMSB3aGVuIHlvdSB3YW50IHRvIHVzZSB0aGUgZGFyayBwYWxldHRlIGluc2lkZSB0aGUgbGlnaHQgcGFsZXR0ZSAqL1xuLypcbiAgRklYTUUocG9seW1lci1tb2R1bGl6ZXIpOiB0aGUgYWJvdmUgY29tbWVudHMgd2VyZSBleHRyYWN0ZWRcbiAgZnJvbSBIVE1MIGFuZCBtYXkgYmUgb3V0IG9mIHBsYWNlIGhlcmUuIFJldmlldyB0aGVtIGFuZFxuICB0aGVuIGRlbGV0ZSB0aGlzIGNvbW1lbnQhXG4qL1xuO1xuIiwiaW1wb3J0ICcuL3ZlcnNpb24uanMnO1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuanMnO1xuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbiRfZG9jdW1lbnRDb250YWluZXIuaW5uZXJIVE1MID0gYDxjdXN0b20tc3R5bGU+XG4gIDxzdHlsZT5cbiAgICBodG1sIHtcbiAgICAgIC0tbHVtby1zaXplLXhzOiAxLjYyNXJlbTtcbiAgICAgIC0tbHVtby1zaXplLXM6IDEuODc1cmVtO1xuICAgICAgLS1sdW1vLXNpemUtbTogMi4yNXJlbTtcbiAgICAgIC0tbHVtby1zaXplLWw6IDIuNzVyZW07XG4gICAgICAtLWx1bW8tc2l6ZS14bDogMy41cmVtO1xuXG4gICAgICAvKiBJY29ucyAqL1xuICAgICAgLS1sdW1vLWljb24tc2l6ZS1zOiAxLjI1ZW07XG4gICAgICAtLWx1bW8taWNvbi1zaXplLW06IDEuNWVtO1xuICAgICAgLS1sdW1vLWljb24tc2l6ZS1sOiAyLjI1ZW07XG4gICAgICAvKiBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgKi9cbiAgICAgIC0tbHVtby1pY29uLXNpemU6IHZhcigtLWx1bW8taWNvbi1zaXplLW0pO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcbiIsImltcG9ydCAnLi92ZXJzaW9uLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbmNvbnN0ICRfZG9jdW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG4kX2RvY3VtZW50Q29udGFpbmVyLmlubmVySFRNTCA9IGA8Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGU+XG4gICAgaHRtbCB7XG4gICAgICAvKiBTcXVhcmUgKi9cbiAgICAgIC0tbHVtby1zcGFjZS14czogMC4yNXJlbTtcbiAgICAgIC0tbHVtby1zcGFjZS1zOiAwLjVyZW07XG4gICAgICAtLWx1bW8tc3BhY2UtbTogMXJlbTtcbiAgICAgIC0tbHVtby1zcGFjZS1sOiAxLjVyZW07XG4gICAgICAtLWx1bW8tc3BhY2UteGw6IDIuNXJlbTtcblxuICAgICAgLyogV2lkZSAqL1xuICAgICAgLS1sdW1vLXNwYWNlLXdpZGUteHM6IGNhbGModmFyKC0tbHVtby1zcGFjZS14cykgLyAyKSB2YXIoLS1sdW1vLXNwYWNlLXhzKTtcbiAgICAgIC0tbHVtby1zcGFjZS13aWRlLXM6IGNhbGModmFyKC0tbHVtby1zcGFjZS1zKSAvIDIpIHZhcigtLWx1bW8tc3BhY2Utcyk7XG4gICAgICAtLWx1bW8tc3BhY2Utd2lkZS1tOiBjYWxjKHZhcigtLWx1bW8tc3BhY2UtbSkgLyAyKSB2YXIoLS1sdW1vLXNwYWNlLW0pO1xuICAgICAgLS1sdW1vLXNwYWNlLXdpZGUtbDogY2FsYyh2YXIoLS1sdW1vLXNwYWNlLWwpIC8gMikgdmFyKC0tbHVtby1zcGFjZS1sKTtcbiAgICAgIC0tbHVtby1zcGFjZS13aWRlLXhsOiBjYWxjKHZhcigtLWx1bW8tc3BhY2UteGwpIC8gMikgdmFyKC0tbHVtby1zcGFjZS14bCk7XG5cbiAgICAgIC8qIFRhbGwgKi9cbiAgICAgIC0tbHVtby1zcGFjZS10YWxsLXhzOiB2YXIoLS1sdW1vLXNwYWNlLXhzKSBjYWxjKHZhcigtLWx1bW8tc3BhY2UteHMpIC8gMik7XG4gICAgICAtLWx1bW8tc3BhY2UtdGFsbC1zOiB2YXIoLS1sdW1vLXNwYWNlLXMpIGNhbGModmFyKC0tbHVtby1zcGFjZS1zKSAvIDIpO1xuICAgICAgLS1sdW1vLXNwYWNlLXRhbGwtbTogdmFyKC0tbHVtby1zcGFjZS1tKSBjYWxjKHZhcigtLWx1bW8tc3BhY2UtbSkgLyAyKTtcbiAgICAgIC0tbHVtby1zcGFjZS10YWxsLWw6IHZhcigtLWx1bW8tc3BhY2UtbCkgY2FsYyh2YXIoLS1sdW1vLXNwYWNlLWwpIC8gMik7XG4gICAgICAtLWx1bW8tc3BhY2UtdGFsbC14bDogdmFyKC0tbHVtby1zcGFjZS14bCkgY2FsYyh2YXIoLS1sdW1vLXNwYWNlLXhsKSAvIDIpO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcbiIsImltcG9ydCAnLi92ZXJzaW9uLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbmNvbnN0ICRfZG9jdW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG4kX2RvY3VtZW50Q29udGFpbmVyLmlubmVySFRNTCA9IGA8Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGU+XG4gICAgaHRtbCB7XG4gICAgICAvKiBCb3JkZXIgcmFkaXVzICovXG4gICAgICAtLWx1bW8tYm9yZGVyLXJhZGl1cy1zOiAwLjI1ZW07IC8qIENoZWNrYm94LCBiYWRnZSwgZGF0ZS1waWNrZXIgeWVhciBpbmRpY2F0b3IsIGV0YyAqL1xuICAgICAgLS1sdW1vLWJvcmRlci1yYWRpdXMtbTogdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLCAwLjI1ZW0pOyAvKiBCdXR0b24sIHRleHQgZmllbGQsIG1lbnUgb3ZlcmxheSwgZXRjICovXG4gICAgICAtLWx1bW8tYm9yZGVyLXJhZGl1cy1sOiAwLjVlbTsgLyogRGlhbG9nLCBub3RpZmljYXRpb24sIGV0YyAqL1xuICAgICAgLS1sdW1vLWJvcmRlci1yYWRpdXM6IDAuMjVlbTsgLyogRGVwcmVjYXRlZCAqL1xuXG4gICAgICAvKiBTaGFkb3cgKi9cbiAgICAgIC0tbHVtby1ib3gtc2hhZG93LXhzOiAwIDFweCA0cHggLTFweCB2YXIoLS1sdW1vLXNoYWRlLTUwcGN0KTtcbiAgICAgIC0tbHVtby1ib3gtc2hhZG93LXM6IDAgMnB4IDRweCAtMXB4IHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpLCAwIDNweCAxMnB4IC0xcHggdmFyKC0tbHVtby1zaGFkZS0zMHBjdCk7XG4gICAgICAtLWx1bW8tYm94LXNoYWRvdy1tOiAwIDJweCA2cHggLTFweCB2YXIoLS1sdW1vLXNoYWRlLTIwcGN0KSwgMCA4cHggMjRweCAtNHB4IHZhcigtLWx1bW8tc2hhZGUtNDBwY3QpO1xuICAgICAgLS1sdW1vLWJveC1zaGFkb3ctbDogMCAzcHggMThweCAtMnB4IHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpLCAwIDEycHggNDhweCAtNnB4IHZhcigtLWx1bW8tc2hhZGUtNDBwY3QpO1xuICAgICAgLS1sdW1vLWJveC1zaGFkb3cteGw6IDAgNHB4IDI0cHggLTNweCB2YXIoLS1sdW1vLXNoYWRlLTIwcGN0KSwgMCAxOHB4IDY0cHggLThweCB2YXIoLS1sdW1vLXNoYWRlLTQwcGN0KTtcblxuICAgICAgLyogQ2xpY2thYmxlIGVsZW1lbnQgY3Vyc29yICovXG4gICAgICAtLWx1bW8tY2xpY2thYmxlLWN1cnNvcjogZGVmYXVsdDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2N1c3RvbS1zdHlsZT5gO1xuXG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCRfZG9jdW1lbnRDb250YWluZXIuY29udGVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIHN0YXRpYyBzdHJpbmcgdmFsdWUgd2hpY2ggY2FuIGJlIHVzZWQgdG8gZmlsdGVyXG4gKiBzdHJpbmdzIGJ5IGFzc2V0aW5nIHRoYXQgdGhleSBoYXZlIGJlZW4gY3JlYXRlZCB2aWEgdGhpcyBjbGFzcy4gVGhlXG4gKiBgdmFsdWVgIHByb3BlcnR5IHJldHVybnMgdGhlIHN0cmluZyBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICovXG5jbGFzcyBMaXRlcmFsU3RyaW5nIHtcbiAgY29uc3RydWN0b3Ioc3RyaW5nKSB7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpcy52YWx1ZSA9IHN0cmluZy50b1N0cmluZygpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IExpdGVyYWxTdHJpbmcgc3RyaW5nIHZhbHVlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IHZhbHVlIE9iamVjdCB0byBzdHJpbmdpZnkgaW50byBIVE1MXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEhUTUwgc3RyaW5naWZpZWQgZm9ybSBvZiBgb2JqYFxuICovXG5mdW5jdGlvbiBsaXRlcmFsVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGl0ZXJhbFN0cmluZykge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFMaXRlcmFsU3RyaW5nfSAqLyh2YWx1ZSkudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgbm9uLWxpdGVyYWwgdmFsdWUgcGFzc2VkIHRvIFBvbHltZXIncyBodG1sTGl0ZXJhbCBmdW5jdGlvbjogJHt2YWx1ZX1gXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgT2JqZWN0IHRvIHN0cmluZ2lmeSBpbnRvIEhUTUxcbiAqIEByZXR1cm4ge3N0cmluZ30gSFRNTCBzdHJpbmdpZmllZCBmb3JtIG9mIGBvYmpgXG4gKi9cbmZ1bmN0aW9uIGh0bWxWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBIVE1MVGVtcGxhdGVFbGVtZW50KSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnQgfSAqLyh2YWx1ZSkuaW5uZXJIVE1MO1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGl0ZXJhbFN0cmluZykge1xuICAgIHJldHVybiBsaXRlcmFsVmFsdWUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYG5vbi10ZW1wbGF0ZSB2YWx1ZSBwYXNzZWQgdG8gUG9seW1lcidzIGh0bWwgZnVuY3Rpb246ICR7dmFsdWV9YCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBIHRlbXBsYXRlIGxpdGVyYWwgdGFnIHRoYXQgY3JlYXRlcyBhbiBIVE1MIDx0ZW1wbGF0ZT4gZWxlbWVudCBmcm9tIHRoZVxuICogY29udGVudHMgb2YgdGhlIHN0cmluZy5cbiAqXG4gKiBUaGlzIGFsbG93cyB5b3UgdG8gd3JpdGUgYSBQb2x5bWVyIFRlbXBsYXRlIGluIEphdmFTY3JpcHQuXG4gKlxuICogVGVtcGxhdGVzIGNhbiBiZSBjb21wb3NlZCBieSBpbnRlcnBvbGF0aW5nIGBIVE1MVGVtcGxhdGVFbGVtZW50YHMgaW5cbiAqIGV4cHJlc3Npb25zIGluIHRoZSBKYXZhU2NyaXB0IHRlbXBsYXRlIGxpdGVyYWwuIFRoZSBuZXN0ZWQgdGVtcGxhdGUnc1xuICogYGlubmVySFRNTGAgaXMgaW5jbHVkZWQgaW4gdGhlIGNvbnRhaW5pbmcgdGVtcGxhdGUuICBUaGUgb25seSBvdGhlclxuICogdmFsdWVzIGFsbG93ZWQgaW4gZXhwcmVzc2lvbnMgYXJlIHRob3NlIHJldHVybmVkIGZyb20gYGh0bWxMaXRlcmFsYFxuICogd2hpY2ggZW5zdXJlcyBvbmx5IGxpdGVyYWwgdmFsdWVzIGZyb20gSlMgc291cmNlIGV2ZXIgcmVhY2ggdGhlIEhUTUwsIHRvXG4gKiBndWFyZCBhZ2FpbnN0IFhTUyByaXNrcy5cbiAqXG4gKiBBbGwgb3RoZXIgdmFsdWVzIGFyZSBkaXNhbGxvd2VkIGluIGV4cHJlc3Npb25zIHRvIGhlbHAgcHJldmVudCBYU1NcbiAqIGF0dGFja3M7IGhvd2V2ZXIsIGBodG1sTGl0ZXJhbGAgY2FuIGJlIHVzZWQgdG8gY29tcG9zZSBzdGF0aWNcbiAqIHN0cmluZyB2YWx1ZXMgaW50byB0ZW1wbGF0ZXMuIFRoaXMgaXMgdXNlZnVsIHRvIGNvbXBvc2Ugc3RyaW5ncyBpbnRvXG4gKiBwbGFjZXMgdGhhdCBkbyBub3QgYWNjZXB0IGh0bWwsIGxpa2UgdGhlIGNzcyB0ZXh0IG9mIGEgYHN0eWxlYFxuICogZWxlbWVudC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICogICAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICAgIDxzdHlsZT46aG9zdHsgY29udGVudDpcIi4uLlwiIH08L3N0eWxlPlxuICogICAgICAgICA8ZGl2IGNsYXNzPVwic2hhZG93ZWRcIj4ke3RoaXMucGFydGlhbFRlbXBsYXRlfTwvZGl2PlxuICogICAgICAgICAke3N1cGVyLnRlbXBsYXRlfVxuICogICAgICAgYDtcbiAqICAgICB9XG4gKiAgICAgc3RhdGljIGdldCBwYXJ0aWFsVGVtcGxhdGUoKSB7IHJldHVybiBodG1sYDxzcGFuPlBhcnRpYWwhPC9zcGFuPmA7IH1cbiAqXG4gKiBAcGFyYW0geyFJVGVtcGxhdGVBcnJheX0gc3RyaW5ncyBDb25zdGFudCBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHBhcmFtIHsuLi4qfSB2YWx1ZXMgVmFyaWFibGUgcGFydHMgb2YgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxcbiAqIEByZXR1cm4geyFIVE1MVGVtcGxhdGVFbGVtZW50fSBDb25zdHJ1Y3RlZCBIVE1MVGVtcGxhdGVFbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gZnVuY3Rpb24gaHRtbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgY29uc3QgdGVtcGxhdGUgPSAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+XG4gICAgICBhY2MgKyBodG1sVmFsdWUodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKTtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufTtcblxuLyoqXG4gKiBBbiBodG1sIGxpdGVyYWwgdGFnIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgaHRtbGAgdG8gY29tcG9zZS5cbiAqIGEgbGl0ZXJhbCBzdHJpbmcuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAqICAgICAgIHJldHVybiBodG1sYFxuICogICAgICAgICA8c3R5bGU+XG4gKiAgICAgICAgICAgOmhvc3QgeyBkaXNwbGF5OiBibG9jazsgfVxuICogICAgICAgICAgICR7dGhpcy5zdHlsZVRlbXBsYXRlKCl9XG4gKiAgICAgICAgIDwvc3R5bGU+XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFkb3dlZFwiPiR7c3RhdGljVmFsdWV9PC9kaXY+XG4gKiAgICAgICAgICR7c3VwZXIudGVtcGxhdGV9XG4gKiAgICAgICBgO1xuICogICAgIH1cbiAqICAgICBzdGF0aWMgZ2V0IHN0eWxlVGVtcGxhdGUoKSB7XG4gKiAgICAgICAgcmV0dXJuIGh0bWxMaXRlcmFsYC5zaGFkb3dlZCB7IGJhY2tncm91bmQ6IGdyYXk7IH1gO1xuICogICAgIH1cbiAqXG4gKiBAcGFyYW0geyFJVGVtcGxhdGVBcnJheX0gc3RyaW5ncyBDb25zdGFudCBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHBhcmFtIHsuLi4qfSB2YWx1ZXMgVmFyaWFibGUgcGFydHMgb2YgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxcbiAqIEByZXR1cm4geyFMaXRlcmFsU3RyaW5nfSBDb25zdHJ1Y3RlZCBsaXRlcmFsIHN0cmluZ1xuICovXG5leHBvcnQgY29uc3QgaHRtbExpdGVyYWwgPSBmdW5jdGlvbihzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBMaXRlcmFsU3RyaW5nKHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PlxuICAgICAgYWNjICsgbGl0ZXJhbFZhbHVlKHYpICsgc3RyaW5nc1tpZHggKyAxXSwgc3RyaW5nc1swXSkpO1xufTtcbiIsImltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvY29sb3IuanMnO1xuaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9zaXppbmcuanMnO1xuaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9zcGFjaW5nLmpzJztcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3R5bGUuanMnO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGh0bWxgPGRvbS1tb2R1bGUgaWQ9XCJsdW1vLXNwbGl0LWxheW91dFwiIHRoZW1lLWZvcj1cInZhYWRpbi1zcGxpdC1sYXlvdXRcIj5cbiAgPHRlbXBsYXRlPlxuICAgIDxzdHlsZT5cbiAgICAgIFtwYXJ0PVwic3BsaXR0ZXJcIl0ge1xuICAgICAgICBtaW4td2lkdGg6IHZhcigtLWx1bW8tc3BhY2Utcyk7XG4gICAgICAgIG1pbi1oZWlnaHQ6IHZhcigtLWx1bW8tc3BhY2Utcyk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtNXBjdCk7XG4gICAgICAgIHRyYW5zaXRpb246IDAuMXMgYmFja2dyb3VuZC1jb2xvcjtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJoYW5kbGVcIl0ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IHZhcigtLWx1bW8tc2l6ZS1tKTtcbiAgICAgICAgaGVpZ2h0OiB2YXIoLS1sdW1vLXNpemUtbSk7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB3aWR0aDogNHB4O1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG4gICAgICAgIHRyYW5zaXRpb246IDAuMXMgb3BhY2l0eSwgMC4xcyBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXSkgW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogNHB4O1xuICAgICAgfVxuXG4gICAgICAvKiBIb3ZlciBzdHlsZSAqL1xuXG4gICAgICBbcGFydD1cInNwbGl0dGVyXCJdOmhvdmVyIFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtNDBwY3QpO1xuICAgICAgfVxuXG4gICAgICAvKiBEaXNhYmxlIGhvdmVyIGZvciB0b3VjaCBkZXZpY2VzICovXG4gICAgICBAbWVkaWEgKHBvaW50ZXI6IGNvYXJzZSkge1xuICAgICAgICBbcGFydD1cInNwbGl0dGVyXCJdOmhvdmVyIFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogQWN0aXZlIHN0eWxlICovXG5cbiAgICAgIFtwYXJ0PVwic3BsaXR0ZXJcIl06YWN0aXZlIFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtNTBwY3QpO1xuICAgICAgfVxuXG4gICAgICAvKiBTbWFsbC9taW5pbWFsICovXG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1sdW1vLWNvbnRyYXN0LTEwcGN0KTtcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWx1bW8tY29udHJhc3QtMTBwY3QpO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdGhlbWV+PVwic21hbGxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXSxcbiAgICAgIDpob3N0KFt0aGVtZX49XCJtaW5pbWFsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl0ge1xuICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdGhlbWV+PVwic21hbGxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXTo6YWZ0ZXIsXG4gICAgICA6aG9zdChbdGhlbWV+PVwibWluaW1hbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAtNHB4O1xuICAgICAgICByaWdodDogLTRweDtcbiAgICAgICAgYm90dG9tOiAtNHB4O1xuICAgICAgICBsZWZ0OiAtNHB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdGhlbWV+PVwic21hbGxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXSA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlcixcbiAgICAgIDpob3N0KFt0aGVtZX49XCJtaW5pbWFsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl0gPiBbcGFydD1cImhhbmRsZVwiXTo6YWZ0ZXIge1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdGhlbWV+PVwic21hbGxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXTpob3ZlciA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlcixcbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdOmFjdGl2ZSA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlcixcbiAgICAgIDpob3N0KFt0aGVtZX49XCJtaW5pbWFsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl06aG92ZXIgPiBbcGFydD1cImhhbmRsZVwiXTo6YWZ0ZXIsXG4gICAgICA6aG9zdChbdGhlbWV+PVwibWluaW1hbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdOmFjdGl2ZSA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT5gO1xuXG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCRfZG9jdW1lbnRDb250YWluZXIuY29udGVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG4vLyB1bmlxdWUgZ2xvYmFsIGlkIGZvciBkZWR1cGluZyBtaXhpbnMuXG5sZXQgZGVkdXBlSWQgPSAwO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0Z1bmN0aW9ufVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gTWl4aW5GdW5jdGlvbigpe31cbi8qKiBAdHlwZSB7KFdlYWtNYXAgfCB1bmRlZmluZWQpfSAqL1xuTWl4aW5GdW5jdGlvbi5wcm90b3R5cGUuX19taXhpbkFwcGxpY2F0aW9ucztcbi8qKiBAdHlwZSB7KE9iamVjdCB8IHVuZGVmaW5lZCl9ICovXG5NaXhpbkZ1bmN0aW9uLnByb3RvdHlwZS5fX21peGluU2V0O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuLyoqXG4gKiBXcmFwcyBhbiBFUzYgY2xhc3MgZXhwcmVzc2lvbiBtaXhpbiBzdWNoIHRoYXQgdGhlIG1peGluIGlzIG9ubHkgYXBwbGllZFxuICogaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gYXBwbGllZCBpdHMgYmFzZSBhcmd1bWVudC4gQWxzbyBtZW1vaXplcyBtaXhpblxuICogYXBwbGljYXRpb25zLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge1R9IG1peGluIEVTNiBjbGFzcyBleHByZXNzaW9uIG1peGluIHRvIHdyYXBcbiAqIEByZXR1cm4ge1R9XG4gKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZHVwaW5nTWl4aW4gPSBmdW5jdGlvbihtaXhpbikge1xuICBsZXQgbWl4aW5BcHBsaWNhdGlvbnMgPSAvKiogQHR5cGUgeyFNaXhpbkZ1bmN0aW9ufSAqLyhtaXhpbikuX19taXhpbkFwcGxpY2F0aW9ucztcbiAgaWYgKCFtaXhpbkFwcGxpY2F0aW9ucykge1xuICAgIG1peGluQXBwbGljYXRpb25zID0gbmV3IFdlYWtNYXAoKTtcbiAgICAvKiogQHR5cGUgeyFNaXhpbkZ1bmN0aW9ufSAqLyhtaXhpbikuX19taXhpbkFwcGxpY2F0aW9ucyA9IG1peGluQXBwbGljYXRpb25zO1xuICB9XG4gIC8vIG1haW50YWluIGEgdW5pcXVlIGlkIGZvciBlYWNoIG1peGluXG4gIGxldCBtaXhpbkRlZHVwZUlkID0gZGVkdXBlSWQrKztcbiAgZnVuY3Rpb24gZGVkdXBpbmdNaXhpbihiYXNlKSB7XG4gICAgbGV0IGJhc2VTZXQgPSAvKiogQHR5cGUgeyFNaXhpbkZ1bmN0aW9ufSAqLyhiYXNlKS5fX21peGluU2V0O1xuICAgIGlmIChiYXNlU2V0ICYmIGJhc2VTZXRbbWl4aW5EZWR1cGVJZF0pIHtcbiAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cbiAgICBsZXQgbWFwID0gbWl4aW5BcHBsaWNhdGlvbnM7XG4gICAgbGV0IGV4dGVuZGVkID0gbWFwLmdldChiYXNlKTtcbiAgICBpZiAoIWV4dGVuZGVkKSB7XG4gICAgICBleHRlbmRlZCA9IC8qKiBAdHlwZSB7IUZ1bmN0aW9ufSAqLyhtaXhpbikoYmFzZSk7XG4gICAgICBtYXAuc2V0KGJhc2UsIGV4dGVuZGVkKTtcbiAgICB9XG4gICAgLy8gY29weSBpbmhlcml0ZWQgbWl4aW4gc2V0IGZyb20gdGhlIGV4dGVuZGVkIGNsYXNzLCBvciB0aGUgYmFzZSBjbGFzc1xuICAgIC8vIE5PVEU6IHdlIGF2b2lkIHVzZSBvZiBTZXQgaGVyZSBiZWNhdXNlIHNvbWUgYnJvd3NlciAoSUUxMSlcbiAgICAvLyBjYW5ub3QgZXh0ZW5kIGEgYmFzZSBTZXQgdmlhIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICBsZXQgbWl4aW5TZXQgPSBPYmplY3QuY3JlYXRlKC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKGV4dGVuZGVkKS5fX21peGluU2V0IHx8IGJhc2VTZXQgfHwgbnVsbCk7XG4gICAgbWl4aW5TZXRbbWl4aW5EZWR1cGVJZF0gPSB0cnVlO1xuICAgIC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKGV4dGVuZGVkKS5fX21peGluU2V0ID0gbWl4aW5TZXQ7XG4gICAgcmV0dXJuIGV4dGVuZGVkO1xuICB9XG5cbiAgcmV0dXJuIGRlZHVwaW5nTWl4aW47XG59O1xuLyogZXNsaW50LWVuYWJsZSB2YWxpZC1qc2RvYyAqL1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogTm9kZSB3cmFwcGVyIHRvIGVuc3VyZSBTaGFkb3dET00gc2FmZSBvcGVyYXRpb24gcmVnYXJkbGVzcyBvZiBwb2x5ZmlsbFxuICogcHJlc2VuY2Ugb3IgbW9kZS4gTm90ZSB0aGF0IHdpdGggdGhlIGludHJvZHVjdGlvbiBvZiBgU2hhZHlET00ubm9QYXRjaGAsXG4gKiBhIG5vZGUgd3JhcHBlciBtdXN0IGJlIHVzZWQgdG8gYWNjZXNzIFNoYWRvd0RPTSBBUEkuXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gdXNpbmcgYFBvbHltZXIuZG9tYCBidXQgcmVsaWVzIGV4Y2x1c2l2ZWx5XG4gKiBvbiB0aGUgcHJlc2VuY2Ugb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsIHJhdGhlciB0aGFuIHJlcXVpcmluZyB0aGUgbG9hZGluZ1xuICogb2YgbGVnYWN5IChQb2x5bWVyLmRvbSkgQVBJLlxuICogQHR5cGUge2Z1bmN0aW9uKE5vZGUpOk5vZGV9XG4gKi9cbmV4cG9ydCBjb25zdCB3cmFwID0gKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ25vUGF0Y2gnXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3dyYXAnXSkgP1xuICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3dyYXAnXSA6XG4gICh3aW5kb3dbJ1NoYWR5RE9NJ10gPyAobikgPT4gU2hhZHlET01bJ3BhdGNoJ10obikgOiAobikgPT4gbik7XG5cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8qKlxuICogTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBtYW5pcHVsYXRpbmcgc3RydWN0dXJlZCBkYXRhIHBhdGggc3RyaW5ncy5cbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIG1hbmlwdWxhdGluZyBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCBzdHJpbmdzLlxuICovXG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCAoaGFzIGRvdHMpLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc1BhdGgoJ2Zvby5iYXIuYmF6JykgLy8gdHJ1ZVxuICogaXNQYXRoKCdmb28nKSAgICAgICAgIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZ1xuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3RyaW5nIGNvbnRhaW5lZCBvbmUgb3IgbW9yZSBkb3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5pbmRleE9mKCcuJykgPj0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByb290IHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiByb290KCdmb28uYmFyLmJheicpIC8vICdmb28nXG4gKiByb290KCdmb28nKSAgICAgICAgIC8vICdmb28nXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfSBSb290IHByb3BlcnR5IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvb3QocGF0aCkge1xuICBsZXQgZG90SW5kZXggPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgaWYgKGRvdEluZGV4ID09PSAtMSkge1xuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHJldHVybiBwYXRoLnNsaWNlKDAsIGRvdEluZGV4KTtcbn1cblxuLyoqXG4gKiBHaXZlbiBgYmFzZWAgaXMgYGZvby5iYXJgLCBgZm9vYCBpcyBhbiBhbmNlc3RvciwgYGZvby5iYXJgIGlzIG5vdFxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwYXRoIGlzIGFuIGFuY2VzdG9yIG9mIHRoZSBiYXNlIHBhdGguXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIGlzQW5jZXN0b3IoJ2Zvby5iYXInLCAnZm9vJykgICAgICAgICAvLyB0cnVlXG4gKiBpc0FuY2VzdG9yKCdmb28uYmFyJywgJ2Zvby5iYXInKSAgICAgLy8gZmFsc2VcbiAqIGlzQW5jZXN0b3IoJ2Zvby5iYXInLCAnZm9vLmJhci5iYXonKSAvLyBmYWxzZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgUGF0aCBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmcgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYHBhdGhgIGlzIGFuIGFuY2VzdG9yIG9mIGBiYXNlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW5jZXN0b3IoYmFzZSwgcGF0aCkge1xuICAvLyAgICAgYmFzZS5zdGFydHNXaXRoKHBhdGggKyAnLicpO1xuICByZXR1cm4gYmFzZS5pbmRleE9mKHBhdGggKyAnLicpID09PSAwO1xufVxuXG4vKipcbiAqIEdpdmVuIGBiYXNlYCBpcyBgZm9vLmJhcmAsIGBmb28uYmFyLmJhemAgaXMgYW4gZGVzY2VuZGFudFxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc0Rlc2NlbmRhbnQoJ2Zvby5iYXInLCAnZm9vLmJhci5iYXonKSAvLyB0cnVlXG4gKiBpc0Rlc2NlbmRhbnQoJ2Zvby5iYXInLCAnZm9vLmJhcicpICAgICAvLyBmYWxzZVxuICogaXNEZXNjZW5kYW50KCdmb28uYmFyJywgJ2ZvbycpICAgICAgICAgLy8gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIFBhdGggc3RyaW5nIHRvIHRlc3QgYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBwYXRoYCBpcyBhIGRlc2NlbmRhbnQgb2YgYGJhc2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZXNjZW5kYW50KGJhc2UsIHBhdGgpIHtcbiAgLy8gICAgIHBhdGguc3RhcnRzV2l0aChiYXNlICsgJy4nKTtcbiAgcmV0dXJuIHBhdGguaW5kZXhPZihiYXNlICsgJy4nKSA9PT0gMDtcbn1cblxuLyoqXG4gKiBSZXBsYWNlcyBhIHByZXZpb3VzIGJhc2UgcGF0aCB3aXRoIGEgbmV3IGJhc2UgcGF0aCwgcHJlc2VydmluZyB0aGVcbiAqIHJlbWFpbmRlciBvZiB0aGUgcGF0aC5cbiAqXG4gKiBVc2VyIG11c3QgZW5zdXJlIGBwYXRoYCBoYXMgYSBwcmVmaXggb2YgYGJhc2VgLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiB0cmFuc2xhdGUoJ2Zvby5iYXInLCAnem90JywgJ2Zvby5iYXIuYmF6JykgLy8gJ3pvdC5iYXonXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSBDdXJyZW50IGJhc2Ugc3RyaW5nIHRvIHJlbW92ZVxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0Jhc2UgTmV3IGJhc2Ugc3RyaW5nIHRvIHJlcGxhY2Ugd2l0aFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byB0cmFuc2xhdGVcbiAqIEByZXR1cm4ge3N0cmluZ30gVHJhbnNsYXRlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShiYXNlLCBuZXdCYXNlLCBwYXRoKSB7XG4gIHJldHVybiBuZXdCYXNlICsgcGF0aC5zbGljZShiYXNlLmxlbmd0aCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgUGF0aCBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZyB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBwYXRoYCBpcyBlcXVhbCB0byBgYmFzZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoZXMoYmFzZSwgcGF0aCkge1xuICByZXR1cm4gKGJhc2UgPT09IHBhdGgpIHx8XG4gICAgICAgICBpc0FuY2VzdG9yKGJhc2UsIHBhdGgpIHx8XG4gICAgICAgICBpc0Rlc2NlbmRhbnQoYmFzZSwgcGF0aCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYXJyYXktYmFzZWQgcGF0aHMgdG8gZmxhdHRlbmVkIHBhdGguICBTdHJpbmctYmFzZWQgcGF0aHNcbiAqIGFyZSByZXR1cm5lZCBhcy1pcy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogbm9ybWFsaXplKFsnZm9vLmJhcicsIDAsICdiYXonXSkgIC8vICdmb28uYmFyLjAuYmF6J1xuICogbm9ybWFsaXplKCdmb28uYmFyLjAuYmF6JykgICAgICAgIC8vICdmb28uYmFyLjAuYmF6J1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggSW5wdXQgcGF0aFxuICogQHJldHVybiB7c3RyaW5nfSBGbGF0dGVuZWQgcGF0aFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHBhdGgpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICBsZXQgcGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBpPTA7IGk8cGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGFyZ3MgPSBwYXRoW2ldLnRvU3RyaW5nKCkuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAobGV0IGo9MDsgajxhcmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYXJnc1tqXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKCcuJyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBwYXRoIGludG8gYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuIEFjY2VwdHMgZWl0aGVyIGFycmF5c1xuICogb2YgcGF0aCBwYXJ0cyBvciBzdHJpbmdzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBzcGxpdChbJ2Zvby5iYXInLCAwLCAnYmF6J10pICAvLyBbJ2ZvbycsICdiYXInLCAnMCcsICdiYXonXVxuICogc3BsaXQoJ2Zvby5iYXIuMC5iYXonKSAgICAgICAgLy8gWydmb28nLCAnYmFyJywgJzAnLCAnYmF6J11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIElucHV0IHBhdGhcbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fSBBcnJheSBvZiBwYXRoIHBhcnRzXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpdChwYXRoKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZShwYXRoKS5zcGxpdCgnLicpO1xuICB9XG4gIHJldHVybiBwYXRoLnRvU3RyaW5nKCkuc3BsaXQoJy4nKTtcbn1cblxuLyoqXG4gKiBSZWFkcyBhIHZhbHVlIGZyb20gYSBwYXRoLiAgSWYgYW55IHN1Yi1wcm9wZXJ0eSBpbiB0aGUgcGF0aCBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAgKHdpbGwgbmV2ZXIgdGhyb3cuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3QgT2JqZWN0IGZyb20gd2hpY2ggdG8gZGVyZWZlcmVuY2UgcGF0aCBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIHJlYWRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gaW5mbyBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgdG8gYGluZm9gLCB0aGUgbm9ybWFsaXplZFxuICogIChmbGF0dGVuZWQpIHBhdGggd2lsbCBiZSBzZXQgdG8gYGluZm8ucGF0aGAuXG4gKiBAcmV0dXJuIHsqfSBWYWx1ZSBhdCBwYXRoLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgcGF0aCBjb3VsZCBub3QgYmVcbiAqICBmdWxseSBkZXJlZmVyZW5jZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQocm9vdCwgcGF0aCwgaW5mbykge1xuICBsZXQgcHJvcCA9IHJvb3Q7XG4gIGxldCBwYXJ0cyA9IHNwbGl0KHBhdGgpO1xuICAvLyBMb29wIG92ZXIgcGF0aCBwYXJ0c1swLi5uLTFdIGFuZCBkZXJlZmVyZW5jZVxuICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICBwcm9wID0gcHJvcFtwYXJ0XTtcbiAgfVxuICBpZiAoaW5mbykge1xuICAgIGluZm8ucGF0aCA9IHBhcnRzLmpvaW4oJy4nKTtcbiAgfVxuICByZXR1cm4gcHJvcDtcbn1cblxuLyoqXG4gKiBTZXRzIGEgdmFsdWUgdG8gYSBwYXRoLiAgSWYgYW55IHN1Yi1wcm9wZXJ0eSBpbiB0aGUgcGF0aCBpcyBgdW5kZWZpbmVkYCxcbiAqIHRoaXMgbWV0aG9kIHdpbGwgbm8tb3AuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJvb3QgT2JqZWN0IGZyb20gd2hpY2ggdG8gZGVyZWZlcmVuY2UgcGF0aCBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdG8gcGF0aFxuICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBUaGUgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBpbnB1dCBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXQocm9vdCwgcGF0aCwgdmFsdWUpIHtcbiAgbGV0IHByb3AgPSByb290O1xuICBsZXQgcGFydHMgPSBzcGxpdChwYXRoKTtcbiAgbGV0IGxhc3QgPSBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgLy8gTG9vcCBvdmVyIHBhdGggcGFydHNbMC4ubi0yXSBhbmQgZGVyZWZlcmVuY2VcbiAgICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoLTE7IGkrKykge1xuICAgICAgbGV0IHBhcnQgPSBwYXJ0c1tpXTtcbiAgICAgIHByb3AgPSBwcm9wW3BhcnRdO1xuICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU2V0IHZhbHVlIHRvIG9iamVjdCBhdCBlbmQgb2YgcGF0aFxuICAgIHByb3BbbGFzdF0gPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTaW1wbGUgcHJvcGVydHkgc2V0XG4gICAgcHJvcFtwYXRoXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKCcuJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBzdHJpbmcgaXMgYSBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCAoaGFzIGRvdHMpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBgaXNQYXRoYCBpbnN0ZWFkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpc0RlZXAoJ2Zvby5iYXIuYmF6JykgLy8gdHJ1ZVxuICogaXNEZWVwKCdmb28nKSAgICAgICAgIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmdcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHN0cmluZyBjb250YWluZWQgb25lIG9yIG1vcmUgZG90c1xuICovXG5leHBvcnQgY29uc3QgaXNEZWVwID0gaXNQYXRoO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuY29uc3QgY2FzZU1hcCA9IHt9O1xuY29uc3QgREFTSF9UT19DQU1FTCA9IC8tW2Etel0vZztcbmNvbnN0IENBTUVMX1RPX0RBU0ggPSAvKFtBLVpdKS9nO1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTW9kdWxlIHdpdGggdXRpbGl0aWVzIGZvciBjb252ZXJ0aW5nIGJldHdlZW4gXCJkYXNoLWNhc2VcIiBhbmRcbiAqIFwiY2FtZWxDYXNlXCIgaWRlbnRpZmllcnMuXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyBcImRhc2gtY2FzZVwiIGlkZW50aWZpZXIgKGUuZy4gYGZvby1iYXItYmF6YCkgdG8gXCJjYW1lbENhc2VcIlxuICogKGUuZy4gYGZvb0JhckJhemApLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXNoIERhc2gtY2FzZSBpZGVudGlmaWVyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhbWVsLWNhc2UgcmVwcmVzZW50YXRpb24gb2YgdGhlIGlkZW50aWZpZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb0NhbWVsQ2FzZShkYXNoKSB7XG4gIHJldHVybiBjYXNlTWFwW2Rhc2hdIHx8IChcbiAgICBjYXNlTWFwW2Rhc2hdID0gZGFzaC5pbmRleE9mKCctJykgPCAwID8gZGFzaCA6IGRhc2gucmVwbGFjZShEQVNIX1RPX0NBTUVMLFxuICAgICAgKG0pID0+IG1bMV0udG9VcHBlckNhc2UoKVxuICAgIClcbiAgKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBcImNhbWVsQ2FzZVwiIGlkZW50aWZpZXIgKGUuZy4gYGZvb0JhckJhemApIHRvIFwiZGFzaC1jYXNlXCJcbiAqIChlLmcuIGBmb28tYmFyLWJhemApLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjYW1lbCBDYW1lbC1jYXNlIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gRGFzaC1jYXNlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpZGVudGlmaWVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW1lbFRvRGFzaENhc2UoY2FtZWwpIHtcbiAgcmV0dXJuIGNhc2VNYXBbY2FtZWxdIHx8IChcbiAgICBjYXNlTWFwW2NhbWVsXSA9IGNhbWVsLnJlcGxhY2UoQ0FNRUxfVE9fREFTSCwgJy0kMScpLnRvTG93ZXJDYXNlKClcbiAgKTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgbnVtYmVyIG9mIHN0cmF0ZWdpZXMgZm9yIGVucXVldWluZyBhc3luY2hyb25vdXNcbiAqIHRhc2tzLiBFYWNoIHN1Yi1tb2R1bGUgcHJvdmlkZXMgYSBzdGFuZGFyZCBgcnVuKGZuKWAgaW50ZXJmYWNlIHRoYXQgcmV0dXJucyBhXG4gKiBoYW5kbGUsIGFuZCBhIGBjYW5jZWwoaGFuZGxlKWAgaW50ZXJmYWNlIGZvciBjYW5jZWxpbmcgYXN5bmMgdGFza3MgYmVmb3JlXG4gKiB0aGV5IHJ1bi5cbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgdGhhdCBwcm92aWRlcyBhIG51bWJlciBvZiBzdHJhdGVnaWVzIGZvciBlbnF1ZXVpbmdcbiAqIGFzeW5jaHJvbm91cyB0YXNrcy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8vIE1pY3JvdGFzayBpbXBsZW1lbnRlZCB1c2luZyBNdXRhdGlvbiBPYnNlcnZlclxubGV0IG1pY3JvdGFza0N1cnJIYW5kbGUgPSAwO1xubGV0IG1pY3JvdGFza0xhc3RIYW5kbGUgPSAwO1xubGV0IG1pY3JvdGFza0NhbGxiYWNrcyA9IFtdO1xubGV0IG1pY3JvdGFza05vZGVDb250ZW50ID0gMDtcbmxldCBtaWNyb3Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xubmV3IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyKG1pY3JvdGFza0ZsdXNoKS5vYnNlcnZlKG1pY3JvdGFza05vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG5cbmZ1bmN0aW9uIG1pY3JvdGFza0ZsdXNoKCkge1xuICBjb25zdCBsZW4gPSBtaWNyb3Rhc2tDYWxsYmFja3MubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IGNiID0gbWljcm90YXNrQ2FsbGJhY2tzW2ldO1xuICAgIGlmIChjYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRocm93IGU7IH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBtaWNyb3Rhc2tDYWxsYmFja3Muc3BsaWNlKDAsIGxlbik7XG4gIG1pY3JvdGFza0xhc3RIYW5kbGUgKz0gbGVuO1xufVxuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgc2V0VGltZW91dGAuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHN1bW1hcnkgQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGBzZXRUaW1lb3V0YC5cbiAqL1xuY29uc3QgdGltZU91dCA9IHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBzdWItbW9kdWxlIHdpdGggdGhlIGFzeW5jIGludGVyZmFjZSBwcm92aWRpbmcgdGhlIHByb3ZpZGVkXG4gICAqIGRlbGF5LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgdGltZU91dFxuICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGF5IFRpbWUgdG8gd2FpdCBiZWZvcmUgY2FsbGluZyBjYWxsYmFja3MgaW4gbXNcbiAgICogQHJldHVybiB7IUFzeW5jSW50ZXJmYWNlfSBBbiBhc3luYyB0aW1lb3V0IGludGVyZmFjZVxuICAgKi9cbiAgYWZ0ZXIoZGVsYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcnVuKGZuKSB7IHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmbiwgZGVsYXkpOyB9LFxuICAgICAgY2FuY2VsKGhhbmRsZSkge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGluIHRoZSBuZXh0IHRhc2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiB0aW1lT3V0XG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBmbiBDYWxsYmFjayB0byBydW5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBEZWxheSBpbiBtaWxsaXNlY29uZHNcbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihmbiwgZGVsYXkpIHtcbiAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoZm4sIGRlbGF5KTtcbiAgfSxcbiAgLyoqXG4gICAqIENhbmNlbHMgYSBwcmV2aW91c2x5IGVucXVldWVkIGB0aW1lT3V0YCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIHRpbWVPdXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gIH1cbn07XG5leHBvcnQge3RpbWVPdXR9O1xuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAc3VtbWFyeSBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gKi9cbmNvbnN0IGFuaW1hdGlvbkZyYW1lID0ge1xuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdGltaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgYW5pbWF0aW9uRnJhbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbihudW1iZXIpOnZvaWR9IGZuIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGZuKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICB9LFxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYGFuaW1hdGlvbkZyYW1lYCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIGFuaW1hdGlvbkZyYW1lXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gYHJ1bmAgb2YgY2FsbGJhY2sgdG8gY2FuY2VsXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGhhbmRsZSk7XG4gIH1cbn07XG5leHBvcnQge2FuaW1hdGlvbkZyYW1lfTtcblxuLyoqXG4gKiBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgLiAgRmFsbHMgYmFjayB0b1xuICogYHNldFRpbWVvdXRgIG9uIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgYHJlcXVlc3RJZGxlQ2FsbGJhY2tgLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdElkbGVDYWxsYmFja2AuXG4gKi9cbmNvbnN0IGlkbGVQZXJpb2QgPSB7XG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGZ1bmN0aW9uIGNhbGxlZCBhdCBgcmVxdWVzdElkbGVDYWxsYmFja2AgdGltaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgaWRsZVBlcmlvZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFJZGxlRGVhZGxpbmUpOnZvaWR9IGZuIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGZuKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrID9cbiAgICAgIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKGZuKSA6XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmbiwgMTYpO1xuICB9LFxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYGlkbGVQZXJpb2RgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgaWRsZVBlcmlvZFxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2sgP1xuICAgICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayhoYW5kbGUpIDpcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgfVxufTtcbmV4cG9ydCB7aWRsZVBlcmlvZH07XG5cbi8qKlxuICogQXN5bmMgaW50ZXJmYWNlIGZvciBlbnF1ZXVpbmcgY2FsbGJhY2tzIHRoYXQgcnVuIGF0IG1pY3JvdGFzayB0aW1pbmcuXG4gKlxuICogTm90ZSB0aGF0IG1pY3JvdGFzayB0aW1pbmcgaXMgYWNoaWV2ZWQgdmlhIGEgc2luZ2xlIGBNdXRhdGlvbk9ic2VydmVyYCxcbiAqIGFuZCB0aHVzIGNhbGxiYWNrcyBlbnF1ZXVlZCB3aXRoIHRoaXMgQVBJIHdpbGwgYWxsIHJ1biBpbiBhIHNpbmdsZVxuICogYmF0Y2gsIGFuZCBub3QgaW50ZXJsZWF2ZWQgd2l0aCBvdGhlciBtaWNyb3Rhc2tzIHN1Y2ggYXMgcHJvbWlzZXMuXG4gKiBQcm9taXNlcyBhcmUgYXZvaWRlZCBhcyBhbiBpbXBsZW1lbnRhdGlvbiBjaG9pY2UgZm9yIHRoZSB0aW1lIGJlaW5nXG4gKiBkdWUgdG8gU2FmYXJpIGJ1Z3MgdGhhdCBjYXVzZSBQcm9taXNlcyB0byBsYWNrIG1pY3JvdGFzayBndWFyYW50ZWVzLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSBmb3IgZW5xdWV1aW5nIGNhbGxiYWNrcyB0aGF0IHJ1biBhdCBtaWNyb3Rhc2tcbiAqICAgdGltaW5nLlxuICovXG5jb25zdCBtaWNyb1Rhc2sgPSB7XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGF0IG1pY3JvdGFzayB0aW1pbmcuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtaWNyb1Rhc2tcbiAgICogQHBhcmFtIHshRnVuY3Rpb249fSBjYWxsYmFjayBDYWxsYmFjayB0byBydW5cbiAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdXNlZCBmb3IgY2FuY2VsaW5nIHRhc2tcbiAgICovXG4gIHJ1bihjYWxsYmFjaykge1xuICAgIG1pY3JvdGFza05vZGUudGV4dENvbnRlbnQgPSBtaWNyb3Rhc2tOb2RlQ29udGVudCsrO1xuICAgIG1pY3JvdGFza0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gbWljcm90YXNrQ3VyckhhbmRsZSsrO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgbWljcm9UYXNrYCBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1pY3JvVGFza1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIGNvbnN0IGlkeCA9IGhhbmRsZSAtIG1pY3JvdGFza0xhc3RIYW5kbGU7XG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBpZiAoIW1pY3JvdGFza0NhbGxiYWNrc1tpZHhdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhc3luYyBoYW5kbGU6ICcgKyBoYW5kbGUpO1xuICAgICAgfVxuICAgICAgbWljcm90YXNrQ2FsbGJhY2tzW2lkeF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG59O1xuZXhwb3J0IHttaWNyb1Rhc2t9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBtaWNyb1Rhc2sgfSBmcm9tICcuLi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5cbi8qKiBAY29uc3QgeyFBc3luY0ludGVyZmFjZX0gKi9cbmNvbnN0IG1pY3JvdGFzayA9IG1pY3JvVGFzaztcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgbWV0YS1wcm9ncmFtbWluZyBmb3IgY3JlYXRpbmcgb25lXG4gKiBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycyAoZ2V0dGVyL3NldHRlciBwYWlyKSB0aGF0IGVucXVldWUgYW4gYXN5bmNcbiAqIChiYXRjaGVkKSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAqXG4gKiBGb3IgYmFzaWMgdXNhZ2Ugb2YgdGhpcyBtaXhpbiwgY2FsbCBgTXlDbGFzcy5jcmVhdGVQcm9wZXJ0aWVzKHByb3BzKWBcbiAqIG9uY2UgYXQgY2xhc3MgZGVmaW5pdGlvbiB0aW1lIHRvIGNyZWF0ZSBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIHByb3BlcnRpZXNcbiAqIG5hbWVkIGluIHByb3BzLCBpbXBsZW1lbnQgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgdG8gcmVhY3QgYXMgZGVzaXJlZCB0b1xuICogcHJvcGVydHkgY2hhbmdlcywgYW5kIGltcGxlbWVudCBgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKWAgYW5kXG4gKiBpbmNsdWRlIGxvd2VyY2FzZSB2ZXJzaW9ucyBvZiBhbnkgcHJvcGVydHkgbmFtZXMgdGhhdCBzaG91bGQgYmUgc2V0IGZyb21cbiAqIGF0dHJpYnV0ZXMuIExhc3QsIGNhbGwgYHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKWAgaW4gdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCB0byBlbmFibGUgdGhlIGFjY2Vzc29ycy5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gZm9yIHJlYWN0aW5nIHRvIHByb3BlcnR5IGNoYW5nZXMgZnJvbVxuICogICBnZW5lcmF0ZWQgcHJvcGVydHkgYWNjZXNzb3JzLlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb3BlcnRpZXNDaGFuZ2VkID0gZGVkdXBpbmdNaXhpbihcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gICAgICovXG4gICAgKHN1cGVyQ2xhc3MpID0+IHtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICovXG4gIGNsYXNzIFByb3BlcnRpZXNDaGFuZ2VkIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gcHJvcHMgT2JqZWN0IHdob3NlIGtleXMgYXJlIG5hbWVzIG9mIGFjY2Vzc29ycy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICAvLyBkb24ndCBzdG9tcCBhbiBleGlzdGluZyBhY2Nlc3NvclxuICAgICAgICBpZiAoIShwcm9wIGluIHByb3RvKSkge1xuICAgICAgICAgIHByb3RvLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgbmFtZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBUaGUgYXR0cmlidXRlIG5hbWUgaXMgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZS4gT3ZlcnJpZGUgdG9cbiAgICAgKiBjdXN0b21pemUgdGhpcyBtYXBwaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBjb252ZXJ0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBdHRyaWJ1dGUgbmFtZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IHRvIHByb3ZpZGUgYSB0eXBlIHRvIHdoaWNoIHRvIGRlc2VyaWFsaXplIGEgdmFsdWUgdG9cbiAgICAgKiBhIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyB0eXBlRm9yUHJvcGVydHkobmFtZSkgeyB9IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldHRlci9nZXR0ZXIgcGFpciBmb3IgdGhlIG5hbWVkIHByb3BlcnR5IHdpdGggaXRzIG93blxuICAgICAqIGxvY2FsIHN0b3JhZ2UuICBUaGUgZ2V0dGVyIHJldHVybnMgdGhlIHZhbHVlIGluIHRoZSBsb2NhbCBzdG9yYWdlLFxuICAgICAqIGFuZCB0aGUgc2V0dGVyIGNhbGxzIGBfc2V0UHJvcGVydHlgLCB3aGljaCB1cGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlXG4gICAgICogZm9yIHRoZSBwcm9wZXJ0eSBhbmQgZW5xdWV1ZXMgYSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgb24gYSBwcm90b3R5cGUgb3IgYW4gaW5zdGFuY2UuICBDYWxsaW5nXG4gICAgICogdGhpcyBtZXRob2QgbWF5IG92ZXJ3cml0ZSBhIHByb3BlcnR5IHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb25cbiAgICAgKiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGJ5IGNyZWF0aW5nIHRoZSBhY2Nlc3Nvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlYWRPbmx5IFdoZW4gdHJ1ZSwgbm8gc2V0dGVyIGlzIGNyZWF0ZWQ7IHRoZVxuICAgICAqICAgcHJvdGVjdGVkIGBfc2V0UHJvcGVydHlgIGZ1bmN0aW9uIG11c3QgYmUgdXNlZCB0byBzZXQgdGhlIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KSB7XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKHByb3BlcnR5KTtcbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2RhdGFIYXNBY2Nlc3NvcicsIHRoaXMpKSkge1xuICAgICAgICB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldKSB7XG4gICAgICAgIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGBwcm9wZXJ0eWAgdG8gYSBtYXAgbWF0Y2hpbmcgYXR0cmlidXRlIG5hbWVzXG4gICAgICogdG8gcHJvcGVydHkgbmFtZXMsIHVzaW5nIGBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHlgLiBUaGlzIG1hcCBpc1xuICAgICAqIHVzZWQgd2hlbiBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19kYXRhQXR0cmlidXRlcycsIHRoaXMpKSkge1xuICAgICAgICB0aGlzLl9fZGF0YUF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9fZGF0YUF0dHJpYnV0ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9fZGF0YUF0dHJpYnV0ZXNbcHJvcGVydHldKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgIHRoaXMuX19kYXRhQXR0cmlidXRlc1thdHRyXSA9IHByb3BlcnR5O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlYWRPbmx5IFdoZW4gdHJ1ZSwgbm8gc2V0dGVyIGlzIGNyZWF0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgICBfZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wZXJ0eSwge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuICAgICAgICAvKiogQHRoaXMge1Byb3BlcnRpZXNDaGFuZ2VkfSAqL1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqIEB0aGlzIHtQcm9wZXJ0aWVzQ2hhbmdlZH0gKi9cbiAgICAgICAgc2V0OiByZWFkT25seSA/IGZ1bmN0aW9uICgpIHt9IDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUVuYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhSW52YWxpZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGEgPSB7fTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YU9sZCA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSBudWxsO1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZSBjYWxsYmFjayBjYWxsZWQgd2hlbiBwcm9wZXJ0aWVzIGFyZSBlbmFibGVkIHZpYVxuICAgICAqIGBfZW5hYmxlUHJvcGVydGllc2AuXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiB0byBpbXBsZW1lbnQgYmVoYXZpb3IgdGhhdCBpc1xuICAgICAqIGRlcGVuZGVudCBvbiB0aGUgZWxlbWVudCBoYXZpbmcgaXRzIHByb3BlcnR5IGRhdGEgaW5pdGlhbGl6ZWQsIGUuZy5cbiAgICAgKiBmcm9tIGRlZmF1bHRzIChpbml0aWFsaXplZCBmcm9tIGBjb25zdHJ1Y3RvcmAsIGBfaW5pdGlhbGl6ZVByb3BlcnRpZXNgKSxcbiAgICAgKiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCwgb3IgdmFsdWVzIHByb3BhZ2F0ZWQgZnJvbSBob3N0IGUuZy4gdmlhXG4gICAgICogYmluZGluZ3MuICBgc3VwZXIucmVhZHkoKWAgbXVzdCBiZSBjYWxsZWQgdG8gZW5zdXJlIHRoZSBkYXRhIHN5c3RlbVxuICAgICAqIGJlY29tZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fX2RhdGFSZWFkeSA9IHRydWU7XG4gICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbG9jYWwgc3RvcmFnZSBmb3IgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqXG4gICAgICogUHJvdmlkZWQgYXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBlcmZvcm1pbmcgYW55IHNldHVwIHdvcmsgcHJpb3JcbiAgICAgKiB0byBpbml0aWFsaXppbmcgdGhlIHByb3BlcnR5IGFjY2Vzc29yIHN5c3RlbS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIC8vIENhcHR1cmUgaW5zdGFuY2UgcHJvcGVydGllczsgdGhlc2Ugd2lsbCBiZSBzZXQgaW50byBhY2Nlc3NvcnNcbiAgICAgIC8vIGR1cmluZyBmaXJzdCBmbHVzaC4gRG9uJ3Qgc2V0IHRoZW0gaGVyZSwgc2luY2Ugd2Ugd2FudFxuICAgICAgLy8gdGhlc2UgdG8gb3ZlcndyaXRlIGRlZmF1bHRzL2NvbnN0cnVjdG9yIGFzc2lnbm1lbnRzXG4gICAgICBmb3IgKGxldCBwIGluIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzW3BdID0gdGhpc1twXTtcbiAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCByZWFkeSB0aW1lIHdpdGggYmFnIG9mIGluc3RhbmNlIHByb3BlcnRpZXMgdGhhdCBvdmVyd3JvdGVcbiAgICAgKiBhY2Nlc3NvcnMgd2hlbiB0aGUgZWxlbWVudCB1cGdyYWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IHJlYWR5IHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5ICh2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgKVxuICAgICAqIGFuZCBlbnF1ZXVlcyBhIGBfcHJvZXBydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZ2V0UHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBhIHByb3BlcnR5LCByZWNvcmRzIHRoZSBwcmV2aW91cyB2YWx1ZSxcbiAgICAgKiBhbmQgYWRkcyBpdCB0byB0aGUgc2V0IG9mIFwicGVuZGluZyBjaGFuZ2VzXCIgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGVcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay4gIFRoaXMgbWV0aG9kIGRvZXMgbm90IGVucXVldWUgdGhlXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGV4dCBOb3QgdXNlZCBoZXJlOyBhZmZvcmRhbmNlIGZvciBjbG9zdXJlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCBleHQpIHtcbiAgICAgIGxldCBvbGQgPSB0aGlzLl9fZGF0YVtwcm9wZXJ0eV07XG4gICAgICBsZXQgY2hhbmdlZCA9IHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKTtcbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIGlmICghdGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0ge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFPbGQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgb2xkIGlzIGNhcHR1cmVkIGZyb20gdGhlIGxhc3QgdHVyblxuICAgICAgICBpZiAodGhpcy5fX2RhdGFPbGQgJiYgIShwcm9wZXJ0eSBpbiB0aGlzLl9fZGF0YU9sZCkpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZFtwcm9wZXJ0eV0gPSBvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyB0aGUgcHJvcGVydGllcyBhcyBpbnZhbGlkLCBhbmQgZW5xdWV1ZXMgYW4gYXN5bmNcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFJbnZhbGlkICYmIHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbWljcm90YXNrLnJ1bigoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuX19kYXRhSW52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgdG8gZW5hYmxlIHByb3BlcnR5IGFjY2Vzc29yIHByb2Nlc3NpbmcuIEJlZm9yZSB0aGlzIG1ldGhvZCBpc1xuICAgICAqIGNhbGxlZCBhY2Nlc3NvciB2YWx1ZXMgd2lsbCBiZSBzZXQgYnV0IHNpZGUgZWZmZWN0cyBhcmVcbiAgICAgKiBxdWV1ZWQuIFdoZW4gY2FsbGVkLCBhbnkgcGVuZGluZyBzaWRlIGVmZmVjdHMgb2NjdXIgaW1tZWRpYXRlbHkuXG4gICAgICogRm9yIGVsZW1lbnRzLCBnZW5lcmFsbHkgYGNvbm5lY3RlZENhbGxiYWNrYCBpcyBhIG5vcm1hbCBzcG90IHRvIGRvIHNvLlxuICAgICAqIEl0IGlzIHNhZmUgdG8gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyBhcyBpdCBvbmx5IHR1cm5zIG9uXG4gICAgICogcHJvcGVydHkgYWNjZXNzb3JzIG9uY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5hYmxlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFFbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX19kYXRhRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMpIHtcbiAgICAgICAgICB0aGlzLl9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyk7XG4gICAgICAgICAgdGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWR5KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgc2V0IG9mXG4gICAgICogcGVuZGluZyBjaGFuZ2VzIChhbmQgb2xkIHZhbHVlcyByZWNvcmRlZCB3aGVuIHBlbmRpbmcgY2hhbmdlcyB3ZXJlXG4gICAgICogc2V0KSwgYW5kIHJlc2V0cyB0aGUgcGVuZGluZyBzZXQgb2YgY2hhbmdlcy4gR2VuZXJhbGx5LCB0aGlzIG1ldGhvZFxuICAgICAqIHNob3VsZCBub3QgYmUgY2FsbGVkIGluIHVzZXIgY29kZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9mbHVzaFByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX19kYXRhO1xuICAgICAgY29uc3QgY2hhbmdlZFByb3BzID0gdGhpcy5fX2RhdGFQZW5kaW5nO1xuICAgICAgY29uc3Qgb2xkID0gdGhpcy5fX2RhdGFPbGQ7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkUHJvcGVydGllc0NoYW5nZShwcm9wcywgY2hhbmdlZFByb3BzLCBvbGQpKSB7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX19kYXRhT2xkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllc0NoYW5nZWQocHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW4gYF9mbHVzaFByb3BlcnRpZXNgIHRvIGRldGVybWluZSBpZiBgX3Byb3BlcnRpZXNDaGFuZ2VkYFxuICAgICAqIHNob3VsZCBiZSBjYWxsZWQuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHJldHVybnMgdHJ1ZSBpZlxuICAgICAqIHByb3BlcnRpZXMgYXJlIHBlbmRpbmcuIE92ZXJyaWRlIHRvIGN1c3RvbWl6ZSB3aGVuXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgaXMgY2FsbGVkLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gY3VycmVudFByb3BzIEJhZyBvZiBhbGwgY3VycmVudCBhY2Nlc3NvciB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IGNoYW5nZWRQcm9wcyBCYWcgb2YgcHJvcGVydGllcyBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAgICogICBjYWxsIHRvIGBfcHJvcGVydGllc0NoYW5nZWRgXG4gICAgICogQHBhcmFtIHs/T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBlYWNoIHByb3BlcnR5XG4gICAgICogICBpbiBgY2hhbmdlZFByb3BzYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgY2hhbmdlZFByb3BzIGlzIHRydXRoeVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0aWVzQ2hhbmdlKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICByZXR1cm4gQm9vbGVhbihjaGFuZ2VkUHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIGFueSBwcm9wZXJ0aWVzIHdpdGggYWNjZXNzb3JzIGNyZWF0ZWQgdmlhXG4gICAgICogYF9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yYCBoYXZlIGJlZW4gc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3Byb3BlcnRpZXNDaGFuZ2VkKGN1cnJlbnRQcm9wcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIGNhbGxlZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHByb3BlcnR5IHZhbHVlIHNob3VsZCBiZVxuICAgICAqIGNvbnNpZGVyZWQgYXMgYSBjaGFuZ2UgYW5kIGNhdXNlIHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIHRvIGJlIGVucXVldWVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJucyBgdHJ1ZWAgaWYgYSBzdHJpY3QgZXF1YWxpdHlcbiAgICAgKiBjaGVjayBmYWlscy4gVGhlIG1ldGhvZCBhbHdheXMgcmV0dXJucyBmYWxzZSBmb3IgYE5hTmAuXG4gICAgICpcbiAgICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBlLmcuIHByb3ZpZGUgc3RyaWN0ZXIgY2hlY2tpbmcgZm9yXG4gICAgICogT2JqZWN0cy9BcnJheXMgd2hlbiB1c2luZyBpbW11dGFibGUgcGF0dGVybnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqICAgYW5kIGVucXVldWUgYSBgX3Byb2VwcnRpZXNDaGFuZ2VkYCBjYWxsYmFja1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIC8vIFN0cmljdCBlcXVhbGl0eSBjaGVja1xuICAgICAgICAob2xkICE9PSB2YWx1ZSAmJlxuICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyAob2xkPT1OYU4sIHZhbHVlPT1OYU4pIGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gICAgICAgICAgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSkpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gU3VwZXIgbWF5IG9yIG1heSBub3QgaW1wbGVtZW50IHRoZSBjYWxsYmFja1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjaykge1xuICAgICAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNlcmlhbGl6ZXMgYW4gYXR0cmlidXRlIHRvIGl0cyBhc3NvY2lhdGVkIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FsbHMgdGhlIGBfZGVzZXJpYWxpemVWYWx1ZWAgbWV0aG9kIHRvIGNvbnZlcnQgdGhlIHN0cmluZyB0b1xuICAgICAqIGEgdHlwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIE5hbWUgb2YgYXR0cmlidXRlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0geyo9fSB0eXBlIHR5cGUgdG8gZGVzZXJpYWxpemUgdG8sIGRlZmF1bHRzIHRvIHRoZSB2YWx1ZVxuICAgICAqIHJldHVybmVkIGZyb20gYHR5cGVGb3JQcm9wZXJ0eWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KGF0dHJpYnV0ZSwgdmFsdWUsIHR5cGUpIHtcbiAgICAgIGlmICghdGhpcy5fX3NlcmlhbGl6aW5nKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuX19kYXRhQXR0cmlidXRlcztcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBtYXAgJiYgbWFwW2F0dHJpYnV0ZV0gfHwgYXR0cmlidXRlO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUgfHxcbiAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnR5cGVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgYSBwcm9wZXJ0eSB0byBpdHMgYXNzb2NpYXRlZCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gQ2xvc3VyZSBjYW4ndCBmaWd1cmUgb3V0IGB0aGlzYCBpcyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byByZWZsZWN0IHRvLlxuICAgICAqIEBwYXJhbSB7Kj19IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHJlZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICB0aGlzLl9fc2VyaWFsaXppbmcgPSB0cnVlO1xuICAgICAgdmFsdWUgPSAoYXJndW1lbnRzLmxlbmd0aCA8IDMpID8gdGhpc1twcm9wZXJ0eV0gOiB2YWx1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSwgdmFsdWUsXG4gICAgICAgIGF0dHJpYnV0ZSB8fCB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkpO1xuICAgICAgdGhpcy5fX3NlcmlhbGl6aW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHR5cGVkIHZhbHVlIHRvIGFuIEhUTUwgYXR0cmlidXRlIG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbGxzIHRoZSBgX3NlcmlhbGl6ZVZhbHVlYCBtZXRob2QgdG8gY29udmVydCB0aGUgdHlwZWRcbiAgICAgKiB2YWx1ZSB0byBhIHN0cmluZy4gIElmIHRoZSBgX3NlcmlhbGl6ZVZhbHVlYCBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmVtb3ZlZCAodGhpcyBpcyB0aGUgZGVmYXVsdCBmb3IgYm9vbGVhblxuICAgICAqIHR5cGUgYGZhbHNlYCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgRWxlbWVudCB0byBzZXQgYXR0cmlidXRlIHRvLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUgdG8gc2VyaWFsaXplIHRvLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKG5vZGUsIHZhbHVlLCBhdHRyaWJ1dGUpIHtcbiAgICAgIGNvbnN0IHN0ciA9IHRoaXMuX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICdjbGFzcycgfHwgYXR0cmlidXRlID09PSAnbmFtZScgfHwgYXR0cmlidXRlID09PSAnc2xvdCcpIHtcbiAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7P0VsZW1lbnR9ICovKHdyYXAobm9kZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHN0cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gc2V0dGluZyBKUyBwcm9wZXJ0eSB2YWx1ZXMgdG9cbiAgICAgKiBIVE1MIGF0dHJpYnV0ZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZVxuICAgICAqIHNlcmlhbGl6YXRpb24gZm9yIGN1c3RvbSB0eXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IHVuZGVmaW5lZH0gU3RyaW5nIHNlcmlhbGl6ZWQgZnJvbSB0aGUgcHJvdmlkZWRcbiAgICAgKiBwcm9wZXJ0eSAgdmFsdWUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnRvU3RyaW5nKCkgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIHdoZW4gcmVhZGluZyBIVE1MIGF0dHJpYnV0ZSB2YWx1ZXMgdG9cbiAgICAgKiBKUyBwcm9wZXJ0aWVzLiAgVXNlcnMgbWF5IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHByb3ZpZGVcbiAgICAgKiBkZXNlcmlhbGl6YXRpb24gZm9yIGN1c3RvbSBgdHlwZWBzLiBUeXBlcyBmb3IgYEJvb2xlYW5gLCBgU3RyaW5nYCxcbiAgICAgKiBhbmQgYE51bWJlcmAgY29udmVydCBhdHRyaWJ1dGVzIHRvIHRoZSBleHBlY3RlZCB0eXBlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gZGVzZXJpYWxpemUuXG4gICAgICogQHBhcmFtIHsqPX0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG8uXG4gICAgICogQHJldHVybiB7Kn0gVHlwZWQgdmFsdWUgZGVzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHN0cmluZy5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICByZXR1cm4gKHZhbHVlICE9PSBudWxsKTtcbiAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFByb3BlcnRpZXNDaGFuZ2VkO1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IGNhbWVsVG9EYXNoQ2FzZSwgZGFzaFRvQ2FtZWxDYXNlIH0gZnJvbSAnLi4vdXRpbHMvY2FzZS1tYXAuanMnO1xuaW1wb3J0IHsgUHJvcGVydGllc0NoYW5nZWQgfSBmcm9tICcuL3Byb3BlcnRpZXMtY2hhbmdlZC5qcyc7XG5cbi8vIFNhdmUgbWFwIG9mIG5hdGl2ZSBwcm9wZXJ0aWVzOyB0aGlzIGZvcm1zIGEgYmxhY2tsaXN0IG9yIHByb3BlcnRpZXNcbi8vIHRoYXQgd29uJ3QgaGF2ZSB0aGVpciB2YWx1ZXMgXCJzYXZlZFwiIGJ5IGBzYXZlQWNjZXNzb3JWYWx1ZWAsIHNpbmNlXG4vLyByZWFkaW5nIGZyb20gYW4gSFRNTEVsZW1lbnQgYWNjZXNzb3IgZnJvbSB0aGUgY29udGV4dCBvZiBhIHByb3RvdHlwZSB0aHJvd3NcbmNvbnN0IG5hdGl2ZVByb3BlcnRpZXMgPSB7fTtcbmxldCBwcm90byA9IEhUTUxFbGVtZW50LnByb3RvdHlwZTtcbndoaWxlIChwcm90bykge1xuICBsZXQgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90byk7XG4gIGZvciAobGV0IGk9MDsgaTxwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIG5hdGl2ZVByb3BlcnRpZXNbcHJvcHNbaV1dID0gdHJ1ZTtcbiAgfVxuICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG59XG5cbi8qKlxuICogVXNlZCB0byBzYXZlIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IHRoYXQgd2lsbCBiZSBvdmVycmlkZGVuIHdpdGhcbiAqIGFuIGFjY2Vzc29yLiBJZiB0aGUgYG1vZGVsYCBpcyBhIHByb3RvdHlwZSwgdGhlIHZhbHVlcyB3aWxsIGJlIHNhdmVkXG4gKiBpbiBgX19kYXRhUHJvdG9gLCBhbmQgaXQncyB1cCB0byB0aGUgdXNlciAob3IgZG93bnN0cmVhbSBtaXhpbikgdG9cbiAqIGRlY2lkZSBob3cvd2hlbiB0byBzZXQgdGhlc2UgdmFsdWVzIGJhY2sgaW50byB0aGUgYWNjZXNzb3JzLlxuICogSWYgYG1vZGVsYCBpcyBhbHJlYWR5IGFuIGluc3RhbmNlIChpdCBoYXMgYSBgX19kYXRhYCBwcm9wZXJ0eSksIHRoZW5cbiAqIHRoZSB2YWx1ZSB3aWxsIGJlIHNldCBhcyBhIHBlbmRpbmcgcHJvcGVydHksIG1lYW5pbmcgdGhlIHVzZXIgc2hvdWxkXG4gKiBjYWxsIGBfaW52YWxpZGF0ZVByb3BlcnRpZXNgIG9yIGBfZmx1c2hQcm9wZXJ0aWVzYCB0byB0YWtlIGVmZmVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtb2RlbCBQcm90b3R5cGUgb3IgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZUFjY2Vzc29yVmFsdWUobW9kZWwsIHByb3BlcnR5KSB7XG4gIC8vIERvbid0IHJlYWQvc3RvcmUgdmFsdWUgZm9yIGFueSBuYXRpdmUgcHJvcGVydGllcyBzaW5jZSB0aGV5IGNvdWxkIHRocm93XG4gIGlmICghbmF0aXZlUHJvcGVydGllc1twcm9wZXJ0eV0pIHtcbiAgICBsZXQgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChtb2RlbC5fX2RhdGEpIHtcbiAgICAgICAgLy8gQWRkaW5nIGFjY2Vzc29yIHRvIGluc3RhbmNlOyB1cGRhdGUgdGhlIHByb3BlcnR5XG4gICAgICAgIC8vIEl0IGlzIHRoZSB1c2VyJ3MgcmVzcG9uc2liaWxpdHkgdG8gY2FsbCBfZmx1c2hQcm9wZXJ0aWVzXG4gICAgICAgIG1vZGVsLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZGluZyBhY2Nlc3NvciB0byBwcm90bzsgc2F2ZSBwcm90bydzIHZhbHVlIGZvciBpbnN0YW5jZS10aW1lIHVzZVxuICAgICAgICBpZiAoIW1vZGVsLl9fZGF0YVByb3RvKSB7XG4gICAgICAgICAgbW9kZWwuX19kYXRhUHJvdG8gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICghbW9kZWwuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19kYXRhUHJvdG8nLCBtb2RlbCkpKSB7XG4gICAgICAgICAgbW9kZWwuX19kYXRhUHJvdG8gPSBPYmplY3QuY3JlYXRlKG1vZGVsLl9fZGF0YVByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlbC5fX2RhdGFQcm90b1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgbWV0YS1wcm9ncmFtbWluZyBmb3IgY3JlYXRpbmcgb25lXG4gKiBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycyAoZ2V0dGVyL3NldHRlciBwYWlyKSB0aGF0IGVucXVldWUgYW4gYXN5bmNcbiAqIChiYXRjaGVkKSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAqXG4gKiBGb3IgYmFzaWMgdXNhZ2Ugb2YgdGhpcyBtaXhpbjpcbiAqXG4gKiAtICAgRGVjbGFyZSBhdHRyaWJ1dGVzIHRvIG9ic2VydmUgdmlhIHRoZSBzdGFuZGFyZCBgc3RhdGljIGdldFxuICogICAgIG9ic2VydmVkQXR0cmlidXRlcygpYC4gVXNlIGBkYXNoLWNhc2VgIGF0dHJpYnV0ZSBuYW1lcyB0byByZXByZXNlbnRcbiAqICAgICBgY2FtZWxDYXNlYCBwcm9wZXJ0eSBuYW1lcy5cbiAqIC0gICBJbXBsZW1lbnQgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrIG9uIHRoZSBjbGFzcy5cbiAqIC0gICBDYWxsIGBNeUNsYXNzLmNyZWF0ZVByb3BlcnRpZXNGb3JBdHRyaWJ1dGVzKClgICoqb25jZSoqIG9uIHRoZSBjbGFzcyB0b1xuICogICAgIGdlbmVyYXRlIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgZWFjaCBvYnNlcnZlZCBhdHRyaWJ1dGUuIFRoaXMgbXVzdCBiZVxuICogICAgIGNhbGxlZCBiZWZvcmUgdGhlIGZpcnN0IGluc3RhbmNlIGlzIGNyZWF0ZWQsIGZvciBleGFtcGxlLCBieSBjYWxsaW5nIGl0XG4gKiAgICAgYmVmb3JlIGNhbGxpbmcgYGN1c3RvbUVsZW1lbnRzLmRlZmluZWAuIEl0IGNhbiBhbHNvIGJlIGNhbGxlZCBsYXppbHkgZnJvbVxuICogICAgIHRoZSBlbGVtZW50J3MgYGNvbnN0cnVjdG9yYCwgYXMgbG9uZyBhcyBpdCdzIGd1YXJkZWQgc28gdGhhdCB0aGUgY2FsbCBpc1xuICogICAgIG9ubHkgbWFkZSBvbmNlLCB3aGVuIHRoZSBmaXJzdCBpbnN0YW5jZSBpcyBjcmVhdGVkLlxuICogLSAgIENhbGwgYHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKWAgaW4gdGhlIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgIHRvXG4gKiAgICAgZW5hYmxlIHRoZSBhY2Nlc3NvcnMuXG4gKlxuICogQW55IGBvYnNlcnZlZEF0dHJpYnV0ZXNgIHdpbGwgYXV0b21hdGljYWxseSBiZVxuICogZGVzZXJpYWxpemVkIHZpYSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgc2V0IHRvIHRoZSBhc3NvY2lhdGVkXG4gKiBwcm9wZXJ0eSB1c2luZyBgZGFzaC1jYXNlYC10by1gY2FtZWxDYXNlYCBjb252ZW50aW9uLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzQ2hhbmdlZFxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiBmb3IgcmVhY3RpbmcgdG8gcHJvcGVydHkgY2hhbmdlcyBmcm9tXG4gKiAgIGdlbmVyYXRlZCBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlBY2Nlc3NvcnMgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gICBjb25zdCBiYXNlID0gUHJvcGVydGllc0NoYW5nZWQoc3VwZXJDbGFzcyk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAZXh0ZW5kcyB7YmFzZX1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgUHJvcGVydHlBY2Nlc3NvcnMgZXh0ZW5kcyBiYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgZm9yIGFsbCBhdHRyaWJ1dGVzIGluIHRoZSBzdGFuZGFyZFxuICAgICAqIHN0YXRpYyBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEF0dHJpYnV0ZSBuYW1lcyBhcmUgbWFwcGVkIHRvIHByb3BlcnR5IG5hbWVzIHVzaW5nIHRoZSBgZGFzaC1jYXNlYCB0b1xuICAgICAqIGBjYW1lbENhc2VgIGNvbnZlbnRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydGllc0ZvckF0dHJpYnV0ZXMoKSB7XG4gICAgICBsZXQgYSQgPSAgLyoqIEB0eXBlIHs/fSAqLyAodGhpcykub2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuICAgICAgZm9yIChsZXQgaT0wOyBpIDwgYSQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IoZGFzaFRvQ2FtZWxDYXNlKGEkW2ldKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhdHRyaWJ1dGUgbmFtZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBCeSBkZWZhdWx0LCBjb252ZXJ0cyBjYW1lbCB0byBkYXNoIGNhc2UsIGUuZy4gYGZvb0JhcmAgdG8gYGZvby1iYXJgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBjb252ZXJ0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBBdHRyaWJ1dGUgbmFtZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBjYW1lbFRvRGFzaENhc2UocHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBQcm9wZXJ0aWVzQ2hhbmdlZCBpbXBsZW1lbnRhdGlvbiB0byBpbml0aWFsaXplIHZhbHVlcyBmb3JcbiAgICAgKiBhY2Nlc3NvcnMgY3JlYXRlZCBmb3IgdmFsdWVzIHRoYXQgYWxyZWFkeSBleGlzdGVkIG9uIHRoZSBlbGVtZW50XG4gICAgICogcHJvdG90eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKHRoaXMuX19kYXRhUHJvdG8pIHtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyh0aGlzLl9fZGF0YVByb3RvKTtcbiAgICAgICAgdGhpcy5fX2RhdGFQcm90byA9IG51bGw7XG4gICAgICB9XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXQgaW5zdGFuY2UgdGltZSB3aXRoIGJhZyBvZiBwcm9wZXJ0aWVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlblxuICAgICAqIGJ5IGFjY2Vzc29ycyBvbiB0aGUgcHJvdG90eXBlIHdoZW4gYWNjZXNzb3JzIHdlcmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNldHMgdGhlc2UgcHJvcGVydGllcyBiYWNrIGludG8gdGhlXG4gICAgICogc2V0dGVyIGF0IGluc3RhbmNlIHRpbWUuICBUaGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBhbiBvdmVycmlkZVxuICAgICAqIHBvaW50IGZvciBjdXN0b21pemluZyBvciBwcm92aWRpbmcgbW9yZSBlZmZpY2llbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIHByb3BlcnR5IHZhbHVlcyB0aGF0IHdlcmUgb3ZlcndyaXR0ZW5cbiAgICAgKiAgIHdoZW4gY3JlYXRpbmcgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMuX3NldFByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoZSBlbGVtZW50IGhhcyB0aGUgZ2l2ZW4gYXR0cmlidXRlLiBJZiBpdCBkb2VzIG5vdCxcbiAgICAgKiBhc3NpZ25zIHRoZSBnaXZlbiB2YWx1ZSB0byB0aGUgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgY2FuJ3QgZmlndXJlIG91dCBgdGhpc2AgaXMgaW5mYWN0IGFuXG4gICAgICogICAgIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgTmFtZSBvZiBhdHRyaWJ1dGUgdG8gZW5zdXJlIGlzIHNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgY29uc3QgZWwgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICBpZiAoIWVsLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKGVsLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50aW9uIHRvIHNlcmlhbGl6ZSBvYmplY3RzIGFzIEpTT04uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFN0cmluZyBzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHByb3BlcnR5XG4gICAgICogICAgIHZhbHVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tZmFsbHRocm91Z2ggKi9cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHN1cGVyLl9zZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IFBvbHltZXIgd2hlbiByZWFkaW5nIEhUTUwgYXR0cmlidXRlIHZhbHVlcyB0b1xuICAgICAqIEpTIHByb3BlcnRpZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2Qgb24gUG9seW1lciBlbGVtZW50XG4gICAgICogcHJvdG90eXBlcyB0byBwcm92aWRlIGRlc2VyaWFsaXphdGlvbiBmb3IgY3VzdG9tIGB0eXBlYHMuICBOb3RlLFxuICAgICAqIHRoZSBgdHlwZWAgYXJndW1lbnQgaXMgdGhlIHZhbHVlIG9mIHRoZSBgdHlwZWAgZmllbGQgcHJvdmlkZWQgaW4gdGhlXG4gICAgICogYHByb3BlcnRpZXNgIGNvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBhIGdpdmVuIHByb3BlcnR5LCBhbmQgaXNcbiAgICAgKiBieSBjb252ZW50aW9uIHRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHR5cGUgdG8gZGVzZXJpYWxpemUuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlIHRvIGRlc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7Kj19IHR5cGUgVHlwZSB0byBkZXNlcmlhbGl6ZSB0aGUgc3RyaW5nIHRvLlxuICAgICAqIEByZXR1cm4geyp9IFR5cGVkIHZhbHVlIGRlc2VyaWFsaXplZCBmcm9tIHRoZSBwcm92aWRlZCBzdHJpbmcuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgKi9cbiAgICAgIGxldCBvdXRWYWx1ZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgLy8gYWxsb3cgbm9uLUpTT04gbGl0ZXJhbHMgbGlrZSBTdHJpbmdzIGFuZCBOdW1iZXJzXG4gICAgICAgICAgICBvdXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyh2YWx1ZSkpO1xuICAgICAgICAgIH0gY2F0Y2goeCkge1xuICAgICAgICAgICAgb3V0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBQb2x5bWVyOjpBdHRyaWJ1dGVzOiBjb3VsZG4ndCBkZWNvZGUgQXJyYXkgYXMgSlNPTjogJHt2YWx1ZX1gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRGF0ZTpcbiAgICAgICAgICBvdXRWYWx1ZSA9IGlzTmFOKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG91dFZhbHVlID0gbmV3IERhdGUob3V0VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG91dFZhbHVlID0gc3VwZXIuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG91dFZhbHVlO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWZhbGx0aHJvdWdoICovXG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgUHJvcGVydGllc0NoYW5nZWQgaW1wbGVtZW50YXRpb24gdG8gc2F2ZSBleGlzdGluZyBwcm90b3R5cGVcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZSBzbyB0aGF0IGl0IGNhbiBiZSByZXNldC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkT25seSBXaGVuIHRydWUsIG5vIHNldHRlciBpcyBjcmVhdGVkXG4gICAgICpcbiAgICAgKiBXaGVuIGNhbGxpbmcgb24gYSBwcm90b3R5cGUsIGFueSBvdmVyd3JpdHRlbiB2YWx1ZXMgYXJlIHNhdmVkIGluXG4gICAgICogYF9fZGF0YVByb3RvYCwgYW5kIGl0IGlzIHVwIHRvIHRoZSBzdWJjbGFzc2VyIHRvIGRlY2lkZSBob3cvd2hlblxuICAgICAqIHRvIHNldCB0aG9zZSBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGUgYWNjZXNzb3IuICBXaGVuIGNhbGxpbmcgb24gYW5cbiAgICAgKiBpbnN0YW5jZSwgdGhlIG92ZXJ3cml0dGVuIHZhbHVlIGlzIHNldCB2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgLFxuICAgICAqIGFuZCB0aGUgdXNlciBzaG91bGQgY2FsbCBgX2ludmFsaWRhdGVQcm9wZXJ0aWVzYCBvciBgX2ZsdXNoUHJvcGVydGllc2BcbiAgICAgKiBmb3IgdGhlIHZhbHVlcyB0byB0YWtlIGVmZmVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIHNhdmVBY2Nlc3NvclZhbHVlKHRoaXMsIHByb3BlcnR5KTtcbiAgICAgIHN1cGVyLl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgbGlicmFyeSBjcmVhdGVkIGFuIGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gYWNjZXNzb3Igd2FzIGNyZWF0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfaGFzQWNjZXNzb3IocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yICYmIHRoaXMuX19kYXRhSGFzQWNjZXNzb3JbcHJvcGVydHldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGhhcyBhIHBlbmRpbmcgY2hhbmdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcHJvcGVydHkgaGFzIGEgcGVuZGluZyBjaGFuZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2lzUHJvcGVydHlQZW5kaW5nKHByb3ApIHtcbiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMuX19kYXRhUGVuZGluZyAmJiAocHJvcCBpbiB0aGlzLl9fZGF0YVBlbmRpbmcpKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0eUFjY2Vzc29ycztcblxufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuLy8gMS54IGJhY2t3YXJkcy1jb21wYXRpYmxlIGF1dG8td3JhcHBlciBmb3IgdGVtcGxhdGUgdHlwZSBleHRlbnNpb25zXG4vLyBUaGlzIGlzIGEgY2xlYXIgbGF5ZXJpbmcgdmlvbGF0aW9uIGFuZCBnaXZlcyBmYXZvcmVkLW5hdGlvbiBzdGF0dXMgdG9cbi8vIGRvbS1pZiBhbmQgZG9tLXJlcGVhdCB0ZW1wbGF0ZXMuICBUaGlzIGlzIGEgY29uY2VpdCB3ZSdyZSBjaG9vc2luZyB0byBrZWVwXG4vLyBhLikgdG8gZWFzZSAxLnggYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZHVlIHRvIGxvc3Mgb2YgYGlzYCwgYW5kXG4vLyBiLikgdG8gbWFpbnRhaW4gaWYvcmVwZWF0IGNhcGFiaWxpdHkgaW4gcGFyc2VyLWNvbnN0cmFpbmVkIGVsZW1lbnRzXG4vLyAgICAgKGUuZy4gdGFibGUsIHNlbGVjdCkgaW4gbGlldSBvZiBuYXRpdmUgQ0UgdHlwZSBleHRlbnNpb25zIHdpdGhvdXRcbi8vICAgICBtYXNzaXZlIG5ldyBpbnZlbnRpb24gaW4gdGhpcyBzcGFjZSAoZS5nLiBkaXJlY3RpdmUgc3lzdGVtKVxuY29uc3QgdGVtcGxhdGVFeHRlbnNpb25zID0ge1xuICAnZG9tLWlmJzogdHJ1ZSxcbiAgJ2RvbS1yZXBlYXQnOiB0cnVlXG59O1xuXG5sZXQgcGxhY2Vob2xkZXJCdWdEZXRlY3QgPSBmYWxzZTtcbmxldCBwbGFjZWhvbGRlckJ1ZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBoYXNQbGFjZWhvbGRlckJ1ZygpIHtcbiAgaWYgKCFwbGFjZWhvbGRlckJ1Z0RldGVjdCkge1xuICAgIHBsYWNlaG9sZGVyQnVnRGV0ZWN0ID0gdHJ1ZTtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB0LnBsYWNlaG9sZGVyID0gJ2EnO1xuICAgIHBsYWNlaG9sZGVyQnVnID0gdC5wbGFjZWhvbGRlciA9PT0gdC50ZXh0Q29udGVudDtcbiAgfVxuICByZXR1cm4gcGxhY2Vob2xkZXJCdWc7XG59XG5cbi8qKlxuICogU29tZSBicm93c2VycyBoYXZlIGEgYnVnIHdpdGggdGV4dGFyZWEsIHdoZXJlIHBsYWNlaG9sZGVyIHRleHQgaXMgY29waWVkIGFzXG4gKiBhIHRleHRub2RlIGNoaWxkIG9mIHRoZSB0ZXh0YXJlYS5cbiAqXG4gKiBJZiB0aGUgcGxhY2Vob2xkZXIgaXMgYSBiaW5kaW5nLCB0aGlzIGNhbiBicmVhayB0ZW1wbGF0ZSBzdGFtcGluZyBpbiB0d29cbiAqIHdheXMuXG4gKlxuICogT25lIGlzc3VlIGlzIHRoYXQgd2hlbiB0aGUgYHBsYWNlaG9sZGVyYCBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCB3aGVuIHRoZVxuICogYmluZGluZyBpcyBwcm9jZXNzZWQsIHRoZSB0ZXh0bm9kZSBjaGlsZCBvZiB0aGUgdGV4dGFyZWEgaXMgZGVsZXRlZCwgYW5kIHRoZVxuICogdGVtcGxhdGUgaW5mbyB0cmllcyB0byBiaW5kIGludG8gdGhhdCBub2RlLlxuICpcbiAqIFdpdGggYGxlZ2FjeU9wdGltaXphdGlvbnNgIGluIHVzZSwgd2hlbiB0aGUgdGVtcGxhdGUgaXMgc3RhbXBlZCBhbmQgdGhlXG4gKiBgdGV4dGFyZWEudGV4dENvbnRlbnRgIGJpbmRpbmcgaXMgcHJvY2Vzc2VkLCBubyBjb3JyZXNwb25kaW5nIG5vZGUgaXMgZm91bmRcbiAqIGJlY2F1c2UgaXQgd2FzIHJlbW92ZWQgZHVyaW5nIHBhcnNpbmcuIEFuIGV4Y2VwdGlvbiBpcyBnZW5lcmF0ZWQgd2hlbiB0aGlzXG4gKiBiaW5kaW5nIGlzIHVwZGF0ZWQuXG4gKlxuICogV2l0aCBgbGVnYWN5T3B0aW1pemF0aW9uc2Agbm90IGluIHVzZSwgdGhlIHRlbXBsYXRlIGlzIGNsb25lZCBiZWZvcmVcbiAqIHByb2Nlc3NpbmcgYW5kIHRoaXMgY2hhbmdlcyB0aGUgYWJvdmUgYmVoYXZpb3IuIFRoZSBjbG9uZWQgdGVtcGxhdGUgYWxzbyBoYXNcbiAqIGEgdmFsdWUgcHJvcGVydHkgc2V0IHRvIHRoZSBwbGFjZWhvbGRlciBhbmQgdGV4dENvbnRlbnQuIFRoaXMgcHJldmVudHMgdGhlXG4gKiByZW1vdmFsIG9mIHRoZSB0ZXh0Q29udGVudCB3aGVuIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqIFRoZXJlZm9yZSB0aGUgZXhjZXB0aW9uIGRvZXMgbm90IG9jY3VyLiBIb3dldmVyLCB0aGVyZSBpcyBhbiBleHRyYVxuICogdW5uZWNlc3NhcnkgYmluZGluZy5cbiAqXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlIENoZWNrIG5vZGUgZm9yIHBsYWNlaG9sZGVyIGJ1Z1xuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZml4UGxhY2Vob2xkZXIobm9kZSkge1xuICBpZiAoaGFzUGxhY2Vob2xkZXJCdWcoKSAmJiBub2RlLmxvY2FsTmFtZSA9PT0gJ3RleHRhcmVhJyAmJiBub2RlLnBsYWNlaG9sZGVyXG4gICAgICAgICYmIG5vZGUucGxhY2Vob2xkZXIgPT09IG5vZGUudGV4dENvbnRlbnQpIHtcbiAgICBub2RlLnRleHRDb250ZW50ID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwVGVtcGxhdGVFeHRlbnNpb24obm9kZSkge1xuICBsZXQgaXMgPSBub2RlLmdldEF0dHJpYnV0ZSgnaXMnKTtcbiAgaWYgKGlzICYmIHRlbXBsYXRlRXh0ZW5zaW9uc1tpc10pIHtcbiAgICBsZXQgdCA9IG5vZGU7XG4gICAgdC5yZW1vdmVBdHRyaWJ1dGUoJ2lzJyk7XG4gICAgbm9kZSA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGlzKTtcbiAgICB0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5vZGUsIHQpO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodCk7XG4gICAgd2hpbGUodC5hdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUodC5hdHRyaWJ1dGVzWzBdLm5hbWUsIHQuYXR0cmlidXRlc1swXS52YWx1ZSk7XG4gICAgICB0LnJlbW92ZUF0dHJpYnV0ZSh0LmF0dHJpYnV0ZXNbMF0ubmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBmaW5kVGVtcGxhdGVOb2RlKHJvb3QsIG5vZGVJbmZvKSB7XG4gIC8vIHJlY3Vyc2l2ZWx5IGFzY2VuZCB0cmVlIHVudGlsIHdlIGhpdCByb290XG4gIGxldCBwYXJlbnQgPSBub2RlSW5mby5wYXJlbnRJbmZvICYmIGZpbmRUZW1wbGF0ZU5vZGUocm9vdCwgbm9kZUluZm8ucGFyZW50SW5mbyk7XG4gIC8vIHVud2luZCB0aGUgc3RhY2ssIHJldHVybmluZyB0aGUgaW5kZXhlZCBub2RlIGF0IGVhY2ggbGV2ZWxcbiAgaWYgKHBhcmVudCkge1xuICAgIC8vIG5vdGU6IG1hcmdpbmFsbHkgZmFzdGVyIHRoYW4gaW5kZXhpbmcgdmlhIGNoaWxkTm9kZXNcbiAgICAvLyAoaHR0cDovL2pzcGVyZi5jb20vY2hpbGRub2Rlcy1sb29rdXApXG4gICAgZm9yIChsZXQgbj1wYXJlbnQuZmlyc3RDaGlsZCwgaT0wOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGlmIChub2RlSW5mby5wYXJlbnRJbmRleCA9PT0gaSsrKSB7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm9vdDtcbiAgfVxufVxuXG4vLyBjb25zdHJ1Y3QgYCRgIG1hcCAoZnJvbSBpZCBhbm5vdGF0aW9ucylcbmZ1bmN0aW9uIGFwcGx5SWRUb01hcChpbnN0LCBtYXAsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5pZCkge1xuICAgIG1hcFtub2RlSW5mby5pZF0gPSBub2RlO1xuICB9XG59XG5cbi8vIGluc3RhbGwgZXZlbnQgbGlzdGVuZXJzIChmcm9tIGV2ZW50IGFubm90YXRpb25zKVxuZnVuY3Rpb24gYXBwbHlFdmVudExpc3RlbmVyKGluc3QsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby5ldmVudHMgJiYgbm9kZUluZm8uZXZlbnRzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGo9MCwgZSQ9bm9kZUluZm8uZXZlbnRzLCBlOyAoajxlJC5sZW5ndGgpICYmIChlPWUkW2pdKTsgaisrKSB7XG4gICAgICBpbnN0Ll9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGUubmFtZSwgZS52YWx1ZSwgaW5zdCk7XG4gICAgfVxuICB9XG59XG5cbi8vIHB1c2ggY29uZmlndXJhdGlvbiByZWZlcmVuY2VzIGF0IGNvbmZpZ3VyZSB0aW1lXG5mdW5jdGlvbiBhcHBseVRlbXBsYXRlQ29udGVudChpbnN0LCBub2RlLCBub2RlSW5mbykge1xuICBpZiAobm9kZUluZm8udGVtcGxhdGVJbmZvKSB7XG4gICAgbm9kZS5fdGVtcGxhdGVJbmZvID0gbm9kZUluZm8udGVtcGxhdGVJbmZvO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGVFdmVudEhhbmRsZXIoY29udGV4dCwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gIC8vIEluc3RhbmNlcyBjYW4gb3B0aW9uYWxseSBoYXZlIGEgX21ldGhvZEhvc3Qgd2hpY2ggYWxsb3dzIHJlZGlyZWN0aW5nIHdoZXJlXG4gIC8vIHRvIGZpbmQgbWV0aG9kcy4gQ3VycmVudGx5IHVzZWQgYnkgYHRlbXBsYXRpemVgLlxuICBjb250ZXh0ID0gY29udGV4dC5fbWV0aG9kSG9zdCB8fCBjb250ZXh0O1xuICBsZXQgaGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoY29udGV4dFttZXRob2ROYW1lXSkge1xuICAgICAgY29udGV4dFttZXRob2ROYW1lXShlLCBlLmRldGFpbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignbGlzdGVuZXIgbWV0aG9kIGAnICsgbWV0aG9kTmFtZSArICdgIG5vdCBkZWZpbmVkJyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGFuZGxlcjtcbn1cblxuLyoqXG4gKiBFbGVtZW50IG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgdGVtcGxhdGUgcGFyc2luZyBhbmQgc3RhbXBpbmcsIGluY2x1ZGluZ1xuICogdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZS1yZWxhdGVkIGZlYXR1cmVzIGZvciBzdGFtcGVkIHRlbXBsYXRlczpcbiAqXG4gKiAtIERlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLWV2ZW50bmFtZT1cImxpc3RlbmVyXCJgKVxuICogLSBNYXAgb2Ygbm9kZSBpZCdzIHRvIHN0YW1wZWQgbm9kZSBpbnN0YW5jZXMgKGB0aGlzLiQuaWRgKVxuICogLSBOZXN0ZWQgdGVtcGxhdGUgY29udGVudCBjYWNoaW5nL3JlbW92YWwgYW5kIHJlLWluc3RhbGxhdGlvbiAocGVyZm9ybWFuY2VcbiAqICAgb3B0aW1pemF0aW9uKVxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIGJhc2ljIHRlbXBsYXRlIHBhcnNpbmcgYW5kIHN0YW1waW5nXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgVGVtcGxhdGVTdGFtcCA9IGRlZHVwaW5nTWl4aW4oXG4gICAgLyoqXG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICAgICAqL1xuICAgIChzdXBlckNsYXNzKSA9PiB7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1RlbXBsYXRlU3RhbXB9XG4gICAqL1xuICBjbGFzcyBUZW1wbGF0ZVN0YW1wIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgICAvKipcbiAgICAgKiBTY2FucyBhIHRlbXBsYXRlIHRvIHByb2R1Y2UgdGVtcGxhdGUgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBUZW1wbGF0ZS1zcGVjaWZpYyBtZXRhZGF0YSBhcmUgc3RvcmVkIGluIHRoZSBvYmplY3QgcmV0dXJuZWQsIGFuZCBub2RlLVxuICAgICAqIHNwZWNpZmljIG1ldGFkYXRhIGFyZSBzdG9yZWQgaW4gb2JqZWN0cyBpbiBpdHMgZmxhdHRlbmVkIGBub2RlSW5mb0xpc3RgXG4gICAgICogYXJyYXkuICBPbmx5IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSB0aGF0IHdlcmUgcGFyc2VkIGFzIG5vZGVzIG9mXG4gICAgICogaW50ZXJlc3QgY29udGFpbiBhbiBvYmplY3QgaW4gYG5vZGVJbmZvTGlzdGAuICBFYWNoIGBub2RlSW5mb2Agb2JqZWN0XG4gICAgICogY29udGFpbnMgYW4gYGluZGV4YCAoYGNoaWxkTm9kZXNgIGluZGV4IGluIHBhcmVudCkgYW5kIG9wdGlvbmFsbHlcbiAgICAgKiBgcGFyZW50YCwgd2hpY2ggcG9pbnRzIHRvIG5vZGUgaW5mbyBvZiBpdHMgcGFyZW50IChpbmNsdWRpbmcgaXRzIGluZGV4KS5cbiAgICAgKlxuICAgICAqIFRoZSB0ZW1wbGF0ZSBtZXRhZGF0YSBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGlzIG1ldGhvZCBoYXMgdGhlIGZvbGxvd2luZ1xuICAgICAqIHN0cnVjdHVyZSAobWFueSBmaWVsZHMgb3B0aW9uYWwpOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHtcbiAgICAgKiAgICAgLy8gRmxhdHRlbmVkIGxpc3Qgb2Ygbm9kZSBtZXRhZGF0YSAoZm9yIG5vZGVzIHRoYXQgZ2VuZXJhdGVkIG1ldGFkYXRhKVxuICAgICAqICAgICBub2RlSW5mb0xpc3Q6IFtcbiAgICAgKiAgICAgICB7XG4gICAgICogICAgICAgICAvLyBgaWRgIGF0dHJpYnV0ZSBmb3IgYW55IG5vZGVzIHdpdGggaWQncyBmb3IgZ2VuZXJhdGluZyBgJGAgbWFwXG4gICAgICogICAgICAgICBpZDoge3N0cmluZ30sXG4gICAgICogICAgICAgICAvLyBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIG1ldGFkYXRhXG4gICAgICogICAgICAgICBldmVudHM6IFtcbiAgICAgKiAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgIG5hbWU6IHtzdHJpbmd9LCAgIC8vIGV2ZW50IG5hbWVcbiAgICAgKiAgICAgICAgICAgICB2YWx1ZToge3N0cmluZ30sICAvLyBoYW5kbGVyIG1ldGhvZCBuYW1lXG4gICAgICogICAgICAgICAgIH0sIC4uLlxuICAgICAqICAgICAgICAgXSxcbiAgICAgKiAgICAgICAgIC8vIE5vdGVzIHdoZW4gdGhlIHRlbXBsYXRlIGNvbnRhaW5lZCBhIGA8c2xvdD5gIGZvciBzaGFkeSBET01cbiAgICAgKiAgICAgICAgIC8vIG9wdGltaXphdGlvbiBwdXJwb3Nlc1xuICAgICAqICAgICAgICAgaGFzSW5zZXJ0aW9uUG9pbnQ6IHtib29sZWFufSxcbiAgICAgKiAgICAgICAgIC8vIEZvciBuZXN0ZWQgYDx0ZW1wbGF0ZT5gYCBub2RlcywgbmVzdGVkIHRlbXBsYXRlIG1ldGFkYXRhXG4gICAgICogICAgICAgICB0ZW1wbGF0ZUluZm86IHtvYmplY3R9LCAvLyBuZXN0ZWQgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIC8vIE1ldGFkYXRhIHRvIGFsbG93IGVmZmljaWVudCByZXRyaWV2YWwgb2YgaW5zdGFuY2VkIG5vZGVcbiAgICAgKiAgICAgICAgIC8vIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBtZXRhZGF0YVxuICAgICAqICAgICAgICAgcGFyZW50SW5mbzoge251bWJlcn0sICAgLy8gcmVmZXJlbmNlIHRvIHBhcmVudCBub2RlSW5mbz5cbiAgICAgKiAgICAgICAgIHBhcmVudEluZGV4OiB7bnVtYmVyfSwgIC8vIGluZGV4IGluIHBhcmVudCdzIGBjaGlsZE5vZGVzYCBjb2xsZWN0aW9uXG4gICAgICogICAgICAgICBpbmZvSW5kZXg6IHtudW1iZXJ9LCAgICAvLyBpbmRleCBvZiB0aGlzIGBub2RlSW5mb2AgaW4gYHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3RgXG4gICAgICogICAgICAgfSxcbiAgICAgKiAgICAgICAuLi5cbiAgICAgKiAgICAgXSxcbiAgICAgKiAgICAgLy8gV2hlbiB0cnVlLCB0aGUgdGVtcGxhdGUgaGFkIHRoZSBgc3RyaXAtd2hpdGVzcGFjZWAgYXR0cmlidXRlXG4gICAgICogICAgIC8vIG9yIHdhcyBuZXN0ZWQgaW4gYSB0ZW1wbGF0ZSB3aXRoIHRoYXQgc2V0dGluZ1xuICAgICAqICAgICBzdHJpcFdoaXRlc3BhY2U6IHtib29sZWFufSxcbiAgICAgKiAgICAgLy8gRm9yIG5lc3RlZCB0ZW1wbGF0ZXMsIG5lc3RlZCB0ZW1wbGF0ZSBjb250ZW50IGlzIG1vdmVkIGludG9cbiAgICAgKiAgICAgLy8gYSBkb2N1bWVudCBmcmFnbWVudCBzdG9yZWQgaGVyZTsgdGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gdG9cbiAgICAgKiAgICAgLy8gYXZvaWQgdGhlIGNvc3Qgb2YgbmVzdGVkIHRlbXBsYXRlIGNsb25pbmdcbiAgICAgKiAgICAgY29udGVudDoge0RvY3VtZW50RnJhZ21lbnR9XG4gICAgICogICB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBraWNrcyBvZmYgYSByZWN1cnNpdmUgdHJlZXdhbGsgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqICAgIF9wYXJzZVRlbXBsYXRlIDwtLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gICAgICogICAgICBfcGFyc2VUZW1wbGF0ZUNvbnRlbnQgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgX3BhcnNlVGVtcGxhdGVOb2RlICA8LS0tLS0tLS0tLS0tfC0tK1xuICAgICAqICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUgLS0rICB8XG4gICAgICogICAgICAgICAgX3BhcnNlVGVtcGxhdGVDaGlsZE5vZGVzIC0tLS0tLS0tLStcbiAgICAgKiAgICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzXG4gICAgICogICAgICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhZGQgY3VzdG9tIG1ldGFkYXRhIGFib3V0IHRlbXBsYXRlc1xuICAgICAqIHRvIGVpdGhlciBgdGVtcGxhdGVJbmZvYCBvciBgbm9kZUluZm9gLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIG1heSBiZSBkZXN0cnVjdGl2ZSB0byB0aGUgdGVtcGxhdGUsIGluIHRoYXRcbiAgICAgKiBlLmcuIGV2ZW50IGFubm90YXRpb25zIG1heSBiZSByZW1vdmVkIGFmdGVyIGJlaW5nIG5vdGVkIGluIHRoZVxuICAgICAqIHRlbXBsYXRlIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mbz19IG91dGVyVGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZyb20gdGhlIG91dGVyXG4gICAgICogICB0ZW1wbGF0ZSwgZm9yIHBhcnNpbmcgbmVzdGVkIHRlbXBsYXRlc1xuICAgICAqIEByZXR1cm4geyFUZW1wbGF0ZUluZm99IFBhcnNlZCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCBvdXRlclRlbXBsYXRlSW5mbykge1xuICAgICAgLy8gc2luY2UgYSB0ZW1wbGF0ZSBtYXkgYmUgcmUtdXNlZCwgbWVtby1pemUgbWV0YWRhdGFcbiAgICAgIGlmICghdGVtcGxhdGUuX3RlbXBsYXRlSW5mbykge1xuICAgICAgICAvLyBUT0RPKHJpY3RpYyk6IGZpeCB0eXBpbmdcbiAgICAgICAgbGV0IC8qKiA/ICovIHRlbXBsYXRlSW5mbyA9IHRlbXBsYXRlLl90ZW1wbGF0ZUluZm8gPSB7fTtcbiAgICAgICAgdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdCA9IFtdO1xuICAgICAgICB0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlID1cbiAgICAgICAgICAob3V0ZXJUZW1wbGF0ZUluZm8gJiYgb3V0ZXJUZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlKSB8fFxuICAgICAgICAgIHRlbXBsYXRlLmhhc0F0dHJpYnV0ZSgnc3RyaXAtd2hpdGVzcGFjZScpO1xuICAgICAgICAgLy8gVE9ETyhyaWN0aWMpOiBmaXggdHlwaW5nXG4gICAgICAgICB0aGlzLl9wYXJzZVRlbXBsYXRlQ29udGVudChcbiAgICAgICAgICAgICB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCAvKiogQHR5cGUgez99ICovICh7cGFyZW50OiBudWxsfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRlbXBsYXRlLl90ZW1wbGF0ZUluZm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VlIGRvY3MgZm9yIF9wYXJzZVRlbXBsYXRlTm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIC5cbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyAuXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVDb250ZW50KHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIG5vZGUgYW5kIGFkZHMgdGVtcGxhdGUgYW5kIG5vZGUgbWV0YWRhdGEgYmFzZWQgb25cbiAgICAgKiB0aGUgY3VycmVudCBub2RlLCBhbmQgaXRzIGBjaGlsZE5vZGVzYCBhbmQgYGF0dHJpYnV0ZXNgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gYWRkIGN1c3RvbSBub2RlIG9yIHRlbXBsYXRlIHNwZWNpZmljXG4gICAgICogbWV0YWRhdGEgYmFzZWQgb24gdGhpcyBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgbGV0IG5vdGVkID0gZmFsc2U7XG4gICAgICBsZXQgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChub2RlKTtcbiAgICAgIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PSAndGVtcGxhdGUnICYmICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgncHJlc2VydmUtY29udGVudCcpKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKGVsZW1lbnQsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHx8IG5vdGVkO1xuICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmxvY2FsTmFtZSA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgIC8vIEZvciBTaGFkeURvbSBvcHRpbWl6YXRpb24sIGluZGljYXRpbmcgdGhlcmUgaXMgYW4gaW5zZXJ0aW9uIHBvaW50XG4gICAgICAgIHRlbXBsYXRlSW5mby5oYXNJbnNlcnRpb25Qb2ludCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmaXhQbGFjZWhvbGRlcihlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5fcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMoZWxlbWVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGVzICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzKGVsZW1lbnQsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHx8IG5vdGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0ZW1wbGF0ZSBjaGlsZCBub2RlcyBmb3IgdGhlIGdpdmVuIHJvb3Qgbm9kZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGFsc28gd3JhcHMgd2hpdGVsaXN0ZWQgbGVnYWN5IHRlbXBsYXRlIGV4dGVuc2lvbnNcbiAgICAgKiAoYGlzPVwiZG9tLWlmXCJgIGFuZCBgaXM9XCJkb20tcmVwZWF0XCJgKSB3aXRoIHRoZWlyIGVxdWl2YWxlbnQgZWxlbWVudFxuICAgICAqIHdyYXBwZXJzLCBjb2xsYXBzZXMgdGV4dCBub2RlcywgYW5kIHN0cmlwcyB3aGl0ZXNwYWNlIGZyb20gdGhlIHRlbXBsYXRlXG4gICAgICogaWYgdGhlIGB0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZXNwYWNlYCBzZXR0aW5nIHdhcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gcm9vdCBSb290IG5vZGUgd2hvc2UgYGNoaWxkTm9kZXNgIHdpbGwgYmUgcGFyc2VkXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMocm9vdCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgaWYgKHJvb3QubG9jYWxOYW1lID09PSAnc2NyaXB0JyB8fCByb290LmxvY2FsTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBub2RlPXJvb3QuZmlyc3RDaGlsZCwgcGFyZW50SW5kZXg9MCwgbmV4dDsgbm9kZTsgbm9kZT1uZXh0KSB7XG4gICAgICAgIC8vIFdyYXAgdGVtcGxhdGVzXG4gICAgICAgIGlmIChub2RlLmxvY2FsTmFtZSA9PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgbm9kZSA9IHdyYXBUZW1wbGF0ZUV4dGVuc2lvbihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb2xsYXBzZSBhZGphY2VudCB0ZXh0Tm9kZXM6IGZpeGVzIGFuIElFIGlzc3VlIHRoYXQgY2FuIGNhdXNlXG4gICAgICAgIC8vIHRleHQgbm9kZXMgdG8gYmUgaW5leHBsaWNhYmx5IHNwbGl0ID0oXG4gICAgICAgIC8vIG5vdGUgdGhhdCByb290Lm5vcm1hbGl6ZSgpIHNob3VsZCB3b3JrIGJ1dCBkb2VzIG5vdCBzbyB3ZSBkbyB0aGlzXG4gICAgICAgIC8vIG1hbnVhbGx5LlxuICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgbGV0IC8qKiBOb2RlICovIG4gPSBuZXh0O1xuICAgICAgICAgIHdoaWxlIChuICYmIChuLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkpIHtcbiAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgKz0gbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIG5leHQgPSBuLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgICAgIG4gPSBuZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvcHRpb25hbGx5IHN0cmlwIHdoaXRlc3BhY2VcbiAgICAgICAgICBpZiAodGVtcGxhdGVJbmZvLnN0cmlwV2hpdGVTcGFjZSAmJiAhbm9kZS50ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgIHJvb3QucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNoaWxkSW5mbyA9XG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlSW5mb30gKi8gKHtwYXJlbnRJbmRleCwgcGFyZW50SW5mbzogbm9kZUluZm99KTtcbiAgICAgICAgaWYgKHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlKG5vZGUsIHRlbXBsYXRlSW5mbywgY2hpbGRJbmZvKSkge1xuICAgICAgICAgIGNoaWxkSW5mby5pbmZvSW5kZXggPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0LnB1c2goY2hpbGRJbmZvKSAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVtZW50IGlmIG5vdCByZW1vdmVkXG4gICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBwYXJlbnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIGNvbnRlbnQgZm9yIHRoZSBnaXZlbiBuZXN0ZWQgYDx0ZW1wbGF0ZT5gLlxuICAgICAqXG4gICAgICogTmVzdGVkIHRlbXBsYXRlIGluZm8gaXMgc3RvcmVkIGFzIGB0ZW1wbGF0ZUluZm9gIGluIHRoZSBjdXJyZW50IG5vZGUnc1xuICAgICAqIGBub2RlSW5mb2AuIGB0ZW1wbGF0ZS5jb250ZW50YCBpcyByZW1vdmVkIGFuZCBzdG9yZWQgaW4gYHRlbXBsYXRlSW5mb2AuXG4gICAgICogSXQgd2lsbCB0aGVuIGJlIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgaG9zdCB0byBzZXQgaXQgYmFjayB0byB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBhbmQgZm9yIHVzZXJzIHN0YW1waW5nIG5lc3RlZCB0ZW1wbGF0ZXMgdG8gdXNlIHRoZVxuICAgICAqIGBfY29udGVudEZvclRlbXBsYXRlYCBtZXRob2QgdG8gcmV0cmlldmUgdGhlIGNvbnRlbnQgZm9yIHRoaXMgdGVtcGxhdGVcbiAgICAgKiAoYW4gb3B0aW1pemF0aW9uIHRvIGF2b2lkIHRoZSBjb3N0IG9mIGNsb25pbmcgbmVzdGVkIHRlbXBsYXRlIGNvbnRlbnQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2UgKGEgPHRlbXBsYXRlPilcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gb3V0ZXJUZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiAgIHRoYXQgaW5jbHVkZXMgdGhlIHRlbXBsYXRlIGBub2RlYFxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKG5vZGUsIG91dGVyVGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgLy8gVE9ETyhyaWN0aWMpOiB0aGUgdHlwZSBvZiBub2RlIHNob3VsZCBiZSBub24tbnVsbFxuICAgICAgbGV0IGVsZW1lbnQgPSAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAobm9kZSk7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5fcGFyc2VUZW1wbGF0ZShlbGVtZW50LCBvdXRlclRlbXBsYXRlSW5mbyk7XG4gICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlSW5mby5jb250ZW50ID1cbiAgICAgICAgICBlbGVtZW50LmNvbnRlbnQub3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBjb250ZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuY29udGVudCk7XG4gICAgICBub2RlSW5mby50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgbm9kZSBhdHRyaWJ1dGVzIGFuZCBhZGRzIG5vZGUgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIGZvciBub2RlcyBvZiBpbnRlcmVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBOb2RlIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnRcbiAgICAgKiAgICAgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlcyhub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICAvLyBNYWtlIGNvcHkgb2Ygb3JpZ2luYWwgYXR0cmlidXRlIGxpc3QsIHNpbmNlIHRoZSBvcmRlciBtYXkgY2hhbmdlXG4gICAgICAvLyBhcyBhdHRyaWJ1dGVzIGFyZSBhZGRlZCBhbmQgcmVtb3ZlZFxuICAgICAgbGV0IG5vdGVkID0gZmFsc2U7XG4gICAgICBsZXQgYXR0cnMgPSBBcnJheS5mcm9tKG5vZGUuYXR0cmlidXRlcyk7XG4gICAgICBmb3IgKGxldCBpPWF0dHJzLmxlbmd0aC0xLCBhOyAoYT1hdHRyc1tpXSk7IGktLSkge1xuICAgICAgICBub3RlZCA9IHRoaXMuX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIGEubmFtZSwgYS52YWx1ZSkgfHwgbm90ZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc2luZ2xlIHRlbXBsYXRlIG5vZGUgYXR0cmlidXRlIGFuZCBhZGRzIG5vZGUgbWV0YWRhdGEgdG9cbiAgICAgKiBgbm9kZUluZm9gIGZvciBhdHRyaWJ1dGVzIG9mIGludGVyZXN0LlxuICAgICAqXG4gICAgICogVGhpcyBpbXBsZW1lbnRhdGlvbiBhZGRzIG1ldGFkYXRhIGZvciBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgYGlkYCBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIEF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpIHtcbiAgICAgIC8vIGV2ZW50cyAob24tKilcbiAgICAgIGlmIChuYW1lLnNsaWNlKDAsIDMpID09PSAnb24tJykge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgbm9kZUluZm8uZXZlbnRzID0gbm9kZUluZm8uZXZlbnRzIHx8IFtdO1xuICAgICAgICBub2RlSW5mby5ldmVudHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogbmFtZS5zbGljZSgzKSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBzdGF0aWMgaWRcbiAgICAgIGVsc2UgaWYgKG5hbWUgPT09ICdpZCcpIHtcbiAgICAgICAgbm9kZUluZm8uaWQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYGNvbnRlbnRgIGRvY3VtZW50IGZyYWdtZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogRm9yIG5lc3RlZCB0ZW1wbGF0ZXMsIFBvbHltZXIgcGVyZm9ybXMgYW4gb3B0aW1pemF0aW9uIHRvIGNhY2hlIG5lc3RlZFxuICAgICAqIHRlbXBsYXRlIGNvbnRlbnQgdG8gYXZvaWQgdGhlIGNvc3Qgb2YgY2xvbmluZyBkZWVwbHkgbmVzdGVkIHRlbXBsYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCByZXRyaWV2ZXMgdGhlIGNhY2hlZCBjb250ZW50IGZvciBhIGdpdmVuIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byByZXRyaWV2ZSBgY29udGVudGAgZm9yXG4gICAgICogQHJldHVybiB7RG9jdW1lbnRGcmFnbWVudH0gQ29udGVudCBmcmFnbWVudFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9jb250ZW50Rm9yVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIGxldCB0ZW1wbGF0ZUluZm8gPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnRXaXRoSW5mb30gKi8gKHRlbXBsYXRlKS5fdGVtcGxhdGVJbmZvO1xuICAgICAgcmV0dXJuICh0ZW1wbGF0ZUluZm8gJiYgdGVtcGxhdGVJbmZvLmNvbnRlbnQpIHx8IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSBjb250ZW50IGFuZCByZXR1cm5zIGEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiBjb250YWluaW5nIHRoZSBjbG9uZWQgZG9tLlxuICAgICAqXG4gICAgICogVGhlIHRlbXBsYXRlIGlzIHBhcnNlZCAob25jZSBhbmQgbWVtb2l6ZWQpIHVzaW5nIHRoaXMgbGlicmFyeSdzXG4gICAgICogdGVtcGxhdGUgcGFyc2luZyBmZWF0dXJlcywgYW5kIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgdmFsdWUtYWRkZWRcbiAgICAgKiBmZWF0dXJlczpcbiAgICAgKiAqIEFkZHMgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIGZvciBgb24tZXZlbnQ9XCJoYW5kbGVyXCJgIGF0dHJpYnV0ZXNcbiAgICAgKiAqIEdlbmVyYXRlcyBhbiBcImlkIG1hcFwiIGZvciBhbGwgbm9kZXMgd2l0aCBpZCdzIHVuZGVyIGAkYCBvbiByZXR1cm5lZFxuICAgICAqICAgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiAqIFBhc3NlcyB0ZW1wbGF0ZSBpbmZvIGluY2x1ZGluZyBgY29udGVudGAgYmFjayB0byB0ZW1wbGF0ZXMgYXNcbiAgICAgKiAgIGBfdGVtcGxhdGVJbmZvYCAoYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZGVlcCB0ZW1wbGF0ZVxuICAgICAqICAgY2xvbmluZylcbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGUgbWVtb2l6ZWQgdGVtcGxhdGUgcGFyc2luZyBwcm9jZXNzIGlzIGRlc3RydWN0aXZlIHRvIHRoZVxuICAgICAqIHRlbXBsYXRlOiBhdHRyaWJ1dGVzIGZvciBiaW5kaW5ncyBhbmQgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIGFyZVxuICAgICAqIHJlbW92ZWQgYWZ0ZXIgYmVpbmcgbm90ZWQgaW4gbm90ZXMsIGFuZCBhbnkgbmVzdGVkIGA8dGVtcGxhdGU+LmNvbnRlbnRgXG4gICAgICogaXMgcmVtb3ZlZCBhbmQgc3RvcmVkIGluIG5vdGVzIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBzdGFtcFxuICAgICAqIEByZXR1cm4geyFTdGFtcGVkVGVtcGxhdGV9IENsb25lZCB0ZW1wbGF0ZSBjb250ZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3N0YW1wVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIC8vIFBvbHlmaWxsIHN1cHBvcnQ6IGJvb3RzdHJhcCB0aGUgdGVtcGxhdGUgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW5cbiAgICAgIGlmICh0ZW1wbGF0ZSAmJiAhdGVtcGxhdGUuY29udGVudCAmJlxuICAgICAgICAgIHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50ICYmIEhUTUxUZW1wbGF0ZUVsZW1lbnQuZGVjb3JhdGUpIHtcbiAgICAgICAgSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZSh0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5jb25zdHJ1Y3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICBsZXQgbm9kZUluZm8gPSB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0O1xuICAgICAgbGV0IGNvbnRlbnQgPSB0ZW1wbGF0ZUluZm8uY29udGVudCB8fCB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgbGV0IGRvbSA9IC8qKiBAdHlwZSB7RG9jdW1lbnRGcmFnbWVudH0gKi8gKGRvY3VtZW50LmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSkpO1xuICAgICAgLy8gTk9URTogU2hhZHlEb20gb3B0aW1pemF0aW9uIGluZGljYXRpbmcgdGhlcmUgaXMgYW4gaW5zZXJ0aW9uIHBvaW50XG4gICAgICBkb20uX19ub0luc2VydGlvblBvaW50ID0gIXRlbXBsYXRlSW5mby5oYXNJbnNlcnRpb25Qb2ludDtcbiAgICAgIGxldCBub2RlcyA9IGRvbS5ub2RlTGlzdCA9IG5ldyBBcnJheShub2RlSW5mby5sZW5ndGgpO1xuICAgICAgZG9tLiQgPSB7fTtcbiAgICAgIGZvciAobGV0IGk9MCwgbD1ub2RlSW5mby5sZW5ndGgsIGluZm87IChpPGwpICYmIChpbmZvPW5vZGVJbmZvW2ldKTsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbaV0gPSBmaW5kVGVtcGxhdGVOb2RlKGRvbSwgaW5mbyk7XG4gICAgICAgIGFwcGx5SWRUb01hcCh0aGlzLCBkb20uJCwgbm9kZSwgaW5mbyk7XG4gICAgICAgIGFwcGx5VGVtcGxhdGVDb250ZW50KHRoaXMsIG5vZGUsIGluZm8pO1xuICAgICAgICBhcHBseUV2ZW50TGlzdGVuZXIodGhpcywgbm9kZSwgaW5mbyk7XG4gICAgICB9XG4gICAgICBkb20gPSAvKiogQHR5cGUgeyFTdGFtcGVkVGVtcGxhdGV9ICovKGRvbSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciBieSBtZXRob2QgbmFtZSBmb3IgdGhlIGV2ZW50IHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZ2VuZXJhdGVzIGEgaGFuZGxlciBmdW5jdGlvbiB0aGF0IGxvb2tzIHVwIHRoZSBtZXRob2RcbiAgICAgKiBuYW1lIGF0IGhhbmRsaW5nIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBsaXN0ZW5lciBvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgbWV0aG9kXG4gICAgICogQHBhcmFtIHsqPX0gY29udGV4dCBDb250ZXh0IHRoZSBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgb24gKGRlZmF1bHRzXG4gICAgICogICB0byBgbm9kZWApXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IEdlbmVyYXRlZCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBub2RlO1xuICAgICAgbGV0IGhhbmRsZXIgPSBjcmVhdGVOb2RlRXZlbnRIYW5kbGVyKGNvbnRleHQsIGV2ZW50TmFtZSwgbWV0aG9kTmFtZSk7XG4gICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICByZXR1cm4gaGFuZGxlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgYWRkaW5nIGN1c3RvbSBvciBzaW11bGF0ZWQgZXZlbnQgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBwb2ludCBmb3IgYWRkaW5nIGN1c3RvbSBvciBzaW11bGF0ZWQgZXZlbnQgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gVGVtcGxhdGVTdGFtcDtcblxufSk7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIEBzdXBwcmVzcyB7Y2hlY2tQcm90b3R5cGFsVHlwZXN9XG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZFxuICogYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heVxuICogYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieVxuICogR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUFxuICogcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgcm9vdCwgaXNBbmNlc3RvciwgaXNEZXNjZW5kYW50LCBnZXQsIHRyYW5zbGF0ZSwgaXNQYXRoLCBzZXQsIG5vcm1hbGl6ZSB9IGZyb20gJy4uL3V0aWxzL3BhdGguanMnO1xuLyogZm9yIG5vdGlmeSwgcmVmbGVjdCAqL1xuaW1wb3J0IHsgY2FtZWxUb0Rhc2hDYXNlLCBkYXNoVG9DYW1lbENhc2UgfSBmcm9tICcuLi91dGlscy9jYXNlLW1hcC5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0eUFjY2Vzc29ycyB9IGZyb20gJy4vcHJvcGVydHktYWNjZXNzb3JzLmpzJztcbi8qIGZvciBhbm5vdGF0ZWQgZWZmZWN0cyAqL1xuaW1wb3J0IHsgVGVtcGxhdGVTdGFtcCB9IGZyb20gJy4vdGVtcGxhdGUtc3RhbXAuanMnO1xuaW1wb3J0IHsgc2FuaXRpemVET01WYWx1ZSB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxuLy8gTW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHVuaXF1ZSBJRCB1c2VkIGZvciBkZS1kdXBpbmcgZWZmZWN0cyB0cmlnZ2VyZWRcbi8vIGZyb20gbXVsdGlwbGUgcHJvcGVydGllcyBpbiB0aGUgc2FtZSB0dXJuXG5sZXQgZGVkdXBlSWQgPSAwO1xuXG4vKipcbiAqIFByb3BlcnR5IGVmZmVjdCB0eXBlczsgZWZmZWN0cyBhcmUgc3RvcmVkIG9uIHRoZSBwcm90b3R5cGUgdXNpbmcgdGhlc2Uga2V5c1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgVFlQRVMgPSB7XG4gIENPTVBVVEU6ICdfX2NvbXB1dGVFZmZlY3RzJyxcbiAgUkVGTEVDVDogJ19fcmVmbGVjdEVmZmVjdHMnLFxuICBOT1RJRlk6ICdfX25vdGlmeUVmZmVjdHMnLFxuICBQUk9QQUdBVEU6ICdfX3Byb3BhZ2F0ZUVmZmVjdHMnLFxuICBPQlNFUlZFOiAnX19vYnNlcnZlRWZmZWN0cycsXG4gIFJFQURfT05MWTogJ19fcmVhZE9ubHknXG59O1xuXG4vKiogQGNvbnN0IHshUmVnRXhwfSAqL1xuY29uc3QgY2FwaXRhbEF0dHJpYnV0ZVJlZ2V4ID0gL1tBLVpdLztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogbmFtZTogKHN0cmluZyB8IHVuZGVmaW5lZCksXG4gKiBzdHJ1Y3R1cmVkOiAoYm9vbGVhbiB8IHVuZGVmaW5lZCksXG4gKiB3aWxkY2FyZDogKGJvb2xlYW4gfCB1bmRlZmluZWQpXG4gKiB9fVxuICovXG5sZXQgRGF0YVRyaWdnZXI7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiBpbmZvOiA/LFxuICogdHJpZ2dlcjogKCFEYXRhVHJpZ2dlciB8IHVuZGVmaW5lZCksXG4gKiBmbjogKCFGdW5jdGlvbiB8IHVuZGVmaW5lZClcbiAqIH19XG4gKi9cbmxldCBEYXRhRWZmZWN0OyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgdGhlIG1vZGVsIGhhcyBhbiBvd24tcHJvcGVydHkgbWFwIG9mIGVmZmVjdHMgZm9yIHRoZSBnaXZlbiB0eXBlLlxuICogVGhlIG1vZGVsIG1heSBiZSBhIHByb3RvdHlwZSBvciBhbiBpbnN0YW5jZS5cbiAqXG4gKiBQcm9wZXJ0eSBlZmZlY3RzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIG9mIGVmZmVjdHMgYnkgcHJvcGVydHkgaW4gYSBtYXAsXG4gKiBieSBuYW1lZCB0eXBlIG9uIHRoZSBtb2RlbC4gZS5nLlxuICpcbiAqICAgX19jb21wdXRlRWZmZWN0czoge1xuICogICAgIGZvbzogWyAuLi4gXSxcbiAqICAgICBiYXI6IFsgLi4uIF1cbiAqICAgfVxuICpcbiAqIElmIHRoZSBtb2RlbCBkb2VzIG5vdCB5ZXQgaGF2ZSBhbiBlZmZlY3QgbWFwIGZvciB0aGUgdHlwZSwgb25lIGlzIGNyZWF0ZWRcbiAqIGFuZCByZXR1cm5lZC4gIElmIGl0IGRvZXMsIGJ1dCBpdCBpcyBub3QgYW4gb3duIHByb3BlcnR5IChpLmUuIHRoZVxuICogcHJvdG90eXBlIGhhZCBlZmZlY3RzKSwgdGhlIHRoZSBtYXAgaXMgZGVlcGx5IGNsb25lZCBhbmQgdGhlIGNvcHkgaXNcbiAqIHNldCBvbiB0aGUgbW9kZWwgYW5kIHJldHVybmVkLCByZWFkeSBmb3IgbmV3IGVmZmVjdHMgdG8gYmUgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIFByb3RvdHlwZSBvciBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgUHJvcGVydHkgZWZmZWN0IHR5cGVcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIG93bi1wcm9wZXJ0eSBtYXAgb2YgZWZmZWN0cyBmb3IgdGhlIGdpdmVuIHR5cGVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVuc3VyZU93bkVmZmVjdE1hcChtb2RlbCwgdHlwZSkge1xuICBsZXQgZWZmZWN0cyA9IG1vZGVsW3R5cGVdO1xuICBpZiAoIWVmZmVjdHMpIHtcbiAgICBlZmZlY3RzID0gbW9kZWxbdHlwZV0gPSB7fTtcbiAgfSBlbHNlIGlmICghbW9kZWwuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcbiAgICBlZmZlY3RzID0gbW9kZWxbdHlwZV0gPSBPYmplY3QuY3JlYXRlKG1vZGVsW3R5cGVdKTtcbiAgICBmb3IgKGxldCBwIGluIGVmZmVjdHMpIHtcbiAgICAgIGxldCBwcm90b0Z4ID0gZWZmZWN0c1twXTtcbiAgICAgIGxldCBpbnN0RnggPSBlZmZlY3RzW3BdID0gQXJyYXkocHJvdG9GeC5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPHByb3RvRngubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaW5zdEZ4W2ldID0gcHJvdG9GeFtpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVmZmVjdHM7XG59XG5cbi8vIC0tIGVmZmVjdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIFJ1bnMgYWxsIGVmZmVjdHMgb2YgYSBnaXZlbiB0eXBlIGZvciB0aGUgZ2l2ZW4gc2V0IG9mIHByb3BlcnR5IGNoYW5nZXNcbiAqIG9uIGFuIGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aXRoIGVmZmVjdHMgdG8gcnVuXG4gKiBAcGFyYW0gez9PYmplY3R9IGVmZmVjdHMgT2JqZWN0IG1hcCBvZiBwcm9wZXJ0eS10by1BcnJheSBvZiBlZmZlY3RzXG4gKiBAcGFyYW0gez9PYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7P09iamVjdD19IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFuPX0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEBwYXJhbSB7Kj19IGV4dHJhQXJncyBBZGRpdGlvbmFsIG1ldGFkYXRhIHRvIHBhc3MgdG8gZWZmZWN0IGZ1bmN0aW9uXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFuIGVmZmVjdCByYW4gZm9yIHRoaXMgcHJvcGVydHlcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkVmZmVjdHMoaW5zdCwgZWZmZWN0cywgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocywgZXh0cmFBcmdzKSB7XG4gIGlmIChlZmZlY3RzKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIGxldCBpZCA9IGRlZHVwZUlkKys7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgaWYgKHJ1bkVmZmVjdHNGb3JQcm9wZXJ0eShcbiAgICAgICAgICAgICAgaW5zdCwgLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAoZWZmZWN0cyksIGlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsXG4gICAgICAgICAgICAgIGhhc1BhdGhzLCBleHRyYUFyZ3MpKSB7XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW47XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJ1bnMgYSBsaXN0IG9mIGVmZmVjdHMgZm9yIGEgZ2l2ZW4gcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdpdGggZWZmZWN0cyB0byBydW5cbiAqIEBwYXJhbSB7IU9iamVjdH0gZWZmZWN0cyBPYmplY3QgbWFwIG9mIHByb3BlcnR5LXRvLUFycmF5IG9mIGVmZmVjdHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWR1cGVJZCBDb3VudGVyIHVzZWQgZm9yIGRlLWR1cGluZyBlZmZlY3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBOYW1lIG9mIGNoYW5nZWQgcHJvcGVydHlcbiAqIEBwYXJhbSB7Kn0gcHJvcHMgQ2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0geyp9IG9sZFByb3BzIE9sZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHBhcmFtIHsqPX0gZXh0cmFBcmdzIEFkZGl0aW9uYWwgbWV0YWRhdGEgdG8gcGFzcyB0byBlZmZlY3QgZnVuY3Rpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gZWZmZWN0IHJhbiBmb3IgdGhpcyBwcm9wZXJ0eVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuRWZmZWN0c0ZvclByb3BlcnR5KGluc3QsIGVmZmVjdHMsIGRlZHVwZUlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzLCBleHRyYUFyZ3MpIHtcbiAgbGV0IHJhbiA9IGZhbHNlO1xuICBsZXQgcm9vdFByb3BlcnR5ID0gaGFzUGF0aHMgPyByb290KHByb3ApIDogcHJvcDtcbiAgbGV0IGZ4cyA9IGVmZmVjdHNbcm9vdFByb3BlcnR5XTtcbiAgaWYgKGZ4cykge1xuICAgIGZvciAobGV0IGk9MCwgbD1meHMubGVuZ3RoLCBmeDsgKGk8bCkgJiYgKGZ4PWZ4c1tpXSk7IGkrKykge1xuICAgICAgaWYgKCghZnguaW5mbyB8fCBmeC5pbmZvLmxhc3RSdW4gIT09IGRlZHVwZUlkKSAmJlxuICAgICAgICAgICghaGFzUGF0aHMgfHwgcGF0aE1hdGNoZXNUcmlnZ2VyKHByb3AsIGZ4LnRyaWdnZXIpKSkge1xuICAgICAgICBpZiAoZnguaW5mbykge1xuICAgICAgICAgIGZ4LmluZm8ubGFzdFJ1biA9IGRlZHVwZUlkO1xuICAgICAgICB9XG4gICAgICAgIGZ4LmZuKGluc3QsIHByb3AsIHByb3BzLCBvbGRQcm9wcywgZnguaW5mbywgaGFzUGF0aHMsIGV4dHJhQXJncyk7XG4gICAgICAgIHJhbiA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgcHJvcGVydHkvcGF0aCB0aGF0IGhhcyBjaGFuZ2VkIG1hdGNoZXMgdGhlIHRyaWdnZXJcbiAqIGNyaXRlcmlhIGZvciBhbiBlZmZlY3QuICBBIHRyaWdnZXIgaXMgYSBkZXNjcmlwdG9yIHdpdGggdGhlIGZvbGxvd2luZ1xuICogc3RydWN0dXJlLCB3aGljaCBtYXRjaGVzIHRoZSBkZXNjcmlwdG9ycyByZXR1cm5lZCBmcm9tIGBwYXJzZUFyZ2AuXG4gKiBlLmcuIGZvciBgZm9vLmJhci4qYDpcbiAqIGBgYFxuICogdHJpZ2dlcjoge1xuICogICBuYW1lOiAnYS5iJyxcbiAqICAgc3RydWN0dXJlZDogdHJ1ZSxcbiAqICAgd2lsZGNhcmQ6IHRydWVcbiAqIH1cbiAqIGBgYFxuICogSWYgbm8gdHJpZ2dlciBpcyBnaXZlbiwgdGhlIHBhdGggaXMgZGVlbWVkIHRvIG1hdGNoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggb3IgcHJvcGVydHkgdGhhdCBjaGFuZ2VkXG4gKiBAcGFyYW0gez9EYXRhVHJpZ2dlcn0gdHJpZ2dlciBEZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwYXRoIG1hdGNoZWQgdGhlIHRyaWdnZXJcbiAqL1xuZnVuY3Rpb24gcGF0aE1hdGNoZXNUcmlnZ2VyKHBhdGgsIHRyaWdnZXIpIHtcbiAgaWYgKHRyaWdnZXIpIHtcbiAgICBsZXQgdHJpZ2dlclBhdGggPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRyaWdnZXIubmFtZSk7XG4gICAgcmV0dXJuICh0cmlnZ2VyUGF0aCA9PSBwYXRoKSB8fFxuICAgICAgICAhISh0cmlnZ2VyLnN0cnVjdHVyZWQgJiYgaXNBbmNlc3Rvcih0cmlnZ2VyUGF0aCwgcGF0aCkpIHx8XG4gICAgICAgICEhKHRyaWdnZXIud2lsZGNhcmQgJiYgaXNEZXNjZW5kYW50KHRyaWdnZXJQYXRoLCBwYXRoKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcIm9ic2VydmVyXCIgZWZmZWN0LlxuICpcbiAqIENhbGxzIHRoZSBtZXRob2Qgd2l0aCBgaW5mby5tZXRob2ROYW1lYCBvbiB0aGUgaW5zdGFuY2UsIHBhc3NpbmcgdGhlXG4gKiBuZXcgYW5kIG9sZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk9ic2VydmVyRWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IGZuID0gdHlwZW9mIGluZm8ubWV0aG9kID09PSBcInN0cmluZ1wiID8gaW5zdFtpbmZvLm1ldGhvZF0gOiBpbmZvLm1ldGhvZDtcbiAgbGV0IGNoYW5nZWRQcm9wID0gaW5mby5wcm9wZXJ0eTtcbiAgaWYgKGZuKSB7XG4gICAgZm4uY2FsbChpbnN0LCBpbnN0Ll9fZGF0YVtjaGFuZ2VkUHJvcF0sIG9sZFByb3BzW2NoYW5nZWRQcm9wXSk7XG4gIH0gZWxzZSBpZiAoIWluZm8uZHluYW1pY0ZuKSB7XG4gICAgY29uc29sZS53YXJuKCdvYnNlcnZlciBtZXRob2QgYCcgKyBpbmZvLm1ldGhvZCArICdgIG5vdCBkZWZpbmVkJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSdW5zIFwibm90aWZ5XCIgZWZmZWN0cyBmb3IgYSBzZXQgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIGRpZmZlcnMgZnJvbSB0aGUgZ2VuZXJpYyBgcnVuRWZmZWN0c2AgbWV0aG9kIGluIHRoYXQgaXRcbiAqIHdpbGwgZGlzcGF0Y2ggcGF0aCBub3RpZmljYXRpb24gZXZlbnRzIGluIHRoZSBjYXNlIHRoYXQgdGhlIHByb3BlcnR5XG4gKiBjaGFuZ2VkIHdhcyBhIHBhdGggYW5kIHRoZSByb290IHByb3BlcnR5IGZvciB0aGF0IHBhdGggZGlkbid0IGhhdmUgYVxuICogXCJub3RpZnlcIiBlZmZlY3QuICBUaGlzIGlzIHRvIG1haW50YWluIDEuMCBiZWhhdmlvciB0aGF0IGRpZCBub3QgcmVxdWlyZVxuICogYG5vdGlmeTogdHJ1ZWAgdG8gZW5zdXJlIG9iamVjdCBzdWItcHJvcGVydHkgbm90aWZpY2F0aW9ucyB3ZXJlXG4gKiBzZW50LlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB3aXRoIGVmZmVjdHMgdG8gcnVuXG4gKiBAcGFyYW0ge09iamVjdH0gbm90aWZ5UHJvcHMgQmFnIG9mIHByb3BlcnRpZXMgdG8gbm90aWZ5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk5vdGlmeUVmZmVjdHMoaW5zdCwgbm90aWZ5UHJvcHMsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpIHtcbiAgLy8gTm90aWZ5XG4gIGxldCBmeHMgPSBpbnN0W1RZUEVTLk5PVElGWV07XG4gIGxldCBub3RpZmllZDtcbiAgbGV0IGlkID0gZGVkdXBlSWQrKztcbiAgLy8gVHJ5IG5vcm1hbCBub3RpZnkgZWZmZWN0czsgaWYgbm9uZSwgZmFsbCBiYWNrIHRvIHRyeSBwYXRoIG5vdGlmaWNhdGlvblxuICBmb3IgKGxldCBwcm9wIGluIG5vdGlmeVByb3BzKSB7XG4gICAgaWYgKG5vdGlmeVByb3BzW3Byb3BdKSB7XG4gICAgICBpZiAoZnhzICYmIHJ1bkVmZmVjdHNGb3JQcm9wZXJ0eShpbnN0LCBmeHMsIGlkLCBwcm9wLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSkge1xuICAgICAgICBub3RpZmllZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGhhc1BhdGhzICYmIG5vdGlmeVBhdGgoaW5zdCwgcHJvcCwgcHJvcHMpKSB7XG4gICAgICAgIG5vdGlmaWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gRmx1c2ggaG9zdCBpZiB3ZSBhY3R1YWxseSBub3RpZmllZCBhbmQgaG9zdCB3YXMgYmF0Y2hpbmdcbiAgLy8gQW5kIHRoZSBob3N0IGhhcyBhbHJlYWR5IGluaXRpYWxpemVkIGNsaWVudHM7IHRoaXMgcHJldmVudHNcbiAgLy8gYW4gaXNzdWUgd2l0aCBhIGhvc3Qgb2JzZXJ2aW5nIGRhdGEgY2hhbmdlcyBiZWZvcmUgY2xpZW50cyBhcmUgcmVhZHkuXG4gIGxldCBob3N0O1xuICBpZiAobm90aWZpZWQgJiYgKGhvc3QgPSBpbnN0Ll9fZGF0YUhvc3QpICYmIGhvc3QuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKSB7XG4gICAgaG9zdC5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoZXMge3Byb3BlcnR5fS1jaGFuZ2VkIGV2ZW50cyB3aXRoIHBhdGggaW5mb3JtYXRpb24gaW4gdGhlIGRldGFpbFxuICogb2JqZWN0IHRvIGluZGljYXRlIGEgc3ViLXBhdGggb2YgdGhlIHByb3BlcnR5IHdhcyBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBlbGVtZW50IGZyb20gd2hpY2ggdG8gZmlyZSB0aGVcbiAqICAgICBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdGhhdCB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgcGF0aCB3YXMgbm90aWZpZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVBhdGgoaW5zdCwgcGF0aCwgcHJvcHMpIHtcbiAgbGV0IHJvb3RQcm9wZXJ0eSA9IHJvb3QocGF0aCk7XG4gIGlmIChyb290UHJvcGVydHkgIT09IHBhdGgpIHtcbiAgICBsZXQgZXZlbnROYW1lID0gY2FtZWxUb0Rhc2hDYXNlKHJvb3RQcm9wZXJ0eSkgKyAnLWNoYW5nZWQnO1xuICAgIGRpc3BhdGNoTm90aWZ5RXZlbnQoaW5zdCwgZXZlbnROYW1lLCBwcm9wc1twYXRoXSwgcGF0aCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMge3Byb3BlcnR5fS1jaGFuZ2VkIGV2ZW50cyB0byBpbmRpY2F0ZSBhIHByb3BlcnR5IChvciBwYXRoKVxuICogY2hhbmdlZC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgZWxlbWVudCBmcm9tIHdoaWNoIHRvIGZpcmUgdGhlXG4gKiAgICAgZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHNlbmRcbiAqICAgICAoJ3twcm9wZXJ0eX0tY2hhbmdlZCcpXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgY2hhbmdlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBwYXRoIElmIGEgc3ViLXBhdGggb2YgdGhpcyBwcm9wZXJ0eVxuICogICAgIGNoYW5nZWQsIHRoZSBwYXRoIHRoYXQgY2hhbmdlZCAob3B0aW9uYWwpLlxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2hOb3RpZnlFdmVudChpbnN0LCBldmVudE5hbWUsIHZhbHVlLCBwYXRoKSB7XG4gIGxldCBkZXRhaWwgPSB7XG4gICAgdmFsdWU6IHZhbHVlLFxuICAgIHF1ZXVlUHJvcGVydHk6IHRydWVcbiAgfTtcbiAgaWYgKHBhdGgpIHtcbiAgICBkZXRhaWwucGF0aCA9IHBhdGg7XG4gIH1cbiAgd3JhcCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8oaW5zdCkpLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgeyBkZXRhaWwgfSkpO1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwibm90aWZ5XCIgZWZmZWN0LlxuICpcbiAqIERpc3BhdGNoZXMgYSBub24tYnViYmxpbmcgZXZlbnQgbmFtZWQgYGluZm8uZXZlbnROYW1lYCBvbiB0aGUgaW5zdGFuY2VcbiAqIHdpdGggYSBkZXRhaWwgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5ldyBgdmFsdWVgLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5Ob3RpZnlFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbywgaGFzUGF0aHMpIHtcbiAgbGV0IHJvb3RQcm9wZXJ0eSA9IGhhc1BhdGhzID8gcm9vdChwcm9wZXJ0eSkgOiBwcm9wZXJ0eTtcbiAgbGV0IHBhdGggPSByb290UHJvcGVydHkgIT0gcHJvcGVydHkgPyBwcm9wZXJ0eSA6IG51bGw7XG4gIGxldCB2YWx1ZSA9IHBhdGggPyBnZXQoaW5zdCwgcGF0aCkgOiBpbnN0Ll9fZGF0YVtwcm9wZXJ0eV07XG4gIGlmIChwYXRoICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IHByb3BzW3Byb3BlcnR5XTsgIC8vIHNwZWNpZmljYWxseSBmb3IgLnNwbGljZXNcbiAgfVxuICBkaXNwYXRjaE5vdGlmeUV2ZW50KGluc3QsIGluZm8uZXZlbnROYW1lLCB2YWx1ZSwgcGF0aCk7XG59XG5cbi8qKlxuICogSGFuZGxlciBmdW5jdGlvbiBmb3IgMi13YXkgbm90aWZpY2F0aW9uIGV2ZW50cy4gUmVjZWl2ZXMgY29udGV4dFxuICogaW5mb3JtYXRpb24gY2FwdHVyZWQgaW4gdGhlIGBhZGROb3RpZnlMaXN0ZW5lcmAgY2xvc3VyZSBmcm9tIHRoZVxuICogYF9fbm90aWZ5TGlzdGVuZXJzYCBtZXRhZGF0YS5cbiAqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGUgbm90aWZpZWQgcHJvcGVydHkgdG8gdGhlIGhvc3QgcHJvcGVydHkgb3IgcGF0aC4gIElmXG4gKiB0aGUgZXZlbnQgY29udGFpbmVkIHBhdGggaW5mb3JtYXRpb24sIHRyYW5zbGF0ZSB0aGF0IHBhdGggdG8gdGhlIGhvc3RcbiAqIHNjb3BlJ3MgbmFtZSBmb3IgdGhhdCBwYXRoIGZpcnN0LlxuICpcbiAqIEBwYXJhbSB7Q3VzdG9tRXZlbnR9IGV2ZW50IE5vdGlmaWNhdGlvbiBldmVudCAoZS5nLiAnPHByb3BlcnR5Pi1jaGFuZ2VkJylcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEhvc3QgZWxlbWVudCBpbnN0YW5jZSBoYW5kbGluZyB0aGVcbiAqICAgICBub3RpZmljYXRpb24gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBmcm9tUHJvcCBDaGlsZCBlbGVtZW50IHByb3BlcnR5IHRoYXQgd2FzIGJvdW5kXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9QYXRoIEhvc3QgcHJvcGVydHkvcGF0aCB0aGF0IHdhcyBib3VuZFxuICogQHBhcmFtIHtib29sZWFufSBuZWdhdGUgV2hldGhlciB0aGUgYmluZGluZyB3YXMgbmVnYXRlZFxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZU5vdGlmaWNhdGlvbihldmVudCwgaW5zdCwgZnJvbVByb3AsIHRvUGF0aCwgbmVnYXRlKSB7XG4gIGxldCB2YWx1ZTtcbiAgbGV0IGRldGFpbCA9IC8qKiBAdHlwZSB7T2JqZWN0fSAqLyhldmVudC5kZXRhaWwpO1xuICBsZXQgZnJvbVBhdGggPSBkZXRhaWwgJiYgZGV0YWlsLnBhdGg7XG4gIGlmIChmcm9tUGF0aCkge1xuICAgIHRvUGF0aCA9IHRyYW5zbGF0ZShmcm9tUHJvcCwgdG9QYXRoLCBmcm9tUGF0aCk7XG4gICAgdmFsdWUgPSBkZXRhaWwgJiYgZGV0YWlsLnZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZXZlbnQuY3VycmVudFRhcmdldFtmcm9tUHJvcF07XG4gIH1cbiAgdmFsdWUgPSBuZWdhdGUgPyAhdmFsdWUgOiB2YWx1ZTtcbiAgaWYgKCFpbnN0W1RZUEVTLlJFQURfT05MWV0gfHwgIWluc3RbVFlQRVMuUkVBRF9PTkxZXVt0b1BhdGhdKSB7XG4gICAgaWYgKGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aCh0b1BhdGgsIHZhbHVlLCB0cnVlLCBCb29sZWFuKGZyb21QYXRoKSlcbiAgICAgICYmICghZGV0YWlsIHx8ICFkZXRhaWwucXVldWVQcm9wZXJ0eSkpIHtcbiAgICAgIGluc3QuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJyZWZsZWN0XCIgZWZmZWN0LlxuICpcbiAqIFNldHMgdGhlIGF0dHJpYnV0ZSBuYW1lZCBgaW5mby5hdHRyTmFtZWAgdG8gdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5SZWZsZWN0RWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IHZhbHVlID0gaW5zdC5fX2RhdGFbcHJvcGVydHldO1xuICBpZiAoc2FuaXRpemVET01WYWx1ZSkge1xuICAgIHZhbHVlID0gc2FuaXRpemVET01WYWx1ZSh2YWx1ZSwgaW5mby5hdHRyTmFtZSwgJ2F0dHJpYnV0ZScsIC8qKiBAdHlwZSB7Tm9kZX0gKi8oaW5zdCkpO1xuICB9XG4gIGluc3QuX3Byb3BlcnR5VG9BdHRyaWJ1dGUocHJvcGVydHksIGluZm8uYXR0ck5hbWUsIHZhbHVlKTtcbn1cblxuLyoqXG4gKiBSdW5zIFwiY29tcHV0ZWRcIiBlZmZlY3RzIGZvciBhIHNldCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMuXG4gKlxuICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIHRoZSBnZW5lcmljIGBydW5FZmZlY3RzYCBtZXRob2QgaW4gdGhhdCBpdFxuICogY29udGludWVzIHRvIHJ1biBjb21wdXRlZCBlZmZlY3RzIGJhc2VkIG9uIHRoZSBvdXRwdXQgb2YgZWFjaCBwYXNzIHVudGlsXG4gKiB0aGVyZSBhcmUgbm8gbW9yZSBuZXdseSBjb21wdXRlZCBwcm9wZXJ0aWVzLiAgVGhpcyBlbnN1cmVzIHRoYXQgYWxsXG4gKiBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wdXRlZCBieSB0aGUgaW5pdGlhbCBzZXQgb2YgY2hhbmdlcyBhcmVcbiAqIGNvbXB1dGVkIGJlZm9yZSBvdGhlciBlZmZlY3RzIChiaW5kaW5nIHByb3BhZ2F0aW9uLCBvYnNlcnZlcnMsIGFuZCBub3RpZnkpXG4gKiBydW4uXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuQ29tcHV0ZWRFZmZlY3RzKGluc3QsIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gIGxldCBjb21wdXRlRWZmZWN0cyA9IGluc3RbVFlQRVMuQ09NUFVURV07XG4gIGlmIChjb21wdXRlRWZmZWN0cykge1xuICAgIGxldCBpbnB1dFByb3BzID0gY2hhbmdlZFByb3BzO1xuICAgIHdoaWxlIChydW5FZmZlY3RzKGluc3QsIGNvbXB1dGVFZmZlY3RzLCBpbnB1dFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpKSB7XG4gICAgICBPYmplY3QuYXNzaWduKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKG9sZFByb3BzKSwgaW5zdC5fX2RhdGFPbGQpO1xuICAgICAgT2JqZWN0LmFzc2lnbigvKiogQHR5cGUgeyFPYmplY3R9ICovIChjaGFuZ2VkUHJvcHMpLCBpbnN0Ll9fZGF0YVBlbmRpbmcpO1xuICAgICAgaW5wdXRQcm9wcyA9IGluc3QuX19kYXRhUGVuZGluZztcbiAgICAgIGluc3QuX19kYXRhUGVuZGluZyA9IG51bGw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJjb21wdXRlZCBwcm9wZXJ0eVwiIGVmZmVjdCBieSBydW5uaW5nIHRoZSBtZXRob2Qgd2l0aCB0aGVcbiAqIHZhbHVlcyBvZiB0aGUgYXJndW1lbnRzIHNwZWNpZmllZCBpbiB0aGUgYGluZm9gIG9iamVjdCBhbmQgc2V0dGluZyB0aGVcbiAqIHJldHVybiB2YWx1ZSB0byB0aGUgY29tcHV0ZWQgcHJvcGVydHkgc3BlY2lmaWVkLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSB0aGUgZWZmZWN0IHdpbGwgYmUgcnVuIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHs/T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkNvbXB1dGVkRWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pIHtcbiAgbGV0IHJlc3VsdCA9IHJ1bk1ldGhvZEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKTtcbiAgbGV0IGNvbXB1dGVkUHJvcCA9IGluZm8ubWV0aG9kSW5mbztcbiAgaWYgKGluc3QuX19kYXRhSGFzQWNjZXNzb3IgJiYgaW5zdC5fX2RhdGFIYXNBY2Nlc3Nvcltjb21wdXRlZFByb3BdKSB7XG4gICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KGNvbXB1dGVkUHJvcCwgcmVzdWx0LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBpbnN0W2NvbXB1dGVkUHJvcF0gPSByZXN1bHQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlcyBwYXRoIGNoYW5nZXMgYmFzZWQgb24gcGF0aCBsaW5rcyBzZXQgdXAgdXNpbmcgdGhlIGBsaW5rUGF0aHNgXG4gKiBBUEkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdob3NlIHByb3BzIGFyZSBjaGFuZ2luZ1xuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0aGF0IGhhcyBjaGFuZ2VkXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIGNoYW5nZWQgcGF0aFxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVMaW5rZWRQYXRocyhpbnN0LCBwYXRoLCB2YWx1ZSkge1xuICBsZXQgbGlua3MgPSBpbnN0Ll9fZGF0YUxpbmtlZFBhdGhzO1xuICBpZiAobGlua3MpIHtcbiAgICBsZXQgbGluaztcbiAgICBmb3IgKGxldCBhIGluIGxpbmtzKSB7XG4gICAgICBsZXQgYiA9IGxpbmtzW2FdO1xuICAgICAgaWYgKGlzRGVzY2VuZGFudChhLCBwYXRoKSkge1xuICAgICAgICBsaW5rID0gdHJhbnNsYXRlKGEsIGIsIHBhdGgpO1xuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgobGluaywgdmFsdWUsIHRydWUsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0Rlc2NlbmRhbnQoYiwgcGF0aCkpIHtcbiAgICAgICAgbGluayA9IHRyYW5zbGF0ZShiLCBhLCBwYXRoKTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKGxpbmssIHZhbHVlLCB0cnVlLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gLS0gYmluZGluZ3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEFkZHMgYmluZGluZyBtZXRhZGF0YSB0byB0aGUgY3VycmVudCBgbm9kZUluZm9gLCBhbmQgYmluZGluZyBlZmZlY3RzXG4gKiBmb3IgYWxsIHBhcnQgZGVwZW5kZW5jaWVzIHRvIGB0ZW1wbGF0ZUluZm9gLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENsYXNzIHRoYXQgYF9wYXJzZVRlbXBsYXRlYCBpcyBjdXJyZW50bHlcbiAqICAgcnVubmluZyBvblxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2luZCBCaW5kaW5nIGtpbmQsIGVpdGhlciAncHJvcGVydHknLCAnYXR0cmlidXRlJywgb3IgJ3RleHQnXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFRhcmdldCBwcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0geyFBcnJheTwhQmluZGluZ1BhcnQ+fSBwYXJ0cyBBcnJheSBvZiBiaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbGl0ZXJhbCBMaXRlcmFsIHRleHQgc3Vycm91bmRpbmcgYmluZGluZyBwYXJ0cyAoc3BlY2lmaWVkXG4gKiAgIG9ubHkgZm9yICdwcm9wZXJ0eScgYmluZGluZ3MsIHNpbmNlIHRoZXNlIG11c3QgYmUgaW5pdGlhbGl6ZWQgYXMgcGFydFxuICogICBvZiBib290LXVwKVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZEJpbmRpbmcoY29uc3RydWN0b3IsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIGtpbmQsIHRhcmdldCwgcGFydHMsIGxpdGVyYWwpIHtcbiAgLy8gQ3JlYXRlIGJpbmRpbmcgbWV0YWRhdGEgYW5kIGFkZCB0byBub2RlSW5mb1xuICBub2RlSW5mby5iaW5kaW5ncyA9IG5vZGVJbmZvLmJpbmRpbmdzIHx8IFtdO1xuICBsZXQgLyoqIEJpbmRpbmcgKi8gYmluZGluZyA9IHsga2luZCwgdGFyZ2V0LCBwYXJ0cywgbGl0ZXJhbCwgaXNDb21wb3VuZDogKHBhcnRzLmxlbmd0aCAhPT0gMSkgfTtcbiAgbm9kZUluZm8uYmluZGluZ3MucHVzaChiaW5kaW5nKTtcbiAgLy8gQWRkIGxpc3RlbmVyIGluZm8gdG8gYmluZGluZyBtZXRhZGF0YVxuICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIoYmluZGluZykpIHtcbiAgICBsZXQge2V2ZW50LCBuZWdhdGV9ID0gYmluZGluZy5wYXJ0c1swXTtcbiAgICBiaW5kaW5nLmxpc3RlbmVyRXZlbnQgPSBldmVudCB8fCAoY2FtZWxUb0Rhc2hDYXNlKHRhcmdldCkgKyAnLWNoYW5nZWQnKTtcbiAgICBiaW5kaW5nLmxpc3RlbmVyTmVnYXRlID0gbmVnYXRlO1xuICB9XG4gIC8vIEFkZCBcInByb3BhZ2F0ZVwiIHByb3BlcnR5IGVmZmVjdHMgdG8gdGVtcGxhdGVJbmZvXG4gIGxldCBpbmRleCA9IHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3QubGVuZ3RoO1xuICBmb3IgKGxldCBpPTA7IGk8YmluZGluZy5wYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwYXJ0ID0gYmluZGluZy5wYXJ0c1tpXTtcbiAgICBwYXJ0LmNvbXBvdW5kSW5kZXggPSBpO1xuICAgIGFkZEVmZmVjdEZvckJpbmRpbmdQYXJ0KGNvbnN0cnVjdG9yLCB0ZW1wbGF0ZUluZm8sIGJpbmRpbmcsIHBhcnQsIGluZGV4KTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgcHJvcGVydHkgZWZmZWN0cyB0byB0aGUgZ2l2ZW4gYHRlbXBsYXRlSW5mb2AgZm9yIHRoZSBnaXZlbiBiaW5kaW5nXG4gKiBwYXJ0LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnN0cnVjdG9yIENsYXNzIHRoYXQgYF9wYXJzZVRlbXBsYXRlYCBpcyBjdXJyZW50bHlcbiAqICAgcnVubmluZyBvblxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcGFyYW0geyFCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBpbnRvIGBub2RlSW5mb0xpc3RgIGZvciB0aGlzIG5vZGVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGFkZEVmZmVjdEZvckJpbmRpbmdQYXJ0KGNvbnN0cnVjdG9yLCB0ZW1wbGF0ZUluZm8sIGJpbmRpbmcsIHBhcnQsIGluZGV4KSB7XG4gIGlmICghcGFydC5saXRlcmFsKSB7XG4gICAgaWYgKGJpbmRpbmcua2luZCA9PT0gJ2F0dHJpYnV0ZScgJiYgYmluZGluZy50YXJnZXRbMF0gPT09ICctJykge1xuICAgICAgY29uc29sZS53YXJuKCdDYW5ub3Qgc2V0IGF0dHJpYnV0ZSAnICsgYmluZGluZy50YXJnZXQgK1xuICAgICAgICAnIGJlY2F1c2UgXCItXCIgaXMgbm90IGEgdmFsaWQgYXR0cmlidXRlIHN0YXJ0aW5nIGNoYXJhY3RlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGVwZW5kZW5jaWVzID0gcGFydC5kZXBlbmRlbmNpZXM7XG4gICAgICBsZXQgaW5mbyA9IHsgaW5kZXgsIGJpbmRpbmcsIHBhcnQsIGV2YWx1YXRvcjogY29uc3RydWN0b3IgfTtcbiAgICAgIGZvciAobGV0IGo9MDsgajxkZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgbGV0IHRyaWdnZXIgPSBkZXBlbmRlbmNpZXNbal07XG4gICAgICAgIGlmICh0eXBlb2YgdHJpZ2dlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRyaWdnZXIgPSBwYXJzZUFyZyh0cmlnZ2VyKTtcbiAgICAgICAgICB0cmlnZ2VyLndpbGRjYXJkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3Rvci5fYWRkVGVtcGxhdGVQcm9wZXJ0eUVmZmVjdCh0ZW1wbGF0ZUluZm8sIHRyaWdnZXIucm9vdFByb3BlcnR5LCB7XG4gICAgICAgICAgZm46IHJ1bkJpbmRpbmdFZmZlY3QsXG4gICAgICAgICAgaW5mbywgdHJpZ2dlclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcImJpbmRpbmdcIiAocHJvcGVydHkvcGF0aCBiaW5kaW5nKSBlZmZlY3QuXG4gKlxuICogTm90ZSB0aGF0IGJpbmRpbmcgc3ludGF4IGlzIG92ZXJyaWRhYmxlIHZpYSBgX3BhcnNlQmluZGluZ3NgIGFuZFxuICogYF9ldmFsdWF0ZUJpbmRpbmdgLiAgVGhpcyBtZXRob2Qgd2lsbCBjYWxsIGBfZXZhbHVhdGVCaW5kaW5nYCBmb3IgYW55XG4gKiBub24tbGl0ZXJhbCBwYXJ0cyByZXR1cm5lZCBmcm9tIGBfcGFyc2VCaW5kaW5nc2AuICBIb3dldmVyLFxuICogdGhlcmUgaXMgbm8gc3VwcG9ydCBmb3IgX3BhdGhfIGJpbmRpbmdzIHZpYSBjdXN0b20gYmluZGluZyBwYXJ0cyxcbiAqIGFzIHRoaXMgaXMgc3BlY2lmaWMgdG8gUG9seW1lcidzIHBhdGggYmluZGluZyBzeW50YXguXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcGFyYW0ge0FycmF5fSBub2RlTGlzdCBMaXN0IG9mIG5vZGVzIGFzc29jaWF0ZWQgd2l0aCBgbm9kZUluZm9MaXN0YCB0ZW1wbGF0ZVxuICogICBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bkJpbmRpbmdFZmZlY3QoaW5zdCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBpbmZvLCBoYXNQYXRocywgbm9kZUxpc3QpIHtcbiAgbGV0IG5vZGUgPSBub2RlTGlzdFtpbmZvLmluZGV4XTtcbiAgbGV0IGJpbmRpbmcgPSBpbmZvLmJpbmRpbmc7XG4gIGxldCBwYXJ0ID0gaW5mby5wYXJ0O1xuICAvLyBTdWJwYXRoIG5vdGlmaWNhdGlvbjogdHJhbnNmb3JtIHBhdGggYW5kIHNldCB0byBjbGllbnRcbiAgLy8gZS5nLjogZm9vPVwie3tvYmouc3VifX1cIiwgcGF0aDogJ29iai5zdWIucHJvcCcsIHNldCAnZm9vLnByb3AnPW9iai5zdWIucHJvcFxuICBpZiAoaGFzUGF0aHMgJiYgcGFydC5zb3VyY2UgJiYgKHBhdGgubGVuZ3RoID4gcGFydC5zb3VyY2UubGVuZ3RoKSAmJlxuICAgICAgKGJpbmRpbmcua2luZCA9PSAncHJvcGVydHknKSAmJiAhYmluZGluZy5pc0NvbXBvdW5kICYmXG4gICAgICBub2RlLl9faXNQcm9wZXJ0eUVmZmVjdHNDbGllbnQgJiZcbiAgICAgIG5vZGUuX19kYXRhSGFzQWNjZXNzb3IgJiYgbm9kZS5fX2RhdGFIYXNBY2Nlc3NvcltiaW5kaW5nLnRhcmdldF0pIHtcbiAgICBsZXQgdmFsdWUgPSBwcm9wc1twYXRoXTtcbiAgICBwYXRoID0gdHJhbnNsYXRlKHBhcnQuc291cmNlLCBiaW5kaW5nLnRhcmdldCwgcGF0aCk7XG4gICAgaWYgKG5vZGUuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwYXRoLCB2YWx1ZSwgZmFsc2UsIHRydWUpKSB7XG4gICAgICBpbnN0Ll9lbnF1ZXVlQ2xpZW50KG5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgdmFsdWUgPSBpbmZvLmV2YWx1YXRvci5fZXZhbHVhdGVCaW5kaW5nKGluc3QsIHBhcnQsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgIC8vIFByb3BhZ2F0ZSB2YWx1ZSB0byBjaGlsZFxuICAgIGFwcGx5QmluZGluZ1ZhbHVlKGluc3QsIG5vZGUsIGJpbmRpbmcsIHBhcnQsIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIGZvciBhbiBcImJpbmRpbmdcIiAoYmluZGluZykgZWZmZWN0IHRvIGEgbm9kZSxcbiAqIGVpdGhlciBhcyBhIHByb3BlcnR5IG9yIGF0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugb3duaW5nIHRoZSBiaW5kaW5nIGVmZmVjdFxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRhcmdldCBub2RlIGZvciBiaW5kaW5nXG4gKiBAcGFyYW0geyFCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEBwYXJhbSB7IUJpbmRpbmdQYXJ0fSBwYXJ0IEJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhcHBseUJpbmRpbmdWYWx1ZShpbnN0LCBub2RlLCBiaW5kaW5nLCBwYXJ0LCB2YWx1ZSkge1xuICB2YWx1ZSA9IGNvbXB1dGVCaW5kaW5nVmFsdWUobm9kZSwgdmFsdWUsIGJpbmRpbmcsIHBhcnQpO1xuICBpZiAoc2FuaXRpemVET01WYWx1ZSkge1xuICAgIHZhbHVlID0gc2FuaXRpemVET01WYWx1ZSh2YWx1ZSwgYmluZGluZy50YXJnZXQsIGJpbmRpbmcua2luZCwgbm9kZSk7XG4gIH1cbiAgaWYgKGJpbmRpbmcua2luZCA9PSAnYXR0cmlidXRlJykge1xuICAgIC8vIEF0dHJpYnV0ZSBiaW5kaW5nXG4gICAgaW5zdC5fdmFsdWVUb05vZGVBdHRyaWJ1dGUoLyoqIEB0eXBlIHtFbGVtZW50fSAqLyhub2RlKSwgdmFsdWUsIGJpbmRpbmcudGFyZ2V0KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBQcm9wZXJ0eSBiaW5kaW5nXG4gICAgbGV0IHByb3AgPSBiaW5kaW5nLnRhcmdldDtcbiAgICBpZiAobm9kZS5fX2lzUHJvcGVydHlFZmZlY3RzQ2xpZW50ICYmXG4gICAgICAgIG5vZGUuX19kYXRhSGFzQWNjZXNzb3IgJiYgbm9kZS5fX2RhdGFIYXNBY2Nlc3Nvcltwcm9wXSkge1xuICAgICAgaWYgKCFub2RlW1RZUEVTLlJFQURfT05MWV0gfHwgIW5vZGVbVFlQRVMuUkVBRF9PTkxZXVtwcm9wXSkge1xuICAgICAgICBpZiAobm9kZS5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3AsIHZhbHVlKSkge1xuICAgICAgICAgIGluc3QuX2VucXVldWVDbGllbnQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgIHtcbiAgICAgIGluc3QuX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUcmFuc2Zvcm1zIGFuIFwiYmluZGluZ1wiIGVmZmVjdCB2YWx1ZSBiYXNlZCBvbiBjb21wb3VuZCAmIG5lZ2F0aW9uXG4gKiBlZmZlY3QgbWV0YWRhdGEsIGFzIHdlbGwgYXMgaGFuZGxpbmcgZm9yIHNwZWNpYWwtY2FzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdGhlIHZhbHVlIHdpbGwgYmUgc2V0IHRvXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcGFyYW0geyFCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAqIEByZXR1cm4geyp9IFRyYW5zZm9ybWVkIHZhbHVlIHRvIHNldFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUJpbmRpbmdWYWx1ZShub2RlLCB2YWx1ZSwgYmluZGluZywgcGFydCkge1xuICBpZiAoYmluZGluZy5pc0NvbXBvdW5kKSB7XG4gICAgbGV0IHN0b3JhZ2UgPSBub2RlLl9fZGF0YUNvbXBvdW5kU3RvcmFnZVtiaW5kaW5nLnRhcmdldF07XG4gICAgc3RvcmFnZVtwYXJ0LmNvbXBvdW5kSW5kZXhdID0gdmFsdWU7XG4gICAgdmFsdWUgPSBzdG9yYWdlLmpvaW4oJycpO1xuICB9XG4gIGlmIChiaW5kaW5nLmtpbmQgIT09ICdhdHRyaWJ1dGUnKSB7XG4gICAgLy8gU29tZSBicm93c2VycyBzZXJpYWxpemUgYHVuZGVmaW5lZGAgdG8gYFwidW5kZWZpbmVkXCJgXG4gICAgaWYgKGJpbmRpbmcudGFyZ2V0ID09PSAndGV4dENvbnRlbnQnIHx8XG4gICAgICAgIChiaW5kaW5nLnRhcmdldCA9PT0gJ3ZhbHVlJyAmJlxuICAgICAgICAgIChub2RlLmxvY2FsTmFtZSA9PT0gJ2lucHV0JyB8fCBub2RlLmxvY2FsTmFtZSA9PT0gJ3RleHRhcmVhJykpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlID09IHVuZGVmaW5lZCA/ICcnIDogdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBiaW5kaW5nJ3MgbWV0YWRhdGEgbWVldHMgYWxsIHRoZSByZXF1aXJlbWVudHMgdG8gYWxsb3dcbiAqIDItd2F5IGJpbmRpbmcsIGFuZCB0aGVyZWZvcmUgYSBgPHByb3BlcnR5Pi1jaGFuZ2VkYCBldmVudCBsaXN0ZW5lciBzaG91bGQgYmVcbiAqIGFkZGVkOlxuICogLSB1c2VkIGN1cmx5IGJyYWNlc1xuICogLSBpcyBhIHByb3BlcnR5IChub3QgYXR0cmlidXRlKSBiaW5kaW5nXG4gKiAtIGlzIG5vdCBhIHRleHRDb250ZW50IGJpbmRpbmdcbiAqIC0gaXMgbm90IGNvbXBvdW5kXG4gKlxuICogQHBhcmFtIHshQmluZGluZ30gYmluZGluZyBCaW5kaW5nIG1ldGFkYXRhXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIDItd2F5IGxpc3RlbmVyIHNob3VsZCBiZSBhZGRlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2hvdWxkQWRkTGlzdGVuZXIoYmluZGluZykge1xuICByZXR1cm4gQm9vbGVhbihiaW5kaW5nLnRhcmdldCkgJiZcbiAgICAgICAgIGJpbmRpbmcua2luZCAhPSAnYXR0cmlidXRlJyAmJlxuICAgICAgICAgYmluZGluZy5raW5kICE9ICd0ZXh0JyAmJlxuICAgICAgICAgIWJpbmRpbmcuaXNDb21wb3VuZCAmJlxuICAgICAgICAgYmluZGluZy5wYXJ0c1swXS5tb2RlID09PSAneyc7XG59XG5cbi8qKlxuICogU2V0dXAgY29tcG91bmQgYmluZGluZyBzdG9yYWdlIHN0cnVjdHVyZXMsIG5vdGlmeSBsaXN0ZW5lcnMsIGFuZCBkYXRhSG9zdFxuICogcmVmZXJlbmNlcyBvbnRvIHRoZSBib3VuZCBub2RlTGlzdC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBJbnN0YW5jZSB0aGF0IGJhcyBiZWVuIHByZXZpb3VzbHlcbiAqICAgICBib3VuZFxuICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldHVwQmluZGluZ3MoaW5zdCwgdGVtcGxhdGVJbmZvKSB7XG4gIC8vIFNldHVwIGNvbXBvdW5kIHN0b3JhZ2UsIGRhdGFIb3N0LCBhbmQgbm90aWZ5IGxpc3RlbmVyc1xuICBsZXQge25vZGVMaXN0LCBub2RlSW5mb0xpc3R9ID0gdGVtcGxhdGVJbmZvO1xuICBpZiAobm9kZUluZm9MaXN0Lmxlbmd0aCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVJbmZvTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGluZm8gPSBub2RlSW5mb0xpc3RbaV07XG4gICAgICBsZXQgbm9kZSA9IG5vZGVMaXN0W2ldO1xuICAgICAgbGV0IGJpbmRpbmdzID0gaW5mby5iaW5kaW5ncztcbiAgICAgIGlmIChiaW5kaW5ncykge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8YmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgYmluZGluZyA9IGJpbmRpbmdzW2ldO1xuICAgICAgICAgIHNldHVwQ29tcG91bmRTdG9yYWdlKG5vZGUsIGJpbmRpbmcpO1xuICAgICAgICAgIGFkZE5vdGlmeUxpc3RlbmVyKG5vZGUsIGluc3QsIGJpbmRpbmcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLl9fZGF0YUhvc3QgPSBpbnN0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGBfX2RhdGFDb21wb3VuZFN0b3JhZ2VgIGxvY2FsIHN0b3JhZ2Ugb24gYSBib3VuZCBub2RlIHdpdGhcbiAqIGluaXRpYWwgbGl0ZXJhbCBkYXRhIGZvciBjb21wb3VuZCBiaW5kaW5ncywgYW5kIHNldHMgdGhlIGpvaW5lZFxuICogbGl0ZXJhbCBwYXJ0cyB0byB0aGUgYm91bmQgcHJvcGVydHkuXG4gKlxuICogV2hlbiBjaGFuZ2VzIHRvIGNvbXBvdW5kIHBhcnRzIG9jY3VyLCB0aGV5IGFyZSBmaXJzdCBzZXQgaW50byB0aGUgY29tcG91bmRcbiAqIHN0b3JhZ2UgYXJyYXkgZm9yIHRoYXQgcHJvcGVydHksIGFuZCB0aGVuIHRoZSBhcnJheSBpcyBqb2luZWQgdG8gcmVzdWx0IGluXG4gKiB0aGUgZmluYWwgdmFsdWUgc2V0IHRvIHRoZSBwcm9wZXJ0eS9hdHRyaWJ1dGUuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlIEJvdW5kIG5vZGUgdG8gaW5pdGlhbGl6ZVxuICogQHBhcmFtIHtCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZXR1cENvbXBvdW5kU3RvcmFnZShub2RlLCBiaW5kaW5nKSB7XG4gIGlmIChiaW5kaW5nLmlzQ29tcG91bmQpIHtcbiAgICAvLyBDcmVhdGUgY29tcG91bmQgc3RvcmFnZSBtYXBcbiAgICBsZXQgc3RvcmFnZSA9IG5vZGUuX19kYXRhQ29tcG91bmRTdG9yYWdlIHx8XG4gICAgICAobm9kZS5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgPSB7fSk7XG4gICAgbGV0IHBhcnRzID0gYmluZGluZy5wYXJ0cztcbiAgICAvLyBDb3B5IGxpdGVyYWxzIGZyb20gcGFydHMgaW50byBzdG9yYWdlIGZvciB0aGlzIGJpbmRpbmdcbiAgICBsZXQgbGl0ZXJhbHMgPSBuZXcgQXJyYXkocGFydHMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBqPTA7IGo8cGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGxpdGVyYWxzW2pdID0gcGFydHNbal0ubGl0ZXJhbDtcbiAgICB9XG4gICAgbGV0IHRhcmdldCA9IGJpbmRpbmcudGFyZ2V0O1xuICAgIHN0b3JhZ2VbdGFyZ2V0XSA9IGxpdGVyYWxzO1xuICAgIC8vIENvbmZpZ3VyZSBwcm9wZXJ0aWVzIHdpdGggdGhlaXIgbGl0ZXJhbCBwYXJ0c1xuICAgIGlmIChiaW5kaW5nLmxpdGVyYWwgJiYgYmluZGluZy5raW5kID09ICdwcm9wZXJ0eScpIHtcbiAgICAgIC8vIE5vdGUsIGNsYXNzTmFtZSBuZWVkcyBzdHlsZSBzY29waW5nIHNvIHRoaXMgbmVlZHMgd3JhcHBpbmcuXG4gICAgICAvLyBXZSBtYXkgYWxzbyB3YW50IHRvIGNvbnNpZGVyIGRvaW5nIHRoaXMgZm9yIGB0ZXh0Q29udGVudGAgYW5kXG4gICAgICAvLyBgaW5uZXJIVE1MYC5cbiAgICAgIGlmICh0YXJnZXQgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgICAgIG5vZGUgPSB3cmFwKG5vZGUpO1xuICAgICAgfVxuICAgICAgbm9kZVt0YXJnZXRdID0gYmluZGluZy5saXRlcmFsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFkZHMgYSAyLXdheSBiaW5kaW5nIG5vdGlmaWNhdGlvbiBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBzcGVjaWZpZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBDaGlsZCBlbGVtZW50IHRvIGFkZCBsaXN0ZW5lciB0b1xuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSG9zdCBlbGVtZW50IGluc3RhbmNlIHRvIGhhbmRsZVxuICogICAgIG5vdGlmaWNhdGlvbiBldmVudFxuICogQHBhcmFtIHtCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGROb3RpZnlMaXN0ZW5lcihub2RlLCBpbnN0LCBiaW5kaW5nKSB7XG4gIGlmIChiaW5kaW5nLmxpc3RlbmVyRXZlbnQpIHtcbiAgICBsZXQgcGFydCA9IGJpbmRpbmcucGFydHNbMF07XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGJpbmRpbmcubGlzdGVuZXJFdmVudCwgZnVuY3Rpb24oZSkge1xuICAgICAgaGFuZGxlTm90aWZpY2F0aW9uKGUsIGluc3QsIGJpbmRpbmcudGFyZ2V0LCBwYXJ0LnNvdXJjZSwgcGFydC5uZWdhdGUpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIC0tIGZvciBtZXRob2QtYmFzZWQgZWZmZWN0cyAoY29tcGxleE9ic2VydmVyICYgY29tcHV0ZWQpIC0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQWRkcyBwcm9wZXJ0eSBlZmZlY3RzIGZvciBlYWNoIGFyZ3VtZW50IGluIHRoZSBtZXRob2Qgc2lnbmF0dXJlIChhbmRcbiAqIG9wdGlvbmFsbHksIGZvciB0aGUgbWV0aG9kIG5hbWUgaWYgYGR5bmFtaWNgIGlzIHRydWUpIHRoYXQgY2FsbHMgdGhlXG4gKiBwcm92aWRlZCBlZmZlY3QgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtFbGVtZW50IHwgT2JqZWN0fSBtb2RlbCBQcm90b3R5cGUgb3IgaW5zdGFuY2VcbiAqIEBwYXJhbSB7IU1ldGhvZFNpZ25hdHVyZX0gc2lnIE1ldGhvZCBzaWduYXR1cmUgbWV0YWRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgb2YgcHJvcGVydHkgZWZmZWN0IHRvIGFkZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZWZmZWN0Rm4gRnVuY3Rpb24gdG8gcnVuIHdoZW4gYXJndW1lbnRzIGNoYW5nZVxuICogQHBhcmFtIHsqPX0gbWV0aG9kSW5mbyBFZmZlY3Qtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gYmUgaW5jbHVkZWQgaW5cbiAqICAgbWV0aG9kIGVmZmVjdCBtZXRhZGF0YVxuICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZyB3aGV0aGVyXG4gKiAgIG1ldGhvZCBuYW1lcyBzaG91bGQgYmUgaW5jbHVkZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuIE5vdGUsXG4gKiAgIGRlZmF1bHRzIHRvIHRydWUgaWYgdGhlIHNpZ25hdHVyZSBpcyBzdGF0aWMgKHNpZy5zdGF0aWMgaXMgdHJ1ZSkuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWV0aG9kRWZmZWN0KG1vZGVsLCBzaWcsIHR5cGUsIGVmZmVjdEZuLCBtZXRob2RJbmZvLCBkeW5hbWljRm4pIHtcbiAgZHluYW1pY0ZuID0gc2lnLnN0YXRpYyB8fCAoZHluYW1pY0ZuICYmXG4gICAgKHR5cGVvZiBkeW5hbWljRm4gIT09ICdvYmplY3QnIHx8IGR5bmFtaWNGbltzaWcubWV0aG9kTmFtZV0pKTtcbiAgbGV0IGluZm8gPSB7XG4gICAgbWV0aG9kTmFtZTogc2lnLm1ldGhvZE5hbWUsXG4gICAgYXJnczogc2lnLmFyZ3MsXG4gICAgbWV0aG9kSW5mbyxcbiAgICBkeW5hbWljRm5cbiAgfTtcbiAgZm9yIChsZXQgaT0wLCBhcmc7IChpPHNpZy5hcmdzLmxlbmd0aCkgJiYgKGFyZz1zaWcuYXJnc1tpXSk7IGkrKykge1xuICAgIGlmICghYXJnLmxpdGVyYWwpIHtcbiAgICAgIG1vZGVsLl9hZGRQcm9wZXJ0eUVmZmVjdChhcmcucm9vdFByb3BlcnR5LCB0eXBlLCB7XG4gICAgICAgIGZuOiBlZmZlY3RGbiwgaW5mbzogaW5mbywgdHJpZ2dlcjogYXJnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKGR5bmFtaWNGbikge1xuICAgIG1vZGVsLl9hZGRQcm9wZXJ0eUVmZmVjdChzaWcubWV0aG9kTmFtZSwgdHlwZSwge1xuICAgICAgZm46IGVmZmVjdEZuLCBpbmZvOiBpbmZvXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxscyBhIG1ldGhvZCB3aXRoIGFyZ3VtZW50cyBtYXJzaGFsZWQgZnJvbSBwcm9wZXJ0aWVzIG9uIHRoZSBpbnN0YW5jZVxuICogYmFzZWQgb24gdGhlIG1ldGhvZCBzaWduYXR1cmUgY29udGFpbmVkIGluIHRoZSBlZmZlY3QgbWV0YWRhdGEuXG4gKlxuICogTXVsdGktcHJvcGVydHkgb2JzZXJ2ZXJzLCBjb21wdXRlZCBwcm9wZXJ0aWVzLCBhbmQgaW5saW5lIGNvbXB1dGluZ1xuICogZnVuY3Rpb25zIGNhbGwgdGhpcyBmdW5jdGlvbiB0byBpbnZva2UgdGhlIG1ldGhvZCwgdGhlbiB1c2UgdGhlIHJldHVyblxuICogdmFsdWUgYWNjb3JkaW5nbHkuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7Kn0gUmV0dXJucyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIG1ldGhvZCBpbnZvY2F0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5NZXRob2RFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbykge1xuICAvLyBJbnN0YW5jZXMgY2FuIG9wdGlvbmFsbHkgaGF2ZSBhIF9tZXRob2RIb3N0IHdoaWNoIGFsbG93cyByZWRpcmVjdGluZyB3aGVyZVxuICAvLyB0byBmaW5kIG1ldGhvZHMuIEN1cnJlbnRseSB1c2VkIGJ5IGB0ZW1wbGF0aXplYC5cbiAgbGV0IGNvbnRleHQgPSBpbnN0Ll9tZXRob2RIb3N0IHx8IGluc3Q7XG4gIGxldCBmbiA9IGNvbnRleHRbaW5mby5tZXRob2ROYW1lXTtcbiAgaWYgKGZuKSB7XG4gICAgbGV0IGFyZ3MgPSBpbnN0Ll9tYXJzaGFsQXJncyhpbmZvLmFyZ3MsIHByb3BlcnR5LCBwcm9wcyk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2UgaWYgKCFpbmZvLmR5bmFtaWNGbikge1xuICAgIGNvbnNvbGUud2FybignbWV0aG9kIGAnICsgaW5mby5tZXRob2ROYW1lICsgJ2Agbm90IGRlZmluZWQnKTtcbiAgfVxufVxuXG5jb25zdCBlbXB0eUFycmF5ID0gW107XG5cbi8vIFJlZ3VsYXIgZXhwcmVzc2lvbnMgdXNlZCBmb3IgYmluZGluZ1xuY29uc3QgSURFTlQgID0gJyg/OicgKyAnW2EtekEtWl8kXVtcXFxcdy46JFxcXFwtKl0qJyArICcpJztcbmNvbnN0IE5VTUJFUiA9ICcoPzonICsgJ1stK10/WzAtOV0qXFxcXC4/WzAtOV0rKD86W2VFXVstK10/WzAtOV0rKT8nICsgJyknO1xuY29uc3QgU1FVT1RFX1NUUklORyA9ICcoPzonICsgJ1xcJyg/OlteXFwnXFxcXFxcXFxdfFxcXFxcXFxcLikqXFwnJyArICcpJztcbmNvbnN0IERRVU9URV9TVFJJTkcgPSAnKD86JyArICdcIig/OlteXCJcXFxcXFxcXF18XFxcXFxcXFwuKSpcIicgKyAnKSc7XG5jb25zdCBTVFJJTkcgPSAnKD86JyArIFNRVU9URV9TVFJJTkcgKyAnfCcgKyBEUVVPVEVfU1RSSU5HICsgJyknO1xuY29uc3QgQVJHVU1FTlQgPSAnKD86KCcgKyBJREVOVCArICd8JyArIE5VTUJFUiArICd8JyArICBTVFJJTkcgKyAnKVxcXFxzKicgKyAnKSc7XG5jb25zdCBBUkdVTUVOVFMgPSAnKD86JyArIEFSR1VNRU5UICsgJyg/OixcXFxccyonICsgQVJHVU1FTlQgKyAnKSonICsgJyknO1xuY29uc3QgQVJHVU1FTlRfTElTVCA9ICcoPzonICsgJ1xcXFwoXFxcXHMqJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKD86JyArIEFSR1VNRU5UUyArICc/JyArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcXFwpXFxcXHMqJyArICcpJztcbmNvbnN0IEJJTkRJTkcgPSAnKCcgKyBJREVOVCArICdcXFxccyonICsgQVJHVU1FTlRfTElTVCArICc/JyArICcpJzsgLy8gR3JvdXAgM1xuY29uc3QgT1BFTl9CUkFDS0VUID0gJyhcXFxcW1xcXFxbfHt7KScgKyAnXFxcXHMqJztcbmNvbnN0IENMT1NFX0JSQUNLRVQgPSAnKD86XV18fX0pJztcbmNvbnN0IE5FR0FURSA9ICcoPzooISlcXFxccyopPyc7IC8vIEdyb3VwIDJcbmNvbnN0IEVYUFJFU1NJT04gPSBPUEVOX0JSQUNLRVQgKyBORUdBVEUgKyBCSU5ESU5HICsgQ0xPU0VfQlJBQ0tFVDtcbmNvbnN0IGJpbmRpbmdSZWdleCA9IG5ldyBSZWdFeHAoRVhQUkVTU0lPTiwgXCJnXCIpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHN0cmluZyBmcm9tIGJpbmRpbmcgcGFydHMgb2YgYWxsIHRoZSBsaXRlcmFsIHBhcnRzXG4gKlxuICogQHBhcmFtIHshQXJyYXk8QmluZGluZ1BhcnQ+fSBwYXJ0cyBBbGwgcGFydHMgdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFN0cmluZyBtYWRlIGZyb20gdGhlIGxpdGVyYWwgcGFydHNcbiAqL1xuZnVuY3Rpb24gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cykge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpPTA7IGk8cGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbGl0ZXJhbCA9IHBhcnRzW2ldLmxpdGVyYWw7XG4gICAgcyArPSBsaXRlcmFsIHx8ICcnO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbiBleHByZXNzaW9uIHN0cmluZyBmb3IgYSBtZXRob2Qgc2lnbmF0dXJlLCBhbmQgcmV0dXJucyBhIG1ldGFkYXRhXG4gKiBkZXNjcmliaW5nIHRoZSBtZXRob2QgaW4gdGVybXMgb2YgYG1ldGhvZE5hbWVgLCBgc3RhdGljYCAod2hldGhlciBhbGwgdGhlXG4gKiBhcmd1bWVudHMgYXJlIGxpdGVyYWxzKSwgYW5kIGFuIGFycmF5IG9mIGBhcmdzYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBleHByZXNzaW9uIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHs/TWV0aG9kU2lnbmF0dXJlfSBUaGUgbWV0aG9kIG1ldGFkYXRhIG9iamVjdCBpZiBhIG1ldGhvZCBleHByZXNzaW9uIHdhc1xuICogICBmb3VuZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZU1ldGhvZChleHByZXNzaW9uKSB7XG4gIC8vIHRyaWVzIHRvIG1hdGNoIHZhbGlkIGphdmFzY3JpcHQgcHJvcGVydHkgbmFtZXNcbiAgbGV0IG0gPSBleHByZXNzaW9uLm1hdGNoKC8oW15cXHNdKz8pXFwoKFtcXHNcXFNdKilcXCkvKTtcbiAgaWYgKG0pIHtcbiAgICBsZXQgbWV0aG9kTmFtZSA9IG1bMV07XG4gICAgbGV0IHNpZyA9IHsgbWV0aG9kTmFtZSwgc3RhdGljOiB0cnVlLCBhcmdzOiBlbXB0eUFycmF5IH07XG4gICAgaWYgKG1bMl0udHJpbSgpKSB7XG4gICAgICAvLyByZXBsYWNlIGVzY2FwZWQgY29tbWFzIHdpdGggY29tbWEgZW50aXR5LCBzcGxpdCBvbiB1bi1lc2NhcGVkIGNvbW1hc1xuICAgICAgbGV0IGFyZ3MgPSBtWzJdLnJlcGxhY2UoL1xcXFwsL2csICcmY29tbWE7Jykuc3BsaXQoJywnKTtcbiAgICAgIHJldHVybiBwYXJzZUFyZ3MoYXJncywgc2lnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNpZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBhbmQgc2V0cyB0aGUgYGFyZ3NgIHByb3BlcnR5IG9mIHRoZSBzdXBwbGllZFxuICogc2lnbmF0dXJlIG1ldGFkYXRhIG9iamVjdC4gU2V0cyB0aGUgYHN0YXRpY2AgcHJvcGVydHkgdG8gZmFsc2UgaWYgYW55XG4gKiBhcmd1bWVudCBpcyBhIG5vbi1saXRlcmFsLlxuICpcbiAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IGFyZ0xpc3QgQXJyYXkgb2YgYXJndW1lbnQgbmFtZXNcbiAqIEBwYXJhbSB7IU1ldGhvZFNpZ25hdHVyZX0gc2lnIE1ldGhvZCBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcmV0dXJuIHshTWV0aG9kU2lnbmF0dXJlfSBUaGUgdXBkYXRlZCBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZUFyZ3MoYXJnTGlzdCwgc2lnKSB7XG4gIHNpZy5hcmdzID0gYXJnTGlzdC5tYXAoZnVuY3Rpb24ocmF3QXJnKSB7XG4gICAgbGV0IGFyZyA9IHBhcnNlQXJnKHJhd0FyZyk7XG4gICAgaWYgKCFhcmcubGl0ZXJhbCkge1xuICAgICAgc2lnLnN0YXRpYyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXJnO1xuICB9LCB0aGlzKTtcbiAgcmV0dXJuIHNpZztcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW4gaW5kaXZpZHVhbCBhcmd1bWVudCwgYW5kIHJldHVybnMgYW4gYXJndW1lbnQgbWV0YWRhdGEgb2JqZWN0XG4gKiB3aXRoIHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICpcbiAqICAge1xuICogICAgIHZhbHVlOiAncHJvcCcsICAgICAgICAvLyBwcm9wZXJ0eS9wYXRoIG9yIGxpdGVyYWwgdmFsdWVcbiAqICAgICBsaXRlcmFsOiBmYWxzZSwgICAgICAgLy8gd2hldGhlciBhcmd1bWVudCBpcyBhIGxpdGVyYWxcbiAqICAgICBzdHJ1Y3R1cmVkOiBmYWxzZSwgICAgLy8gd2hldGhlciB0aGUgcHJvcGVydHkgaXMgYSBwYXRoXG4gKiAgICAgcm9vdFByb3BlcnR5OiAncHJvcCcsIC8vIHRoZSByb290IHByb3BlcnR5IG9mIHRoZSBwYXRoXG4gKiAgICAgd2lsZGNhcmQ6IGZhbHNlICAgICAgIC8vIHdoZXRoZXIgdGhlIGFyZ3VtZW50IHdhcyBhIHdpbGRjYXJkICcuKicgcGF0aFxuICogICB9XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJhd0FyZyBUaGUgc3RyaW5nIHZhbHVlIG9mIHRoZSBhcmd1bWVudFxuICogQHJldHVybiB7IU1ldGhvZEFyZ30gQXJndW1lbnQgbWV0YWRhdGEgb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwYXJzZUFyZyhyYXdBcmcpIHtcbiAgLy8gY2xlYW4gdXAgd2hpdGVzcGFjZVxuICBsZXQgYXJnID0gcmF3QXJnLnRyaW0oKVxuICAgIC8vIHJlcGxhY2UgY29tbWEgZW50aXR5IHdpdGggY29tbWFcbiAgICAucmVwbGFjZSgvJmNvbW1hOy9nLCAnLCcpXG4gICAgLy8gcmVwYWlyIGV4dHJhIGVzY2FwZSBzZXF1ZW5jZXM7IG5vdGUgb25seSBjb21tYXMgc3RyaWN0bHkgbmVlZFxuICAgIC8vIGVzY2FwaW5nLCBidXQgd2UgYWxsb3cgYW55IG90aGVyIGNoYXIgdG8gYmUgZXNjYXBlZCBzaW5jZSBpdHNcbiAgICAvLyBsaWtlbHkgdXNlcnMgd2lsbCBkbyB0aGlzXG4gICAgLnJlcGxhY2UoL1xcXFwoLikvZywgJ1xcJDEnKVxuICAgIDtcbiAgLy8gYmFzaWMgYXJndW1lbnQgZGVzY3JpcHRvclxuICBsZXQgYSA9IHtcbiAgICBuYW1lOiBhcmcsXG4gICAgdmFsdWU6ICcnLFxuICAgIGxpdGVyYWw6IGZhbHNlXG4gIH07XG4gIC8vIGRldGVjdCBsaXRlcmFsIHZhbHVlIChtdXN0IGJlIFN0cmluZyBvciBOdW1iZXIpXG4gIGxldCBmYyA9IGFyZ1swXTtcbiAgaWYgKGZjID09PSAnLScpIHtcbiAgICBmYyA9IGFyZ1sxXTtcbiAgfVxuICBpZiAoZmMgPj0gJzAnICYmIGZjIDw9ICc5Jykge1xuICAgIGZjID0gJyMnO1xuICB9XG4gIHN3aXRjaChmYykge1xuICAgIGNhc2UgXCInXCI6XG4gICAgY2FzZSAnXCInOlxuICAgICAgYS52YWx1ZSA9IGFyZy5zbGljZSgxLCAtMSk7XG4gICAgICBhLmxpdGVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnIyc6XG4gICAgICBhLnZhbHVlID0gTnVtYmVyKGFyZyk7XG4gICAgICBhLmxpdGVyYWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgLy8gaWYgbm90IGxpdGVyYWwsIGxvb2sgZm9yIHN0cnVjdHVyZWQgcGF0aFxuICBpZiAoIWEubGl0ZXJhbCkge1xuICAgIGEucm9vdFByb3BlcnR5ID0gcm9vdChhcmcpO1xuICAgIC8vIGRldGVjdCBzdHJ1Y3R1cmVkIHBhdGggKGhhcyBkb3RzKVxuICAgIGEuc3RydWN0dXJlZCA9IGlzUGF0aChhcmcpO1xuICAgIGlmIChhLnN0cnVjdHVyZWQpIHtcbiAgICAgIGEud2lsZGNhcmQgPSAoYXJnLnNsaWNlKC0yKSA9PSAnLionKTtcbiAgICAgIGlmIChhLndpbGRjYXJkKSB7XG4gICAgICAgIGEubmFtZSA9IGFyZy5zbGljZSgwLCAtMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgcGF0aCkge1xuICBsZXQgdmFsdWUgPSBnZXQoZGF0YSwgcGF0aCk7XG4gIC8vIHdoZW4gZGF0YSBpcyBub3Qgc3RvcmVkIGUuZy4gYHNwbGljZXNgLCBnZXQgdGhlIHZhbHVlIGZyb20gY2hhbmdlZFByb3BzXG4gIC8vIFRPRE8oa3NjaGFhZik6IE5vdGUsIHRoaXMgY2FuIGNhdXNlIGEgcmFyZSBpc3N1ZSB3aGVyZSB0aGUgd2lsZGNhcmRcbiAgLy8gaW5mby52YWx1ZSBjb3VsZCBwdWxsIGEgc3RhbGUgdmFsdWUgb3V0IG9mIGNoYW5nZWRQcm9wcyBkdXJpbmcgYSByZWVudHJhbnRcbiAgLy8gY2hhbmdlIHRoYXQgc2V0cyB0aGUgdmFsdWUgYmFjayB0byB1bmRlZmluZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyL3BvbHltZXIvaXNzdWVzLzU0NzlcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IHByb3BzW3BhdGhdO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gZGF0YSBhcGlcblxuLyoqXG4gKiBTZW5kcyBhcnJheSBzcGxpY2Ugbm90aWZpY2F0aW9ucyAoYC5zcGxpY2VzYCBhbmQgYC5sZW5ndGhgKVxuICpcbiAqIE5vdGU6IHRoaXMgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG5vcm1hbGl6ZWQgcGF0aHNcbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBJbnN0YW5jZSB0byBzZW5kIG5vdGlmaWNhdGlvbnMgdG9cbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0aGUgbXV0YXRpb25zIG9jY3VycmVkIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0byB0aGUgYXJyYXkgdGhhdCB3YXMgbXV0YXRlZFxuICogQHBhcmFtIHtBcnJheX0gc3BsaWNlcyBBcnJheSBvZiBzcGxpY2UgcmVjb3Jkc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVNwbGljZXMoaW5zdCwgYXJyYXksIHBhdGgsIHNwbGljZXMpIHtcbiAgaW5zdC5ub3RpZnlQYXRoKHBhdGggKyAnLnNwbGljZXMnLCB7IGluZGV4U3BsaWNlczogc3BsaWNlcyB9KTtcbiAgaW5zdC5ub3RpZnlQYXRoKHBhdGggKyAnLmxlbmd0aCcsIGFycmF5Lmxlbmd0aCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNwbGljZSByZWNvcmQgYW5kIHNlbmRzIGFuIGFycmF5IHNwbGljZSBub3RpZmljYXRpb24gZm9yXG4gKiB0aGUgZGVzY3JpYmVkIG11dGF0aW9uXG4gKlxuICogTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgbm9ybWFsaXplZCBwYXRoc1xuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEluc3RhbmNlIHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0b1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRoZSBtdXRhdGlvbnMgb2NjdXJyZWQgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBhcnJheSB0aGF0IHdhcyBtdXRhdGVkXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggYXQgd2hpY2ggdGhlIGFycmF5IG11dGF0aW9uIG9jY3VycmVkXG4gKiBAcGFyYW0ge251bWJlcn0gYWRkZWRDb3VudCBOdW1iZXIgb2YgYWRkZWQgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IHJlbW92ZWQgQXJyYXkgb2YgcmVtb3ZlZCBpdGVtc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeVNwbGljZShpbnN0LCBhcnJheSwgcGF0aCwgaW5kZXgsIGFkZGVkQ291bnQsIHJlbW92ZWQpIHtcbiAgbm90aWZ5U3BsaWNlcyhpbnN0LCBhcnJheSwgcGF0aCwgW3tcbiAgICBpbmRleDogaW5kZXgsXG4gICAgYWRkZWRDb3VudDogYWRkZWRDb3VudCxcbiAgICByZW1vdmVkOiByZW1vdmVkLFxuICAgIG9iamVjdDogYXJyYXksXG4gICAgdHlwZTogJ3NwbGljZSdcbiAgfV0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gdXBwZXItY2FzZWQgdmVyc2lvbiBvZiB0aGUgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFN0cmluZyB0byB1cHBlcmNhc2VcbiAqIEByZXR1cm4ge3N0cmluZ30gVXBwZXJjYXNlZCBzdHJpbmdcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVwcGVyKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpO1xufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBtZXRhLXByb2dyYW1taW5nIGZvciBQb2x5bWVyJ3MgdGVtcGxhdGVcbiAqIGJpbmRpbmcgYW5kIGRhdGEgb2JzZXJ2YXRpb24gKGNvbGxlY3RpdmVseSwgXCJwcm9wZXJ0eSBlZmZlY3RzXCIpIHN5c3RlbS5cbiAqXG4gKiBUaGlzIG1peGluIHVzZXMgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBrZXkgc3RhdGljIG1ldGhvZHMgZm9yIGFkZGluZ1xuICogcHJvcGVydHkgZWZmZWN0cyB0byBhbiBlbGVtZW50IGNsYXNzOlxuICogLSBgYWRkUHJvcGVydHlFZmZlY3RgXG4gKiAtIGBjcmVhdGVQcm9wZXJ0eU9ic2VydmVyYFxuICogLSBgY3JlYXRlTWV0aG9kT2JzZXJ2ZXJgXG4gKiAtIGBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZVJlYWRPbmx5UHJvcGVydHlgXG4gKiAtIGBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZUNvbXB1dGVkUHJvcGVydHlgXG4gKiAtIGBiaW5kVGVtcGxhdGVgXG4gKlxuICogRWFjaCBtZXRob2QgY3JlYXRlcyBvbmUgb3IgbW9yZSBwcm9wZXJ0eSBhY2Nlc3NvcnMsIGFsb25nIHdpdGggbWV0YWRhdGFcbiAqIHVzZWQgYnkgdGhpcyBtaXhpbidzIGltcGxlbWVudGF0aW9uIG9mIGBfcHJvcGVydGllc0NoYW5nZWRgIHRvIHBlcmZvcm1cbiAqIHRoZSBwcm9wZXJ0eSBlZmZlY3RzLlxuICpcbiAqIFVuZGVyc2NvcmVkIHZlcnNpb25zIG9mIHRoZSBhYm92ZSBtZXRob2RzIGFsc28gZXhpc3Qgb24gdGhlIGVsZW1lbnRcbiAqIHByb3RvdHlwZSBmb3IgYWRkaW5nIHByb3BlcnR5IGVmZmVjdHMgb24gaW5zdGFuY2VzIGF0IHJ1bnRpbWUuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgbWl4aW4gb3ZlcnJpZGVzIHNldmVyYWwgYFByb3BlcnR5QWNjZXNzb3JzYCBtZXRob2RzLCBpblxuICogbWFueSBjYXNlcyB0byBtYWludGFpbiBndWFyYW50ZWVzIHByb3ZpZGVkIGJ5IHRoZSBQb2x5bWVyIDEueCBmZWF0dXJlcztcbiAqIG5vdGFibHkgaXQgY2hhbmdlcyBwcm9wZXJ0eSBhY2Nlc3NvcnMgdG8gYmUgc3luY2hyb25vdXMgYnkgZGVmYXVsdFxuICogd2hlcmVhcyB0aGUgZGVmYXVsdCB3aGVuIHVzaW5nIGBQcm9wZXJ0eUFjY2Vzc29yc2Agc3RhbmRhbG9uZSBpcyB0byBiZVxuICogYXN5bmMgYnkgZGVmYXVsdC5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gVGVtcGxhdGVTdGFtcFxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUFjY2Vzc29yc1xuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIG1ldGEtcHJvZ3JhbW1pbmcgZm9yIFBvbHltZXInc1xuICogdGVtcGxhdGUgYmluZGluZyBhbmQgZGF0YSBvYnNlcnZhdGlvbiBzeXN0ZW0uXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydHlFZmZlY3RzID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9UZW1wbGF0ZVN0YW1wfVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdCBwcm9wZXJ0eUVmZmVjdHNCYXNlID0gVGVtcGxhdGVTdGFtcChQcm9wZXJ0eUFjY2Vzc29ycyhzdXBlckNsYXNzKSk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAgICogQGV4dGVuZHMge3Byb3BlcnR5RWZmZWN0c0Jhc2V9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICovXG4gIGNsYXNzIFByb3BlcnR5RWZmZWN0cyBleHRlbmRzIHByb3BlcnR5RWZmZWN0c0Jhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgLy8gVXNlZCB0byBpZGVudGlmeSB1c2VycyBvZiB0aGlzIG1peGluLCBhbGEgaW5zdGFuY2VvZlxuICAgICAgdGhpcy5fX2lzUHJvcGVydHlFZmZlY3RzQ2xpZW50ID0gdHJ1ZTtcbiAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgLy8gTk9URTogdXNlZCB0byB0cmFjayByZS1lbnRyYW50IGNhbGxzIHRvIGBfZmx1c2hQcm9wZXJ0aWVzYFxuICAgICAgLy8gcGF0aCBjaGFuZ2VzIGRpcnR5IGNoZWNrIGFnYWluc3QgYF9fZGF0YVRlbXBgIG9ubHkgZHVyaW5nIG9uZSBcInR1cm5cIlxuICAgICAgLy8gYW5kIGFyZSBjbGVhcmVkIHdoZW4gYF9fZGF0YUNvdW50ZXJgIHJldHVybnMgdG8gMC5cbiAgICAgIHRoaXMuX19kYXRhQ291bnRlciA9IDA7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUNsaWVudHNSZWFkeTtcbiAgICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YVRvTm90aWZ5O1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFDb21wb3VuZFN0b3JhZ2U7XG4gICAgICAvKiogQHR5cGUge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfSAqL1xuICAgICAgdGhpcy5fX2RhdGFIb3N0O1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFUZW1wO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQ7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YTtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdHxudWxsfSAqL1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nO1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2RhdGFPbGQ7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19jb21wdXRlRWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3JlZmxlY3RFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fbm90aWZ5RWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3Byb3BhZ2F0ZUVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19vYnNlcnZlRWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX3JlYWRPbmx5O1xuICAgICAgLyoqIEB0eXBlIHshVGVtcGxhdGVJbmZvfSAqL1xuICAgICAgdGhpcy5fX3RlbXBsYXRlSW5mbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gRWZmZWN0IHByb3RvdHlwZSBwcm9wZXJ0eSBuYW1lIG1hcC5cbiAgICAgKi9cbiAgICBnZXQgUFJPUEVSVFlfRUZGRUNUX1RZUEVTKCkge1xuICAgICAgcmV0dXJuIFRZUEVTO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgICBob3N0U3RhY2sucmVnaXN0ZXJIb3N0KHRoaXMpO1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzUmVhZHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHMgPSBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhSGFzUGF0aHMgPSBmYWxzZTtcbiAgICAgIC8vIE1heSBiZSBzZXQgb24gaW5zdGFuY2UgcHJpb3IgdG8gdXBncmFkZVxuICAgICAgdGhpcy5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgPSB0aGlzLl9fZGF0YUNvbXBvdW5kU3RvcmFnZSB8fCBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFIb3N0ID0gdGhpcy5fX2RhdGFIb3N0IHx8IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YVRlbXAgPSB7fTtcbiAgICAgIHRoaXMuX19kYXRhQ2xpZW50c0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUFjY2Vzc29yc2AgaW1wbGVtZW50YXRpb24gdG8gcHJvdmlkZSBhXG4gICAgICogbW9yZSBlZmZpY2llbnQgaW1wbGVtZW50YXRpb24gb2YgaW5pdGlhbGl6aW5nIHByb3BlcnRpZXMgZnJvbVxuICAgICAqIHRoZSBwcm90b3R5cGUgb24gdGhlIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgdG8gaW5pdGlhbGl6ZSBvbiB0aGUgcHJvdG90eXBlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgdGhpcy5fX2RhdGEgPSBPYmplY3QuY3JlYXRlKHByb3BzKTtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IE9iamVjdC5jcmVhdGUocHJvcHMpO1xuICAgICAgdGhpcy5fX2RhdGFPbGQgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBpbXBsZW1lbnRhdGlvbiB0byBhdm9pZCBzZXR0aW5nXG4gICAgICogYF9zZXRQcm9wZXJ0eWAncyBgc2hvdWxkTm90aWZ5OiB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgb24gdGhlIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZUluc3RhbmNlUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgbGV0IHJlYWRPbmx5ID0gdGhpc1tUWVBFUy5SRUFEX09OTFldO1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICBpZiAoIXJlYWRPbmx5IHx8ICFyZWFkT25seVtwcm9wXSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IHRoaXMuX19kYXRhUGVuZGluZyB8fCB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHRoaXMuX19kYXRhT2xkIHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhW3Byb3BdID0gdGhpcy5fX2RhdGFQZW5kaW5nW3Byb3BdID0gcHJvcHNbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQcm90b3R5cGUgc2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGFkZFByb3BlcnR5RWZmZWN0YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgZWZmZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIHRoaXMuX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHR5cGUgPT0gVFlQRVMuUkVBRF9PTkxZKTtcbiAgICAgIC8vIGVmZmVjdHMgYXJlIGFjY3VtdWxhdGVkIGludG8gYXJyYXlzIHBlciBwcm9wZXJ0eSBiYXNlZCBvbiB0eXBlXG4gICAgICBsZXQgZWZmZWN0cyA9IGVuc3VyZU93bkVmZmVjdE1hcCh0aGlzLCB0eXBlKVtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWVmZmVjdHMpIHtcbiAgICAgICAgZWZmZWN0cyA9IHRoaXNbdHlwZV1bcHJvcGVydHldID0gW107XG4gICAgICB9XG4gICAgICBlZmZlY3RzLnB1c2goZWZmZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBwcm9wZXJ0eSBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdGhlIGVmZmVjdCB3YXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0IHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3JlbW92ZVByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIGxldCBlZmZlY3RzID0gZW5zdXJlT3duRWZmZWN0TWFwKHRoaXMsIHR5cGUpW3Byb3BlcnR5XTtcbiAgICAgIGxldCBpZHggPSBlZmZlY3RzLmluZGV4T2YoZWZmZWN0KTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICBlZmZlY3RzLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgcHJvcGVydHkgZWZmZWN0XG4gICAgICogb2YgYSBjZXJ0YWluIHR5cGUuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHlwZSBFZmZlY3QgdHlwZSwgZnJvbSB0aGlzLlBST1BFUlRZX0VGRkVDVF9UWVBFU1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUpIHtcbiAgICAgIGxldCBlZmZlY3RzID0gdGhpc1t0eXBlXTtcbiAgICAgIHJldHVybiBCb29sZWFuKGVmZmVjdHMgJiYgZWZmZWN0c1twcm9wZXJ0eV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgXCJyZWFkIG9ubHlcIlxuICAgICAqIGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzUmVhZE9ubHlFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuUkVBRF9PTkxZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwibm90aWZ5XCJcbiAgICAgKiBwcm9wZXJ0eSBlZmZlY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNOb3RpZnlFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuTk9USUZZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwicmVmbGVjdCB0b1xuICAgICAqIGF0dHJpYnV0ZVwiIHByb3BlcnR5IGVmZmVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc1JlZmxlY3RFZmZlY3QocHJvcGVydHkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuUkVGTEVDVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBcImNvbXB1dGVkXCJcbiAgICAgKiBwcm9wZXJ0eSBlZmZlY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNDb21wdXRlZEVmZmVjdChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5DT01QVVRFKTtcbiAgICB9XG5cbiAgICAvLyBSdW50aW1lIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBwZW5kaW5nIHByb3BlcnR5IG9yIHBhdGguICBJZiB0aGUgcm9vdCBwcm9wZXJ0eSBvZiB0aGUgcGF0aCBpblxuICAgICAqIHF1ZXN0aW9uIGhhZCBubyBhY2Nlc3NvciwgdGhlIHBhdGggaXMgc2V0LCBvdGhlcndpc2UgaXQgaXMgZW5xdWV1ZWRcbiAgICAgKiB2aWEgYF9zZXRQZW5kaW5nUHJvcGVydHlgLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpc29sYXRlcyByZWxhdGl2ZWx5IGV4cGVuc2l2ZSBmdW5jdGlvbmFsaXR5IG5lY2Vzc2FyeVxuICAgICAqIGZvciB0aGUgcHVibGljIEFQSSAoYHNldGAsIGBzZXRQcm9wZXJ0aWVzYCwgYG5vdGlmeVBhdGhgLCBhbmQgcHJvcGVydHlcbiAgICAgKiBjaGFuZ2UgbGlzdGVuZXJzIHZpYSB7ey4uLn19IGJpbmRpbmdzKSwgc3VjaCB0aGF0IGl0IGlzIG9ubHkgZG9uZVxuICAgICAqIHdoZW4gcGF0aHMgZW50ZXIgdGhlIHN5c3RlbSwgYW5kIG5vdCBhdCBldmVyeSBwcm9wYWdhdGlvbiBzdGVwLiAgSXRcbiAgICAgKiBhbHNvIHNldHMgYSBgX19kYXRhSGFzUGF0aHNgIGZsYWcgb24gdGhlIGluc3RhbmNlIHdoaWNoIGlzIHVzZWQgdG9cbiAgICAgKiBmYXN0LXBhdGggc2xvd2VyIHBhdGgtbWF0Y2hpbmcgY29kZSBpbiB0aGUgcHJvcGVydHkgZWZmZWN0cyBob3N0IHBhdGhzLlxuICAgICAqXG4gICAgICogYHBhdGhgIGNhbiBiZSBhIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHBhdGggcGFydHMgYXMgYWNjZXB0ZWQgYnkgdGhlXG4gICAgICogcHVibGljIEFQSS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PG51bWJlcnxzdHJpbmc+fSBwYXRoIFBhdGggdG8gc2V0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGROb3RpZnkgU2V0IHRvIHRydWUgaWYgdGhpcyBjaGFuZ2Ugc2hvdWxkXG4gICAgICogIGNhdXNlIGEgcHJvcGVydHkgbm90aWZpY2F0aW9uIGV2ZW50IGRpc3BhdGNoXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gaXNQYXRoTm90aWZpY2F0aW9uIElmIHRoZSBwYXRoIGJlaW5nIHNldCBpcyBhIHBhdGhcbiAgICAgKiAgIG5vdGlmaWNhdGlvbiBvZiBhbiBhbHJlYWR5IGNoYW5nZWQgdmFsdWUsIGFzIG9wcG9zZWQgdG8gYSByZXF1ZXN0XG4gICAgICogICB0byBzZXQgYW5kIG5vdGlmeSB0aGUgY2hhbmdlLiAgSW4gdGhlIGxhdHRlciBgZmFsc2VgIGNhc2UsIGEgZGlydHlcbiAgICAgKiAgIGNoZWNrIGlzIHBlcmZvcm1lZCBhbmQgdGhlbiB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSBwYXRoIGJlZm9yZVxuICAgICAqICAgZW5xdWV1aW5nIHRoZSBwZW5kaW5nIHByb3BlcnR5IGNoYW5nZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3BlcnR5L3BhdGggd2FzIGVucXVldWVkIGluXG4gICAgICogICB0aGUgcGVuZGluZyBjaGFuZ2VzIGJhZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwYXRoLCB2YWx1ZSwgc2hvdWxkTm90aWZ5LCBpc1BhdGhOb3RpZmljYXRpb24pIHtcbiAgICAgIGlmIChpc1BhdGhOb3RpZmljYXRpb24gfHxcbiAgICAgICAgICByb290KEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoWzBdIDogcGF0aCkgIT09IHBhdGgpIHtcbiAgICAgICAgLy8gRGlydHkgY2hlY2sgY2hhbmdlcyBiZWluZyBzZXQgdG8gYSBwYXRoIGFnYWluc3QgdGhlIGFjdHVhbCBvYmplY3QsXG4gICAgICAgIC8vIHNpbmNlIHRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciBwYXRocyBpbnRvIHRoZSBzeXN0ZW07IGZyb20gaGVyZVxuICAgICAgICAvLyB0aGUgb25seSBkaXJ0eSBjaGVja3MgYXJlIGFnYWluc3QgdGhlIGBfX2RhdGFUZW1wYCBjYWNoZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGR1cGxpY2F0ZSB3b3JrIGluIHRoZSBzYW1lIHR1cm4gb25seS4gTm90ZSwgaWYgdGhpcyB3YXMgYSBub3RpZmljYXRpb25cbiAgICAgICAgLy8gb2YgYSBjaGFuZ2UgYWxyZWFkeSBzZXQgdG8gYSBwYXRoIChpc1BhdGhOb3RpZmljYXRpb246IHRydWUpLFxuICAgICAgICAvLyB3ZSBhbHdheXMgbGV0IHRoZSBjaGFuZ2UgdGhyb3VnaCBhbmQgc2tpcCB0aGUgYHNldGAgc2luY2UgaXQgd2FzXG4gICAgICAgIC8vIGFscmVhZHkgZGlydHkgY2hlY2tlZCBhdCB0aGUgcG9pbnQgb2YgZW50cnkgYW5kIHRoZSB1bmRlcmx5aW5nXG4gICAgICAgIC8vIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIHVwZGF0ZWRcbiAgICAgICAgaWYgKCFpc1BhdGhOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICBsZXQgb2xkID0gZ2V0KHRoaXMsIHBhdGgpO1xuICAgICAgICAgIHBhdGggPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHNldCh0aGlzLCBwYXRoLCB2YWx1ZSkpO1xuICAgICAgICAgIC8vIFVzZSBwcm9wZXJ0eS1hY2Nlc3NvcidzIHNpbXBsZXIgZGlydHkgY2hlY2tcbiAgICAgICAgICBpZiAoIXBhdGggfHwgIXN1cGVyLl9zaG91bGRQcm9wZXJ0eUNoYW5nZShwYXRoLCB2YWx1ZSwgb2xkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fZGF0YUhhc1BhdGhzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eSgvKipAdHlwZXtzdHJpbmd9Ki8ocGF0aCksIHZhbHVlLCBzaG91bGROb3RpZnkpKSB7XG4gICAgICAgICAgY29tcHV0ZUxpbmtlZFBhdGhzKHRoaXMsIC8qKkB0eXBle3N0cmluZ30qLyAocGF0aCksIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuX19kYXRhSGFzQWNjZXNzb3IgJiYgdGhpcy5fX2RhdGFIYXNBY2Nlc3NvcltwYXRoXSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkoLyoqQHR5cGV7c3RyaW5nfSovKHBhdGgpLCB2YWx1ZSwgc2hvdWxkTm90aWZ5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzW3BhdGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgdmFsdWUgdG8gYSBub24tUG9seW1lciBlbGVtZW50L25vZGUncyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBpbXBsZW1lbnRhdGlvbiBtYWtlcyBhIGJlc3QtZWZmb3J0IGF0IGJpbmRpbmcgaW50ZXJvcDpcbiAgICAgKiBTb21lIG5hdGl2ZSBlbGVtZW50IHByb3BlcnRpZXMgaGF2ZSBzaWRlLWVmZmVjdHMgd2hlblxuICAgICAqIHJlLXNldHRpbmcgdGhlIHNhbWUgdmFsdWUgKGUuZy4gc2V0dGluZyBgPGlucHV0Pi52YWx1ZWAgcmVzZXRzIHRoZVxuICAgICAqIGN1cnNvciBwb3NpdGlvbiksIHNvIHdlIGRvIGEgZGlydHktY2hlY2sgYmVmb3JlIHNldHRpbmcgdGhlIHZhbHVlLlxuICAgICAqIEhvd2V2ZXIsIGZvciBiZXR0ZXIgaW50ZXJvcCB3aXRoIG5vbi1Qb2x5bWVyIGN1c3RvbSBlbGVtZW50cyB0aGF0XG4gICAgICogYWNjZXB0IG9iamVjdHMsIHdlIGV4cGxpY2l0bHkgcmUtc2V0IG9iamVjdCBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZVxuICAgICAqIFBvbHltZXIgd29ybGQgKHdoaWNoIG1heSBpbmNsdWRlIGRlZXAgb2JqZWN0IGNoYW5nZXMgd2l0aG91dCB0aGVcbiAgICAgKiB0b3AgcmVmZXJlbmNlIGNoYW5naW5nKSwgZXJyaW5nIG9uIHRoZSBzaWRlIG9mIHByb3ZpZGluZyBtb3JlXG4gICAgICogaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZSBhbHRlcm5hdGUgYXBwcm9hY2hlcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gc2V0IGEgcHJvcGVydHkgb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBUaGUgcHJvcGVydHkgdG8gc2V0XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgICAvLyBJdCBpcyBhIGp1ZGdtZW50IGNhbGwgdGhhdCByZXNldHRpbmcgcHJpbWl0aXZlcyBpc1xuICAgICAgLy8gXCJiYWRcIiBhbmQgcmVzZXR0aW5ncyBvYmplY3RzIGlzIGFsc28gXCJnb29kXCI7IGFsdGVybmF0aXZlbHkgd2UgY291bGRcbiAgICAgIC8vIGltcGxlbWVudCBhIHdoaXRlbGlzdCBvZiB0YWcgJiBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBzaG91bGQgbmV2ZXJcbiAgICAgIC8vIGJlIHJlc2V0IChlLmcuIDxpbnB1dD4udmFsdWUgJiYgPHNlbGVjdD4udmFsdWUpXG4gICAgICBpZiAodmFsdWUgIT09IG5vZGVbcHJvcF0gfHwgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vdGUsIGNsYXNzTmFtZSBuZWVkcyBzdHlsZSBzY29waW5nIHNvIHRoaXMgbmVlZHMgd3JhcHBpbmcuXG4gICAgICAgIGlmIChwcm9wID09PSAnY2xhc3NOYW1lJykge1xuICAgICAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFOb2RlfSAqLyh3cmFwKG5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBgUHJvcGVydGllc0NoYW5nZWRgIGltcGxlbWVudGF0aW9uIHRvIGludHJvZHVjZSBzcGVjaWFsXG4gICAgICogZGlydHkgY2hlY2sgbG9naWMgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSAmIHZhbHVlIGJlaW5nIHNldDpcbiAgICAgKlxuICAgICAqIDEuIEFueSB2YWx1ZSBzZXQgdG8gYSBwYXRoIChlLmcuICdvYmoucHJvcCc6IDQyIG9yICdvYmoucHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAsIGRpcnR5IGNoZWNrZWQgYWdhaW5zdCBgX19kYXRhVGVtcGBcbiAgICAgKiAyLiBPYmplY3Qgc2V0IHRvIHNpbXBsZSBwcm9wZXJ0eSAoZS5nLiAncHJvcCc6IHsuLi59KVxuICAgICAqICAgIFN0b3JlZCBpbiBgX19kYXRhVGVtcGAgYW5kIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3RcbiAgICAgKiAgICBgX19kYXRhVGVtcGAgYnkgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgX3Nob3VsZFByb3BlcnR5Q2hhbmdlYFxuICAgICAqIDMuIFByaW1pdGl2ZSB2YWx1ZSBzZXQgdG8gc2ltcGxlIHByb3BlcnR5IChlLmcuICdwcm9wJzogNDIpXG4gICAgICogICAgU3RvcmVkIGluIGBfX2RhdGFgLCBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYF9fZGF0YWBcbiAgICAgKlxuICAgICAqIFRoZSBkaXJ0eS1jaGVjayBpcyBpbXBvcnRhbnQgdG8gcHJldmVudCBjeWNsZXMgZHVlIHRvIHR3by13YXlcbiAgICAgKiBub3RpZmljYXRpb24sIGJ1dCBwYXRocyBhbmQgb2JqZWN0cyBhcmUgb25seSBkaXJ0eSBjaGVja2VkIGFnYWluc3QgYW55XG4gICAgICogcHJldmlvdXMgdmFsdWUgc2V0IGR1cmluZyB0aGlzIHR1cm4gdmlhIGEgXCJ0ZW1wb3JhcnkgY2FjaGVcIiB0aGF0IGlzXG4gICAgICogY2xlYXJlZCB3aGVuIHRoZSBsYXN0IGBfcHJvcGVydGllc0NoYW5nZWRgIGV4aXRzLiBUaGlzIGlzIHNvOlxuICAgICAqIGEuIGFueSBjYWNoZWQgYXJyYXkgcGF0aHMgKGUuZy4gJ2FycmF5LjMucHJvcCcpIG1heSBiZSBpbnZhbGlkYXRlZFxuICAgICAqICAgIGR1ZSB0byBhcnJheSBtdXRhdGlvbnMgbGlrZSBzaGlmdC91bnNoaWZ0L3NwbGljZTsgdGhpcyBpcyBmaW5lXG4gICAgICogICAgc2luY2UgcGF0aCBjaGFuZ2VzIGFyZSBkaXJ0eS1jaGVja2VkIGF0IHVzZXIgZW50cnkgcG9pbnRzIGxpa2UgYHNldGBcbiAgICAgKiBiLiBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBvbmx5IGxhc3RzIG9uZSB0dXJuIHRvIGFsbG93IHRoZSB1c2VyXG4gICAgICogICAgdG8gbXV0YXRlIHRoZSBvYmplY3QgaW4tcGxhY2UgYW5kIHJlLXNldCBpdCB3aXRoIHRoZSBzYW1lIGlkZW50aXR5XG4gICAgICogICAgYW5kIGhhdmUgYWxsIHN1Yi1wcm9wZXJ0aWVzIHJlLXByb3BhZ2F0ZWQgaW4gYSBzdWJzZXF1ZW50IHR1cm4uXG4gICAgICpcbiAgICAgKiBUaGUgdGVtcCBjYWNoZSBpcyBub3QgbmVjZXNzYXJpbHkgc3VmZmljaWVudCB0byBwcmV2ZW50IGludmFsaWQgYXJyYXlcbiAgICAgKiBwYXRocywgc2luY2UgYSBzcGxpY2UgY2FuIGhhcHBlbiBkdXJpbmcgdGhlIHNhbWUgdHVybiAod2l0aCBwYXRob2xvZ2ljYWxcbiAgICAgKiB1c2VyIGNvZGUpOyB3ZSBjb3VsZCBpbnRyb2R1Y2UgYSBcImZpeHVwXCIgZm9yIHRlbXBvcmFyaWx5IGNhY2hlZCBhcnJheVxuICAgICAqIHBhdGhzIGlmIG5lZWRlZDogaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci9pc3N1ZXMvNDIyN1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGROb3RpZnkgVHJ1ZSBpZiBwcm9wZXJ0eSBzaG91bGQgZmlyZSBub3RpZmljYXRpb25cbiAgICAgKiAgIGV2ZW50IChhcHBsaWVzIG9ubHkgZm9yIGBub3RpZnk6IHRydWVgIHByb3BlcnRpZXMpXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIHNob3VsZE5vdGlmeSkge1xuICAgICAgbGV0IHByb3BJc1BhdGggPSB0aGlzLl9fZGF0YUhhc1BhdGhzICYmIGlzUGF0aChwcm9wZXJ0eSk7XG4gICAgICBsZXQgcHJldlByb3BzID0gcHJvcElzUGF0aCA/IHRoaXMuX19kYXRhVGVtcCA6IHRoaXMuX19kYXRhO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgcHJldlByb3BzW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSBvbGQgaXMgY2FwdHVyZWQgZnJvbSB0aGUgbGFzdCB0dXJuXG4gICAgICAgIGlmICghKHByb3BlcnR5IGluIHRoaXMuX19kYXRhT2xkKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkW3Byb3BlcnR5XSA9IHRoaXMuX19kYXRhW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXRocyBhcmUgc3RvcmVkIGluIHRlbXBvcmFyeSBjYWNoZSAoY2xlYXJlZCBhdCBlbmQgb2YgdHVybiksXG4gICAgICAgIC8vIHdoaWNoIGlzIHVzZWQgZm9yIGRpcnR5LWNoZWNraW5nLCBhbGwgb3RoZXJzIHN0b3JlZCBpbiBfX2RhdGFcbiAgICAgICAgaWYgKHByb3BJc1BhdGgpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVRlbXBbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIGNoYW5nZXMgZ28gaW50byBwZW5kaW5nIHByb3BlcnR5IGJhZywgcGFzc2VkIHRvIF9wcm9wZXJ0aWVzQ2hhbmdlZFxuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIC8vIFRyYWNrIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgbm90aWZ5IHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKHByb3BJc1BhdGggfHwgKHRoaXNbVFlQRVMuTk9USUZZXSAmJiB0aGlzW1RZUEVTLk5PVElGWV1bcHJvcGVydHldKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnkgPSB0aGlzLl9fZGF0YVRvTm90aWZ5IHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnlbcHJvcGVydHldID0gc2hvdWxkTm90aWZ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBiYXNlIGltcGxlbWVudGF0aW9uIHRvIGVuc3VyZSBhbGwgYWNjZXNzb3JzIHNldCBgc2hvdWxkTm90aWZ5YFxuICAgICAqIHRvIHRydWUsIGZvciBwZXItcHJvcGVydHkgbm90aWZpY2F0aW9uIHRyYWNraW5nLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlLCB0cnVlKSkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcmAncyBkZWZhdWx0IGFzeW5jIHF1ZXVpbmcgb2ZcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYDogaWYgYF9fZGF0YVJlYWR5YCBpcyBmYWxzZSAoaGFzIG5vdCB5ZXQgYmVlblxuICAgICAqIG1hbnVhbGx5IGZsdXNoZWQpLCB0aGUgZnVuY3Rpb24gbm8tb3BzOyBvdGhlcndpc2UgZmx1c2hlc1xuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgIHN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbnZhbGlkYXRlUHJvcGVydGllcygpIHtcbiAgICAgIGlmICh0aGlzLl9fZGF0YVJlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVucXVldWVzIHRoZSBnaXZlbiBjbGllbnQgb24gYSBsaXN0IG9mIHBlbmRpbmcgY2xpZW50cywgd2hvc2VcbiAgICAgKiBwZW5kaW5nIHByb3BlcnR5IGNoYW5nZXMgY2FuIGxhdGVyIGJlIGZsdXNoZWQgdmlhIGEgY2FsbCB0b1xuICAgICAqIGBfZmx1c2hDbGllbnRzYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjbGllbnQgUHJvcGVydHlFZmZlY3RzIGNsaWVudCB0byBlbnF1ZXVlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2VucXVldWVDbGllbnQoY2xpZW50KSB7XG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cyB8fCBbXTtcbiAgICAgIGlmIChjbGllbnQgIT09IHRoaXMpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cy5wdXNoKGNsaWVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHN1cGVyY2xhc3MgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfZmx1c2hQcm9wZXJ0aWVzKCkge1xuICAgICAgdGhpcy5fX2RhdGFDb3VudGVyKys7XG4gICAgICBzdXBlci5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB0aGlzLl9fZGF0YUNvdW50ZXItLTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIGFueSBjbGllbnRzIHByZXZpb3VzbHkgZW5xdWV1ZWQgdmlhIGBfZW5xdWV1ZUNsaWVudGAsIGNhdXNpbmdcbiAgICAgKiB0aGVpciBgX2ZsdXNoUHJvcGVydGllc2AgbWV0aG9kIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mbHVzaENsaWVudHMoKSB7XG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX19kYXRhQ2xpZW50c1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVhZHlDbGllbnRzKCk7XG4gICAgICAgIC8vIE92ZXJyaWRlIHBvaW50IHdoZXJlIGFjY2Vzc29ycyBhcmUgdHVybmVkIG9uOyBpbXBvcnRhbnRseSxcbiAgICAgICAgLy8gdGhpcyBpcyBhZnRlciBjbGllbnRzIGhhdmUgZnVsbHkgcmVhZGllZCwgcHJvdmlkaW5nIGEgZ3VhcmFudGVlXG4gICAgICAgIC8vIHRoYXQgYW55IHByb3BlcnR5IGVmZmVjdHMgb2NjdXIgb25seSBhZnRlciBhbGwgY2xpZW50cyBhcmUgcmVhZHkuXG4gICAgICAgIHRoaXMuX19kYXRhUmVhZHkgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2VuYWJsZU9yRmx1c2hDbGllbnRzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTk9URTogV2UgZW5zdXJlIGNsaWVudHMgZWl0aGVyIGVuYWJsZSBvciBmbHVzaCBhcyBhcHByb3ByaWF0ZS4gVGhpc1xuICAgIC8vIGhhbmRsZXMgdHdvIGNvcm5lciBjYXNlczpcbiAgICAvLyAoMSkgY2xpZW50cyBmbHVzaCBwcm9wZXJseSB3aGVuIGNvbm5lY3RlZC9lbmFibGVkIGJlZm9yZSB0aGUgaG9zdFxuICAgIC8vIGVuYWJsZXM7IGUuZy5cbiAgICAvLyAgIChhKSBUZW1wbGF0aXplIHN0YW1wcyB3aXRoIG5vIHByb3BlcnRpZXMgYW5kIGRvZXMgbm90IGZsdXNoIGFuZFxuICAgIC8vICAgKGIpIHRoZSBpbnN0YW5jZSBpcyBpbnNlcnRlZCBpbnRvIGRvbSBhbmRcbiAgICAvLyAgIChjKSB0aGVuIHRoZSBpbnN0YW5jZSBmbHVzaGVzLlxuICAgIC8vICgyKSBjbGllbnRzIGVuYWJsZSBwcm9wZXJseSB3aGVuIG5vdCBjb25uZWN0ZWQvZW5hYmxlZCB3aGVuIHRoZSBob3N0XG4gICAgLy8gZmx1c2hlczsgZS5nLlxuICAgIC8vICAgKGEpIGEgdGVtcGxhdGUgaXMgcnVudGltZSBzdGFtcGVkIGFuZCBub3QgeWV0IGNvbm5lY3RlZC9lbmFibGVkXG4gICAgLy8gICAoYikgYSBob3N0IHNldHMgYSBwcm9wZXJ0eSwgY2F1c2luZyBzdGFtcGVkIGRvbSB0byBmbHVzaFxuICAgIC8vICAgKGMpIHRoZSBzdGFtcGVkIGRvbSBlbmFibGVzLlxuICAgIF9fZW5hYmxlT3JGbHVzaENsaWVudHMoKSB7XG4gICAgICBsZXQgY2xpZW50cyA9IHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHM7XG4gICAgICBpZiAoY2xpZW50cykge1xuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgY2xpZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBjbGllbnQgPSBjbGllbnRzW2ldO1xuICAgICAgICAgIGlmICghY2xpZW50Ll9fZGF0YUVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2xpZW50Ll9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICAgIGNsaWVudC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhbnkgaW5pdGlhbCBzZXR1cCBvbiBjbGllbnQgZG9tLiBDYWxsZWQgYmVmb3JlIHRoZSBmaXJzdFxuICAgICAqIGBfZmx1c2hQcm9wZXJ0aWVzYCBjYWxsIG9uIGNsaWVudCBkb20gYW5kIGJlZm9yZSBhbnkgZWxlbWVudFxuICAgICAqIG9ic2VydmVycyBhcmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3JlYWR5Q2xpZW50cygpIHtcbiAgICAgIHRoaXMuX19lbmFibGVPckZsdXNoQ2xpZW50cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBiYWcgb2YgcHJvcGVydHkgY2hhbmdlcyB0byB0aGlzIGluc3RhbmNlLCBhbmRcbiAgICAgKiBzeW5jaHJvbm91c2x5IHByb2Nlc3NlcyBhbGwgZWZmZWN0cyBvZiB0aGUgcHJvcGVydGllcyBhcyBhIGJhdGNoLlxuICAgICAqXG4gICAgICogUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzaW1wbGUgcHJvcGVydGllcywgbm90IHBhdGhzLiAgQmF0Y2hlZFxuICAgICAqIHBhdGggcHJvcGFnYXRpb24gaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2Ygb25lIG9yIG1vcmUga2V5LXZhbHVlIHBhaXJzIHdob3NlIGtleSBpc1xuICAgICAqICAgYSBwcm9wZXJ0eSBhbmQgdmFsdWUgaXMgdGhlIG5ldyB2YWx1ZSB0byBzZXQgZm9yIHRoYXQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gc2V0UmVhZE9ubHkgV2hlbiB0cnVlLCBhbnkgcHJpdmF0ZSB2YWx1ZXMgc2V0IGluXG4gICAgICogICBgcHJvcHNgIHdpbGwgYmUgc2V0LiBCeSBkZWZhdWx0LCBgc2V0UHJvcGVydGllc2Agd2lsbCBub3Qgc2V0XG4gICAgICogICBgcmVhZE9ubHk6IHRydWVgIHJvb3QgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0aWVzKHByb3BzLCBzZXRSZWFkT25seSkge1xuICAgICAgZm9yIChsZXQgcGF0aCBpbiBwcm9wcykge1xuICAgICAgICBpZiAoc2V0UmVhZE9ubHkgfHwgIXRoaXNbVFlQRVMuUkVBRF9PTkxZXSB8fCAhdGhpc1tUWVBFUy5SRUFEX09OTFldW3BhdGhdKSB7XG4gICAgICAgICAgLy9UT0RPKGtzY2hhYWYpOiBleHBsaWNpdGx5IGRpc2FsbG93IHBhdGhzIGluIHNldFByb3BlcnR5P1xuICAgICAgICAgIC8vIHdpbGRjYXJkIG9ic2VydmVycyBjdXJyZW50bHkgb25seSBwYXNzIHRoZSBmaXJzdCBjaGFuZ2VkIHBhdGhcbiAgICAgICAgICAvLyBpbiB0aGUgYGluZm9gIG9iamVjdCwgYW5kIHlvdSBjb3VsZCBkbyBzb21lIG9kZCB0aGluZ3MgYmF0Y2hpbmdcbiAgICAgICAgICAvLyBwYXRocywgZS5nLiB7J2Zvby5iYXInOiB7Li4ufSwgJ2Zvbyc6IG51bGx9XG4gICAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHBhdGgsIHByb3BzW3BhdGhdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBzbyB0aGF0IHByb3BlcnR5IGFjY2Vzc29yXG4gICAgICogc2lkZSBlZmZlY3RzIGFyZSBub3QgZW5hYmxlZCB1bnRpbCBhZnRlciBjbGllbnQgZG9tIGlzIGZ1bGx5IHJlYWR5LlxuICAgICAqIEFsc28gY2FsbHMgYF9mbHVzaENsaWVudHNgIGNhbGxiYWNrIHRvIGVuc3VyZSBjbGllbnQgZG9tIGlzIGVuYWJsZWRcbiAgICAgKiB0aGF0IHdhcyBub3QgZW5hYmxlZCBhcyBhIHJlc3VsdCBvZiBmbHVzaGluZyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIC8vIEl0IGlzIGltcG9ydGFudCB0aGF0IGBzdXBlci5yZWFkeSgpYCBpcyBub3QgY2FsbGVkIGhlcmUgYXMgaXRcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHR1cm5zIG9uIGFjY2Vzc29ycy4gSW5zdGVhZCwgd2Ugd2FpdCB1bnRpbCBgcmVhZHlDbGllbnRzYFxuICAgICAgLy8gdG8gZW5hYmxlIGFjY2Vzc29ycyB0byBwcm92aWRlIGEgZ3VhcmFudGVlIHRoYXQgY2xpZW50cyBhcmUgcmVhZHlcbiAgICAgIC8vIGJlZm9yZSBwcm9jZXNzaW5nIGFueSBhY2Nlc3NvcnMgc2lkZSBlZmZlY3RzLlxuICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICAvLyBJZiBubyBkYXRhIHdhcyBwZW5kaW5nLCBgX2ZsdXNoUHJvcGVydGllc2Agd2lsbCBub3QgYGZsdXNoQ2xpZW50c2BcbiAgICAgIC8vIHNvIGVuc3VyZSB0aGlzIGlzIGRvbmUuXG4gICAgICBpZiAoIXRoaXMuX19kYXRhQ2xpZW50c1JlYWR5KSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoQ2xpZW50cygpO1xuICAgICAgfVxuICAgICAgLy8gQmVmb3JlIHJlYWR5LCBjbGllbnQgbm90aWZpY2F0aW9ucyBkbyBub3QgdHJpZ2dlciBfZmx1c2hQcm9wZXJ0aWVzLlxuICAgICAgLy8gVGhlcmVmb3JlIGEgZmx1c2ggaXMgbmVjZXNzYXJ5IGhlcmUgaWYgZGF0YSBoYXMgYmVlbiBzZXQuXG4gICAgICBpZiAodGhpcy5fX2RhdGFQZW5kaW5nKSB7XG4gICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgYFByb3BlcnR5QWNjZXNzb3JzYCdzIHByb3BlcnRpZXMgY2hhbmdlZCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIFJ1bnMgZWFjaCBjbGFzcyBvZiBlZmZlY3RzIGZvciB0aGUgYmF0Y2ggb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIGluXG4gICAgICogYSBzcGVjaWZpYyBvcmRlciAoY29tcHV0ZSwgcHJvcGFnYXRlLCByZWZsZWN0LCBvYnNlcnZlLCBub3RpZnkpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcHJvcGVydGllc0NoYW5nZWQoY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyBsZXQgYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNoYW5nZWRQcm9wcyB8fCB7fSk7XG4gICAgICAvLyB3aW5kb3cuZGVidWcgJiYgY29uc29sZS5ncm91cCh0aGlzLmxvY2FsTmFtZSArICcjJyArIHRoaXMuaWQgKyAnOiAnICsgYyk7XG4gICAgICAvLyBpZiAod2luZG93LmRlYnVnKSB7IGRlYnVnZ2VyOyB9XG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICBsZXQgaGFzUGF0aHMgPSB0aGlzLl9fZGF0YUhhc1BhdGhzO1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocyA9IGZhbHNlO1xuICAgICAgLy8gQ29tcHV0ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5Db21wdXRlZEVmZmVjdHModGhpcywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gQ2xlYXIgbm90aWZ5IHByb3BlcnRpZXMgcHJpb3IgdG8gcG9zc2libGUgcmVlbnRyeSAocHJvcGFnYXRlLCBvYnNlcnZlKSxcbiAgICAgIC8vIGJ1dCBhZnRlciBjb21wdXRpbmcgZWZmZWN0cyBoYXZlIGEgY2hhbmNlIHRvIGFkZCB0byB0aGVtXG4gICAgICBsZXQgbm90aWZ5UHJvcHMgPSB0aGlzLl9fZGF0YVRvTm90aWZ5O1xuICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IG51bGw7XG4gICAgICAvLyBQcm9wYWdhdGUgcHJvcGVydGllcyB0byBjbGllbnRzXG4gICAgICB0aGlzLl9wcm9wYWdhdGVQcm9wZXJ0eUNoYW5nZXMoY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gRmx1c2ggY2xpZW50c1xuICAgICAgdGhpcy5fZmx1c2hDbGllbnRzKCk7XG4gICAgICAvLyBSZWZsZWN0IHByb3BlcnRpZXNcbiAgICAgIHJ1bkVmZmVjdHModGhpcywgdGhpc1tUWVBFUy5SRUZMRUNUXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gT2JzZXJ2ZSBwcm9wZXJ0aWVzXG4gICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuT0JTRVJWRV0sIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKTtcbiAgICAgIC8vIE5vdGlmeSBwcm9wZXJ0aWVzIHRvIGhvc3RcbiAgICAgIGlmIChub3RpZnlQcm9wcykge1xuICAgICAgICBydW5Ob3RpZnlFZmZlY3RzKHRoaXMsIG5vdGlmeVByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICB9XG4gICAgICAvLyBDbGVhciB0ZW1wb3JhcnkgY2FjaGUgYXQgZW5kIG9mIHR1cm5cbiAgICAgIGlmICh0aGlzLl9fZGF0YUNvdW50ZXIgPT0gMSkge1xuICAgICAgICB0aGlzLl9fZGF0YVRlbXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIHdpbmRvdy5kZWJ1ZyAmJiBjb25zb2xlLmdyb3VwRW5kKHRoaXMubG9jYWxOYW1lICsgJyMnICsgdGhpcy5pZCArICc6ICcgKyBjKTtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdG8gcHJvcGFnYXRlIGFueSBwcm9wZXJ0eSBjaGFuZ2VzIHRvIHN0YW1wZWQgdGVtcGxhdGUgbm9kZXNcbiAgICAgKiBtYW5hZ2VkIGJ5IHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIGNoYW5nZWQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3Byb3BhZ2F0ZVByb3BlcnR5Q2hhbmdlcyhjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAgICAgaWYgKHRoaXNbVFlQRVMuUFJPUEFHQVRFXSkge1xuICAgICAgICBydW5FZmZlY3RzKHRoaXMsIHRoaXNbVFlQRVMuUFJPUEFHQVRFXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgfVxuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgICB3aGlsZSAodGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHJ1bkVmZmVjdHModGhpcywgdGVtcGxhdGVJbmZvLnByb3BlcnR5RWZmZWN0cywgY2hhbmdlZFByb3BzLCBvbGRQcm9wcyxcbiAgICAgICAgICBoYXNQYXRocywgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvLm5leHRUZW1wbGF0ZUluZm87XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXNlcyBvbmUgZGF0YSBwYXRoIGFzIGFub3RoZXIsIHN1Y2ggdGhhdCBwYXRoIG5vdGlmaWNhdGlvbnMgZnJvbSBvbmVcbiAgICAgKiBhcmUgcm91dGVkIHRvIHRoZSBvdGhlci5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSB0byBUYXJnZXQgcGF0aCB0byBsaW5rLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBmcm9tIFNvdXJjZSBwYXRoIHRvIGxpbmsuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbGlua1BhdGhzKHRvLCBmcm9tKSB7XG4gICAgICB0byA9IG5vcm1hbGl6ZSh0byk7XG4gICAgICBmcm9tID0gbm9ybWFsaXplKGZyb20pO1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHRoaXMuX19kYXRhTGlua2VkUGF0aHMgfHwge307XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzW3RvXSA9IGZyb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRhdGEgcGF0aCBhbGlhcyBwcmV2aW91c2x5IGVzdGFibGlzaGVkIHdpdGggYF9saW5rUGF0aHNgLlxuICAgICAqXG4gICAgICogTm90ZSwgdGhlIHBhdGggdG8gdW5saW5rIHNob3VsZCBiZSB0aGUgdGFyZ2V0IChgdG9gKSB1c2VkIHdoZW5cbiAgICAgKiBsaW5raW5nIHRoZSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFRhcmdldCBwYXRoIHRvIHVubGluay5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICB1bmxpbmtQYXRocyhwYXRoKSB7XG4gICAgICBwYXRoID0gbm9ybWFsaXplKHBhdGgpO1xuICAgICAgaWYgKHRoaXMuX19kYXRhTGlua2VkUGF0aHMpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX19kYXRhTGlua2VkUGF0aHNbcGF0aF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYW4gYXJyYXkgaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHRoaXMuaXRlbXMgPSBbIHtuYW1lOiAnSmltJ30sIHtuYW1lOiAnVG9kZCd9LCB7bmFtZTogJ0JpbGwnfSBdO1xuICAgICAqICAgICAuLi5cbiAgICAgKiAgICAgdGhpcy5pdGVtcy5zcGxpY2UoMSwgMSwge25hbWU6ICdTYW0nfSk7XG4gICAgICogICAgIHRoaXMuaXRlbXMucHVzaCh7bmFtZTogJ0JvYid9KTtcbiAgICAgKiAgICAgdGhpcy5ub3RpZnlTcGxpY2VzKCdpdGVtcycsIFtcbiAgICAgKiAgICAgICB7IGluZGV4OiAxLCByZW1vdmVkOiBbe25hbWU6ICdUb2RkJ31dLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJyB9LFxuICAgICAqICAgICAgIHsgaW5kZXg6IDMsIHJlbW92ZWQ6IFtdLCBhZGRlZENvdW50OiAxLFxuICAgICAqICAgICAgICAgb2JqZWN0OiB0aGlzLml0ZW1zLCB0eXBlOiAnc3BsaWNlJ31cbiAgICAgKiAgICAgXSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRoYXQgc2hvdWxkIGJlIG5vdGlmaWVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNwbGljZXMgQXJyYXkgb2Ygc3BsaWNlIHJlY29yZHMgaW5kaWNhdGluZyBvcmRlcmVkXG4gICAgICogICBjaGFuZ2VzIHRoYXQgb2NjdXJyZWQgdG8gdGhlIGFycmF5LiBFYWNoIHJlY29yZCBzaG91bGQgaGF2ZSB0aGVcbiAgICAgKiAgIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogICAgKiBpbmRleDogaW5kZXggYXQgd2hpY2ggdGhlIGNoYW5nZSBvY2N1cnJlZFxuICAgICAqICAgICogcmVtb3ZlZDogYXJyYXkgb2YgaXRlbXMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGlzIGluZGV4XG4gICAgICogICAgKiBhZGRlZENvdW50OiBudW1iZXIgb2YgbmV3IGl0ZW1zIGFkZGVkIGF0IHRoaXMgaW5kZXhcbiAgICAgKiAgICAqIG9iamVjdDogYSByZWZlcmVuY2UgdG8gdGhlIGFycmF5IGluIHF1ZXN0aW9uXG4gICAgICogICAgKiB0eXBlOiB0aGUgc3RyaW5nIGxpdGVyYWwgJ3NwbGljZSdcbiAgICAgKlxuICAgICAqICAgTm90ZSB0aGF0IHNwbGljZSByZWNvcmRzIF9tdXN0XyBiZSBub3JtYWxpemVkIHN1Y2ggdGhhdCB0aGV5IGFyZVxuICAgICAqICAgcmVwb3J0ZWQgaW4gaW5kZXggb3JkZXIgKHJhdyByZXN1bHRzIGZyb20gYE9iamVjdC5vYnNlcnZlYCBhcmUgbm90XG4gICAgICogICBvcmRlcmVkIGFuZCBtdXN0IGJlIG5vcm1hbGl6ZWQvbWVyZ2VkIGJlZm9yZSBub3RpZnlpbmcpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgbm90aWZ5U3BsaWNlcyhwYXRoLCBzcGxpY2VzKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbm90aWZ5U3BsaWNlcyh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCBzcGxpY2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHJlYWRpbmcgYSB2YWx1ZSBmcm9tIGEgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGlzIHVuZGVmaW5lZCwgdGhpcyBtZXRob2QgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgICh0aGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyB3aGVuIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkXG4gICAgICogcGF0aHMpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfCFBcnJheTwoc3RyaW5nfG51bWJlcik+KX0gcGF0aCBQYXRoIHRvIHRoZSB2YWx1ZVxuICAgICAqICAgdG8gcmVhZC4gIFRoZSBwYXRoIG1heSBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmcgKGUuZy4gYGZvby5iYXIuYmF6YClcbiAgICAgKiAgIG9yIGFuIGFycmF5IG9mIHBhdGggcGFydHMgKGUuZy4gYFsnZm9vLmJhcicsICdiYXonXWApLiAgTm90ZSB0aGF0XG4gICAgICogICBicmFja2V0ZWQgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQ7IHN0cmluZy1iYXNlZCBwYXRoIHBhcnRzXG4gICAgICogICAqbXVzdCogYmUgc2VwYXJhdGVkIGJ5IGRvdHMuICBOb3RlIHRoYXQgd2hlbiBkZXJlZmVyZW5jaW5nIGFycmF5XG4gICAgICogICBpbmRpY2VzLCB0aGUgaW5kZXggbWF5IGJlIHVzZWQgYXMgYSBkb3R0ZWQgcGFydCBkaXJlY3RseVxuICAgICAqICAgKGUuZy4gYHVzZXJzLjEyLm5hbWVgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHJvb3QgUm9vdCBvYmplY3QgZnJvbSB3aGljaCB0aGUgcGF0aCBpcyBldmFsdWF0ZWQuXG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgYXQgdGhlIHBhdGgsIG9yIGB1bmRlZmluZWRgIGlmIGFueSBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICogICBpcyB1bmRlZmluZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGdldChwYXRoLCByb290KSB7XG4gICAgICByZXR1cm4gZ2V0KHJvb3QgfHwgdGhpcywgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzZXR0aW5nIGEgdmFsdWUgdG8gYSBwYXRoIGFuZCBub3RpZnlpbmcgYW55XG4gICAgICogZWxlbWVudHMgYm91bmQgdG8gdGhlIHNhbWUgcGF0aC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIGFueSBwYXJ0IGluIHRoZSBwYXRoIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXMgdW5kZWZpbmVkLFxuICAgICAqIHRoaXMgbWV0aG9kIGRvZXMgbm90aGluZyAodGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cgd2hlblxuICAgICAqIGRlcmVmZXJlbmNpbmcgdW5kZWZpbmVkIHBhdGhzKS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3whQXJyYXk8KHN0cmluZ3xudW1iZXIpPil9IHBhdGggUGF0aCB0byB0aGUgdmFsdWVcbiAgICAgKiAgIHRvIHdyaXRlLiAgVGhlIHBhdGggbWF5IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoZS5nLiBgJ2Zvby5iYXIuYmF6J2ApXG4gICAgICogICBvciBhbiBhcnJheSBvZiBwYXRoIHBhcnRzIChlLmcuIGBbJ2Zvby5iYXInLCAnYmF6J11gKS4gIE5vdGUgdGhhdFxuICAgICAqICAgYnJhY2tldGVkIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkOyBzdHJpbmctYmFzZWQgcGF0aCBwYXJ0c1xuICAgICAqICAgKm11c3QqIGJlIHNlcGFyYXRlZCBieSBkb3RzLiAgTm90ZSB0aGF0IHdoZW4gZGVyZWZlcmVuY2luZyBhcnJheVxuICAgICAqICAgaW5kaWNlcywgdGhlIGluZGV4IG1heSBiZSB1c2VkIGFzIGEgZG90dGVkIHBhcnQgZGlyZWN0bHlcbiAgICAgKiAgIChlLmcuIGAndXNlcnMuMTIubmFtZSdgIG9yIGBbJ3VzZXJzJywgMTIsICduYW1lJ11gKS5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCBhdCB0aGUgc3BlY2lmaWVkIHBhdGguXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSByb290IFJvb3Qgb2JqZWN0IGZyb20gd2hpY2ggdGhlIHBhdGggaXMgZXZhbHVhdGVkLlxuICAgICAqICAgV2hlbiBzcGVjaWZpZWQsIG5vIG5vdGlmaWNhdGlvbiB3aWxsIG9jY3VyLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNldChwYXRoLCB2YWx1ZSwgcm9vdCkge1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgc2V0KHJvb3QsIHBhdGgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpc1tUWVBFUy5SRUFEX09OTFldIHx8ICF0aGlzW1RZUEVTLlJFQURfT05MWV1bLyoqIEB0eXBlIHtzdHJpbmd9ICovKHBhdGgpXSkge1xuICAgICAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgdmFsdWUsIHRydWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgZW5kIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBwdXNoIG9udG8gYXJyYXlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE5ldyBsZW5ndGggb2YgdGhlIGFycmF5LlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBwdXNoKHBhdGgsIC4uLml0ZW1zKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnB1c2goLi4uaXRlbXMpO1xuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgbGVuLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGVuZCBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHBvcChwYXRoKSB7XG4gICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgbGV0IGhhZExlbmd0aCA9IEJvb2xlYW4oYXJyYXkubGVuZ3RoKTtcbiAgICAgIGxldCByZXQgPSBhcnJheS5wb3AoKTtcbiAgICAgIGlmIChoYWRMZW5ndGgpIHtcbiAgICAgICAgbm90aWZ5U3BsaWNlKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIGFycmF5Lmxlbmd0aCwgMCwgW3JldF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydGluZyBmcm9tIHRoZSBzdGFydCBpbmRleCBzcGVjaWZpZWQsIHJlbW92ZXMgMCBvciBtb3JlIGl0ZW1zXG4gICAgICogZnJvbSB0aGUgYXJyYXkgYW5kIGluc2VydHMgMCBvciBtb3JlIG5ldyBpdGVtcyBpbiB0aGVpciBwbGFjZS5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUuc3BsaWNlYC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG5vdGlmaWVzIG90aGVyIHBhdGhzIHRvIHRoZSBzYW1lIGFycmF5IHRoYXQgYVxuICAgICAqIHNwbGljZSBvY2N1cnJlZCB0byB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIGFycmF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBJbmRleCBmcm9tIHdoaWNoIHRvIHN0YXJ0IHJlbW92aW5nL2luc2VydGluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGV0ZUNvdW50IE51bWJlciBvZiBpdGVtcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW50byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgcmVtb3ZlZCBpdGVtcy5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3BsaWNlKHBhdGgsIHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGggOiAnJ307XG4gICAgICBsZXQgYXJyYXkgPSAvKiogQHR5cGUge0FycmF5fSAqLyhnZXQodGhpcywgcGF0aCwgaW5mbykpO1xuICAgICAgLy8gTm9ybWFsaXplIGZhbmN5IG5hdGl2ZSBzcGxpY2UgaGFuZGxpbmcgb2YgY3Jhenkgc3RhcnQgdmFsdWVzXG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gYXJyYXkubGVuZ3RoIC0gTWF0aC5mbG9vcigtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICBzdGFydCA9IE1hdGguZmxvb3Ioc3RhcnQpO1xuICAgICAgfVxuICAgICAgLy8gYXJyYXkuc3BsaWNlIGRvZXMgZGlmZmVyZW50IHRoaW5ncyBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50c1xuICAgICAgLy8geW91IHBhc3MgaW4uIFRoZXJlZm9yZSwgYXJyYXkuc3BsaWNlKDApIGFuZCBhcnJheS5zcGxpY2UoMCwgdW5kZWZpbmVkKVxuICAgICAgLy8gZG8gZGlmZmVyZW50IHRoaW5ncy4gSW4gdGhlIGZvcm1lciwgdGhlIHdob2xlIGFycmF5IGlzIGNsZWFyZWQuIEluIHRoZVxuICAgICAgLy8gbGF0dGVyLCBubyBpdGVtcyBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIGRldGVjdCB3aGV0aGVyIDEuIG9uZSBvZiB0aGUgYXJndW1lbnRzXG4gICAgICAvLyBpcyBhY3R1YWxseSBwYXNzZWQgaW4gYW5kIHRoZW4gMi4gZGV0ZXJtaW5lIGhvdyBtYW55IGFyZ3VtZW50c1xuICAgICAgLy8gd2Ugc2hvdWxkIHBhc3Mgb24gdG8gdGhlIG5hdGl2ZSBhcnJheS5zcGxpY2VcbiAgICAgIC8vXG4gICAgICBsZXQgcmV0O1xuICAgICAgLy8gT21pdCBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgaWYgdGhleSB3ZXJlIG5vdCBwYXNzZWQgaW5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHJldCA9IGFycmF5LnNwbGljZShzdGFydCk7XG4gICAgICAvLyBFaXRoZXIgc3RhcnQgd2FzIHVuZGVmaW5lZCBhbmQgdGhlIG90aGVycyB3ZXJlIGRlZmluZWQsIGJ1dCBpbiB0aGlzXG4gICAgICAvLyBjYXNlIHdlIGNhbiBzYWZlbHkgcGFzcyBvbiBhbGwgYXJndW1lbnRzXG4gICAgICAvL1xuICAgICAgLy8gTm90ZTogdGhpcyBpbmNsdWRlcyB0aGUgY2FzZSB3aGVyZSBub25lIG9mIHRoZSBhcmd1bWVudHMgd2VyZSBwYXNzZWQgaW4sXG4gICAgICAvLyBlLmcuIHRoaXMuc3BsaWNlKCdhcnJheScpLiBIb3dldmVyLCBpZiBib3RoIHN0YXJ0IGFuZCBkZWxldGVDb3VudFxuICAgICAgLy8gYXJlIHVuZGVmaW5lZCwgYXJyYXkuc3BsaWNlIHdpbGwgbm90IG1vZGlmeSB0aGUgYXJyYXkgKGFzIGV4cGVjdGVkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0ID0gYXJyYXkuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpO1xuICAgICAgfVxuICAgICAgLy8gQXQgdGhlIGVuZCwgY2hlY2sgd2hldGhlciBhbnkgaXRlbXMgd2VyZSBwYXNzZWQgaW4gKGUuZy4gaW5zZXJ0aW9ucylcbiAgICAgIC8vIG9yIGlmIHRoZSByZXR1cm4gYXJyYXkgY29udGFpbnMgaXRlbXMgKGUuZy4gZGVsZXRpb25zKS5cbiAgICAgIC8vIE9ubHkgbm90aWZ5IGlmIGl0ZW1zIHdlcmUgYWRkZWQgb3IgZGVsZXRlZC5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGggfHwgcmV0Lmxlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgc3RhcnQsIGl0ZW1zLmxlbmd0aCwgcmV0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnBvcGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcmV0dXJuIHsqfSBJdGVtIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNoaWZ0KHBhdGgpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgaGFkTGVuZ3RoID0gQm9vbGVhbihhcnJheS5sZW5ndGgpO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnNoaWZ0KCk7XG4gICAgICBpZiAoaGFkTGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCAwLCBbcmV0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgaXRlbXMgb250byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhdCB0aGUgcGF0aCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBUaGUgYXJndW1lbnRzIGFmdGVyIGBwYXRoYCBhbmQgcmV0dXJuIHZhbHVlIG1hdGNoIHRoYXQgb2ZcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLnB1c2hgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBpdGVtcyBJdGVtcyB0byBpbnNlcnQgaW5mbyBhcnJheVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgYXJyYXkuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHVuc2hpZnQocGF0aCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgcmV0ID0gYXJyYXkudW5zaGlmdCguLi5pdGVtcyk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCAwLCBpdGVtcy5sZW5ndGgsIFtdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoYXQgYSBwYXRoIGhhcyBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgICB0aGlzLml0ZW0udXNlci5uYW1lID0gJ0JvYic7XG4gICAgICogICAgIHRoaXMubm90aWZ5UGF0aCgnaXRlbS51c2VyLm5hbWUnKTtcbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdGhhdCBzaG91bGQgYmUgbm90aWZpZWQuXG4gICAgICogQHBhcmFtIHsqPX0gdmFsdWUgVmFsdWUgYXQgdGhlIHBhdGggKG9wdGlvbmFsKS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBub3RpZnlQYXRoKHBhdGgsIHZhbHVlKSB7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIGxldCBwcm9wUGF0aDtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgLy8gR2V0IHZhbHVlIGlmIG5vdCBzdXBwbGllZFxuICAgICAgICBsZXQgaW5mbyA9IHtwYXRoOiAnJ307XG4gICAgICAgIHZhbHVlID0gZ2V0KHRoaXMsIHBhdGgsIGluZm8pO1xuICAgICAgICBwcm9wUGF0aCA9IGluZm8ucGF0aDtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgICAgICAvLyBOb3JtYWxpemUgcGF0aCBpZiBuZWVkZWRcbiAgICAgICAgcHJvcFBhdGggPSBub3JtYWxpemUocGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wUGF0aCA9IC8qKiBAdHlwZXtzdHJpbmd9ICovKHBhdGgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwcm9wUGF0aCwgdmFsdWUsIHRydWUsIHRydWUpKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZVJlYWRPbmx5UHJvcGVydHlgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcHJvdGVjdGVkU2V0dGVyIENyZWF0ZXMgYSBjdXN0b20gcHJvdGVjdGVkIHNldHRlclxuICAgICAqICAgd2hlbiBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcikge1xuICAgICAgdGhpcy5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFQURfT05MWSk7XG4gICAgICBpZiAocHJvdGVjdGVkU2V0dGVyKSB7XG4gICAgICAgIHRoaXNbJ19zZXQnICsgdXBwZXIocHJvcGVydHkpXSA9IC8qKiBAdGhpcyB7UHJvcGVydHlFZmZlY3RzfSAqL2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgY3JlYXRlUHJvcGVydHlPYnNlcnZlcmAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xmdW5jdGlvbigqLCopfSBtZXRob2QgRnVuY3Rpb24gb3IgbmFtZSBvZiBvYnNlcnZlciBtZXRob2RcbiAgICAgKiAgICAgdG8gY2FsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGR5bmFtaWNGbiBXaGV0aGVyIHRoZSBtZXRob2QgbmFtZSBzaG91bGQgYmUgaW5jbHVkZWQgYXNcbiAgICAgKiAgIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbikge1xuICAgICAgbGV0IGluZm8gPSB7IHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbjogQm9vbGVhbihkeW5hbWljRm4pIH07XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICBmbjogcnVuT2JzZXJ2ZXJFZmZlY3QsIGluZm8sIHRyaWdnZXI6IHtuYW1lOiBwcm9wZXJ0eX1cbiAgICAgIH0pO1xuICAgICAgaWYgKGR5bmFtaWNGbikge1xuICAgICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdCgvKiogQHR5cGUge3N0cmluZ30gKi8obWV0aG9kKSwgVFlQRVMuT0JTRVJWRSwge1xuICAgICAgICAgIGZuOiBydW5PYnNlcnZlckVmZmVjdCwgaW5mbywgdHJpZ2dlcjoge25hbWU6IG1ldGhvZH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZU1ldGhvZE9ic2VydmVyYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTWV0aG9kT2JzZXJ2ZXIoZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgb2JzZXJ2ZXIgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuT0JTRVJWRSwgcnVuTWV0aG9kRWZmZWN0LCBudWxsLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5OT1RJRlksIHtcbiAgICAgICAgZm46IHJ1bk5vdGlmeUVmZmVjdCxcbiAgICAgICAgaW5mbzoge1xuICAgICAgICAgIGV2ZW50TmFtZTogY2FtZWxUb0Rhc2hDYXNlKHByb3BlcnR5KSArICctY2hhbmdlZCcsXG4gICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgbGV0IGF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICBpZiAoYXR0clswXSA9PT0gJy0nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUHJvcGVydHkgJyArIHByb3BlcnR5ICsgJyBjYW5ub3QgYmUgcmVmbGVjdGVkIHRvIGF0dHJpYnV0ZSAnICtcbiAgICAgICAgICBhdHRyICsgJyBiZWNhdXNlIFwiLVwiIGlzIG5vdCBhIHZhbGlkIHN0YXJ0aW5nIGF0dHJpYnV0ZSBuYW1lLiBVc2UgYSBsb3dlcmNhc2UgZmlyc3QgbGV0dGVyIGZvciB0aGUgcHJvcGVydHkgaW5zdGVhZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5SRUZMRUNULCB7XG4gICAgICAgICAgZm46IHJ1blJlZmxlY3RFZmZlY3QsXG4gICAgICAgICAgaW5mbzoge1xuICAgICAgICAgICAgYXR0ck5hbWU6IGF0dHJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVDb21wdXRlZFByb3BlcnR5YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiAgIHdoZXRoZXIgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShwcm9wZXJ0eSwgZXhwcmVzc2lvbiwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgc2lnID0gcGFyc2VNZXRob2QoZXhwcmVzc2lvbik7XG4gICAgICBpZiAoIXNpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgY29tcHV0ZWQgZXhwcmVzc2lvbiAnXCIgKyBleHByZXNzaW9uICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgY3JlYXRlTWV0aG9kRWZmZWN0KHRoaXMsIHNpZywgVFlQRVMuQ09NUFVURSwgcnVuQ29tcHV0ZWRFZmZlY3QsIHByb3BlcnR5LCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdhdGhlciB0aGUgYXJndW1lbnQgdmFsdWVzIGZvciBhIG1ldGhvZCBzcGVjaWZpZWQgaW4gdGhlIHByb3ZpZGVkIGFycmF5XG4gICAgICogb2YgYXJndW1lbnQgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBUaGUgYHBhdGhgIGFuZCBgdmFsdWVgIGFyZ3VtZW50cyBhcmUgdXNlZCB0byBmaWxsIGluIHdpbGRjYXJkIGRlc2NyaXB0b3JcbiAgICAgKiB3aGVuIHRoZSBtZXRob2QgaXMgYmVpbmcgY2FsbGVkIGFzIGEgcmVzdWx0IG9mIGEgcGF0aCBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFBcnJheTwhTWV0aG9kQXJnPn0gYXJncyBBcnJheSBvZiBhcmd1bWVudCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFByb3BlcnR5L3BhdGggbmFtZSB0aGF0IHRyaWdnZXJlZCB0aGUgbWV0aG9kIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICogQHJldHVybiB7QXJyYXk8Kj59IEFycmF5IG9mIGFyZ3VtZW50IHZhbHVlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX21hcnNoYWxBcmdzKGFyZ3MsIHBhdGgsIHByb3BzKSB7XG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5fX2RhdGE7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGk9MCwgbD1hcmdzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgbGV0IHtuYW1lLCBzdHJ1Y3R1cmVkLCB3aWxkY2FyZCwgdmFsdWUsIGxpdGVyYWx9ID0gYXJnc1tpXTtcbiAgICAgICAgaWYgKCFsaXRlcmFsKSB7XG4gICAgICAgICAgaWYgKHdpbGRjYXJkKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gaXNEZXNjZW5kYW50KG5hbWUsIHBhdGgpO1xuICAgICAgICAgICAgY29uc3QgcGF0aFZhbHVlID0gZ2V0QXJnVmFsdWUoZGF0YSwgcHJvcHMsIG1hdGNoZXMgPyBwYXRoIDogbmFtZSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgcGF0aDogbWF0Y2hlcyA/IHBhdGggOiBuYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogcGF0aFZhbHVlLFxuICAgICAgICAgICAgICBiYXNlOiBtYXRjaGVzID8gZ2V0KGRhdGEsIG5hbWUpIDogcGF0aFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cnVjdHVyZWQgPyBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgbmFtZSkgOiBkYXRhW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgLy8gLS0gc3RhdGljIGNsYXNzIG1ldGhvZHMgLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGFjY2Vzc29yIGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSwgYW5kIGFkZHNcbiAgICAgKiB0byBhIGxpc3Qgb2YgXCJwcm9wZXJ0eSBlZmZlY3RzXCIgdGhhdCB3aWxsIHJ1biB3aGVuIHRoZSBhY2Nlc3NvciBmb3JcbiAgICAgKiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IGlzIHNldC4gIEVmZmVjdHMgYXJlIGdyb3VwZWQgYnkgXCJ0eXBlXCIsIHdoaWNoXG4gICAgICogcm91Z2hseSBjb3JyZXNwb25kcyB0byBhIHBoYXNlIGluIGVmZmVjdCBwcm9jZXNzaW5nLiAgVGhlIGVmZmVjdFxuICAgICAqIG1ldGFkYXRhIHNob3VsZCBiZSBpbiB0aGUgZm9sbG93aW5nIGZvcm06XG4gICAgICpcbiAgICAgKiAgICAge1xuICAgICAqICAgICAgIGZuOiBlZmZlY3RGdW5jdGlvbiwgLy8gUmVmZXJlbmNlIHRvIGZ1bmN0aW9uIHRvIGNhbGwgdG8gcGVyZm9ybSBlZmZlY3RcbiAgICAgKiAgICAgICBpbmZvOiB7IC4uLiB9ICAgICAgIC8vIEVmZmVjdCBtZXRhZGF0YSBwYXNzZWQgdG8gZnVuY3Rpb25cbiAgICAgKiAgICAgICB0cmlnZ2VyOiB7ICAgICAgICAgIC8vIE9wdGlvbmFsIHRyaWdnZXJpbmcgbWV0YWRhdGE7IGlmIG5vdCBwcm92aWRlZFxuICAgICAqICAgICAgICAgbmFtZTogc3RyaW5nICAgICAgLy8gdGhlIHByb3BlcnR5IGlzIHRyZWF0ZWQgYXMgYSB3aWxkY2FyZFxuICAgICAqICAgICAgICAgc3RydWN0dXJlZDogYm9vbGVhblxuICAgICAqICAgICAgICAgd2lsZGNhcmQ6IGJvb2xlYW5cbiAgICAgKiAgICAgICB9XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEVmZmVjdHMgYXJlIGNhbGxlZCBmcm9tIGBfcHJvcGVydGllc0NoYW5nZWRgIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYnlcbiAgICAgKiB0eXBlOlxuICAgICAqXG4gICAgICogMS4gQ09NUFVURVxuICAgICAqIDIuIFBST1BBR0FURVxuICAgICAqIDMuIFJFRkxFQ1RcbiAgICAgKiA0LiBPQlNFUlZFXG4gICAgICogNS4gTk9USUZZXG4gICAgICpcbiAgICAgKiBFZmZlY3QgZnVuY3Rpb25zIGFyZSBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcbiAgICAgKlxuICAgICAqICAgICBlZmZlY3RGdW5jdGlvbihpbnN0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGluZm8sIGhhc1BhdGhzKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGFkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSwgZWZmZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlLXByb3BlcnR5IG9ic2VydmVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKCosKil9IG1ldGhvZCBGdW5jdGlvbiBvciBuYW1lIG9mIG9ic2VydmVyIG1ldGhvZCB0byBjYWxsXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gZHluYW1pY0ZuIFdoZXRoZXIgdGhlIG1ldGhvZCBuYW1lIHNob3VsZCBiZSBpbmNsdWRlZCBhc1xuICAgICAqICAgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHlPYnNlcnZlcihwcm9wZXJ0eSwgbWV0aG9kLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG11bHRpLXByb3BlcnR5IFwibWV0aG9kIG9ic2VydmVyXCIgYmFzZWQgb24gdGhlIHByb3ZpZGVkXG4gICAgICogZXhwcmVzc2lvbiwgd2hpY2ggc2hvdWxkIGJlIGEgc3RyaW5nIGluIHRoZSBmb3JtIG9mIGEgbm9ybWFsIEphdmFTY3JpcHRcbiAgICAgKiBmdW5jdGlvbiBzaWduYXR1cmU6IGAnbWV0aG9kTmFtZShhcmcxLCBbLi4uLCBhcmduXSknYC4gIEVhY2ggYXJndW1lbnRcbiAgICAgKiBzaG91bGQgY29ycmVzcG9uZCB0byBhIHByb3BlcnR5IG9yIHBhdGggaW4gdGhlIGNvbnRleHQgb2YgdGhpc1xuICAgICAqIHByb3RvdHlwZSAob3IgaW5zdGFuY2UpLCBvciBtYXkgYmUgYSBsaXRlcmFsIHN0cmluZyBvciBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmdcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqICAgd2hldGhlciBtZXRob2QgbmFtZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdXNlcyB0aGUgc2V0dGVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdG8gZGlzcGF0Y2ggYDxwcm9wZXJ0eT4tY2hhbmdlZGBcbiAgICAgKiBldmVudHMgdG8gbm90aWZ5IG9mIGNoYW5nZXMgdG8gdGhlIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5KHByb3BlcnR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVhZC1vbmx5IGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUbyBzZXQgdGhlIHByb3BlcnR5LCB1c2UgdGhlIHByb3RlY3RlZCBgX3NldFByb3BlcnR5YCBBUEkuXG4gICAgICogVG8gY3JlYXRlIGEgY3VzdG9tIHByb3RlY3RlZCBzZXR0ZXIgKGUuZy4gYF9zZXRNeVByb3AoKWAgZm9yXG4gICAgICogcHJvcGVydHkgYG15UHJvcGApLCBwYXNzIGB0cnVlYCBmb3IgYHByb3RlY3RlZFNldHRlcmAuXG4gICAgICpcbiAgICAgKiBOb3RlLCBpZiB0aGUgcHJvcGVydHkgd2lsbCBoYXZlIG90aGVyIHByb3BlcnR5IGVmZmVjdHMsIHRoaXMgbWV0aG9kXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBmaXJzdCwgYmVmb3JlIGFkZGluZyBvdGhlciBlZmZlY3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBwcm90ZWN0ZWRTZXR0ZXIgQ3JlYXRlcyBhIGN1c3RvbSBwcm90ZWN0ZWQgc2V0dGVyXG4gICAgICogICB3aGVuIGB0cnVlYC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSZWFkT25seVByb3BlcnR5KHByb3BlcnR5LCBwcm90ZWN0ZWRTZXR0ZXIpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVSZWFkT25seVByb3BlcnR5KHByb3BlcnR5LCBwcm90ZWN0ZWRTZXR0ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhdXNlcyB0aGUgc2V0dGVyIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdG8gcmVmbGVjdCB0aGUgcHJvcGVydHkgdmFsdWVcbiAgICAgKiB0byBhIChkYXNoLWNhc2VkKSBhdHRyaWJ1dGUgb2YgdGhlIHNhbWUgbmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXB1dGVkIHByb3BlcnR5IHdob3NlIHZhbHVlIGlzIHNldCB0byB0aGUgcmVzdWx0IG9mIHRoZVxuICAgICAqIG1ldGhvZCBkZXNjcmliZWQgYnkgdGhlIGdpdmVuIGBleHByZXNzaW9uYCBlYWNoIHRpbWUgb25lIG9yIG1vcmVcbiAgICAgKiBhcmd1bWVudHMgdG8gdGhlIG1ldGhvZCBjaGFuZ2VzLiAgVGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIGEgc3RyaW5nXG4gICAgICogaW4gdGhlIGZvcm0gb2YgYSBub3JtYWwgSmF2YVNjcmlwdCBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICogYCdtZXRob2ROYW1lKGFyZzEsIFsuLi4sIGFyZ25dKSdgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiBjb21wdXRlZCBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBNZXRob2QgZXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxPYmplY3Q9fSBkeW5hbWljRm4gQm9vbGVhbiBvciBvYmplY3QgbWFwIGluZGljYXRpbmcgd2hldGhlclxuICAgICAqICAgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVDb21wdXRlZFByb3BlcnR5KHByb3BlcnR5LCBleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIHRoaXMucHJvdG90eXBlLl9jcmVhdGVDb21wdXRlZFByb3BlcnR5KHByb3BlcnR5LCBleHByZXNzaW9uLCBkeW5hbWljRm4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdG8gZW5zdXJlIGJpbmRpbmcgZWZmZWN0cyBhcmUgY3JlYXRlZFxuICAgICAqIGZvciB0aGVtLCBhbmQgdGhlbiBlbnN1cmVzIHByb3BlcnR5IGFjY2Vzc29ycyBhcmUgY3JlYXRlZCBmb3IgYW55XG4gICAgICogZGVwZW5kZW50IHByb3BlcnRpZXMgaW4gdGhlIHRlbXBsYXRlLiAgQmluZGluZyBlZmZlY3RzIGZvciBib3VuZFxuICAgICAqIHRlbXBsYXRlcyBhcmUgc3RvcmVkIGluIGEgbGlua2VkIGxpc3Qgb24gdGhlIGluc3RhbmNlIHNvIHRoYXRcbiAgICAgKiB0ZW1wbGF0ZXMgY2FuIGJlIGVmZmljaWVudGx5IHN0YW1wZWQgYW5kIHVuc3RhbXBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIGNvbnRhaW5pbmcgYmluZGluZ1xuICAgICAqICAgYmluZGluZ3NcbiAgICAgKiBAcmV0dXJuIHshVGVtcGxhdGVJbmZvfSBUZW1wbGF0ZSBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgYmluZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm90b3R5cGUuX2JpbmRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgLy8gLS0gYmluZGluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgYmluZFRlbXBsYXRlYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgY2FsbGVkIG9uIHRoZSBwcm90b3R5cGUgKGZvciBwcm90b3R5cGljYWwgdGVtcGxhdGVcbiAgICAgKiBiaW5kaW5nLCB0byBhdm9pZCBjcmVhdGluZyBhY2Nlc3NvcnMgZXZlcnkgaW5zdGFuY2UpIG9uY2UgcGVyIHByb3RvdHlwZSxcbiAgICAgKiBhbmQgd2lsbCBiZSBjYWxsZWQgd2l0aCBgcnVudGltZUJpbmRpbmc6IHRydWVgIGJ5IGBfc3RhbXBUZW1wbGF0ZWAgdG9cbiAgICAgKiBjcmVhdGUgYW5kIGxpbmsgYW4gaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBhXG4gICAgICogcGFydGljdWxhciBzdGFtcGluZy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIGNvbnRhaW5pbmcgYmluZGluZ1xuICAgICAqICAgYmluZGluZ3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbnN0YW5jZUJpbmRpbmcgV2hlbiBmYWxzZSAoZGVmYXVsdCksIHBlcmZvcm1zXG4gICAgICogICBcInByb3RvdHlwaWNhbFwiIGJpbmRpbmcgb2YgdGhlIHRlbXBsYXRlIGFuZCBvdmVyd3JpdGVzIGFueSBwcmV2aW91c2x5XG4gICAgICogICBib3VuZCB0ZW1wbGF0ZSBmb3IgdGhlIGNsYXNzLiBXaGVuIHRydWUgKGFzIHBhc3NlZCBmcm9tXG4gICAgICogICBgX3N0YW1wVGVtcGxhdGVgKSwgdGhlIHRlbXBsYXRlIGluZm8gaXMgaW5zdGFuY2VkIGFuZCBsaW5rZWQgaW50b1xuICAgICAqICAgdGhlIGxpc3Qgb2YgYm91bmQgdGVtcGxhdGVzLlxuICAgICAqIEByZXR1cm4geyFUZW1wbGF0ZUluZm99IFRlbXBsYXRlIG1ldGFkYXRhIG9iamVjdDsgZm9yIGBydW50aW1lQmluZGluZ2AsXG4gICAgICogICB0aGlzIGlzIGFuIGluc3RhbmNlIG9mIHRoZSBwcm90b3R5cGljYWwgdGVtcGxhdGUgaW5mb1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9iaW5kVGVtcGxhdGUodGVtcGxhdGUsIGluc3RhbmNlQmluZGluZykge1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IHRoaXMuY29uc3RydWN0b3IuX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgbGV0IHdhc1ByZUJvdW5kID0gdGhpcy5fX3RlbXBsYXRlSW5mbyA9PSB0ZW1wbGF0ZUluZm87XG4gICAgICAvLyBPcHRpbWl6YXRpb246IHNpbmNlIHRoaXMgaXMgY2FsbGVkIHR3aWNlIGZvciBwcm90by1ib3VuZCB0ZW1wbGF0ZXMsXG4gICAgICAvLyBkb24ndCBhdHRlbXB0IHRvIHJlY3JlYXRlIGFjY2Vzc29ycyBpZiB0aGlzIHRlbXBsYXRlIHdhcyBwcmUtYm91bmRcbiAgICAgIGlmICghd2FzUHJlQm91bmQpIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzKSB7XG4gICAgICAgICAgdGhpcy5fY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlQmluZGluZykge1xuICAgICAgICAvLyBGb3IgaW5zdGFuY2UtdGltZSBiaW5kaW5nLCBjcmVhdGUgaW5zdGFuY2Ugb2YgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgICAgLy8gYW5kIGxpbmsgaW50byBsaXN0IG9mIHRlbXBsYXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgdGVtcGxhdGVJbmZvID0gLyoqIEB0eXBlIHshVGVtcGxhdGVJbmZvfSAqLyhPYmplY3QuY3JlYXRlKHRlbXBsYXRlSW5mbykpO1xuICAgICAgICB0ZW1wbGF0ZUluZm8ud2FzUHJlQm91bmQgPSB3YXNQcmVCb3VuZDtcbiAgICAgICAgaWYgKCF3YXNQcmVCb3VuZCAmJiB0aGlzLl9fdGVtcGxhdGVJbmZvKSB7XG4gICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLl9fdGVtcGxhdGVJbmZvTGFzdCB8fCB0aGlzLl9fdGVtcGxhdGVJbmZvO1xuICAgICAgICAgIHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID0gbGFzdC5uZXh0VGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvO1xuICAgICAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9IGxhc3Q7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlSW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX190ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIHByb3BlcnR5IGVmZmVjdCB0byB0aGUgZ2l2ZW4gdGVtcGxhdGUgbWV0YWRhdGEsIHdoaWNoIGlzIHJ1blxuICAgICAqIGF0IHRoZSBcInByb3BhZ2F0ZVwiIHN0YWdlIG9mIGBfcHJvcGVydGllc0NoYW5nZWRgIHdoZW4gdGhlIHRlbXBsYXRlXG4gICAgICogaGFzIGJlZW4gYm91bmQgdG8gdGhlIGVsZW1lbnQgdmlhIGBfYmluZFRlbXBsYXRlYC5cbiAgICAgKlxuICAgICAqIFRoZSBgZWZmZWN0YCBvYmplY3Qgc2hvdWxkIG1hdGNoIHRoZSBmb3JtYXQgaW4gYF9hZGRQcm9wZXJ0eUVmZmVjdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIHRvIGFkZCBlZmZlY3QgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcyB8fCB7fTtcbiAgICAgIGhvc3RQcm9wc1twcm9wXSA9IHRydWU7XG4gICAgICBsZXQgZWZmZWN0cyA9IHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMgPSB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzIHx8IHt9O1xuICAgICAgbGV0IHByb3BFZmZlY3RzID0gZWZmZWN0c1twcm9wXSA9IGVmZmVjdHNbcHJvcF0gfHwgW107XG4gICAgICBwcm9wRWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhbXBzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSBhbmQgcGVyZm9ybXMgaW5zdGFuY2UtdGltZSBzZXR1cCBmb3JcbiAgICAgKiBQb2x5bWVyIHRlbXBsYXRlIGZlYXR1cmVzLCBpbmNsdWRpbmcgZGF0YSBiaW5kaW5ncywgZGVjbGFyYXRpdmUgZXZlbnRcbiAgICAgKiBsaXN0ZW5lcnMsIGFuZCB0aGUgYHRoaXMuJGAgbWFwIG9mIGBpZGAncyB0byBub2Rlcy4gIEEgZG9jdW1lbnQgZnJhZ21lbnRcbiAgICAgKiBpcyByZXR1cm5lZCBjb250YWluaW5nIHRoZSBzdGFtcGVkIERPTSwgcmVhZHkgZm9yIGluc2VydGlvbiBpbnRvIHRoZVxuICAgICAqIERPTS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2U7IGhvd2V2ZXIgbm90ZSB0aGF0IGR1ZSB0b1xuICAgICAqIGBzaGFkeWNzc2AgcG9seWZpbGwgbGltaXRhdGlvbnMsIG9ubHkgc3R5bGVzIGZyb20gdGVtcGxhdGVzIHByZXBhcmVkXG4gICAgICogdXNpbmcgYFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZWAgd2lsbCBiZSBjb3JyZWN0bHkgcG9seWZpbGxlZCAoc2NvcGVkXG4gICAgICogdG8gdGhlIHNoYWRvdyByb290IGFuZCBzdXBwb3J0IENTUyBjdXN0b20gcHJvcGVydGllcyksIGFuZCBub3RlIHRoYXRcbiAgICAgKiBgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlYCBtYXkgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgZWxlbWVudC4gQXMgc3VjaCxcbiAgICAgKiBhbnkgc3R5bGVzIHJlcXVpcmVkIGJ5IGluIHJ1bnRpbWUtc3RhbXBlZCB0ZW1wbGF0ZXMgbXVzdCBiZSBpbmNsdWRlZFxuICAgICAqIGluIHRoZSBtYWluIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBzdGFtcFxuICAgICAqIEByZXR1cm4geyFTdGFtcGVkVGVtcGxhdGV9IENsb25lZCB0ZW1wbGF0ZSBjb250ZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAvLyBFbnN1cmVzIHRoYXQgY3JlYXRlZCBkb20gaXMgYF9lbnF1ZXVlQ2xpZW50YCdkIHRvIHRoaXMgZWxlbWVudCBzb1xuICAgICAgLy8gdGhhdCBpdCBjYW4gYmUgZmx1c2hlZCBvbiBuZXh0IGNhbGwgdG8gYF9mbHVzaFByb3BlcnRpZXNgXG4gICAgICBob3N0U3RhY2suYmVnaW5Ib3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IGRvbSA9IHN1cGVyLl9zdGFtcFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGhvc3RTdGFjay5lbmRIb3N0aW5nKHRoaXMpO1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IC8qKiBAdHlwZSB7IVRlbXBsYXRlSW5mb30gKi8odGhpcy5fYmluZFRlbXBsYXRlKHRlbXBsYXRlLCB0cnVlKSk7XG4gICAgICAvLyBBZGQgdGVtcGxhdGUtaW5zdGFuY2Utc3BlY2lmaWMgZGF0YSB0byBpbnN0YW5jZWQgdGVtcGxhdGVJbmZvXG4gICAgICB0ZW1wbGF0ZUluZm8ubm9kZUxpc3QgPSBkb20ubm9kZUxpc3Q7XG4gICAgICAvLyBDYXB0dXJlIGNoaWxkIG5vZGVzIHRvIGFsbG93IHVuc3RhbXBpbmcgb2Ygbm9uLXByb3RvdHlwaWNhbCB0ZW1wbGF0ZXNcbiAgICAgIGlmICghdGVtcGxhdGVJbmZvLndhc1ByZUJvdW5kKSB7XG4gICAgICAgIGxldCBub2RlcyA9IHRlbXBsYXRlSW5mby5jaGlsZE5vZGVzID0gW107XG4gICAgICAgIGZvciAobGV0IG49ZG9tLmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgICAgIG5vZGVzLnB1c2gobik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRvbS50ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICAvLyBTZXR1cCBjb21wb3VuZCBzdG9yYWdlLCAyLXdheSBsaXN0ZW5lcnMsIGFuZCBkYXRhSG9zdCBmb3IgYmluZGluZ3NcbiAgICAgIHNldHVwQmluZGluZ3ModGhpcywgdGVtcGxhdGVJbmZvKTtcbiAgICAgIC8vIEZsdXNoIHByb3BlcnRpZXMgaW50byB0ZW1wbGF0ZSBub2RlcyBpZiBhbHJlYWR5IGJvb3RlZFxuICAgICAgaWYgKHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgcnVuRWZmZWN0cyh0aGlzLCB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzLCB0aGlzLl9fZGF0YSwgbnVsbCxcbiAgICAgICAgICBmYWxzZSwgdGVtcGxhdGVJbmZvLm5vZGVMaXN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbmQgdW5iaW5kcyB0aGUgbm9kZXMgcHJldmlvdXNseSBjb250YWluZWQgaW4gdGhlIHByb3ZpZGVkXG4gICAgICogRG9jdW1lbnRGcmFnbWVudCByZXR1cm5lZCBmcm9tIGBfc3RhbXBUZW1wbGF0ZWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyFTdGFtcGVkVGVtcGxhdGV9IGRvbSBEb2N1bWVudEZyYWdtZW50IHByZXZpb3VzbHkgcmV0dXJuZWRcbiAgICAgKiAgIGZyb20gYF9zdGFtcFRlbXBsYXRlYCBhc3NvY2lhdGVkIHdpdGggdGhlIG5vZGVzIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlQm91bmREb20oZG9tKSB7XG4gICAgICAvLyBVbmxpbmsgdGVtcGxhdGUgaW5mb1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IGRvbS50ZW1wbGF0ZUluZm87XG4gICAgICBpZiAodGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID1cbiAgICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbykge1xuICAgICAgICB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9XG4gICAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID09IHRlbXBsYXRlSW5mbykge1xuICAgICAgICB0aGlzLl9fdGVtcGxhdGVJbmZvTGFzdCA9IHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlSW5mby5wcmV2aW91c1RlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvID0gbnVsbDtcbiAgICAgIC8vIFJlbW92ZSBzdGFtcGVkIG5vZGVzXG4gICAgICBsZXQgbm9kZXMgPSB0ZW1wbGF0ZUluZm8uY2hpbGROb2RlcztcbiAgICAgIGZvciAobGV0IGk9MDsgaTxub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBgVGV4dE5vZGVgJ3MnIGB0ZXh0Q29udGVudGAuICBBIGBiaW5kaW5nc2BcbiAgICAgKiBhcnJheSBpcyBhZGRlZCB0byBgbm9kZUluZm9gIGFuZCBwb3B1bGF0ZWQgd2l0aCBiaW5kaW5nIG1ldGFkYXRhXG4gICAgICogd2l0aCBpbmZvcm1hdGlvbiBjYXB0dXJpbmcgdGhlIGJpbmRpbmcgdGFyZ2V0LCBhbmQgYSBgcGFydHNgIGFycmF5XG4gICAgICogd2l0aCBvbmUgb3IgbW9yZSBtZXRhZGF0YSBvYmplY3RzIGNhcHR1cmluZyB0aGUgc291cmNlKHMpIG9mIHRoZVxuICAgICAqIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTm9kZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIGxldCBub3RlZCA9IHByb3BlcnR5RWZmZWN0c0Jhc2UuX3BhcnNlVGVtcGxhdGVOb2RlLmNhbGwoXG4gICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IHRoaXMuX3BhcnNlQmluZGluZ3Mobm9kZS50ZXh0Q29udGVudCwgdGVtcGxhdGVJbmZvKTtcbiAgICAgICAgaWYgKHBhcnRzKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgdGV4dENvbnRlbnQgd2l0aCBhbnkgbGl0ZXJhbCBwYXJ0c1xuICAgICAgICAgIC8vIE5PVEU6IGRlZmF1bHQgdG8gYSBzcGFjZSBoZXJlIHNvIHRoZSB0ZXh0Tm9kZSByZW1haW5zOyBzb21lIGJyb3dzZXJzXG4gICAgICAgICAgLy8gKElFKSBvbWl0IGFuIGVtcHR5IHRleHROb2RlIGZvbGxvd2luZyBjbG9uZU5vZGUvaW1wb3J0Tm9kZS5cbiAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cykgfHwgJyAnO1xuICAgICAgICAgIGFkZEJpbmRpbmcodGhpcywgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgJ3RleHQnLCAndGV4dENvbnRlbnQnLCBwYXJ0cyk7XG4gICAgICAgICAgbm90ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGRlZmF1bHQgYFRlbXBsYXRlU3RhbXBgIGltcGxlbWVudGF0aW9uIHRvIGFkZCBzdXBwb3J0IGZvclxuICAgICAqIHBhcnNpbmcgYmluZGluZ3MgZnJvbSBhdHRyaWJ1dGVzLiAgQSBgYmluZGluZ3NgXG4gICAgICogYXJyYXkgaXMgYWRkZWQgdG8gYG5vZGVJbmZvYCBhbmQgcG9wdWxhdGVkIHdpdGggYmluZGluZyBtZXRhZGF0YVxuICAgICAqIHdpdGggaW5mb3JtYXRpb24gY2FwdHVyaW5nIHRoZSBiaW5kaW5nIHRhcmdldCwgYW5kIGEgYHBhcnRzYCBhcnJheVxuICAgICAqIHdpdGggb25lIG9yIG1vcmUgbWV0YWRhdGEgb2JqZWN0cyBjYXB0dXJpbmcgdGhlIHNvdXJjZShzKSBvZiB0aGVcbiAgICAgKiBiaW5kaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGxldCBwYXJ0cyA9IHRoaXMuX3BhcnNlQmluZGluZ3ModmFsdWUsIHRlbXBsYXRlSW5mbyk7XG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgLy8gQXR0cmlidXRlIG9yIHByb3BlcnR5XG4gICAgICAgIGxldCBvcmlnTmFtZSA9IG5hbWU7XG4gICAgICAgIGxldCBraW5kID0gJ3Byb3BlcnR5JztcbiAgICAgICAgLy8gVGhlIG9ubHkgd2F5IHdlIHNlZSBhIGNhcGl0YWwgbGV0dGVyIGhlcmUgaXMgaWYgdGhlIGF0dHIgaGFzXG4gICAgICAgIC8vIGEgY2FwaXRhbCBsZXR0ZXIgaW4gaXQgcGVyIHNwZWMuIEluIHRoaXMgY2FzZSwgdG8gbWFrZSBzdXJlXG4gICAgICAgIC8vIHRoaXMgYmluZGluZyB3b3Jrcywgd2UgZ28gYWhlYWQgYW5kIG1ha2UgdGhlIGJpbmRpbmcgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgaWYgKGNhcGl0YWxBdHRyaWJ1dGVSZWdleC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAga2luZCA9ICdhdHRyaWJ1dGUnO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWVbbmFtZS5sZW5ndGgtMV0gPT0gJyQnKSB7XG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgIGtpbmQgPSAnYXR0cmlidXRlJztcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXplIGF0dHJpYnV0ZSBiaW5kaW5ncyB3aXRoIGFueSBsaXRlcmFsIHBhcnRzXG4gICAgICAgIGxldCBsaXRlcmFsID0gbGl0ZXJhbEZyb21QYXJ0cyhwYXJ0cyk7XG4gICAgICAgIGlmIChsaXRlcmFsICYmIGtpbmQgPT0gJ2F0dHJpYnV0ZScpIHtcbiAgICAgICAgICAvLyBFbnN1cmUgYSBTaGFkeUNTUyB0ZW1wbGF0ZSBzY29wZWQgc3R5bGUgaXMgbm90IHJlbW92ZWRcbiAgICAgICAgICAvLyB3aGVuIGEgY2xhc3MkIGJpbmRpbmcncyBpbml0aWFsIGxpdGVyYWwgdmFsdWUgaXMgc2V0LlxuICAgICAgICAgIGlmIChuYW1lID09ICdjbGFzcycgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoJ2NsYXNzJykpIHtcbiAgICAgICAgICAgIGxpdGVyYWwgKz0gJyAnICsgbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIGxpdGVyYWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIGF0dHJpYnV0ZSBiZWZvcmUgcmVtb3ZpbmcsIHNpbmNlIElFIHdvbid0IGFsbG93IHJlbW92aW5nXG4gICAgICAgIC8vIGB2YWx1ZWAgYXR0cmlidXRlIGlmIGl0IHByZXZpb3VzbHkgaGFkIGEgdmFsdWUgKGNhbid0XG4gICAgICAgIC8vIHVuY29uZGl0aW9uYWxseSBzZXQgJycgYmVmb3JlIHJlbW92aW5nIHNpbmNlIGF0dHJpYnV0ZXMgd2l0aCBgJGBcbiAgICAgICAgLy8gY2FuJ3QgYmUgc2V0IHVzaW5nIHNldEF0dHJpYnV0ZSlcbiAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09PSAnaW5wdXQnICYmIG9yaWdOYW1lID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUob3JpZ05hbWUsICcnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYW5ub3RhdGlvblxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShvcmlnTmFtZSk7XG4gICAgICAgIC8vIENhc2UgaGFja2VyeTogYXR0cmlidXRlcyBhcmUgbG93ZXItY2FzZSwgYnV0IGJpbmQgdGFyZ2V0c1xuICAgICAgICAvLyAocHJvcGVydGllcykgYXJlIGNhc2Ugc2Vuc2l0aXZlLiBHYW1iaXQgaXMgdG8gbWFwIGRhc2gtY2FzZSB0b1xuICAgICAgICAvLyBjYW1lbC1jYXNlOiBgZm9vLWJhcmAgYmVjb21lcyBgZm9vQmFyYC5cbiAgICAgICAgLy8gQXR0cmlidXRlIGJpbmRpbmdzIGFyZSBleGNlcHRlZC5cbiAgICAgICAgaWYgKGtpbmQgPT09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICBuYW1lID0gZGFzaFRvQ2FtZWxDYXNlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEJpbmRpbmcodGhpcywgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywga2luZCwgbmFtZSwgcGFydHMsIGxpdGVyYWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgICAgLy8gICAgIENoYW5nZSBiYWNrIHRvIGp1c3Qgc3VwZXIubWV0aG9kQ2FsbCgpXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUVmZmVjdHNCYXNlLl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZS5jYWxsKFxuICAgICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sIG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgVGVtcGxhdGVTdGFtcGAgaW1wbGVtZW50YXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yXG4gICAgICogYmluZGluZyB0aGUgcHJvcGVydGllcyB0aGF0IGEgbmVzdGVkIHRlbXBsYXRlIGRlcGVuZHMgb24gdG8gdGhlIHRlbXBsYXRlXG4gICAgICogYXMgYF9ob3N0Xzxwcm9wZXJ0eT5gLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZSBub2RlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgbGV0IG5vdGVkID0gcHJvcGVydHlFZmZlY3RzQmFzZS5fcGFyc2VUZW1wbGF0ZU5lc3RlZFRlbXBsYXRlLmNhbGwoXG4gICAgICAgIHRoaXMsIG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pO1xuICAgICAgLy8gTWVyZ2UgaG9zdCBwcm9wcyBpbnRvIG91dGVyIHRlbXBsYXRlIGFuZCBhZGQgYmluZGluZ3NcbiAgICAgIGxldCBob3N0UHJvcHMgPSBub2RlSW5mby50ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICAgICAgbGV0IG1vZGUgPSAneyc7XG4gICAgICBmb3IgKGxldCBzb3VyY2UgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFt7IG1vZGUsIHNvdXJjZSwgZGVwZW5kZW5jaWVzOiBbc291cmNlXSB9XTtcbiAgICAgICAgYWRkQmluZGluZyh0aGlzLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCAncHJvcGVydHknLCAnX2hvc3RfJyArIHNvdXJjZSwgcGFydHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byBwYXJzZSB0ZXh0IGluIGEgdGVtcGxhdGUgKGVpdGhlciBhdHRyaWJ1dGUgdmFsdWVzIG9yXG4gICAgICogdGV4dENvbnRlbnQpIGludG8gYmluZGluZyBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIEFueSBvdmVycmlkZXMgb2YgdGhpcyBtZXRob2Qgc2hvdWxkIHJldHVybiBhbiBhcnJheSBvZiBiaW5kaW5nIHBhcnRcbiAgICAgKiBtZXRhZGF0YSAgcmVwcmVzZW50aW5nIG9uZSBvciBtb3JlIGJpbmRpbmdzIGZvdW5kIGluIHRoZSBwcm92aWRlZCB0ZXh0XG4gICAgICogYW5kIGFueSBcImxpdGVyYWxcIiB0ZXh0IGluIGJldHdlZW4uICBBbnkgbm9uLWxpdGVyYWwgcGFydHMgd2lsbCBiZSBwYXNzZWRcbiAgICAgKiB0byBgX2V2YWx1YXRlQmluZGluZ2Agd2hlbiBhbnkgZGVwZW5kZW5jaWVzIGNoYW5nZS4gIFRoZSBvbmx5IHJlcXVpcmVkXG4gICAgICogZmllbGRzIG9mIGVhY2ggXCJwYXJ0XCIgaW4gdGhlIHJldHVybmVkIGFycmF5IGFyZSBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogLSBgZGVwZW5kZW5jaWVzYCAtIEFycmF5IGNvbnRhaW5pbmcgdHJpZ2dlciBtZXRhZGF0YSBmb3IgZWFjaCBwcm9wZXJ0eVxuICAgICAqICAgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgYmluZGluZyB0byB1cGRhdGVcbiAgICAgKiAtIGBsaXRlcmFsYCAtIFN0cmluZyBjb250YWluaW5nIHRleHQgaWYgdGhlIHBhcnQgcmVwcmVzZW50cyBhIGxpdGVyYWw7XG4gICAgICogICBpbiB0aGlzIGNhc2Ugbm8gYGRlcGVuZGVuY2llc2AgYXJlIG5lZWRlZFxuICAgICAqXG4gICAgICogQWRkaXRpb25hbCBtZXRhZGF0YSBmb3IgdXNlIGJ5IGBfZXZhbHVhdGVCaW5kaW5nYCBtYXkgYmUgcHJvdmlkZWQgaW5cbiAgICAgKiBlYWNoIHBhcnQgb2JqZWN0IGFzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGhhbmRsZXMgdGhlIGZvbGxvd2luZyB0eXBlcyBvZiBiaW5kaW5nc1xuICAgICAqIChvbmUgb3IgbW9yZSBtYXkgYmUgaW50ZXJtaXhlZCB3aXRoIGxpdGVyYWwgc3RyaW5ncyk6XG4gICAgICogLSBQcm9wZXJ0eSBiaW5kaW5nOiBgW1twcm9wXV1gXG4gICAgICogLSBQYXRoIGJpbmRpbmc6IGBbW29iamVjdC5wcm9wXV1gXG4gICAgICogLSBOZWdhdGVkIHByb3BlcnR5IG9yIHBhdGggYmluZGluZ3M6IGBbWyFwcm9wXV1gIG9yIGBbWyFvYmplY3QucHJvcF1dYFxuICAgICAqIC0gVHdvLXdheSBwcm9wZXJ0eSBvciBwYXRoIGJpbmRpbmdzIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBge3twcm9wfX1gLCBge3tvYmplY3QucHJvcH19YCwgYHt7IXByb3B9fWAgb3IgYHt7IW9iamVjdC5wcm9wfX1gXG4gICAgICogLSBJbmxpbmUgY29tcHV0ZWQgbWV0aG9kIChzdXBwb3J0cyBuZWdhdGlvbik6XG4gICAgICogICBgW1tjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWAsIGBbWyFjb21wdXRlKGEsICdsaXRlcmFsJywgYildXWBcbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHVzZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIGJlc3RcbiAgICAgKiBwZXJmb3JtYW5jZS4gSG93ZXZlciwgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VzIGEgd2hpdGUtbGlzdCBvZlxuICAgICAqIGFsbG93ZWQgY2hhcmFjdGVycyBpbiBhIGRhdGEtYmluZGluZywgd2hpY2ggY2F1c2VzIHByb2JsZW1zIGZvclxuICAgICAqIGRhdGEtYmluZGluZ3MgdGhhdCBkbyB1c2UgY2hhcmFjdGVycyBub3QgaW4gdGhpcyB3aGl0ZS1saXN0LlxuICAgICAqXG4gICAgICogSW5zdGVhZCBvZiB1cGRhdGluZyB0aGUgd2hpdGUtbGlzdCB3aXRoIGFsbCBhbGxvd2VkIGNoYXJhY3RlcnMsXG4gICAgICogdGhlcmUgaXMgYSBTdHJpY3RCaW5kaW5nUGFyc2VyIChzZWUgbGliL21peGlucy9zdHJpY3QtYmluZGluZy1wYXJzZXIpXG4gICAgICogdGhhdCB1c2VzIGEgc3RhdGUgbWFjaGluZSBpbnN0ZWFkLiBUaGlzIHN0YXRlIG1hY2hpbmUgaXMgYWJsZSB0byBoYW5kbGVcbiAgICAgKiBhbGwgY2hhcmFjdGVycy4gSG93ZXZlciwgaXQgaXMgc2xpZ2h0bHkgbGVzcyBwZXJmb3JtYW50LCB0aGVyZWZvcmUgd2VcbiAgICAgKiBleHRyYWN0ZWQgaXQgaW50byBhIHNlcGFyYXRlIG9wdGlvbmFsIG1peGluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBwYXJzZSBmcm9tIGF0dHJpYnV0ZSBvciB0ZXh0Q29udGVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gQ3VycmVudCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqIEByZXR1cm4ge0FycmF5PCFCaW5kaW5nUGFydD59IEFycmF5IG9mIGJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VCaW5kaW5ncyh0ZXh0LCB0ZW1wbGF0ZUluZm8pIHtcbiAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgICBsZXQgbTtcbiAgICAgIC8vIEV4YW1wbGU6IFwibGl0ZXJhbDF7e3Byb3B9fWxpdGVyYWwyW1shY29tcHV0ZShmb28sYmFyKV1dZmluYWxcIlxuICAgICAgLy8gUmVnZXggbWF0Y2hlczpcbiAgICAgIC8vICAgICAgICBJdGVyYXRpb24gMTogIEl0ZXJhdGlvbiAyOlxuICAgICAgLy8gbVsxXTogJ3t7JyAgICAgICAgICAnW1snXG4gICAgICAvLyBtWzJdOiAnJyAgICAgICAgICAgICchJ1xuICAgICAgLy8gbVszXTogJ3Byb3AnICAgICAgICAnY29tcHV0ZShmb28sYmFyKSdcbiAgICAgIHdoaWxlICgobSA9IGJpbmRpbmdSZWdleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgICAvLyBBZGQgbGl0ZXJhbCBwYXJ0XG4gICAgICAgIGlmIChtLmluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7bGl0ZXJhbDogdGV4dC5zbGljZShsYXN0SW5kZXgsIG0uaW5kZXgpfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIGJpbmRpbmcgcGFydFxuICAgICAgICBsZXQgbW9kZSA9IG1bMV1bMF07XG4gICAgICAgIGxldCBuZWdhdGUgPSBCb29sZWFuKG1bMl0pO1xuICAgICAgICBsZXQgc291cmNlID0gbVszXS50cmltKCk7XG4gICAgICAgIGxldCBjdXN0b21FdmVudCA9IGZhbHNlLCBub3RpZnlFdmVudCA9ICcnLCBjb2xvbiA9IC0xO1xuICAgICAgICBpZiAobW9kZSA9PSAneycgJiYgKGNvbG9uID0gc291cmNlLmluZGV4T2YoJzo6JykpID4gMCkge1xuICAgICAgICAgIG5vdGlmeUV2ZW50ID0gc291cmNlLnN1YnN0cmluZyhjb2xvbiArIDIpO1xuICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5zdWJzdHJpbmcoMCwgY29sb24pO1xuICAgICAgICAgIGN1c3RvbUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2lnbmF0dXJlID0gcGFyc2VNZXRob2Qoc291cmNlKTtcbiAgICAgICAgbGV0IGRlcGVuZGVuY2llcyA9IFtdO1xuICAgICAgICBpZiAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgLy8gSW5saW5lIGNvbXB1dGVkIGZ1bmN0aW9uXG4gICAgICAgICAgbGV0IHthcmdzLCBtZXRob2ROYW1lfSA9IHNpZ25hdHVyZTtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8YXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyZyA9IGFyZ3NbaV07XG4gICAgICAgICAgICBpZiAoIWFyZy5saXRlcmFsKSB7XG4gICAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBkeW5hbWljRm5zID0gdGVtcGxhdGVJbmZvLmR5bmFtaWNGbnM7XG4gICAgICAgICAgaWYgKGR5bmFtaWNGbnMgJiYgZHluYW1pY0Zuc1ttZXRob2ROYW1lXSB8fCBzaWduYXR1cmUuc3RhdGljKSB7XG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChtZXRob2ROYW1lKTtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5keW5hbWljRm4gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQcm9wZXJ0eSBvciBwYXRoXG4gICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICBzb3VyY2UsIG1vZGUsIG5lZ2F0ZSwgY3VzdG9tRXZlbnQsIHNpZ25hdHVyZSwgZGVwZW5kZW5jaWVzLFxuICAgICAgICAgIGV2ZW50OiBub3RpZnlFdmVudFxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdEluZGV4ID0gYmluZGluZ1JlZ2V4Lmxhc3RJbmRleDtcbiAgICAgIH1cbiAgICAgIC8vIEFkZCBhIGZpbmFsIGxpdGVyYWwgcGFydFxuICAgICAgaWYgKGxhc3RJbmRleCAmJiBsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICBsZXQgbGl0ZXJhbCA9IHRleHQuc3Vic3RyaW5nKGxhc3RJbmRleCk7XG4gICAgICAgIGlmIChsaXRlcmFsKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICBsaXRlcmFsOiBsaXRlcmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHRvIGV2YWx1YXRlIGEgcHJldmlvdXNseSBwYXJzZWQgYmluZGluZyBwYXJ0IGJhc2VkIG9uIGEgc2V0IG9mXG4gICAgICogb25lIG9yIG1vcmUgY2hhbmdlZCBkZXBlbmRlbmNpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBFbGVtZW50IHRoYXQgc2hvdWxkIGJlIHVzZWQgYXNcbiAgICAgKiAgICAgc2NvcGUgZm9yIGJpbmRpbmcgZGVwZW5kZW5jaWVzXG4gICAgICogQHBhcmFtIHtCaW5kaW5nUGFydH0gcGFydCBCaW5kaW5nIHBhcnQgbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQcm9wZXJ0eS9wYXRoIHRoYXQgdHJpZ2dlcmVkIHRoaXMgZWZmZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICAgICAqIEByZXR1cm4geyp9IFZhbHVlIHRoZSBiaW5kaW5nIHBhcnQgZXZhbHVhdGVkIHRvXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9ldmFsdWF0ZUJpbmRpbmcoaW5zdCwgcGFydCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgaWYgKHBhcnQuc2lnbmF0dXJlKSB7XG4gICAgICAgIHZhbHVlID0gcnVuTWV0aG9kRWZmZWN0KGluc3QsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgcGFydC5zaWduYXR1cmUpO1xuICAgICAgfSBlbHNlIGlmIChwYXRoICE9IHBhcnQuc291cmNlKSB7XG4gICAgICAgIHZhbHVlID0gZ2V0KGluc3QsIHBhcnQuc291cmNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChoYXNQYXRocyAmJiBpc1BhdGgocGF0aCkpIHtcbiAgICAgICAgICB2YWx1ZSA9IGdldChpbnN0LCBwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IGluc3QuX19kYXRhW3BhdGhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGFydC5uZWdhdGUpIHtcbiAgICAgICAgdmFsdWUgPSAhdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gUHJvcGVydHlFZmZlY3RzO1xufSk7XG5cbi8qKlxuICogSGVscGVyIGFwaSBmb3IgZW5xdWV1aW5nIGNsaWVudCBkb20gY3JlYXRlZCBieSBhIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBCeSBkZWZhdWx0IGVsZW1lbnRzIGFyZSBmbHVzaGVkIHZpYSBgX2ZsdXNoUHJvcGVydGllc2Agd2hlblxuICogYGNvbm5lY3RlZENhbGxiYWNrYCBpcyBjYWxsZWQuIEVsZW1lbnRzIGF0dGFjaCB0aGVpciBjbGllbnQgZG9tIHRvXG4gKiB0aGVtc2VsdmVzIGF0IGByZWFkeWAgdGltZSB3aGljaCByZXN1bHRzIGZyb20gdGhpcyBmaXJzdCBmbHVzaC5cbiAqIFRoaXMgcHJvdmlkZXMgYW4gb3JkZXJpbmcgZ3VhcmFudGVlIHRoYXQgdGhlIGNsaWVudCBkb20gYW4gZWxlbWVudFxuICogY3JlYXRlcyBpcyBmbHVzaGVkIGJlZm9yZSB0aGUgZWxlbWVudCBpdHNlbGYgKGkuZS4gY2xpZW50IGByZWFkeWBcbiAqIGZpcmVzIGJlZm9yZSBob3N0IGByZWFkeWApLlxuICpcbiAqIEhvd2V2ZXIsIGlmIGBfZmx1c2hQcm9wZXJ0aWVzYCBpcyBjYWxsZWQgKmJlZm9yZSogYW4gZWxlbWVudCBpcyBjb25uZWN0ZWQsXG4gKiBhcyBmb3IgZXhhbXBsZSBgVGVtcGxhdGl6ZWAgZG9lcywgdGhpcyBvcmRlcmluZyBndWFyYW50ZWUgY2Fubm90IGJlXG4gKiBzYXRpc2ZpZWQgYmVjYXVzZSBubyBlbGVtZW50cyBhcmUgY29ubmVjdGVkLiAoTm90ZTogQm91bmQgZWxlbWVudHMgdGhhdFxuICogcmVjZWl2ZSBkYXRhIGRvIGJlY29tZSBlbnF1ZXVlZCBjbGllbnRzIGFuZCBhcmUgcHJvcGVybHkgb3JkZXJlZCBidXRcbiAqIHVuYm91bmQgZWxlbWVudHMgYXJlIG5vdC4pXG4gKlxuICogVG8gbWFpbnRhaW4gdGhlIGRlc2lyZWQgXCJjbGllbnQgYmVmb3JlIGhvc3RcIiBvcmRlcmluZyBndWFyYW50ZWUgZm9yIHRoaXNcbiAqIGNhc2Ugd2UgcmVseSBvbiB0aGUgXCJob3N0IHN0YWNrLiBDbGllbnQgbm9kZXMgcmVnaXN0ZXJzIHRoZW1zZWx2ZXMgd2l0aFxuICogdGhlIGNyZWF0aW5nIGhvc3QgZWxlbWVudCB3aGVuIGNyZWF0ZWQuIFRoaXMgZW5zdXJlcyB0aGF0IGFsbCBjbGllbnQgZG9tXG4gKiBpcyByZWFkaWVkIGluIHRoZSBwcm9wZXIgb3JkZXIsIG1haW50YWluaW5nIHRoZSBkZXNpcmVkIGd1YXJhbnRlZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBIb3N0U3RhY2sge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YWNrID0gW107XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSBpbnN0IEluc3RhbmNlIHRvIGFkZCB0byBob3N0U3RhY2tcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlZ2lzdGVySG9zdChpbnN0KSB7XG4gICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKSB7XG4gICAgICBsZXQgaG9zdCA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGgtMV07XG4gICAgICBob3N0Ll9lbnF1ZXVlQ2xpZW50KGluc3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gYmVnaW4gaG9zdGluZ1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgYmVnaW5Ib3N0aW5nKGluc3QpIHtcbiAgICB0aGlzLnN0YWNrLnB1c2goaW5zdCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsqfSBpbnN0IEluc3RhbmNlIHRvIGVuZCBob3N0aW5nXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBlbmRIb3N0aW5nKGluc3QpIHtcbiAgICBsZXQgc3RhY2tMZW4gPSB0aGlzLnN0YWNrLmxlbmd0aDtcbiAgICBpZiAoc3RhY2tMZW4gJiYgdGhpcy5zdGFja1tzdGFja0xlbi0xXSA9PSBpbnN0KSB7XG4gICAgICB0aGlzLnN0YWNrLnBvcCgpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgaG9zdFN0YWNrID0gbmV3IEhvc3RTdGFjaygpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBUb3RhbCBudW1iZXIgb2YgUG9seW1lciBlbGVtZW50IGluc3RhbmNlcyBjcmVhdGVkLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xuZXhwb3J0IGxldCBpbnN0YW5jZUNvdW50ID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudEluc3RhbmNlQ291bnQoKSB7XG4gIGluc3RhbmNlQ291bnQrKztcbn1cblxuLyoqXG4gKiBBcnJheSBvZiBQb2x5bWVyIGVsZW1lbnQgY2xhc3NlcyB0aGF0IGhhdmUgYmVlbiBmaW5hbGl6ZWQuXG4gKiBAdHlwZSB7IUFycmF5PCFQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yPn1cbiAqL1xuZXhwb3J0IGNvbnN0IHJlZ2lzdHJhdGlvbnMgPSBbXTtcblxuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBwcm90b3R5cGUgRWxlbWVudCBwcm90b3R5cGUgdG8gbG9nXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfcmVnTG9nKHByb3RvdHlwZSkge1xuICBjb25zb2xlLmxvZygnWycgKyAvKiogQHR5cGUgez99ICovKHByb3RvdHlwZSkuaXMgKyAnXTogcmVnaXN0ZXJlZCcpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIGNsYXNzIHByb3RvdHlwZSBmb3IgdGVsZW1ldHJ5IHB1cnBvc2VzLlxuICogQHBhcmFtIHshUG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gcHJvdG90eXBlIEVsZW1lbnQgcHJvdG90eXBlIHRvIHJlZ2lzdGVyXG4gKiBAcHJvdGVjdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlcihwcm90b3R5cGUpIHtcbiAgcmVnaXN0cmF0aW9ucy5wdXNoKHByb3RvdHlwZSk7XG59XG5cbi8qKlxuICogTG9ncyBhbGwgZWxlbWVudHMgcmVnaXN0ZXJlZCB3aXRoIGFuIGBpc2AgdG8gdGhlIGNvbnNvbGUuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkdW1wUmVnaXN0cmF0aW9ucygpIHtcbiAgcmVnaXN0cmF0aW9ucy5mb3JFYWNoKF9yZWdMb2cpO1xufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgcmVnaXN0ZXIsIGluY3JlbWVudEluc3RhbmNlQ291bnQgfSBmcm9tICcuLi91dGlscy90ZWxlbWV0cnkuanMnO1xuaW1wb3J0IHsgUHJvcGVydGllc0NoYW5nZWQgfSBmcm9tICcuL3Byb3BlcnRpZXMtY2hhbmdlZC5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNvcHkgb2YgYHByb3BzYCB3aXRoIGVhY2ggcHJvcGVydHkgbm9ybWFsaXplZCBzdWNoIHRoYXRcbiAqIHVwZ3JhZGVkIGl0IGlzIGFuIG9iamVjdCB3aXRoIGF0IGxlYXN0IGEgdHlwZSBwcm9wZXJ0eSB7IHR5cGU6IFR5cGV9LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBQcm9wZXJ0aWVzIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybiB7T2JqZWN0fSBDb3B5IG9mIGlucHV0IGBwcm9wc2Agd2l0aCBub3JtYWxpemVkIHByb3BlcnRpZXMgdGhhdFxuICogYXJlIGluIHRoZSBmb3JtIHt0eXBlOiBUeXBlfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUHJvcGVydGllcyhwcm9wcykge1xuICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgZm9yIChsZXQgcCBpbiBwcm9wcykge1xuICAgIGNvbnN0IG8gPSBwcm9wc1twXTtcbiAgICBvdXRwdXRbcF0gPSAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicpID8ge3R5cGU6IG99IDogbztcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIE1peGluIHRoYXQgcHJvdmlkZXMgYSBtaW5pbWFsIHN0YXJ0aW5nIHBvaW50IHRvIHVzaW5nIHRoZSBQcm9wZXJ0aWVzQ2hhbmdlZFxuICogbWl4aW4gYnkgcHJvdmlkaW5nIGEgbWVjaGFuaXNtIHRvIGRlY2xhcmUgcHJvcGVydGllcyBpbiBhIHN0YXRpY1xuICogZ2V0dGVyIChlLmcuIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHsgcmV0dXJuIHsgZm9vOiBTdHJpbmcgfSB9KS4gQ2hhbmdlc1xuICogYXJlIHJlcG9ydGVkIHZpYSB0aGUgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgbWV0aG9kLlxuICpcbiAqIFRoaXMgbWl4aW4gcHJvdmlkZXMgbm8gc3BlY2lmaWMgc3VwcG9ydCBmb3IgcmVuZGVyaW5nLiBVc2VycyBhcmUgZXhwZWN0ZWRcbiAqIHRvIGNyZWF0ZSBhIFNoYWRvd1Jvb3QgYW5kIHB1dCBjb250ZW50IGludG8gaXQgYW5kIHVwZGF0ZSBpdCBpbiB3aGF0ZXZlclxuICogd2F5IG1ha2VzIHNlbnNlLiBUaGlzIGNhbiBiZSBkb25lIGluIHJlYWN0aW9uIHRvIHByb3BlcnRpZXMgY2hhbmdpbmcgYnlcbiAqIGltcGxlbWVudGluZyBgX3Byb3BlcnRpZXNDaGFuZ2VkYC5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydGllc0NoYW5nZWRcbiAqIEBzdW1tYXJ5IE1peGluIHRoYXQgcHJvdmlkZXMgYSBtaW5pbWFsIHN0YXJ0aW5nIHBvaW50IGZvciB1c2luZ1xuICogdGhlIFByb3BlcnRpZXNDaGFuZ2VkIG1peGluIGJ5IHByb3ZpZGluZyBhIGRlY2xhcmF0aXZlIGBwcm9wZXJ0aWVzYCBvYmplY3QuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydGllc01peGluID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuIC8qKlxuICAqIEBjb25zdHJ1Y3RvclxuICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNDaGFuZ2VkfVxuICAqIEBwcml2YXRlXG4gICovXG4gY29uc3QgYmFzZSA9IFByb3BlcnRpZXNDaGFuZ2VkKHN1cGVyQ2xhc3MpO1xuXG4gLyoqXG4gICogUmV0dXJucyB0aGUgc3VwZXIgY2xhc3MgY29uc3RydWN0b3IgZm9yIHRoZSBnaXZlbiBjbGFzcywgaWYgaXQgaXMgYW5cbiAgKiBpbnN0YW5jZSBvZiB0aGUgUHJvcGVydGllc01peGluLlxuICAqXG4gICogQHBhcmFtIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9IGNvbnN0cnVjdG9yIFByb3BlcnRpZXNNaXhpbiBjb25zdHJ1Y3RvclxuICAqIEByZXR1cm4gez9Qcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gU3VwZXIgY2xhc3MgY29uc3RydWN0b3JcbiAgKi9cbiBmdW5jdGlvbiBzdXBlclByb3BlcnRpZXNDbGFzcyhjb25zdHJ1Y3Rvcikge1xuICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbnN0cnVjdG9yKTtcblxuICAgLy8gTm90ZSwgdGhlIGBQcm9wZXJ0aWVzTWl4aW5gIGNsYXNzIGJlbG93IG9ubHkgcmVmZXJzIHRvIHRoZSBjbGFzc1xuICAgLy8gZ2VuZXJhdGVkIGJ5IHRoaXMgY2FsbCB0byB0aGUgbWl4aW47IHRoZSBpbnN0YW5jZW9mIHRlc3Qgb25seSB3b3Jrc1xuICAgLy8gYmVjYXVzZSB0aGUgbWl4aW4gaXMgZGVkdXBlZCBhbmQgZ3VhcmFudGVlZCBvbmx5IHRvIGFwcGx5IG9uY2UsIGhlbmNlXG4gICAvLyBhbGwgY29uc3RydWN0b3JzIGluIGEgcHJvdG8gY2hhaW4gd2lsbCBzZWUgdGhlIHNhbWUgYFByb3BlcnRpZXNNaXhpbmBcbiAgIHJldHVybiAoc3VwZXJDdG9yLnByb3RvdHlwZSBpbnN0YW5jZW9mIFByb3BlcnRpZXNNaXhpbikgP1xuICAgICAvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8gKHN1cGVyQ3RvcikgOiBudWxsO1xuIH1cblxuIC8qKlxuICAqIFJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBgcHJvcGVydGllc2Agb2JqZWN0IGZvciB0aGVcbiAgKiBnaXZlbiBjbGFzcy4gUHJvcGVydGllcyBub3QgaW4gb2JqZWN0IGZvcm1hdCBhcmUgY29udmVydGVkIHRvIGF0XG4gICogbGVhc3Qge3R5cGV9LlxuICAqXG4gICogQHBhcmFtIHtQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gY29uc3RydWN0b3IgUHJvcGVydGllc01peGluIGNvbnN0cnVjdG9yXG4gICogQHJldHVybiB7T2JqZWN0fSBNZW1vaXplZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAqL1xuIGZ1bmN0aW9uIG93blByb3BlcnRpZXMoY29uc3RydWN0b3IpIHtcbiAgIGlmICghY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vd25Qcm9wZXJ0aWVzJywgY29uc3RydWN0b3IpKSkge1xuICAgICBsZXQgcHJvcHMgPSBudWxsO1xuXG4gICAgIGlmIChjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgY29uc3RydWN0b3IpKSkge1xuICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBjb25zdHJ1Y3Rvci5wcm9wZXJ0aWVzO1xuXG4gICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcHMgPSBub3JtYWxpemVQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgICAgIH1cbiAgICAgfVxuXG4gICAgIGNvbnN0cnVjdG9yLl9fb3duUHJvcGVydGllcyA9IHByb3BzO1xuICAgfVxuICAgcmV0dXJuIGNvbnN0cnVjdG9yLl9fb3duUHJvcGVydGllcztcbiB9XG5cbiAvKipcbiAgKiBAcG9seW1lclxuICAqIEBtaXhpbkNsYXNzXG4gICogQGV4dGVuZHMge2Jhc2V9XG4gICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc01peGlufVxuICAqIEB1bnJlc3RyaWN0ZWRcbiAgKi9cbiBjbGFzcyBQcm9wZXJ0aWVzTWl4aW4gZXh0ZW5kcyBiYXNlIHtcblxuICAgLyoqXG4gICAgKiBJbXBsZW1lbnRzIHN0YW5kYXJkIGN1c3RvbSBlbGVtZW50cyBnZXR0ZXIgdG8gb2JzZXJ2ZXMgdGhlIGF0dHJpYnV0ZXNcbiAgICAqIGxpc3RlZCBpbiBgcHJvcGVydGllc2AuXG4gICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vYnNlcnZlZEF0dHJpYnV0ZXMnLCB0aGlzKSkpIHtcbiAgICAgICByZWdpc3Rlcih0aGlzLnByb3RvdHlwZSk7XG4gICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLl9wcm9wZXJ0aWVzO1xuICAgICAgIHRoaXMuX19vYnNlcnZlZEF0dHJpYnV0ZXMgPSBwcm9wcyA/IE9iamVjdC5rZXlzKHByb3BzKS5tYXAocCA9PiB0aGlzLmF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwKSkgOiBbXTtcbiAgICAgfVxuICAgICByZXR1cm4gdGhpcy5fX29ic2VydmVkQXR0cmlidXRlcztcbiAgIH1cblxuICAgLyoqXG4gICAgKiBGaW5hbGl6ZXMgYW4gZWxlbWVudCBkZWZpbml0aW9uLCBpbmNsdWRpbmcgZW5zdXJpbmcgYW55IHN1cGVyIGNsYXNzZXNcbiAgICAqIGFyZSBhbHNvIGZpbmFsaXplZC4gVGhpcyBpbmNsdWRlcyBlbnN1cmluZyBwcm9wZXJ0eVxuICAgICogYWNjZXNzb3JzIGV4aXN0IG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZS4gVGhpcyBtZXRob2QgY2FsbHNcbiAgICAqIGBfZmluYWxpemVDbGFzc2AgdG8gZmluYWxpemUgZWFjaCBjb25zdHJ1Y3RvciBpbiB0aGUgcHJvdG90eXBlIGNoYWluLlxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19fZmluYWxpemVkJywgdGhpcykpKSB7XG4gICAgICAgY29uc3Qgc3VwZXJDdG9yID0gc3VwZXJQcm9wZXJ0aWVzQ2xhc3MoLyoqIEB0eXBlIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKTtcbiAgICAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcbiAgICAgICB9XG4gICAgICAgdGhpcy5fX2ZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgdGhpcy5fZmluYWxpemVDbGFzcygpO1xuICAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICogRmluYWxpemUgYW4gZWxlbWVudCBjbGFzcy4gVGhpcyBpbmNsdWRlcyBlbnN1cmluZyBwcm9wZXJ0eVxuICAgICogYWNjZXNzb3JzIGV4aXN0IG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZS4gVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5XG4gICAgKiBgZmluYWxpemVgIGFuZCBmaW5hbGl6ZXMgdGhlIGNsYXNzIGNvbnN0cnVjdG9yLlxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgY29uc3QgcHJvcHMgPSBvd25Qcm9wZXJ0aWVzKC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyh0aGlzKSk7XG4gICAgIGlmIChwcm9wcykge1xuICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKHRoaXMpLmNyZWF0ZVByb3BlcnRpZXMocHJvcHMpO1xuICAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICogUmV0dXJucyBhIG1lbW9pemVkIHZlcnNpb24gb2YgYWxsIHByb3BlcnRpZXMsIGluY2x1ZGluZyB0aG9zZSBpbmhlcml0ZWRcbiAgICAqIGZyb20gc3VwZXIgY2xhc3Nlcy4gUHJvcGVydGllcyBub3QgaW4gb2JqZWN0IGZvcm1hdCBhcmUgY29udmVydGVkIHRvXG4gICAgKiBhdCBsZWFzdCB7dHlwZX0uXG4gICAgKlxuICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIGZvciB0aGlzIGNsYXNzXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAbm9jb2xsYXBzZVxuICAgICovXG4gICBzdGF0aWMgZ2V0IF9wcm9wZXJ0aWVzKCkge1xuICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19wcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgY29uc3Qgc3VwZXJDdG9yID0gc3VwZXJQcm9wZXJ0aWVzQ2xhc3MoLyoqIEB0eXBlIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKTtcbiAgICAgICB0aGlzLl9fcHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sXG4gICAgICAgICBzdXBlckN0b3IgJiYgc3VwZXJDdG9yLl9wcm9wZXJ0aWVzLFxuICAgICAgICAgb3duUHJvcGVydGllcygvKiogQHR5cGUge1Byb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyh0aGlzKSkpO1xuICAgICB9XG4gICAgIHJldHVybiB0aGlzLl9fcHJvcGVydGllcztcbiAgIH1cblxuICAgLyoqXG4gICAgKiBPdmVycmlkZXMgYFByb3BlcnRpZXNDaGFuZ2VkYCBtZXRob2QgdG8gcmV0dXJuIHR5cGUgc3BlY2lmaWVkIGluIHRoZVxuICAgICogc3RhdGljIGBwcm9wZXJ0aWVzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgcHJvcGVydHlcbiAgICAqIEByZXR1cm4geyp9IFR5cGUgdG8gd2hpY2ggdG8gZGVzZXJpYWxpemUgYXR0cmlidXRlXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIHR5cGVGb3JQcm9wZXJ0eShuYW1lKSB7XG4gICAgIGNvbnN0IGluZm8gPSB0aGlzLl9wcm9wZXJ0aWVzW25hbWVdO1xuICAgICByZXR1cm4gaW5mbyAmJiBpbmZvLnR5cGU7XG4gICB9XG5cbiAgIC8qKlxuICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0aWVzQ2hhbmdlZGAgbWV0aG9kIGFuZCBhZGRzIGEgY2FsbCB0b1xuICAgICogYGZpbmFsaXplYCB3aGljaCBsYXppbHkgY29uZmlndXJlcyB0aGUgZWxlbWVudCdzIHByb3BlcnR5IGFjY2Vzc29ycy5cbiAgICAqIEBvdmVycmlkZVxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqL1xuICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICBpbmNyZW1lbnRJbnN0YW5jZUNvdW50KCk7XG4gICAgIHRoaXMuY29uc3RydWN0b3IuZmluYWxpemUoKTtcbiAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWRkZWQgdG8gYSBkb2N1bWVudC5cbiAgICAqIENhbGxzIGBfZW5hYmxlUHJvcGVydGllc2AgdG8gdHVybiBvbiBwcm9wZXJ0eSBzeXN0ZW0gZnJvbVxuICAgICogYFByb3BlcnRpZXNDaGFuZ2VkYC5cbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IFN1cGVyIG1heSBvciBtYXkgbm90IGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgIGlmIChzdXBlci5jb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgIH1cbiAgICAgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSBhIGRvY3VtZW50XG4gICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBTdXBlciBtYXkgb3IgbWF5IG5vdCBpbXBsZW1lbnQgdGhlIGNhbGxiYWNrXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG92ZXJyaWRlXG4gICAgKi9cbiAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICBpZiAoc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICB9XG4gICB9XG5cbiB9XG5cbiByZXR1cm4gUHJvcGVydGllc01peGluO1xuXG59KTtcbiIsIi8qKlxuICogQGZpbGVvdmVydmlld1xuICogQHN1cHByZXNzIHtjaGVja1Byb3RvdHlwYWxUeXBlc31cbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kXG4gKiBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5XG4gKiBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5XG4gKiBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQXG4gKiByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IHJvb3RQYXRoLCBzdHJpY3RUZW1wbGF0ZVBvbGljeSwgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUsIGxlZ2FjeU9wdGltaXphdGlvbnMsIHN5bmNJbml0aWFsUmVuZGVyIH0gZnJvbSAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IHN0eWxlc0Zyb21UZW1wbGF0ZSwgc3R5bGVzRnJvbU1vZHVsZUltcG9ydHMgfSBmcm9tICcuLi91dGlscy9zdHlsZS1nYXRoZXIuanMnO1xuaW1wb3J0IHsgcGF0aEZyb21VcmwsIHJlc29sdmVDc3MsIHJlc29sdmVVcmwgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlLXVybC5qcyc7XG5pbXBvcnQgeyBEb21Nb2R1bGUgfSBmcm9tICcuLi9lbGVtZW50cy9kb20tbW9kdWxlLmpzJztcbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4vcHJvcGVydHktZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzTWl4aW4gfSBmcm9tICcuL3Byb3BlcnRpZXMtbWl4aW4uanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuXG4vKipcbiAqIEN1cnJlbnQgUG9seW1lciB2ZXJzaW9uIGluIFNlbXZlciBub3RhdGlvbi5cbiAqIEB0eXBlIHtzdHJpbmd9IFNlbXZlciBub3RhdGlvbiBvZiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFBvbHltZXIuXG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzMuMy4xJztcblxuY29uc3QgYnVpbHRDU1MgPSB3aW5kb3cuU2hhZHlDU1MgJiYgd2luZG93LlNoYWR5Q1NTWydjc3NCdWlsZCddO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyB0aGUgY29yZSBBUEkgZm9yIFBvbHltZXIncyBtZXRhLXByb2dyYW1taW5nXG4gKiBmZWF0dXJlcyBpbmNsdWRpbmcgdGVtcGxhdGUgc3RhbXBpbmcsIGRhdGEtYmluZGluZywgYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbixcbiAqIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb24uXG4gKlxuICogU3ViY2xhc3NlcnMgbWF5IHByb3ZpZGUgdGhlIGZvbGxvd2luZyBzdGF0aWMgZ2V0dGVycyB0byByZXR1cm4gbWV0YWRhdGFcbiAqIHVzZWQgdG8gY29uZmlndXJlIFBvbHltZXIncyBmZWF0dXJlcyBmb3IgdGhlIGNsYXNzOlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgaXMoKWA6IFdoZW4gdGhlIHRlbXBsYXRlIGlzIHByb3ZpZGVkIHZpYSBhIGBkb20tbW9kdWxlYCxcbiAqICAgdXNlcnMgc2hvdWxkIHJldHVybiB0aGUgYGRvbS1tb2R1bGVgIGlkIGZyb20gYSBzdGF0aWMgYGlzYCBnZXR0ZXIuICBJZlxuICogICBubyB0ZW1wbGF0ZSBpcyBuZWVkZWQgb3IgdGhlIHRlbXBsYXRlIGlzIHByb3ZpZGVkIGRpcmVjdGx5IHZpYSB0aGVcbiAqICAgYHRlbXBsYXRlYCBnZXR0ZXIsIHRoZXJlIGlzIG5vIG5lZWQgdG8gZGVmaW5lIGBpc2AgZm9yIHRoZSBlbGVtZW50LlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgdGVtcGxhdGUoKWA6IFVzZXJzIG1heSBwcm92aWRlIHRoZSB0ZW1wbGF0ZSBkaXJlY3RseSAoYXNcbiAqICAgb3Bwb3NlZCB0byB2aWEgYGRvbS1tb2R1bGVgKSBieSBpbXBsZW1lbnRpbmcgYSBzdGF0aWMgYHRlbXBsYXRlYCBnZXR0ZXIuXG4gKiAgIFRoZSBnZXR0ZXIgbXVzdCByZXR1cm4gYW4gYEhUTUxUZW1wbGF0ZUVsZW1lbnRgLlxuICpcbiAqIC0gYHN0YXRpYyBnZXQgcHJvcGVydGllcygpYDogU2hvdWxkIHJldHVybiBhbiBvYmplY3QgZGVzY3JpYmluZ1xuICogICBwcm9wZXJ0eS1yZWxhdGVkIG1ldGFkYXRhIHVzZWQgYnkgUG9seW1lciBmZWF0dXJlcyAoa2V5OiBwcm9wZXJ0eSBuYW1lXG4gKiAgIHZhbHVlOiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0eSBtZXRhZGF0YSkuIFZhbGlkIGtleXMgaW4gcGVyLXByb3BlcnR5XG4gKiAgIG1ldGFkYXRhIGluY2x1ZGU6XG4gKiAgIC0gYHR5cGVgIChTdHJpbmd8TnVtYmVyfE9iamVjdHxBcnJheXwuLi4pOiBVc2VkIGJ5XG4gKiAgICAgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgdG8gZGV0ZXJtaW5lIGhvdyBzdHJpbmctYmFzZWQgYXR0cmlidXRlc1xuICogICAgIGFyZSBkZXNlcmlhbGl6ZWQgdG8gSmF2YVNjcmlwdCBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiAgIC0gYG5vdGlmeWAgKGJvb2xlYW4pOiBDYXVzZXMgYSBjaGFuZ2UgaW4gdGhlIHByb3BlcnR5IHRvIGZpcmUgYVxuICogICAgIG5vbi1idWJibGluZyBldmVudCBjYWxsZWQgYDxwcm9wZXJ0eT4tY2hhbmdlZGAuIEVsZW1lbnRzIHRoYXQgaGF2ZVxuICogICAgIGVuYWJsZWQgdHdvLXdheSBiaW5kaW5nIHRvIHRoZSBwcm9wZXJ0eSB1c2UgdGhpcyBldmVudCB0byBvYnNlcnZlIGNoYW5nZXMuXG4gKiAgIC0gYHJlYWRPbmx5YCAoYm9vbGVhbik6IENyZWF0ZXMgYSBnZXR0ZXIgZm9yIHRoZSBwcm9wZXJ0eSwgYnV0IG5vIHNldHRlci5cbiAqICAgICBUbyBzZXQgYSByZWFkLW9ubHkgcHJvcGVydHksIHVzZSB0aGUgcHJpdmF0ZSBzZXR0ZXIgbWV0aG9kXG4gKiAgICAgYF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpYC5cbiAqICAgLSBgb2JzZXJ2ZXJgIChzdHJpbmcpOiBPYnNlcnZlciBtZXRob2QgbmFtZSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW5cbiAqICAgICB0aGUgcHJvcGVydHkgY2hhbmdlcy4gVGhlIGFyZ3VtZW50cyBvZiB0aGUgbWV0aG9kIGFyZVxuICogICAgIGAodmFsdWUsIHByZXZpb3VzVmFsdWUpYC5cbiAqICAgLSBgY29tcHV0ZWRgIChzdHJpbmcpOiBTdHJpbmcgZGVzY3JpYmluZyBtZXRob2QgYW5kIGRlcGVuZGVudCBwcm9wZXJ0aWVzXG4gKiAgICAgZm9yIGNvbXB1dGluZyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSAoZS5nLiBgJ2NvbXB1dGVGb28oYmFyLCB6b3QpJ2ApLlxuICogICAgIENvbXB1dGVkIHByb3BlcnRpZXMgYXJlIHJlYWQtb25seSBieSBkZWZhdWx0IGFuZCBjYW4gb25seSBiZSBjaGFuZ2VkXG4gKiAgICAgdmlhIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNvbXB1dGluZyBtZXRob2QuXG4gKlxuICogLSBgc3RhdGljIGdldCBvYnNlcnZlcnMoKWA6IEFycmF5IG9mIHN0cmluZ3MgZGVzY3JpYmluZyBtdWx0aS1wcm9wZXJ0eVxuICogICBvYnNlcnZlciBtZXRob2RzIGFuZCB0aGVpciBkZXBlbmRlbnQgcHJvcGVydGllcyAoZS5nLlxuICogICBgJ29ic2VydmVBQkMoYSwgYiwgYyknYCkuXG4gKlxuICogVGhlIGJhc2UgY2xhc3MgcHJvdmlkZXMgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbnMgZm9yIHRoZSBmb2xsb3dpbmcgc3RhbmRhcmRcbiAqIGN1c3RvbSBlbGVtZW50IGxpZmVjeWNsZSBjYWxsYmFja3M7IHVzZXJzIG1heSBvdmVycmlkZSB0aGVzZSwgYnV0IHNob3VsZFxuICogY2FsbCB0aGUgc3VwZXIgbWV0aG9kIHRvIGVuc3VyZVxuICogLSBgY29uc3RydWN0b3JgOiBSdW4gd2hlbiB0aGUgZWxlbWVudCBpcyBjcmVhdGVkIG9yIHVwZ3JhZGVkXG4gKiAtIGBjb25uZWN0ZWRDYWxsYmFja2A6IFJ1biBlYWNoIHRpbWUgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHRvIHRoZVxuICogICBkb2N1bWVudFxuICogLSBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgOiBSdW4gZWFjaCB0aW1lIHRoZSBlbGVtZW50IGlzIGRpc2Nvbm5lY3RlZCBmcm9tXG4gKiAgIHRoZSBkb2N1bWVudFxuICogLSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYDogUnVuIGVhY2ggdGltZSBhbiBhdHRyaWJ1dGUgaW5cbiAqICAgYG9ic2VydmVkQXR0cmlidXRlc2AgaXMgc2V0IG9yIHJlbW92ZWQgKG5vdGU6IHRoaXMgZWxlbWVudCdzIGRlZmF1bHRcbiAqICAgYG9ic2VydmVkQXR0cmlidXRlc2AgaW1wbGVtZW50YXRpb24gd2lsbCBhdXRvbWF0aWNhbGx5IHJldHVybiBhbiBhcnJheVxuICogICBvZiBkYXNoLWNhc2VkIGF0dHJpYnV0ZXMgYmFzZWQgb24gYHByb3BlcnRpZXNgKVxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUVmZmVjdHNcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydGllc01peGluXG4gKiBAcHJvcGVydHkgcm9vdFBhdGgge3N0cmluZ30gU2V0IHRvIHRoZSB2YWx1ZSBvZiBgcm9vdFBhdGhgLFxuICogICB3aGljaCBkZWZhdWx0cyB0byB0aGUgbWFpbiBkb2N1bWVudCBwYXRoXG4gKiBAcHJvcGVydHkgaW1wb3J0UGF0aCB7c3RyaW5nfSBTZXQgdG8gdGhlIHZhbHVlIG9mIHRoZSBjbGFzcydzIHN0YXRpY1xuICogICBgaW1wb3J0UGF0aGAgcHJvcGVydHksIHdoaWNoIGRlZmF1bHRzIHRvIHRoZSBwYXRoIG9mIHRoaXMgZWxlbWVudCdzXG4gKiAgIGBkb20tbW9kdWxlYCAod2hlbiBgaXNgIGlzIHVzZWQpLCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gZm9yIG90aGVyXG4gKiAgIGltcG9ydCBzdHJhdGVnaWVzLlxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzXG4gKiBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzLlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEVsZW1lbnRNaXhpbiA9IGRlZHVwaW5nTWl4aW4oYmFzZSA9PiB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0aWVzTWl4aW59XG4gICAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IHBvbHltZXJFbGVtZW50QmFzZSA9IFByb3BlcnRpZXNNaXhpbihQcm9wZXJ0eUVmZmVjdHMoYmFzZSkpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIHdpdGggZGVmYXVsdCB2YWx1ZXMuXG4gICAqIFRoaXMgbGlzdCBpcyBjcmVhdGVkIGFzIGFuIG9wdGltaXphdGlvbiBzaW5jZSBpdCBpcyBhIHN1YnNldCBvZlxuICAgKiB0aGUgbGlzdCByZXR1cm5lZCBmcm9tIGBfcHJvcGVydGllc2AuXG4gICAqIFRoaXMgbGlzdCBpcyB1c2VkIGluIGBfaW5pdGlhbGl6ZVByb3BlcnRpZXNgIHRvIHNldCBwcm9wZXJ0eSBkZWZhdWx0cy5cbiAgICpcbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBFbGVtZW50IGNsYXNzXG4gICAqIEByZXR1cm4ge1BvbHltZXJFbGVtZW50UHJvcGVydGllc30gRmxhdHRlbmVkIHByb3BlcnRpZXMgZm9yIHRoaXMgY2xhc3NcbiAgICogICB0aGF0IGhhdmUgZGVmYXVsdCB2YWx1ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHByb3BlcnR5RGVmYXVsdHMoY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIWNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFxuICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19wcm9wZXJ0eURlZmF1bHRzJywgY29uc3RydWN0b3IpKSkge1xuICAgICAgY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzID0gbnVsbDtcbiAgICAgIGxldCBwcm9wcyA9IGNvbnN0cnVjdG9yLl9wcm9wZXJ0aWVzO1xuICAgICAgZm9yIChsZXQgcCBpbiBwcm9wcykge1xuICAgICAgICBsZXQgaW5mbyA9IHByb3BzW3BdO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBpbmZvKSB7XG4gICAgICAgICAgY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzID0gY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzIHx8IHt9O1xuICAgICAgICAgIGNvbnN0cnVjdG9yLl9fcHJvcGVydHlEZWZhdWx0c1twXSA9IGluZm87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLl9fcHJvcGVydHlEZWZhdWx0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiB0aGUgYG9ic2VydmVyc2AgYXJyYXkuXG4gICAqIEBwYXJhbSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gY29uc3RydWN0b3IgRWxlbWVudCBjbGFzc1xuICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgY29udGFpbmluZyBvd24gb2JzZXJ2ZXJzIGZvciB0aGUgZ2l2ZW4gY2xhc3NcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZnVuY3Rpb24gb3duT2JzZXJ2ZXJzKGNvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCFjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShcbiAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19fb3duT2JzZXJ2ZXJzJywgY29uc3RydWN0b3IpKSkge1xuICAgICAgY29uc3RydWN0b3IuX19vd25PYnNlcnZlcnMgPVxuICAgICAgICAgIGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdvYnNlcnZlcnMnLCBjb25zdHJ1Y3RvcikpID9cbiAgICAgICAgICAvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9ICovIChjb25zdHJ1Y3Rvcikub2JzZXJ2ZXJzIDpcbiAgICAgICAgICBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3IuX19vd25PYnNlcnZlcnM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBlZmZlY3RzIGZvciBhIHByb3BlcnR5LlxuICAgKlxuICAgKiBOb3RlLCBvbmNlIGEgcHJvcGVydHkgaGFzIGJlZW4gc2V0IHRvXG4gICAqIGByZWFkT25seWAsIGBjb21wdXRlZGAsIGByZWZsZWN0VG9BdHRyaWJ1dGVgLCBvciBgbm90aWZ5YFxuICAgKiB0aGVzZSB2YWx1ZXMgbWF5IG5vdCBiZSBjaGFuZ2VkLiBGb3IgZXhhbXBsZSwgYSBzdWJjbGFzcyBjYW5ub3RcbiAgICogYWx0ZXIgdGhlc2Ugc2V0dGluZ3MuIEhvd2V2ZXIsIGFkZGl0aW9uYWwgYG9ic2VydmVyc2AgbWF5IGJlIGFkZGVkXG4gICAqIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIFRoZSBpbmZvIG9iamVjdCBzaG91bGQgY29udGFpbiBwcm9wZXJ0eSBtZXRhZGF0YSBhcyBmb2xsb3dzOlxuICAgKlxuICAgKiAqIGB0eXBlYDoge2Z1bmN0aW9ufSB0eXBlIHRvIHdoaWNoIGFuIGF0dHJpYnV0ZSBtYXRjaGluZyB0aGUgcHJvcGVydHlcbiAgICogaXMgZGVzZXJpYWxpemVkLiBOb3RlIHRoZSBwcm9wZXJ0eSBpcyBjYW1lbC1jYXNlZCBmcm9tIGEgZGFzaC1jYXNlZFxuICAgKiBhdHRyaWJ1dGUuIEZvciBleGFtcGxlLCAnZm9vLWJhcicgYXR0cmlidXRlIGlzIGRlc2VyaWFsaXplZCB0byBhXG4gICAqIHByb3BlcnR5IG5hbWVkICdmb29CYXInLlxuICAgKlxuICAgKiAqIGByZWFkT25seWA6IHtib29sZWFufSBjcmVhdGVzIGEgcmVhZE9ubHkgcHJvcGVydHkgYW5kXG4gICAqIG1ha2VzIGEgcHJpdmF0ZSBzZXR0ZXIgZm9yIHRoZSBwcml2YXRlIG9mIHRoZSBmb3JtICdfc2V0Rm9vJyBmb3IgYVxuICAgKiBwcm9wZXJ0eSAnZm9vJyxcbiAgICpcbiAgICogKiBgY29tcHV0ZWRgOiB7c3RyaW5nfSBjcmVhdGVzIGEgY29tcHV0ZWQgcHJvcGVydHkuIEEgY29tcHV0ZWQgcHJvcGVydHlcbiAgICogaXMgYWxzbyBhdXRvbWF0aWNhbGx5IHNldCB0byBgcmVhZE9ubHk6IHRydWVgLiBUaGUgdmFsdWUgaXMgY2FsY3VsYXRlZFxuICAgKiBieSBydW5uaW5nIGEgbWV0aG9kIGFuZCBhcmd1bWVudHMgcGFyc2VkIGZyb20gdGhlIGdpdmVuIHN0cmluZy4gRm9yXG4gICAqIGV4YW1wbGUgJ2NvbXB1dGUoZm9vKScgd2lsbCBjb21wdXRlIGEgZ2l2ZW4gcHJvcGVydHkgd2hlbiB0aGVcbiAgICogJ2ZvbycgcHJvcGVydHkgY2hhbmdlcyBieSBleGVjdXRpbmcgdGhlICdjb21wdXRlJyBtZXRob2QuIFRoaXMgbWV0aG9kXG4gICAqIG11c3QgcmV0dXJuIHRoZSBjb21wdXRlZCB2YWx1ZS5cbiAgICpcbiAgICogKiBgcmVmbGVjdFRvQXR0cmlidXRlYDoge2Jvb2xlYW59IElmIHRydWUsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyByZWZsZWN0ZWRcbiAgICogdG8gYW4gYXR0cmlidXRlIG9mIHRoZSBzYW1lIG5hbWUuIE5vdGUsIHRoZSBhdHRyaWJ1dGUgaXMgZGFzaC1jYXNlZFxuICAgKiBzbyBhIHByb3BlcnR5IG5hbWVkICdmb29CYXInIGlzIHJlZmxlY3RlZCBhcyAnZm9vLWJhcicuXG4gICAqXG4gICAqICogYG5vdGlmeWA6IHtib29sZWFufSBzZW5kcyBhIG5vbi1idWJibGluZyBub3RpZmljYXRpb24gZXZlbnQgd2hlblxuICAgKiB0aGUgcHJvcGVydHkgY2hhbmdlcy4gRm9yIGV4YW1wbGUsIGEgcHJvcGVydHkgbmFtZWQgJ2Zvbycgc2VuZHMgYW5cbiAgICogZXZlbnQgbmFtZWQgJ2Zvby1jaGFuZ2VkJyB3aXRoIGBldmVudC5kZXRhaWxgIHNldCB0byB0aGUgdmFsdWUgb2ZcbiAgICogdGhlIHByb3BlcnR5LlxuICAgKlxuICAgKiAqIG9ic2VydmVyOiB7c3RyaW5nfSBuYW1lIG9mIGEgbWV0aG9kIHRoYXQgcnVucyB3aGVuIHRoZSBwcm9wZXJ0eVxuICAgKiBjaGFuZ2VzLiBUaGUgYXJndW1lbnRzIG9mIHRoZSBtZXRob2QgYXJlICh2YWx1ZSwgcHJldmlvdXNWYWx1ZSkuXG4gICAqXG4gICAqIE5vdGU6IFVzZXJzIG1heSB3YW50IGNvbnRyb2wgb3ZlciBtb2RpZnlpbmcgcHJvcGVydHlcbiAgICogZWZmZWN0cyB2aWEgc3ViY2xhc3NpbmcuIEZvciBleGFtcGxlLCBhIHVzZXIgbWlnaHQgd2FudCB0byBtYWtlIGFcbiAgICogcmVmbGVjdFRvQXR0cmlidXRlIHByb3BlcnR5IG5vdCBkbyBzbyBpbiBhIHN1YmNsYXNzLiBXZSd2ZSBjaG9zZW4gdG9cbiAgICogZGlzYWJsZSB0aGlzIGJlY2F1c2UgaXQgbGVhZHMgdG8gYWRkaXRpb25hbCBjb21wbGljYXRpb24uXG4gICAqIEZvciBleGFtcGxlLCBhIHJlYWRPbmx5IGVmZmVjdCBnZW5lcmF0ZXMgYSBzcGVjaWFsIHNldHRlci4gSWYgYSBzdWJjbGFzc1xuICAgKiBkaXNhYmxlcyB0aGUgZWZmZWN0LCB0aGUgc2V0dGVyIHdvdWxkIGZhaWwgdW5leHBlY3RlZGx5LlxuICAgKiBCYXNlZCBvbiBmZWVkYmFjaywgd2UgbWF5IHdhbnQgdG8gdHJ5IHRvIG1ha2UgZWZmZWN0cyBtb3JlIG1hbGxlYWJsZVxuICAgKiBhbmQvb3IgcHJvdmlkZSBhbiBhZHZhbmNlZCBhcGkgZm9yIG1hbmlwdWxhdGluZyB0aGVtLlxuICAgKlxuICAgKiBAcGFyYW0geyFQb2x5bWVyRWxlbWVudH0gcHJvdG8gRWxlbWVudCBjbGFzcyBwcm90b3R5cGUgdG8gYWRkIGFjY2Vzc29yc1xuICAgKiAgIGFuZCBlZmZlY3RzIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIHByb3BlcnR5LlxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5mbyBJbmZvIG9iamVjdCBmcm9tIHdoaWNoIHRvIGNyZWF0ZSBwcm9wZXJ0eSBlZmZlY3RzLlxuICAgKiBTdXBwb3J0ZWQga2V5czpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFsbFByb3BzIEZsYXR0ZW5lZCBtYXAgb2YgYWxsIHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGlzXG4gICAqICAgZWxlbWVudCAoaW5jbHVkaW5nIGluaGVyaXRlZCBwcm9wZXJ0aWVzKVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlGcm9tQ29uZmlnKHByb3RvLCBuYW1lLCBpbmZvLCBhbGxQcm9wcykge1xuICAgIC8vIGNvbXB1dGVkIGZvcmNlcyByZWFkT25seS4uLlxuICAgIGlmIChpbmZvLmNvbXB1dGVkKSB7XG4gICAgICBpbmZvLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gTm90ZSwgc2luY2UgYWxsIGNvbXB1dGVkIHByb3BlcnRpZXMgYXJlIHJlYWRPbmx5LCB0aGlzIHByZXZlbnRzXG4gICAgLy8gYWRkaW5nIGFkZGl0aW9uYWwgY29tcHV0ZWQgcHJvcGVydHkgZWZmZWN0cyAod2hpY2ggbGVhZHMgdG8gYSBjb25mdXNpbmdcbiAgICAvLyBzZXR1cCB3aGVyZSBtdWx0aXBsZSB0cmlnZ2VycyBmb3Igc2V0dGluZyBhIHByb3BlcnR5KVxuICAgIC8vIFdoaWxlIHdlIGRvIGhhdmUgYGhhc0NvbXB1dGVkRWZmZWN0YCB0aGlzIGlzIHNldCBvbiB0aGUgcHJvcGVydHknc1xuICAgIC8vIGRlcGVuZGVuY2llcyByYXRoZXIgdGhhbiBpdHNlbGYuXG4gICAgaWYgKGluZm8uY29tcHV0ZWQpIHtcbiAgICAgIGlmIChwcm90by5faGFzUmVhZE9ubHlFZmZlY3QobmFtZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgcmVkZWZpbmUgY29tcHV0ZWQgcHJvcGVydHkgJyR7bmFtZX0nLmApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvdG8uX2NyZWF0ZUNvbXB1dGVkUHJvcGVydHkobmFtZSwgaW5mby5jb21wdXRlZCwgYWxsUHJvcHMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5mby5yZWFkT25seSAmJiAhcHJvdG8uX2hhc1JlYWRPbmx5RWZmZWN0KG5hbWUpKSB7XG4gICAgICBwcm90by5fY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eShuYW1lLCAhaW5mby5jb21wdXRlZCk7XG4gICAgfSBlbHNlIGlmIChpbmZvLnJlYWRPbmx5ID09PSBmYWxzZSAmJiBwcm90by5faGFzUmVhZE9ubHlFZmZlY3QobmFtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IG1ha2UgcmVhZE9ubHkgcHJvcGVydHkgJyR7bmFtZX0nIG5vbi1yZWFkT25seS5gKTtcbiAgICB9XG4gICAgaWYgKGluZm8ucmVmbGVjdFRvQXR0cmlidXRlICYmICFwcm90by5faGFzUmVmbGVjdEVmZmVjdChuYW1lKSkge1xuICAgICAgcHJvdG8uX2NyZWF0ZVJlZmxlY3RlZFByb3BlcnR5KG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoaW5mby5yZWZsZWN0VG9BdHRyaWJ1dGUgPT09IGZhbHNlICYmIHByb3RvLl9oYXNSZWZsZWN0RWZmZWN0KG5hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBtYWtlIHJlZmxlY3RlZCBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLXJlZmxlY3RlZC5gKTtcbiAgICB9XG4gICAgaWYgKGluZm8ubm90aWZ5ICYmICFwcm90by5faGFzTm90aWZ5RWZmZWN0KG5hbWUpKSB7XG4gICAgICBwcm90by5fY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkobmFtZSk7XG4gICAgfSBlbHNlIGlmIChpbmZvLm5vdGlmeSA9PT0gZmFsc2UgJiYgcHJvdG8uX2hhc05vdGlmeUVmZmVjdChuYW1lKSkge1xuICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgbWFrZSBub3RpZnkgcHJvcGVydHkgJyR7bmFtZX0nIG5vbi1ub3RpZnkuYCk7XG4gICAgfVxuICAgIC8vIGFsd2F5cyBhZGQgb2JzZXJ2ZXJcbiAgICBpZiAoaW5mby5vYnNlcnZlcikge1xuICAgICAgcHJvdG8uX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIobmFtZSwgaW5mby5vYnNlcnZlciwgYWxsUHJvcHNbaW5mby5vYnNlcnZlcl0pO1xuICAgIH1cbiAgICAvLyBhbHdheXMgY3JlYXRlIHRoZSBtYXBwaW5nIGZyb20gYXR0cmlidXRlIGJhY2sgdG8gcHJvcGVydHkgZm9yIGRlc2VyaWFsaXphdGlvbi5cbiAgICBwcm90by5fYWRkUHJvcGVydHlUb0F0dHJpYnV0ZU1hcChuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIGFsbCBzdHlsZSBlbGVtZW50cyBpbiB0aGUgZWxlbWVudCB0ZW1wbGF0ZS4gU3R5bGVzIHdpdGggdGhlXG4gICAqIGBpbmNsdWRlYCBhdHRyaWJ1dGUgYXJlIHByb2Nlc3NlZCBzdWNoIHRoYXQgYW55IHN0eWxlcyBpblxuICAgKiB0aGUgYXNzb2NpYXRlZCBcInN0eWxlIG1vZHVsZXNcIiBhcmUgaW5jbHVkZWQgaW4gdGhlIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAqIEBwYXJhbSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0ga2xhc3MgRWxlbWVudCBjbGFzc1xuICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBwcm9jZXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpcyBOYW1lIG9mIGVsZW1lbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgZm9yIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHByb2Nlc3NFbGVtZW50U3R5bGVzKGtsYXNzLCB0ZW1wbGF0ZSwgaXMsIGJhc2VVUkkpIHtcbiAgICBpZiAoIWJ1aWx0Q1NTKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZVN0eWxlcyA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTtcbiAgICAgIGNvbnN0IHN0eWxlc1dpdGhJbXBvcnRzID0gc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIC8vIGluc2VydCBzdHlsZXMgZnJvbSA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+IGF0IHRoZSB0b3Agb2YgdGhlIHRlbXBsYXRlXG4gICAgICBjb25zdCBsaW5rZWRTdHlsZXMgPSBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhpcyk7XG4gICAgICBjb25zdCBmaXJzdFRlbXBsYXRlQ2hpbGQgPSB0ZW1wbGF0ZS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGlua2VkU3R5bGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IHMgPSBsaW5rZWRTdHlsZXNbaWR4XTtcbiAgICAgICAgcy50ZXh0Q29udGVudCA9IGtsYXNzLl9wcm9jZXNzU3R5bGVUZXh0KHMudGV4dENvbnRlbnQsIGJhc2VVUkkpO1xuICAgICAgICB0ZW1wbGF0ZS5jb250ZW50Lmluc2VydEJlZm9yZShzLCBmaXJzdFRlbXBsYXRlQ2hpbGQpO1xuICAgICAgfVxuICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbGFzdCBcImNvbmNyZXRlXCIgc3R5bGUgaW4gdGhlIHRlbXBsYXRlIHdlIGhhdmUgZW5jb3VudGVyZWRcbiAgICAgIGxldCB0ZW1wbGF0ZVN0eWxlSW5kZXggPSAwO1xuICAgICAgLy8gZW5zdXJlIGFsbCBnYXRoZXJlZCBzdHlsZXMgYXJlIGFjdHVhbGx5IGluIHRoaXMgdGVtcGxhdGUuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlc1dpdGhJbXBvcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzID0gc3R5bGVzV2l0aEltcG9ydHNbaV07XG4gICAgICAgIGxldCB0ZW1wbGF0ZVN0eWxlID0gdGVtcGxhdGVTdHlsZXNbdGVtcGxhdGVTdHlsZUluZGV4XTtcbiAgICAgICAgLy8gaWYgdGhlIHN0eWxlIGlzIG5vdCBpbiB0aGlzIHRlbXBsYXRlLCBpdCdzIGJlZW4gXCJpbmNsdWRlZFwiIGFuZFxuICAgICAgICAvLyB3ZSBwdXQgYSBjbG9uZSBvZiBpdCBpbiB0aGUgdGVtcGxhdGUgYmVmb3JlIHRoZSBzdHlsZSB0aGF0IGluY2x1ZGVkIGl0XG4gICAgICAgIGlmICh0ZW1wbGF0ZVN0eWxlICE9PSBzKSB7XG4gICAgICAgICAgcyA9IHMuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgIHRlbXBsYXRlU3R5bGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdGVtcGxhdGVTdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcGxhdGVTdHlsZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcy50ZXh0Q29udGVudCA9IGtsYXNzLl9wcm9jZXNzU3R5bGVUZXh0KHMudGV4dENvbnRlbnQsIGJhc2VVUkkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvb2sgdXAgdGVtcGxhdGUgZnJvbSBkb20tbW9kdWxlIGZvciBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpcyBFbGVtZW50IG5hbWUgdG8gbG9vayB1cFxuICAgKiBAcmV0dXJuIHs/SFRNTFRlbXBsYXRlRWxlbWVudHx1bmRlZmluZWR9IFRlbXBsYXRlIGZvdW5kIGluIGRvbSBtb2R1bGUsIG9yXG4gICAqICAgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZFxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmdW5jdGlvbiBnZXRUZW1wbGF0ZUZyb21Eb21Nb2R1bGUoaXMpIHtcbiAgICBsZXQgdGVtcGxhdGUgPSBudWxsO1xuICAgIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5IGluIDMueCssIGRvbS1tb2R1bGUgbG9va3VwIGlzIG9ubHkgYWxsb3dlZFxuICAgIC8vIHdoZW4gb3B0ZWQtaW4gdmlhIGFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlXG4gICAgaWYgKGlzICYmICghc3RyaWN0VGVtcGxhdGVQb2xpY3kgfHwgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUpKSB7XG4gICAgICB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7P0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChcbiAgICAgICAgICBEb21Nb2R1bGUuaW1wb3J0KGlzLCAndGVtcGxhdGUnKSk7XG4gICAgICAvLyBVbmRlciBzdHJpY3RUZW1wbGF0ZVBvbGljeSwgcmVxdWlyZSBhbnkgZWxlbWVudCB3aXRoIGFuIGBpc2BcbiAgICAgIC8vIHNwZWNpZmllZCB0byBoYXZlIGEgZG9tLW1vZHVsZVxuICAgICAgaWYgKHN0cmljdFRlbXBsYXRlUG9saWN5ICYmICF0ZW1wbGF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0cmljdFRlbXBsYXRlUG9saWN5OiBleHBlY3RpbmcgZG9tLW1vZHVsZSBvciBudWxsIHRlbXBsYXRlIGZvciAke2lzfWApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQHVucmVzdHJpY3RlZFxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9FbGVtZW50TWl4aW59XG4gICAqIEBleHRlbmRzIHtwb2x5bWVyRWxlbWVudEJhc2V9XG4gICAqL1xuICBjbGFzcyBQb2x5bWVyRWxlbWVudCBleHRlbmRzIHBvbHltZXJFbGVtZW50QmFzZSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IFBvbHltZXIgdmVyc2lvbiBpbiBTZW12ZXIgbm90YXRpb24uXG4gICAgICogQHR5cGUge3N0cmluZ30gU2VtdmVyIG5vdGF0aW9uIG9mIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUG9seW1lci5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgcG9seW1lckVsZW1lbnRWZXJzaW9uKCkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgb2YgUHJvcGVydGllc01peGluIF9maW5hbGl6ZUNsYXNzIHRvIGNyZWF0ZSBvYnNlcnZlcnMgYW5kXG4gICAgICogZmluZCB0aGUgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2ZpbmFsaXplQ2xhc3MoKSB7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIHBvbHltZXJFbGVtZW50QmFzZS5fZmluYWxpemVDbGFzcy5jYWxsKHRoaXMpO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gb3duT2JzZXJ2ZXJzKHRoaXMpO1xuICAgICAgaWYgKG9ic2VydmVycykge1xuICAgICAgICB0aGlzLmNyZWF0ZU9ic2VydmVycyhvYnNlcnZlcnMsIHRoaXMuX3Byb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcHJlcGFyZVRlbXBsYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9wcmVwYXJlVGVtcGxhdGUoKSB7XG4gICAgICAvLyBub3RlOiBjcmVhdGUgXCJ3b3JraW5nXCIgdGVtcGxhdGUgdGhhdCBpcyBmaW5hbGl6ZWQgYXQgaW5zdGFuY2UgdGltZVxuICAgICAgbGV0IHRlbXBsYXRlID0gLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSAqLyAodGhpcykudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCd0ZW1wbGF0ZSBnZXR0ZXIgbXVzdCByZXR1cm4gSFRNTFRlbXBsYXRlRWxlbWVudCcpO1xuICAgICAgICAgIHRlbXBsYXRlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmICghbGVnYWN5T3B0aW1pemF0aW9ucykge1xuICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICAgIHRoaXMucHJvdG90eXBlLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIG9mIFByb3BlcnRpZXNDaGFuZ2VkIGNyZWF0ZVByb3BlcnRpZXMgdG8gY3JlYXRlIGFjY2Vzc29yc1xuICAgICAqIGFuZCBwcm9wZXJ0eSBlZmZlY3RzIGZvciBhbGwgb2YgdGhlIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBwcm9wcyAuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydGllcyhwcm9wcykge1xuICAgICAgZm9yIChsZXQgcCBpbiBwcm9wcykge1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eUZyb21Db25maWcoXG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovICh0aGlzLnByb3RvdHlwZSksIHAsIHByb3BzW3BdLCBwcm9wcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvYnNlcnZlcnMgZm9yIHRoZSBnaXZlbiBgb2JzZXJ2ZXJzYCBhcnJheS5cbiAgICAgKiBMZXZlcmFnZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gY3JlYXRlIG9ic2VydmVycy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXJzIEFycmF5IG9mIG9ic2VydmVyIGRlc2NyaXB0b3JzIGZvclxuICAgICAqICAgdGhpcyBjbGFzc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkeW5hbWljRm5zIE9iamVjdCBjb250YWluaW5nIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzXG4gICAgICogICB0aGF0IGFyZSBmdW5jdGlvbnMgYW5kIHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3Qgd2hlbiB0aGUgZnVuY3Rpb25cbiAgICAgKiAgIHJlZmVyZW5jZSBpcyBjaGFuZ2VkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgZHluYW1pY0Zucykge1xuICAgICAgY29uc3QgcHJvdG8gPSB0aGlzLnByb3RvdHlwZTtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG9ic2VydmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm90by5fY3JlYXRlTWV0aG9kT2JzZXJ2ZXIob2JzZXJ2ZXJzW2ldLCBkeW5hbWljRm5zKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZW1wbGF0ZSB0aGF0IHdpbGwgYmUgc3RhbXBlZCBpbnRvIHRoaXMgZWxlbWVudCdzIHNoYWRvdyByb290LlxuICAgICAqXG4gICAgICogSWYgYSBgc3RhdGljIGdldCBpcygpYCBnZXR0ZXIgaXMgZGVmaW5lZCwgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb25cbiAgICAgKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgYDx0ZW1wbGF0ZT5gIGluIGEgYGRvbS1tb2R1bGVgIHdob3NlIGBpZGBcbiAgICAgKiBtYXRjaGVzIHRoaXMgZWxlbWVudCdzIGBpc2AuXG4gICAgICpcbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBnZXR0ZXIgdG8gcmV0dXJuIGFuIGFyYml0cmFyeSB0ZW1wbGF0ZVxuICAgICAqIChpbiB3aGljaCBjYXNlIHRoZSBgaXNgIGdldHRlciBpcyB1bm5lY2Vzc2FyeSkuIFRoZSB0ZW1wbGF0ZSByZXR1cm5lZFxuICAgICAqIG11c3QgYmUgYW4gYEhUTUxUZW1wbGF0ZUVsZW1lbnRgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHdoZW4gc3ViY2xhc3NpbmcsIGlmIHRoZSBzdXBlciBjbGFzcyBvdmVycm9kZSB0aGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIGFuZCB0aGUgc3ViY2xhc3Mgd291bGQgbGlrZSB0byBwcm92aWRlIGFuIGFsdGVybmF0ZVxuICAgICAqIHRlbXBsYXRlIHZpYSBhIGBkb20tbW9kdWxlYCwgaXQgc2hvdWxkIG92ZXJyaWRlIHRoaXMgZ2V0dGVyIGFuZFxuICAgICAqIHJldHVybiBgRG9tTW9kdWxlLmltcG9ydCh0aGlzLmlzLCAndGVtcGxhdGUnKWAuXG4gICAgICpcbiAgICAgKiBJZiBhIHN1YmNsYXNzIHdvdWxkIGxpa2UgdG8gbW9kaWZ5IHRoZSBzdXBlciBjbGFzcyB0ZW1wbGF0ZSwgaXQgc2hvdWxkXG4gICAgICogY2xvbmUgaXQgcmF0aGVyIHRoYW4gbW9kaWZ5IGl0IGluIHBsYWNlLiAgSWYgdGhlIGdldHRlciBkb2VzIGV4cGVuc2l2ZVxuICAgICAqIHdvcmsgc3VjaCBhcyBjbG9uaW5nL21vZGlmeWluZyBhIHRlbXBsYXRlLCBpdCBzaG91bGQgbWVtb2l6ZSB0aGVcbiAgICAgKiB0ZW1wbGF0ZSBmb3IgbWF4aW11bSBwZXJmb3JtYW5jZTpcbiAgICAgKlxuICAgICAqICAgbGV0IG1lbW9pemVkVGVtcGxhdGU7XG4gICAgICogICBjbGFzcyBNeVN1YkNsYXNzIGV4dGVuZHMgTXlTdXBlckNsYXNzIHtcbiAgICAgKiAgICAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgKiAgICAgICBpZiAoIW1lbW9pemVkVGVtcGxhdGUpIHtcbiAgICAgKiAgICAgICAgIG1lbW9pemVkVGVtcGxhdGUgPSBzdXBlci50ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICAgICAgICBsZXQgc3ViQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAqICAgICAgICAgc3ViQ29udGVudC50ZXh0Q29udGVudCA9ICdUaGlzIGNhbWUgZnJvbSBNeVN1YkNsYXNzJztcbiAgICAgKiAgICAgICAgIG1lbW9pemVkVGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChzdWJDb250ZW50KTtcbiAgICAgKiAgICAgICB9XG4gICAgICogICAgICAgcmV0dXJuIG1lbW9pemVkVGVtcGxhdGU7XG4gICAgICogICAgIH1cbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyFIVE1MVGVtcGxhdGVFbGVtZW50fHN0cmluZ30gVGVtcGxhdGUgdG8gYmUgc3RhbXBlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICAgIC8vIEV4cGxhbmF0aW9uIG9mIHRlbXBsYXRlLXJlbGF0ZWQgcHJvcGVydGllczpcbiAgICAgIC8vIC0gY29uc3RydWN0b3IudGVtcGxhdGUgKHRoaXMgZ2V0dGVyKTogdGhlIHRlbXBsYXRlIGZvciB0aGUgY2xhc3MuXG4gICAgICAvLyAgICAgVGhpcyBjYW4gY29tZSBmcm9tIHRoZSBwcm90b3R5cGUgKGZvciBsZWdhY3kgZWxlbWVudHMpLCBmcm9tIGFcbiAgICAgIC8vICAgICBkb20tbW9kdWxlLCBvciBmcm9tIHRoZSBzdXBlciBjbGFzcydzIHRlbXBsYXRlIChvciBjYW4gYmUgb3ZlcnJpZGRlblxuICAgICAgLy8gICAgIGFsdG9nZXRoZXIgYnkgdGhlIHVzZXIpXG4gICAgICAvLyAtIGNvbnN0cnVjdG9yLl90ZW1wbGF0ZTogbWVtb2l6ZWQgdmVyc2lvbiBvZiBjb25zdHJ1Y3Rvci50ZW1wbGF0ZVxuICAgICAgLy8gLSBwcm90b3R5cGUuX3RlbXBsYXRlOiB3b3JraW5nIHRlbXBsYXRlIGZvciB0aGUgZWxlbWVudCwgd2hpY2ggd2lsbCBiZVxuICAgICAgLy8gICAgIHBhcnNlZCBhbmQgbW9kaWZpZWQgaW4gcGxhY2UuIEl0IGlzIGEgY2xvbmVkIHZlcnNpb24gb2ZcbiAgICAgIC8vICAgICBjb25zdHJ1Y3Rvci50ZW1wbGF0ZSwgc2F2ZWQgaW4gX2ZpbmFsaXplQ2xhc3MoKS4gTm90ZSB0aGF0IGJlZm9yZVxuICAgICAgLy8gICAgIHRoaXMgZ2V0dGVyIGlzIGNhbGxlZCwgZm9yIGxlZ2FjeSBlbGVtZW50cyB0aGlzIGNvdWxkIGJlIGZyb20gYVxuICAgICAgLy8gICAgIF90ZW1wbGF0ZSBmaWVsZCBvbiB0aGUgaW5mbyBvYmplY3QgcGFzc2VkIHRvIFBvbHltZXIoKSwgYSBiZWhhdmlvcixcbiAgICAgIC8vICAgICBvciBzZXQgaW4gcmVnaXN0ZXJlZCgpOyBvbmNlIHRoZSBzdGF0aWMgZ2V0dGVyIHJ1bnMsIGEgY2xvbmUgb2YgaXRcbiAgICAgIC8vICAgICB3aWxsIG92ZXJ3cml0ZSBpdCBvbiB0aGUgcHJvdG90eXBlIGFzIHRoZSB3b3JraW5nIHRlbXBsYXRlLlxuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ190ZW1wbGF0ZScsIHRoaXMpKSkge1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9XG4gICAgICAgICAgLy8gSWYgdXNlciBoYXMgcHV0IHRlbXBsYXRlIG9uIHByb3RvdHlwZSAoZS5nLiBpbiBsZWdhY3kgdmlhIHJlZ2lzdGVyZWRcbiAgICAgICAgICAvLyBjYWxsYmFjayBvciBpbmZvIG9iamVjdCksIHByZWZlciB0aGF0IGZpcnN0XG4gICAgICAgICAgdGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX3RlbXBsYXRlJywgdGhpcy5wcm90b3R5cGUpKSA/XG4gICAgICAgICAgdGhpcy5wcm90b3R5cGUuX3RlbXBsYXRlIDpcbiAgICAgICAgICAvLyBMb29rIGluIGRvbS1tb2R1bGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZWxlbWVudCdzIGlzXG4gICAgICAgICAgKGdldFRlbXBsYXRlRnJvbURvbU1vZHVsZSgvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9Ki8gKHRoaXMpLmlzKSB8fFxuICAgICAgICAgIC8vIE5leHQgbG9vayBmb3Igc3VwZXJjbGFzcyB0ZW1wbGF0ZSAoY2FsbCB0aGUgc3VwZXIgaW1wbCB0aGlzXG4gICAgICAgICAgLy8gd2F5IHNvIHRoYXQgYHRoaXNgIHBvaW50cyB0byB0aGUgc3VwZXJjbGFzcylcbiAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSovICh0aGlzKS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yLnRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudHxzdHJpbmd9IHZhbHVlIFRlbXBsYXRlIHRvIHNldC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXQgdGVtcGxhdGUodmFsdWUpIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGF0aCBtYXRjaGluZyB0aGUgdXJsIGZyb20gd2hpY2ggdGhlIGVsZW1lbnQgd2FzIGltcG9ydGVkLlxuICAgICAqXG4gICAgICogVGhpcyBwYXRoIGlzIHVzZWQgdG8gcmVzb2x2ZSB1cmwncyBpbiB0ZW1wbGF0ZSBzdHlsZSBjc3NUZXh0LlxuICAgICAqIFRoZSBgaW1wb3J0UGF0aGAgcHJvcGVydHkgaXMgYWxzbyBzZXQgb24gZWxlbWVudCBpbnN0YW5jZXMgYW5kIGNhbiBiZVxuICAgICAqIHVzZWQgdG8gY3JlYXRlIGJpbmRpbmdzIHJlbGF0aXZlIHRvIHRoZSBpbXBvcnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEZvciBlbGVtZW50cyBkZWZpbmVkIGluIEVTIG1vZHVsZXMsIHVzZXJzIHNob3VsZCBpbXBsZW1lbnRcbiAgICAgKiBgc3RhdGljIGdldCBpbXBvcnRNZXRhKCkgeyByZXR1cm4gaW1wb3J0Lm1ldGE7IH1gLCBhbmQgdGhlIGRlZmF1bHRcbiAgICAgKiBpbXBsZW1lbnRhdGlvbiBvZiBgaW1wb3J0UGF0aGAgd2lsbCAgcmV0dXJuIGBpbXBvcnQubWV0YS51cmxgJ3MgcGF0aC5cbiAgICAgKiBGb3IgZWxlbWVudHMgZGVmaW5lZCBpbiBIVE1MIGltcG9ydHMsIHRoaXMgZ2V0dGVyIHdpbGwgcmV0dXJuIHRoZSBwYXRoXG4gICAgICogdG8gdGhlIGRvY3VtZW50IGNvbnRhaW5pbmcgYSBgZG9tLW1vZHVsZWAgZWxlbWVudCBtYXRjaGluZyB0aGlzXG4gICAgICogZWxlbWVudCdzIHN0YXRpYyBgaXNgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogTm90ZSwgdGhpcyBwYXRoIHNob3VsZCBjb250YWluIGEgdHJhaWxpbmcgYC9gLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgaW1wb3J0IHBhdGggZm9yIHRoaXMgZWxlbWVudCBjbGFzc1xuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9XG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGltcG9ydFBhdGgoKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2ltcG9ydFBhdGgnLCB0aGlzKSkpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuaW1wb3J0TWV0YTtcbiAgICAgICAgaWYgKG1ldGEpIHtcbiAgICAgICAgICB0aGlzLl9pbXBvcnRQYXRoID0gcGF0aEZyb21VcmwobWV0YS51cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1vZHVsZSA9IERvbU1vZHVsZS5pbXBvcnQoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSAqLyAodGhpcykuaXMpO1xuICAgICAgICAgIHRoaXMuX2ltcG9ydFBhdGggPSAobW9kdWxlICYmIG1vZHVsZS5hc3NldHBhdGgpIHx8XG4gICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoLyoqIEB0eXBlIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSovICh0aGlzKS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yLmltcG9ydFBhdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9pbXBvcnRQYXRoO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi9cbiAgICAgIHRoaXMuX3RlbXBsYXRlO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLl9pbXBvcnRQYXRoO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLnJvb3RQYXRoO1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICB0aGlzLmltcG9ydFBhdGg7XG4gICAgICAvKiogQHR5cGUge1N0YW1wZWRUZW1wbGF0ZSB8IEhUTUxFbGVtZW50IHwgU2hhZG93Um9vdH0gKi9cbiAgICAgIHRoaXMucm9vdDtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFFbGVtZW50Pn0gKi9cbiAgICAgIHRoaXMuJDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgYFByb3BlcnR5QWNjZXNzb3JzYCB0byBlbnN1cmUgY2xhc3NcbiAgICAgKiBtZXRhcHJvZ3JhbW1pbmcgcmVsYXRlZCB0byBwcm9wZXJ0eSBhY2Nlc3NvcnMgYW5kIGVmZmVjdHMgaGFzXG4gICAgICogY29tcGxldGVkIChjYWxscyBgZmluYWxpemVgKS5cbiAgICAgKlxuICAgICAqIEl0IGFsc28gaW5pdGlhbGl6ZXMgYW55IHByb3BlcnR5IGRlZmF1bHRzIHByb3ZpZGVkIHZpYSBgdmFsdWVgIGluXG4gICAgICogYHByb3BlcnRpZXNgIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0cyxtaXNzaW5nUHJvcGVydGllc30gZ28vbWlzc2luZ2ZucHJvcHNcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLmZpbmFsaXplKCk7XG4gICAgICAvLyBub3RlOiBmaW5hbGl6ZSB0ZW1wbGF0ZSB3aGVuIHdlIGhhdmUgYWNjZXNzIHRvIGBsb2NhbE5hbWVgIHRvXG4gICAgICAvLyBhdm9pZCBkZXBlbmRlbmNlIG9uIGBpc2AgZm9yIHBvbHlmaWxsaW5nIHN0eWxpbmcuXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLl9maW5hbGl6ZVRlbXBsYXRlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKS5sb2NhbE5hbWUpO1xuICAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgICAvLyBzZXQgcGF0aCBkZWZhdWx0c1xuICAgICAgdGhpcy5yb290UGF0aCA9IHJvb3RQYXRoO1xuICAgICAgdGhpcy5pbXBvcnRQYXRoID0gdGhpcy5jb25zdHJ1Y3Rvci5pbXBvcnRQYXRoO1xuICAgICAgLy8gYXBwbHkgcHJvcGVydHkgZGVmYXVsdHMuLi5cbiAgICAgIGxldCBwJCA9IHByb3BlcnR5RGVmYXVsdHModGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgICBpZiAoIXAkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IHAgaW4gcCQpIHtcbiAgICAgICAgbGV0IGluZm8gPSBwJFtwXTtcbiAgICAgICAgLy8gRG9uJ3Qgc2V0IGRlZmF1bHQgdmFsdWUgaWYgdGhlcmUgaXMgYWxyZWFkeSBhbiBvd24gcHJvcGVydHksIHdoaWNoXG4gICAgICAgIC8vIGhhcHBlbnMgd2hlbiBhIGBwcm9wZXJ0aWVzYCBwcm9wZXJ0eSB3aXRoIGRlZmF1bHQgYnV0IG5vIGVmZmVjdHMgaGFkXG4gICAgICAgIC8vIGEgcHJvcGVydHkgc2V0IChlLmcuIGJvdW5kKSBieSBpdHMgaG9zdCBiZWZvcmUgdXBncmFkZVxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICBsZXQgdmFsdWUgPSB0eXBlb2YgaW5mby52YWx1ZSA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIGluZm8udmFsdWUuY2FsbCh0aGlzKSA6XG4gICAgICAgICAgICBpbmZvLnZhbHVlO1xuICAgICAgICAgIC8vIFNldCB2aWEgYF9zZXRQcm9wZXJ0eWAgaWYgdGhlcmUgaXMgYW4gYWNjZXNzb3IsIHRvIGVuYWJsZVxuICAgICAgICAgIC8vIGluaXRpYWxpemluZyByZWFkT25seSBwcm9wZXJ0eSBkZWZhdWx0c1xuICAgICAgICAgIGlmICh0aGlzLl9oYXNBY2Nlc3NvcihwKSkge1xuICAgICAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KHAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1twXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdhdGhlciBzdHlsZSB0ZXh0IGZvciBhIHN0eWxlIGVsZW1lbnQgaW4gdGhlIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgVGV4dCBjb250YWluaW5nIHN0eWxpbmcgdG8gcHJvY2Vzc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIEJhc2UgVVJJIHRvIHJlYmFzZSBDU1MgcGF0aHMgYWdhaW5zdFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByb2Nlc3NlZCBDU1MgdGV4dFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvY2Vzc1N0eWxlVGV4dChjc3NUZXh0LCBiYXNlVVJJKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUNzcyhjc3NUZXh0LCBiYXNlVVJJKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIENvbmZpZ3VyZXMgYW4gZWxlbWVudCBgcHJvdG9gIHRvIGZ1bmN0aW9uIHdpdGggYSBnaXZlbiBgdGVtcGxhdGVgLlxuICAgICogVGhlIGVsZW1lbnQgbmFtZSBgaXNgIGFuZCBleHRlbmRzIGBleHRgIG11c3QgYmUgc3BlY2lmaWVkIGZvciBTaGFkeUNTU1xuICAgICogc3R5bGUgc2NvcGluZy5cbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaXMgVGFnIG5hbWUgKG9yIHR5cGUgZXh0ZW5zaW9uIG5hbWUpIGZvciB0aGlzIGVsZW1lbnRcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAbm9jb2xsYXBzZVxuICAgICovXG4gICAgc3RhdGljIF9maW5hbGl6ZVRlbXBsYXRlKGlzKSB7XG4gICAgICAvKiogQGNvbnN0IHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqL1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLnByb3RvdHlwZS5fdGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUgJiYgIXRlbXBsYXRlLl9fcG9seW1lckZpbmFsaXplZCkge1xuICAgICAgICB0ZW1wbGF0ZS5fX3BvbHltZXJGaW5hbGl6ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbXBvcnRQYXRoID0gdGhpcy5pbXBvcnRQYXRoO1xuICAgICAgICBjb25zdCBiYXNlVVJJID0gaW1wb3J0UGF0aCA/IHJlc29sdmVVcmwoaW1wb3J0UGF0aCkgOiAnJztcbiAgICAgICAgLy8gZS5nLiBzdXBwb3J0IGBpbmNsdWRlPVwibW9kdWxlLW5hbWVcImAsIGFuZCBTaGFkeUNTU1xuICAgICAgICBwcm9jZXNzRWxlbWVudFN0eWxlcyh0aGlzLCB0ZW1wbGF0ZSwgaXMsIGJhc2VVUkkpO1xuICAgICAgICB0aGlzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIHN0YW5kYXJkIEN1c3RvbSBFbGVtZW50c1xuICAgICAqIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBlbmFibGVzIHRoZSBwcm9wZXJ0eSBlZmZlY3RzIHN5c3RlbSBhbmRcbiAgICAgKiBmbHVzaGVzIGFueSBwZW5kaW5nIHByb3BlcnRpZXMsIGFuZCB1cGRhdGVzIHNoaW1tZWQgQ1NTIHByb3BlcnRpZXNcbiAgICAgKiB3aGVuIHVzaW5nIHRoZSBTaGFkeUNTUyBzY29waW5nL2N1c3RvbSBwcm9wZXJ0aWVzIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllcywgaW52YWxpZENhc3RzfSBTdXBlciBtYXkgb3IgbWF5IG5vdFxuICAgICAqICAgICBpbXBsZW1lbnQgdGhlIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MgJiYgdGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcykpO1xuICAgICAgfVxuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFtcHMgdGhlIGVsZW1lbnQgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuX3N0YW1wVGVtcGxhdGUodGhpcy5fdGVtcGxhdGUpO1xuICAgICAgICB0aGlzLiQgPSB0aGlzLnJvb3QuJDtcbiAgICAgIH1cbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBgUHJvcGVydHlFZmZlY3RzYCdzIGBfcmVhZHlDbGllbnRzYCBjYWxsLiBBdHRhY2hlc1xuICAgICAqIGVsZW1lbnQgZG9tIGJ5IGNhbGxpbmcgYF9hdHRhY2hEb21gIHdpdGggdGhlIGRvbSBzdGFtcGVkIGZyb20gdGhlXG4gICAgICogZWxlbWVudCdzIHRlbXBsYXRlIHZpYSBgX3N0YW1wVGVtcGxhdGVgLiBOb3RlIHRoYXQgdGhpcyBhbGxvd3NcbiAgICAgKiBjbGllbnQgZG9tIHRvIGJlIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHByaW9yIHRvIGFueSBvYnNlcnZlcnNcbiAgICAgKiBydW5uaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcmVhZHlDbGllbnRzKCkge1xuICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMucm9vdCA9IHRoaXMuX2F0dGFjaERvbSgvKiogQHR5cGUge1N0YW1wZWRUZW1wbGF0ZX0gKi8odGhpcy5yb290KSk7XG4gICAgICB9XG4gICAgICAvLyBUaGUgc3VwZXIuX3JlYWR5Q2xpZW50cyBoZXJlIHNldHMgdGhlIGNsaWVudHMgaW5pdGlhbGl6ZWQgZmxhZy5cbiAgICAgIC8vIFdlIG11c3Qgd2FpdCB0byBkbyB0aGlzIHVudGlsIGFmdGVyIGNsaWVudCBkb20gaXMgY3JlYXRlZC9hdHRhY2hlZFxuICAgICAgLy8gc28gdGhhdCB0aGlzIGZsYWcgY2FuIGJlIGNoZWNrZWQgdG8gcHJldmVudCBub3RpZmljYXRpb25zIGZpcmVkXG4gICAgICAvLyBkdXJpbmcgdGhpcyBwcm9jZXNzIGZyb20gYmVpbmcgaGFuZGxlZCBiZWZvcmUgY2xpZW50cyBhcmUgcmVhZHkuXG4gICAgICBzdXBlci5fcmVhZHlDbGllbnRzKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhbiBlbGVtZW50J3Mgc3RhbXBlZCBkb20gdG8gaXRzZWxmLiBCeSBkZWZhdWx0LFxuICAgICAqIHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBgc2hhZG93Um9vdGAgYW5kIGFkZHMgdGhlIGRvbSB0byBpdC5cbiAgICAgKiBIb3dldmVyLCB0aGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhbGxvdyBhbiBlbGVtZW50XG4gICAgICogdG8gcHV0IGl0cyBkb20gaW4gYW5vdGhlciBsb2NhdGlvbi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1JldHVybn1cbiAgICAgKiBAcGFyYW0ge1N0YW1wZWRUZW1wbGF0ZX0gZG9tIHRvIGF0dGFjaCB0byB0aGUgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtTaGFkb3dSb290fSBub2RlIHRvIHdoaWNoIHRoZSBkb20gaGFzIGJlZW4gYXR0YWNoZWQuXG4gICAgICovXG4gICAgX2F0dGFjaERvbShkb20pIHtcbiAgICAgIGNvbnN0IG4gPSB3cmFwKHRoaXMpO1xuICAgICAgaWYgKG4uYXR0YWNoU2hhZG93KSB7XG4gICAgICAgIGlmIChkb20pIHtcbiAgICAgICAgICBpZiAoIW4uc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgbi5hdHRhY2hTaGFkb3coe21vZGU6ICdvcGVuJywgc2hhZHlVcGdyYWRlRnJhZ21lbnQ6IGRvbX0pO1xuICAgICAgICAgICAgbi5zaGFkb3dSb290LmFwcGVuZENoaWxkKGRvbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzeW5jSW5pdGlhbFJlbmRlciAmJiB3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeURPTS5mbHVzaEluaXRpYWwobi5zaGFkb3dSb290KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG4uc2hhZG93Um9vdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2hhZG93RE9NIG5vdCBhdmFpbGFibGUuICcgK1xuICAgICAgICAgIC8vIFRPRE8oc29ydmVsbCk6IG1vdmUgdG8gY29tcGlsZS10aW1lIGNvbmRpdGlvbmFsIHdoZW4gc3VwcG9ydGVkXG4gICAgICAgICdQb2x5bWVyRWxlbWVudCBjYW4gY3JlYXRlIGRvbSBhcyBjaGlsZHJlbiBpbnN0ZWFkIG9mIGluICcgK1xuICAgICAgICAnU2hhZG93RE9NIGJ5IHNldHRpbmcgYHRoaXMucm9vdCA9IHRoaXM7XFxgIGJlZm9yZSBcXGByZWFkeVxcYC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHVzaW5nIHRoZSBTaGFkeUNTUyBzY29waW5nIGFuZCBjdXN0b20gcHJvcGVydHkgc2hpbSwgY2F1c2VzIGFsbFxuICAgICAqIHNoaW1tZWQgc3R5bGVzIGluIHRoaXMgZWxlbWVudCAoYW5kIGl0cyBzdWJ0cmVlKSB0byBiZSB1cGRhdGVkXG4gICAgICogYmFzZWQgb24gY3VycmVudCBjdXN0b20gcHJvcGVydHkgdmFsdWVzLlxuICAgICAqXG4gICAgICogVGhlIG9wdGlvbmFsIHBhcmFtZXRlciBvdmVycmlkZXMgaW5saW5lIGN1c3RvbSBwcm9wZXJ0eSBzdHlsZXMgd2l0aCBhblxuICAgICAqIG9iamVjdCBvZiBwcm9wZXJ0aWVzIHdoZXJlIHRoZSBrZXlzIGFyZSBDU1MgcHJvcGVydGllcywgYW5kIHRoZSB2YWx1ZXNcbiAgICAgKiBhcmUgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6IGB0aGlzLnVwZGF0ZVN0eWxlcyh7Jy0tY29sb3InOiAnYmx1ZSd9KWBcbiAgICAgKlxuICAgICAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIHJldGFpbmVkIHVubGVzcyBhIHZhbHVlIG9mIGBudWxsYCBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgdXBkYXRpbmcgQ1NTIG1peGlucy5cbiAgICAgKiBZb3UgY2FuIG5vdCBkeW5hbWljYWxseSBjaGFuZ2UgdGhlIHZhbHVlIG9mIGFuIGBAYXBwbHlgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzIEJhZyBvZiBjdXN0b20gcHJvcGVydHkga2V5L3ZhbHVlcyB0b1xuICAgICAqICAgYXBwbHkgdG8gdGhpcyBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9XG4gICAgICovXG4gICAgdXBkYXRlU3R5bGVzKHByb3BlcnRpZXMpIHtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlU3VidHJlZSgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcyksIHByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJld3JpdGVzIGEgZ2l2ZW4gVVJMIHJlbGF0aXZlIHRvIGEgYmFzZSBVUkwuIFRoZSBiYXNlIFVSTCBkZWZhdWx0cyB0b1xuICAgICAqIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiBvZiB0aGUgZG9jdW1lbnQgY29udGFpbmluZyB0aGUgYGRvbS1tb2R1bGVgIGZvclxuICAgICAqIHRoaXMgZWxlbWVudC4gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNhbWUgVVJMIGJlZm9yZSBhbmQgYWZ0ZXJcbiAgICAgKiBidW5kbGluZy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIHBlcmZvcm1zIG5vIHJlc29sdXRpb24gZm9yIFVSTHMgdGhhdCBzdGFydFxuICAgICAqIHdpdGggYC9gIChhYnNvbHV0ZSBVUkxzKSBvciBgI2AgKGhhc2ggaWRlbnRpZmllcnMpLiAgRm9yIGdlbmVyYWwgcHVycG9zZVxuICAgICAqIFVSTCByZXNvbHV0aW9uLCB1c2UgYHdpbmRvdy5VUkxgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgdG8gcmVzb2x2ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGJhc2UgT3B0aW9uYWwgYmFzZSBVUkwgdG8gcmVzb2x2ZSBhZ2FpbnN0LCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBlbGVtZW50J3MgYGltcG9ydFBhdGhgXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBSZXdyaXR0ZW4gVVJMIHJlbGF0aXZlIHRvIGJhc2VcbiAgICAgKi9cbiAgICByZXNvbHZlVXJsKHVybCwgYmFzZSkge1xuICAgICAgaWYgKCFiYXNlICYmIHRoaXMuaW1wb3J0UGF0aCkge1xuICAgICAgICBiYXNlID0gcmVzb2x2ZVVybCh0aGlzLmltcG9ydFBhdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc29sdmVVcmwodXJsLCBiYXNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gYWRkIG1hcCBvZiBkeW5hbWljIGZ1bmN0aW9ucyBvblxuICAgICAqIHRlbXBsYXRlIGluZm8sIGZvciBjb25zdW1wdGlvbiBieSBgUHJvcGVydHlFZmZlY3RzYCB0ZW1wbGF0ZSBiaW5kaW5nXG4gICAgICogY29kZS4gVGhpcyBtYXAgZGV0ZXJtaW5lcyB3aGljaCBtZXRob2QgdGVtcGxhdGVzIHNob3VsZCBoYXZlIGFjY2Vzc29yc1xuICAgICAqIGNyZWF0ZWQgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gLlxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlQ29udGVudCh0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgdGVtcGxhdGVJbmZvLmR5bmFtaWNGbnMgPSB0ZW1wbGF0ZUluZm8uZHluYW1pY0ZucyB8fCB0aGlzLl9wcm9wZXJ0aWVzO1xuICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgLy8gICAgIENoYW5nZSBiYWNrIHRvIGp1c3Qgc3VwZXIubWV0aG9kQ2FsbCgpXG4gICAgICByZXR1cm4gcG9seW1lckVsZW1lbnRCYXNlLl9wYXJzZVRlbXBsYXRlQ29udGVudC5jYWxsKFxuICAgICAgICB0aGlzLCB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUVmZmVjdHNgIHRvIHdhcm4gb24gdXNlIG9mIHVuZGVjbGFyZWQgcHJvcGVydGllcyBpblxuICAgICAqIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSB0byBhZGQgZWZmZWN0IHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgZWZmZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBlZmZlY3QgRWZmZWN0IG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9hZGRUZW1wbGF0ZVByb3BlcnR5RWZmZWN0KHRlbXBsYXRlSW5mbywgcHJvcCwgZWZmZWN0KSB7XG4gICAgICAvLyBXYXJuIGlmIHByb3BlcnRpZXMgYXJlIHVzZWQgaW4gdGVtcGxhdGUgd2l0aG91dCBiZWluZyBkZWNsYXJlZC5cbiAgICAgIC8vIFByb3BlcnRpZXMgbXVzdCBiZSBsaXN0ZWQgaW4gYHByb3BlcnRpZXNgIHRvIGJlIGluY2x1ZGVkIGluXG4gICAgICAvLyBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBzaW5jZSBDRSBWMSByZWFkcyB0aGF0IGF0IHJlZ2lzdHJhdGlvbiB0aW1lLCBhbmRcbiAgICAgIC8vIHNpbmNlIHdlIHdhbnQgdG8ga2VlcCB0ZW1wbGF0ZSBwYXJzaW5nIGxhenksIHdlIGNhbid0IGF1dG9tYXRpY2FsbHlcbiAgICAgIC8vIGFkZCB1bmRlY2xhcmVkIHByb3BlcnRpZXMgdXNlZCBpbiB0ZW1wbGF0ZXMgdG8gYG9ic2VydmVkQXR0cmlidXRlc2AuXG4gICAgICAvLyBUaGUgd2FybmluZyBpcyBvbmx5IGVuYWJsZWQgaW4gYGxlZ2FjeU9wdGltaXphdGlvbnNgIG1vZGUsIHNpbmNlXG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIHNwYW0gZXhpc3RpbmcgdXNlcnMgd2hvIG1pZ2h0IGhhdmUgYWRvcHRlZCB0aGVcbiAgICAgIC8vIHNob3J0aGFuZCB3aGVuIGF0dHJpYnV0ZSBkZXNlcmlhbGl6YXRpb24gaXMgbm90IGltcG9ydGFudC5cbiAgICAgIGlmIChsZWdhY3lPcHRpbWl6YXRpb25zICYmICEocHJvcCBpbiB0aGlzLl9wcm9wZXJ0aWVzKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFByb3BlcnR5ICcke3Byb3B9JyB1c2VkIGluIHRlbXBsYXRlIGJ1dCBub3QgZGVjbGFyZWQgaW4gJ3Byb3BlcnRpZXMnOyBgICtcbiAgICAgICAgICBgYXR0cmlidXRlIHdpbGwgbm90IGJlIG9ic2VydmVkLmApO1xuICAgICAgfVxuICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgLy8gICAgIENoYW5nZSBiYWNrIHRvIGp1c3Qgc3VwZXIubWV0aG9kQ2FsbCgpXG4gICAgICByZXR1cm4gcG9seW1lckVsZW1lbnRCYXNlLl9hZGRUZW1wbGF0ZVByb3BlcnR5RWZmZWN0LmNhbGwoXG4gICAgICAgIHRoaXMsIHRlbXBsYXRlSW5mbywgcHJvcCwgZWZmZWN0KTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQb2x5bWVyRWxlbWVudDtcbn0pO1xuXG4vKipcbiAqIFdoZW4gdXNpbmcgdGhlIFNoYWR5Q1NTIHNjb3BpbmcgYW5kIGN1c3RvbSBwcm9wZXJ0eSBzaGltLCBjYXVzZXMgYWxsXG4gKiBzaGltbWVkIGBzdHlsZXNgICh2aWEgYGN1c3RvbS1zdHlsZWApIGluIHRoZSBkb2N1bWVudCAoYW5kIGl0cyBzdWJ0cmVlKVxuICogdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBjdXJyZW50IGN1c3RvbSBwcm9wZXJ0eSB2YWx1ZXMuXG4gKlxuICogVGhlIG9wdGlvbmFsIHBhcmFtZXRlciBvdmVycmlkZXMgaW5saW5lIGN1c3RvbSBwcm9wZXJ0eSBzdHlsZXMgd2l0aCBhblxuICogb2JqZWN0IG9mIHByb3BlcnRpZXMgd2hlcmUgdGhlIGtleXMgYXJlIENTUyBwcm9wZXJ0aWVzLCBhbmQgdGhlIHZhbHVlc1xuICogYXJlIHN0cmluZ3MuXG4gKlxuICogRXhhbXBsZTogYHVwZGF0ZVN0eWxlcyh7Jy0tY29sb3InOiAnYmx1ZSd9KWBcbiAqXG4gKiBUaGVzZSBwcm9wZXJ0aWVzIGFyZSByZXRhaW5lZCB1bmxlc3MgYSB2YWx1ZSBvZiBgbnVsbGAgaXMgc2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcHMgQmFnIG9mIGN1c3RvbSBwcm9wZXJ0eSBrZXkvdmFsdWVzIHRvXG4gKiAgIGFwcGx5IHRvIHRoZSBkb2N1bWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVTdHlsZXMgPSBmdW5jdGlvbihwcm9wcykge1xuICBpZiAod2luZG93LlNoYWR5Q1NTKSB7XG4gICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRG9jdW1lbnQocHJvcHMpO1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0IHsgRWxlbWVudE1peGluLCB2ZXJzaW9uIH0gZnJvbSAnLi9saWIvbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMnO1xuZXhwb3J0IHsgaHRtbCB9IGZyb20gJy4vbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuZXhwb3J0IHsgdmVyc2lvbiB9O1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgdGhhdCBwcm92aWRlcyB0aGUgY29yZSBBUEkgZm9yIFBvbHltZXIncyBtZXRhLXByb2dyYW1taW5nXG4gKiBmZWF0dXJlcyBpbmNsdWRpbmcgdGVtcGxhdGUgc3RhbXBpbmcsIGRhdGEtYmluZGluZywgYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbixcbiAqIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb24uXG4gKlxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBwb2x5bWVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAqIEBleHRlbmRzIEhUTUxFbGVtZW50XG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgYmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzXG4gKiAgIGtleSBtZXRhLXByb2dyYW1taW5nIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLFxuICogICBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLCBhbmQgcHJvcGVydHkgY2hhbmdlIG9ic2VydmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBQb2x5bWVyRWxlbWVudCA9IEVsZW1lbnRNaXhpbihIVE1MRWxlbWVudCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgJy4vbWl4aW4uanMnO1xuaW1wb3J0ICcuL2FzeW5jLmpzJztcblxuLyoqXG4gKiBAc3VtbWFyeSBDb2xsYXBzZSBtdWx0aXBsZSBjYWxsYmFja3MgaW50byBvbmUgaW52b2NhdGlvbiBhZnRlciBhIHRpbWVyLlxuICovXG5leHBvcnQgY2xhc3MgRGVib3VuY2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYXN5bmNNb2R1bGUgPSBudWxsO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNjaGVkdWxlcjsgdGhhdCBpcywgYSBtb2R1bGUgd2l0aCB0aGUgQXN5bmMgaW50ZXJmYWNlLFxuICAgKiBhIGNhbGxiYWNrIGFuZCBvcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBydW4gZnVuY3Rpb25cbiAgICogZnJvbSB0aGUgYXN5bmMgbW9kdWxlLlxuICAgKlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIENhbGxiYWNrIHRvIHJ1bi5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHNldENvbmZpZyhhc3luY01vZHVsZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLl9hc3luY01vZHVsZSA9IGFzeW5jTW9kdWxlO1xuICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZXIgPSB0aGlzLl9hc3luY01vZHVsZS5ydW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgICAgZGVib3VuY2VyUXVldWUuZGVsZXRlKHRoaXMpO1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FuY2VscyBhbiBhY3RpdmUgZGVib3VuY2VyIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIGl0c2VsZi5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbCgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9jYW5jZWxBc3luYygpO1xuICAgICAgLy8gQ2FuY2VsaW5nIGEgZGVib3VuY2VyIHJlbW92ZXMgaXRzIHNwb3QgZnJvbSB0aGUgZmx1c2ggcXVldWUsXG4gICAgICAvLyBzbyBpZiBhIGRlYm91bmNlciBpcyBtYW51YWxseSBjYW5jZWxlZCBhbmQgcmUtZGVib3VuY2VkLCBpdFxuICAgICAgLy8gd2lsbCByZXNldCBpdHMgZmx1c2ggb3JkZXIgKHRoaXMgaXMgYSB2ZXJ5IG1pbm9yIGRpZmZlcmVuY2UgZnJvbSAxLngpXG4gICAgICAvLyBSZS1kZWJvdW5jaW5nIHZpYSB0aGUgYGRlYm91bmNlYCBBUEkgcmV0YWlucyB0aGUgMS54IEZJRk8gZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlclF1ZXVlLmRlbGV0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBkZWJvdW5jZXIncyBhc3luYyBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIF9jYW5jZWxBc3luYygpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLl9hc3luY01vZHVsZS5jYW5jZWwoLyoqIEB0eXBlIHtudW1iZXJ9ICovKHRoaXMuX3RpbWVyKSk7XG4gICAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGbHVzaGVzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYWN0aXZlLlxuICAgKi9cbiAgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpbWVyICE9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBkZWJvdW5jZXIgaWYgbm8gZGVib3VuY2VyIGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlclxuICAgKiBvciBpdCBjYW5jZWxzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgb3RoZXJ3aXNlLiBUaGUgZm9sbG93aW5nXG4gICAqIGV4YW1wbGUgc2hvd3MgaG93IGEgZGVib3VuY2VyIGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2l0aGluIGFcbiAgICogbWljcm90YXNrIGFuZCBcImRlYm91bmNlZFwiIHN1Y2ggdGhhdCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gaXNcbiAgICogY2FsbGVkIG9uY2UuIEFkZCB0aGlzIG1ldGhvZCB0byBhIGN1c3RvbSBlbGVtZW50OlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBpbXBvcnQge21pY3JvVGFza30gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuICAgKiBpbXBvcnQge0RlYm91bmNlcn0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuICAgKiAvLyAuLi5cbiAgICpcbiAgICogX2RlYm91bmNlV29yaygpIHtcbiAgICogICB0aGlzLl9kZWJvdW5jZUpvYiA9IERlYm91bmNlci5kZWJvdW5jZSh0aGlzLl9kZWJvdW5jZUpvYixcbiAgICogICAgICAgbWljcm9UYXNrLCAoKSA9PiB0aGlzLl9kb1dvcmsoKSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIElmIHRoZSBgX2RlYm91bmNlV29ya2AgbWV0aG9kIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aXRoaW4gdGhlIHNhbWVcbiAgICogbWljcm90YXNrLCB0aGUgYF9kb1dvcmtgIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBhdCB0aGUgbmV4dFxuICAgKiBtaWNyb3Rhc2sgY2hlY2twb2ludC5cbiAgICpcbiAgICogTm90ZTogSW4gdGVzdGluZyBpdCBpcyBvZnRlbiBjb252ZW5pZW50IHRvIGF2b2lkIGFzeW5jaHJvbnkuIFRvIGFjY29tcGxpc2hcbiAgICogdGhpcyB3aXRoIGEgZGVib3VuY2VyLCB5b3UgY2FuIHVzZSBgZW5xdWV1ZURlYm91bmNlcmAgYW5kXG4gICAqIGBmbHVzaGAuIEZvciBleGFtcGxlLCBleHRlbmQgdGhlIGFib3ZlIGV4YW1wbGUgYnkgYWRkaW5nXG4gICAqIGBlbnF1ZXVlRGVib3VuY2VyKHRoaXMuX2RlYm91bmNlSm9iKWAgYXQgdGhlIGVuZCBvZiB0aGVcbiAgICogYF9kZWJvdW5jZVdvcmtgIG1ldGhvZC4gVGhlbiBpbiBhIHRlc3QsIGNhbGwgYGZsdXNoYCB0byBlbnN1cmVcbiAgICogdGhlIGRlYm91bmNlciBoYXMgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0RlYm91bmNlcj99IGRlYm91bmNlciBEZWJvdW5jZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0geyFBc3luY0ludGVyZmFjZX0gYXN5bmNNb2R1bGUgT2JqZWN0IHdpdGggQXN5bmMgaW50ZXJmYWNlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuLlxuICAgKiBAcmV0dXJuIHshRGVib3VuY2VyfSBSZXR1cm5zIGEgZGVib3VuY2VyIG9iamVjdC5cbiAgICovXG4gIHN0YXRpYyBkZWJvdW5jZShkZWJvdW5jZXIsIGFzeW5jTW9kdWxlLCBjYWxsYmFjaykge1xuICAgIGlmIChkZWJvdW5jZXIgaW5zdGFuY2VvZiBEZWJvdW5jZXIpIHtcbiAgICAgIC8vIENhbmNlbCB0aGUgYXN5bmMgY2FsbGJhY2ssIGJ1dCBsZWF2ZSBpbiBkZWJvdW5jZXJRdWV1ZSBpZiBpdCB3YXNcbiAgICAgIC8vIGVucXVldWVkLCB0byBtYWludGFpbiAxLnggZmx1c2ggb3JkZXJcbiAgICAgIGRlYm91bmNlci5fY2FuY2VsQXN5bmMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVib3VuY2VyID0gbmV3IERlYm91bmNlcigpO1xuICAgIH1cbiAgICBkZWJvdW5jZXIuc2V0Q29uZmlnKGFzeW5jTW9kdWxlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIGRlYm91bmNlcjtcbiAgfVxufVxuXG5sZXQgZGVib3VuY2VyUXVldWUgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQWRkcyBhIGBEZWJvdW5jZXJgIHRvIGEgbGlzdCBvZiBnbG9iYWxseSBmbHVzaGFibGUgdGFza3MuXG4gKlxuICogQHBhcmFtIHshRGVib3VuY2VyfSBkZWJvdW5jZXIgRGVib3VuY2VyIHRvIGVucXVldWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBlbnF1ZXVlRGVib3VuY2VyID0gZnVuY3Rpb24oZGVib3VuY2VyKSB7XG4gIGRlYm91bmNlclF1ZXVlLmFkZChkZWJvdW5jZXIpO1xufTtcblxuLyoqXG4gKiBGbHVzaGVzIGFueSBlbnF1ZXVlZCBkZWJvdW5jZXJzXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB3aGV0aGVyIGFueSBkZWJvdW5jZXJzIHdlcmUgZmx1c2hlZFxuICovXG5leHBvcnQgY29uc3QgZmx1c2hEZWJvdW5jZXJzID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGRpZEZsdXNoID0gQm9vbGVhbihkZWJvdW5jZXJRdWV1ZS5zaXplKTtcbiAgLy8gSWYgbmV3IGRlYm91bmNlcnMgYXJlIGFkZGVkIHdoaWxlIGZsdXNoaW5nLCBTZXQuZm9yRWFjaCB3aWxsIGVuc3VyZVxuICAvLyBuZXdseSBhZGRlZCBvbmVzIGFyZSBhbHNvIGZsdXNoZWRcbiAgZGVib3VuY2VyUXVldWUuZm9yRWFjaChkZWJvdW5jZXIgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkZWJvdW5jZXIuZmx1c2goKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGRpZEZsdXNoO1xufTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqXG4gKiBNb2R1bGUgZm9yIGFkZGluZyBsaXN0ZW5lcnMgdG8gYSBub2RlIGZvciB0aGUgZm9sbG93aW5nIG5vcm1hbGl6ZWRcbiAqIGNyb3NzLXBsYXRmb3JtIFwiZ2VzdHVyZVwiIGV2ZW50czpcbiAqIC0gYGRvd25gIC0gbW91c2Ugb3IgdG91Y2ggd2VudCBkb3duXG4gKiAtIGB1cGAgLSBtb3VzZSBvciB0b3VjaCB3ZW50IHVwXG4gKiAtIGB0YXBgIC0gbW91c2UgY2xpY2sgb3IgZmluZ2VyIHRhcFxuICogLSBgdHJhY2tgIC0gbW91c2UgZHJhZyBvciB0b3VjaCBtb3ZlXG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIGZvciBhZGRpbmcgY3Jvc3MtcGxhdGZvcm0gZ2VzdHVyZSBldmVudCBsaXN0ZW5lcnMuXG4gKi9cblxuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyB0aW1lT3V0LCBtaWNyb1Rhc2sgfSBmcm9tICcuL2FzeW5jLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4vZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgcGFzc2l2ZVRvdWNoR2VzdHVyZXMsIGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzIH0gZnJvbSAnLi9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLy8gZGV0ZWN0IG5hdGl2ZSB0b3VjaCBhY3Rpb24gc3VwcG9ydFxubGV0IEhBU19OQVRJVkVfVEEgPSB0eXBlb2YgZG9jdW1lbnQuaGVhZC5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ3N0cmluZyc7XG5sZXQgR0VTVFVSRV9LRVkgPSAnX19wb2x5bWVyR2VzdHVyZXMnO1xubGV0IEhBTkRMRURfT0JKID0gJ19fcG9seW1lckdlc3R1cmVzSGFuZGxlZCc7XG5sZXQgVE9VQ0hfQUNUSU9OID0gJ19fcG9seW1lckdlc3R1cmVzVG91Y2hBY3Rpb24nO1xuLy8gcmFkaXVzIGZvciB0YXAgYW5kIHRyYWNrXG5sZXQgVEFQX0RJU1RBTkNFID0gMjU7XG5sZXQgVFJBQ0tfRElTVEFOQ0UgPSA1O1xuLy8gbnVtYmVyIG9mIGxhc3QgTiB0cmFjayBwb3NpdGlvbnMgdG8ga2VlcFxubGV0IFRSQUNLX0xFTkdUSCA9IDI7XG5cbi8vIERpc2FibGluZyBcIm1vdXNlXCIgaGFuZGxlcnMgZm9yIDI1MDBtcyBpcyBlbm91Z2hcbmxldCBNT1VTRV9USU1FT1VUID0gMjUwMDtcbmxldCBNT1VTRV9FVkVOVFMgPSBbJ21vdXNlZG93bicsICdtb3VzZW1vdmUnLCAnbW91c2V1cCcsICdjbGljayddO1xuLy8gYW4gYXJyYXkgb2YgYml0bWFzayB2YWx1ZXMgZm9yIG1hcHBpbmcgTW91c2VFdmVudC53aGljaCB0byBNb3VzZUV2ZW50LmJ1dHRvbnNcbmxldCBNT1VTRV9XSElDSF9UT19CVVRUT05TID0gWzAsIDEsIDQsIDJdO1xubGV0IE1PVVNFX0hBU19CVVRUT05TID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgTW91c2VFdmVudCgndGVzdCcsIHtidXR0b25zOiAxfSkuYnV0dG9ucyA9PT0gMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSkoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBQb3NzaWJsZSBtb3VzZSBldmVudCBuYW1lXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG1vdXNlIGV2ZW50LCBmYWxzZSBpZiBub3RcbiAqL1xuZnVuY3Rpb24gaXNNb3VzZUV2ZW50KG5hbWUpIHtcbiAgcmV0dXJuIE1PVVNFX0VWRU5UUy5pbmRleE9mKG5hbWUpID4gLTE7XG59XG5cbi8qIGVzbGludCBuby1lbXB0eTogW1wiZXJyb3JcIiwgeyBcImFsbG93RW1wdHlDYXRjaFwiOiB0cnVlIH1dICovXG4vLyBjaGVjayBmb3IgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnNcbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbihmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBsZXQgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7Z2V0KCkge3N1cHBvcnRzUGFzc2l2ZSA9IHRydWU7fX0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaChlKSB7fVxufSkoKTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBzZXR0aW5ncyBmb3IgZXZlbnQgbGlzdGVuZXJzLCBkZXBlbmRhbnQgb24gYHBhc3NpdmVUb3VjaEdlc3R1cmVzYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgRXZlbnQgbmFtZSB0byBkZXRlcm1pbmUgaWYgYHtwYXNzaXZlfWAgb3B0aW9uIGlzXG4gKiAgIG5lZWRlZFxuICogQHJldHVybiB7e3Bhc3NpdmU6IGJvb2xlYW59IHwgdW5kZWZpbmVkfSBPcHRpb25zIHRvIHVzZSBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuICogICBhbmQgcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICovXG5mdW5jdGlvbiBQQVNTSVZFX1RPVUNIKGV2ZW50TmFtZSkge1xuICBpZiAoaXNNb3VzZUV2ZW50KGV2ZW50TmFtZSkgfHwgZXZlbnROYW1lID09PSAndG91Y2hlbmQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChIQVNfTkFUSVZFX1RBICYmIHN1cHBvcnRzUGFzc2l2ZSAmJiBwYXNzaXZlVG91Y2hHZXN0dXJlcykge1xuICAgIHJldHVybiB7cGFzc2l2ZTogdHJ1ZX07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbi8vIENoZWNrIGZvciB0b3VjaC1vbmx5IGRldmljZXNcbmxldCBJU19UT1VDSF9PTkxZID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVAoPzpbb2FdZHxob25lKXxBbmRyb2lkLyk7XG5cbi8vIGtlZXAgdHJhY2sgb2YgYW55IGxhYmVscyBoaXQgYnkgdGhlIG1vdXNlQ2FuY2VsbGVyXG4vKiogQHR5cGUgeyFBcnJheTwhSFRNTExhYmVsRWxlbWVudD59ICovXG5jb25zdCBjbGlja2VkTGFiZWxzID0gW107XG5cbi8qKiBAdHlwZSB7IU9iamVjdDxib29sZWFuPn0gKi9cbmNvbnN0IGxhYmVsbGFibGUgPSB7XG4gICdidXR0b24nOiB0cnVlLFxuICAnaW5wdXQnOiB0cnVlLFxuICAna2V5Z2VuJzogdHJ1ZSxcbiAgJ21ldGVyJzogdHJ1ZSxcbiAgJ291dHB1dCc6IHRydWUsXG4gICd0ZXh0YXJlYSc6IHRydWUsXG4gICdwcm9ncmVzcyc6IHRydWUsXG4gICdzZWxlY3QnOiB0cnVlXG59O1xuXG4vLyBEZWZpbmVkIGF0IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI2VuYWJsaW5nLWFuZC1kaXNhYmxpbmctZm9ybS1jb250cm9sczotdGhlLWRpc2FibGVkLWF0dHJpYnV0ZVxuLyoqIEB0eXBlIHshT2JqZWN0PGJvb2xlYW4+fSAqL1xuY29uc3QgY2FuQmVEaXNhYmxlZCA9IHtcbiAgJ2J1dHRvbic6IHRydWUsXG4gICdjb21tYW5kJzogdHJ1ZSxcbiAgJ2ZpZWxkc2V0JzogdHJ1ZSxcbiAgJ2lucHV0JzogdHJ1ZSxcbiAgJ2tleWdlbic6IHRydWUsXG4gICdvcHRncm91cCc6IHRydWUsXG4gICdvcHRpb24nOiB0cnVlLFxuICAnc2VsZWN0JzogdHJ1ZSxcbiAgJ3RleHRhcmVhJzogdHJ1ZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRvIGNoZWNrIGxhYmVsbGluZyBzdGF0dXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGVsZW1lbnQgY2FuIGhhdmUgbGFiZWxzXG4gKi9cbmZ1bmN0aW9uIGNhbkJlTGFiZWxsZWQoZWwpIHtcbiAgcmV0dXJuIGxhYmVsbGFibGVbZWwubG9jYWxOYW1lXSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCBFbGVtZW50IHRoYXQgbWF5IGJlIGxhYmVsbGVkLlxuICogQHJldHVybiB7IUFycmF5PCFIVE1MTGFiZWxFbGVtZW50Pn0gUmVsZXZhbnQgbGFiZWwgZm9yIGBlbGBcbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdMYWJlbHMoZWwpIHtcbiAgbGV0IGxhYmVscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8oZWwpLmxhYmVscyB8fCBbXSk7XG4gIC8vIElFIGRvZXNuJ3QgaGF2ZSBgbGFiZWxzYCBhbmQgU2FmYXJpIGRvZXNuJ3QgcG9wdWxhdGUgYGxhYmVsc2BcbiAgLy8gaWYgZWxlbWVudCBpcyBpbiBhIHNoYWRvd3Jvb3QuXG4gIC8vIEluIHRoaXMgaW5zdGFuY2UsIGZpbmRpbmcgdGhlIG5vbi1hbmNlc3RvciBsYWJlbHMgaXMgZW5vdWdoLFxuICAvLyBhcyB0aGUgbW91c2VDYW5jZWxsb3IgY29kZSB3aWxsIGhhbmRsZSBhbmNzdG9yIGxhYmVsc1xuICBpZiAoIWxhYmVscy5sZW5ndGgpIHtcbiAgICBsYWJlbHMgPSBbXTtcbiAgICBsZXQgcm9vdCA9IGVsLmdldFJvb3ROb2RlKCk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYW4gaWQgb24gYGVsYCwgY2hlY2sgZm9yIGFsbCBsYWJlbHMgd2l0aCBhIG1hdGNoaW5nIGBmb3JgIGF0dHJpYnV0ZVxuICAgIGlmIChlbC5pZCkge1xuICAgICAgbGV0IG1hdGNoaW5nID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKGBsYWJlbFtmb3IgPSAke2VsLmlkfV1gKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Y2hpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFiZWxzLnB1c2goLyoqIEB0eXBlIHshSFRNTExhYmVsRWxlbWVudH0gKi8obWF0Y2hpbmdbaV0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxhYmVscztcbn1cblxuLy8gdG91Y2ggd2lsbCBtYWtlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbi8vIGBwcmV2ZW50RGVmYXVsdGAgb24gdG91Y2hlbmQgd2lsbCBjYW5jZWwgdGhlbSxcbi8vIGJ1dCB0aGlzIGJyZWFrcyBgPGlucHV0PmAgZm9jdXMgYW5kIGxpbmsgY2xpY2tzXG4vLyBkaXNhYmxlIG1vdXNlIGhhbmRsZXJzIGZvciBNT1VTRV9USU1FT1VUIG1zIGFmdGVyXG4vLyBhIHRvdWNoZW5kIHRvIGlnbm9yZSBzeW50aGV0aWMgbW91c2UgZXZlbnRzXG5sZXQgbW91c2VDYW5jZWxsZXIgPSBmdW5jdGlvbihtb3VzZUV2ZW50KSB7XG4gIC8vIENoZWNrIGZvciBzb3VyY2VDYXBhYmlsaXRpZXMsIHVzZWQgdG8gZGlzdGluZ3Vpc2ggc3ludGhldGljIGV2ZW50c1xuICAvLyBpZiBtb3VzZUV2ZW50IGRpZCBub3QgY29tZSBmcm9tIGEgZGV2aWNlIHRoYXQgZmlyZXMgdG91Y2ggZXZlbnRzLFxuICAvLyBpdCB3YXMgbWFkZSBieSBhIHJlYWwgbW91c2UgYW5kIHNob3VsZCBiZSBjb3VudGVkXG4gIC8vIGh0dHA6Ly93aWNnLmdpdGh1Yi5pby9JbnB1dERldmljZUNhcGFiaWxpdGllcy8jZG9tLWlucHV0ZGV2aWNlY2FwYWJpbGl0aWVzLWZpcmVzdG91Y2hldmVudHNcbiAgbGV0IHNjID0gbW91c2VFdmVudC5zb3VyY2VDYXBhYmlsaXRpZXM7XG4gIGlmIChzYyAmJiAhc2MuZmlyZXNUb3VjaEV2ZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBza2lwIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgbW91c2VFdmVudFtIQU5ETEVEX09CSl0gPSB7c2tpcDogdHJ1ZX07XG4gIC8vIGRpc2FibGUgXCJnaG9zdCBjbGlja3NcIlxuICBpZiAobW91c2VFdmVudC50eXBlID09PSAnY2xpY2snKSB7XG4gICAgbGV0IGNsaWNrRnJvbUxhYmVsID0gZmFsc2U7XG4gICAgbGV0IHBhdGggPSBnZXRDb21wb3NlZFBhdGgobW91c2VFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocGF0aFtpXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKHBhdGhbaV0ubG9jYWxOYW1lID09PSAnbGFiZWwnKSB7XG4gICAgICAgICAgY2xpY2tlZExhYmVscy5wdXNoKC8qKiBAdHlwZSB7IUhUTUxMYWJlbEVsZW1lbnR9ICovIChwYXRoW2ldKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FuQmVMYWJlbGxlZCgvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHBhdGhbaV0pKSkge1xuICAgICAgICAgIGxldCBvd25lckxhYmVscyA9XG4gICAgICAgICAgICAgIG1hdGNoaW5nTGFiZWxzKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAocGF0aFtpXSkpO1xuICAgICAgICAgIC8vIGNoZWNrIGlmIG9uZSBvZiB0aGUgY2xpY2tlZCBsYWJlbHMgaXMgbGFiZWxsaW5nIHRoaXMgZWxlbWVudFxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb3duZXJMYWJlbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNsaWNrRnJvbUxhYmVsID0gY2xpY2tGcm9tTGFiZWwgfHwgY2xpY2tlZExhYmVscy5pbmRleE9mKG93bmVyTGFiZWxzW2pdKSA+IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGhbaV0gPT09IFBPSU5URVJTVEFURS5tb3VzZS50YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBvbmUgb2YgdGhlIGNsaWNrZWQgbGFiZWxzIHdhcyBsYWJlbGxpbmcgdGhlIHRhcmdldCBlbGVtZW50LFxuICAgIC8vIHRoaXMgaXMgbm90IGEgZ2hvc3QgY2xpY2tcbiAgICBpZiAoY2xpY2tGcm9tTGFiZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW91c2VFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdXNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFuPX0gc2V0dXAgVHJ1ZSB0byBhZGQsIGZhbHNlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcihzZXR1cCkge1xuICBsZXQgZXZlbnRzID0gSVNfVE9VQ0hfT05MWSA/IFsnY2xpY2snXSA6IE1PVVNFX0VWRU5UUztcbiAgZm9yIChsZXQgaSA9IDAsIGVuOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZW4gPSBldmVudHNbaV07XG4gICAgaWYgKHNldHVwKSB7XG4gICAgICAvLyByZXNldCBjbGlja0xhYmVscyBhcnJheVxuICAgICAgY2xpY2tlZExhYmVscy5sZW5ndGggPSAwO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlbiwgbW91c2VDYW5jZWxsZXIsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGVuLCBtb3VzZUNhbmNlbGxlciwgdHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlnbm9yZU1vdXNlKGUpIHtcbiAgaWYgKCFjYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIVBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYikge1xuICAgIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcih0cnVlKTtcbiAgfVxuICBsZXQgdW5zZXQgPSBmdW5jdGlvbigpIHtcbiAgICBzZXR1cFRlYXJkb3duTW91c2VDYW5jZWxsZXIoKTtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UudGFyZ2V0ID0gbnVsbDtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IgPSBudWxsO1xuICB9O1xuICBQT0lOVEVSU1RBVEUubW91c2UudGFyZ2V0ID0gZ2V0Q29tcG9zZWRQYXRoKGUpWzBdO1xuICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgIFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYlxuICAgICAgLCB0aW1lT3V0LmFmdGVyKE1PVVNFX1RJTUVPVVQpXG4gICAgICAsIHVuc2V0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2IGV2ZW50IHRvIHRlc3QgZm9yIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IGhhcyBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gKi9cbmZ1bmN0aW9uIGhhc0xlZnRNb3VzZUJ1dHRvbihldikge1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIC8vIGV4aXQgZWFybHkgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIG1vdXNlIGV2ZW50XG4gIGlmICghaXNNb3VzZUV2ZW50KHR5cGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGV2LmJ1dHRvbiBpcyBub3QgcmVsaWFibGUgZm9yIG1vdXNlbW92ZSAoMCBpcyBvdmVybG9hZGVkIGFzIGJvdGggbGVmdCBidXR0b24gYW5kIG5vIGJ1dHRvbnMpXG4gIC8vIGluc3RlYWQgd2UgdXNlIGV2LmJ1dHRvbnMgKGJpdG1hc2sgb2YgYnV0dG9ucykgb3IgZmFsbCBiYWNrIHRvIGV2LndoaWNoIChkZXByZWNhdGVkLCAwIGZvciBubyBidXR0b25zLCAxIGZvciBsZWZ0IGJ1dHRvbilcbiAgaWYgKHR5cGUgPT09ICdtb3VzZW1vdmUnKSB7XG4gICAgLy8gYWxsb3cgdW5kZWZpbmVkIGZvciB0ZXN0aW5nIGV2ZW50c1xuICAgIGxldCBidXR0b25zID0gZXYuYnV0dG9ucyA9PT0gdW5kZWZpbmVkID8gMSA6IGV2LmJ1dHRvbnM7XG4gICAgaWYgKChldiBpbnN0YW5jZW9mIHdpbmRvdy5Nb3VzZUV2ZW50KSAmJiAhTU9VU0VfSEFTX0JVVFRPTlMpIHtcbiAgICAgIGJ1dHRvbnMgPSBNT1VTRV9XSElDSF9UT19CVVRUT05TW2V2LndoaWNoXSB8fCAwO1xuICAgIH1cbiAgICAvLyBidXR0b25zIGlzIGEgYml0bWFzaywgY2hlY2sgdGhhdCB0aGUgbGVmdCBidXR0b24gYml0IGlzIHNldCAoMSlcbiAgICByZXR1cm4gQm9vbGVhbihidXR0b25zICYgMSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYWxsb3cgdW5kZWZpbmVkIGZvciB0ZXN0aW5nIGV2ZW50c1xuICAgIGxldCBidXR0b24gPSBldi5idXR0b24gPT09IHVuZGVmaW5lZCA/IDAgOiBldi5idXR0b247XG4gICAgLy8gZXYuYnV0dG9uIGlzIDAgaW4gbW91c2Vkb3duL21vdXNldXAvY2xpY2sgZm9yIGxlZnQgYnV0dG9uIGFjdGl2YXRpb25cbiAgICByZXR1cm4gYnV0dG9uID09PSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljQ2xpY2soZXYpIHtcbiAgaWYgKGV2LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAvLyBldi5kZXRhaWwgaXMgMCBmb3IgSFRNTEVsZW1lbnQuY2xpY2sgaW4gbW9zdCBicm93c2Vyc1xuICAgIGlmIChldi5kZXRhaWwgPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBpbiB0aGUgd29yc3QgY2FzZSwgY2hlY2sgdGhhdCB0aGUgeC95IHBvc2l0aW9uIG9mIHRoZSBjbGljayBpcyB3aXRoaW5cbiAgICAvLyB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50XG4gICAgLy8gVGhhbmtzIElFIDEwID46KFxuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChldik7XG4gICAgLy8gbWFrZSBzdXJlIHRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50IGlzIGFuIGVsZW1lbnQgc28gd2UgY2FuIHVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QsXG4gICAgLy8gaWYgbm90LCBqdXN0IGFzc3VtZSBpdCBpcyBhIHN5bnRoZXRpYyBjbGlja1xuICAgIGlmICghdC5ub2RlVHlwZSB8fCAvKiogQHR5cGUge0VsZW1lbnR9ICovKHQpLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBiY3IgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKHQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIHVzZSBwYWdlIHgveSB0byBhY2NvdW50IGZvciBzY3JvbGxpbmdcbiAgICBsZXQgeCA9IGV2LnBhZ2VYLCB5ID0gZXYucGFnZVk7XG4gICAgLy8gZXYgaXMgYSBzeW50aGV0aWMgY2xpY2sgaWYgdGhlIHBvc2l0aW9uIGlzIG91dHNpZGUgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgdGFyZ2V0XG4gICAgcmV0dXJuICEoKHggPj0gYmNyLmxlZnQgJiYgeCA8PSBiY3IucmlnaHQpICYmICh5ID49IGJjci50b3AgJiYgeSA8PSBiY3IuYm90dG9tKSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5sZXQgUE9JTlRFUlNUQVRFID0ge1xuICBtb3VzZToge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBtb3VzZUlnbm9yZUpvYjogbnVsbFxuICB9LFxuICB0b3VjaDoge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBpZDogLTEsXG4gICAgc2Nyb2xsRGVjaWRlZDogZmFsc2VcbiAgfVxufTtcblxuZnVuY3Rpb24gZmlyc3RUb3VjaEFjdGlvbihldikge1xuICBsZXQgdGEgPSAnYXV0byc7XG4gIGxldCBwYXRoID0gZ2V0Q29tcG9zZWRQYXRoKGV2KTtcbiAgZm9yIChsZXQgaSA9IDAsIG47IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgbiA9IHBhdGhbaV07XG4gICAgaWYgKG5bVE9VQ0hfQUNUSU9OXSkge1xuICAgICAgdGEgPSBuW1RPVUNIX0FDVElPTl07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhO1xufVxuXG5mdW5jdGlvbiB0cmFja0RvY3VtZW50KHN0YXRlT2JqLCBtb3ZlZm4sIHVwZm4pIHtcbiAgc3RhdGVPYmoubW92ZWZuID0gbW92ZWZuO1xuICBzdGF0ZU9iai51cGZuID0gdXBmbjtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW92ZWZuKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHVwZm4pO1xufVxuXG5mdW5jdGlvbiB1bnRyYWNrRG9jdW1lbnQoc3RhdGVPYmopIHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgc3RhdGVPYmoubW92ZWZuKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0YXRlT2JqLnVwZm4pO1xuICBzdGF0ZU9iai5tb3ZlZm4gPSBudWxsO1xuICBzdGF0ZU9iai51cGZuID0gbnVsbDtcbn1cblxuaWYgKGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzKSB7XG4gIC8vIHVzZSBhIGRvY3VtZW50LXdpZGUgdG91Y2hlbmQgbGlzdGVuZXIgdG8gc3RhcnQgdGhlIGdob3N0LWNsaWNrIHByZXZlbnRpb24gbWVjaGFuaXNtXG4gIC8vIFVzZSBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgaWYgc3VwcG9ydGVkLCB0byBub3QgYWZmZWN0IHNjcm9sbGluZyBwZXJmb3JtYW5jZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGlnbm9yZU1vdXNlLCBzdXBwb3J0c1Bhc3NpdmUgPyB7cGFzc2l2ZTogdHJ1ZX0gOiBmYWxzZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcG9zZWRQYXRoIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCB0byBwcm9jZXNzXG4gKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gUGF0aCBvZiB0aGUgZXZlbnRcbiAqL1xuY29uc3QgZ2V0Q29tcG9zZWRQYXRoID0gd2luZG93LlNoYWR5RE9NICYmIHdpbmRvdy5TaGFkeURPTS5ub1BhdGNoID9cbiAgd2luZG93LlNoYWR5RE9NLmNvbXBvc2VkUGF0aCA6XG4gIChldmVudCkgPT4gZXZlbnQuY29tcG9zZWRQYXRoICYmIGV2ZW50LmNvbXBvc2VkUGF0aCgpIHx8IFtdO1xuXG4vKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhR2VzdHVyZVJlY29nbml6ZXI+fSAqL1xuZXhwb3J0IGNvbnN0IGdlc3R1cmVzID0ge307XG5cbi8qKiBAdHlwZSB7IUFycmF5PCFHZXN0dXJlUmVjb2duaXplcj59ICovXG5leHBvcnQgY29uc3QgcmVjb2duaXplcnMgPSBbXTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgZWxlbWVudCByZW5kZXJlZCBvbiB0aGUgc2NyZWVuIGF0IHRoZSBwcm92aWRlZCBjb29yZGluYXRlcy5cbiAqXG4gKiBTaW1pbGFyIHRvIGBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50YCwgYnV0IHBpZXJjZXMgdGhyb3VnaFxuICogc2hhZG93IHJvb3RzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEhvcml6b250YWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHkgVmVydGljYWwgcGl4ZWwgY29vcmRpbmF0ZVxuICogQHJldHVybiB7RWxlbWVudH0gUmV0dXJucyB0aGUgZGVlcGVzdCBzaGFkb3dSb290IGluY2x1c2l2ZSBlbGVtZW50XG4gKiBmb3VuZCBhdCB0aGUgc2NyZWVuIHBvc2l0aW9uIGdpdmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVlcFRhcmdldEZpbmQoeCwgeSkge1xuICBsZXQgbm9kZSA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gIGxldCBuZXh0ID0gbm9kZTtcbiAgLy8gdGhpcyBjb2RlIHBhdGggaXMgb25seSB0YWtlbiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdXNlZFxuICAvLyBpZiB0aGVyZSBpcyBhIHNoYWRvd3Jvb3QsIGl0IG1heSBoYXZlIGEgbm9kZSBhdCB4L3lcbiAgLy8gaWYgdGhlcmUgaXMgbm90IGEgc2hhZG93cm9vdCwgZXhpdCB0aGUgbG9vcFxuICB3aGlsZSAobmV4dCAmJiBuZXh0LnNoYWRvd1Jvb3QgJiYgIXdpbmRvdy5TaGFkeURPTSkge1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbm9kZSBhdCB4L3kgaW4gdGhlIHNoYWRvd3Jvb3QsIGxvb2sgZGVlcGVyXG4gICAgbGV0IG9sZE5leHQgPSBuZXh0O1xuICAgIG5leHQgPSBuZXh0LnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICAvLyBvbiBTYWZhcmksIGVsZW1lbnRGcm9tUG9pbnQgbWF5IHJldHVybiB0aGUgc2hhZG93Um9vdCBob3N0XG4gICAgaWYgKG9sZE5leHQgPT09IG5leHQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobmV4dCkge1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGEgY2hlYXBlciBjaGVjayB0aGFuIGV2LmNvbXBvc2VkUGF0aCgpWzBdO1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0V2ZW50fFRvdWNofSBldiBFdmVudC5cbiAqIEByZXR1cm4ge0V2ZW50VGFyZ2V0fSBSZXR1cm5zIHRoZSBldmVudCB0YXJnZXQuXG4gKi9cbmZ1bmN0aW9uIF9maW5kT3JpZ2luYWxUYXJnZXQoZXYpIHtcbiAgY29uc3QgcGF0aCA9IGdldENvbXBvc2VkUGF0aCgvKiogQHR5cGUgez9FdmVudH0gKi8gKGV2KSk7XG4gIC8vIEl0IHNob3VsZG4ndCBiZSwgYnV0IHNvbWV0aW1lcyBwYXRoIGlzIGVtcHR5ICh3aW5kb3cgb24gU2FmYXJpKS5cbiAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCA/IHBhdGhbMF0gOiBldi50YXJnZXQ7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RXZlbnR9IGV2IEV2ZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX2hhbmRsZU5hdGl2ZShldikge1xuICBsZXQgaGFuZGxlZDtcbiAgbGV0IHR5cGUgPSBldi50eXBlO1xuICBsZXQgbm9kZSA9IGV2LmN1cnJlbnRUYXJnZXQ7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmICghZ29iaikge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3MgPSBnb2JqW3R5cGVdO1xuICBpZiAoIWdzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghZXZbSEFORExFRF9PQkpdKSB7XG4gICAgZXZbSEFORExFRF9PQkpdID0ge307XG4gICAgaWYgKHR5cGUuc2xpY2UoMCwgNSkgPT09ICd0b3VjaCcpIHtcbiAgICAgIGV2ID0gLyoqIEB0eXBlIHtUb3VjaEV2ZW50fSAqLyhldik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIGxldCB0ID0gZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICBpZiAodHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAgIC8vIG9ubHkgaGFuZGxlIHRoZSBmaXJzdCBmaW5nZXJcbiAgICAgICAgaWYgKGV2LnRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgUE9JTlRFUlNUQVRFLnRvdWNoLmlkID0gdC5pZGVudGlmaWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoUE9JTlRFUlNUQVRFLnRvdWNoLmlkICE9PSB0LmlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFIQVNfTkFUSVZFX1RBKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcgfHwgdHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICAgICAgICBfaGFuZGxlVG91Y2hBY3Rpb24oZXYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGhhbmRsZWQgPSBldltIQU5ETEVEX09CSl07XG4gIC8vIHVzZWQgdG8gaWdub3JlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbiAgaWYgKGhhbmRsZWQuc2tpcCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyByZXNldCByZWNvZ25pemVyIHN0YXRlXG4gIGZvciAobGV0IGkgPSAwLCByOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICByID0gcmVjb2duaXplcnNbaV07XG4gICAgaWYgKGdzW3IubmFtZV0gJiYgIWhhbmRsZWRbci5uYW1lXSkge1xuICAgICAgaWYgKHIuZmxvdyAmJiByLmZsb3cuc3RhcnQuaW5kZXhPZihldi50eXBlKSA+IC0xICYmIHIucmVzZXQpIHtcbiAgICAgICAgci5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbmZvcmNlIGdlc3R1cmUgcmVjb2duaXplciBvcmRlclxuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGlmIChnc1tyLm5hbWVdICYmICFoYW5kbGVkW3IubmFtZV0pIHtcbiAgICAgIGhhbmRsZWRbci5uYW1lXSA9IHRydWU7XG4gICAgICByW3R5cGVdKGV2KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldiBFdmVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVUb3VjaEFjdGlvbihldikge1xuICBsZXQgdCA9IGV2LmNoYW5nZWRUb3VjaGVzWzBdO1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueCA9IHQuY2xpZW50WDtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2gueSA9IHQuY2xpZW50WTtcbiAgICBQT0lOVEVSU1RBVEUudG91Y2guc2Nyb2xsRGVjaWRlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgaWYgKFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkID0gdHJ1ZTtcbiAgICBsZXQgdGEgPSBmaXJzdFRvdWNoQWN0aW9uKGV2KTtcbiAgICBsZXQgc2hvdWxkUHJldmVudCA9IGZhbHNlO1xuICAgIGxldCBkeCA9IE1hdGguYWJzKFBPSU5URVJTVEFURS50b3VjaC54IC0gdC5jbGllbnRYKTtcbiAgICBsZXQgZHkgPSBNYXRoLmFicyhQT0lOVEVSU1RBVEUudG91Y2gueSAtIHQuY2xpZW50WSk7XG4gICAgaWYgKCFldi5jYW5jZWxhYmxlKSB7XG4gICAgICAvLyBzY3JvbGxpbmcgaXMgaGFwcGVuaW5nXG4gICAgfSBlbHNlIGlmICh0YSA9PT0gJ25vbmUnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXgnKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHkgPiBkeDtcbiAgICB9IGVsc2UgaWYgKHRhID09PSAncGFuLXknKSB7XG4gICAgICBzaG91bGRQcmV2ZW50ID0gZHggPiBkeTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFByZXZlbnQpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXZlbnQoJ3RyYWNrJyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgbGlzdGVuZXIgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBldlR5cGUgR2VzdHVyZSB0eXBlOiBgZG93bmAsIGB1cGAsIGB0cmFja2AsIG9yIGB0YXBgXG4gKiBAcGFyYW0geyFmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgRXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gdG8gY2FsbFxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGEgZ2VzdHVyZSBldmVudCBsaXN0ZW5lciB3YXMgYWRkZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRMaXN0ZW5lcihub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgaWYgKGdlc3R1cmVzW2V2VHlwZV0pIHtcbiAgICBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIG5vZGUgZm9yIHRoZSBnaXZlbiBnZXN0dXJlIHR5cGUuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgbGlzdGVuZXIgZnJvbVxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBHZXN0dXJlIHR5cGU6IGBkb3duYCwgYHVwYCwgYHRyYWNrYCwgb3IgYHRhcGBcbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBFdmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICogIGBhZGRMaXN0ZW5lcmAuXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBnZXN0dXJlIGV2ZW50IGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZUeXBlLCBoYW5kbGVyKSB7XG4gIGlmIChnZXN0dXJlc1tldlR5cGVdKSB7XG4gICAgX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBhdXRvbWF0ZSB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgbmF0aXZlIGV2ZW50c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIG9uIHdoaWNoIHRvIGFkZCB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZUeXBlIEV2ZW50IHR5cGUgdG8gYWRkLlxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfYWRkKG5vZGUsIGV2VHlwZSwgaGFuZGxlcikge1xuICBsZXQgcmVjb2duaXplciA9IGdlc3R1cmVzW2V2VHlwZV07XG4gIGxldCBkZXBzID0gcmVjb2duaXplci5kZXBzO1xuICBsZXQgbmFtZSA9IHJlY29nbml6ZXIubmFtZTtcbiAgbGV0IGdvYmogPSBub2RlW0dFU1RVUkVfS0VZXTtcbiAgaWYgKCFnb2JqKSB7XG4gICAgbm9kZVtHRVNUVVJFX0tFWV0gPSBnb2JqID0ge307XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGVwID0gZGVwc1tpXTtcbiAgICAvLyBkb24ndCBhZGQgbW91c2UgaGFuZGxlcnMgb24gaU9TIGJlY2F1c2UgdGhleSBjYXVzZSBncmF5IHNlbGVjdGlvbiBvdmVybGF5c1xuICAgIGlmIChJU19UT1VDSF9PTkxZICYmIGlzTW91c2VFdmVudChkZXApICYmIGRlcCAhPT0gJ2NsaWNrJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGdkID0gZ29ialtkZXBdO1xuICAgIGlmICghZ2QpIHtcbiAgICAgIGdvYmpbZGVwXSA9IGdkID0ge19jb3VudDogMH07XG4gICAgfVxuICAgIGlmIChnZC5fY291bnQgPT09IDApIHtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgfVxuICAgIGdkW25hbWVdID0gKGdkW25hbWVdIHx8IDApICsgMTtcbiAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDApICsgMTtcbiAgfVxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZUeXBlLCBoYW5kbGVyKTtcbiAgaWYgKHJlY29nbml6ZXIudG91Y2hBY3Rpb24pIHtcbiAgICBzZXRUb3VjaEFjdGlvbihub2RlLCByZWNvZ25pemVyLnRvdWNoQWN0aW9uKTtcbiAgfVxufVxuXG4vKipcbiAqIGF1dG9tYXRlIGV2ZW50IGxpc3RlbmVyIHJlbW92YWwgZm9yIG5hdGl2ZSBldmVudHNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSBvbiB3aGljaCB0byByZW1vdmUgdGhlIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBFdmVudCB0eXBlIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTogdm9pZH0gaGFuZGxlciBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX3JlbW92ZShub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgbGV0IHJlY29nbml6ZXIgPSBnZXN0dXJlc1tldlR5cGVdO1xuICBsZXQgZGVwcyA9IHJlY29nbml6ZXIuZGVwcztcbiAgbGV0IG5hbWUgPSByZWNvZ25pemVyLm5hbWU7XG4gIGxldCBnb2JqID0gbm9kZVtHRVNUVVJFX0tFWV07XG4gIGlmIChnb2JqKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGRlcCwgZ2Q7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXAgPSBkZXBzW2ldO1xuICAgICAgZ2QgPSBnb2JqW2RlcF07XG4gICAgICBpZiAoZ2QgJiYgZ2RbbmFtZV0pIHtcbiAgICAgICAgZ2RbbmFtZV0gPSAoZ2RbbmFtZV0gfHwgMSkgLSAxO1xuICAgICAgICBnZC5fY291bnQgPSAoZ2QuX2NvdW50IHx8IDEpIC0gMTtcbiAgICAgICAgaWYgKGdkLl9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihkZXAsIF9oYW5kbGVOYXRpdmUsIFBBU1NJVkVfVE9VQ0goZGVwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2VHlwZSwgaGFuZGxlcik7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgbmV3IGdlc3R1cmUgZXZlbnQgcmVjb2duaXplciBmb3IgYWRkaW5nIG5ldyBjdXN0b21cbiAqIGdlc3R1cmUgZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHshR2VzdHVyZVJlY29nbml6ZXJ9IHJlY29nIEdlc3R1cmUgcmVjb2duaXplciBkZXNjcmlwdG9yXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIocmVjb2cpIHtcbiAgcmVjb2duaXplcnMucHVzaChyZWNvZyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjb2cuZW1pdHMubGVuZ3RoOyBpKyspIHtcbiAgICBnZXN0dXJlc1tyZWNvZy5lbWl0c1tpXV0gPSByZWNvZztcbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZOYW1lIEV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdlc3R1cmUgZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICovXG5mdW5jdGlvbiBfZmluZFJlY29nbml6ZXJCeUV2ZW50KGV2TmFtZSkge1xuICBmb3IgKGxldCBpID0gMCwgcjsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgciA9IHJlY29nbml6ZXJzW2ldO1xuICAgIGZvciAobGV0IGogPSAwLCBuOyBqIDwgci5lbWl0cy5sZW5ndGg7IGorKykge1xuICAgICAgbiA9IHIuZW1pdHNbal07XG4gICAgICBpZiAobiA9PT0gZXZOYW1lKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBTZXRzIHNjcm9sbGluZyBkaXJlY3Rpb24gb24gbm9kZS5cbiAqXG4gKiBUaGlzIHZhbHVlIGlzIGNoZWNrZWQgb24gZmlyc3QgbW92ZSwgdGh1cyBpdCBzaG91bGQgYmUgY2FsbGVkIHByaW9yIHRvXG4gKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gc2V0IHRvdWNoIGFjdGlvbiBzZXR0aW5nIG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVG91Y2ggYWN0aW9uIHZhbHVlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VG91Y2hBY3Rpb24obm9kZSwgdmFsdWUpIHtcbiAgaWYgKEhBU19OQVRJVkVfVEEgJiYgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgLy8gTk9URTogYWRkIHRvdWNoQWN0aW9uIGFzeW5jIHNvIHRoYXQgZXZlbnRzIGNhbiBiZSBhZGRlZCBpblxuICAgIC8vIGN1c3RvbSBlbGVtZW50IGNvbnN0cnVjdG9ycy4gT3RoZXJ3aXNlIHdlIHJ1biBhZm91bCBvZiBjdXN0b21cbiAgICAvLyBlbGVtZW50cyByZXN0cmljdGlvbiBhZ2FpbnN0IHNldHRpbmdzIGF0dHJpYnV0ZXMgKHN0eWxlKSBpbiB0aGVcbiAgICAvLyBjb25zdHJ1Y3Rvci5cbiAgICBtaWNyb1Rhc2sucnVuKCgpID0+IHtcbiAgICAgIG5vZGUuc3R5bGUudG91Y2hBY3Rpb24gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuICBub2RlW1RPVUNIX0FDVElPTl0gPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBgdGFyZ2V0YCBlbGVtZW50IG9mIGB0eXBlYCB3aXRoIHRoZSBnaXZlblxuICogYGRldGFpbGAuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IHRhcmdldCBUaGUgZWxlbWVudCBvbiB3aGljaCB0byBmaXJlIGFuIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgZXZlbnQgdG8gZmlyZS5cbiAqIEBwYXJhbSB7IU9iamVjdD19IGRldGFpbCBUaGUgZGV0YWlsIG9iamVjdCB0byBwb3B1bGF0ZSBvbiB0aGUgZXZlbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfZmlyZSh0YXJnZXQsIHR5cGUsIGRldGFpbCkge1xuICBsZXQgZXYgPSBuZXcgRXZlbnQodHlwZSwgeyBidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCBjb21wb3NlZDogdHJ1ZSB9KTtcbiAgZXYuZGV0YWlsID0gZGV0YWlsO1xuICB3cmFwKC8qKiBAdHlwZSB7IU5vZGV9ICovKHRhcmdldCkpLmRpc3BhdGNoRXZlbnQoZXYpO1xuICAvLyBmb3J3YXJkIGBwcmV2ZW50RGVmYXVsdGAgaW4gYSBjbGVhbiB3YXlcbiAgaWYgKGV2LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICBsZXQgcHJldmVudGVyID0gZGV0YWlsLnByZXZlbnRlciB8fCBkZXRhaWwuc291cmNlRXZlbnQ7XG4gICAgaWYgKHByZXZlbnRlciAmJiBwcmV2ZW50ZXIucHJldmVudERlZmF1bHQpIHtcbiAgICAgIHByZXZlbnRlci5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFByZXZlbnRzIHRoZSBkaXNwYXRjaCBhbmQgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIGdpdmVuIGV2ZW50IG5hbWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2TmFtZSBFdmVudCBuYW1lLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnQoZXZOYW1lKSB7XG4gIGxldCByZWNvZ25pemVyID0gX2ZpbmRSZWNvZ25pemVyQnlFdmVudChldk5hbWUpO1xuICBpZiAocmVjb2duaXplci5pbmZvKSB7XG4gICAgcmVjb2duaXplci5pbmZvLnByZXZlbnQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIDI1MDBtcyB0aW1lb3V0IG9uIHByb2Nlc3NpbmcgbW91c2UgaW5wdXQgYWZ0ZXIgZGV0ZWN0aW5nIHRvdWNoIGlucHV0LlxuICpcbiAqIFRvdWNoIGlucHV0cyBjcmVhdGUgc3ludGhlc2l6ZWQgbW91c2UgaW5wdXRzIGFueXdoZXJlIGZyb20gMCB0byAyMDAwbXMgYWZ0ZXIgdGhlIHRvdWNoLlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGR1cmluZyB0ZXN0aW5nIHdpdGggc2ltdWxhdGVkIHRvdWNoIGlucHV0cy5cbiAqIENhbGxpbmcgdGhpcyBtZXRob2QgaW4gcHJvZHVjdGlvbiBtYXkgY2F1c2UgZHVwbGljYXRlIHRhcHMgb3Igb3RoZXIgR2VzdHVyZXMuXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0TW91c2VDYW5jZWxsZXIoKSB7XG4gIGlmIChQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IpIHtcbiAgICBQT0lOVEVSU1RBVEUubW91c2UubW91c2VJZ25vcmVKb2IuZmx1c2goKTtcbiAgfVxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICdkb3dudXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydtb3VzZXVwJywgJ3RvdWNoZW5kJ11cbiAgfSxcbiAgZW1pdHM6IFsnZG93bicsICd1cCddLFxuXG4gIGluZm86IHtcbiAgICBtb3ZlZm46IG51bGwsXG4gICAgdXBmbjogbnVsbFxuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdW50cmFja0RvY3VtZW50KHRoaXMuaW5mbyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtb3VzZWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZSk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBtb3ZlZm4gPSBmdW5jdGlvbiBtb3ZlZm4oZSkge1xuICAgICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgICAgZG93bnVwRmlyZSgndXAnLCB0LCBlKTtcbiAgICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgdXBmbiA9IGZ1bmN0aW9uIHVwZm4oZSkge1xuICAgICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgICBkb3dudXBGaXJlKCd1cCcsIHQsIGUpO1xuICAgICAgfVxuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICBkb3dudXBGaXJlKCdkb3duJywgdCwgZSk7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ2Rvd24nLCBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpLCBlLmNoYW5nZWRUb3VjaGVzWzBdLCBlKTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaGVuZDogZnVuY3Rpb24oZSkge1xuICAgIGRvd251cEZpcmUoJ3VwJywgX2ZpbmRPcmlnaW5hbFRhcmdldChlKSwgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7RXZlbnR8VG91Y2h9IGV2ZW50XG4gKiBAcGFyYW0ge0V2ZW50PX0gcHJldmVudGVyXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBkb3dudXBGaXJlKHR5cGUsIHRhcmdldCwgZXZlbnQsIHByZXZlbnRlcikge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBfZmlyZSh0YXJnZXQsIHR5cGUsIHtcbiAgICB4OiBldmVudC5jbGllbnRYLFxuICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgc291cmNlRXZlbnQ6IGV2ZW50LFxuICAgIHByZXZlbnRlcjogcHJldmVudGVyLFxuICAgIHByZXZlbnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHJldHVybiBwcmV2ZW50KGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgbmFtZTogJ3RyYWNrJyxcbiAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgZGVwczogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCcsICd0b3VjaG1vdmUnLCAndG91Y2hlbmQnXSxcbiAgZmxvdzoge1xuICAgIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gICAgZW5kOiBbJ21vdXNldXAnLCAndG91Y2hlbmQnXVxuICB9LFxuICBlbWl0czogWyd0cmFjayddLFxuXG4gIGluZm86IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgc3RhdGU6ICdzdGFydCcsXG4gICAgc3RhcnRlZDogZmFsc2UsXG4gICAgbW92ZXM6IFtdLFxuICAgIC8qKiBAdGhpcyB7R2VzdHVyZUluZm99ICovXG4gICAgYWRkTW92ZTogZnVuY3Rpb24obW92ZSkge1xuICAgICAgaWYgKHRoaXMubW92ZXMubGVuZ3RoID4gVFJBQ0tfTEVOR1RIKSB7XG4gICAgICAgIHRoaXMubW92ZXMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW92ZXMucHVzaChtb3ZlKTtcbiAgICB9LFxuICAgIG1vdmVmbjogbnVsbCxcbiAgICB1cGZuOiBudWxsLFxuICAgIHByZXZlbnQ6IGZhbHNlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluZm8uc3RhdGUgPSAnc3RhcnQnO1xuICAgIHRoaXMuaW5mby5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5pbmZvLm1vdmVzID0gW107XG4gICAgdGhpcy5pbmZvLnggPSAwO1xuICAgIHRoaXMuaW5mby55ID0gMDtcbiAgICB0aGlzLmluZm8ucHJldmVudCA9IGZhbHNlO1xuICAgIHVudHJhY2tEb2N1bWVudCh0aGlzLmluZm8pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBsZXQgbW92ZWZuID0gZnVuY3Rpb24gbW92ZWZuKGUpIHtcbiAgICAgIGxldCB4ID0gZS5jbGllbnRYLCB5ID0gZS5jbGllbnRZO1xuICAgICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2goc2VsZi5pbmZvLCB4LCB5KSkge1xuICAgICAgICAvLyBmaXJzdCBtb3ZlIGlzICdzdGFydCcsIHN1YnNlcXVlbnQgbW92ZXMgYXJlICdtb3ZlJywgbW91c2V1cCBpcyAnZW5kJ1xuICAgICAgICBzZWxmLmluZm8uc3RhdGUgPSBzZWxmLmluZm8uc3RhcnRlZCA/IChlLnR5cGUgPT09ICdtb3VzZXVwJyA/ICdlbmQnIDogJ3RyYWNrJykgOiAnc3RhcnQnO1xuICAgICAgICBpZiAoc2VsZi5pbmZvLnN0YXRlID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgLy8gaWYgYW5kIG9ubHkgaWYgdHJhY2tpbmcsIGFsd2F5cyBwcmV2ZW50IHRhcFxuICAgICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuaW5mby5hZGRNb3ZlKHt4OiB4LCB5OiB5fSk7XG4gICAgICAgIGlmICghaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICAgICAgLy8gYWx3YXlzIGZpcmUgXCJlbmRcIlxuICAgICAgICAgIHNlbGYuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgICAgIHVudHJhY2tEb2N1bWVudChzZWxmLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgdHJhY2tGaXJlKHNlbGYuaW5mbywgdCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pbmZvLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgbGV0IHVwZm4gPSBmdW5jdGlvbiB1cGZuKGUpIHtcbiAgICAgIGlmIChzZWxmLmluZm8uc3RhcnRlZCkge1xuICAgICAgICBtb3ZlZm4oZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlbW92ZSB0aGUgdGVtcG9yYXJ5IGxpc3RlbmVyc1xuICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgfTtcbiAgICAvLyBhZGQgdGVtcG9yYXJ5IGRvY3VtZW50IGxpc3RlbmVycyBhcyBtb3VzZSByZXRhcmdldHNcbiAgICB0cmFja0RvY3VtZW50KHRoaXMuaW5mbywgbW92ZWZuLCB1cGZuKTtcbiAgICB0aGlzLmluZm8ueCA9IGUuY2xpZW50WDtcbiAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IGN0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IGN0LmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSBjdC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNobW92ZTogZnVuY3Rpb24oZSkge1xuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChlKTtcbiAgICBsZXQgY3QgPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIGxldCB4ID0gY3QuY2xpZW50WCwgeSA9IGN0LmNsaWVudFk7XG4gICAgaWYgKHRyYWNrSGFzTW92ZWRFbm91Z2godGhpcy5pbmZvLCB4LCB5KSkge1xuICAgICAgaWYgKHRoaXMuaW5mby5zdGF0ZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAvLyBpZiBhbmQgb25seSBpZiB0cmFja2luZywgYWx3YXlzIHByZXZlbnQgdGFwXG4gICAgICAgIHByZXZlbnQoJ3RhcCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IHgsIHk6IHl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICd0cmFjayc7XG4gICAgICB0aGlzLmluZm8uc3RhcnRlZCA9IHRydWU7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBjdCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgLy8gb25seSB0cmFja2VuZCBpZiB0cmFjayB3YXMgc3RhcnRlZCBhbmQgbm90IGFib3J0ZWRcbiAgICBpZiAodGhpcy5pbmZvLnN0YXJ0ZWQpIHtcbiAgICAgIC8vIHJlc2V0IHN0YXJ0ZWQgc3RhdGUgb24gdXBcbiAgICAgIHRoaXMuaW5mby5zdGF0ZSA9ICdlbmQnO1xuICAgICAgdGhpcy5pbmZvLmFkZE1vdmUoe3g6IGN0LmNsaWVudFgsIHk6IGN0LmNsaWVudFl9KTtcbiAgICAgIHRyYWNrRmlyZSh0aGlzLmluZm8sIHQsIGN0KTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRyYWNrSGFzTW92ZWRFbm91Z2goaW5mbywgeCwgeSkge1xuICBpZiAoaW5mby5wcmV2ZW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpbmZvLnN0YXJ0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBsZXQgZHggPSBNYXRoLmFicyhpbmZvLnggLSB4KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoaW5mby55IC0geSk7XG4gIHJldHVybiAoZHggPj0gVFJBQ0tfRElTVEFOQ0UgfHwgZHkgPj0gVFJBQ0tfRElTVEFOQ0UpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0gez9FdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1RvdWNofSB0b3VjaFxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdHJhY2tGaXJlKGluZm8sIHRhcmdldCwgdG91Y2gpIHtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlY29uZGxhc3QgPSBpbmZvLm1vdmVzW2luZm8ubW92ZXMubGVuZ3RoIC0gMl07XG4gIGxldCBsYXN0bW92ZSA9IGluZm8ubW92ZXNbaW5mby5tb3Zlcy5sZW5ndGggLSAxXTtcbiAgbGV0IGR4ID0gbGFzdG1vdmUueCAtIGluZm8ueDtcbiAgbGV0IGR5ID0gbGFzdG1vdmUueSAtIGluZm8ueTtcbiAgbGV0IGRkeCwgZGR5ID0gMDtcbiAgaWYgKHNlY29uZGxhc3QpIHtcbiAgICBkZHggPSBsYXN0bW92ZS54IC0gc2Vjb25kbGFzdC54O1xuICAgIGRkeSA9IGxhc3Rtb3ZlLnkgLSBzZWNvbmRsYXN0Lnk7XG4gIH1cbiAgX2ZpcmUodGFyZ2V0LCAndHJhY2snLCB7XG4gICAgc3RhdGU6IGluZm8uc3RhdGUsXG4gICAgeDogdG91Y2guY2xpZW50WCxcbiAgICB5OiB0b3VjaC5jbGllbnRZLFxuICAgIGR4OiBkeCxcbiAgICBkeTogZHksXG4gICAgZGR4OiBkZHgsXG4gICAgZGR5OiBkZHksXG4gICAgc291cmNlRXZlbnQ6IHRvdWNoLFxuICAgIGhvdmVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkZWVwVGFyZ2V0RmluZCh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICB9XG4gIH0pO1xufVxuXG5yZWdpc3Rlcih7XG4gIG5hbWU6ICd0YXAnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICdjbGljaycsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ10sXG4gIGZsb3c6IHtcbiAgICBzdGFydDogWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddLFxuICAgIGVuZDogWydjbGljaycsICd0b3VjaGVuZCddXG4gIH0sXG4gIGVtaXRzOiBbJ3RhcCddLFxuICBpbmZvOiB7XG4gICAgeDogTmFOLFxuICAgIHk6IE5hTixcbiAgICBwcmV2ZW50OiBmYWxzZVxuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5mby54ID0gTmFOO1xuICAgIHRoaXMuaW5mby55ID0gTmFOO1xuICAgIHRoaXMuaW5mby5wcmV2ZW50ID0gZmFsc2U7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgbW91c2Vkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgdGhpcy5pbmZvLnggPSBlLmNsaWVudFg7XG4gICAgICB0aGlzLmluZm8ueSA9IGUuY2xpZW50WTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICB0cmFja0ZvcndhcmQodGhpcy5pbmZvLCBlKTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICB0aGlzLmluZm8ueCA9IHRvdWNoLmNsaWVudFg7XG4gICAgdGhpcy5pbmZvLnkgPSB0b3VjaC5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgdHJhY2tGb3J3YXJkKHRoaXMuaW5mbywgZS5jaGFuZ2VkVG91Y2hlc1swXSwgZSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwYXJhbSB7IUdlc3R1cmVJbmZvfSBpbmZvXG4gKiBAcGFyYW0ge0V2ZW50IHwgVG91Y2h9IGVcbiAqIEBwYXJhbSB7RXZlbnQ9fSBwcmV2ZW50ZXJcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRyYWNrRm9yd2FyZChpbmZvLCBlLCBwcmV2ZW50ZXIpIHtcbiAgbGV0IGR4ID0gTWF0aC5hYnMoZS5jbGllbnRYIC0gaW5mby54KTtcbiAgbGV0IGR5ID0gTWF0aC5hYnMoZS5jbGllbnRZIC0gaW5mby55KTtcbiAgLy8gZmluZCBvcmlnaW5hbCB0YXJnZXQgZnJvbSBgcHJldmVudGVyYCBmb3IgVG91Y2hFdmVudHMsIG9yIGBlYCBmb3IgTW91c2VFdmVudHNcbiAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KChwcmV2ZW50ZXIgfHwgZSkpO1xuICBpZiAoIXQgfHwgKGNhbkJlRGlzYWJsZWRbLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHQpLmxvY2FsTmFtZV0gJiYgdC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGR4LGR5IGNhbiBiZSBOYU4gaWYgYGNsaWNrYCBoYXMgYmVlbiBzaW11bGF0ZWQgYW5kIHRoZXJlIHdhcyBubyBgZG93bmAgZm9yIGBzdGFydGBcbiAgaWYgKGlzTmFOKGR4KSB8fCBpc05hTihkeSkgfHwgKGR4IDw9IFRBUF9ESVNUQU5DRSAmJiBkeSA8PSBUQVBfRElTVEFOQ0UpIHx8IGlzU3ludGhldGljQ2xpY2soZSkpIHtcbiAgICAvLyBwcmV2ZW50IHRhcHMgZnJvbSBiZWluZyBnZW5lcmF0ZWQgaWYgYW4gZXZlbnQgaGFzIGNhbmNlbGVkIHRoZW1cbiAgICBpZiAoIWluZm8ucHJldmVudCkge1xuICAgICAgX2ZpcmUodCwgJ3RhcCcsIHtcbiAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIHNvdXJjZUV2ZW50OiBlLFxuICAgICAgICBwcmV2ZW50ZXI6IHByZXZlbnRlclxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgZmluZE9yaWdpbmFsVGFyZ2V0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldDtcblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgYWRkID0gYWRkTGlzdGVuZXI7XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IHJlbW92ZUxpc3RlbmVyO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBhZGRMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIgfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcy5qcyc7XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIEFQSSBmb3IgYWRkaW5nIFBvbHltZXIncyBjcm9zcy1wbGF0Zm9ybVxuICogZ2VzdHVyZSBldmVudHMgdG8gbm9kZXMuXG4gKlxuICogVGhlIEFQSSBpcyBkZXNpZ25lZCB0byBiZSBjb21wYXRpYmxlIHdpdGggb3ZlcnJpZGUgcG9pbnRzIGltcGxlbWVudGVkXG4gKiBpbiBgVGVtcGxhdGVTdGFtcGAgc3VjaCB0aGF0IGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyBpblxuICogdGVtcGxhdGVzIHdpbGwgc3VwcG9ydCBnZXN0dXJlIGV2ZW50cyB3aGVuIHRoaXMgbWl4aW4gaXMgYXBwbGllZCBhbG9uZyB3aXRoXG4gKiBgVGVtcGxhdGVTdGFtcGAuXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgQVBJIGZvciBhZGRpbmcgUG9seW1lcidzXG4gKiAgIGNyb3NzLXBsYXRmb3JtIGdlc3R1cmUgZXZlbnRzIHRvIG5vZGVzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgR2VzdHVyZUV2ZW50TGlzdGVuZXJzID0gZGVkdXBpbmdNaXhpbigoc3VwZXJDbGFzcykgPT4ge1xuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfR2VzdHVyZUV2ZW50TGlzdGVuZXJzfVxuICAgKi9cbiAgY2xhc3MgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBpZiBpdCBpcyBhIGdlc3R1cmVzIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBhZGQgZXZlbnQgbGlzdGVuZXIgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBMaXN0ZW5lciBmdW5jdGlvbiB0byBhZGRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgaWYgKCFhZGRMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpKSB7XG4gICAgICAgIHN1cGVyLl9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgbm9kZSBpZiBpdCBpcyBhIGdlc3R1cmVzIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byByZW1vdmUgZXZlbnQgbGlzdGVuZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghcmVtb3ZlTGlzdGVuZXIobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSkge1xuICAgICAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIEdlc3R1cmVFdmVudExpc3RlbmVycztcbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuZnVuY3Rpb24gbmV3U3BsaWNlKGluZGV4LCByZW1vdmVkLCBhZGRlZENvdW50KSB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgYWRkZWRDb3VudDogYWRkZWRDb3VudFxuICB9O1xufVxuXG5jb25zdCBFRElUX0xFQVZFID0gMDtcbmNvbnN0IEVESVRfVVBEQVRFID0gMTtcbmNvbnN0IEVESVRfQUREID0gMjtcbmNvbnN0IEVESVRfREVMRVRFID0gMztcblxuLy8gTm90ZTogVGhpcyBmdW5jdGlvbiBpcyAqYmFzZWQqIG9uIHRoZSBjb21wdXRhdGlvbiBvZiB0aGUgTGV2ZW5zaHRlaW5cbi8vIFwiZWRpdFwiIGRpc3RhbmNlLiBUaGUgb25lIGNoYW5nZSBpcyB0aGF0IFwidXBkYXRlc1wiIGFyZSB0cmVhdGVkIGFzIHR3b1xuLy8gZWRpdHMgLSBub3Qgb25lLiBXaXRoIEFycmF5IHNwbGljZXMsIGFuIHVwZGF0ZSBpcyByZWFsbHkgYSBkZWxldGVcbi8vIGZvbGxvd2VkIGJ5IGFuIGFkZC4gQnkgcmV0YWluaW5nIHRoaXMsIHdlIG9wdGltaXplIGZvciBcImtlZXBpbmdcIiB0aGVcbi8vIG1heGltdW0gYXJyYXkgaXRlbXMgaW4gdGhlIG9yaWdpbmFsIGFycmF5LiBGb3IgZXhhbXBsZTpcbi8vXG4vLyAgICd4eHh4MTIzJyAtPiAnMTIzeXl5eSdcbi8vXG4vLyBXaXRoIDEtZWRpdCB1cGRhdGVzLCB0aGUgc2hvcnRlc3QgcGF0aCB3b3VsZCBiZSBqdXN0IHRvIHVwZGF0ZSBhbGwgc2V2ZW5cbi8vIGNoYXJhY3RlcnMuIFdpdGggMi1lZGl0IHVwZGF0ZXMsIHdlIGRlbGV0ZSA0LCBsZWF2ZSAzLCBhbmQgYWRkIDQuIFRoaXNcbi8vIGxlYXZlcyB0aGUgc3Vic3RyaW5nICcxMjMnIGludGFjdC5cbmZ1bmN0aW9uIGNhbGNFZGl0RGlzdGFuY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpIHtcbiAgLy8gXCJEZWxldGlvblwiIGNvbHVtbnNcbiAgbGV0IHJvd0NvdW50ID0gb2xkRW5kIC0gb2xkU3RhcnQgKyAxO1xuICBsZXQgY29sdW1uQ291bnQgPSBjdXJyZW50RW5kIC0gY3VycmVudFN0YXJ0ICsgMTtcbiAgbGV0IGRpc3RhbmNlcyA9IG5ldyBBcnJheShyb3dDb3VudCk7XG5cbiAgLy8gXCJBZGRpdGlvblwiIHJvd3MuIEluaXRpYWxpemUgbnVsbCBjb2x1bW4uXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm93Q291bnQ7IGkrKykge1xuICAgIGRpc3RhbmNlc1tpXSA9IG5ldyBBcnJheShjb2x1bW5Db3VudCk7XG4gICAgZGlzdGFuY2VzW2ldWzBdID0gaTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgbnVsbCByb3dcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBjb2x1bW5Db3VudDsgaisrKVxuICAgIGRpc3RhbmNlc1swXVtqXSA9IGo7XG5cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByb3dDb3VudDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCBjb2x1bW5Db3VudDsgaisrKSB7XG4gICAgICBpZiAoZXF1YWxzKGN1cnJlbnRbY3VycmVudFN0YXJ0ICsgaiAtIDFdLCBvbGRbb2xkU3RhcnQgKyBpIC0gMV0pKVxuICAgICAgICBkaXN0YW5jZXNbaV1bal0gPSBkaXN0YW5jZXNbaSAtIDFdW2ogLSAxXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgbm9ydGggPSBkaXN0YW5jZXNbaSAtIDFdW2pdICsgMTtcbiAgICAgICAgbGV0IHdlc3QgPSBkaXN0YW5jZXNbaV1baiAtIDFdICsgMTtcbiAgICAgICAgZGlzdGFuY2VzW2ldW2pdID0gbm9ydGggPCB3ZXN0ID8gbm9ydGggOiB3ZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkaXN0YW5jZXM7XG59XG5cbi8vIFRoaXMgc3RhcnRzIGF0IHRoZSBmaW5hbCB3ZWlnaHQsIGFuZCB3YWxrcyBcImJhY2t3YXJkXCIgYnkgZmluZGluZ1xuLy8gdGhlIG1pbmltdW0gcHJldmlvdXMgd2VpZ2h0IHJlY3Vyc2l2ZWx5IHVudGlsIHRoZSBvcmlnaW4gb2YgdGhlIHdlaWdodFxuLy8gbWF0cml4LlxuZnVuY3Rpb24gc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKGRpc3RhbmNlcykge1xuICBsZXQgaSA9IGRpc3RhbmNlcy5sZW5ndGggLSAxO1xuICBsZXQgaiA9IGRpc3RhbmNlc1swXS5sZW5ndGggLSAxO1xuICBsZXQgY3VycmVudCA9IGRpc3RhbmNlc1tpXVtqXTtcbiAgbGV0IGVkaXRzID0gW107XG4gIHdoaWxlIChpID4gMCB8fCBqID4gMCkge1xuICAgIGlmIChpID09IDApIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9BREQpO1xuICAgICAgai0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChqID09IDApIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9ERUxFVEUpO1xuICAgICAgaS0tO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBub3J0aFdlc3QgPSBkaXN0YW5jZXNbaSAtIDFdW2ogLSAxXTtcbiAgICBsZXQgd2VzdCA9IGRpc3RhbmNlc1tpIC0gMV1bal07XG4gICAgbGV0IG5vcnRoID0gZGlzdGFuY2VzW2ldW2ogLSAxXTtcblxuICAgIGxldCBtaW47XG4gICAgaWYgKHdlc3QgPCBub3J0aClcbiAgICAgIG1pbiA9IHdlc3QgPCBub3J0aFdlc3QgPyB3ZXN0IDogbm9ydGhXZXN0O1xuICAgIGVsc2VcbiAgICAgIG1pbiA9IG5vcnRoIDwgbm9ydGhXZXN0ID8gbm9ydGggOiBub3J0aFdlc3Q7XG5cbiAgICBpZiAobWluID09IG5vcnRoV2VzdCkge1xuICAgICAgaWYgKG5vcnRoV2VzdCA9PSBjdXJyZW50KSB7XG4gICAgICAgIGVkaXRzLnB1c2goRURJVF9MRUFWRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0cy5wdXNoKEVESVRfVVBEQVRFKTtcbiAgICAgICAgY3VycmVudCA9IG5vcnRoV2VzdDtcbiAgICAgIH1cbiAgICAgIGktLTtcbiAgICAgIGotLTtcbiAgICB9IGVsc2UgaWYgKG1pbiA9PSB3ZXN0KSB7XG4gICAgICBlZGl0cy5wdXNoKEVESVRfREVMRVRFKTtcbiAgICAgIGktLTtcbiAgICAgIGN1cnJlbnQgPSB3ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlZGl0cy5wdXNoKEVESVRfQUREKTtcbiAgICAgIGotLTtcbiAgICAgIGN1cnJlbnQgPSBub3J0aDtcbiAgICB9XG4gIH1cblxuICBlZGl0cy5yZXZlcnNlKCk7XG4gIHJldHVybiBlZGl0cztcbn1cblxuLyoqXG4gKiBTcGxpY2UgUHJvamVjdGlvbiBmdW5jdGlvbnM6XG4gKlxuICogQSBzcGxpY2UgbWFwIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaG93IGEgcHJldmlvdXMgYXJyYXkgb2YgaXRlbXNcbiAqIHdhcyB0cmFuc2Zvcm1lZCBpbnRvIGEgbmV3IGFycmF5IG9mIGl0ZW1zLiBDb25jZXB0dWFsbHkgaXQgaXMgYSBsaXN0IG9mXG4gKiB0dXBsZXMgb2ZcbiAqXG4gKiAgIDxpbmRleCwgcmVtb3ZlZCwgYWRkZWRDb3VudD5cbiAqXG4gKiB3aGljaCBhcmUga2VwdCBpbiBhc2NlbmRpbmcgaW5kZXggb3JkZXIgb2YuIFRoZSB0dXBsZSByZXByZXNlbnRzIHRoYXQgYXRcbiAqIHRoZSB8aW5kZXh8LCB8cmVtb3ZlZHwgc2VxdWVuY2Ugb2YgaXRlbXMgd2VyZSByZW1vdmVkLCBhbmQgY291bnRpbmcgZm9yd2FyZFxuICogZnJvbSB8aW5kZXh8LCB8YWRkZWRDb3VudHwgaXRlbXMgd2VyZSBhZGRlZC5cbiAqL1xuXG4vKipcbiAqIExhY2tpbmcgaW5kaXZpZHVhbCBzcGxpY2UgbXV0YXRpb24gaW5mb3JtYXRpb24sIHRoZSBtaW5pbWFsIHNldCBvZlxuICogc3BsaWNlcyBjYW4gYmUgc3ludGhlc2l6ZWQgZ2l2ZW4gdGhlIHByZXZpb3VzIHN0YXRlIGFuZCBmaW5hbCBzdGF0ZSBvZiBhblxuICogYXJyYXkuIFRoZSBiYXNpYyBhcHByb2FjaCBpcyB0byBjYWxjdWxhdGUgdGhlIGVkaXQgZGlzdGFuY2UgbWF0cml4IGFuZFxuICogY2hvb3NlIHRoZSBzaG9ydGVzdCBwYXRoIHRocm91Z2ggaXQuXG4gKlxuICogQ29tcGxleGl0eTogTyhsICogcClcbiAqICAgbDogVGhlIGxlbmd0aCBvZiB0aGUgY3VycmVudCBhcnJheVxuICogICBwOiBUaGUgbGVuZ3RoIG9mIHRoZSBvbGQgYXJyYXlcbiAqXG4gKiBAcGFyYW0geyFBcnJheX0gY3VycmVudCBUaGUgY3VycmVudCBcImNoYW5nZWRcIiBhcnJheSBmb3Igd2hpY2ggdG9cbiAqIGNhbGN1bGF0ZSBzcGxpY2VzLlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRTdGFydCBTdGFydGluZyBpbmRleCBpbiB0aGUgYGN1cnJlbnRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50RW5kIEVuZGluZyBpbmRleCBpbiB0aGUgYGN1cnJlbnRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7IUFycmF5fSBvbGQgVGhlIG9yaWdpbmFsIFwidW5jaGFuZ2VkXCIgYXJyYXkgdG8gY29tcGFyZSBgY3VycmVudGBcbiAqIGFnYWluc3QgdG8gZGV0ZXJtaW5lIHNwbGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gb2xkU3RhcnQgU3RhcnRpbmcgaW5kZXggaW4gdGhlIGBvbGRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRFbmQgRW5kaW5nIGluZGV4IGluIHRoZSBgb2xkYCBhcnJheSBmb3JcbiAqIHdoaWNoIHNwbGljZXMgYXJlIGNhbGN1bGF0ZWQuXG4gKiBAcmV0dXJuIHshQXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZCBvYmplY3RzLiBFYWNoIG9mIHRoZXNlXG4gKiBjb250YWluczogYGluZGV4YCB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIHNwbGljZSBvY2N1cnJlZDsgYHJlbW92ZWRgXG4gKiB0aGUgYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgbG9jYXRpb247IGBhZGRlZENvdW50YCB0aGUgbnVtYmVyXG4gKiBvZiBpdGVtcyBhZGRlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICovXG5mdW5jdGlvbiBjYWxjU3BsaWNlcyhjdXJyZW50LCBjdXJyZW50U3RhcnQsIGN1cnJlbnRFbmQsXG4gICAgICAgICAgICAgICAgICAgICAgb2xkLCBvbGRTdGFydCwgb2xkRW5kKSB7XG4gIGxldCBwcmVmaXhDb3VudCA9IDA7XG4gIGxldCBzdWZmaXhDb3VudCA9IDA7XG4gIGxldCBzcGxpY2U7XG5cbiAgbGV0IG1pbkxlbmd0aCA9IE1hdGgubWluKGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQsIG9sZEVuZCAtIG9sZFN0YXJ0KTtcbiAgaWYgKGN1cnJlbnRTdGFydCA9PSAwICYmIG9sZFN0YXJ0ID09IDApXG4gICAgcHJlZml4Q291bnQgPSBzaGFyZWRQcmVmaXgoY3VycmVudCwgb2xkLCBtaW5MZW5ndGgpO1xuXG4gIGlmIChjdXJyZW50RW5kID09IGN1cnJlbnQubGVuZ3RoICYmIG9sZEVuZCA9PSBvbGQubGVuZ3RoKVxuICAgIHN1ZmZpeENvdW50ID0gc2hhcmVkU3VmZml4KGN1cnJlbnQsIG9sZCwgbWluTGVuZ3RoIC0gcHJlZml4Q291bnQpO1xuXG4gIGN1cnJlbnRTdGFydCArPSBwcmVmaXhDb3VudDtcbiAgb2xkU3RhcnQgKz0gcHJlZml4Q291bnQ7XG4gIGN1cnJlbnRFbmQgLT0gc3VmZml4Q291bnQ7XG4gIG9sZEVuZCAtPSBzdWZmaXhDb3VudDtcblxuICBpZiAoY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCA9PSAwICYmIG9sZEVuZCAtIG9sZFN0YXJ0ID09IDApXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmIChjdXJyZW50U3RhcnQgPT0gY3VycmVudEVuZCkge1xuICAgIHNwbGljZSA9IG5ld1NwbGljZShjdXJyZW50U3RhcnQsIFtdLCAwKTtcbiAgICB3aGlsZSAob2xkU3RhcnQgPCBvbGRFbmQpXG4gICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRTdGFydCsrXSk7XG5cbiAgICByZXR1cm4gWyBzcGxpY2UgXTtcbiAgfSBlbHNlIGlmIChvbGRTdGFydCA9PSBvbGRFbmQpXG4gICAgcmV0dXJuIFsgbmV3U3BsaWNlKGN1cnJlbnRTdGFydCwgW10sIGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQpIF07XG5cbiAgbGV0IG9wcyA9IHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyhcbiAgICAgIGNhbGNFZGl0RGlzdGFuY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkLCBvbGRTdGFydCwgb2xkRW5kKSk7XG5cbiAgc3BsaWNlID0gdW5kZWZpbmVkO1xuICBsZXQgc3BsaWNlcyA9IFtdO1xuICBsZXQgaW5kZXggPSBjdXJyZW50U3RhcnQ7XG4gIGxldCBvbGRJbmRleCA9IG9sZFN0YXJ0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykge1xuICAgIHN3aXRjaChvcHNbaV0pIHtcbiAgICAgIGNhc2UgRURJVF9MRUFWRTpcbiAgICAgICAgaWYgKHNwbGljZSkge1xuICAgICAgICAgIHNwbGljZXMucHVzaChzcGxpY2UpO1xuICAgICAgICAgIHNwbGljZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIG9sZEluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX1VQREFURTpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLmFkZGVkQ291bnQrKztcbiAgICAgICAgaW5kZXgrKztcblxuICAgICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRJbmRleF0pO1xuICAgICAgICBvbGRJbmRleCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRURJVF9BREQ6XG4gICAgICAgIGlmICghc3BsaWNlKVxuICAgICAgICAgIHNwbGljZSA9IG5ld1NwbGljZShpbmRleCwgW10sIDApO1xuXG4gICAgICAgIHNwbGljZS5hZGRlZENvdW50Kys7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX0RFTEVURTpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLnJlbW92ZWQucHVzaChvbGRbb2xkSW5kZXhdKTtcbiAgICAgICAgb2xkSW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNwbGljZSkge1xuICAgIHNwbGljZXMucHVzaChzcGxpY2UpO1xuICB9XG4gIHJldHVybiBzcGxpY2VzO1xufVxuXG5mdW5jdGlvbiBzaGFyZWRQcmVmaXgoY3VycmVudCwgb2xkLCBzZWFyY2hMZW5ndGgpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hMZW5ndGg7IGkrKylcbiAgICBpZiAoIWVxdWFscyhjdXJyZW50W2ldLCBvbGRbaV0pKVxuICAgICAgcmV0dXJuIGk7XG4gIHJldHVybiBzZWFyY2hMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFN1ZmZpeChjdXJyZW50LCBvbGQsIHNlYXJjaExlbmd0aCkge1xuICBsZXQgaW5kZXgxID0gY3VycmVudC5sZW5ndGg7XG4gIGxldCBpbmRleDIgPSBvbGQubGVuZ3RoO1xuICBsZXQgY291bnQgPSAwO1xuICB3aGlsZSAoY291bnQgPCBzZWFyY2hMZW5ndGggJiYgZXF1YWxzKGN1cnJlbnRbLS1pbmRleDFdLCBvbGRbLS1pbmRleDJdKSlcbiAgICBjb3VudCsrO1xuXG4gIHJldHVybiBjb3VudDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHNwbGljZSByZWNvcmRzIGluZGljYXRpbmcgdGhlIG1pbmltdW0gZWRpdHMgcmVxdWlyZWRcbiAqIHRvIHRyYW5zZm9ybSB0aGUgYHByZXZpb3VzYCBhcnJheSBpbnRvIHRoZSBgY3VycmVudGAgYXJyYXkuXG4gKlxuICogU3BsaWNlIHJlY29yZHMgYXJlIG9yZGVyZWQgYnkgaW5kZXggYW5kIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gKiAtIGBpbmRleGA6IGluZGV4IHdoZXJlIGVkaXQgc3RhcnRlZFxuICogLSBgcmVtb3ZlZGA6IGFycmF5IG9mIHJlbW92ZWQgaXRlbXMgZnJvbSB0aGlzIGluZGV4XG4gKiAtIGBhZGRlZENvdW50YDogbnVtYmVyIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgaW5kZXhcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIHRoZSBMZXZlbnNodGVpbiBcIm1pbmltdW0gZWRpdCBkaXN0YW5jZVwiXG4gKiBhbGdvcml0aG0uIE5vdGUgdGhhdCB1cGRhdGVzIGFyZSB0cmVhdGVkIGFzIHJlbW92YWwgZm9sbG93ZWQgYnkgYWRkaXRpb24uXG4gKlxuICogVGhlIHdvcnN0LWNhc2UgdGltZSBjb21wbGV4aXR5IG9mIHRoaXMgYWxnb3JpdGhtIGlzIGBPKGwgKiBwKWBcbiAqICAgbDogVGhlIGxlbmd0aCBvZiB0aGUgY3VycmVudCBhcnJheVxuICogICBwOiBUaGUgbGVuZ3RoIG9mIHRoZSBwcmV2aW91cyBhcnJheVxuICpcbiAqIEhvd2V2ZXIsIHRoZSB3b3JzdC1jYXNlIGNvbXBsZXhpdHkgaXMgcmVkdWNlZCBieSBhbiBgTyhuKWAgb3B0aW1pemF0aW9uXG4gKiB0byBkZXRlY3QgYW55IHNoYXJlZCBwcmVmaXggJiBzdWZmaXggYmV0d2VlbiB0aGUgdHdvIGFycmF5cyBhbmQgb25seVxuICogcGVyZm9ybSB0aGUgbW9yZSBleHBlbnNpdmUgbWluaW11bSBlZGl0IGRpc3RhbmNlIGNhbGN1bGF0aW9uIG92ZXIgdGhlXG4gKiBub24tc2hhcmVkIHBvcnRpb25zIG9mIHRoZSBhcnJheXMuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFBcnJheX0gY3VycmVudCBUaGUgXCJjaGFuZ2VkXCIgYXJyYXkgZm9yIHdoaWNoIHNwbGljZXMgd2lsbCBiZVxuICogY2FsY3VsYXRlZC5cbiAqIEBwYXJhbSB7IUFycmF5fSBwcmV2aW91cyBUaGUgXCJ1bmNoYW5nZWRcIiBvcmlnaW5hbCBhcnJheSB0byBjb21wYXJlXG4gKiBgY3VycmVudGAgYWdhaW5zdCB0byBkZXRlcm1pbmUgdGhlIHNwbGljZXMuXG4gKiBAcmV0dXJuIHshQXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZCBvYmplY3RzLiBFYWNoIG9mIHRoZXNlXG4gKiBjb250YWluczogYGluZGV4YCB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIHNwbGljZSBvY2N1cnJlZDsgYHJlbW92ZWRgXG4gKiB0aGUgYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgbG9jYXRpb247IGBhZGRlZENvdW50YCB0aGUgbnVtYmVyXG4gKiBvZiBpdGVtcyBhZGRlZCBhdCB0aGlzIGxvY2F0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlU3BsaWNlcyhjdXJyZW50LCBwcmV2aW91cykge1xuICByZXR1cm4gY2FsY1NwbGljZXMoY3VycmVudCwgMCwgY3VycmVudC5sZW5ndGgsIHByZXZpb3VzLCAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91cy5sZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBlcXVhbHMoY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlKSB7XG4gIHJldHVybiBjdXJyZW50VmFsdWUgPT09IHByZXZpb3VzVmFsdWU7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBjYWxjdWxhdGVTcGxpY2VzIH0gZnJvbSAnLi9hcnJheS1zcGxpY2UuanMnO1xuaW1wb3J0IHsgbWljcm9UYXNrIH0gZnJvbSAnLi9hc3luYy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYG5vZGVgIGlzIGEgc2xvdCBlbGVtZW50XG4gKiBAcGFyYW0geyFOb2RlfSBub2RlIE5vZGUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYG5vZGVgIGlzIGEgc2xvdFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNTbG90KG5vZGUpIHtcbiAgcmV0dXJuIChub2RlLmxvY2FsTmFtZSA9PT0gJ3Nsb3QnKTtcbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IGxpc3RlbnMgZm9yIGNoYW5nZXMgKGFkZGl0aW9ucyBvciByZW1vdmFscykgdG9cbiAqIFwiZmxhdHRlbmVkIG5vZGVzXCIgb24gYSBnaXZlbiBgbm9kZWAuIFRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2RlcyBjb25zaXN0c1xuICogb2YgYSBub2RlJ3MgY2hpbGRyZW4gYW5kLCBmb3IgYW55IGNoaWxkcmVuIHRoYXQgYXJlIGA8c2xvdD5gIGVsZW1lbnRzLFxuICogdGhlIGV4cGFuZGVkIGZsYXR0ZW5lZCBsaXN0IG9mIGBhc3NpZ25lZE5vZGVzYC5cbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgb2JzZXJ2ZWQgbm9kZSBoYXMgY2hpbGRyZW4gYDxhPjwvYT48c2xvdD48L3Nsb3Q+PGI+PC9iPmBcbiAqIGFuZCB0aGUgYDxzbG90PmAgaGFzIG9uZSBgPGRpdj5gIGFzc2lnbmVkIHRvIGl0LCB0aGVuIHRoZSBmbGF0dGVuZWRcbiAqIG5vZGVzIGxpc3QgaXMgYDxhPjwvYT48ZGl2PjwvZGl2PjxiPjwvYj5gLiBJZiB0aGUgYDxzbG90PmAgaGFzIG90aGVyXG4gKiBgPHNsb3Q+YCBlbGVtZW50cyBhc3NpZ25lZCB0byBpdCwgdGhlc2UgYXJlIGZsYXR0ZW5lZCBhcyB3ZWxsLlxuICpcbiAqIFRoZSBwcm92aWRlZCBgY2FsbGJhY2tgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnkgY2hhbmdlIHRvIHRoaXMgbGlzdFxuICogb2YgZmxhdHRlbmVkIG5vZGVzIG9jY3Vycywgd2hlcmUgYW4gYWRkaXRpb24gb3IgcmVtb3ZhbCBvZiBhIG5vZGUgaXNcbiAqIGNvbnNpZGVyZWQgYSBjaGFuZ2UuIFRoZSBgY2FsbGJhY2tgIGlzIGNhbGxlZCB3aXRoIG9uZSBhcmd1bWVudCwgYW4gb2JqZWN0XG4gKiBjb250YWluaW5nIGFuIGFycmF5IG9mIGFueSBgYWRkZWROb2Rlc2AgYW5kIGByZW1vdmVkTm9kZXNgLlxuICpcbiAqIE5vdGU6IHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgYXN5bmNocm9ub3VzIHRvIGFueSBjaGFuZ2VzXG4gKiBhdCBhIG1pY3JvdGFzayBjaGVja3BvaW50LiBUaGlzIGlzIGJlY2F1c2Ugb2JzZXJ2YXRpb24gaXMgcGVyZm9ybWVkIHVzaW5nXG4gKiBgTXV0YXRpb25PYnNlcnZlcmAgYW5kIHRoZSBgPHNsb3Q+YCBlbGVtZW50J3MgYHNsb3RjaGFuZ2VgIGV2ZW50IHdoaWNoXG4gKiBhcmUgYXN5bmNocm9ub3VzLlxuICpcbiAqIEFuIGV4YW1wbGU6XG4gKiBgYGBqc1xuICogY2xhc3MgVGVzdFNlbGZPYnNlcnZlIGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuICogICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ3Rlc3Qtc2VsZi1vYnNlcnZlJzt9XG4gKiAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICogICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gKiAgICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcih0aGlzLCAoaW5mbykgPT4ge1xuICogICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAqICAgICB9KTtcbiAqICAgfVxuICogICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAqICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICogICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAqICAgfVxuICogfVxuICogY3VzdG9tRWxlbWVudHMuZGVmaW5lKFRlc3RTZWxmT2JzZXJ2ZS5pcywgVGVzdFNlbGZPYnNlcnZlKTtcbiAqIGBgYFxuICpcbiAqIEBzdW1tYXJ5IENsYXNzIHRoYXQgbGlzdGVucyBmb3IgY2hhbmdlcyAoYWRkaXRpb25zIG9yIHJlbW92YWxzKSB0b1xuICogXCJmbGF0dGVuZWQgbm9kZXNcIiBvbiBhIGdpdmVuIGBub2RlYC5cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyRG9tQXBpLk9ic2VydmVIYW5kbGV9XG4gKi9cbmV4cG9ydCBsZXQgRmxhdHRlbmVkTm9kZXNPYnNlcnZlciA9IGNsYXNzIHtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMgZm9yIHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqIFRoaXMgbGlzdCBjb25zaXN0cyBvZiBhIG5vZGUncyBjaGlsZHJlbiBhbmQsIGZvciBhbnkgY2hpbGRyZW5cbiAgICogdGhhdCBhcmUgYDxzbG90PmAgZWxlbWVudHMsIHRoZSBleHBhbmRlZCBmbGF0dGVuZWQgbGlzdCBvZiBgYXNzaWduZWROb2Rlc2AuXG4gICAqIEZvciBleGFtcGxlLCBpZiB0aGUgb2JzZXJ2ZWQgbm9kZSBoYXMgY2hpbGRyZW4gYDxhPjwvYT48c2xvdD48L3Nsb3Q+PGI+PC9iPmBcbiAgICogYW5kIHRoZSBgPHNsb3Q+YCBoYXMgb25lIGA8ZGl2PmAgYXNzaWduZWQgdG8gaXQsIHRoZW4gdGhlIGZsYXR0ZW5lZFxuICAgKiBub2RlcyBsaXN0IGlzIGA8YT48L2E+PGRpdj48L2Rpdj48Yj48L2I+YC4gSWYgdGhlIGA8c2xvdD5gIGhhcyBvdGhlclxuICAgKiBgPHNsb3Q+YCBlbGVtZW50cyBhc3NpZ25lZCB0byBpdCwgdGhlc2UgYXJlIGZsYXR0ZW5lZCBhcyB3ZWxsLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudHwhSFRNTFNsb3RFbGVtZW50fSBub2RlIFRoZSBub2RlIGZvciB3aGljaCB0b1xuICAgKiAgICAgIHJldHVybiB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMuXG4gICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IFRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2RlcyBmb3IgdGhlIGdpdmVuIGBub2RlYC5cbiAgICogQG5vY29sbGFwc2UgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMjc2M1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIHN0YXRpYyBnZXRGbGF0dGVuZWROb2Rlcyhub2RlKSB7XG4gICAgY29uc3Qgd3JhcHBlZCA9IHdyYXAobm9kZSk7XG4gICAgaWYgKGlzU2xvdChub2RlKSkge1xuICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7IUhUTUxTbG90RWxlbWVudH0gKi8obm9kZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgIHJldHVybiB3cmFwcGVkLmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20od3JhcHBlZC5jaGlsZE5vZGVzKS5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKGlzU2xvdChub2RlKSkge1xuICAgICAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFIVE1MU2xvdEVsZW1lbnR9ICovKG5vZGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgICAgICAgcmV0dXJuIHdyYXAobm9kZSkuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbbm9kZV07XG4gICAgICAgIH1cbiAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYS5jb25jYXQoYiksIFtdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBOb2RlIG9uIHdoaWNoIHRvIGxpc3RlbiBmb3IgY2hhbmdlcy5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb24odGhpczogRWxlbWVudCwgeyB0YXJnZXQ6ICFIVE1MRWxlbWVudCwgYWRkZWROb2RlczogIUFycmF5PCFFbGVtZW50PiwgcmVtb3ZlZE5vZGVzOiAhQXJyYXk8IUVsZW1lbnQ+IH0pOnZvaWR9IGNhbGxiYWNrIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIHRoZXJlIGFyZSBhZGRpdGlvbnNcbiAgICogb3IgcmVtb3ZhbHMgZnJvbSB0aGUgdGFyZ2V0J3MgbGlzdCBvZiBmbGF0dGVuZWQgbm9kZXMuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBjYWxsYmFjaykge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNdXRhdGlvbk9ic2VydmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TXV0YXRpb25PYnNlcnZlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHshSFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuX2VmZmVjdGl2ZU5vZGVzID0gW107XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBudWxsO1xuICAgIHRoaXMuX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbigpfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fYm91bmRTY2hlZHVsZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3NjaGVkdWxlKCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB0aGlzLl9zY2hlZHVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhbiBvYnNlcnZlci4gVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgd2hlblxuICAgKiBhIGBGbGF0dGVuZWROb2Rlc09ic2VydmVyYCBpcyBjcmVhdGVkLiBJdCBzaG91bGQgb25seSBiZSBjYWxsZWQgdG9cbiAgICogcmUtYWN0aXZhdGUgYW4gb2JzZXJ2ZXIgdGhhdCBoYXMgYmVlbiBkZWFjdGl2YXRlZCB2aWEgdGhlIGBkaXNjb25uZWN0YCBtZXRob2QuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIGlmIChpc1Nsb3QodGhpcy5fdGFyZ2V0KSkge1xuICAgICAgdGhpcy5fbGlzdGVuU2xvdHMoW3RoaXMuX3RhcmdldF0pO1xuICAgIH0gZWxzZSBpZiAod3JhcCh0aGlzLl90YXJnZXQpLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLl9saXN0ZW5TbG90cyhcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlTGlzdDwhTm9kZT59ICovICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgICAgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyID1cbiAgICAgICAgICB3aW5kb3cuU2hhZHlET00ub2JzZXJ2ZUNoaWxkcmVuKHRoaXMuX3RhcmdldCwgKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlciA9XG4gICAgICAgICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyLm9ic2VydmUodGhpcy5fdGFyZ2V0LCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGVhY3RpdmF0ZXMgdGhlIGZsYXR0ZW5lZCBub2RlcyBvYnNlcnZlci4gQWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZFxuICAgKiB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIHdoZW4gY2hhbmdlcyB0byBmbGF0dGVuZWQgbm9kZXNcbiAgICogb2NjdXIuIFRoZSBgY29ubmVjdGAgbWV0aG9kIG1heSBiZSBzdWJzZXF1ZW50bHkgY2FsbGVkIHRvIHJlYWN0aXZhdGVcbiAgICogdGhlIG9ic2VydmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKGlzU2xvdCh0aGlzLl90YXJnZXQpKSB7XG4gICAgICB0aGlzLl91bmxpc3RlblNsb3RzKFt0aGlzLl90YXJnZXRdKTtcbiAgICB9IGVsc2UgaWYgKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikge1xuICAgICAgdGhpcy5fdW5saXN0ZW5TbG90cyhcbiAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlTGlzdDwhTm9kZT59ICovICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00gJiYgdGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICAgIHdpbmRvdy5TaGFkeURPTS51bm9ic2VydmVDaGlsZHJlbih0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zY2hlZHVsZSgpIHtcbiAgICBpZiAoIXRoaXMuX3NjaGVkdWxlZCkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4gdGhpcy5mbHVzaCgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBcnJheTxNdXRhdGlvblJlY29yZD59IG11dGF0aW9ucyBNdXRhdGlvbnMgc2lnbmFsZWQgYnkgdGhlIG11dGF0aW9uIG9ic2VydmVyXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJvY2Vzc011dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyhtdXRhdGlvbnMpO1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PE11dGF0aW9uUmVjb3JkPn0gbXV0YXRpb25zIE11dGF0aW9ucyBzaWduYWxlZCBieSB0aGUgbXV0YXRpb24gb2JzZXJ2ZXJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzU2xvdE11dGF0aW9ucyhtdXRhdGlvbnMpIHtcbiAgICBpZiAobXV0YXRpb25zKSB7XG4gICAgICBmb3IgKGxldCBpPTA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG11dGF0aW9uID0gbXV0YXRpb25zW2ldO1xuICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlcykge1xuICAgICAgICAgIHRoaXMuX2xpc3RlblNsb3RzKG11dGF0aW9uLmFkZGVkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtdXRhdGlvbi5yZW1vdmVkTm9kZXMpIHtcbiAgICAgICAgICB0aGlzLl91bmxpc3RlblNsb3RzKG11dGF0aW9uLnJlbW92ZWROb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmx1c2hlcyB0aGUgb2JzZXJ2ZXIgY2F1c2luZyBhbnkgcGVuZGluZyBjaGFuZ2VzIHRvIGJlIGltbWVkaWF0ZWx5XG4gICAqIGRlbGl2ZXJlZCB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2suIEJ5IGRlZmF1bHQgdGhlc2UgY2hhbmdlcyBhcmUgZGVsaXZlcmVkXG4gICAqIGFzeW5jaHJvbm91c2x5IGF0IHRoZSBuZXh0IG1pY3JvdGFzayBjaGVja3BvaW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYW55IHBlbmRpbmcgY2hhbmdlcyBjYXVzZWQgdGhlIG9ic2VydmVyXG4gICAqIGNhbGxiYWNrIHRvIHJ1bi5cbiAgICovXG4gIGZsdXNoKCkge1xuICAgIGlmICghdGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgIFNoYWR5RE9NLmZsdXNoKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyh0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyLnRha2VSZWNvcmRzKCkpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc2hhZHlDaGlsZHJlbk9ic2VydmVyKSB7XG4gICAgICB0aGlzLl9wcm9jZXNzU2xvdE11dGF0aW9ucyh0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7XG4gICAgfVxuICAgIHRoaXMuX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGxldCBpbmZvID0ge1xuICAgICAgdGFyZ2V0OiB0aGlzLl90YXJnZXQsXG4gICAgICBhZGRlZE5vZGVzOiBbXSxcbiAgICAgIHJlbW92ZWROb2RlczogW11cbiAgICB9O1xuICAgIGxldCBuZXdOb2RlcyA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RmxhdHRlbmVkTm9kZXModGhpcy5fdGFyZ2V0KTtcbiAgICBsZXQgc3BsaWNlcyA9IGNhbGN1bGF0ZVNwbGljZXMobmV3Tm9kZXMsXG4gICAgICB0aGlzLl9lZmZlY3RpdmVOb2Rlcyk7XG4gICAgLy8gcHJvY2VzcyByZW1vdmFsc1xuICAgIGZvciAobGV0IGk9MCwgczsgKGk8c3BsaWNlcy5sZW5ndGgpICYmIChzPXNwbGljZXNbaV0pOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGo9MCwgbjsgKGogPCBzLnJlbW92ZWQubGVuZ3RoKSAmJiAobj1zLnJlbW92ZWRbal0pOyBqKyspIHtcbiAgICAgICAgaW5mby5yZW1vdmVkTm9kZXMucHVzaChuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcHJvY2VzcyBhZGRzXG4gICAgZm9yIChsZXQgaT0wLCBzOyAoaTxzcGxpY2VzLmxlbmd0aCkgJiYgKHM9c3BsaWNlc1tpXSk7IGkrKykge1xuICAgICAgZm9yIChsZXQgaj1zLmluZGV4OyBqIDwgcy5pbmRleCArIHMuYWRkZWRDb3VudDsgaisrKSB7XG4gICAgICAgIGluZm8uYWRkZWROb2Rlcy5wdXNoKG5ld05vZGVzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdXBkYXRlIGNhY2hlXG4gICAgdGhpcy5fZWZmZWN0aXZlTm9kZXMgPSBuZXdOb2RlcztcbiAgICBsZXQgZGlkRmx1c2ggPSBmYWxzZTtcbiAgICBpZiAoaW5mby5hZGRlZE5vZGVzLmxlbmd0aCB8fCBpbmZvLnJlbW92ZWROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRpZEZsdXNoID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbGJhY2suY2FsbCh0aGlzLl90YXJnZXQsIGluZm8pO1xuICAgIH1cbiAgICByZXR1cm4gZGlkRmx1c2g7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IU5vZGU+fCFOb2RlTGlzdDwhTm9kZT59IG5vZGVMaXN0IE5vZGVzIHRoYXQgY291bGQgY2hhbmdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbGlzdGVuU2xvdHMobm9kZUxpc3QpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBub2RlTGlzdFtpXTtcbiAgICAgIGlmIChpc1Nsb3QobikpIHtcbiAgICAgICAgbi5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgdGhpcy5fYm91bmRTY2hlZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCFOb2RlPnwhTm9kZUxpc3Q8IU5vZGU+fSBub2RlTGlzdCBOb2RlcyB0aGF0IGNvdWxkIGNoYW5nZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VubGlzdGVuU2xvdHMobm9kZUxpc3QpIHtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBub2RlTGlzdFtpXTtcbiAgICAgIGlmIChpc1Nsb3QobikpIHtcbiAgICAgICAgbi5yZW1vdmVFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgdGhpcy5fYm91bmRTY2hlZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn07IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLypcbkV4dHJlbWVseSBzaW1wbGUgY3NzIHBhcnNlci4gSW50ZW5kZWQgdG8gYmUgbm90IG1vcmUgdGhhbiB3aGF0IHdlIG5lZWRcbmFuZCBkZWZpbml0ZWx5IG5vdCBuZWNlc3NhcmlseSBjb3JyZWN0ID0pLlxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHVucmVzdHJpY3RlZCAqL1xuY2xhc3MgU3R5bGVOb2RlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snc3RhcnQnXSA9IDA7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1snZW5kJ10gPSAwO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3ByZXZpb3VzJ10gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7U3R5bGVOb2RlfSAqL1xuICAgIHRoaXNbJ3BhcmVudCddID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0FycmF5PFN0eWxlTm9kZT59ICovXG4gICAgdGhpc1sncnVsZXMnXSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkQ3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1snY3NzVGV4dCddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIHRoaXNbJ2F0UnVsZSddID0gZmFsc2U7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdGhpc1sndHlwZSddID0gMDtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydrZXlmcmFtZXNOYW1lJ10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydzZWxlY3RvciddID0gJyc7XG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgdGhpc1sncGFyc2VkU2VsZWN0b3InXSA9ICcnO1xuICB9XG59XG5cbmV4cG9ydCB7U3R5bGVOb2RlfVxuXG4vLyBnaXZlbiBhIHN0cmluZyBvZiBjc3MsIHJldHVybiBhIHNpbXBsZSBydWxlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKHRleHQpIHtcbiAgdGV4dCA9IGNsZWFuKHRleHQpO1xuICByZXR1cm4gcGFyc2VDc3MobGV4KHRleHQpLCB0ZXh0KTtcbn1cblxuLy8gcmVtb3ZlIHN0dWZmIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhhdCBtYXkgaGluZGVyIHBhcnNpbmdcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gY2xlYW4oY3NzVGV4dCkge1xuICByZXR1cm4gY3NzVGV4dC5yZXBsYWNlKFJYLmNvbW1lbnRzLCAnJykucmVwbGFjZShSWC5wb3J0LCAnJyk7XG59XG5cbi8vIHN1cGVyIHNpbXBsZSB7Li4ufSBsZXhlciB0aGF0IHJldHVybnMgYSBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZnVuY3Rpb24gbGV4KHRleHQpIHtcbiAgbGV0IHJvb3QgPSBuZXcgU3R5bGVOb2RlKCk7XG4gIHJvb3RbJ3N0YXJ0J10gPSAwO1xuICByb290WydlbmQnXSA9IHRleHQubGVuZ3RoXG4gIGxldCBuID0gcm9vdDtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSB0ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSBPUEVOX0JSQUNFKSB7XG4gICAgICBpZiAoIW5bJ3J1bGVzJ10pIHtcbiAgICAgICAgblsncnVsZXMnXSA9IFtdO1xuICAgICAgfVxuICAgICAgbGV0IHAgPSBuO1xuICAgICAgbGV0IHByZXZpb3VzID0gcFsncnVsZXMnXVtwWydydWxlcyddLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gICAgICBuID0gbmV3IFN0eWxlTm9kZSgpO1xuICAgICAgblsnc3RhcnQnXSA9IGkgKyAxO1xuICAgICAgblsncGFyZW50J10gPSBwO1xuICAgICAgblsncHJldmlvdXMnXSA9IHByZXZpb3VzO1xuICAgICAgcFsncnVsZXMnXS5wdXNoKG4pO1xuICAgIH0gZWxzZSBpZiAodGV4dFtpXSA9PT0gQ0xPU0VfQlJBQ0UpIHtcbiAgICAgIG5bJ2VuZCddID0gaSArIDE7XG4gICAgICBuID0gblsncGFyZW50J10gfHwgcm9vdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGFkZCBzZWxlY3RvcnMvY3NzVGV4dCB0byBub2RlIHRyZWVcbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQ3NzKG5vZGUsIHRleHQpIHtcbiAgbGV0IHQgPSB0ZXh0LnN1YnN0cmluZyhub2RlWydzdGFydCddLCBub2RlWydlbmQnXSAtIDEpO1xuICBub2RlWydwYXJzZWRDc3NUZXh0J10gPSBub2RlWydjc3NUZXh0J10gPSB0LnRyaW0oKTtcbiAgaWYgKG5vZGVbJ3BhcmVudCddKSB7XG4gICAgbGV0IHNzID0gbm9kZVsncHJldmlvdXMnXSA/IG5vZGVbJ3ByZXZpb3VzJ11bJ2VuZCddIDogbm9kZVsncGFyZW50J11bJ3N0YXJ0J107XG4gICAgdCA9IHRleHQuc3Vic3RyaW5nKHNzLCBub2RlWydzdGFydCddIC0gMSk7XG4gICAgdCA9IF9leHBhbmRVbmljb2RlRXNjYXBlcyh0KTtcbiAgICB0ID0gdC5yZXBsYWNlKFJYLm11bHRpcGxlU3BhY2VzLCAnICcpO1xuICAgIC8vIFRPRE8oc29ydmVsbCk6IGFkIGhvYzsgbWFrZSBzZWxlY3RvciBpbmNsdWRlIG9ubHkgYWZ0ZXIgbGFzdCA7XG4gICAgLy8gaGVscHMgd2l0aCBtaXhpbiBzeW50YXhcbiAgICB0ID0gdC5zdWJzdHJpbmcodC5sYXN0SW5kZXhPZignOycpICsgMSk7XG4gICAgbGV0IHMgPSBub2RlWydwYXJzZWRTZWxlY3RvciddID0gbm9kZVsnc2VsZWN0b3InXSA9IHQudHJpbSgpO1xuICAgIG5vZGVbJ2F0UnVsZSddID0gKHMuaW5kZXhPZihBVF9TVEFSVCkgPT09IDApO1xuICAgIC8vIG5vdGUsIHN1cHBvcnQgYSBzdWJzZXQgb2YgcnVsZSB0eXBlcy4uLlxuICAgIGlmIChub2RlWydhdFJ1bGUnXSkge1xuICAgICAgaWYgKHMuaW5kZXhPZihNRURJQV9TVEFSVCkgPT09IDApIHtcbiAgICAgICAgbm9kZVsndHlwZSddID0gdHlwZXMuTUVESUFfUlVMRTtcbiAgICAgIH0gZWxzZSBpZiAocy5tYXRjaChSWC5rZXlmcmFtZXNSdWxlKSkge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5LRVlGUkFNRVNfUlVMRTtcbiAgICAgICAgbm9kZVsna2V5ZnJhbWVzTmFtZSddID1cbiAgICAgICAgICBub2RlWydzZWxlY3RvciddLnNwbGl0KFJYLm11bHRpcGxlU3BhY2VzKS5wb3AoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHMuaW5kZXhPZihWQVJfU1RBUlQpID09PSAwKSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLk1JWElOX1JVTEU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5TVFlMRV9SVUxFO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHIkLmxlbmd0aCwgcjtcbiAgICAgIChpIDwgbCkgJiYgKHIgPSByJFtpXSk7IGkrKykge1xuICAgICAgcGFyc2VDc3MociwgdGV4dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIGNvbnZlcnNpb24gb2Ygc29ydCB1bmljb2RlIGVzY2FwZXMgd2l0aCBzcGFjZXMgbGlrZSBgXFwzMyBgIChhbmQgbG9uZ2VyKSBpbnRvXG4gKiBleHBhbmRlZCBmb3JtIHRoYXQgZG9lc24ndCByZXF1aXJlIHRyYWlsaW5nIHNwYWNlIGBcXDAwMDAzM2BcbiAqIEBwYXJhbSB7c3RyaW5nfSBzXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9leHBhbmRVbmljb2RlRXNjYXBlcyhzKSB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1xcXFwoWzAtOWEtZl17MSw2fSlcXHMvZ2ksIGZ1bmN0aW9uKCkge1xuICAgIGxldCBjb2RlID0gYXJndW1lbnRzWzFdLFxuICAgICAgcmVwZWF0ID0gNiAtIGNvZGUubGVuZ3RoO1xuICAgIHdoaWxlIChyZXBlYXQtLSkge1xuICAgICAgY29kZSA9ICcwJyArIGNvZGU7XG4gICAgfVxuICAgIHJldHVybiAnXFxcXCcgKyBjb2RlO1xuICB9KTtcbn1cblxuLyoqXG4gKiBzdHJpbmdpZnkgcGFyc2VkIGNzcy5cbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBwcmVzZXJ2ZVByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG5vZGUsIHByZXNlcnZlUHJvcGVydGllcywgdGV4dCA9ICcnKSB7XG4gIC8vIGNhbGMgcnVsZSBjc3NUZXh0XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGlmIChub2RlWydjc3NUZXh0J10gfHwgbm9kZVsncnVsZXMnXSkge1xuICAgIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gICAgaWYgKHIkICYmICFfaGFzTWl4aW5SdWxlcyhyJCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gciQubGVuZ3RoLCByO1xuICAgICAgICAoaSA8IGwpICYmIChyID0gciRbaV0pOyBpKyspIHtcbiAgICAgICAgY3NzVGV4dCA9IHN0cmluZ2lmeShyLCBwcmVzZXJ2ZVByb3BlcnRpZXMsIGNzc1RleHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjc3NUZXh0ID0gcHJlc2VydmVQcm9wZXJ0aWVzID8gbm9kZVsnY3NzVGV4dCddIDpcbiAgICAgICAgcmVtb3ZlQ3VzdG9tUHJvcHMobm9kZVsnY3NzVGV4dCddKTtcbiAgICAgIGNzc1RleHQgPSBjc3NUZXh0LnRyaW0oKTtcbiAgICAgIGlmIChjc3NUZXh0KSB7XG4gICAgICAgIGNzc1RleHQgPSAnICAnICsgY3NzVGV4dCArICdcXG4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBlbWl0IHJ1bGUgaWYgdGhlcmUgaXMgY3NzVGV4dFxuICBpZiAoY3NzVGV4dCkge1xuICAgIGlmIChub2RlWydzZWxlY3RvciddKSB7XG4gICAgICB0ZXh0ICs9IG5vZGVbJ3NlbGVjdG9yJ10gKyAnICcgKyBPUEVOX0JSQUNFICsgJ1xcbic7XG4gICAgfVxuICAgIHRleHQgKz0gY3NzVGV4dDtcbiAgICBpZiAobm9kZVsnc2VsZWN0b3InXSkge1xuICAgICAgdGV4dCArPSBDTE9TRV9CUkFDRSArICdcXG5cXG4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGV4dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PFN0eWxlTm9kZT59IHJ1bGVzXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBfaGFzTWl4aW5SdWxlcyhydWxlcykge1xuICBsZXQgciA9IHJ1bGVzWzBdO1xuICByZXR1cm4gQm9vbGVhbihyKSAmJiBCb29sZWFuKHJbJ3NlbGVjdG9yJ10pICYmIHJbJ3NlbGVjdG9yJ10uaW5kZXhPZihWQVJfU1RBUlQpID09PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUN1c3RvbVByb3BzKGNzc1RleHQpIHtcbiAgY3NzVGV4dCA9IHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KGNzc1RleHQpO1xuICByZXR1cm4gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXN0b21Qcm9wQXNzaWdubWVudChjc3NUZXh0KSB7XG4gIHJldHVybiBjc3NUZXh0XG4gICAgLnJlcGxhY2UoUlguY3VzdG9tUHJvcCwgJycpXG4gICAgLnJlcGxhY2UoUlgubWl4aW5Qcm9wLCAnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tUHJvcEFwcGx5KGNzc1RleHQpIHtcbiAgcmV0dXJuIGNzc1RleHRcbiAgICAucmVwbGFjZShSWC5taXhpbkFwcGx5LCAnJylcbiAgICAucmVwbGFjZShSWC52YXJBcHBseSwgJycpO1xufVxuXG4vKiogQGVudW0ge251bWJlcn0gKi9cbmV4cG9ydCBjb25zdCB0eXBlcyA9IHtcbiAgU1RZTEVfUlVMRTogMSxcbiAgS0VZRlJBTUVTX1JVTEU6IDcsXG4gIE1FRElBX1JVTEU6IDQsXG4gIE1JWElOX1JVTEU6IDEwMDBcbn1cblxuY29uc3QgT1BFTl9CUkFDRSA9ICd7JztcbmNvbnN0IENMT1NFX0JSQUNFID0gJ30nO1xuXG4vLyBoZWxwZXIgcmVnZXhwJ3NcbmNvbnN0IFJYID0ge1xuICBjb21tZW50czogL1xcL1xcKlteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvL2dpbSxcbiAgcG9ydDogL0BpbXBvcnRbXjtdKjsvZ2ltLFxuICBjdXN0b21Qcm9wOiAvKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qPyg/Ols7XFxuXXwkKS9naW0sXG4gIG1peGluUHJvcDogLyg/Ol5bXjtcXC1cXHN9XSspPy0tW147e31dKj86W157fTtdKj97W159XSo/fSg/Ols7XFxuXXwkKT8vZ2ltLFxuICBtaXhpbkFwcGx5OiAvQGFwcGx5XFxzKlxcKD9bXik7XSpcXCk/XFxzKig/Ols7XFxuXXwkKT8vZ2ltLFxuICB2YXJBcHBseTogL1teOzpdKj86W147XSo/dmFyXFwoW147XSpcXCkoPzpbO1xcbl18JCk/L2dpbSxcbiAga2V5ZnJhbWVzUnVsZTogL15AW15cXHNdKmtleWZyYW1lcy8sXG4gIG11bHRpcGxlU3BhY2VzOiAvXFxzKy9nXG59XG5cbmNvbnN0IFZBUl9TVEFSVCA9ICctLSc7XG5jb25zdCBNRURJQV9TVEFSVCA9ICdAbWVkaWEnO1xuY29uc3QgQVRfU1RBUlQgPSAnQCc7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7IVNldDxzdHJpbmc+fSAqL1xuY29uc3Qgc3R5bGVUZXh0U2V0ID0gbmV3IFNldCgpO1xuXG5leHBvcnQgY29uc3Qgc2NvcGluZ0F0dHJpYnV0ZSA9ICdzaGFkeS11bnNjb3BlZCc7XG5cbi8qKlxuICogQWRkIGEgc3BlY2lmaWNhbGx5LW1hcmtlZCBzdHlsZSB0byB0aGUgZG9jdW1lbnQgZGlyZWN0bHksIGFuZCBvbmx5IG9uZSBjb3B5IG9mIHRoYXQgc3R5bGUuXG4gKlxuICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NVbnNjb3BlZFN0eWxlKHN0eWxlKSB7XG4gIGNvbnN0IHRleHQgPSBzdHlsZS50ZXh0Q29udGVudDtcbiAgaWYgKCFzdHlsZVRleHRTZXQuaGFzKHRleHQpKSB7XG4gICAgc3R5bGVUZXh0U2V0LmFkZCh0ZXh0KTtcbiAgICBjb25zdCBuZXdTdHlsZSA9IHN0eWxlLmNsb25lTm9kZSh0cnVlKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld1N0eWxlKTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgc3R5bGUgaXMgc3VwcG9zZWQgdG8gYmUgdW5zY29wZWRcbiAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBzdHlsZSBoYXMgdGhlIHVuc2NvcGluZyBhdHRyaWJ1dGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5zY29wZWRTdHlsZShzdHlsZSkge1xuICByZXR1cm4gc3R5bGUuaGFzQXR0cmlidXRlKHNjb3BpbmdBdHRyaWJ1dGUpO1xufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtuYXRpdmVTaGFkb3csIG5hdGl2ZUNzc1ZhcmlhYmxlcywgY3NzQnVpbGR9IGZyb20gJy4vc3R5bGUtc2V0dGluZ3MuanMnO1xuaW1wb3J0IHtwYXJzZSwgc3RyaW5naWZ5LCB0eXBlcywgU3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7TUVESUFfTUFUQ0h9IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcbmltcG9ydCB7cHJvY2Vzc1Vuc2NvcGVkU3R5bGUsIGlzVW5zY29wZWRTdHlsZX0gZnJvbSAnLi91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3xTdHlsZU5vZGV9IHJ1bGVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFN0eWxlTm9kZSk9fSBjYWxsYmFja1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9Dc3NUZXh0IChydWxlcywgY2FsbGJhY2spIHtcbiAgaWYgKCFydWxlcykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAodHlwZW9mIHJ1bGVzID09PSAnc3RyaW5nJykge1xuICAgIHJ1bGVzID0gcGFyc2UocnVsZXMpO1xuICB9XG4gIGlmIChjYWxsYmFjaykge1xuICAgIGZvckVhY2hSdWxlKHJ1bGVzLCBjYWxsYmFjayk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZ2lmeShydWxlcywgbmF0aXZlQ3NzVmFyaWFibGVzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydWxlc0ZvclN0eWxlKHN0eWxlKSB7XG4gIGlmICghc3R5bGVbJ19fY3NzUnVsZXMnXSAmJiBzdHlsZS50ZXh0Q29udGVudCkge1xuICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSBwYXJzZShzdHlsZS50ZXh0Q29udGVudCk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlWydfX2Nzc1J1bGVzJ10gfHwgbnVsbDtcbn1cblxuLy8gVGVzdHMgaWYgYSBydWxlIGlzIGEga2V5ZnJhbWVzIHNlbGVjdG9yLCB3aGljaCBsb29rcyBhbG1vc3QgZXhhY3RseVxuLy8gbGlrZSBhIG5vcm1hbCBzZWxlY3RvciBidXQgaXMgbm90IChpdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIHNjb3Bpbmdcbi8vIGZvciBleGFtcGxlKS5cbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0tleWZyYW1lc1NlbGVjdG9yKHJ1bGUpIHtcbiAgcmV0dXJuIEJvb2xlYW4ocnVsZVsncGFyZW50J10pICYmXG4gIHJ1bGVbJ3BhcmVudCddWyd0eXBlJ10gPT09IHR5cGVzLktFWUZSQU1FU19SVUxFO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3R5bGVOb2RlfSBub2RlXG4gKiBAcGFyYW0ge0Z1bmN0aW9uPX0gc3R5bGVSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBrZXlmcmFtZXNSdWxlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG9ubHlBY3RpdmVSdWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFJ1bGUobm9kZSwgc3R5bGVSdWxlQ2FsbGJhY2ssIGtleWZyYW1lc1J1bGVDYWxsYmFjaywgb25seUFjdGl2ZVJ1bGVzKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2tpcFJ1bGVzID0gZmFsc2U7XG4gIGxldCB0eXBlID0gbm9kZVsndHlwZSddO1xuICBpZiAob25seUFjdGl2ZVJ1bGVzKSB7XG4gICAgaWYgKHR5cGUgPT09IHR5cGVzLk1FRElBX1JVTEUpIHtcbiAgICAgIGxldCBtYXRjaE1lZGlhID0gbm9kZVsnc2VsZWN0b3InXS5tYXRjaChNRURJQV9NQVRDSCk7XG4gICAgICBpZiAobWF0Y2hNZWRpYSkge1xuICAgICAgICAvLyBpZiBydWxlIGlzIGEgbm9uIG1hdGNoaW5nIEBtZWRpYSBydWxlLCBza2lwIHN1YnJ1bGVzXG4gICAgICAgIGlmICghd2luZG93Lm1hdGNoTWVkaWEobWF0Y2hNZWRpYVsxXSkubWF0Y2hlcykge1xuICAgICAgICAgIHNraXBSdWxlcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHR5cGUgPT09IHR5cGVzLlNUWUxFX1JVTEUpIHtcbiAgICBzdHlsZVJ1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmIChrZXlmcmFtZXNSdWxlQ2FsbGJhY2sgJiZcbiAgICB0eXBlID09PSB0eXBlcy5LRVlGUkFNRVNfUlVMRSkge1xuICAgIGtleWZyYW1lc1J1bGVDYWxsYmFjayhub2RlKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSB0eXBlcy5NSVhJTl9SVUxFKSB7XG4gICAgc2tpcFJ1bGVzID0gdHJ1ZTtcbiAgfVxuICBsZXQgciQgPSBub2RlWydydWxlcyddO1xuICBpZiAociQgJiYgIXNraXBSdWxlcykge1xuICAgIGZvciAobGV0IGk9MCwgbD1yJC5sZW5ndGgsIHI7IChpPGwpICYmIChyPXIkW2ldKTsgaSsrKSB7XG4gICAgICBmb3JFYWNoUnVsZShyLCBzdHlsZVJ1bGVDYWxsYmFjaywga2V5ZnJhbWVzUnVsZUNhbGxiYWNrLCBvbmx5QWN0aXZlUnVsZXMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBhZGQgYSBzdHJpbmcgb2YgY3NzVGV4dCB0byB0aGUgZG9jdW1lbnQuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gY29udGV4dE5vZGVcbiAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseUNzcyhjc3NUZXh0LCBtb25pa2VyLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIGxldCBzdHlsZSA9IGNyZWF0ZVNjb3BlU3R5bGUoY3NzVGV4dCwgbW9uaWtlcik7XG4gIGFwcGx5U3R5bGUoc3R5bGUsIHRhcmdldCwgY29udGV4dE5vZGUpO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcmV0dXJuIHtIVE1MU3R5bGVFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NvcGVTdHlsZShjc3NUZXh0LCBtb25pa2VyKSB7XG4gIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSk7XG4gIGlmIChtb25pa2VyKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdzY29wZScsIG1vbmlrZXIpO1xuICB9XG4gIHN0eWxlLnRleHRDb250ZW50ID0gY3NzVGV4dDtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG4vKipcbiAqIFRyYWNrIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBhZGRlZCBzdHlsZSBmb3IgcGxhY2luZyBwbGFjZWhvbGRlcnNcbiAqIEB0eXBlIHtOb2RlfVxuICovXG5sZXQgbGFzdEhlYWRBcHBseU5vZGUgPSBudWxsO1xuXG4vLyBpbnNlcnQgYSBjb21tZW50IG5vZGUgYXMgYSBzdHlsaW5nIHBvc2l0aW9uIHBsYWNlaG9sZGVyLlxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9uaWtlclxuICogQHJldHVybiB7IUNvbW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlUGxhY2VIb2xkZXIobW9uaWtlcikge1xuICBsZXQgcGxhY2VIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgU2hhZHkgRE9NIHN0eWxlcyBmb3IgJyArXG4gICAgbW9uaWtlciArICcgJyk7XG4gIGxldCBhZnRlciA9IGxhc3RIZWFkQXBwbHlOb2RlID9cbiAgICBsYXN0SGVhZEFwcGx5Tm9kZVsnbmV4dFNpYmxpbmcnXSA6IG51bGw7XG4gIGxldCBzY29wZSA9IGRvY3VtZW50LmhlYWQ7XG4gIHNjb3BlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlciwgYWZ0ZXIgfHwgc2NvcGUuZmlyc3RDaGlsZCk7XG4gIGxhc3RIZWFkQXBwbHlOb2RlID0gcGxhY2VIb2xkZXI7XG4gIHJldHVybiBwbGFjZUhvbGRlcjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcGFyYW0gez9Ob2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7P05vZGV9IGNvbnRleHROb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0eWxlKHN0eWxlLCB0YXJnZXQsIGNvbnRleHROb2RlKSB7XG4gIHRhcmdldCA9IHRhcmdldCB8fCBkb2N1bWVudC5oZWFkO1xuICBsZXQgYWZ0ZXIgPSAoY29udGV4dE5vZGUgJiYgY29udGV4dE5vZGUubmV4dFNpYmxpbmcpIHx8XG4gICAgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gIHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGFmdGVyKTtcbiAgaWYgKCFsYXN0SGVhZEFwcGx5Tm9kZSkge1xuICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gIH0gZWxzZSB7XG4gICAgLy8gb25seSB1cGRhdGUgbGFzdEhlYWRBcHBseU5vZGUgaWYgdGhlIG5ldyBzdHlsZSBpcyBpbnNlcnRlZCBhZnRlciB0aGUgb2xkIGxhc3RIZWFkQXBwbHlOb2RlXG4gICAgbGV0IHBvc2l0aW9uID0gc3R5bGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obGFzdEhlYWRBcHBseU5vZGUpO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcpIHtcbiAgICAgIGxhc3RIZWFkQXBwbHlOb2RlID0gc3R5bGU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1aWxkVHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGFyZ2V0ZWRCdWlsZChidWlsZFR5cGUpIHtcbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGJ1aWxkVHlwZSA9PT0gJ3NoYWRvdycgOiBidWlsZFR5cGUgPT09ICdzaGFkeSc7XG59XG5cbi8qKlxuICogV2FsayBmcm9tIHRleHRbc3RhcnRdIG1hdGNoaW5nIHBhcmVucyBhbmRcbiAqIHJldHVybnMgcG9zaXRpb24gb2YgdGhlIG91dGVyIGVuZCBwYXJlblxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZE1hdGNoaW5nUGFyZW4odGV4dCwgc3RhcnQpIHtcbiAgbGV0IGxldmVsID0gMDtcbiAgZm9yIChsZXQgaT1zdGFydCwgbD10ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0ZXh0W2ldID09PSAnKCcpIHtcbiAgICAgIGxldmVsKys7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSAnKScpIHtcbiAgICAgIGlmICgtLWxldmVsID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBzdHJpbmcpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLCBjYWxsYmFjaykge1xuICAvLyBmaW5kICd2YXIoJ1xuICBsZXQgc3RhcnQgPSBzdHIuaW5kZXhPZigndmFyKCcpO1xuICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgLy8gbm8gdmFyPywgZXZlcnl0aGluZyBpcyBwcmVmaXhcbiAgICByZXR1cm4gY2FsbGJhY2soc3RyLCAnJywgJycsICcnKTtcbiAgfVxuICAvLyR7cHJlZml4fXZhcigke2lubmVyfSkke3N1ZmZpeH1cbiAgbGV0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHN0ciwgc3RhcnQgKyAzKTtcbiAgbGV0IGlubmVyID0gc3RyLnN1YnN0cmluZyhzdGFydCArIDQsIGVuZCk7XG4gIGxldCBwcmVmaXggPSBzdHIuc3Vic3RyaW5nKDAsIHN0YXJ0KTtcbiAgLy8gc3VmZml4IG1heSBoYXZlIG90aGVyIHZhcmlhYmxlc1xuICBsZXQgc3VmZml4ID0gcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2soc3RyLnN1YnN0cmluZyhlbmQgKyAxKSwgY2FsbGJhY2spO1xuICBsZXQgY29tbWEgPSBpbm5lci5pbmRleE9mKCcsJyk7XG4gIC8vIHZhbHVlIGFuZCBmYWxsYmFjayBhcmdzIHNob3VsZCBiZSB0cmltbWVkIHRvIG1hdGNoIGluIHByb3BlcnR5IGxvb2t1cFxuICBpZiAoY29tbWEgPT09IC0xKSB7XG4gICAgLy8gdmFyaWFibGUsIG5vIGZhbGxiYWNrXG4gICAgcmV0dXJuIGNhbGxiYWNrKHByZWZpeCwgaW5uZXIudHJpbSgpLCAnJywgc3VmZml4KTtcbiAgfVxuICAvLyB2YXIoJHt2YWx1ZX0sJHtmYWxsYmFja30pXG4gIGxldCB2YWx1ZSA9IGlubmVyLnN1YnN0cmluZygwLCBjb21tYSkudHJpbSgpO1xuICBsZXQgZmFsbGJhY2sgPSBpbm5lci5zdWJzdHJpbmcoY29tbWEgKyAxKS50cmltKCk7XG4gIHJldHVybiBjYWxsYmFjayhwcmVmaXgsIHZhbHVlLCBmYWxsYmFjaywgc3VmZml4KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbWVudENsYXNzUmF3KGVsZW1lbnQsIHZhbHVlKSB7XG4gIC8vIHVzZSBuYXRpdmUgc2V0QXR0cmlidXRlIHByb3ZpZGVkIGJ5IFNoYWR5RE9NIHdoZW4gc2V0QXR0cmlidXRlIGlzIHBhdGNoZWRcbiAgaWYgKG5hdGl2ZVNoYWRvdykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ25hdGl2ZU1ldGhvZHMnXVsnc2V0QXR0cmlidXRlJ10uY2FsbChlbGVtZW50LCAnY2xhc3MnLCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7ZnVuY3Rpb24oKik6Kn1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXAgPSB3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWyd3cmFwJ10gfHwgKChub2RlKSA9PiBub2RlKTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCB7aXM6IHN0cmluZywgZXh0ZW5kczogc3RyaW5nfX0gZWxlbWVudFxuICogQHJldHVybiB7e2lzOiBzdHJpbmcsIHR5cGVFeHRlbnNpb246IHN0cmluZ319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc0V4dGVuZHMoZWxlbWVudCkge1xuICBsZXQgbG9jYWxOYW1lID0gZWxlbWVudFsnbG9jYWxOYW1lJ107XG4gIGxldCBpcyA9ICcnLCB0eXBlRXh0ZW5zaW9uID0gJyc7XG4gIC8qXG4gIE5PVEU6IHRlY2huaWNhbGx5LCB0aGlzIGNhbiBiZSB3cm9uZyBmb3IgY2VydGFpbiBzdmcgZWxlbWVudHNcbiAgd2l0aCBgLWAgaW4gdGhlIG5hbWUgbGlrZSBgPGZvbnQtZmFjZT5gXG4gICovXG4gIGlmIChsb2NhbE5hbWUpIHtcbiAgICBpZiAobG9jYWxOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICBpcyA9IGxvY2FsTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZUV4dGVuc2lvbiA9IGxvY2FsTmFtZTtcbiAgICAgIGlzID0gKGVsZW1lbnQuZ2V0QXR0cmlidXRlICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpcycpKSB8fCAnJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaXMgPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmlzO1xuICAgIHR5cGVFeHRlbnNpb24gPSAvKiogQHR5cGUgez99ICovKGVsZW1lbnQpLmV4dGVuZHM7XG4gIH1cbiAgcmV0dXJuIHtpcywgdHlwZUV4dGVuc2lvbn07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdhdGhlclN0eWxlVGV4dChlbGVtZW50KSB7XG4gIC8qKiBAdHlwZSB7IUFycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IHN0eWxlVGV4dFBhcnRzID0gW107XG4gIGNvbnN0IHN0eWxlcyA9IC8qKiBAdHlwZSB7IU5vZGVMaXN0PCFIVE1MU3R5bGVFbGVtZW50Pn0gKi8oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICBpZiAoaXNVbnNjb3BlZFN0eWxlKHN0eWxlKSkge1xuICAgICAgaWYgKCFuYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgcHJvY2Vzc1Vuc2NvcGVkU3R5bGUoc3R5bGUpO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVUZXh0UGFydHMucHVzaChzdHlsZS50ZXh0Q29udGVudCk7XG4gICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlVGV4dFBhcnRzLmpvaW4oJycpLnRyaW0oKTtcbn1cblxuLyoqXG4gKiBTcGxpdCBhIHNlbGVjdG9yIHNlcGFyYXRlZCBieSBjb21tYXMgaW50byBhbiBhcnJheSBpbiBhIHNtYXJ0IHdheVxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0U2VsZWN0b3JMaXN0KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcnRzID0gW107XG4gIGxldCBwYXJ0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpID49IDAgJiYgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gQSBzZWxlY3RvciB3aXRoIHBhcmVudGhlc2VzIHdpbGwgYmUgb25lIGNvbXBsZXRlIHBhcnRcbiAgICBpZiAoc2VsZWN0b3JbaV0gPT09ICcoJykge1xuICAgICAgLy8gZmluZCB0aGUgbWF0Y2hpbmcgcGFyZW5cbiAgICAgIGNvbnN0IGVuZCA9IGZpbmRNYXRjaGluZ1BhcmVuKHNlbGVjdG9yLCBpKTtcbiAgICAgIC8vIHB1c2ggdGhlIHBhcmVuIGJsb2NrIGludG8gdGhlIHBhcnRcbiAgICAgIHBhcnQgKz0gc2VsZWN0b3Iuc2xpY2UoaSwgZW5kICsgMSk7XG4gICAgICAvLyBtb3ZlIHRoZSBpbmRleCB0byBhZnRlciB0aGUgcGFyZW4gYmxvY2tcbiAgICAgIGkgPSBlbmQ7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RvcltpXSA9PT0gJywnKSB7XG4gICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgcGFydCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0ICs9IHNlbGVjdG9yW2ldO1xuICAgIH1cbiAgfVxuICAvLyBjYXRjaCBhbnkgcGllY2VzIGFmdGVyIHRoZSBsYXN0IGNvbW1hXG4gIGlmIChwYXJ0KSB7XG4gICAgcGFydHMucHVzaChwYXJ0KTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5cbmNvbnN0IENTU19CVUlMRF9BVFRSID0gJ2Nzcy1idWlsZCc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBwb2x5bWVyLWNzcy1idWlsZCBcImJ1aWxkIHR5cGVcIiBhcHBsaWVkIHRvIHRoaXMgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9IENhbiBiZSBcIlwiLCBcInNoYWR5XCIsIG9yIFwic2hhZG93XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENzc0J1aWxkKGVsZW1lbnQpIHtcbiAgaWYgKGNzc0J1aWxkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKGNzc0J1aWxkKTtcbiAgfVxuICBpZiAoZWxlbWVudC5fX2Nzc0J1aWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyB0cnkgYXR0cmlidXRlIGZpcnN0LCBhcyBpdCBpcyB0aGUgY29tbW9uIGNhc2VcbiAgICBjb25zdCBhdHRyVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShDU1NfQlVJTERfQVRUUik7XG4gICAgaWYgKGF0dHJWYWx1ZSkge1xuICAgICAgZWxlbWVudC5fX2Nzc0J1aWxkID0gYXR0clZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidWlsZENvbW1lbnQgPSBnZXRCdWlsZENvbW1lbnQoZWxlbWVudCk7XG4gICAgICBpZiAoYnVpbGRDb21tZW50ICE9PSAnJykge1xuICAgICAgICAvLyByZW1vdmUgYnVpbGQgY29tbWVudCBzbyBpdCBpcyBub3QgbmVlZGxlc3NseSBjb3BpZWQgaW50byBldmVyeSBlbGVtZW50IGluc3RhbmNlXG4gICAgICAgIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuX19jc3NCdWlsZCA9IGJ1aWxkQ29tbWVudDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQuX19jc3NCdWlsZCB8fCAnJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCwgZWl0aGVyIGEgPHRlbXBsYXRlPiBvciA8c3R5bGU+LCBoYXMgYmVlbiBwcm9jZXNzZWRcbiAqIGJ5IHBvbHltZXItY3NzLWJ1aWxkLlxuICpcbiAqIElmIHNvLCB0aGVuIHdlIGNhbiBtYWtlIGEgbnVtYmVyIG9mIG9wdGltaXphdGlvbnM6XG4gKiAtIHBvbHltZXItY3NzLWJ1aWxkIHdpbGwgZGVjb21wb3NlIG1peGlucyBpbnRvIGluZGl2aWR1YWwgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzLFxuICogc28gdGhlIEFwcGx5U2hpbSBjYW4gYmUgc2tpcHBlZCBlbnRpcmVseS5cbiAqIC0gVW5kZXIgbmF0aXZlIFNoYWRvd0RPTSwgdGhlIHN0eWxlIHRleHQgY2FuIGp1c3QgYmUgY29waWVkIGludG8gZWFjaCBpbnN0YW5jZVxuICogd2l0aG91dCBtb2RpZmljYXRpb25cbiAqIC0gSWYgdGhlIGJ1aWxkIGlzIFwic2hhZHlcIiBhbmQgU2hhZHlET00gaXMgaW4gdXNlLCB0aGUgc3R5bGluZyBkb2VzIG5vdCBuZWVkXG4gKiBzY29waW5nIGJleW9uZCB0aGUgc2hpbW1pbmcgb2YgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50SGFzQnVpbHRDc3MoZWxlbWVudCkge1xuICByZXR1cm4gZ2V0Q3NzQnVpbGQoZWxlbWVudCkgIT09ICcnO1xufVxuXG4vKipcbiAqIEZvciB0ZW1wbGF0ZXMgbWFkZSB3aXRoIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFscywgcG9seW1lci1jc3MtYnVpbGQgd2lsbFxuICogaW5zZXJ0IGEgY29tbWVudCBvZiB0aGUgZm9ybSBgPCEtLWNzcy1idWlsZDpzaGFkb3ctLT5gXG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBpZiAoYnVpbGRDb21tZW50IGluc3RhbmNlb2YgQ29tbWVudCkge1xuICAgIGNvbnN0IGNvbW1lbnRQYXJ0cyA9IGJ1aWxkQ29tbWVudC50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoJzonKTtcbiAgICBpZiAoY29tbWVudFBhcnRzWzBdID09PSBDU1NfQlVJTERfQVRUUikge1xuICAgICAgcmV0dXJuIGNvbW1lbnRQYXJ0c1sxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBjc3MgYnVpbGQgc3RhdHVzIGlzIG9wdGltYWwsIGFuZCBkbyBubyB1bm5lZWRlZCB3b3JrLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gY3NzQnVpbGQgQ1NTIGJ1aWxkIHN0YXR1c1xuICogQHJldHVybiB7Ym9vbGVhbn0gY3NzIGJ1aWxkIGlzIG9wdGltYWwgb3Igbm90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09wdGltYWxDc3NCdWlsZChjc3NCdWlsZCA9ICcnKSB7XG4gIC8vIENTUyBjdXN0b20gcHJvcGVydHkgc2hpbSBhbHdheXMgcmVxdWlyZXMgd29ya1xuICBpZiAoY3NzQnVpbGQgPT09ICcnIHx8ICFuYXRpdmVDc3NWYXJpYWJsZXMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG5hdGl2ZVNoYWRvdyA/IGNzc0J1aWxkID09PSAnc2hhZG93JyA6IGNzc0J1aWxkID09PSAnc2hhZHknO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJ1aWxkQ29tbWVudChlbGVtZW50KSB7XG4gIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGVsZW1lbnQubG9jYWxOYW1lID09PSAndGVtcGxhdGUnID9cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChlbGVtZW50KS5jb250ZW50LmZpcnN0Q2hpbGQgOlxuICAgICAgZWxlbWVudC5maXJzdENoaWxkO1xuICBidWlsZENvbW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChidWlsZENvbW1lbnQpO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qXG4gKiBUaGUgYXBwbHkgc2hpbSBzaW11bGF0ZXMgdGhlIGJlaGF2aW9yIG9mIGBAYXBwbHlgIHByb3Bvc2VkIGF0XG4gKiBodHRwczovL3RhYmF0a2lucy5naXRodWIuaW8vc3BlY3MvY3NzLWFwcGx5LXJ1bGUvLlxuICogVGhlIGFwcHJvYWNoIGlzIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSBsaWtlIHRoaXM6XG4gKlxuICogICAgLS1mb286IHtjb2xvcjogcmVkOyBiYWNrZ3JvdW5kOiBibHVlO31cbiAqXG4gKiB0byB0aGlzOlxuICpcbiAqICAgIC0tZm9vXy1fY29sb3I6IHJlZDtcbiAqICAgIC0tZm9vXy1fYmFja2dyb3VuZDogYmx1ZTtcbiAqXG4gKiBUaGVuIHdoZXJlIGBAYXBwbHkgLS1mb29gIGlzIHVzZWQsIHRoYXQgaXMgY29udmVydGVkIHRvOlxuICpcbiAqICAgIGNvbG9yOiB2YXIoLS1mb29fLV9jb2xvcik7XG4gKiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mb29fLV9iYWNrZ3JvdW5kKTtcbiAqXG4gKiBUaGlzIGFwcHJvYWNoIGdlbmVyYWxseSB3b3JrcyBidXQgdGhlcmUgYXJlIHNvbWUgaXNzdWVzIGFuZCBsaW1pdGF0aW9ucy5cbiAqIENvbnNpZGVyLCBmb3IgZXhhbXBsZSwgdGhhdCBzb21ld2hlcmUgKmJldHdlZW4qIHdoZXJlIGAtLWZvb2AgaXMgc2V0IGFuZCB1c2VkLFxuICogYW5vdGhlciBlbGVtZW50IHNldHMgaXQgdG86XG4gKlxuICogICAgLS1mb286IHsgYm9yZGVyOiAycHggc29saWQgcmVkOyB9XG4gKlxuICogV2UgbXVzdCBub3cgZW5zdXJlIHRoYXQgdGhlIGNvbG9yIGFuZCBiYWNrZ3JvdW5kIGZyb20gdGhlIHByZXZpb3VzIHNldHRpbmdcbiAqIGRvIG5vdCBhcHBseS4gVGhpcyBpcyBhY2NvbXBsaXNoZWQgYnkgY2hhbmdpbmcgdGhlIHByb3BlcnR5IHNldCB0byB0aGlzOlxuICpcbiAqICAgIC0tZm9vXy1fYm9yZGVyOiAycHggc29saWQgcmVkO1xuICogICAgLS1mb29fLV9jb2xvcjogaW5pdGlhbDtcbiAqICAgIC0tZm9vXy1fYmFja2dyb3VuZDogaW5pdGlhbDtcbiAqXG4gKiBUaGlzIHdvcmtzIGJ1dCBpbnRyb2R1Y2VzIG9uZSBuZXcgaXNzdWUuXG4gKiBDb25zaWRlciB0aGlzIHNldHVwIGF0IHRoZSBwb2ludCB3aGVyZSB0aGUgYEBhcHBseWAgaXMgdXNlZDpcbiAqXG4gKiAgICBiYWNrZ3JvdW5kOiBvcmFuZ2U7XG4gKiAgICBgQGFwcGx5YCAtLWZvbztcbiAqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIGJhY2tncm91bmQgd2lsbCBiZSB1bnNldCAoaW5pdGlhbCkgcmF0aGVyIHRoYW4gdGhlIGRlc2lyZWRcbiAqIGBvcmFuZ2VgLiBXZSBhZGRyZXNzIHRoaXMgYnkgYWx0ZXJpbmcgdGhlIHByb3BlcnR5IHNldCB0byB1c2UgYSBmYWxsYmFja1xuICogdmFsdWUgbGlrZSB0aGlzOlxuICpcbiAqICAgIGNvbG9yOiB2YXIoLS1mb29fLV9jb2xvcik7XG4gKiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1mb29fLV9iYWNrZ3JvdW5kLCBvcmFuZ2UpO1xuICogICAgYm9yZGVyOiB2YXIoLS1mb29fLV9ib3JkZXIpO1xuICpcbiAqIE5vdGUgdGhhdCB0aGUgZGVmYXVsdCBpcyByZXRhaW5lZCBpbiB0aGUgcHJvcGVydHkgc2V0IGFuZCB0aGUgYGJhY2tncm91bmRgIGlzXG4gKiB0aGUgZGVzaXJlZCBgb3JhbmdlYC4gVGhpcyBsZWFkcyB1cyB0byBhIGxpbWl0YXRpb24uXG4gKlxuICogTGltaXRhdGlvbiAxOlxuXG4gKiBPbmx5IHByb3BlcnRpZXMgaW4gdGhlIHJ1bGUgd2hlcmUgdGhlIGBAYXBwbHlgXG4gKiBpcyB1c2VkIGFyZSBjb25zaWRlcmVkIGFzIGRlZmF1bHQgdmFsdWVzLlxuICogSWYgYW5vdGhlciBydWxlIG1hdGNoZXMgdGhlIGVsZW1lbnQgYW5kIHNldHMgYGJhY2tncm91bmRgIHdpdGhcbiAqIGxlc3Mgc3BlY2lmaWNpdHkgdGhhbiB0aGUgcnVsZSBpbiB3aGljaCBgQGFwcGx5YCBhcHBlYXJzLFxuICogdGhlIGBiYWNrZ3JvdW5kYCB3aWxsIG5vdCBiZSBzZXQuXG4gKlxuICogTGltaXRhdGlvbiAyOlxuICpcbiAqIFdoZW4gdXNpbmcgUG9seW1lcidzIGB1cGRhdGVTdHlsZXNgIGFwaSwgbmV3IHByb3BlcnRpZXMgbWF5IG5vdCBiZSBzZXQgZm9yXG4gKiBgQGFwcGx5YCBwcm9wZXJ0aWVzLlxuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7Zm9yRWFjaFJ1bGUsIHByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrLCBydWxlc0ZvclN0eWxlLCB0b0Nzc1RleHQsIGdhdGhlclN0eWxlVGV4dH0gZnJvbSAnLi9zdHlsZS11dGlsLmpzJztcbmltcG9ydCB7TUlYSU5fTUFUQ0gsIFZBUl9BU1NJR059IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcbmltcG9ydCB7ZGV0ZWN0TWl4aW59IGZyb20gJy4vY29tbW9uLXV0aWxzLmpzJztcbmltcG9ydCB7U3R5bGVOb2RlfSBmcm9tICcuL2Nzcy1wYXJzZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuY29uc3QgQVBQTFlfTkFNRV9DTEVBTiA9IC87XFxzKi9tO1xuY29uc3QgSU5JVElBTF9JTkhFUklUID0gL15cXHMqKGluaXRpYWwpfChpbmhlcml0KVxccyokLztcbmNvbnN0IElNUE9SVEFOVCA9IC9cXHMqIWltcG9ydGFudC87XG5cbi8vIHNlcGFyYXRvciB1c2VkIGJldHdlZW4gbWl4aW4tbmFtZSBhbmQgbWl4aW4tcHJvcGVydHktbmFtZSB3aGVuIHByb2R1Y2luZyBwcm9wZXJ0aWVzXG4vLyBOT1RFOiBwbGFpbiAnLScgbWF5IGNhdXNlIGNvbGxpc2lvbnMgaW4gdXNlciBzdHlsZXNcbmNvbnN0IE1JWElOX1ZBUl9TRVAgPSAnXy1fJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmxldCBQcm9wZXJ0eUVudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogQHR5cGVkZWYgeyFPYmplY3Q8c3RyaW5nLCBib29sZWFuPn1cbiAqL1xubGV0IERlcGVuZGFudHNFbnRyeTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKiogQHR5cGVkZWYge3tcbiAqICAgIHByb3BlcnRpZXM6IFByb3BlcnR5RW50cnksXG4gKiAgICBkZXBlbmRhbnRzOiBEZXBlbmRhbnRzRW50cnlcbiAqIH19XG4gKi9cbmxldCBNaXhpbk1hcEVudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8vIG1hcCBvZiBtaXhpbiB0byBwcm9wZXJ0eSBuYW1lc1xuLy8gLS1mb286IHtib3JkZXI6IDJweH0gLT4ge3Byb3BlcnRpZXM6IHsoLS1mb28sIFsnYm9yZGVyJ10pfSwgZGVwZW5kYW50czogeydlbGVtZW50LW5hbWUnOiBwcm90b319XG5jbGFzcyBNaXhpbk1hcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFNaXhpbk1hcEVudHJ5Pn0gKi9cbiAgICB0aGlzLl9tYXAgPSB7fTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHshUHJvcGVydHlFbnRyeX0gcHJvcHNcbiAgICovXG4gIHNldChuYW1lLCBwcm9wcykge1xuICAgIG5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICB0aGlzLl9tYXBbbmFtZV0gPSB7XG4gICAgICBwcm9wZXJ0aWVzOiBwcm9wcyxcbiAgICAgIGRlcGVuZGFudHM6IHt9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtNaXhpbk1hcEVudHJ5fVxuICAgKi9cbiAgZ2V0KG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZS50cmltKCk7XG4gICAgcmV0dXJuIHRoaXMuX21hcFtuYW1lXSB8fCBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHdoZW4gYW4gZWxlbWVudCBpcyBtYXJrZWQgaW52YWxpZFxuICogQHR5cGUgez9mdW5jdGlvbihzdHJpbmcpfVxuICovXG5sZXQgaW52YWxpZENhbGxiYWNrID0gbnVsbDtcblxuLyoqIEB1bnJlc3RyaWN0ZWQgKi9cbmNsYXNzIEFwcGx5U2hpbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtIVE1MTWV0YUVsZW1lbnR9ICovXG4gICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX21hcCA9IG5ldyBNaXhpbk1hcCgpO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm4gdHJ1ZSBpZiBgY3NzVGV4dGAgY29udGFpbnMgYSBtaXhpbiBkZWZpbml0aW9uIG9yIGNvbnN1bXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBkZXRlY3RNaXhpbihjc3NUZXh0KSB7XG4gICAgcmV0dXJuIGRldGVjdE1peGluKGNzc1RleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdhdGhlciBzdHlsZXMgaW50byBvbmUgc3R5bGUgZm9yIGVhc2llciBwcm9jZXNzaW5nXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gICAqL1xuICBnYXRoZXJTdHlsZXModGVtcGxhdGUpIHtcbiAgICBjb25zdCBzdHlsZVRleHQgPSBnYXRoZXJTdHlsZVRleHQodGVtcGxhdGUuY29udGVudCk7XG4gICAgaWYgKHN0eWxlVGV4dCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSAvKiogQHR5cGUgeyFIVE1MU3R5bGVFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKTtcbiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVUZXh0O1xuICAgICAgdGVtcGxhdGUuY29udGVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgaWYgKHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlID0gdGhpcy5nYXRoZXJTdHlsZXModGVtcGxhdGUpO1xuICAgIH1cbiAgICAvKiogQHR5cGUge0hUTUxTdHlsZUVsZW1lbnR9ICovXG4gICAgY29uc3Qgc3R5bGUgPSB0ZW1wbGF0ZS5fZ2F0aGVyZWRTdHlsZTtcbiAgICByZXR1cm4gc3R5bGUgPyB0aGlzLnRyYW5zZm9ybVN0eWxlKHN0eWxlLCBlbGVtZW50TmFtZSkgOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtU3R5bGUoc3R5bGUsIGVsZW1lbnROYW1lID0gJycpIHtcbiAgICBsZXQgYXN0ID0gcnVsZXNGb3JTdHlsZShzdHlsZSk7XG4gICAgdGhpcy50cmFuc2Zvcm1SdWxlcyhhc3QsIGVsZW1lbnROYW1lKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRvQ3NzVGV4dChhc3QpO1xuICAgIHJldHVybiBhc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAgICovXG4gIHRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKSB7XG4gICAgbGV0IGFzdCA9IHJ1bGVzRm9yU3R5bGUoc3R5bGUpO1xuICAgIGZvckVhY2hSdWxlKGFzdCwgKHJ1bGUpID0+IHtcbiAgICAgIGlmIChydWxlWydzZWxlY3RvciddID09PSAnOnJvb3QnKSB7XG4gICAgICAgIHJ1bGVbJ3NlbGVjdG9yJ10gPSAnaHRtbCc7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYW5zZm9ybVJ1bGUocnVsZSk7XG4gICAgfSlcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRvQ3NzVGV4dChhc3QpO1xuICAgIHJldHVybiBhc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7U3R5bGVOb2RlfSBydWxlc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICovXG4gIHRyYW5zZm9ybVJ1bGVzKHJ1bGVzLCBlbGVtZW50TmFtZSkge1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gZWxlbWVudE5hbWU7XG4gICAgZm9yRWFjaFJ1bGUocnVsZXMsIChyKSA9PiB7XG4gICAgICB0aGlzLnRyYW5zZm9ybVJ1bGUocik7XG4gICAgfSk7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHJ1bGVcbiAgICovXG4gIHRyYW5zZm9ybVJ1bGUocnVsZSkge1xuICAgIHJ1bGVbJ2Nzc1RleHQnXSA9IHRoaXMudHJhbnNmb3JtQ3NzVGV4dChydWxlWydwYXJzZWRDc3NUZXh0J10sIHJ1bGUpO1xuICAgIC8vIDpyb290IHdhcyBvbmx5IHVzZWQgZm9yIHZhcmlhYmxlIGFzc2lnbm1lbnQgaW4gcHJvcGVydHkgc2hpbSxcbiAgICAvLyBidXQgZ2VuZXJhdGVzIGludmFsaWQgc2VsZWN0b3JzIHdpdGggcmVhbCBwcm9wZXJ0aWVzLlxuICAgIC8vIHJlcGxhY2Ugd2l0aCBgOmhvc3QgPiAqYCwgd2hpY2ggc2VydmVzIHRoZSBzYW1lIGVmZmVjdFxuICAgIGlmIChydWxlWydzZWxlY3RvciddID09PSAnOnJvb3QnKSB7XG4gICAgICBydWxlWydzZWxlY3RvciddID0gJzpob3N0ID4gKic7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHJ1bGVcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgdHJhbnNmb3JtQ3NzVGV4dChjc3NUZXh0LCBydWxlKSB7XG4gICAgLy8gcHJvZHVjZSB2YXJpYWJsZXNcbiAgICBjc3NUZXh0ID0gY3NzVGV4dC5yZXBsYWNlKFZBUl9BU1NJR04sIChtYXRjaFRleHQsIHByb3BlcnR5TmFtZSwgdmFsdWVQcm9wZXJ0eSwgdmFsdWVNaXhpbikgPT5cbiAgICAgIHRoaXMuX3Byb2R1Y2VDc3NQcm9wZXJ0aWVzKG1hdGNoVGV4dCwgcHJvcGVydHlOYW1lLCB2YWx1ZVByb3BlcnR5LCB2YWx1ZU1peGluLCBydWxlKSk7XG4gICAgLy8gY29uc3VtZSBtaXhpbnNcbiAgICByZXR1cm4gdGhpcy5fY29uc3VtZUNzc1Byb3BlcnRpZXMoY3NzVGV4dCwgcnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfZ2V0SW5pdGlhbFZhbHVlRm9yUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICBpZiAoIXRoaXMuX21lYXN1cmVFbGVtZW50KSB7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudCA9IC8qKiBAdHlwZSB7SFRNTE1ldGFFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJykpO1xuICAgICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcHBseS1zaGltLW1lYXN1cmUnLCAnJyk7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudC5zdHlsZS5hbGwgPSAnaW5pdGlhbCc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuX21lYXN1cmVFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21lYXN1cmVFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbiAgfVxuICAvKipcbiAgICogV2FsayBvdmVyIGFsbCBydWxlcyBiZWZvcmUgdGhpcyBydWxlIHRvIGZpbmQgZmFsbGJhY2tzIGZvciBtaXhpbnNcbiAgICpcbiAgICogQHBhcmFtIHshU3R5bGVOb2RlfSBzdGFydFJ1bGVcbiAgICogQHJldHVybiB7IU9iamVjdH1cbiAgICovXG4gIF9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyhzdGFydFJ1bGUpIHtcbiAgICAvLyBmaW5kIHRoZSBcInRvcFwiIHJ1bGVcbiAgICBsZXQgdG9wUnVsZSA9IHN0YXJ0UnVsZTtcbiAgICB3aGlsZSAodG9wUnVsZVsncGFyZW50J10pIHtcbiAgICAgIHRvcFJ1bGUgPSB0b3BSdWxlWydwYXJlbnQnXTtcbiAgICB9XG4gICAgY29uc3QgZmFsbGJhY2tzID0ge307XG4gICAgbGV0IHNlZW5TdGFydFJ1bGUgPSBmYWxzZTtcbiAgICBmb3JFYWNoUnVsZSh0b3BSdWxlLCAocikgPT4ge1xuICAgICAgLy8gc3RvcCB3aGVuIHdlIGhpdCB0aGUgaW5wdXQgcnVsZVxuICAgICAgc2VlblN0YXJ0UnVsZSA9IHNlZW5TdGFydFJ1bGUgfHwgciA9PT0gc3RhcnRSdWxlO1xuICAgICAgaWYgKHNlZW5TdGFydFJ1bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gTk9URTogT25seSBtYXRjaGluZyBzZWxlY3RvcnMgYXJlIFwic2FmZVwiIGZvciB0aGlzIGZhbGxiYWNrIHByb2Nlc3NpbmdcbiAgICAgIC8vIEl0IHdvdWxkIGJlIHByb2hpYml0aXZlIHRvIHJ1biBgbWF0Y2hlc1NlbGVjdG9yKClgIG9uIGVhY2ggc2VsZWN0b3IsXG4gICAgICAvLyBzbyB3ZSBjaGVhdCBhbmQgb25seSBjaGVjayBpZiB0aGUgc2FtZSBzZWxlY3RvciBzdHJpbmcgaXMgdXNlZCwgd2hpY2hcbiAgICAgIC8vIGd1YXJhbnRlZXMgdGhpbmdzIGxpa2Ugc3BlY2lmaWNpdHkgbWF0Y2hpbmdcbiAgICAgIGlmIChyWydzZWxlY3RvciddID09PSBzdGFydFJ1bGVbJ3NlbGVjdG9yJ10pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihmYWxsYmFja3MsIHRoaXMuX2Nzc1RleHRUb01hcChyWydwYXJzZWRDc3NUZXh0J10pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZmFsbGJhY2tzO1xuICB9XG4gIC8qKlxuICAgKiByZXBsYWNlIG1peGluIGNvbnN1bXB0aW9uIHdpdGggdmFyaWFibGUgY29uc3VtcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAgICogQHBhcmFtIHshU3R5bGVOb2RlPX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfY29uc3VtZUNzc1Byb3BlcnRpZXModGV4dCwgcnVsZSkge1xuICAgIC8qKiBAdHlwZSB7QXJyYXl9ICovXG4gICAgbGV0IG0gPSBudWxsO1xuICAgIC8vIGxvb3Agb3ZlciB0ZXh0IHVudGlsIGFsbCBtaXhpbnMgd2l0aCBkZWZpbnRpb25zIGhhdmUgYmVlbiBhcHBsaWVkXG4gICAgd2hpbGUoKG0gPSBNSVhJTl9NQVRDSC5leGVjKHRleHQpKSkge1xuICAgICAgbGV0IG1hdGNoVGV4dCA9IG1bMF07XG4gICAgICBsZXQgbWl4aW5OYW1lID0gbVsxXTtcbiAgICAgIGxldCBpZHggPSBtLmluZGV4O1xuICAgICAgLy8gY29sbGVjdCBwcm9wZXJ0aWVzIGJlZm9yZSBhcHBseSB0byBiZSBcImRlZmF1bHRzXCIgaWYgbWl4aW4gbWlnaHQgb3ZlcnJpZGUgdGhlbVxuICAgICAgLy8gbWF0Y2ggaW5jbHVkZXMgYSBcInByZWZpeFwiLCBzbyBmaW5kIHRoZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyBvZiBAYXBwbHlcbiAgICAgIGxldCBhcHBseVBvcyA9IGlkeCArIG1hdGNoVGV4dC5pbmRleE9mKCdAYXBwbHknKTtcbiAgICAgIGxldCBhZnRlckFwcGx5UG9zID0gaWR4ICsgbWF0Y2hUZXh0Lmxlbmd0aDtcbiAgICAgIC8vIGZpbmQgcHJvcHMgZGVmaW5lZCBiZWZvcmUgdGhpcyBAYXBwbHlcbiAgICAgIGxldCB0ZXh0QmVmb3JlQXBwbHkgPSB0ZXh0LnNsaWNlKDAsIGFwcGx5UG9zKTtcbiAgICAgIGxldCB0ZXh0QWZ0ZXJBcHBseSA9IHRleHQuc2xpY2UoYWZ0ZXJBcHBseVBvcyk7XG4gICAgICBsZXQgZGVmYXVsdHMgPSBydWxlID8gdGhpcy5fZmFsbGJhY2tzRnJvbVByZXZpb3VzUnVsZXMocnVsZSkgOiB7fTtcbiAgICAgIE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHRoaXMuX2Nzc1RleHRUb01hcCh0ZXh0QmVmb3JlQXBwbHkpKTtcbiAgICAgIGxldCByZXBsYWNlbWVudCA9IHRoaXMuX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMobWl4aW5OYW1lLCBkZWZhdWx0cyk7XG4gICAgICAvLyB1c2UgcmVnZXggbWF0Y2ggcG9zaXRpb24gdG8gcmVwbGFjZSBtaXhpbiwga2VlcCBsaW5lYXIgcHJvY2Vzc2luZyB0aW1lXG4gICAgICB0ZXh0ID0gYCR7dGV4dEJlZm9yZUFwcGx5fSR7cmVwbGFjZW1lbnR9JHt0ZXh0QWZ0ZXJBcHBseX1gO1xuICAgICAgLy8gbW92ZSByZWdleCBzZWFyY2ggdG8gX2FmdGVyXyByZXBsYWNlbWVudFxuICAgICAgTUlYSU5fTUFUQ0gubGFzdEluZGV4ID0gaWR4ICsgcmVwbGFjZW1lbnQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICAvKipcbiAgICogcHJvZHVjZSB2YXJpYWJsZSBjb25zdW1wdGlvbiBhdCB0aGUgc2l0ZSBvZiBtaXhpbiBjb25zdW1wdGlvblxuICAgKiBgQGFwcGx5YCAtLWZvbzsgLT4gZm9yIGFsbCBwcm9wcyAoJHtwcm9wbmFtZX06IHZhcigtLWZvb18tXyR7cHJvcG5hbWV9LCAke2ZhbGxiYWNrW3Byb3BuYW1lXX19KSlcbiAgICogRXhhbXBsZTpcbiAgICogIGJvcmRlcjogdmFyKC0tZm9vXy1fYm9yZGVyKTsgcGFkZGluZzogdmFyKC0tZm9vXy1fcGFkZGluZywgMnB4KVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWl4aW5OYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBmYWxsYmFja3NcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMobWl4aW5OYW1lLCBmYWxsYmFja3MpIHtcbiAgICBtaXhpbk5hbWUgPSBtaXhpbk5hbWUucmVwbGFjZShBUFBMWV9OQU1FX0NMRUFOLCAnJyk7XG4gICAgbGV0IHZhcnMgPSBbXTtcbiAgICBsZXQgbWl4aW5FbnRyeSA9IHRoaXMuX21hcC5nZXQobWl4aW5OYW1lKTtcbiAgICAvLyBpZiB3ZSBkZXBlbmQgb24gYSBtaXhpbiBiZWZvcmUgaXQgaXMgY3JlYXRlZFxuICAgIC8vIG1ha2UgYSBzZW50aW5lbCBlbnRyeSBpbiB0aGUgbWFwIHRvIGFkZCB0aGlzIGVsZW1lbnQgYXMgYSBkZXBlbmRlbmN5IGZvciB3aGVuIGl0IGlzIGRlZmluZWQuXG4gICAgaWYgKCFtaXhpbkVudHJ5KSB7XG4gICAgICB0aGlzLl9tYXAuc2V0KG1peGluTmFtZSwge30pO1xuICAgICAgbWl4aW5FbnRyeSA9IHRoaXMuX21hcC5nZXQobWl4aW5OYW1lKTtcbiAgICB9XG4gICAgaWYgKG1peGluRW50cnkpIHtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICBtaXhpbkVudHJ5LmRlcGVuZGFudHNbdGhpcy5fY3VycmVudEVsZW1lbnRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGxldCBwLCBwYXJ0cywgZjtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBtaXhpbkVudHJ5LnByb3BlcnRpZXM7XG4gICAgICBmb3IgKHAgaW4gcHJvcGVydGllcykge1xuICAgICAgICBmID0gZmFsbGJhY2tzICYmIGZhbGxiYWNrc1twXTtcbiAgICAgICAgcGFydHMgPSBbcCwgJzogdmFyKCcsIG1peGluTmFtZSwgTUlYSU5fVkFSX1NFUCwgcF07XG4gICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgcGFydHMucHVzaCgnLCcsIGYucmVwbGFjZShJTVBPUlRBTlQsICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaCgnKScpO1xuICAgICAgICBpZiAoSU1QT1JUQU5ULnRlc3QocHJvcGVydGllc1twXSkpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKCcgIWltcG9ydGFudCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhcnMucHVzaChwYXJ0cy5qb2luKCcnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YXJzLmpvaW4oJzsgJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcmVwbGFjZUluaXRpYWxPckluaGVyaXQocHJvcGVydHksIHZhbHVlKSB7XG4gICAgbGV0IG1hdGNoID0gSU5JVElBTF9JTkhFUklULmV4ZWModmFsdWUpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgIC8vIGluaXRpYWxcbiAgICAgICAgLy8gcmVwbGFjZSBgaW5pdGlhbGAgd2l0aCB0aGUgY29uY3JldGUgaW5pdGlhbCB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX2dldEluaXRpYWxWYWx1ZUZvclByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGluaGVyaXRcbiAgICAgICAgLy8gd2l0aCB0aGlzIHB1cnBvc2Z1bGx5IGlsbGVnYWwgdmFsdWUsIHRoZSB2YXJpYWJsZSB3aWxsIGJlIGludmFsaWQgYXRcbiAgICAgICAgLy8gY29tcHV0ZSB0aW1lIChodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXZhcmlhYmxlcy8jaW52YWxpZC1hdC1jb21wdXRlZC12YWx1ZS10aW1lKVxuICAgICAgICAvLyBhbmQgZm9yIGluaGVyaXRpbmcgdmFsdWVzLCB3aWxsIGJlaGF2ZSBzaW1pbGFybHlcbiAgICAgICAgLy8gd2UgY2Fubm90IHN1cHBvcnQgdGhlIHNhbWUgYmVoYXZpb3IgZm9yIG5vbiBpbmhlcml0aW5nIHZhbHVlcyBsaWtlICdib3JkZXInXG4gICAgICAgIHZhbHVlID0gJ2FwcGx5LXNoaW0taW5oZXJpdCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcInBhcnNlXCIgYSBtaXhpbiBkZWZpbml0aW9uIGludG8gYSBtYXAgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzXG4gICAqIGNzc1RleHRUb01hcCgnYm9yZGVyOiAycHggc29saWQgYmxhY2snKSAtPiAoJ2JvcmRlcicsICcycHggc29saWQgYmxhY2snKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlSW5pdGlhbE9ySW5oZXJpdFxuICAgKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAgICovXG4gIF9jc3NUZXh0VG9NYXAodGV4dCwgcmVwbGFjZUluaXRpYWxPckluaGVyaXQgPSBmYWxzZSkge1xuICAgIGxldCBwcm9wcyA9IHRleHQuc3BsaXQoJzsnKTtcbiAgICBsZXQgcHJvcGVydHksIHZhbHVlO1xuICAgIGxldCBvdXQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMCwgcCwgc3A7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKHApIHtcbiAgICAgICAgc3AgPSBwLnNwbGl0KCc6Jyk7XG4gICAgICAgIC8vIGlnbm9yZSBsaW5lcyB0aGF0IGFyZW4ndCBkZWZpbml0aW9ucyBsaWtlIEBtZWRpYVxuICAgICAgICBpZiAoc3AubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByb3BlcnR5ID0gc3BbMF0udHJpbSgpO1xuICAgICAgICAgIC8vIHNvbWUgcHJvcGVydGllcyBtYXkgaGF2ZSAnOicgaW4gdGhlIHZhbHVlLCBsaWtlIGRhdGEgdXJsc1xuICAgICAgICAgIHZhbHVlID0gc3Auc2xpY2UoMSkuam9pbignOicpO1xuICAgICAgICAgIGlmIChyZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdChwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge01peGluTWFwRW50cnl9IG1peGluRW50cnlcbiAgICovXG4gIF9pbnZhbGlkYXRlTWl4aW5FbnRyeShtaXhpbkVudHJ5KSB7XG4gICAgaWYgKCFpbnZhbGlkQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgZWxlbWVudE5hbWUgaW4gbWl4aW5FbnRyeS5kZXBlbmRhbnRzKSB7XG4gICAgICBpZiAoZWxlbWVudE5hbWUgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIGludmFsaWRDYWxsYmFjayhlbGVtZW50TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXRjaFRleHRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlUHJvcGVydHlcbiAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZU1peGluXG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfcHJvZHVjZUNzc1Byb3BlcnRpZXMobWF0Y2hUZXh0LCBwcm9wZXJ0eU5hbWUsIHZhbHVlUHJvcGVydHksIHZhbHVlTWl4aW4sIHJ1bGUpIHtcbiAgICAvLyBoYW5kbGUgY2FzZSB3aGVyZSBwcm9wZXJ0eSB2YWx1ZSBpcyBhIG1peGluXG4gICAgaWYgKHZhbHVlUHJvcGVydHkpIHtcbiAgICAgIC8vIGZvcm06IC0tbWl4aW4yOiB2YXIoLS1taXhpbjEpLCB3aGVyZSAtLW1peGluMSBpcyBpbiB0aGUgbWFwXG4gICAgICBwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayh2YWx1ZVByb3BlcnR5LCAocHJlZml4LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgdGhpcy5fbWFwLmdldCh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZU1peGluID0gYEBhcHBseSAke3ZhbHVlfTtgXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXZhbHVlTWl4aW4pIHtcbiAgICAgIHJldHVybiBtYXRjaFRleHQ7XG4gICAgfVxuICAgIGxldCBtaXhpbkFzUHJvcGVydGllcyA9IHRoaXMuX2NvbnN1bWVDc3NQcm9wZXJ0aWVzKCcnICsgdmFsdWVNaXhpbiwgcnVsZSk7XG4gICAgbGV0IHByZWZpeCA9IG1hdGNoVGV4dC5zbGljZSgwLCBtYXRjaFRleHQuaW5kZXhPZignLS0nKSk7XG4gICAgLy8gYGluaXRpYWxgIGFuZCBgaW5oZXJpdGAgYXMgcHJvcGVydGllcyBpbiBhIG1hcCBzaG91bGQgYmUgcmVwbGFjZWQgYmVjYXVzZVxuICAgIC8vIHRoZXNlIGtleXdvcmRzIGFyZSBlYWdlcmx5IGV2YWx1YXRlZCB3aGVuIHRoZSBtaXhpbiBiZWNvbWVzIENTUyBDdXN0b20gUHJvcGVydGllcyxcbiAgICAvLyBhbmQgd291bGQgc2V0IHRoZSB2YXJpYWJsZSB2YWx1ZSwgcmF0aGVyIHRoYW4gY2FycnkgdGhlIGtleXdvcmQgdG8gdGhlIGB2YXIoKWAgdXNhZ2UuXG4gICAgbGV0IG1peGluVmFsdWVzID0gdGhpcy5fY3NzVGV4dFRvTWFwKG1peGluQXNQcm9wZXJ0aWVzLCB0cnVlKTtcbiAgICBsZXQgY29tYmluZWRQcm9wcyA9IG1peGluVmFsdWVzO1xuICAgIGxldCBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChwcm9wZXJ0eU5hbWUpO1xuICAgIGxldCBvbGRQcm9wcyA9IG1peGluRW50cnkgJiYgbWl4aW5FbnRyeS5wcm9wZXJ0aWVzO1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgLy8gTk9URTogc2luY2Ugd2UgdXNlIG1peGluLCB0aGUgbWFwIG9mIHByb3BlcnRpZXMgaXMgdXBkYXRlZCBoZXJlXG4gICAgICAvLyBhbmQgdGhpcyBpcyB3aGF0IHdlIHdhbnQuXG4gICAgICBjb21iaW5lZFByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG9sZFByb3BzKSwgbWl4aW5WYWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXAuc2V0KHByb3BlcnR5TmFtZSwgY29tYmluZWRQcm9wcyk7XG4gICAgfVxuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgcCwgdjtcbiAgICAvLyBzZXQgdmFyaWFibGVzIGRlZmluZWQgYnkgY3VycmVudCBtaXhpblxuICAgIGxldCBuZWVkVG9JbnZhbGlkYXRlID0gZmFsc2U7XG4gICAgZm9yIChwIGluIGNvbWJpbmVkUHJvcHMpIHtcbiAgICAgIHYgPSBtaXhpblZhbHVlc1twXTtcbiAgICAgIC8vIGlmIHByb3BlcnR5IG5vdCBkZWZpbmVkIGJ5IGN1cnJlbnQgbWl4aW4sIHNldCBpbml0aWFsXG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHYgPSAnaW5pdGlhbCc7XG4gICAgICB9XG4gICAgICBpZiAob2xkUHJvcHMgJiYgIShwIGluIG9sZFByb3BzKSkge1xuICAgICAgICBuZWVkVG9JbnZhbGlkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIG91dC5wdXNoKGAke3Byb3BlcnR5TmFtZX0ke01JWElOX1ZBUl9TRVB9JHtwfTogJHt2fWApO1xuICAgIH1cbiAgICBpZiAobmVlZFRvSW52YWxpZGF0ZSkge1xuICAgICAgdGhpcy5faW52YWxpZGF0ZU1peGluRW50cnkobWl4aW5FbnRyeSk7XG4gICAgfVxuICAgIGlmIChtaXhpbkVudHJ5KSB7XG4gICAgICBtaXhpbkVudHJ5LnByb3BlcnRpZXMgPSBjb21iaW5lZFByb3BzO1xuICAgIH1cbiAgICAvLyBiZWNhdXNlIHRoZSBtaXhpbk1hcCBpcyBnbG9iYWwsIHRoZSBtaXhpbiBtaWdodCBjb25mbGljdCB3aXRoXG4gICAgLy8gYSBkaWZmZXJlbnQgc2NvcGUncyBzaW1wbGUgdmFyaWFibGUgZGVmaW5pdGlvbjpcbiAgICAvLyBFeGFtcGxlOlxuICAgIC8vIHNvbWUgc3R5bGUgc29tZXdoZXJlOlxuICAgIC8vIC0tbWl4aW4xOnsgLi4uIH1cbiAgICAvLyAtLW1peGluMjogdmFyKC0tbWl4aW4xKTtcbiAgICAvLyBzb21lIG90aGVyIGVsZW1lbnQ6XG4gICAgLy8gLS1taXhpbjE6IDEwcHggc29saWQgcmVkO1xuICAgIC8vIC0tZm9vOiB2YXIoLS1taXhpbjEpO1xuICAgIC8vIEluIHRoaXMgY2FzZSwgd2UgbGVhdmUgdGhlIG9yaWdpbmFsIHZhcmlhYmxlIGRlZmluaXRpb24gaW4gcGxhY2UuXG4gICAgaWYgKHZhbHVlUHJvcGVydHkpIHtcbiAgICAgIHByZWZpeCA9IGAke21hdGNoVGV4dH07JHtwcmVmaXh9YDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3ByZWZpeH0ke291dC5qb2luKCc7ICcpfTtgO1xuICB9XG59XG5cbi8qIGV4cG9ydHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduICovXG5BcHBseVNoaW0ucHJvdG90eXBlWydkZXRlY3RNaXhpbiddID0gQXBwbHlTaGltLnByb3RvdHlwZS5kZXRlY3RNaXhpbjtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVN0eWxlJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVN0eWxlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtQ3VzdG9tU3R5bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtQ3VzdG9tU3R5bGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWyd0cmFuc2Zvcm1SdWxlcyddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1SdWxlcztcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVJ1bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtUnVsZTtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVRlbXBsYXRlJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVRlbXBsYXRlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsnX3NlcGFyYXRvciddID0gTUlYSU5fVkFSX1NFUDtcbi8qIGVzbGludC1lbmFibGUgbm8tc2VsZi1hc3NpZ24gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBseVNoaW0ucHJvdG90eXBlLCAnaW52YWxpZENhbGxiYWNrJywge1xuICAvKiogQHJldHVybiB7P2Z1bmN0aW9uKHN0cmluZyl9ICovXG4gIGdldCgpIHtcbiAgICByZXR1cm4gaW52YWxpZENhbGxiYWNrO1xuICB9LFxuICAvKiogQHBhcmFtIHs/ZnVuY3Rpb24oc3RyaW5nKX0gY2IgKi9cbiAgc2V0KGNiKSB7XG4gICAgaW52YWxpZENhbGxiYWNrID0gY2I7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBcHBseVNoaW07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUhUTUxUZW1wbGF0ZUVsZW1lbnQ+fVxuICovXG5jb25zdCB0ZW1wbGF0ZU1hcCA9IHt9O1xuZXhwb3J0IGRlZmF1bHQgdGVtcGxhdGVNYXA7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgdGVtcGxhdGVNYXAgZnJvbSAnLi90ZW1wbGF0ZS1tYXAuanMnO1xuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKlxuICogVXRpbGl0aWVzIGZvciBoYW5kbGluZyBpbnZhbGlkYXRpbmcgYXBwbHktc2hpbSBtaXhpbnMgZm9yIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gKlxuICogVGhlIGludmFsaWRhdGlvbiBzdHJhdGVneSBpbnZvbHZlcyBrZWVwaW5nIHRyYWNrIG9mIHRoZSBcImN1cnJlbnRcIiB2ZXJzaW9uIG9mIGEgdGVtcGxhdGUncyBtaXhpbnMsIGFuZCB1cGRhdGluZyB0aGF0IGNvdW50IHdoZW4gYSBtaXhpbiBpcyBpbnZhbGlkYXRlZC5cbiAqIFRoZSB0ZW1wbGF0ZVxuICovXG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IENVUlJFTlRfVkVSU0lPTiA9ICdfYXBwbHlTaGltQ3VycmVudFZlcnNpb24nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBORVhUX1ZFUlNJT04gPSAnX2FwcGx5U2hpbU5leHRWZXJzaW9uJztcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgVkFMSURBVElOR19WRVJTSU9OID0gJ19hcHBseVNoaW1WYWxpZGF0aW5nVmVyc2lvbic7XG5cbi8qKlxuICogQGNvbnN0IHtQcm9taXNlPHZvaWQ+fVxuICovXG5jb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlKGVsZW1lbnROYW1lKXtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIG1hcmsgYSB0ZW1wbGF0ZSBpbnZhbGlkXG4gKiBhbmQgc2lnbmFsIHRoYXQgdGhlIHN0eWxlIGluc2lkZSBtdXN0IGJlIHJlZ2VuZXJhdGVkLlxuICpcbiAqIFVzZSBgc3RhcnRWYWxpZGF0aW5nVGVtcGxhdGVgIHRvIGJlZ2luIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIGN5Y2xlLlxuICogRHVyaW5nIHRoYXQgY3ljbGUsIGNhbGwgYHRlbXBsYXRlSXNWYWxpZGF0aW5nYCB0byBzZWUgaWYgdGhlIHRlbXBsYXRlIG11c3RcbiAqIGJlIHJldmFsaWRhdGVkXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnZhbGlkYXRlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgLy8gZGVmYXVsdCB0aGUgY3VycmVudCB2ZXJzaW9uIHRvIDBcbiAgdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSA9IHRlbXBsYXRlW0NVUlJFTlRfVkVSU0lPTl0gfHwgMDtcbiAgLy8gZW5zdXJlIHRoZSBcInZhbGlkYXRpbmcgZm9yXCIgZmxhZyBleGlzdHNcbiAgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9IHRlbXBsYXRlW1ZBTElEQVRJTkdfVkVSU0lPTl0gfHwgMDtcbiAgLy8gaW5jcmVtZW50IHRoZSBuZXh0IHZlcnNpb25cbiAgdGVtcGxhdGVbTkVYVF9WRVJTSU9OXSA9ICh0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dIHx8IDApICsgMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkKGVsZW1lbnROYW1lKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgaWYgKHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkge1xuICByZXR1cm4gdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSA9PT0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkYXRpbmcoZWxlbWVudE5hbWUpIHtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVJc1ZhbGlkYXRpbmcodGVtcGxhdGUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHRlbXBsYXRlIGlzIGN1cnJlbnRseSBpbnZhbGlkIGFuZCBgc3RhcnRWYWxpZGF0aW5nYCBoYXMgYmVlbiBjYWxsZWQgc2luY2UgdGhlIGxhc3QgaW52YWxpZGF0aW9uLlxuICogSWYgZmFsc2UsIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlIHZhbGlkYXRlZC5cbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUlzVmFsaWRhdGluZyh0ZW1wbGF0ZSkge1xuICByZXR1cm4gIXRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkgJiYgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9PT0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbn1cblxuLyoqXG4gKiB0aGUgdGVtcGxhdGUgaXMgbWFya2VkIGFzIGB2YWxpZGF0aW5nYCBmb3Igb25lIG1pY3JvdGFzayBzbyB0aGF0IGFsbCBpbnN0YW5jZXNcbiAqIGZvdW5kIGluIHRoZSB0cmVlIGNyYXdsIG9mIGBhcHBseVN0eWxlYCB3aWxsIHVwZGF0ZSB0aGVtc2VsdmVzLFxuICogYnV0IHRoZSB0ZW1wbGF0ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZyhlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKTtcbn1cblxuLyoqXG4gKiBCZWdpbiBhbiBhc3luY2hyb25vdXMgaW52YWxpZGF0aW9uIGN5Y2xlLlxuICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIGV2ZXJ5IHZhbGlkYXRpb24gb2YgYSB0ZW1wbGF0ZVxuICpcbiAqIEFmdGVyIG9uZSBtaWNyb3Rhc2ssIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIG1hcmtlZCBhcyB2YWxpZCB1bnRpbCB0aGUgbmV4dCBjYWxsIHRvIGBpbnZhbGlkYXRlVGVtcGxhdGVgXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAvLyByZW1lbWJlciB0aGF0IHRoZSBjdXJyZW50IFwibmV4dCB2ZXJzaW9uXCIgaXMgdGhlIHJlYXNvbiBmb3IgdGhpcyB2YWxpZGF0aW9uIGN5Y2xlXG4gIHRlbXBsYXRlW1ZBTElEQVRJTkdfVkVSU0lPTl0gPSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xuICAvLyBob3dldmVyLCB0aGVyZSBvbmx5IG5lZWRzIHRvIGJlIG9uZSBhc3luYyB0YXNrIHRvIGNsZWFyIHRoZSBjb3VudGVyc1xuICBpZiAoIXRlbXBsYXRlLl92YWxpZGF0aW5nKSB7XG4gICAgdGVtcGxhdGUuX3ZhbGlkYXRpbmcgPSB0cnVlO1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIC8vIHN5bmMgdGhlIGN1cnJlbnQgdmVyc2lvbiB0byBsZXQgZnV0dXJlIGludmFsaWRhdGlvbnMgY2F1c2UgYSByZWZyZXNoIGN5Y2xlXG4gICAgICB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID0gdGVtcGxhdGVbTkVYVF9WRVJTSU9OXTtcbiAgICAgIHRlbXBsYXRlLl92YWxpZGF0aW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudHNBcmVJbnZhbGlkKCkge1xuICBmb3IgKGxldCBlbGVtZW50TmFtZSBpbiB0ZW1wbGF0ZU1hcCkge1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgICBpZiAoIXRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBcHBseVNoaW0gZnJvbSAnLi4vc3JjL2FwcGx5LXNoaW0uanMnO1xuaW1wb3J0IHRlbXBsYXRlTWFwIGZyb20gJy4uL3NyYy90ZW1wbGF0ZS1tYXAuanMnO1xuaW1wb3J0IHtnZXRJc0V4dGVuZHMsIHRvQ3NzVGV4dCwgZWxlbWVudEhhc0J1aWx0Q3NzfSBmcm9tICcuLi9zcmMvc3R5bGUtdXRpbC5qcyc7XG5pbXBvcnQgKiBhcyBBcHBseVNoaW1VdGlscyBmcm9tICcuLi9zcmMvYXBwbHktc2hpbS11dGlscy5qcyc7XG5pbXBvcnQge2dldENvbXB1dGVkU3R5bGVWYWx1ZSwgdXBkYXRlTmF0aXZlUHJvcGVydGllc30gZnJvbSAnLi4vc3JjL2NvbW1vbi11dGlscy5qcyc7XG5pbXBvcnQge0N1c3RvbVN0eWxlSW50ZXJmYWNlSW50ZXJmYWNlfSBmcm9tICcuLi9zcmMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7bmF0aXZlQ3NzVmFyaWFibGVzLCBuYXRpdmVTaGFkb3csIGNzc0J1aWxkLCBkaXNhYmxlUnVudGltZX0gZnJvbSAnLi4vc3JjL3N0eWxlLXNldHRpbmdzLmpzJztcblxuLyoqIEBjb25zdCB7QXBwbHlTaGltfSAqL1xuY29uc3QgYXBwbHlTaGltID0gbmV3IEFwcGx5U2hpbSgpO1xuXG5jbGFzcyBBcHBseVNoaW1JbnRlcmZhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUgez9DdXN0b21TdHlsZUludGVyZmFjZUludGVyZmFjZX0gKi9cbiAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlID0gbnVsbDtcbiAgICBhcHBseVNoaW1bJ2ludmFsaWRDYWxsYmFjayddID0gQXBwbHlTaGltVXRpbHMuaW52YWxpZGF0ZTtcbiAgfVxuICBlbnN1cmUoKSB7XG4gICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSkge1xuICAgICAgdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZSA9XG4gICAgICAgICAgLyoqIEB0eXBlIHshQ3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2V9ICovIChcbiAgICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlKTtcbiAgICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ3RyYW5zZm9ybUNhbGxiYWNrJ10gPSAoc3R5bGUpID0+IHtcbiAgICAgICAgYXBwbHlTaGltLnRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKTtcbiAgICAgIH07XG4gICAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWyd2YWxpZGF0ZUNhbGxiYWNrJ10gPSAoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAqL1xuICBwcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAoZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV0gPSB0ZW1wbGF0ZTtcbiAgICBsZXQgYXN0ID0gYXBwbHlTaGltLnRyYW5zZm9ybVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgLy8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBhc3QgdG8gdXNlIGZvciByZXZhbGlkYXRpbmcgaW5zdGFuY2VzXG4gICAgdGVtcGxhdGVbJ19zdHlsZUFzdCddID0gYXN0O1xuICB9XG4gIGZsdXNoQ3VzdG9tU3R5bGVzKCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgaWYgKCF0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzdHlsZXMgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydwcm9jZXNzU3R5bGVzJ10oKTtcbiAgICBpZiAoIXRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBsZXQgY3MgPSBzdHlsZXNbaV07XG4gICAgICBsZXQgc3R5bGUgPSB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlWydnZXRTdHlsZUZvckN1c3RvbVN0eWxlJ10oY3MpO1xuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIGFwcGx5U2hpbS50cmFuc2Zvcm1DdXN0b21TdHlsZShzdHlsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2VucXVldWVkJ10gPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQuc2hhZG93Um9vdCkge1xuICAgICAgdGhpcy5zdHlsZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICBsZXQgc2hhZG93Q2hpbGRyZW4gPVxuICAgICAgICAgIC8qKiBAdHlwZSB7IVBhcmVudE5vZGV9ICovIChlbGVtZW50LnNoYWRvd1Jvb3QpLmNoaWxkcmVuIHx8XG4gICAgICAgICAgZWxlbWVudC5zaGFkb3dSb290LmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYWRvd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKHNoYWRvd0NoaWxkcmVuW2ldKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW4gfHwgZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnN0eWxlU3VidHJlZSgvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyhjaGlsZHJlbltpXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKi9cbiAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIGxldCB7aXN9ID0gZ2V0SXNFeHRlbmRzKGVsZW1lbnQpO1xuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2lzXTtcbiAgICBpZiAodGVtcGxhdGUgJiYgZWxlbWVudEhhc0J1aWx0Q3NzKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGUgJiYgIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZCh0ZW1wbGF0ZSkpIHtcbiAgICAgIC8vIG9ubHkgcmV2YWxpZGF0ZSB0ZW1wbGF0ZSBvbmNlXG4gICAgICBpZiAoIUFwcGx5U2hpbVV0aWxzLnRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSkge1xuICAgICAgICB0aGlzLnByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgaXMpO1xuICAgICAgICBBcHBseVNoaW1VdGlscy5zdGFydFZhbGlkYXRpbmdUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICAvLyB1cGRhdGUgdGhpcyBlbGVtZW50IGluc3RhbmNlXG4gICAgICBsZXQgcm9vdCA9IGVsZW1lbnQuc2hhZG93Um9vdDtcbiAgICAgIGlmIChyb290KSB7XG4gICAgICAgIGxldCBzdHlsZSA9IC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi8ocm9vdC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpKTtcbiAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgLy8gcmV1c2UgdGhlIHRlbXBsYXRlJ3Mgc3R5bGUgYXN0LCBpdCBoYXMgYWxsIHRoZSBvcmlnaW5hbCBjc3MgdGV4dFxuICAgICAgICAgIHN0eWxlWydfX2Nzc1J1bGVzJ10gPSB0ZW1wbGF0ZVsnX3N0eWxlQXN0J107XG4gICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0b0Nzc1RleHQodGVtcGxhdGVbJ19zdHlsZUFzdCddKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICovXG4gIHN0eWxlRG9jdW1lbnQocHJvcGVydGllcykge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgdGhpcy5zdHlsZVN1YnRyZWUoZG9jdW1lbnQuYm9keSwgcHJvcGVydGllcyk7XG4gIH1cbn1cblxuaWYgKCF3aW5kb3cuU2hhZHlDU1MgfHwgIXdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSkge1xuICBjb25zdCBhcHBseVNoaW1JbnRlcmZhY2UgPSBuZXcgQXBwbHlTaGltSW50ZXJmYWNlKCk7XG4gIGxldCBDdXN0b21TdHlsZUludGVyZmFjZSA9IHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2U7XG5cbiAgLyoqIEBzdXBwcmVzcyB7ZHVwbGljYXRlfSAqL1xuICB3aW5kb3cuU2hhZHlDU1MgPSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLmZsdXNoQ3VzdG9tU3R5bGVzKCk7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBlbGVtZW50RXh0ZW5kc1xuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUsIGVsZW1lbnRFeHRlbmRzKSB7XG4gICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZURvbSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZVN1YnRyZWUoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICovXG4gICAgc3R5bGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLnN0eWxlRWxlbWVudChlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVEb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5zdHlsZURvY3VtZW50KHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKGVsZW1lbnQsIHByb3BlcnR5KTtcbiAgICB9LFxuXG4gICAgZmx1c2hDdXN0b21TdHlsZXMoKSB7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICB9LFxuXG4gICAgbmF0aXZlQ3NzOiBuYXRpdmVDc3NWYXJpYWJsZXMsXG4gICAgbmF0aXZlU2hhZG93OiBuYXRpdmVTaGFkb3csXG4gICAgY3NzQnVpbGQ6IGNzc0J1aWxkLFxuICAgIGRpc2FibGVSdW50aW1lOiBkaXNhYmxlUnVudGltZSxcbiAgfTtcblxuICBpZiAoQ3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBDdXN0b21TdHlsZUludGVyZmFjZTtcbiAgfVxufVxuXG53aW5kb3cuU2hhZHlDU1MuQXBwbHlTaGltID0gYXBwbHlTaGltO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgUHJvcGVydHlBY2Nlc3NvcnMgfSBmcm9tICcuL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5cbmNvbnN0IEhPU1RfRElSID0gLzpob3N0XFwoOmRpclxcKChsdHJ8cnRsKVxcKVxcKS9nO1xuY29uc3QgSE9TVF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDFcIl0pJztcblxuY29uc3QgRUxfRElSID0gLyhbXFxzXFx3LSNcXC5cXFtcXF1cXCpdKik6ZGlyXFwoKGx0cnxydGwpXFwpL2c7XG5jb25zdCBFTF9ESVJfUkVQTEFDTUVOVCA9ICc6aG9zdChbZGlyPVwiJDJcIl0pICQxJztcblxuY29uc3QgRElSX0NIRUNLID0gLzpkaXJcXCgoPzpsdHJ8cnRsKVxcKS87XG5cbmNvbnN0IFNISU1fU0hBRE9XID0gQm9vbGVhbih3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKTtcblxuLyoqXG4gKiBAdHlwZSB7IUFycmF5PCFQb2x5bWVyX0Rpck1peGluPn1cbiAqL1xuY29uc3QgRElSX0lOU1RBTkNFUyA9IFtdO1xuXG4vKiogQHR5cGUgez9NdXRhdGlvbk9ic2VydmVyfSAqL1xubGV0IG9ic2VydmVyID0gbnVsbDtcblxubGV0IGRvY3VtZW50RGlyID0gJyc7XG5cbmZ1bmN0aW9uIGdldFJUTCgpIHtcbiAgZG9jdW1lbnREaXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVyX0Rpck1peGlufSBpbnN0YW5jZSBJbnN0YW5jZSB0byBzZXQgUlRMIHN0YXR1cyBvblxuICovXG5mdW5jdGlvbiBzZXRSVEwoaW5zdGFuY2UpIHtcbiAgaWYgKCFpbnN0YW5jZS5fX2F1dG9EaXJPcHRPdXQpIHtcbiAgICBjb25zdCBlbCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhpbnN0YW5jZSk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdkaXInLCBkb2N1bWVudERpcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aW9uKCkge1xuICBnZXRSVEwoKTtcbiAgZG9jdW1lbnREaXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkaXInKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBESVJfSU5TVEFOQ0VTLmxlbmd0aDsgaSsrKSB7XG4gICAgc2V0UlRMKERJUl9JTlNUQU5DRVNbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRha2VSZWNvcmRzKCkge1xuICBpZiAob2JzZXJ2ZXIgJiYgb2JzZXJ2ZXIudGFrZVJlY29yZHMoKS5sZW5ndGgpIHtcbiAgICB1cGRhdGVEaXJlY3Rpb24oKTtcbiAgfVxufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBhbGxvd3MgZWxlbWVudHMgdG8gdXNlIHRoZSBgOmRpcmAgQ1NTIFNlbGVjdG9yIHRvXG4gKiBoYXZlIHRleHQgZGlyZWN0aW9uIHNwZWNpZmljIHN0eWxpbmcuXG4gKlxuICogV2l0aCB0aGlzIG1peGluLCBhbnkgc3R5bGVzaGVldCBwcm92aWRlZCBpbiB0aGUgdGVtcGxhdGUgd2lsbCB0cmFuc2Zvcm1cbiAqIGA6ZGlyYCBpbnRvIGA6aG9zdChbZGlyXSlgIGFuZCBzeW5jIGRpcmVjdGlvbiB3aXRoIHRoZSBwYWdlIHZpYSB0aGVcbiAqIGVsZW1lbnQncyBgZGlyYCBhdHRyaWJ1dGUuXG4gKlxuICogRWxlbWVudHMgY2FuIG9wdCBvdXQgb2YgdGhlIGdsb2JhbCBwYWdlIHRleHQgZGlyZWN0aW9uIGJ5IHNldHRpbmcgdGhlIGBkaXJgXG4gKiBhdHRyaWJ1dGUgZGlyZWN0bHkgaW4gYHJlYWR5KClgIG9yIGluIEhUTUwuXG4gKlxuICogQ2F2ZWF0czpcbiAqIC0gQXBwbGljYXRpb25zIG11c3Qgc2V0IGA8aHRtbCBkaXI9XCJsdHJcIj5gIG9yIGA8aHRtbCBkaXI9XCJydGxcIj5gIHRvIHN5bmNcbiAqICAgZGlyZWN0aW9uXG4gKiAtIEF1dG9tYXRpYyBsZWZ0LXRvLXJpZ2h0IG9yIHJpZ2h0LXRvLWxlZnQgc3R5bGluZyBpcyBzeW5jJ2Qgd2l0aCB0aGVcbiAqICAgYDxodG1sPmAgZWxlbWVudCBvbmx5LlxuICogLSBDaGFuZ2luZyBgZGlyYCBhdCBydW50aW1lIGlzIHN1cHBvcnRlZC5cbiAqIC0gT3B0aW5nIG91dCBvZiB0aGUgZ2xvYmFsIGRpcmVjdGlvbiBzdHlsaW5nIGlzIHBlcm1hbmVudFxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUFjY2Vzc29yc1xuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAqL1xuZXhwb3J0IGNvbnN0IERpck1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuXG4gIGlmICghU0hJTV9TSEFET1cpIHtcbiAgICBpZiAoIW9ic2VydmVyKSB7XG4gICAgICBnZXRSVEwoKTtcbiAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodXBkYXRlRGlyZWN0aW9uKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7YXR0cmlidXRlczogdHJ1ZSwgYXR0cmlidXRlRmlsdGVyOiBbJ2RpciddfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUFjY2Vzc29yc31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IGVsZW1lbnRCYXNlID0gUHJvcGVydHlBY2Nlc3NvcnMoYmFzZSk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0Rpck1peGlufVxuICAgKi9cbiAgY2xhc3MgRGlyIGV4dGVuZHMgZWxlbWVudEJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHQgLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJJIC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IC5cbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvY2Vzc1N0eWxlVGV4dChjc3NUZXh0LCBiYXNlVVJJKSB7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIGNzc1RleHQgPSBlbGVtZW50QmFzZS5fcHJvY2Vzc1N0eWxlVGV4dC5jYWxsKHRoaXMsIGNzc1RleHQsIGJhc2VVUkkpO1xuICAgICAgaWYgKCFTSElNX1NIQURPVyAmJiBESVJfQ0hFQ0sudGVzdChjc3NUZXh0KSkge1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5fcmVwbGFjZURpckluQ3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgdGhpcy5fX2FjdGl2YXRlRGlyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjc3NUZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgYDpkaXJgIGluIHRoZSBnaXZlbiBDU1MgdGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgQ1NTIHRleHQgdG8gcmVwbGFjZSBESVJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1vZGlmaWVkIENTU1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9yZXBsYWNlRGlySW5Dc3NUZXh0KHRleHQpIHtcbiAgICAgIGxldCByZXBsYWNlZFRleHQgPSB0ZXh0O1xuICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UoSE9TVF9ESVIsIEhPU1RfRElSX1JFUExBQ01FTlQpO1xuICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UoRUxfRElSLCBFTF9ESVJfUkVQTEFDTUVOVCk7XG4gICAgICByZXR1cm4gcmVwbGFjZWRUZXh0O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19hdXRvRGlyT3B0T3V0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IENsb3N1cmUgZG9lc24ndCB1bmRlcnN0YW5kIHRoYXQgYHRoaXNgIGlzIGFuXG4gICAgICogICAgIEhUTUxFbGVtZW50XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgICB0aGlzLl9fYXV0b0Rpck9wdE91dCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKS5oYXNBdHRyaWJ1dGUoJ2RpcicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IElmIGl0IGV4aXN0cyBvbiBlbGVtZW50QmFzZSwgaXQgY2FuIGJlXG4gICAgICogICBzdXBlcidkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmIChlbGVtZW50QmFzZS5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2spIHtcbiAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLl9fYWN0aXZhdGVEaXIpIHtcbiAgICAgICAgdGFrZVJlY29yZHMoKTtcbiAgICAgICAgRElSX0lOU1RBTkNFUy5wdXNoKHRoaXMpO1xuICAgICAgICBzZXRSVEwodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSWYgaXQgZXhpc3RzIG9uIGVsZW1lbnRCYXNlLCBpdCBjYW4gYmVcbiAgICAgKiAgIHN1cGVyJ2RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKGVsZW1lbnRCYXNlLnByb3RvdHlwZS5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuX19hY3RpdmF0ZURpcikge1xuICAgICAgICBjb25zdCBpZHggPSBESVJfSU5TVEFOQ0VTLmluZGV4T2YodGhpcyk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgIERJUl9JTlNUQU5DRVMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBEaXIuX19hY3RpdmF0ZURpciA9IGZhbHNlO1xuXG4gIHJldHVybiBEaXI7XG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKCd1bnJlc29sdmVkJyk7XG59XG5cbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgcmVzb2x2ZSgpO1xufSBlbHNlIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCByZXNvbHZlKTtcbn1cblxuZXhwb3J0IHt9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcbmltcG9ydCB7ZW5xdWV1ZURlYm91bmNlciwgZmx1c2hEZWJvdW5jZXJzfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5leHBvcnQge2VucXVldWVEZWJvdW5jZXJ9O1xuXG4vKipcbiAqIEZvcmNlcyBzZXZlcmFsIGNsYXNzZXMgb2YgYXN5bmNocm9ub3VzbHkgcXVldWVkIHRhc2tzIHRvIGZsdXNoOlxuICogLSBEZWJvdW5jZXJzIGFkZGVkIHZpYSBgZW5xdWV1ZURlYm91bmNlcmBcbiAqIC0gU2hhZHlET00gZGlzdHJpYnV0aW9uXG4gKlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IGZsdXNoID0gZnVuY3Rpb24oKSB7XG4gIGxldCBzaGFkeURPTSwgZGVib3VuY2VycztcbiAgZG8ge1xuICAgIHNoYWR5RE9NID0gd2luZG93LlNoYWR5RE9NICYmIFNoYWR5RE9NLmZsdXNoKCk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0pIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5mbHVzaCgpO1xuICAgIH1cbiAgICBkZWJvdW5jZXJzID0gZmx1c2hEZWJvdW5jZXJzKCk7XG4gIH0gd2hpbGUgKHNoYWR5RE9NIHx8IGRlYm91bmNlcnMpO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0ICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyBGbGF0dGVuZWROb2Rlc09ic2VydmVyIH0gZnJvbSAnLi4vdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzJztcbmV4cG9ydCB7IGZsdXNoLCBlbnF1ZXVlRGVib3VuY2VyIGFzIGFkZERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2ZsdXNoLmpzJztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7ICAvLyB1c2VkIGluIHR5cGUgYW5ub3RhdGlvbnNcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuY29uc3QgcCA9IEVsZW1lbnQucHJvdG90eXBlO1xuLyoqXG4gKiBAY29uc3Qge2Z1bmN0aW9uKHRoaXM6Tm9kZSwgc3RyaW5nKTogYm9vbGVhbn1cbiAqL1xuY29uc3Qgbm9ybWFsaXplZE1hdGNoZXNTZWxlY3RvciA9IHAubWF0Y2hlcyB8fCBwLm1hdGNoZXNTZWxlY3RvciB8fFxuICBwLm1vek1hdGNoZXNTZWxlY3RvciB8fCBwLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gIHAub01hdGNoZXNTZWxlY3RvciB8fCBwLndlYmtpdE1hdGNoZXNTZWxlY3RvcjtcblxuLyoqXG4gKiBDcm9zcy1wbGF0Zm9ybSBgZWxlbWVudC5tYXRjaGVzYCBzaGltLlxuICpcbiAqIEBmdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3JcbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byBjaGVjayBzZWxlY3RvciBhZ2FpbnN0XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gbWF0Y2hcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbm9kZSBtYXRjaGVkIHNlbGVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbihub2RlLCBzZWxlY3Rvcikge1xuICByZXR1cm4gbm9ybWFsaXplZE1hdGNoZXNTZWxlY3Rvci5jYWxsKG5vZGUsIHNlbGVjdG9yKTtcbn07XG5cbi8qKlxuICogTm9kZSBBUEkgd3JhcHBlciBjbGFzcyByZXR1cm5lZCBmcm9tIGBQb2x5bWVyLmRvbS4odGFyZ2V0KWAgd2hlblxuICogYHRhcmdldGAgaXMgYSBgTm9kZWAuXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lckRvbUFwaX1cbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuY2xhc3MgRG9tQXBpTmF0aXZlIHtcblxuICAvKipcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIGZvciB3aGljaCB0byBjcmVhdGUgYSBQb2x5bWVyLmRvbSBoZWxwZXIgb2JqZWN0LlxuICAgKi9cbiAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgIGlmICh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddKSB7XG4gICAgICB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3BhdGNoJ10obm9kZSk7XG4gICAgfVxuICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcmAgdGhhdFxuICAgKiBsaXN0ZW5zIGZvciBub2RlIGNoYW5nZXMgb24gdGhpcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6SFRNTEVsZW1lbnQsIHsgdGFyZ2V0OiAhSFRNTEVsZW1lbnQsIGFkZGVkTm9kZXM6ICFBcnJheTwhRWxlbWVudD4sIHJlbW92ZWROb2RlczogIUFycmF5PCFFbGVtZW50PiB9KTp2b2lkfSBjYWxsYmFjayBDYWxsZWQgd2hlbiBkaXJlY3Qgb3IgZGlzdHJpYnV0ZWQgY2hpbGRyZW5cbiAgICogICBvZiB0aGlzIGVsZW1lbnQgY2hhbmdlc1xuICAgKiBAcmV0dXJuIHshUG9seW1lckRvbUFwaS5PYnNlcnZlSGFuZGxlfSBPYnNlcnZlciBpbnN0YW5jZVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG9ic2VydmVOb2RlcyhjYWxsYmFjaykge1xuICAgIHJldHVybiBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcihcbiAgICAgICAgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMubm9kZSksIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyBhbiBvYnNlcnZlciBwcmV2aW91c2x5IGNyZWF0ZWQgdmlhIGBvYnNlcnZlTm9kZXNgXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJEb21BcGkuT2JzZXJ2ZUhhbmRsZX0gb2JzZXJ2ZXJIYW5kbGUgT2JzZXJ2ZXIgaW5zdGFuY2VcbiAgICogICB0byBkaXNjb25uZWN0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVub2JzZXJ2ZU5vZGVzKG9ic2VydmVySGFuZGxlKSB7XG4gICAgb2JzZXJ2ZXJIYW5kbGUuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVkIGFzIGEgYmFja3dhcmRzLWNvbXBhdGlibGUgQVBJIG9ubHkuICBUaGlzIG1ldGhvZCBkb2VzIG5vdGhpbmcuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBub3RpZnlPYnNlcnZlcigpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgbm9kZSBpcyBjb250YWluZWQgd2l0aCB0aGlzIGVsZW1lbnQnc1xuICAgKiBsaWdodC1ET00gY2hpbGRyZW4gb3Igc2hhZG93IHJvb3QsIGluY2x1ZGluZyBhbnkgbmVzdGVkIHNoYWRvdyByb290c1xuICAgKiBvZiBjaGlsZHJlbiB0aGVyZWluLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byB0ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYG5vZGVgIGlzIGNvbnRhaW5lZCB3aXRoaW5cbiAgICogICB0aGlzIGVsZW1lbnQncyBsaWdodCBvciBzaGFkb3cgRE9NLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlZXBDb250YWlucyhub2RlKSB7XG4gICAgaWYgKHdyYXAodGhpcy5ub2RlKS5jb250YWlucyhub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBuID0gbm9kZTtcbiAgICBsZXQgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIC8vIHdhbGsgZnJvbSBub2RlIHRvIGB0aGlzYCBvciBgZG9jdW1lbnRgXG4gICAgd2hpbGUgKG4gJiYgbiAhPT0gZG9jICYmIG4gIT09IHRoaXMubm9kZSkge1xuICAgICAgLy8gdXNlIGxvZ2ljYWwgcGFyZW50bm9kZSwgb3IgbmF0aXZlIFNoYWRvd1Jvb3QgaG9zdFxuICAgICAgbiA9IHdyYXAobikucGFyZW50Tm9kZSB8fCB3cmFwKG4pLmhvc3Q7XG4gICAgfVxuICAgIHJldHVybiBuID09PSB0aGlzLm5vZGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoaXMgbm9kZS4gIEVxdWl2YWxlbnQgdG8gYGdldFJvb3ROb2RlKClgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfSBUb3AgbW9zdCBlbGVtZW50IGluIHRoZSBkb20gdHJlZSBpbiB3aGljaCB0aGUgbm9kZVxuICAgKiBleGlzdHMuIElmIHRoZSBub2RlIGlzIGNvbm5lY3RlZCB0byBhIGRvY3VtZW50IHRoaXMgaXMgZWl0aGVyIGFcbiAgICogc2hhZG93Um9vdCBvciB0aGUgZG9jdW1lbnQ7IG90aGVyd2lzZSwgaXQgbWF5IGJlIHRoZSBub2RlXG4gICAqIGl0c2VsZiBvciBhIG5vZGUgb3IgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyBpdC5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPd25lclJvb3QoKSB7XG4gICAgcmV0dXJuIHdyYXAodGhpcy5ub2RlKS5nZXRSb290Tm9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzbG90IGVsZW1lbnRzLCByZXR1cm5zIHRoZSBub2RlcyBhc3NpZ25lZCB0byB0aGUgc2xvdDsgb3RoZXJ3aXNlXG4gICAqIGFuIGVtcHR5IGFycmF5LiBJdCBpcyBlcXVpdmFsZW50IHRvIGA8c2xvdD4uYWRkaWduZWROb2Rlcyh7ZmxhdHRlbjp0cnVlfSlgLlxuICAgKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBBcnJheSBvZiBhc3NpZ25lZCBub2Rlc1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERpc3RyaWJ1dGVkTm9kZXMoKSB7XG4gICAgcmV0dXJuICh0aGlzLm5vZGUubG9jYWxOYW1lID09PSAnc2xvdCcpID9cbiAgICAgIHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlfSkgOlxuICAgICAgW107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgc2xvdHMgdGhpcyBlbGVtZW50IHdhcyBkaXN0cmlidXRlZCB0by5cbiAgICpcbiAgICogQHJldHVybiB7IUFycmF5PCFIVE1MU2xvdEVsZW1lbnQ+fSBEZXNjcmlwdGlvblxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzKCkge1xuICAgIGxldCBpcCQgPSBbXTtcbiAgICBsZXQgbiA9IHdyYXAodGhpcy5ub2RlKS5hc3NpZ25lZFNsb3Q7XG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlwJC5wdXNoKG4pO1xuICAgICAgbiA9IHdyYXAobikuYXNzaWduZWRTbG90O1xuICAgIH1cbiAgICByZXR1cm4gaXAkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYG93bmVyRG9jdW1lbnRgIGZvciB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byBpbXBvcnRcbiAgICogQHBhcmFtIHtib29sZWFufSBkZWVwIFRydWUgaWYgdGhlIG5vZGUgc2hvdWxkIGJlIGNsb25lZCBkZWVwbHkgZHVyaW5nXG4gICAqICAgaW1wb3J0XG4gICAqIEByZXR1cm4ge05vZGV9IENsb25lIG9mIGdpdmVuIG5vZGUgaW1wb3J0ZWQgdG8gdGhpcyBvd25lciBkb2N1bWVudFxuICAgKi9cbiAgaW1wb3J0Tm9kZShub2RlLCBkZWVwKSB7XG4gICAgbGV0IGRvYyA9IHRoaXMubm9kZSBpbnN0YW5jZW9mIERvY3VtZW50ID8gdGhpcy5ub2RlIDpcbiAgICAgIHRoaXMubm9kZS5vd25lckRvY3VtZW50O1xuICAgIHJldHVybiB3cmFwKGRvYykuaW1wb3J0Tm9kZShub2RlLCBkZWVwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBSZXR1cm5zIGEgZmxhdHRlbmVkIGxpc3Qgb2YgYWxsIGNoaWxkIG5vZGVzIGFuZFxuICAgKiBub2RlcyBhc3NpZ25lZCB0byBjaGlsZCBzbG90cy5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCkge1xuICAgIHJldHVybiBGbGF0dGVuZWROb2Rlc09ic2VydmVyLmdldEZsYXR0ZW5lZE5vZGVzKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8gKHRoaXMubm9kZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBmaWx0ZXJlZCBsaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50cyBmb3IgdGhpcyBlbGVtZW50IGJhc2VkXG4gICAqIG9uIHRoZSBnaXZlbiBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIGZpbHRlciBub2RlcyBhZ2FpbnN0XG4gICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fSBMaXN0IG9mIGZsYXR0ZW5lZCBjaGlsZCBlbGVtZW50c1xuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgIGxldCBjJCA9IHRoaXMuZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpO1xuICAgIGxldCBsaXN0ID0gW107XG4gICAgZm9yIChsZXQgaT0wLCBsPWMkLmxlbmd0aCwgYzsgKGk8bCkgJiYgKGM9YyRbaV0pOyBpKyspIHtcbiAgICAgIGlmICgoYy5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpICYmXG4gICAgICAgICAgbWF0Y2hlc1NlbGVjdG9yKGMsIHNlbGVjdG9yKSkge1xuICAgICAgICBsaXN0LnB1c2goYyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZvciBzaGFkb3cgcm9vdHMsIHJldHVybnMgdGhlIGN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnQgd2l0aGluIHRoaXNcbiAgICogc2hhZG93IHJvb3QuXG4gICAqXG4gICAqIHJldHVybiB7Tm9kZXx1bmRlZmluZWR9IEN1cnJlbnRseSBmb2N1c2VkIGVsZW1lbnRcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQgYWN0aXZlRWxlbWVudCgpIHtcbiAgICBsZXQgbm9kZSA9IHRoaXMubm9kZTtcbiAgICByZXR1cm4gbm9kZS5fYWN0aXZlRWxlbWVudCAhPT0gdW5kZWZpbmVkID8gbm9kZS5fYWN0aXZlRWxlbWVudCA6IG5vZGUuYWN0aXZlRWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkTWV0aG9kcyhwcm90bywgbWV0aG9kcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1ldGhvZCA9IG1ldGhvZHNbaV07XG4gICAgLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbiAgICBwcm90b1ttZXRob2RdID0gLyoqIEB0aGlzIHtEb21BcGlOYXRpdmV9ICovIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZVttZXRob2RdLmFwcGx5KHRoaXMubm9kZSwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKHByb3RvLCBwcm9wZXJ0aWVzKSB7XG4gIGZvciAobGV0IGk9MDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXNbaV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge0RvbUFwaU5hdGl2ZX0gKi8odGhpcyk7XG4gICAgICAgIHJldHVybiBkb21BcGkubm9kZVtuYW1lXTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3J3YXJkUHJvcGVydGllcyhwcm90bywgcHJvcGVydGllcykge1xuICBmb3IgKGxldCBpPTA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5hbWUgPSBwcm9wZXJ0aWVzW2ldO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwge1xuICAgICAgLyoqXG4gICAgICAgKiBAdGhpcyB7RG9tQXBpTmF0aXZlfVxuICAgICAgICogQHJldHVybiB7Kn0gLlxuICAgICAgICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlW25hbWVdO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQHRoaXMge0RvbUFwaU5hdGl2ZX1cbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgLlxuICAgICAgICovXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubm9kZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5cblxuLyoqXG4gKiBFdmVudCBBUEkgd3JhcHBlciBjbGFzcyByZXR1cm5lZCBmcm9tIGBkb20uKHRhcmdldClgIHdoZW5cbiAqIGB0YXJnZXRgIGlzIGFuIGBFdmVudGAuXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudEFwaSB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50KSB7XG4gICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZpcnN0IG5vZGUgb24gdGhlIGBjb21wb3NlZFBhdGhgIG9mIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIEByZXR1cm4geyFFdmVudFRhcmdldH0gVGhlIG5vZGUgdGhpcyBldmVudCB3YXMgZGlzcGF0Y2hlZCB0b1xuICAgKi9cbiAgZ2V0IHJvb3RUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF0aFswXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsb2NhbCAocmUtdGFyZ2V0ZWQpIHRhcmdldCBmb3IgdGhpcyBldmVudC5cbiAgICpcbiAgICogQHJldHVybiB7IUV2ZW50VGFyZ2V0fSBUaGUgbG9jYWwgKHJlLXRhcmdldGVkKSB0YXJnZXQgZm9yIHRoaXMgZXZlbnQuXG4gICAqL1xuICBnZXQgbG9jYWxUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnQudGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGBjb21wb3NlZFBhdGhgIGZvciB0aGlzIGV2ZW50LlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUV2ZW50VGFyZ2V0Pn0gVGhlIG5vZGVzIHRoaXMgZXZlbnQgcHJvcGFnYXRlZCB0aHJvdWdoXG4gICAqL1xuICBnZXQgcGF0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gZGVlcFxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2xvbmVOb2RlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmFwcGVuZENoaWxkO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcGFyYW0ge05vZGV9IHJlZkNoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gb2xkQ2hpbGRcbiAqIEBwYXJhbSB7IU5vZGV9IG5ld0NoaWxkXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5yZXBsYWNlQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7P0VsZW1lbnR9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcjtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4geyFOb2RlTGlzdDwhRWxlbWVudD59XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbDtcblxuLyoqIEB0eXBlIHs/Tm9kZX0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucGFyZW50Tm9kZTtcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmZpcnN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0Q2hpbGQ7XG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5uZXh0U2libGluZztcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnByZXZpb3VzU2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5maXJzdEVsZW1lbnRDaGlsZDtcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5sYXN0RWxlbWVudENoaWxkO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLm5leHRFbGVtZW50U2libGluZztcbi8qKiBAdHlwZSB7P0hUTUxFbGVtZW50fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuLyoqIEB0eXBlIHshQXJyYXk8IU5vZGU+fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5jaGlsZE5vZGVzO1xuLyoqIEB0eXBlIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2hpbGRyZW47XG4vKiogQHR5cGUgez9ET01Ub2tlbkxpc3R9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmNsYXNzTGlzdDtcblxuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnRleHRDb250ZW50O1xuLyoqIEB0eXBlIHtzdHJpbmd9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmlubmVySFRNTDtcblxubGV0IERvbUFwaUltcGwgPSBEb21BcGlOYXRpdmU7XG5cbmlmICh3aW5kb3dbJ1NoYWR5RE9NJ10gJiYgd2luZG93WydTaGFkeURPTSddWydpblVzZSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnbm9QYXRjaCddICYmIHdpbmRvd1snU2hhZHlET00nXVsnV3JhcHBlciddKSB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAgICovXG4gIGNsYXNzIFdyYXBwZXIgZXh0ZW5kcyB3aW5kb3dbJ1NoYWR5RE9NJ11bJ1dyYXBwZXInXSB7fVxuXG4gIC8vIGNvcHkgYmVzcG9rZSBBUEkgb250byB3cmFwcGVyXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKERvbUFwaU5hdGl2ZS5wcm90b3R5cGUpLmZvckVhY2goKHByb3ApID0+IHtcbiAgICBpZiAocHJvcCAhPSAnYWN0aXZlRWxlbWVudCcpIHtcbiAgICAgIFdyYXBwZXIucHJvdG90eXBlW3Byb3BdID0gRG9tQXBpTmF0aXZlLnByb3RvdHlwZVtwcm9wXTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIE5vdGUsIGBjbGFzc0xpc3RgIGlzIGhlcmUgb25seSBmb3IgbGVnYWN5IGNvbXBhdGliaWxpdHkgc2luY2UgaXQgZG9lcyBub3RcbiAgLy8gdHJpZ2dlciBkaXN0cmlidXRpb24gaW4gdjEgU2hhZG93IERPTS5cbiAgZm9yd2FyZFJlYWRPbmx5UHJvcGVydGllcyhXcmFwcGVyLnByb3RvdHlwZSwgW1xuICAgICdjbGFzc0xpc3QnXG4gIF0pO1xuXG4gIERvbUFwaUltcGwgPSBXcmFwcGVyO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEV2ZW50QXBpLnByb3RvdHlwZSwge1xuXG4gICAgLy8gUmV0dXJucyB0aGUgXCJsb3dlc3RcIiBub2RlIGluIHRoZSBzYW1lIHJvb3QgYXMgdGhlIGV2ZW50J3MgY3VycmVudFRhcmdldC5cbiAgICAvLyBXaGVuIGluIGBub1BhdGNoYCBtb2RlLCB0aGlzIG11c3QgYmUgY2FsY3VsYXRlZCBieSB3YWxraW5nIHRoZSBldmVudCdzXG4gICAgLy8gcGF0aC5cbiAgICBsb2NhbFRhcmdldDoge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5ldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBjb25zdCBjdXJyZW50Um9vdCA9IGN1cnJlbnQgJiYgZG9tKGN1cnJlbnQpLmdldE93bmVyUm9vdCgpO1xuICAgICAgICBjb25zdCBwJCA9IHRoaXMucGF0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwJC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGUgPSBwJFtpXTtcbiAgICAgICAgICBpZiAoZG9tKGUpLmdldE93bmVyUm9vdCgpID09PSBjdXJyZW50Um9vdCkge1xuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIHBhdGg6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd1snU2hhZHlET00nXVsnY29tcG9zZWRQYXRoJ10odGhpcy5ldmVudCk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxufSBlbHNlIHtcblxuICAvLyBNZXRob2RzIHRoYXQgY2FuIHByb3Zva2UgZGlzdHJpYnV0aW9uIG9yIG11c3QgcmV0dXJuIHRoZSBsb2dpY2FsLCBub3RcbiAgLy8gY29tcG9zZWQgdHJlZS5cbiAgZm9yd2FyZE1ldGhvZHMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICdjbG9uZU5vZGUnLCAnYXBwZW5kQ2hpbGQnLCAnaW5zZXJ0QmVmb3JlJywgJ3JlbW92ZUNoaWxkJyxcbiAgICAncmVwbGFjZUNoaWxkJywgJ3NldEF0dHJpYnV0ZScsICdyZW1vdmVBdHRyaWJ1dGUnLFxuICAgICdxdWVyeVNlbGVjdG9yJywgJ3F1ZXJ5U2VsZWN0b3JBbGwnXG4gIF0pO1xuXG4gIC8vIFByb3BlcnRpZXMgdGhhdCBzaG91bGQgcmV0dXJuIHRoZSBsb2dpY2FsLCBub3QgY29tcG9zZWQgdHJlZS4gTm90ZSwgYGNsYXNzTGlzdGBcbiAgLy8gaXMgaGVyZSBvbmx5IGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eSBzaW5jZSBpdCBkb2VzIG5vdCB0cmlnZ2VyIGRpc3RyaWJ1dGlvblxuICAvLyBpbiB2MSBTaGFkb3cgRE9NLlxuICBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKERvbUFwaU5hdGl2ZS5wcm90b3R5cGUsIFtcbiAgICAncGFyZW50Tm9kZScsICdmaXJzdENoaWxkJywgJ2xhc3RDaGlsZCcsXG4gICAgJ25leHRTaWJsaW5nJywgJ3ByZXZpb3VzU2libGluZycsICdmaXJzdEVsZW1lbnRDaGlsZCcsXG4gICAgJ2xhc3RFbGVtZW50Q2hpbGQnLCAnbmV4dEVsZW1lbnRTaWJsaW5nJywgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnLFxuICAgICdjaGlsZE5vZGVzJywgJ2NoaWxkcmVuJywgJ2NsYXNzTGlzdCdcbiAgXSk7XG5cbiAgZm9yd2FyZFByb3BlcnRpZXMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICd0ZXh0Q29udGVudCcsICdpbm5lckhUTUwnLCAnY2xhc3NOYW1lJ1xuICBdKTtcbn1cblxuZXhwb3J0IGNvbnN0IERvbUFwaSA9IERvbUFwaUltcGw7XG5cbi8qKlxuICogTGVnYWN5IERPTSBhbmQgRXZlbnQgbWFuaXB1bGF0aW9uIEFQSSB3cmFwcGVyIGZhY3RvcnkgdXNlZCB0byBhYnN0cmFjdFxuICogZGlmZmVyZW5jZXMgYmV0d2VlbiBuYXRpdmUgU2hhZG93IERPTSBhbmQgXCJTaGFkeSBET01cIiB3aGVuIHBvbHlmaWxsaW5nIG9uXG4gKiBvbGRlciBicm93c2Vycy5cbiAqXG4gKiBOb3RlIHRoYXQgaW4gUG9seW1lciAyLnggdXNlIG9mIGBQb2x5bWVyLmRvbWAgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIGFuZFxuICogaW4gdGhlIG1ham9yaXR5IG9mIGNhc2VzIHNpbXBseSBmYWNhZGVzIGRpcmVjdGx5IHRvIHRoZSBzdGFuZGFyZCBuYXRpdmVcbiAqIEFQSS5cbiAqXG4gKiBAc3VtbWFyeSBMZWdhY3kgRE9NIGFuZCBFdmVudCBtYW5pcHVsYXRpb24gQVBJIHdyYXBwZXIgZmFjdG9yeSB1c2VkIHRvXG4gKiBhYnN0cmFjdCBkaWZmZXJlbmNlcyBiZXR3ZWVuIG5hdGl2ZSBTaGFkb3cgRE9NIGFuZCBcIlNoYWR5IERPTS5cIlxuICogQHBhcmFtIHsoTm9kZXxFdmVudHxEb21BcGlOYXRpdmV8RXZlbnRBcGkpPX0gb2JqIE5vZGUgb3IgZXZlbnQgdG8gb3BlcmF0ZSBvblxuICogQHJldHVybiB7IURvbUFwaU5hdGl2ZXwhRXZlbnRBcGl9IFdyYXBwZXIgcHJvdmlkaW5nIGVpdGhlciBub2RlIEFQSSBvciBldmVudCBBUElcbiAqL1xuZXhwb3J0IGNvbnN0IGRvbSA9IGZ1bmN0aW9uKG9iaikge1xuICBvYmogPSBvYmogfHwgZG9jdW1lbnQ7XG4gIGlmIChvYmogaW5zdGFuY2VvZiBEb21BcGlJbXBsKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IURvbUFwaX0gKi8ob2JqKTtcbiAgfVxuICBpZiAob2JqIGluc3RhbmNlb2YgRXZlbnRBcGkpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshRXZlbnRBcGl9ICovKG9iaik7XG4gIH1cbiAgbGV0IGhlbHBlciA9IG9ialsnX19kb21BcGknXTtcbiAgaWYgKCFoZWxwZXIpIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgRXZlbnQpIHtcbiAgICAgIGhlbHBlciA9IG5ldyBFdmVudEFwaShvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWxwZXIgPSBuZXcgRG9tQXBpSW1wbCgvKiogQHR5cGUge05vZGV9ICovKG9iaikpO1xuICAgIH1cbiAgICBvYmpbJ19fZG9tQXBpJ10gPSBoZWxwZXI7XG4gIH1cbiAgcmV0dXJuIGhlbHBlcjtcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5pbXBvcnQge3dyYXB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbmNvbnN0IFNoYWR5RE9NID0gd2luZG93LlNoYWR5RE9NO1xuY29uc3QgU2hhZHlDU1MgPSB3aW5kb3cuU2hhZHlDU1M7XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgbm9kZSBzY29wZSBpcyBjb3JyZWN0LlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IG5vZGUgTm9kZSB0byBjaGVjayBzY29wZVxuICogQHBhcmFtIHshTm9kZX0gc2NvcGUgU2NvcGUgcmVmZXJlbmNlXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG5vZGUgaXMgaW4gc2NvcGVcbiAqL1xuZnVuY3Rpb24gc2FtZVNjb3BlKG5vZGUsIHNjb3BlKSB7XG4gIHJldHVybiB3cmFwKG5vZGUpLmdldFJvb3ROb2RlKCkgPT09IHNjb3BlO1xufVxuXG4vKipcbiAqIEVuc3VyZSB0aGF0IGVsZW1lbnRzIGluIGEgU2hhZG93RE9NIGNvbnRhaW5lciBhcmUgc2NvcGVkIGNvcnJlY3RseS5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgb25seSBuZWVkZWQgd2hlbiBTaGFkeURPTSBpcyB1c2VkIGFuZCB1bnBhdGNoZWQgRE9NIEFQSXMgYXJlIHVzZWQgaW4gdGhpcmQgcGFydHkgY29kZS5cbiAqIFRoaXMgY2FuIGhhcHBlbiBpbiBub1BhdGNoIG1vZGUgb3Igd2hlbiBzcGVjaWFsaXplZCBBUElzIGxpa2UgcmFuZ2VzIG9yIHRhYmxlcyBhcmUgdXNlZCB0byBtdXRhdGUgRE9NLlxuICpcbiAqIEBwYXJhbSAgeyFFbGVtZW50fSBjb250YWluZXIgQ29udGFpbmVyIGVsZW1lbnQgdG8gc2NvcGVcbiAqIEBwYXJhbSAge2Jvb2xlYW49fSBzaG91bGRPYnNlcnZlIGlmIHRydWUsIHN0YXJ0IGEgbXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGFkZGVkIG5vZGVzIHRvIHRoZSBjb250YWluZXJcbiAqIEByZXR1cm4gez9NdXRhdGlvbk9ic2VydmVyfSBSZXR1cm5zIGEgbmV3IE11dGF0aW9uT2JzZXJ2ZXIgb24gYGNvbnRhaW5lcmAgaWYgYHNob3VsZE9ic2VydmVgIGlzIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY29wZVN1YnRyZWUoY29udGFpbmVyLCBzaG91bGRPYnNlcnZlID0gZmFsc2UpIHtcbiAgLy8gSWYgdXNpbmcgbmF0aXZlIFNoYWRvd0RPTSwgYWJvcnRcbiAgaWYgKCFTaGFkeURPTSB8fCAhU2hhZHlDU1MpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBTaGFkeUNTUyBoYW5kbGVzIERPTSBtdXRhdGlvbnMgd2hlbiBTaGFkeURPTSBkb2VzIG5vdCBoYW5kbGUgc2NvcGluZyBpdHNlbGZcbiAgaWYgKCFTaGFkeURPTVsnaGFuZGxlc0R5bmFtaWNTY29waW5nJ10pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBTY29waW5nU2hpbSA9IFNoYWR5Q1NTWydTY29waW5nU2hpbSddO1xuICAvLyBpZiBTY29waW5nU2hpbSBpcyBub3QgYXZhaWxhYmxlLCBhYm9ydFxuICBpZiAoIVNjb3BpbmdTaGltKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gY2FwdHVyZSBjb3JyZWN0IHNjb3BlIGZvciBjb250YWluZXJcbiAgY29uc3QgY29udGFpbmVyU2NvcGUgPSBTY29waW5nU2hpbVsnc2NvcGVGb3JOb2RlJ10oY29udGFpbmVyKTtcbiAgY29uc3Qgcm9vdCA9IHdyYXAoY29udGFpbmVyKS5nZXRSb290Tm9kZSgpO1xuXG4gIGNvbnN0IHNjb3BpZnkgPSAobm9kZSkgPT4ge1xuICAgIGlmICghc2FtZVNjb3BlKG5vZGUsIHJvb3QpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE5PVEU6IG5hdGl2ZSBxU0EgZG9lcyBub3QgaG9ub3Igc2NvcGVkIERPTSwgYnV0IGl0IGlzIGZhc3RlciwgYW5kIHRoZSBzYW1lIGJlaGF2aW9yIGFzIFBvbHltZXIgdjFcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oU2hhZHlET01bJ25hdGl2ZU1ldGhvZHMnXVsncXVlcnlTZWxlY3RvckFsbCddLmNhbGwobm9kZSwgJyonKSk7XG4gICAgZWxlbWVudHMucHVzaChub2RlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKCFzYW1lU2NvcGUoZWwsIHJvb3QpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudFNjb3BlID0gU2NvcGluZ1NoaW1bJ2N1cnJlbnRTY29wZUZvck5vZGUnXShlbCk7XG4gICAgICBpZiAoY3VycmVudFNjb3BlICE9PSBjb250YWluZXJTY29wZSkge1xuICAgICAgICBpZiAoY3VycmVudFNjb3BlICE9PSAnJykge1xuICAgICAgICAgIFNjb3BpbmdTaGltWyd1bnNjb3BlTm9kZSddKGVsLCBjdXJyZW50U2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIFNjb3BpbmdTaGltWydzY29wZU5vZGUnXShlbCwgY29udGFpbmVyU2NvcGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBzY29wZSBldmVyeXRoaW5nIGluIGNvbnRhaW5lclxuICBzY29waWZ5KGNvbnRhaW5lcik7XG5cbiAgaWYgKHNob3VsZE9ic2VydmUpIHtcbiAgICBjb25zdCBtbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChteG5zKSA9PiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG14bnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbXhuID0gbXhuc1tpXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBteG4uYWRkZWROb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IGFkZGVkTm9kZSA9IG14bi5hZGRlZE5vZGVzW2pdO1xuICAgICAgICAgIGlmIChhZGRlZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICBzY29waWZ5KGFkZGVkTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbW8ub2JzZXJ2ZShjb250YWluZXIsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgICByZXR1cm4gbW87XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICdAd2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9hcHBseS1zaGltLmpzJztcbmltcG9ydCB7IEVsZW1lbnRNaXhpbiB9IGZyb20gJy4uL21peGlucy9lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCB7IEdlc3R1cmVFdmVudExpc3RlbmVycyB9IGZyb20gJy4uL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyc7XG5pbXBvcnQgeyBEaXJNaXhpbiB9IGZyb20gJy4uL21peGlucy9kaXItbWl4aW4uanMnO1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvcmVuZGVyLXN0YXR1cy5qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL3VucmVzb2x2ZWQuanMnO1xuaW1wb3J0IHsgZG9tLCBtYXRjaGVzU2VsZWN0b3IgfSBmcm9tICcuL3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7IHNldFRvdWNoQWN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvZ2VzdHVyZXMuanMnO1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgdGltZU91dCwgbWljcm9UYXNrIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vdXRpbHMvcGF0aC5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBzY29wZVN1YnRyZWUgfSBmcm9tICcuLi91dGlscy9zY29wZS1zdWJ0cmVlLmpzJztcblxubGV0IHN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBQb2x5bWVyJ3MgXCJsZWdhY3lcIiBBUEkgaW50ZW5kZWQgdG8gYmVcbiAqIGJhY2t3YXJkLWNvbXBhdGlibGUgdG8gdGhlIGdyZWF0ZXN0IGV4dGVudCBwb3NzaWJsZSB3aXRoIHRoZSBBUElcbiAqIGZvdW5kIG9uIHRoZSBQb2x5bWVyIDEueCBgUG9seW1lci5CYXNlYCBwcm90b3R5cGUgYXBwbGllZCB0byBhbGwgZWxlbWVudHNcbiAqIGRlZmluZWQgdXNpbmcgdGhlIGBQb2x5bWVyKHsuLi59KWAgZnVuY3Rpb24uXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIEVsZW1lbnRNaXhpblxuICogQGFwcGxpZXNNaXhpbiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBwcm9wZXJ0eSBpc0F0dGFjaGVkIHtib29sZWFufSBTZXQgdG8gYHRydWVgIGluIHRoaXMgZWxlbWVudCdzXG4gKiAgIGBjb25uZWN0ZWRDYWxsYmFja2AgYW5kIGBmYWxzZWAgaW4gYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIFBvbHltZXIncyBcImxlZ2FjeVwiIEFQSVxuICovXG5leHBvcnQgY29uc3QgTGVnYWN5RWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbigoYmFzZSkgPT4ge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfR2VzdHVyZUV2ZW50TGlzdGVuZXJzfVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9EaXJNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgbGVnYWN5RWxlbWVudEJhc2UgPSBEaXJNaXhpbihHZXN0dXJlRXZlbnRMaXN0ZW5lcnMoRWxlbWVudE1peGluKGJhc2UpKSk7XG5cbiAgLyoqXG4gICAqIE1hcCBvZiBzaW1wbGUgbmFtZXMgdG8gdG91Y2ggYWN0aW9uIG5hbWVzXG4gICAqIEBkaWN0XG4gICAqL1xuICBjb25zdCBESVJFQ1RJT05fTUFQID0ge1xuICAgICd4JzogJ3Bhbi14JyxcbiAgICAneSc6ICdwYW4teScsXG4gICAgJ25vbmUnOiAnbm9uZScsXG4gICAgJ2FsbCc6ICdhdXRvJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAZXh0ZW5kcyB7bGVnYWN5RWxlbWVudEJhc2V9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0xlZ2FjeUVsZW1lbnRNaXhpbn1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgTGVnYWN5RWxlbWVudCBleHRlbmRzIGxlZ2FjeUVsZW1lbnRCYXNlIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuaXNBdHRhY2hlZDtcbiAgICAgIC8qKiBAdHlwZSB7P1dlYWtNYXA8IUVsZW1lbnQsICFPYmplY3Q8c3RyaW5nLCAhRnVuY3Rpb24+Pn0gKi9cbiAgICAgIHRoaXMuX19ib3VuZExpc3RlbmVycztcbiAgICAgIC8qKiBAdHlwZSB7P09iamVjdDxzdHJpbmcsID9GdW5jdGlvbj59ICovXG4gICAgICB0aGlzLl9kZWJvdW5jZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcndhcmRzIGBpbXBvcnRNZXRhYCBmcm9tIHRoZSBwcm90b3R5cGUgKGkuZS4gZnJvbSB0aGUgaW5mbyBvYmplY3RcbiAgICAgKiBwYXNzZWQgdG8gYFBvbHltZXIoey4uLn0pYCkgdG8gdGhlIHN0YXRpYyBBUEkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHshT2JqZWN0fSBUaGUgYGltcG9ydC5tZXRhYCBvYmplY3Qgc2V0IG9uIHRoZSBwcm90b3R5cGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBgdGhpc2AgaXMgYWx3YXlzIGluIHRoZSBpbnN0YW5jZSBpblxuICAgICAqICBjbG9zdXJlIGZvciBzb21lIHJlYXNvbiBldmVuIGluIGEgc3RhdGljIG1ldGhvZCwgcmF0aGVyIHRoYW4gdGhlIGNsYXNzXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGltcG9ydE1ldGEoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm90b3R5cGUuaW1wb3J0TWV0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWdhY3kgY2FsbGJhY2sgY2FsbGVkIGR1cmluZyB0aGUgYGNvbnN0cnVjdG9yYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNyZWF0ZWQoKSB7fVxuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYGNvbm5lY3RlZENhbGxiYWNrYFxuICAgICAqIHdoaWNoIGFkZHMgUG9seW1lciBsZWdhY3kgQVBJJ3MgYGF0dGFjaGVkYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICB0aGlzLmlzQXR0YWNoZWQgPSB0cnVlO1xuICAgICAgdGhpcy5hdHRhY2hlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBjb25uZWN0ZWRDYWxsYmFja2AsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhdHRhY2hlZCgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgXG4gICAgICogd2hpY2ggYWRkcyBQb2x5bWVyIGxlZ2FjeSBBUEkncyBgZGV0YWNoZWRgIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuaXNBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kZXRhY2hlZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBkaXNjb25uZWN0ZWRDYWxsYmFja2AsIGZvciBvdmVycmlkaW5nXG4gICAgICogYnkgdGhlIHVzZXIuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkZXRhY2hlZCgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBvdmVycmlkZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYFxuICAgICAqIHdoaWNoIGFkZHMgdGhlIFBvbHltZXIgbGVnYWN5IEFQSSdzIGBhdHRyaWJ1dGVDaGFuZ2VkYCBtZXRob2QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIEN1cnJlbnQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlIEF0dHJpYnV0ZSBuYW1lc3BhY2UuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICBpZiAob2xkICE9PSB2YWx1ZSkge1xuICAgICAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkKG5hbWUsIG9sZCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIGBhdHRyaWJ1dGVDaGFuZ2VkQ2hhbGxiYWNrYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQ3VycmVudCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVDaGFuZ2VkKG5hbWUsIG9sZCwgdmFsdWUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIGltcGxlbWVudGF0aW9uIHRvXG4gICAgICogYWRkIHN1cHBvcnQgZm9yIGNsYXNzIGluaXRpYWxpemF0aW9uIHZpYSB0aGUgYF9yZWdpc3RlcmVkYCBjYWxsYmFjay5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBlbGVtZW50IGlzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIGxldCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKTtcbiAgICAgIGlmICghcHJvdG8uaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19oYXNSZWdpc3RlckZpbmlzaGVkJywgcHJvdG8pKSkge1xuICAgICAgICB0aGlzLl9yZWdpc3RlcmVkKCk7XG4gICAgICAgIC8vIGJhY2tzdG9wIGluIGNhc2UgdGhlIGBfcmVnaXN0ZXJlZGAgaW1wbGVtZW50YXRpb24gZG9lcyBub3Qgc2V0IHRoaXNcbiAgICAgICAgcHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHN1cGVyLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgICAgdGhpcy5yb290ID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8odGhpcyk7XG4gICAgICB0aGlzLmNyZWF0ZWQoKTtcbiAgICAgIC8vIEVuc3VyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQgaW1tZWRpYXRlbHkgc28gdGhhdCB0aGV5IGFyZVxuICAgICAgLy8gYWRkZWQgYmVmb3JlIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycy4gVGhpcyBhbGxvd3MgYW4gZWxlbWVudCB0b1xuICAgICAgLy8gZGVjb3JhdGUgaXRzZWxmIHZpYSBhbiBldmVudCBwcmlvciB0byBhbnkgZGVjbGFyYXRpdmUgbGlzdGVuZXJzXG4gICAgICAvLyBzZWVpbmcgdGhlIGV2ZW50LiBOb3RlLCB0aGlzIGVuc3VyZXMgY29tcGF0aWJpbGl0eSB3aXRoIDEueCBvcmRlcmluZy5cbiAgICAgIHRoaXMuX2FwcGx5TGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBhbiBlbGVtZW50IGlzIGluaXRpYWxpemluZy5cbiAgICAgKiBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBjbGFzcyByZWdpc3RyYXRpb24gdGltZVxuICAgICAqIHdvcmsuIFRoZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgZW5zdXJlIHRoZSB3b3JrIGlzIHBlcmZvcm1lZFxuICAgICAqIG9ubHkgb25jZSBmb3IgdGhlIGNsYXNzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZWdpc3RlcmVkKCkge31cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIGltcGxlbWVudGF0aW9uIHRvXG4gICAgICogYWRkIHN1cHBvcnQgZm9yIGluc3RhbGxpbmcgYGhvc3RBdHRyaWJ1dGVzYCBhbmQgYGxpc3RlbmVyc2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgdGhpcy5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIGFuIGVsZW1lbnQgaGFzIHJlcXVpcmVkIGF0dHJpYnV0ZXMuIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50XG4gICAgICogaXMgYmVpbmcgcmVhZGllZCB2aWEgYHJlYWR5YC4gVXNlcnMgc2hvdWxkIG92ZXJyaWRlIHRvIHNldCB0aGVcbiAgICAgKiBlbGVtZW50J3MgcmVxdWlyZWQgYXR0cmlidXRlcy4gVGhlIGltcGxlbWVudGF0aW9uIHNob3VsZCBiZSBzdXJlXG4gICAgICogdG8gY2hlY2sgYW5kIG5vdCBvdmVycmlkZSBleGlzdGluZyBhdHRyaWJ1dGVzIGFkZGVkIGJ5XG4gICAgICogdGhlIHVzZXIgb2YgdGhlIGVsZW1lbnQuIFR5cGljYWxseSwgc2V0dGluZyBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsZWZ0XG4gICAgICogdG8gdGhlIGVsZW1lbnQgdXNlciBhbmQgbm90IGRvbmUgaGVyZTsgcmVhc29uYWJsZSBleGNlcHRpb25zIGluY2x1ZGVcbiAgICAgKiBzZXR0aW5nIGFyaWEgcm9sZXMgYW5kIGZvY3VzYWJpbGl0eS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZW5zdXJlQXR0cmlidXRlcygpIHt9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGVsZW1lbnQgZXZlbnQgbGlzdGVuZXJzLiBDYWxsZWQgd2hlbiB0aGUgZWxlbWVudFxuICAgICAqIGlzIGJlaW5nIHJlYWRpZWQgdmlhIGByZWFkeWAuIFVzZXJzIHNob3VsZCBvdmVycmlkZSB0b1xuICAgICAqIGFkZCBhbnkgcmVxdWlyZWQgZWxlbWVudCBldmVudCBsaXN0ZW5lcnMuXG4gICAgICogSW4gcGVyZm9ybWFuY2UgY3JpdGljYWwgZWxlbWVudHMsIHRoZSB3b3JrIGRvbmUgaGVyZSBzaG91bGQgYmUga2VwdFxuICAgICAqIHRvIGEgbWluaW11bSBzaW5jZSBpdCBpcyBkb25lIGJlZm9yZSB0aGUgZWxlbWVudCBpcyByZW5kZXJlZC4gSW5cbiAgICAgKiB0aGVzZSBlbGVtZW50cywgY29uc2lkZXIgYWRkaW5nIGxpc3RlbmVycyBhc3luY2hyb25vdXNseSBzbyBhcyBub3QgdG9cbiAgICAgKiBibG9jayByZW5kZXIuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FwcGx5TGlzdGVuZXJzKCkge31cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZSB0byBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuIFRvIGN1c3RvbWl6ZVxuICAgICAqIGhvdyBwcm9wZXJ0aWVzIGFyZSBzZXJpYWxpemVkIHRvIGF0dHJpYnV0ZXMgZm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyBhbmRcbiAgICAgKiBgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlYCBwcm9wZXJ0aWVzIGFzIHdlbGwgYXMgdGhpcyBtZXRob2QsIG92ZXJyaWRlXG4gICAgICogdGhlIGBfc2VyaWFsaXplVmFsdWVgIG1ldGhvZCBwcm92aWRlZCBieSBgUG9seW1lci5Qcm9wZXJ0eUFjY2Vzc29yc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIGRlc2VyaWFsaXplXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBTZXJpYWxpemVkIHZhbHVlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2VyaWFsaXplVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgc3RyaW5nIHRvIGEgdHlwZWQgSmF2YVNjcmlwdCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuICBUbyBjdXN0b21pemVcbiAgICAgKiBob3cgYXR0cmlidXRlcyBhcmUgZGVzZXJpYWxpemVkIHRvIHByb3BlcnRpZXMgZm9yIGluXG4gICAgICogYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AsIG92ZXJyaWRlIGBfZGVzZXJpYWxpemVWYWx1ZWAgbWV0aG9kXG4gICAgICogcHJvdmlkZWQgYnkgYFBvbHltZXIuUHJvcGVydHlBY2Nlc3NvcnNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFN0cmluZyB0byBkZXNlcmlhbGl6ZVxuICAgICAqIEBwYXJhbSB7Kn0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG9cbiAgICAgKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSBkZXNlcmlhbGl6ZWQgdmFsdWUgaW4gdGhlIGB0eXBlYCBnaXZlbi5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkZXNlcmlhbGl6ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rlc2VyaWFsaXplVmFsdWUodmFsdWUsIHR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZXMgYSBwcm9wZXJ0eSB0byBpdHMgYXNzb2NpYXRlZCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byByZWZsZWN0LlxuICAgICAqIEBwYXJhbSB7Kj19IHZhbHVlIFByb3BlcnR5IHZhbHVlIHRvIHJlZmxlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICByZWZsZWN0UHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHR5cGVkIHZhbHVlIHRvIGFuIEhUTUwgYXR0cmlidXRlIG9uIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHNlcmlhbGl6ZSB0by5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgRWxlbWVudCB0byBzZXQgYXR0cmlidXRlIHRvLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2VyaWFsaXplVmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgYXR0cmlidXRlLCBub2RlKSB7XG4gICAgICB0aGlzLl92YWx1ZVRvTm9kZUF0dHJpYnV0ZSgvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlIHx8IHRoaXMpLCB2YWx1ZSwgYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHByb3BlcnRpZXMgKGluY2x1ZGluZyBhY2Nlc3NvciBkZXNjcmlwdG9ycykgZnJvbSBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhcGkgU291cmNlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHByb3RvdHlwZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGV4dGVuZChwcm90b3R5cGUsIGFwaSkge1xuICAgICAgaWYgKCEocHJvdG90eXBlICYmIGFwaSkpIHtcbiAgICAgICAgcmV0dXJuIHByb3RvdHlwZSB8fCBhcGk7XG4gICAgICB9XG4gICAgICBsZXQgbiQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcGkpO1xuICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxuJC5sZW5ndGgpICYmIChuPW4kW2ldKTsgaSsrKSB7XG4gICAgICAgIGxldCBwZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpLCBuKTtcbiAgICAgICAgaWYgKHBkKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbiwgcGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvdG90eXBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wcyBmcm9tIGEgc291cmNlIG9iamVjdCB0byBhIHRhcmdldCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIG1ldGhvZCB1c2VzIGEgc2ltcGxlIGBmb3IuLi5pbmAgc3RyYXRlZ3kgZm9yIGVudW1lcmF0aW5nXG4gICAgICogcHJvcGVydGllcy4gIFRvIGVuc3VyZSBvbmx5IGBvd25Qcm9wZXJ0aWVzYCBhcmUgY29waWVkIGZyb20gc291cmNlXG4gICAgICogdG8gdGFyZ2V0IGFuZCB0aGF0IGFjY2Vzc29yIGltcGxlbWVudGF0aW9ucyBhcmUgY29waWVkLCB1c2UgYGV4dGVuZGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFRhcmdldCBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIG1peGluKHRhcmdldCwgc291cmNlKSB7XG4gICAgICBmb3IgKGxldCBpIGluIHNvdXJjZSkge1xuICAgICAgICB0YXJnZXRbaV0gPSBzb3VyY2VbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByb3RvdHlwZSBvZiBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGJhY2t3YXJkLWNvbXBhdGlibGUgbGVnYWN5IEFQSVxuICAgICAqIG9ubHkuICBJdCBpcyBub3QgZGlyZWN0bHkgY2FsbGVkIGJ5IGFueSBQb2x5bWVyIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCBvbiB3aGljaCB0byBzZXQgdGhlIHByb3RvdHlwZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBwcm90b3R5cGUgdGhhdCB3aWxsIGJlIHNldCBvbiB0aGUgZ2l2ZW5cbiAgICAgKiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIGdpdmVuIGBvYmplY3RgIHdpdGggaXRzIHByb3RvdHlwZSBzZXRcbiAgICAgKiB0byB0aGUgZ2l2ZW4gYHByb3RvdHlwZWAgb2JqZWN0LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNoYWluT2JqZWN0KG9iamVjdCwgcHJvdG90eXBlKSB7XG4gICAgICBpZiAob2JqZWN0ICYmIHByb3RvdHlwZSAmJiBvYmplY3QgIT09IHByb3RvdHlwZSkge1xuICAgICAgICBvYmplY3QuX19wcm90b19fID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKiAqKioqIEJlZ2luIFRlbXBsYXRlICoqKiogKi9cblxuICAgIC8qKlxuICAgICAqIENhbGxzIGBpbXBvcnROb2RlYCBvbiB0aGUgYGNvbnRlbnRgIG9mIHRoZSBgdGVtcGxhdGVgIHNwZWNpZmllZCBhbmRcbiAgICAgKiByZXR1cm5zIGEgZG9jdW1lbnQgZnJhZ21lbnQgY29udGFpbmluZyB0aGUgaW1wb3J0ZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgSFRNTCB0ZW1wbGF0ZSBlbGVtZW50IHRvIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4geyFEb2N1bWVudEZyYWdtZW50fSBEb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIHRoZSBpbXBvcnRlZFxuICAgICAqICAgdGVtcGxhdGUgY29udGVudC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIGluc3RhbmNlVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5jb25zdHJ1Y3Rvci5fY29udGVudEZvclRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGxldCBkb20gPSAvKiogQHR5cGUgeyFEb2N1bWVudEZyYWdtZW50fSAqL1xuICAgICAgICAoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKSk7XG4gICAgICByZXR1cm4gZG9tO1xuICAgIH1cblxuICAgIC8qICoqKiogQmVnaW4gRXZlbnRzICoqKiogKi9cblxuXG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGEgY3VzdG9tIGV2ZW50IHdpdGggYW4gb3B0aW9uYWwgZGV0YWlsIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTmFtZSBvZiBldmVudCB0eXBlLlxuICAgICAqIEBwYXJhbSB7Kj19IGRldGFpbCBEZXRhaWwgdmFsdWUgY29udGFpbmluZyBldmVudC1zcGVjaWZpY1xuICAgICAqICAgcGF5bG9hZC5cbiAgICAgKiBAcGFyYW0ge3sgYnViYmxlczogKGJvb2xlYW58dW5kZWZpbmVkKSwgY2FuY2VsYWJsZTogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAgICAgKiAgICAgY29tcG9zZWQ6IChib29sZWFufHVuZGVmaW5lZCkgfT19XG4gICAgICogIG9wdGlvbnMgT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucy4gIFRoZXNlIG1heSBpbmNsdWRlOlxuICAgICAqICBgYnViYmxlc2AgKGJvb2xlYW4sIGRlZmF1bHRzIHRvIGB0cnVlYCksXG4gICAgICogIGBjYW5jZWxhYmxlYCAoYm9vbGVhbiwgZGVmYXVsdHMgdG8gZmFsc2UpLCBhbmRcbiAgICAgKiAgYG5vZGVgIG9uIHdoaWNoIHRvIGZpcmUgdGhlIGV2ZW50IChIVE1MRWxlbWVudCwgZGVmYXVsdHMgdG8gYHRoaXNgKS5cbiAgICAgKiBAcmV0dXJuIHshRXZlbnR9IFRoZSBuZXcgZXZlbnQgdGhhdCB3YXMgZmlyZWQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZmlyZSh0eXBlLCBkZXRhaWwsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgZGV0YWlsID0gKGRldGFpbCA9PT0gbnVsbCB8fCBkZXRhaWwgPT09IHVuZGVmaW5lZCkgPyB7fSA6IGRldGFpbDtcbiAgICAgIGxldCBldmVudCA9IG5ldyBFdmVudCh0eXBlLCB7XG4gICAgICAgIGJ1YmJsZXM6IG9wdGlvbnMuYnViYmxlcyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMuYnViYmxlcyxcbiAgICAgICAgY2FuY2VsYWJsZTogQm9vbGVhbihvcHRpb25zLmNhbmNlbGFibGUpLFxuICAgICAgICBjb21wb3NlZDogb3B0aW9ucy5jb21wb3NlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZTogb3B0aW9ucy5jb21wb3NlZFxuICAgICAgfSk7XG4gICAgICBldmVudC5kZXRhaWwgPSBkZXRhaWw7XG4gICAgICBsZXQgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCB0aGlzO1xuICAgICAgd3JhcChub2RlKS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gYWRkIGFuIGV2ZW50IGxpc3RlbmVyIG9uIGEgZ2l2ZW4gZWxlbWVudCxcbiAgICAgKiBsYXRlIGJvdW5kIHRvIGEgbmFtZWQgbWV0aG9kIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P0V2ZW50VGFyZ2V0fSBub2RlIEVsZW1lbnQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgaGFuZGxlciBtZXRob2Qgb24gYHRoaXNgIHRvIGNhbGwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBsaXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGhibCA9IHRoaXMuX19ib3VuZExpc3RlbmVycyB8fFxuICAgICAgICAodGhpcy5fX2JvdW5kTGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSk7XG4gICAgICBsZXQgYmwgPSBoYmwuZ2V0KG5vZGUpO1xuICAgICAgaWYgKCFibCkge1xuICAgICAgICBibCA9IHt9O1xuICAgICAgICBoYmwuc2V0KG5vZGUsIGJsKTtcbiAgICAgIH1cbiAgICAgIGxldCBrZXkgPSBldmVudE5hbWUgKyBtZXRob2ROYW1lO1xuICAgICAgaWYgKCFibFtrZXldKSB7XG4gICAgICAgIGJsW2tleV0gPSB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHshTm9kZX0gKi8gKG5vZGUpLCBldmVudE5hbWUsIG1ldGhvZE5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byByZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSBhIGdpdmVuIGVsZW1lbnQsXG4gICAgICogbGF0ZSBib3VuZCB0byBhIG5hbWVkIG1ldGhvZCBvbiB0aGlzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9FdmVudFRhcmdldH0gbm9kZSBFbGVtZW50IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudCB0byBzdG9wIGxpc3RlbmluZyB0by5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBOYW1lIG9mIGhhbmRsZXIgbWV0aG9kIG9uIGB0aGlzYCB0byBub3QgY2FsbFxuICAgICBhbnltb3JlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdW5saXN0ZW4obm9kZSwgZXZlbnROYW1lLCBtZXRob2ROYW1lKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbGV0IGJsID0gdGhpcy5fX2JvdW5kTGlzdGVuZXJzICYmXG4gICAgICAgICAgdGhpcy5fX2JvdW5kTGlzdGVuZXJzLmdldCgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAobm9kZSkpO1xuICAgICAgbGV0IGtleSA9IGV2ZW50TmFtZSArIG1ldGhvZE5hbWU7XG4gICAgICBsZXQgaGFuZGxlciA9IGJsICYmIGJsW2tleV07XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUoXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqLyAobm9kZSksIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIGJsW2tleV0gPSAvKiogQHR5cGUgez99ICovIChudWxsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBzY3JvbGxpbmcgYmVoYXZpb3IgdG8gYWxsIGRpcmVjdGlvbiwgb25lIGRpcmVjdGlvbiwgb3Igbm9uZS5cbiAgICAgKlxuICAgICAqIFZhbGlkIHNjcm9sbCBkaXJlY3Rpb25zOlxuICAgICAqICAgLSAnYWxsJzogc2Nyb2xsIGluIGFueSBkaXJlY3Rpb25cbiAgICAgKiAgIC0gJ3gnOiBzY3JvbGwgb25seSBpbiB0aGUgJ3gnIGRpcmVjdGlvblxuICAgICAqICAgLSAneSc6IHNjcm9sbCBvbmx5IGluIHRoZSAneScgZGlyZWN0aW9uXG4gICAgICogICAtICdub25lJzogZGlzYWJsZSBzY3JvbGxpbmcgZm9yIHRoaXMgbm9kZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBkaXJlY3Rpb24gRGlyZWN0aW9uIHRvIGFsbG93IHNjcm9sbGluZ1xuICAgICAqIERlZmF1bHRzIHRvIGBhbGxgLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgRWxlbWVudCB0byBhcHBseSBzY3JvbGwgZGlyZWN0aW9uIHNldHRpbmcuXG4gICAgICogRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2V0U2Nyb2xsRGlyZWN0aW9uKGRpcmVjdGlvbiwgbm9kZSkge1xuICAgICAgc2V0VG91Y2hBY3Rpb24oXG4gICAgICAgICAgLyoqIEB0eXBlIHshRWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyksXG4gICAgICAgICAgRElSRUNUSU9OX01BUFtkaXJlY3Rpb25dIHx8ICdhdXRvJyk7XG4gICAgfVxuICAgIC8qICoqKiogRW5kIEV2ZW50cyAqKioqICovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdG8gcnVuIGBxdWVyeVNlbGVjdG9yYCBvbiB0aGlzIGxvY2FsIERPTSBzY29wZS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FsbHMgYFBvbHltZXIuZG9tKHRoaXMucm9vdCkucXVlcnlTZWxlY3RvcihzbGN0cilgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNsY3RyIFNlbGVjdG9yIHRvIHJ1biBvbiB0aGlzIGxvY2FsIERPTSBzY29wZVxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IEVsZW1lbnQgZm91bmQgYnkgdGhlIHNlbGVjdG9yLCBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICAkJChzbGN0cikge1xuICAgICAgLy8gTm90ZSwgbm8gbmVlZCB0byBgd3JhcGAgdGhpcyBiZWNhdXNlIHJvb3QgaXMgYWx3YXlzIHBhdGNoZWRcbiAgICAgIHJldHVybiB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihzbGN0cik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbGVtZW50IHdob3NlIGxvY2FsIGRvbSB3aXRoaW4gd2hpY2ggdGhpcyBlbGVtZW50XG4gICAgICogaXMgY29udGFpbmVkLiBUaGlzIGlzIGEgc2hvcnRoYW5kIGZvclxuICAgICAqIGB0aGlzLmdldFJvb3ROb2RlKCkuaG9zdGAuXG4gICAgICogQHRoaXMge0VsZW1lbnR9XG4gICAgICogQHJldHVybiB7P05vZGV9IFRoZSBlbGVtZW50IHdob3NlIGxvY2FsIGRvbSB3aXRoaW4gd2hpY2ggdGhpcyBlbGVtZW50IGlzXG4gICAgICogY29udGFpbmVkLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldCBkb21Ib3N0KCkge1xuICAgICAgbGV0IHJvb3QgPSB3cmFwKHRoaXMpLmdldFJvb3ROb2RlKCk7XG4gICAgICByZXR1cm4gKHJvb3QgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSA/IC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QgOiByb290O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvcmNlIHRoaXMgZWxlbWVudCB0byBkaXN0cmlidXRlIGl0cyBjaGlsZHJlbiB0byBpdHMgbG9jYWwgZG9tLlxuICAgICAqIFRoaXMgc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgYXMgb2YgUG9seW1lciAyLjAuMiBhbmQgaXMgcHJvdmlkZWQgb25seVxuICAgICAqIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3RyaWJ1dGVDb250ZW50KCkge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovKGRvbSh0aGlzRWwpKTtcbiAgICAgIGlmICh3aW5kb3cuU2hhZHlET00gJiYgZG9tQXBpLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgU2hhZHlET00uZmx1c2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyB0aGF0IGFyZSB0aGUgZWZmZWN0aXZlIGNoaWxkTm9kZXMuIFRoZSBlZmZlY3RpdmVcbiAgICAgKiBjaGlsZE5vZGVzIGxpc3QgaXMgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQncyBjaGlsZE5vZGVzIGV4Y2VwdCB0aGF0XG4gICAgICogYW55IGA8Y29udGVudD5gIGVsZW1lbnRzIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBsaXN0IG9mIG5vZGVzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gdGhlIGA8Y29udGVudD5gLCB0aGUgcmVzdWx0IG9mIGl0cyBgZ2V0RGlzdHJpYnV0ZWROb2Rlc2AgbWV0aG9kLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkIG5vZGVzLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBMZWdhY3lFbGVtZW50TWl4aW4gbXVzdCBiZSBhcHBsaWVkIHRvIGFuXG4gICAgICogICAgIEhUTUxFbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpIHtcbiAgICAgIGNvbnN0IHRoaXNFbCA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKHRoaXMpO1xuICAgICAgY29uc3QgZG9tQXBpID0gLyoqIEB0eXBlIHtQb2x5bWVyRG9tQXBpfSAqLyAoZG9tKHRoaXNFbCkpO1xuICAgICAgcmV0dXJuIGRvbUFwaS5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWQgd2l0aGluIHRoaXMgZWxlbWVudCB0aGF0IG1hdGNoXG4gICAgICogYHNlbGVjdG9yYC4gVGhlc2UgY2FuIGJlIGRvbSBjaGlsZHJlbiBvciBlbGVtZW50cyBkaXN0cmlidXRlZCB0b1xuICAgICAqIGNoaWxkcmVuIHRoYXQgYXJlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHJ1bi5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBMaXN0IG9mIGRpc3RyaWJ1dGVkIGVsZW1lbnRzIHRoYXQgbWF0Y2ggc2VsZWN0b3IuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20odGhpc0VsKSk7XG4gICAgICByZXR1cm4gZG9tQXBpLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWxlbWVudHMgdGhhdCBhcmUgdGhlIGVmZmVjdGl2ZSBjaGlsZHJlbi4gVGhlIGVmZmVjdGl2ZVxuICAgICAqIGNoaWxkcmVuIGxpc3QgaXMgdGhlIHNhbWUgYXMgdGhlIGVsZW1lbnQncyBjaGlsZHJlbiBleGNlcHQgdGhhdFxuICAgICAqIGFueSBgPGNvbnRlbnQ+YCBlbGVtZW50cyBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgbGlzdCBvZiBlbGVtZW50c1xuICAgICAqIGRpc3RyaWJ1dGVkIHRvIHRoZSBgPGNvbnRlbnQ+YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkcmVuLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldEVmZmVjdGl2ZUNoaWxkcmVuKCkge1xuICAgICAgbGV0IGxpc3QgPSB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICAgIHJldHVybiBsaXN0LmZpbHRlcihmdW5jdGlvbigvKiogQHR5cGUgeyFOb2RlfSAqLyBuKSB7XG4gICAgICAgIHJldHVybiAobi5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiB0ZXh0IGNvbnRlbnQgdGhhdCBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcbiAgICAgKiB0ZXh0IGNvbnRlbnQncyBvZiB0aGUgZWxlbWVudCdzIGVmZmVjdGl2ZSBjaGlsZE5vZGVzICh0aGUgZWxlbWVudHNcbiAgICAgKiByZXR1cm5lZCBieSA8YSBocmVmPVwiI2dldEVmZmVjdGl2ZUNoaWxkTm9kZXM+Z2V0RWZmZWN0aXZlQ2hpbGROb2RlczwvYT4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkcmVuLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldEVmZmVjdGl2ZVRleHRDb250ZW50KCkge1xuICAgICAgbGV0IGNuID0gdGhpcy5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCk7XG4gICAgICBsZXQgdGMgPSBbXTtcbiAgICAgIGZvciAobGV0IGk9MCwgYzsgKGMgPSBjbltpXSk7IGkrKykge1xuICAgICAgICBpZiAoYy5ub2RlVHlwZSAhPT0gTm9kZS5DT01NRU5UX05PREUpIHtcbiAgICAgICAgICB0Yy5wdXNoKGMudGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGMuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZmlyc3QgZWZmZWN0aXZlIGNoaWxkTm9kZSB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXRcbiAgICAgKiBtYXRjaCBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkIG5vZGVzIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4ge05vZGV9IEZpcnN0IGVmZmVjdGl2ZSBjaGlsZCBub2RlIHRoYXQgbWF0Y2hlcyBzZWxlY3Rvci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBxdWVyeUVmZmVjdGl2ZUNoaWxkcmVuKHNlbGVjdG9yKSB7XG4gICAgICBsZXQgZSQgPSB0aGlzLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgICByZXR1cm4gZSQgJiYgZSRbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkTm9kZXMgd2l0aGluIHRoaXMgZWxlbWVudCB0aGF0XG4gICAgICogbWF0Y2ggYHNlbGVjdG9yYC4gVGhlc2UgY2FuIGJlIGRvbSBjaGlsZCBub2RlcyBvciBlbGVtZW50cyBkaXN0cmlidXRlZFxuICAgICAqIHRvIGNoaWxkcmVuIHRoYXQgYXJlIGluc2VydGlvbiBwb2ludHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHJ1bi5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IU5vZGU+fSBMaXN0IG9mIGVmZmVjdGl2ZSBjaGlsZCBub2RlcyB0aGF0IG1hdGNoXG4gICAgICogICAgIHNlbGVjdG9yLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5QWxsRWZmZWN0aXZlQ2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5RGlzdHJpYnV0ZWRFbGVtZW50cyhzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWQgdG8gdGhpcyBlbGVtZW50J3MgYDxzbG90PmAuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGVsZW1lbnQgY29udGFpbnMgbW9yZSB0aGFuIG9uZSBgPHNsb3Q+YCBpbiBpdHMgbG9jYWwgRE9NLFxuICAgICAqIGFuIG9wdGlvbmFsIHNlbGVjdG9yIG1heSBiZSBwYXNzZWQgdG8gY2hvb3NlIHRoZSBkZXNpcmVkIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHNsY3RyIENTUyBzZWxlY3RvciB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiAgIGA8c2xvdD5gLiAgRGVmYXVsdHMgdG8gYGNvbnRlbnRgLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZGlzdHJpYnV0ZWQgbm9kZXMgZm9yIHRoZSBgPHNsb3Q+YC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRDb250ZW50Q2hpbGROb2RlcyhzbGN0cikge1xuICAgICAgLy8gTm90ZSwgbm8gbmVlZCB0byBgd3JhcGAgdGhpcyBiZWNhdXNlIHJvb3QgaXMgYWx3YXlzXG4gICAgICBsZXQgY29udGVudCA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHNsY3RyIHx8ICdzbG90Jyk7XG4gICAgICByZXR1cm4gY29udGVudCA/XG4gICAgICAgICAgLyoqIEB0eXBlIHtQb2x5bWVyRG9tQXBpfSAqLyAoZG9tKGNvbnRlbnQpKS5nZXREaXN0cmlidXRlZE5vZGVzKCkgOlxuICAgICAgICAgIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGVsZW1lbnQgY2hpbGRyZW4gZGlzdHJpYnV0ZWQgdG8gdGhpcyBlbGVtZW50J3NcbiAgICAgKiBgPHNsb3Q+YC5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgZWxlbWVudCBjb250YWlucyBtb3JlIHRoYW4gb25lIGA8c2xvdD5gIGluIGl0c1xuICAgICAqIGxvY2FsIERPTSwgYW4gb3B0aW9uYWwgc2VsZWN0b3IgbWF5IGJlIHBhc3NlZCB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiBjb250ZW50LiAgVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBnZXRDb250ZW50Q2hpbGROb2Rlc2AgaW4gdGhhdCBvbmx5XG4gICAgICogZWxlbWVudHMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBzbGN0ciBDU1Mgc2VsZWN0b3IgdG8gY2hvb3NlIHRoZSBkZXNpcmVkXG4gICAgICogICBgPGNvbnRlbnQ+YC4gIERlZmF1bHRzIHRvIGBjb250ZW50YC5cbiAgICAgKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gTGlzdCBvZiBkaXN0cmlidXRlZCBub2RlcyBmb3IgdGhlXG4gICAgICogICBgPHNsb3Q+YC5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRDb250ZW50Q2hpbGRyZW4oc2xjdHIpIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7IUFycmF5PCFIVE1MRWxlbWVudD59ICovKHRoaXMuZ2V0Q29udGVudENoaWxkTm9kZXMoc2xjdHIpLmZpbHRlcihmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiAobi5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgaW4gdGhpcyBlbGVtZW50J3MgbGlnaHQgRE9NIHRyZWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9Ob2RlfSBub2RlIFRoZSBlbGVtZW50IHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBub2RlIGlzIGluIHRoaXMgZWxlbWVudCdzIGxpZ2h0IERPTSB0cmVlLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBMZWdhY3lFbGVtZW50TWl4aW4gbXVzdCBiZSBhcHBsaWVkIHRvIGFuXG4gICAgICogSFRNTEVsZW1lbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0xpZ2h0RGVzY2VuZGFudChub2RlKSB7XG4gICAgICBjb25zdCB0aGlzTm9kZSA9IC8qKiBAdHlwZSB7Tm9kZX0gKi8gKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXNOb2RlICE9PSBub2RlICYmIHdyYXAodGhpc05vZGUpLmNvbnRhaW5zKG5vZGUpICYmXG4gICAgICAgIHdyYXAodGhpc05vZGUpLmdldFJvb3ROb2RlKCkgPT09IHdyYXAobm9kZSkuZ2V0Um9vdE5vZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGlzIGluIHRoaXMgZWxlbWVudCdzIGxvY2FsIERPTSB0cmVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRWxlbWVudH0gbm9kZSBUaGUgZWxlbWVudCB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgbm9kZSBpcyBpbiB0aGlzIGVsZW1lbnQncyBsb2NhbCBET00gdHJlZS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0xvY2FsRGVzY2VuZGFudChub2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290ID09PSB3cmFwKG5vZGUpLmdldFJvb3ROb2RlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTm8tb3AgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBUaGlzIHNob3VsZCBub3cgYmUgaGFuZGxlZCBieVxuICAgICAqIFNoYWR5Q3NzIGxpYnJhcnkuXG4gICAgICogQHBhcmFtICB7IUVsZW1lbnR9IGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudCB0byBzY29wZVxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW49fSBzaG91bGRPYnNlcnZlIGlmIHRydWUsIHN0YXJ0IGEgbXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGFkZGVkIG5vZGVzIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHs/TXV0YXRpb25PYnNlcnZlcn0gUmV0dXJucyBhIG5ldyBNdXRhdGlvbk9ic2VydmVyIG9uIGBjb250YWluZXJgIGlmIGBzaG91bGRPYnNlcnZlYCBpcyB0cnVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUgPSBmYWxzZSkge1xuICAgICAgcmV0dXJuIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbXB1dGVkIHN0eWxlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFRoZSBjc3MgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbXB1dGVkIGNzcyBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIGdpdmVuXG4gICAgICogYHByb3BlcnR5YC5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gTGVnYWN5RWxlbWVudE1peGluIG11c3QgYmUgYXBwbGllZCB0byBhblxuICAgICAqICAgICBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkU3R5bGVWYWx1ZShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHN0eWxlSW50ZXJmYWNlLmdldENvbXB1dGVkU3R5bGVWYWx1ZSgvKiogQHR5cGUgeyFFbGVtZW50fSAqLyh0aGlzKSwgcHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8vIGRlYm91bmNlXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGBkZWJvdW5jZWAgdG8gY29sbGFwc2UgbXVsdGlwbGUgcmVxdWVzdHMgZm9yIGEgbmFtZWQgdGFzayBpbnRvXG4gICAgICogb25lIGludm9jYXRpb24gd2hpY2ggaXMgbWFkZSBhZnRlciB0aGUgd2FpdCB0aW1lIGhhcyBlbGFwc2VkIHdpdGhcbiAgICAgKiBubyBuZXcgcmVxdWVzdC4gIElmIG5vIHdhaXQgdGltZSBpcyBnaXZlbiwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gICAgICogYXQgbWljcm90YXNrIHRpbWluZyAoZ3VhcmFudGVlZCBiZWZvcmUgcGFpbnQpLlxuICAgICAqXG4gICAgICogICAgIGRlYm91bmNlZENsaWNrQWN0aW9uKGUpIHtcbiAgICAgKiAgICAgICAvLyB3aWxsIG5vdCBjYWxsIGBwcm9jZXNzQ2xpY2tgIG1vcmUgdGhhbiBvbmNlIHBlciAxMDBtc1xuICAgICAqICAgICAgIHRoaXMuZGVib3VuY2UoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICogICAgICAgIHRoaXMucHJvY2Vzc0NsaWNrKCk7XG4gICAgICogICAgICAgfSAxMDApO1xuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gam9iTmFtZSBTdHJpbmcgdG8gaWRlbnRpZnkgdGhlIGRlYm91bmNlIGpvYi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6dm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgKHdpdGggYHRoaXNgXG4gICAgICogICBjb250ZXh0KSB3aGVuIHRoZSB3YWl0IHRpbWUgZWxhcHNlcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHdhaXQgT3B0aW9uYWwgd2FpdCB0aW1lIGluIG1pbGxpc2Vjb25kcyAobXMpIGFmdGVyIHRoZVxuICAgICAqICAgbGFzdCBzaWduYWwgdGhhdCBtdXN0IGVsYXBzZSBiZWZvcmUgaW52b2tpbmcgYGNhbGxiYWNrYFxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFJldHVybnMgYSBkZWJvdW5jZXIgb2JqZWN0IG9uIHdoaWNoIGV4aXN0cyB0aGVcbiAgICAgKiBmb2xsb3dpbmcgbWV0aG9kczogYGlzQWN0aXZlKClgIHJldHVybnMgdHJ1ZSBpZiB0aGUgZGVib3VuY2VyIGlzXG4gICAgICogYWN0aXZlOyBgY2FuY2VsKClgIGNhbmNlbHMgdGhlIGRlYm91bmNlciBpZiBpdCBpcyBhY3RpdmU7XG4gICAgICogYGZsdXNoKClgIGltbWVkaWF0ZWx5IGludm9rZXMgdGhlIGRlYm91bmNlZCBjYWxsYmFjayBpZiB0aGUgZGVib3VuY2VyXG4gICAgICogaXMgYWN0aXZlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRlYm91bmNlKGpvYk5hbWUsIGNhbGxiYWNrLCB3YWl0KSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIHJldHVybiB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgICAgdGhpcy5fZGVib3VuY2Vyc1tqb2JOYW1lXVxuICAgICAgICAgICwgd2FpdCA+IDAgPyB0aW1lT3V0LmFmdGVyKHdhaXQpIDogbWljcm9UYXNrXG4gICAgICAgICAgLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBuYW1lZCBkZWJvdW5jZXIgaXMgYWN0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGpvYk5hbWUgVGhlIG5hbWUgb2YgdGhlIGRlYm91bmNlciBzdGFydGVkIHdpdGggYGRlYm91bmNlYFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGRlYm91bmNlciBpcyBhY3RpdmUgKGhhcyBub3QgeWV0IGZpcmVkKS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBpc0RlYm91bmNlckFjdGl2ZShqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgcmV0dXJuICEhKGRlYm91bmNlciAmJiBkZWJvdW5jZXIuaXNBY3RpdmUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgY2FsbHMgdGhlIGRlYm91bmNlciBgY2FsbGJhY2tgIGFuZCBpbmFjdGl2YXRlcyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGZsdXNoRGVib3VuY2VyKGpvYk5hbWUpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgbGV0IGRlYm91bmNlciA9IHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV07XG4gICAgICBpZiAoZGVib3VuY2VyKSB7XG4gICAgICAgIGRlYm91bmNlci5mbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW4gYWN0aXZlIGRlYm91bmNlci4gIFRoZSBgY2FsbGJhY2tgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFRoZSBuYW1lIG9mIHRoZSBkZWJvdW5jZXIgc3RhcnRlZCB3aXRoIGBkZWJvdW5jZWBcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNhbmNlbERlYm91bmNlcihqb2JOYW1lKSB7XG4gICAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICAgIGxldCBkZWJvdW5jZXIgPSB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdO1xuICAgICAgaWYgKGRlYm91bmNlcikge1xuICAgICAgICBkZWJvdW5jZXIuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVucyBhIGNhbGxiYWNrIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCAoaWYgbm8gd2FpdFRpbWUgaXMgc3BlY2lmaWVkKSwgYXN5bmMgY2FsbGJhY2tzIGFyZSBydW4gYXRcbiAgICAgKiBtaWNyb3Rhc2sgdGltaW5nLCB3aGljaCB3aWxsIG9jY3VyIGJlZm9yZSBwYWludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuLCBib3VuZCB0b1xuICAgICAqICAgICBgdGhpc2AuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSB3YWl0VGltZSBUaW1lIHRvIHdhaXQgYmVmb3JlIGNhbGxpbmcgdGhlXG4gICAgICogICBgY2FsbGJhY2tgLiAgSWYgdW5zcGVjaWZpZWQgb3IgMCwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgcnVuIGF0IG1pY3JvdGFza1xuICAgICAqICAgdGltaW5nIChiZWZvcmUgcGFpbnQpLlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2FuY2VsIHRoZSBhc3luYyBqb2IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXN5bmMoY2FsbGJhY2ssIHdhaXRUaW1lKSB7XG4gICAgICByZXR1cm4gd2FpdFRpbWUgPiAwID8gdGltZU91dC5ydW4oY2FsbGJhY2suYmluZCh0aGlzKSwgd2FpdFRpbWUpIDpcbiAgICAgICAgICB+bWljcm9UYXNrLnJ1bihjYWxsYmFjay5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGFzeW5jIG9wZXJhdGlvbiBzdGFydGVkIHdpdGggYGFzeW5jYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gb3JpZ2luYWwgYGFzeW5jYCBjYWxsIHRvXG4gICAgICogICBjYW5jZWwuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBjYW5jZWxBc3luYyhoYW5kbGUpIHtcbiAgICAgIGhhbmRsZSA8IDAgPyBtaWNyb1Rhc2suY2FuY2VsKH5oYW5kbGUpIDpcbiAgICAgICAgICB0aW1lT3V0LmNhbmNlbChoYW5kbGUpO1xuICAgIH1cblxuICAgIC8vIG90aGVyXG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIGNyZWF0aW5nIGFuIGVsZW1lbnQgYW5kIGNvbmZpZ3VyaW5nIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBIVE1MIGVsZW1lbnQgdGFnIHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BzIE9iamVjdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbmZpZ3VyZSBvbiB0aGVcbiAgICAgKiAgICBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIHshRWxlbWVudH0gTmV3bHkgY3JlYXRlZCBhbmQgY29uZmlndXJlZCBlbGVtZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNyZWF0ZSh0YWcsIHByb3BzKSB7XG4gICAgICBsZXQgZWx0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmIChlbHQuc2V0UHJvcGVydGllcykge1xuICAgICAgICAgIGVsdC5zZXRQcm9wZXJ0aWVzKHByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGxldCBuIGluIHByb3BzKSB7XG4gICAgICAgICAgICBlbHRbbl0gPSBwcm9wc1tuXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9seWZpbGwgZm9yIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMsIHdoaWNoIGlzIHNvbWV0aW1lcyBzdGlsbFxuICAgICAqIHByZWZpeGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFNlbGVjdG9yIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHshRWxlbWVudD19IG5vZGUgRWxlbWVudCB0byB0ZXN0IHRoZSBzZWxlY3RvciBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGVsZW1lbnQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZWxlbWVudE1hdGNoZXMoc2VsZWN0b3IsIG5vZGUpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoIChub2RlIHx8IHRoaXMpLCBzZWxlY3Rvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhbiBIVE1MIGF0dHJpYnV0ZSBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBIVE1MIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYm9vbCBCb29sZWFuIHRvIGZvcmNlIHRoZSBhdHRyaWJ1dGUgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgYXR0cmlidXRlIHdpbGwgYmUgcmV2ZXJzZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIG5vdyBleGlzdHNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0b2dnbGVBdHRyaWJ1dGUobmFtZSwgYm9vbCkge1xuICAgICAgbGV0IG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovKHRoaXMpO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8oYXJndW1lbnRzWzJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgYm9vbCA9ICFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChib29sKSB7XG4gICAgICAgIHdyYXAobm9kZSkuc2V0QXR0cmlidXRlKG5hbWUsICcnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cmFwKG5vZGUpLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhIENTUyBjbGFzcyBvbiBvciBvZmYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgY2xhc3MgbmFtZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGJvb2wgQm9vbGVhbiB0byBmb3JjZSB0aGUgY2xhc3Mgb24gb3Igb2ZmLlxuICAgICAqICAgIFdoZW4gdW5zcGVjaWZpZWQsIHRoZSBzdGF0ZSBvZiB0aGUgY2xhc3Mgd2lsbCBiZSByZXZlcnNlZC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIE5vZGUgdG8gdGFyZ2V0LiAgRGVmYXVsdHMgdG8gYHRoaXNgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdG9nZ2xlQ2xhc3MobmFtZSwgYm9vbCwgbm9kZSkge1xuICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyk7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGJvb2wgPSAhbm9kZS5jbGFzc0xpc3QuY29udGFpbnMobmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoYm9vbCkge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3Jvc3MtcGxhdGZvcm0gaGVscGVyIGZvciBzZXR0aW5nIGFuIGVsZW1lbnQncyBDU1MgYHRyYW5zZm9ybWAgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNmb3JtVGV4dCBUcmFuc2Zvcm0gc2V0dGluZy5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2BcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm1UZXh0LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIG5vZGUuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtVGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcm9zcy1wbGF0Zm9ybSBoZWxwZXIgZm9yIHNldHRpbmcgYW4gZWxlbWVudCdzIENTUyBgdHJhbnNsYXRlM2RgXG4gICAgICogcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHggWCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB5IFkgb2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30geiBaIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnQ9fSBub2RlIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHRyYW5zZm9ybSB0by5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2AuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUzZCh4LCB5LCB6LCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtKCd0cmFuc2xhdGUzZCgnICsgeCArICcsJyArIHkgKyAnLCcgKyB6ICsgJyknLCBub2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheSwgaWYgaXQgZXhpc3RzLlxuICAgICAqXG4gICAgICogSWYgdGhlIGFycmF5IGlzIHNwZWNpZmllZCBieSBwYXRoLCBhIGNoYW5nZSBub3RpZmljYXRpb24gaXNcbiAgICAgKiBnZW5lcmF0ZWQsIHNvIHRoYXQgb2JzZXJ2ZXJzLCBkYXRhIGJpbmRpbmdzIGFuZCBjb21wdXRlZFxuICAgICAqIHByb3BlcnRpZXMgd2F0Y2hpbmcgdGhhdCBwYXRoIGNhbiB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYXJyYXkgaXMgcGFzc2VkIGRpcmVjdGx5LCAqKm5vIGNoYW5nZVxuICAgICAqIG5vdGlmaWNhdGlvbiBpcyBnZW5lcmF0ZWQqKi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PG51bWJlcnxzdHJpbmc+fSBhcnJheU9yUGF0aCBQYXRoIHRvIGFycmF5IGZyb21cbiAgICAgKiAgICAgd2hpY2ggdG8gcmVtb3ZlIHRoZSBpdGVtXG4gICAgICogICAob3IgdGhlIGFycmF5IGl0c2VsZikuXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIGl0ZW0gcmVtb3ZlZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhcnJheURlbGV0ZShhcnJheU9yUGF0aCwgaXRlbSkge1xuICAgICAgbGV0IGluZGV4O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyYXlPclBhdGgpKSB7XG4gICAgICAgIGluZGV4ID0gYXJyYXlPclBhdGguaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gYXJyYXlPclBhdGguc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGFyciA9IGdldCh0aGlzLCBhcnJheU9yUGF0aCk7XG4gICAgICAgIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaWNlKGFycmF5T3JQYXRoLCBpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGxvZ2dpbmdcblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUubG9nYC9gd2FybmAvYGVycm9yYCBhcyBvdmVycmlkZSBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsZXZlbCBPbmUgb2YgJ2xvZycsICd3YXJuJywgJ2Vycm9yJ1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2xvZ2dlcihsZXZlbCwgYXJncykge1xuICAgICAgLy8gYWNjZXB0IFsnZm9vJywgJ2JhciddIGFuZCBbWydmb28nLCAnYmFyJ11dXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSAmJiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyZ3NbMF0pKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgfVxuICAgICAgc3dpdGNoKGxldmVsKSB7XG4gICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgIGNhc2UgJ3dhcm4nOlxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgY29uc29sZVtsZXZlbF0oLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjYWRlcyBgY29uc29sZS5sb2dgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2coLi4uYXJncykge1xuICAgICAgdGhpcy5fbG9nZ2VyKCdsb2cnLCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWNhZGVzIGBjb25zb2xlLndhcm5gIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF93YXJuKC4uLmFyZ3MpIHtcbiAgICAgIHRoaXMuX2xvZ2dlcignd2FybicsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUuZXJyb3JgIGFzIGFuIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lcnJvciguLi5hcmdzKSB7XG4gICAgICB0aGlzLl9sb2dnZXIoJ2Vycm9yJywgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9ybWF0cyBhIG1lc3NhZ2UgdXNpbmcgdGhlIGVsZW1lbnQgdHlwZSBhbiBhIG1ldGhvZCBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIG5hbWUgdG8gYXNzb2NpYXRlIHdpdGggbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcnJheSBvZiBzdHJpbmdzIG9yIG9iamVjdHMgdG8gbG9nXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IHdpdGggZm9ybWF0dGluZyBpbmZvcm1hdGlvbiBmb3IgYGNvbnNvbGVgXG4gICAgICogICBsb2dnaW5nLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9sb2dmKG1ldGhvZE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgIHJldHVybiBbJ1slczo6JXNdJywgdGhpcy5pcywgbWV0aG9kTmFtZSwgLi4uYXJnc107XG4gICAgfVxuXG4gIH1cblxuICBMZWdhY3lFbGVtZW50LnByb3RvdHlwZS5pcyA9ICcnO1xuXG4gIHJldHVybiBMZWdhY3lFbGVtZW50O1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgeyBMZWdhY3lFbGVtZW50TWl4aW4gfSBmcm9tICcuL2xlZ2FjeS1lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCB7IGxlZ2FjeU9wdGltaXphdGlvbnMgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbmNvbnN0IGxpZmVjeWNsZVByb3BzID0ge1xuICBhdHRhY2hlZDogdHJ1ZSxcbiAgZGV0YWNoZWQ6IHRydWUsXG4gIHJlYWR5OiB0cnVlLFxuICBjcmVhdGVkOiB0cnVlLFxuICBiZWZvcmVSZWdpc3RlcjogdHJ1ZSxcbiAgcmVnaXN0ZXJlZDogdHJ1ZSxcbiAgYXR0cmlidXRlQ2hhbmdlZDogdHJ1ZSxcbiAgbGlzdGVuZXJzOiB0cnVlLFxuICBob3N0QXR0cmlidXRlczogdHJ1ZVxufTtcblxuY29uc3QgZXhjbHVkZU9uSW5mbyA9IHtcbiAgYXR0YWNoZWQ6IHRydWUsXG4gIGRldGFjaGVkOiB0cnVlLFxuICByZWFkeTogdHJ1ZSxcbiAgY3JlYXRlZDogdHJ1ZSxcbiAgYmVmb3JlUmVnaXN0ZXI6IHRydWUsXG4gIHJlZ2lzdGVyZWQ6IHRydWUsXG4gIGF0dHJpYnV0ZUNoYW5nZWQ6IHRydWUsXG4gIGJlaGF2aW9yczogdHJ1ZSxcbiAgX25vQWNjZXNzb3JzOiB0cnVlXG59O1xuXG5jb25zdCBleGNsdWRlT25CZWhhdmlvcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgbGlzdGVuZXJzOiB0cnVlLFxuICBob3N0QXR0cmlidXRlczogdHJ1ZSxcbiAgcHJvcGVydGllczogdHJ1ZSxcbiAgb2JzZXJ2ZXJzOiB0cnVlLFxufSwgZXhjbHVkZU9uSW5mbyk7XG5cbmZ1bmN0aW9uIGNvcHlQcm9wZXJ0aWVzKHNvdXJjZSwgdGFyZ2V0LCBleGNsdWRlUHJvcHMpIHtcbiAgY29uc3Qgbm9BY2Nlc3NvcnMgPSBzb3VyY2UuX25vQWNjZXNzb3JzO1xuICBjb25zdCBwcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHAgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgIGlmIChwIGluIGV4Y2x1ZGVQcm9wcykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChub0FjY2Vzc29ycykge1xuICAgICAgdGFyZ2V0W3BdID0gc291cmNlW3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcCk7XG4gICAgICBpZiAocGQpIHtcbiAgICAgICAgLy8gZW5zdXJlIHByb3BlcnR5IGlzIGNvbmZpZ3VyYWJsZSBzbyB0aGF0IGEgbGF0ZXIgYmVoYXZpb3IgY2FuXG4gICAgICAgIC8vIHJlLWNvbmZpZ3VyZSBpdC5cbiAgICAgICAgcGQuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcCwgcGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgYSBcImxlZ2FjeVwiIGJlaGF2aW9yIG9yIGFycmF5IG9mIGJlaGF2aW9ycyB0byB0aGUgcHJvdmlkZWQgY2xhc3MuXG4gKlxuICogTm90ZTogdGhpcyBtZXRob2Qgd2lsbCBhdXRvbWF0aWNhbGx5IGFsc28gYXBwbHkgdGhlIGBMZWdhY3lFbGVtZW50TWl4aW5gXG4gKiB0byBlbnN1cmUgdGhhdCBhbnkgbGVnYWN5IGJlaGF2aW9ycyBjYW4gcmVseSBvbiBsZWdhY3kgUG9seW1lciBBUEkgb25cbiAqIHRoZSB1bmRlcmx5aW5nIGVsZW1lbnQuXG4gKlxuICogQGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHshT2JqZWN0fCFBcnJheTwhT2JqZWN0Pn0gYmVoYXZpb3JzIEJlaGF2aW9yIG9iamVjdCBvciBhcnJheSBvZiBiZWhhdmlvcnMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0ga2xhc3MgRWxlbWVudCBjbGFzcy5cbiAqIEByZXR1cm4gez99IFJldHVybnMgYSBuZXcgRWxlbWVudCBjbGFzcyBleHRlbmRlZCBieSB0aGVcbiAqIHBhc3NlZCBpbiBgYmVoYXZpb3JzYCBhbmQgYWxzbyBieSBgTGVnYWN5RWxlbWVudE1peGluYC5cbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzLCBjaGVja1R5cGVzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWl4aW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBrbGFzcykge1xuICByZXR1cm4gR2VuZXJhdGVDbGFzc0Zyb21JbmZvKHt9LCBMZWdhY3lFbGVtZW50TWl4aW4oa2xhc3MpLCBiZWhhdmlvcnMpO1xufVxuXG4vLyBOT1RFOlxuLy8gMS54XG4vLyBCZWhhdmlvcnMgd2VyZSBtaXhlZCBpbiAqaW4gcmV2ZXJzZSBvcmRlciogYW5kIGRlLWR1cGVkIG9uIHRoZSBmbHkuXG4vLyBUaGUgcnVsZSB3YXMgdGhhdCBiZWhhdmlvciBwcm9wZXJ0aWVzIHdlcmUgY29waWVkIG9udG8gdGhlIGVsZW1lbnRcbi8vIHByb3RvdHlwZSBpZiBhbmQgb25seSBpZiB0aGUgcHJvcGVydHkgZGlkIG5vdCBhbHJlYWR5IGV4aXN0LlxuLy8gR2l2ZW46IFBvbHltZXJ7IGJlaGF2aW9yczogW0EsIEIsIEMsIEEsIEJdfSwgcHJvcGVydHkgY29weSBvcmRlciB3YXM6XG4vLyAoMSksIEIsICgyKSwgQSwgKDMpIEMuIFRoaXMgbWVhbnMgcHJvdG90eXBlIHByb3BlcnRpZXMgd2luIG92ZXJcbi8vIEIgcHJvcGVydGllcyB3aW4gb3ZlciBBIHdpbiBvdmVyIEMuIFRoaXMgbWlycm9ycyB3aGF0IHdvdWxkIGhhcHBlblxuLy8gd2l0aCBpbmhlcml0YW5jZSBpZiBlbGVtZW50IGV4dGVuZGVkIEIgZXh0ZW5kZWQgQSBleHRlbmRlZCBDLlxuLy9cbi8vIEFnYWluIGdpdmVuLCBQb2x5bWVyeyBiZWhhdmlvcnM6IFtBLCBCLCBDLCBBLCBCXX0sIHRoZSByZXN1bHRpbmdcbi8vIGBiZWhhdmlvcnNgIGFycmF5IHdhcyBbQywgQSwgQl0uXG4vLyBCZWhhdmlvciBsaWZlY3ljbGUgbWV0aG9kcyB3ZXJlIGNhbGxlZCBpbiBiZWhhdmlvciBhcnJheSBvcmRlclxuLy8gZm9sbG93ZWQgYnkgdGhlIGVsZW1lbnQsIGUuZy4gKDEpIEMuY3JlYXRlZCwgKDIpIEEuY3JlYXRlZCxcbi8vICgzKSBCLmNyZWF0ZWQsICg0KSBlbGVtZW50LmNyZWF0ZWQuIFRoZXJlIHdhcyBubyBzdXBwb3J0IGZvclxuLy8gc3VwZXIsIGFuZCBcInN1cGVyLWJlaGF2aW9yXCIgbWV0aG9kcyB3ZXJlIGNhbGxhYmxlIG9ubHkgYnkgbmFtZSkuXG4vL1xuLy8gMi54XG4vLyBCZWhhdmlvcnMgYXJlIG1hZGUgaW50byBwcm9wZXIgbWl4aW5zIHdoaWNoIGxpdmUgaW4gdGhlXG4vLyBlbGVtZW50J3MgcHJvdG90eXBlIGNoYWluLiBCZWhhdmlvcnMgYXJlIHBsYWNlZCBpbiB0aGUgZWxlbWVudCBwcm90b3R5cGVcbi8vIGVsZGVzdCB0byB5b3VuZ2VzdCBhbmQgZGUtZHVwZWQgeW91bmdlc3QgdG8gb2xkZXN0OlxuLy8gU28sIGZpcnN0IFtBLCBCLCBDLCBBLCBCXSBiZWNvbWVzIFtDLCBBLCBCXSB0aGVuLFxuLy8gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGJlY29tZXMgKG9sZGVzdCkgKDEpIFBvbHltZXJFbGVtZW50LCAoMikgY2xhc3MoQyksXG4vLyAoMykgY2xhc3MoQSksICg0KSBjbGFzcyhCKSwgKDUpIGNsYXNzKFBvbHltZXIoey4uLn0pKS5cbi8vIFJlc3VsdDpcbi8vIFRoaXMgbWVhbnMgZWxlbWVudCBwcm9wZXJ0aWVzIHdpbiBvdmVyIEIgcHJvcGVydGllcyB3aW4gb3ZlciBBIHdpblxuLy8gb3ZlciBDLiAoc2FtZSBhcyAxLngpXG4vLyBJZiBsaWZlY3ljbGUgaXMgY2FsbGVkIChzdXBlciB0aGVuIG1lKSwgb3JkZXIgaXNcbi8vICgxKSBDLmNyZWF0ZWQsICgyKSBBLmNyZWF0ZWQsICgzKSBCLmNyZWF0ZWQsICg0KSBlbGVtZW50LmNyZWF0ZWRcbi8vIChhZ2FpbiBzYW1lIGFzIDEueClcbmZ1bmN0aW9uIGFwcGx5QmVoYXZpb3JzKHByb3RvLCBiZWhhdmlvcnMsIGxpZmVjeWNsZSkge1xuICBmb3IgKGxldCBpPTA7IGk8YmVoYXZpb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXBwbHlJbmZvKHByb3RvLCBiZWhhdmlvcnNbaV0sIGxpZmVjeWNsZSwgZXhjbHVkZU9uQmVoYXZpb3JzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUluZm8ocHJvdG8sIGluZm8sIGxpZmVjeWNsZSwgZXhjbHVkZVByb3BzKSB7XG4gIGNvcHlQcm9wZXJ0aWVzKGluZm8sIHByb3RvLCBleGNsdWRlUHJvcHMpO1xuICBmb3IgKGxldCBwIGluIGxpZmVjeWNsZVByb3BzKSB7XG4gICAgaWYgKGluZm9bcF0pIHtcbiAgICAgIGxpZmVjeWNsZVtwXSA9IGxpZmVjeWNsZVtwXSB8fCBbXTtcbiAgICAgIGxpZmVjeWNsZVtwXS5wdXNoKGluZm9bcF0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IGJlaGF2aW9ycyBMaXN0IG9mIGJlaGF2aW9ycyB0byBmbGF0dGVuLlxuICogQHBhcmFtIHtBcnJheT19IGxpc3QgVGFyZ2V0IGxpc3QgdG8gZmxhdHRlbiBiZWhhdmlvcnMgaW50by5cbiAqIEBwYXJhbSB7QXJyYXk9fSBleGNsdWRlIExpc3Qgb2YgYmVoYXZpb3JzIHRvIGV4Y2x1ZGUgZnJvbSB0aGUgbGlzdC5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyB0aGUgbGlzdCBvZiBmbGF0dGVuZWQgYmVoYXZpb3JzLlxuICovXG5mdW5jdGlvbiBmbGF0dGVuQmVoYXZpb3JzKGJlaGF2aW9ycywgbGlzdCwgZXhjbHVkZSkge1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgZm9yIChsZXQgaT1iZWhhdmlvcnMubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IGIgPSBiZWhhdmlvcnNbaV07XG4gICAgaWYgKGIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgIGZsYXR0ZW5CZWhhdmlvcnMoYiwgbGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWR1cFxuICAgICAgICBpZiAobGlzdC5pbmRleE9mKGIpIDwgMCAmJiAoIWV4Y2x1ZGUgfHwgZXhjbHVkZS5pbmRleE9mKGIpIDwgMCkpIHtcbiAgICAgICAgICBsaXN0LnVuc2hpZnQoYik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdiZWhhdmlvciBpcyBudWxsLCBjaGVjayBmb3IgbWlzc2luZyBvciA0MDQgaW1wb3J0Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0O1xufVxuXG4vKipcbiAqIENvcGllcyBwcm9wZXJ0eSBkZXNjcmlwdG9ycyBmcm9tIHNvdXJjZSB0byB0YXJnZXQsIG92ZXJ3cml0aW5nIGFsbCBmaWVsZHNcbiAqIG9mIGFueSBwcmV2aW91cyBkZXNjcmlwdG9yIGZvciBhIHByb3BlcnR5ICpleGNlcHQqIGZvciBgdmFsdWVgLCB3aGljaCBpc1xuICogbWVyZ2VkIGluIGZyb20gdGhlIHRhcmdldCBpZiBpdCBkb2VzIG5vdCBleGlzdCBvbiB0aGUgc291cmNlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRhcmdldCBwcm9wZXJ0aWVzIG9iamVjdFxuICogQHBhcmFtIHsqfSBzb3VyY2UgU291cmNlIHByb3BlcnRpZXMgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1lcmdlUHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKGNvbnN0IHAgaW4gc291cmNlKSB7XG4gICAgY29uc3QgdGFyZ2V0SW5mbyA9IHRhcmdldFtwXTtcbiAgICBjb25zdCBzb3VyY2VJbmZvID0gc291cmNlW3BdO1xuICAgIGlmICghKCd2YWx1ZScgaW4gc291cmNlSW5mbykgJiYgdGFyZ2V0SW5mbyAmJiAoJ3ZhbHVlJyBpbiB0YXJnZXRJbmZvKSkge1xuICAgICAgdGFyZ2V0W3BdID0gT2JqZWN0LmFzc2lnbih7dmFsdWU6IHRhcmdldEluZm8udmFsdWV9LCBzb3VyY2VJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0W3BdID0gc291cmNlSW5mbztcbiAgICB9XG4gIH1cbn1cblxuLyogTm90ZSBhYm91dCBjb25zdHJ1Y3Rpb24gYW5kIGV4dGVuc2lvbiBvZiBsZWdhY3kgY2xhc3Nlcy5cbiAgW0NoYW5nZWQgaW4gUTQgMjAxOCB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZS5dXG5cbiAgV2hlbiBjYWxsaW5nIGBQb2x5bWVyYCBvciBgbWl4aW5CZWhhdmlvcnNgLCB0aGUgZ2VuZXJhdGVkIGNsYXNzIGJlbG93IGlzXG4gIG1hZGUuIFRoZSBsaXN0IG9mIGJlaGF2aW9ycyB3YXMgcHJldmlvdXNseSBtYWRlIGludG8gb25lIGdlbmVyYXRlZCBjbGFzcyBwZXJcbiAgYmVoYXZpb3IsIGJ1dCB0aGlzIGlzIG5vIGxvbmdlciB0aGUgY2FzZSBhcyBiZWhhdmlvcnMgYXJlIG5vdyBjYWxsZWRcbiAgbWFudWFsbHkuIE5vdGUsIHRoZXJlIG1heSAqc3RpbGwqIGJlIG11bHRpcGxlIGdlbmVyYXRlZCBjbGFzc2VzIGluIHRoZVxuICBlbGVtZW50J3MgcHJvdG90eXBlIGNoYWluIGlmIGV4dGVuc2lvbiBpcyB1c2VkIHdpdGggYG1peGluQmVoYXZpb3JzYC5cblxuICBUaGUgZ2VuZXJhdGVkIGNsYXNzIGlzIGRpcmVjdGx5IHRpZWQgdG8gdGhlIGluZm8gb2JqZWN0IGFuZCBiZWhhdmlvcnNcbiAgdXNlZCB0byBjcmVhdGUgaXQuIFRoYXQgbGlzdCBvZiBiZWhhdmlvcnMgaXMgZmlsdGVyZWQgc28gaXQncyBvbmx5IHRoZVxuICBiZWhhdmlvcnMgbm90IGFjdGl2ZSBvbiB0aGUgc3VwZXJjbGFzcy4gSW4gb3JkZXIgdG8gY2FsbCB0aHJvdWdoIHRvIHRoZVxuICBlbnRpcmUgbGlzdCBvZiBsaWZlY3ljbGUgbWV0aG9kcywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXJgLlxuXG4gIFRoZSBlbGVtZW50J3MgYHByb3BlcnRpZXNgIGFuZCBgb2JzZXJ2ZXJzYCBhcmUgY29udHJvbGxlZCB2aWEgdGhlIGZpbmFsaXphdGlvblxuICBtZWNoYW5pc20gcHJvdmlkZWQgYnkgYFByb3BlcnRpZXNNaXhpbmAuIGBQcm9wZXJ0aWVzYCBhbmQgYG9ic2VydmVyc2AgYXJlXG4gIGNvbGxlY3RlZCBieSBtYW51YWxseSB0cmF2ZXJzaW5nIHRoZSBwcm90b3R5cGUgY2hhaW4gYW5kIG1lcmdpbmcuXG5cbiAgVG8gbGltaXQgY2hhbmdlcywgdGhlIGBfcmVnaXN0ZXJlZGAgbWV0aG9kIGlzIGNhbGxlZCB2aWEgYF9pbml0aWFsaXplUHJvcGVydGllc2BcbiAgYW5kIG5vdCBgX2ZpbmFsaXplQ2xhc3NgLlxuXG4qL1xuLyoqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBQb2x5bWVyIGluZm8gb2JqZWN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpIVE1MRWxlbWVudCl9IEJhc2UgYmFzZSBjbGFzcyB0byBleHRlbmQgd2l0aCBpbmZvIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3Q9fSBiZWhhdmlvcnMgYmVoYXZpb3JzIHRvIGNvcHkgaW50byB0aGUgZWxlbWVudFxuICogQHJldHVybiB7ZnVuY3Rpb24obmV3OkhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywgQmFzZSwgYmVoYXZpb3JzKSB7XG5cbiAgLy8gbWFuYWdlcyBiZWhhdmlvciBhbmQgbGlmZWN5Y2xlIHByb2Nlc3NpbmcgKGZpbGxlZCBpbiBhZnRlciBjbGFzcyBkZWZpbml0aW9uKVxuICBsZXQgYmVoYXZpb3JMaXN0O1xuICBjb25zdCBsaWZlY3ljbGUgPSB7fTtcblxuICAvKiogQHByaXZhdGUgKi9cbiAgY2xhc3MgUG9seW1lckdlbmVyYXRlZCBleHRlbmRzIEJhc2Uge1xuXG4gICAgLy8gZXhwbGljaXRseSBub3QgY2FsbGluZyBzdXBlci5fZmluYWxpemVDbGFzc1xuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgIC8vIGlmIGNhbGxpbmcgdmlhIGEgc3ViY2xhc3MgdGhhdCBoYXNuJ3QgYmVlbiBnZW5lcmF0ZWQsIHBhc3MgdGhyb3VnaCB0byBzdXBlclxuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2dlbmVyYXRlZEZyb20nLCB0aGlzKSkpIHtcbiAgICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgICAgQmFzZS5fZmluYWxpemVDbGFzcy5jYWxsKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW50ZXJsZWF2ZSBwcm9wZXJ0aWVzIGFuZCBvYnNlcnZlcnMgcGVyIGJlaGF2aW9yIGFuZCBgaW5mb2BcbiAgICAgICAgaWYgKGJlaGF2aW9yTGlzdCkge1xuICAgICAgICAgIGZvciAobGV0IGk9MCwgYjsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYiA9IGJlaGF2aW9yTGlzdFtpXTtcbiAgICAgICAgICAgIGlmIChiLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0aWVzKGIucHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYi5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVPYnNlcnZlcnMoYi5vYnNlcnZlcnMsIGIucHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnRpZXMoaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5mby5vYnNlcnZlcnMpIHtcbiAgICAgICAgICB0aGlzLmNyZWF0ZU9ic2VydmVycyhpbmZvLm9ic2VydmVycywgaW5mby5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcHJlcGFyZSB0aGUgZWxlbWVudCB0ZW1wbGF0ZVxuICAgICAgICB0aGlzLl9wcmVwYXJlVGVtcGxhdGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG1lcmdlUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBiZWhhdmlvckxpc3RbaV0ucHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1lcmdlUHJvcGVydGllcyhwcm9wZXJ0aWVzLCBpbmZvLnByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgICBsZXQgb2JzZXJ2ZXJzID0gW107XG4gICAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MCwgYjsgaSA8IGJlaGF2aW9yTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGIgPSBiZWhhdmlvckxpc3RbaV07XG4gICAgICAgICAgaWYgKGIub2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMgPSBvYnNlcnZlcnMuY29uY2F0KGIub2JzZXJ2ZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpbmZvLm9ic2VydmVycykge1xuICAgICAgICBvYnNlcnZlcnMgPSBvYnNlcnZlcnMuY29uY2F0KGluZm8ub2JzZXJ2ZXJzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYnNlcnZlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjcmVhdGVkKCkge1xuICAgICAgc3VwZXIuY3JlYXRlZCgpO1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5jcmVhdGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3JlZ2lzdGVyZWQoKSB7XG4gICAgICAvKiBOT1RFOiBgYmVmb3JlUmVnaXN0ZXJgIGlzIGNhbGxlZCBoZXJlIGZvciBiYywgYnV0IHRoZSBiZWhhdmlvclxuICAgICAgICBpcyBkaWZmZXJlbnQgdGhhbiBpbiAxLnguIEluIDEuMCwgdGhlIG1ldGhvZCB3YXMgY2FsbGVkICphZnRlcipcbiAgICAgICAgbWl4aW5nIHByb3RvdHlwZXMgdG9nZXRoZXIgYnV0ICpiZWZvcmUqIHByb2Nlc3Npbmcgb2YgbWV0YS1vYmplY3RzLlxuICAgICAgICBIb3dldmVyLCBkeW5hbWljIGVmZmVjdHMgY2FuIHN0aWxsIGJlIHNldCBoZXJlIGFuZCBjYW4gYmUgZG9uZSBlaXRoZXJcbiAgICAgICAgaW4gYGJlZm9yZVJlZ2lzdGVyYCBvciBgcmVnaXN0ZXJlZGAuIEl0IGlzIG5vIGxvbmdlciBwb3NzaWJsZSB0byBzZXRcbiAgICAgICAgYGlzYCBpbiBgYmVmb3JlUmVnaXN0ZXJgIGFzIHlvdSBjb3VsZCBpbiAxLnguXG4gICAgICAqL1xuICAgICAgLy8gb25seSBwcm9jZWVkIGlmIHRoZSBnZW5lcmF0ZWQgY2xhc3MnIHByb3RvdHlwZSBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZC5cbiAgICAgIGNvbnN0IGdlbmVyYXRlZFByb3RvID0gUG9seW1lckdlbmVyYXRlZC5wcm90b3R5cGU7XG4gICAgICBpZiAoIWdlbmVyYXRlZFByb3RvLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19faGFzUmVnaXN0ZXJGaW5pc2hlZCcsIGdlbmVyYXRlZFByb3RvKSkpIHtcbiAgICAgICAgZ2VuZXJhdGVkUHJvdG8uX19oYXNSZWdpc3RlckZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZW5zdXJlIHN1cGVyY2xhc3MgaXMgcmVnaXN0ZXJlZCBmaXJzdC5cbiAgICAgICAgc3VwZXIuX3JlZ2lzdGVyZWQoKTtcbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIG9udG8gdGhlIGdlbmVyYXRlZCBjbGFzcyBsYXppbHkgaWYgd2UncmUgb3B0aW1pemluZyxcbiAgICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMpIHtcbiAgICAgICAgICBjb3B5UHJvcGVydGllc1RvUHJvdG8oZ2VuZXJhdGVkUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSBsZWdhY3kgbGlmZWN5Y2xlIGlzIGNhbGxlZCBvbiB0aGUgKmVsZW1lbnQqJ3MgcHJvdG90eXBlXG4gICAgICAgIC8vIGFuZCBub3QgdGhlIGdlbmVyYXRlZCBjbGFzcyBwcm90b3R5cGU7IGlmIHRoZSBlbGVtZW50IGhhcyBiZWVuXG4gICAgICAgIC8vIGV4dGVuZGVkLCB0aGVzZSBhcmUgKm5vdCogdGhlIHNhbWUuXG4gICAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5iZWZvcmVSZWdpc3RlcjtcbiAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0W2ldLmNhbGwocHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ID0gbGlmZWN5Y2xlLnJlZ2lzdGVyZWQ7XG4gICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdFtpXS5jYWxsKHByb3RvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9hcHBseUxpc3RlbmVycygpIHtcbiAgICAgIHN1cGVyLl9hcHBseUxpc3RlbmVycygpO1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5saXN0ZW5lcnM7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gbGlzdFtpXTtcbiAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBsIGluIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICB0aGlzLl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlKHRoaXMsIGwsIGxpc3RlbmVyc1tsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm90ZTogZXhjZXB0aW9uIHRvIFwic3VwZXIgdGhlbiBtZVwiIHJ1bGU7XG4gICAgLy8gZG8gd29yayBiZWZvcmUgY2FsbGluZyBzdXBlciBzbyB0aGF0IHN1cGVyIGF0dHJpYnV0ZXNcbiAgICAvLyBvbmx5IGFwcGx5IGlmIG5vdCBhbHJlYWR5IHNldC5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGVzKCkge1xuICAgICAgY29uc3QgbGlzdCA9IGxpZmVjeWNsZS5ob3N0QXR0cmlidXRlcztcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9bGlzdC5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBob3N0QXR0cmlidXRlcyA9IGxpc3RbaV07XG4gICAgICAgICAgZm9yIChsZXQgYSBpbiBob3N0QXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB0aGlzLl9lbnN1cmVBdHRyaWJ1dGUoYSwgaG9zdEF0dHJpYnV0ZXNbYV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdXBlci5fZW5zdXJlQXR0cmlidXRlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBzdXBlci5yZWFkeSgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUucmVhZHk7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdFtpXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBhdHRhY2hlZCgpIHtcbiAgICAgIHN1cGVyLmF0dGFjaGVkKCk7XG4gICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5hdHRhY2hlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRldGFjaGVkKCkge1xuICAgICAgc3VwZXIuZGV0YWNoZWQoKTtcbiAgICAgIGxldCBsaXN0ID0gbGlmZWN5Y2xlLmRldGFjaGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgbmF0aXZlIEN1c3RvbSBFbGVtZW50cyBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0b1xuICAgICAqIHNldCBhbiBhdHRyaWJ1dGUgdmFsdWUgdG8gYSBwcm9wZXJ0eSB2aWEgYF9hdHRyaWJ1dGVUb1Byb3BlcnR5YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQobmFtZSwgb2xkLCB2YWx1ZSkge1xuICAgICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZCgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUuYXR0cmlidXRlQ2hhbmdlZDtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcywgbmFtZSwgb2xkLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBhcHBseSBiZWhhdmlvcnMsIG5vdGUgYWN0dWFsIGNvcHlpbmcgaXMgZG9uZSBsYXppbHkgYXQgZmlyc3QgaW5zdGFuY2UgY3JlYXRpb25cbiAgaWYgKGJlaGF2aW9ycykge1xuICAgIC8vIE5PVEU6IGVuc3VyZSB0aGUgYmVoYXZpb3IgaXMgZXh0ZW5kaW5nIGEgY2xhc3Mgd2l0aFxuICAgIC8vIGxlZ2FjeSBlbGVtZW50IGFwaS4gVGhpcyBpcyBuZWNlc3Nhcnkgc2luY2UgYmVoYXZpb3JzIGV4cGVjdCB0byBiZSBhYmxlXG4gICAgLy8gdG8gYWNjZXNzIDEueCBsZWdhY3kgYXBpLlxuICAgIGlmICghQXJyYXkuaXNBcnJheShiZWhhdmlvcnMpKSB7XG4gICAgICBiZWhhdmlvcnMgPSBbYmVoYXZpb3JzXTtcbiAgICB9XG4gICAgbGV0IHN1cGVyQmVoYXZpb3JzID0gQmFzZS5wcm90b3R5cGUuYmVoYXZpb3JzO1xuICAgIC8vIGdldCBmbGF0dGVuZWQsIGRlZHVwZWQgbGlzdCBvZiBiZWhhdmlvcnMgKm5vdCogYWxyZWFkeSBvbiBzdXBlciBjbGFzc1xuICAgIGJlaGF2aW9yTGlzdCA9IGZsYXR0ZW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBudWxsLCBzdXBlckJlaGF2aW9ycyk7XG4gICAgUG9seW1lckdlbmVyYXRlZC5wcm90b3R5cGUuYmVoYXZpb3JzID0gc3VwZXJCZWhhdmlvcnMgP1xuICAgICAgc3VwZXJCZWhhdmlvcnMuY29uY2F0KGJlaGF2aW9ycykgOiBiZWhhdmlvckxpc3Q7XG4gIH1cblxuICBjb25zdCBjb3B5UHJvcGVydGllc1RvUHJvdG8gPSAocHJvdG8pID0+IHtcbiAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICBhcHBseUJlaGF2aW9ycyhwcm90bywgYmVoYXZpb3JMaXN0LCBsaWZlY3ljbGUpO1xuICAgIH1cbiAgICBhcHBseUluZm8ocHJvdG8sIGluZm8sIGxpZmVjeWNsZSwgZXhjbHVkZU9uSW5mbyk7XG4gIH07XG5cbiAgLy8gY29weSBwcm9wZXJ0aWVzIGlmIHdlJ3JlIG5vdCBvcHRpbWl6aW5nXG4gIGlmICghbGVnYWN5T3B0aW1pemF0aW9ucykge1xuICAgIGNvcHlQcm9wZXJ0aWVzVG9Qcm90byhQb2x5bWVyR2VuZXJhdGVkLnByb3RvdHlwZSk7XG4gIH1cblxuICBQb2x5bWVyR2VuZXJhdGVkLmdlbmVyYXRlZEZyb20gPSBpbmZvO1xuXG4gIHJldHVybiBQb2x5bWVyR2VuZXJhdGVkO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGNsYXNzIHRoYXQgZXh0ZW5kcyBgTGVnYWN5RWxlbWVudGAgYmFzZWQgb24gdGhlXG4gKiBwcm92aWRlZCBpbmZvIG9iamVjdC4gIE1ldGFkYXRhIG9iamVjdHMgb24gdGhlIGBpbmZvYCBvYmplY3RcbiAqIChgcHJvcGVydGllc2AsIGBvYnNlcnZlcnNgLCBgbGlzdGVuZXJzYCwgYGJlaGF2aW9yc2AsIGBpc2ApIGFyZSB1c2VkXG4gKiBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmcgc3lzdGVtcywgYW5kIGFueSBmdW5jdGlvbnMgYXJlIGNvcGllZFxuICogdG8gdGhlIGdlbmVyYXRlZCBjbGFzcy5cbiAqXG4gKiBWYWxpZCBcIm1ldGFkYXRhXCIgdmFsdWVzIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIGBpc2A6IFN0cmluZyBwcm92aWRpbmcgdGhlIHRhZyBuYW1lIHRvIHJlZ2lzdGVyIHRoZSBlbGVtZW50IHVuZGVyLiBJblxuICogYWRkaXRpb24sIGlmIGEgYGRvbS1tb2R1bGVgIHdpdGggdGhlIHNhbWUgaWQgZXhpc3RzLCB0aGUgZmlyc3QgdGVtcGxhdGVcbiAqIGluIHRoYXQgYGRvbS1tb2R1bGVgIHdpbGwgYmUgc3RhbXBlZCBpbnRvIHRoZSBzaGFkb3cgcm9vdCBvZiB0aGlzIGVsZW1lbnQsXG4gKiB3aXRoIHN1cHBvcnQgZm9yIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVycyAoYG9uLS4uLmApLCBQb2x5bWVyIGRhdGFcbiAqIGJpbmRpbmdzIChgW1suLi5dXWAgYW5kIGB7ey4uLn19YCksIGFuZCBpZC1iYXNlZCBub2RlIGZpbmRpbmcgaW50b1xuICogYHRoaXMuJGAuXG4gKlxuICogYHByb3BlcnRpZXNgOiBPYmplY3QgZGVzY3JpYmluZyBwcm9wZXJ0eS1yZWxhdGVkIG1ldGFkYXRhIHVzZWQgYnkgUG9seW1lclxuICogZmVhdHVyZXMgKGtleTogcHJvcGVydHkgbmFtZXMsIHZhbHVlOiBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0eSBtZXRhZGF0YSkuXG4gKiBWYWxpZCBrZXlzIGluIHBlci1wcm9wZXJ0eSBtZXRhZGF0YSBpbmNsdWRlOlxuICogLSBgdHlwZWAgKFN0cmluZ3xOdW1iZXJ8T2JqZWN0fEFycmF5fC4uLik6IFVzZWQgYnlcbiAqICAgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgdG8gZGV0ZXJtaW5lIGhvdyBzdHJpbmctYmFzZWQgYXR0cmlidXRlc1xuICogICBhcmUgZGVzZXJpYWxpemVkIHRvIEphdmFTY3JpcHQgcHJvcGVydHkgdmFsdWVzLlxuICogLSBgbm90aWZ5YCAoYm9vbGVhbik6IENhdXNlcyBhIGNoYW5nZSBpbiB0aGUgcHJvcGVydHkgdG8gZmlyZSBhXG4gKiAgIG5vbi1idWJibGluZyBldmVudCBjYWxsZWQgYDxwcm9wZXJ0eT4tY2hhbmdlZGAuIEVsZW1lbnRzIHRoYXQgaGF2ZVxuICogICBlbmFibGVkIHR3by13YXkgYmluZGluZyB0byB0aGUgcHJvcGVydHkgdXNlIHRoaXMgZXZlbnQgdG8gb2JzZXJ2ZSBjaGFuZ2VzLlxuICogLSBgcmVhZE9ubHlgIChib29sZWFuKTogQ3JlYXRlcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBidXQgbm8gc2V0dGVyLlxuICogICBUbyBzZXQgYSByZWFkLW9ubHkgcHJvcGVydHksIHVzZSB0aGUgcHJpdmF0ZSBzZXR0ZXIgbWV0aG9kXG4gKiAgIGBfc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKWAuXG4gKiAtIGBvYnNlcnZlcmAgKHN0cmluZyk6IE9ic2VydmVyIG1ldGhvZCBuYW1lIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICB0aGUgcHJvcGVydHkgY2hhbmdlcy4gVGhlIGFyZ3VtZW50cyBvZiB0aGUgbWV0aG9kIGFyZVxuICogICBgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKWAuXG4gKiAtIGBjb21wdXRlZGAgKHN0cmluZyk6IFN0cmluZyBkZXNjcmliaW5nIG1ldGhvZCBhbmQgZGVwZW5kZW50IHByb3BlcnRpZXNcbiAqICAgZm9yIGNvbXB1dGluZyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSAoZS5nLiBgJ2NvbXB1dGVGb28oYmFyLCB6b3QpJ2ApLlxuICogICBDb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSByZWFkLW9ubHkgYnkgZGVmYXVsdCBhbmQgY2FuIG9ubHkgYmUgY2hhbmdlZFxuICogICB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tcHV0aW5nIG1ldGhvZC5cbiAqXG4gKiBgb2JzZXJ2ZXJzYDogQXJyYXkgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIG11bHRpLXByb3BlcnR5IG9ic2VydmVyIG1ldGhvZHNcbiAqICBhbmQgdGhlaXIgZGVwZW5kZW50IHByb3BlcnRpZXMgKGUuZy4gYCdvYnNlcnZlQUJDKGEsIGIsIGMpJ2ApLlxuICpcbiAqIGBsaXN0ZW5lcnNgOiBPYmplY3QgZGVzY3JpYmluZyBldmVudCBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQgdG8gZWFjaFxuICogIGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCAoa2V5OiBldmVudCBuYW1lLCB2YWx1ZTogbWV0aG9kIG5hbWUpLlxuICpcbiAqIGBiZWhhdmlvcnNgOiBBcnJheSBvZiBhZGRpdGlvbmFsIGBpbmZvYCBvYmplY3RzIGNvbnRhaW5pbmcgbWV0YWRhdGFcbiAqIGFuZCBjYWxsYmFja3MgaW4gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgaW5mb2Agb2JqZWN0IGhlcmUgd2hpY2ggYXJlXG4gKiBtZXJnZWQgaW50byB0aGlzIGVsZW1lbnQuXG4gKlxuICogYGhvc3RBdHRyaWJ1dGVzYDogT2JqZWN0IGxpc3RpbmcgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBob3N0XG4gKiAgb25jZSBjcmVhdGVkIChrZXk6IGF0dHJpYnV0ZSBuYW1lLCB2YWx1ZTogYXR0cmlidXRlIHZhbHVlKS4gIFZhbHVlc1xuICogIGFyZSBzZXJpYWxpemVkIGJhc2VkIG9uIHRoZSB0eXBlIG9mIHRoZSB2YWx1ZS4gIEhvc3QgYXR0cmlidXRlcyBzaG91bGRcbiAqICBnZW5lcmFsbHkgYmUgbGltaXRlZCB0byBhdHRyaWJ1dGVzIHN1Y2ggYXMgYHRhYkluZGV4YCBhbmQgYGFyaWEtLi4uYC5cbiAqICBBdHRyaWJ1dGVzIGluIGBob3N0QXR0cmlidXRlc2AgYXJlIG9ubHkgYXBwbGllZCBpZiBhIHVzZXItc3VwcGxpZWRcbiAqICBhdHRyaWJ1dGUgaXMgbm90IGFscmVhZHkgcHJlc2VudCAoYXR0cmlidXRlcyBpbiBtYXJrdXAgb3ZlcnJpZGVcbiAqICBgaG9zdEF0dHJpYnV0ZXNgKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGZvbGxvd2luZyBQb2x5bWVyLXNwZWNpZmljIGNhbGxiYWNrcyBtYXkgYmUgcHJvdmlkZWQ6XG4gKiAtIGByZWdpc3RlcmVkYDogY2FsbGVkIGFmdGVyIGZpcnN0IGluc3RhbmNlIG9mIHRoaXMgZWxlbWVudCxcbiAqIC0gYGNyZWF0ZWRgOiBjYWxsZWQgZHVyaW5nIGBjb25zdHJ1Y3RvcmBcbiAqIC0gYGF0dGFjaGVkYDogY2FsbGVkIGR1cmluZyBgY29ubmVjdGVkQ2FsbGJhY2tgXG4gKiAtIGBkZXRhY2hlZGA6IGNhbGxlZCBkdXJpbmcgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYFxuICogLSBgcmVhZHlgOiBjYWxsZWQgYmVmb3JlIGZpcnN0IGBhdHRhY2hlZGAsIGFmdGVyIGFsbCBwcm9wZXJ0aWVzIG9mXG4gKiAgIHRoaXMgZWxlbWVudCBoYXZlIGJlZW4gcHJvcGFnYXRlZCB0byBpdHMgdGVtcGxhdGUgYW5kIGFsbCBvYnNlcnZlcnNcbiAqICAgaGF2ZSBydW5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihUKTpUfSBtaXhpbiBPcHRpb25hbCBtaXhpbiB0byBhcHBseSB0byBsZWdhY3kgYmFzZSBjbGFzc1xuICogICBiZWZvcmUgZXh0ZW5kaW5nIHdpdGggUG9seW1lciBtZXRhcHJvZ3JhbW1pbmcuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6SFRNTEVsZW1lbnQpfSBHZW5lcmF0ZWQgY2xhc3NcbiAqL1xuZXhwb3J0IGNvbnN0IENsYXNzID0gZnVuY3Rpb24oaW5mbywgbWl4aW4pIHtcbiAgaWYgKCFpbmZvKSB7XG4gICAgY29uc29sZS53YXJuKCdQb2x5bWVyLkNsYXNzIHJlcXVpcmVzIGBpbmZvYCBhcmd1bWVudCcpO1xuICB9XG4gIGxldCBrbGFzcyA9IG1peGluID8gbWl4aW4oTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KSkgOlxuICAgICAgTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KTtcbiAga2xhc3MgPSBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oaW5mbywga2xhc3MsIGluZm8uYmVoYXZpb3JzKTtcbiAgLy8gZGVjb3JhdGUga2xhc3Mgd2l0aCByZWdpc3RyYXRpb24gaW5mb1xuICBrbGFzcy5pcyA9IGtsYXNzLnByb3RvdHlwZS5pcyA9IGluZm8uaXM7XG4gIHJldHVybiBrbGFzcztcbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuL2NsYXNzLmpzJztcblxuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuLyoqXG4gKiBMZWdhY3kgY2xhc3MgZmFjdG9yeSBhbmQgcmVnaXN0cmF0aW9uIGhlbHBlciBmb3IgZGVmaW5pbmcgUG9seW1lclxuICogZWxlbWVudHMuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0b1xuICpcbiAqICAgICBpbXBvcnQge0NsYXNzfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvY2xhc3MuanMnO1xuICogICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShpbmZvLmlzLCBDbGFzcyhpbmZvKSk7XG4gKlxuICogU2VlIGBDbGFzc2AgZm9yIGRldGFpbHMgb24gdmFsaWQgbGVnYWN5IG1ldGFkYXRhIGZvcm1hdCBmb3IgYGluZm9gLlxuICpcbiAqIEBnbG9iYWxcbiAqIEBvdmVycmlkZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFQb2x5bWVySW5pdH0gaW5mbyBPYmplY3QgY29udGFpbmluZyBQb2x5bWVyIG1ldGFkYXRhIGFuZCBmdW5jdGlvbnNcbiAqICAgdG8gYmVjb21lIGNsYXNzIG1ldGhvZHMuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6IEhUTUxFbGVtZW50KX0gR2VuZXJhdGVkIGNsYXNzXG4gKiBAc3VwcHJlc3Mge2R1cGxpY2F0ZSwgaW52YWxpZENhc3RzLCBjaGVja1R5cGVzfVxuICovXG5jb25zdCBQb2x5bWVyID0gZnVuY3Rpb24oaW5mbykge1xuICAvLyBpZiBpbnB1dCBpcyBhIGBjbGFzc2AgKGFrYSBhIGZ1bmN0aW9uIHdpdGggYSBwcm90b3R5cGUpLCB1c2UgdGhlIHByb3RvdHlwZVxuICAvLyByZW1lbWJlciB0aGF0IHRoZSBgY29uc3RydWN0b3JgIHdpbGwgbmV2ZXIgYmUgY2FsbGVkXG4gIGxldCBrbGFzcztcbiAgaWYgKHR5cGVvZiBpbmZvID09PSAnZnVuY3Rpb24nKSB7XG4gICAga2xhc3MgPSBpbmZvO1xuICB9IGVsc2Uge1xuICAgIGtsYXNzID0gUG9seW1lci5DbGFzcyhpbmZvKTtcbiAgfVxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoa2xhc3MuaXMsIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhrbGFzcykpO1xuICByZXR1cm4ga2xhc3M7XG59O1xuXG5Qb2x5bWVyLkNsYXNzID0gQ2xhc3M7XG5cbmV4cG9ydCB7IFBvbHltZXIgfTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuLy8gQ29tbW9uIGltcGxlbWVudGF0aW9uIGZvciBtaXhpbiAmIGJlaGF2aW9yXG5mdW5jdGlvbiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UoaW5zdCwgcHJvcGVydHksIHZhbHVlLCBvbGQsIG11dGFibGVEYXRhKSB7XG4gIGxldCBpc09iamVjdDtcbiAgaWYgKG11dGFibGVEYXRhKSB7XG4gICAgaXNPYmplY3QgPSAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCk7XG4gICAgLy8gUHVsbCBgb2xkYCBmb3IgT2JqZWN0cyBmcm9tIHRlbXAgY2FjaGUsIGJ1dCB0cmVhdCBgbnVsbGAgYXMgYSBwcmltaXRpdmVcbiAgICBpZiAoaXNPYmplY3QpIHtcbiAgICAgIG9sZCA9IGluc3QuX19kYXRhVGVtcFtwcm9wZXJ0eV07XG4gICAgfVxuICB9XG4gIC8vIFN0cmljdCBlcXVhbGl0eSBjaGVjaywgYnV0IHJldHVybiBmYWxzZSBmb3IgTmFOPT09TmFOXG4gIGxldCBzaG91bGRDaGFuZ2UgPSAob2xkICE9PSB2YWx1ZSAmJiAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKSk7XG4gIC8vIE9iamVjdHMgYXJlIHN0b3JlZCBpbiB0ZW1wb3JhcnkgY2FjaGUgKGNsZWFyZWQgYXQgZW5kIG9mXG4gIC8vIHR1cm4pLCB3aGljaCBpcyB1c2VkIGZvciBkaXJ0eS1jaGVja2luZ1xuICBpZiAoaXNPYmplY3QgJiYgc2hvdWxkQ2hhbmdlKSB7XG4gICAgaW5zdC5fX2RhdGFUZW1wW3Byb3BlcnR5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBzaG91bGRDaGFuZ2U7XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKSwgZm9yIHVzZSBvbiBlbGVtZW50cyB1dGlsaXppbmdcbiAqIGBQcm9wZXJ0eUVmZmVjdHNgXG4gKlxuICogQnkgZGVmYXVsdCwgYFByb3BlcnR5RWZmZWN0c2AgcGVyZm9ybXMgc3RyaWN0IGRpcnR5IGNoZWNraW5nIG9uXG4gKiBvYmplY3RzLCB3aGljaCBtZWFucyB0aGF0IGFueSBkZWVwIG1vZGlmaWNhdGlvbnMgdG8gYW4gb2JqZWN0IG9yIGFycmF5IHdpbGxcbiAqIG5vdCBiZSBwcm9wYWdhdGVkIHVubGVzcyBcImltbXV0YWJsZVwiIGRhdGEgcGF0dGVybnMgYXJlIHVzZWQgKGkuZS4gYWxsIG9iamVjdFxuICogcmVmZXJlbmNlcyBmcm9tIHRoZSByb290IHRvIHRoZSBtdXRhdGlvbiB3ZXJlIGNoYW5nZWQpLlxuICpcbiAqIFBvbHltZXIgYWxzbyBwcm92aWRlcyBhIHByb3ByaWV0YXJ5IGRhdGEgbXV0YXRpb24gYW5kIHBhdGggbm90aWZpY2F0aW9uIEFQSVxuICogKGUuZy4gYG5vdGlmeVBhdGhgLCBgc2V0YCwgYW5kIGFycmF5IG11dGF0aW9uIEFQSSdzKSB0aGF0IGFsbG93IGVmZmljaWVudFxuICogbXV0YXRpb24gYW5kIG5vdGlmaWNhdGlvbiBvZiBkZWVwIGNoYW5nZXMgaW4gYW4gb2JqZWN0IGdyYXBoIHRvIGFsbCBlbGVtZW50c1xuICogYm91bmQgdG8gdGhlIHNhbWUgb2JqZWN0IGdyYXBoLlxuICpcbiAqIEluIGNhc2VzIHdoZXJlIG5laXRoZXIgaW1tdXRhYmxlIHBhdHRlcm5zIG5vciB0aGUgZGF0YSBtdXRhdGlvbiBBUEkgY2FuIGJlXG4gKiB1c2VkLCBhcHBseWluZyB0aGlzIG1peGluIHdpbGwgY2F1c2UgUG9seW1lciB0byBza2lwIGRpcnR5IGNoZWNraW5nIGZvclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLiAgVGhpcyBhbGxvd3MgYVxuICogdXNlciB0byBtYWtlIGEgZGVlcCBtb2RpZmljYXRpb24gdG8gYSBib3VuZCBvYmplY3QgZ3JhcGgsIGFuZCB0aGVuIGVpdGhlclxuICogc2ltcGx5IHJlLXNldCB0aGUgb2JqZWN0IChlLmcuIGB0aGlzLml0ZW1zID0gdGhpcy5pdGVtc2ApIG9yIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAoZS5nLiBgdGhpcy5ub3RpZnlQYXRoKCdpdGVtcycpYCkgdG8gdXBkYXRlIHRoZSB0cmVlLiAgTm90ZSB0aGF0IGFsbFxuICogZWxlbWVudHMgdGhhdCB3aXNoIHRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gZGVlcCBtdXRhdGlvbnMgbXVzdCBhcHBseSB0aGlzXG4gKiBtaXhpbiBvciBvdGhlcndpc2Ugc2tpcCBzdHJpY3QgZGlydHkgY2hlY2tpbmcgZm9yIG9iamVjdHMvYXJyYXlzLlxuICogU3BlY2lmaWNhbGx5LCBhbnkgZWxlbWVudHMgaW4gdGhlIGJpbmRpbmcgdHJlZSBiZXR3ZWVuIHRoZSBzb3VyY2Ugb2YgYVxuICogbXV0YXRpb24gYW5kIHRoZSBjb25zdW1wdGlvbiBvZiBpdCBtdXN0IGFwcGx5IHRoaXMgbWl4aW4gb3IgZW5hYmxlIHRoZVxuICogYE9wdGlvbmFsTXV0YWJsZURhdGFgIG1peGluLlxuICpcbiAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRpcnR5IGNoZWNrIHN0cmF0ZWd5IGNvbmZpZ3VyYWJsZSwgc2VlXG4gKiBgT3B0aW9uYWxNdXRhYmxlRGF0YWAuXG4gKlxuICogTm90ZSwgdGhlIHBlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcyBvZiBwcm9wYWdhdGluZyBsYXJnZSBvYmplY3QgZ3JhcGhzXG4gKiB3aWxsIGJlIHdvcnNlIGFzIG9wcG9zZWQgdG8gdXNpbmcgc3RyaWN0IGRpcnR5IGNoZWNraW5nIHdpdGggaW1tdXRhYmxlXG4gKiBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb24gQVBJLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0c1xuICogICBhbmQgYXJyYXlzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgTXV0YWJsZURhdGEgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9NdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE11dGFibGVEYXRhIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUVmZmVjdHNgIHRvIHByb3ZpZGUgb3B0aW9uIGZvciBza2lwcGluZ1xuICAgICAqIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyBmb3IgT2JqZWN0cyBhbmQgQXJyYXlzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgXG4gICAgICogY2FjaGUgKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRydWUpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIE11dGFibGVEYXRhO1xuXG59KTtcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRvIGFkZCB0aGUgb3B0aW9uYWwgYWJpbGl0eSB0byBza2lwIHN0cmljdFxuICogZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqIFwiZGlydHlcIikgYnkgc2V0dGluZyBhIGBtdXRhYmxlLWRhdGFgIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50IGluc3RhbmNlLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQcm9wZXJ0eUVmZmVjdHNgIHBlcmZvcm1zIHN0cmljdCBkaXJ0eSBjaGVja2luZyBvblxuICogb2JqZWN0cywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgZGVlcCBtb2RpZmljYXRpb25zIHRvIGFuIG9iamVjdCBvciBhcnJheSB3aWxsXG4gKiBub3QgYmUgcHJvcGFnYXRlZCB1bmxlc3MgXCJpbW11dGFibGVcIiBkYXRhIHBhdHRlcm5zIGFyZSB1c2VkIChpLmUuIGFsbCBvYmplY3RcbiAqIHJlZmVyZW5jZXMgZnJvbSB0aGUgcm9vdCB0byB0aGUgbXV0YXRpb24gd2VyZSBjaGFuZ2VkKS5cbiAqXG4gKiBQb2x5bWVyIGFsc28gcHJvdmlkZXMgYSBwcm9wcmlldGFyeSBkYXRhIG11dGF0aW9uIGFuZCBwYXRoIG5vdGlmaWNhdGlvbiBBUElcbiAqIChlLmcuIGBub3RpZnlQYXRoYCwgYHNldGAsIGFuZCBhcnJheSBtdXRhdGlvbiBBUEkncykgdGhhdCBhbGxvdyBlZmZpY2llbnRcbiAqIG11dGF0aW9uIGFuZCBub3RpZmljYXRpb24gb2YgZGVlcCBjaGFuZ2VzIGluIGFuIG9iamVjdCBncmFwaCB0byBhbGwgZWxlbWVudHNcbiAqIGJvdW5kIHRvIHRoZSBzYW1lIG9iamVjdCBncmFwaC5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBuZWl0aGVyIGltbXV0YWJsZSBwYXR0ZXJucyBub3IgdGhlIGRhdGEgbXV0YXRpb24gQVBJIGNhbiBiZVxuICogdXNlZCwgYXBwbHlpbmcgdGhpcyBtaXhpbiB3aWxsIGFsbG93IFBvbHltZXIgdG8gc2tpcCBkaXJ0eSBjaGVja2luZyBmb3JcbiAqIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKS4gIFRoaXMgYWxsb3dzIGFcbiAqIHVzZXIgdG8gbWFrZSBhIGRlZXAgbW9kaWZpY2F0aW9uIHRvIGEgYm91bmQgb2JqZWN0IGdyYXBoLCBhbmQgdGhlbiBlaXRoZXJcbiAqIHNpbXBseSByZS1zZXQgdGhlIG9iamVjdCAoZS5nLiBgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXNgKSBvciBjYWxsIGBub3RpZnlQYXRoYFxuICogKGUuZy4gYHRoaXMubm90aWZ5UGF0aCgnaXRlbXMnKWApIHRvIHVwZGF0ZSB0aGUgdHJlZS4gIE5vdGUgdGhhdCBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgd2lzaCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGRlZXAgbXV0YXRpb25zIG11c3QgYXBwbHkgdGhpc1xuICogbWl4aW4gb3Igb3RoZXJ3aXNlIHNraXAgc3RyaWN0IGRpcnR5IGNoZWNraW5nIGZvciBvYmplY3RzL2FycmF5cy5cbiAqIFNwZWNpZmljYWxseSwgYW55IGVsZW1lbnRzIGluIHRoZSBiaW5kaW5nIHRyZWUgYmV0d2VlbiB0aGUgc291cmNlIG9mIGFcbiAqIG11dGF0aW9uIGFuZCB0aGUgY29uc3VtcHRpb24gb2YgaXQgbXVzdCBlbmFibGUgdGhpcyBtaXhpbiBvciBhcHBseSB0aGVcbiAqIGBNdXRhYmxlRGF0YWAgbWl4aW4uXG4gKlxuICogV2hpbGUgdGhpcyBtaXhpbiBhZGRzIHRoZSBhYmlsaXR5IHRvIGZvcmdvIE9iamVjdC9BcnJheSBkaXJ0eSBjaGVja2luZyxcbiAqIHRoZSBgbXV0YWJsZURhdGFgIGZsYWcgZGVmYXVsdHMgdG8gZmFsc2UgYW5kIG11c3QgYmUgc2V0IG9uIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYnkgcmVseWluZyBvbiBgbXV0YWJsZURhdGE6IHRydWVgIGFzIG9wcG9zZWQgdG8gdXNpbmdcbiAqIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZSBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb25cbiAqIEFQSS5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gb3B0aW9uYWxseSBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZ1xuICogICBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25hbE11dGFibGVEYXRhID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQG1peGluQ2xhc3NcbiAgICogQHBvbHltZXJcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfT3B0aW9uYWxNdXRhYmxlRGF0YX1cbiAgICovXG4gIGNsYXNzIE9wdGlvbmFsTXV0YWJsZURhdGEgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnN0YW5jZS1sZXZlbCBmbGFnIGZvciBjb25maWd1cmluZyB0aGUgZGlydHktY2hlY2tpbmcgc3RyYXRlZ3lcbiAgICAgICAgICogZm9yIHRoaXMgZWxlbWVudC4gIFdoZW4gdHJ1ZSwgT2JqZWN0cyBhbmQgQXJyYXlzIHdpbGwgc2tpcCBkaXJ0eVxuICAgICAgICAgKiBjaGVja2luZywgb3RoZXJ3aXNlIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyB3aWxsIGJlIHVzZWQuXG4gICAgICAgICAqL1xuICAgICAgICBtdXRhYmxlRGF0YTogQm9vbGVhblxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gcHJvdmlkZSBvcHRpb24gZm9yIHNraXBwaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAgICpcbiAgICAgKiBXaGVuIGB0aGlzLm11dGFibGVEYXRhYCBpcyB0cnVlIG9uIHRoaXMgaW5zdGFuY2UsIHRoaXMgbWV0aG9kXG4gICAgICogcHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgIGNhY2hlXG4gICAgICogKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRoaXMubXV0YWJsZURhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBPcHRpb25hbE11dGFibGVEYXRhO1xuXG59KTtcblxuLy8gRXhwb3J0IGZvciB1c2UgYnkgbGVnYWN5IGJlaGF2aW9yXG5NdXRhYmxlRGF0YS5fbXV0YWJsZVByb3BlcnR5Q2hhbmdlID0gbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgZm9yIHByZXBhcmluZyBhbmQgc3RhbXBpbmcgaW5zdGFuY2VzIG9mIHRlbXBsYXRlcyB0aGF0IHV0aWxpemVcbiAqIFBvbHltZXIncyBkYXRhLWJpbmRpbmcgYW5kIGRlY2xhcmF0aXZlIGV2ZW50IGxpc3RlbmVyIGZlYXR1cmVzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIC8vIEdldCBhIHRlbXBsYXRlIGZyb20gc29tZXdoZXJlLCBlLmcuIGxpZ2h0IERPTVxuICogICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKTtcbiAqICAgICAvLyBQcmVwYXJlIHRoZSB0ZW1wbGF0ZVxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlKTtcbiAqICAgICAvLyBJbnN0YW5jZSB0aGUgdGVtcGxhdGUgd2l0aCBhbiBpbml0aWFsIGRhdGEgbW9kZWxcbiAqICAgICBsZXQgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVDbGFzcyh7bXlQcm9wOiAnaW5pdGlhbCd9KTtcbiAqICAgICAvLyBJbnNlcnQgdGhlIGluc3RhbmNlJ3MgRE9NIHNvbWV3aGVyZSwgZS5nLiBlbGVtZW50J3Mgc2hhZG93IERPTVxuICogICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChpbnN0YW5jZS5yb290KTtcbiAqICAgICAvLyBDaGFuZ2luZyBhIHByb3BlcnR5IG9uIHRoZSBpbnN0YW5jZSB3aWxsIHByb3BhZ2F0ZSB0byBiaW5kaW5nc1xuICogICAgIC8vIGluIHRoZSB0ZW1wbGF0ZVxuICogICAgIGluc3RhbmNlLm15UHJvcCA9ICduZXcgdmFsdWUnO1xuICpcbiAqIFRoZSBgb3B0aW9uc2AgZGljdGlvbmFyeSBwYXNzZWQgdG8gYHRlbXBsYXRpemVgIGFsbG93cyBmb3IgY3VzdG9taXppbmdcbiAqIGZlYXR1cmVzIG9mIHRoZSBnZW5lcmF0ZWQgdGVtcGxhdGUgY2xhc3MsIGluY2x1ZGluZyBob3cgb3V0ZXItc2NvcGUgaG9zdFxuICogcHJvcGVydGllcyBzaG91bGQgYmUgZm9yd2FyZGVkIGludG8gdGVtcGxhdGUgaW5zdGFuY2VzLCBob3cgYW55IGluc3RhbmNlXG4gKiBwcm9wZXJ0aWVzIGFkZGVkIGludG8gdGhlIHRlbXBsYXRlJ3Mgc2NvcGUgc2hvdWxkIGJlIG5vdGlmaWVkIG91dCB0b1xuICogdGhlIGhvc3QsIGFuZCB3aGV0aGVyIHRoZSBpbnN0YW5jZSBzaG91bGQgYmUgZGVjb3JhdGVkIGFzIGEgXCJwYXJlbnQgbW9kZWxcIlxuICogb2YgYW55IGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqICAgICAvLyBDdXN0b21pemUgcHJvcGVydHkgZm9yd2FyZGluZyBhbmQgZXZlbnQgbW9kZWwgZGVjb3JhdGlvblxuICogICAgIGxldCBUZW1wbGF0ZUNsYXNzID0gVGVtcGxhdGl6ZS50ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gKiAgICAgICBwYXJlbnRNb2RlbDogdHJ1ZSxcbiAqICAgICAgIGZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpIHsuLi59LFxuICogICAgICAgaW5zdGFuY2VQcm9wczogey4uLn0sXG4gKiAgICAgICBub3RpZnlJbnN0YW5jZVByb3AoaW5zdGFuY2UsIHByb3BlcnR5LCB2YWx1ZSkgey4uLn0sXG4gKiAgICAgfSk7XG4gKlxuICogQHN1bW1hcnkgTW9kdWxlIGZvciBwcmVwYXJpbmcgYW5kIHN0YW1waW5nIGluc3RhbmNlcyBvZiB0ZW1wbGF0ZXNcbiAqICAgdXRpbGl6aW5nIFBvbHltZXIgdGVtcGxhdGluZyBmZWF0dXJlcy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IFByb3BlcnR5RWZmZWN0cyB9IGZyb20gJy4uL21peGlucy9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBzdHJpY3RUZW1wbGF0ZVBvbGljeSB9IGZyb20gJy4vc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4vd3JhcC5qcyc7XG5cbi8vIEJhc2UgY2xhc3MgZm9yIEhUTUxUZW1wbGF0ZUVsZW1lbnQgZXh0ZW5zaW9uIHRoYXQgaGFzIHByb3BlcnR5IGVmZmVjdHNcbi8vIG1hY2hpbmVyeSBmb3IgcHJvcGFnYXRpbmcgaG9zdCBwcm9wZXJ0aWVzIHRvIGNoaWxkcmVuLiBUaGlzIGlzIGFuIEVTNVxuLy8gY2xhc3Mgb25seSBiZWNhdXNlIEJhYmVsIChpbmNvcnJlY3RseSkgcmVxdWlyZXMgc3VwZXIoKSBpbiB0aGUgY2xhc3Ncbi8vIGNvbnN0cnVjdG9yIGV2ZW4gdGhvdWdoIG5vIGB0aGlzYCBpcyB1c2VkIGFuZCBpdCByZXR1cm5zIGFuIGluc3RhbmNlLlxubGV0IG5ld0luc3RhbmNlID0gbnVsbDtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbigpIHsgcmV0dXJuIG5ld0luc3RhbmNlOyB9XG5IVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSFRNTFRlbXBsYXRlRWxlbWVudC5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0b3I6IHtcbiAgICB2YWx1ZTogSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbixcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9XG59KTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBleHRlbmRzIHtIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9ufVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgRGF0YVRlbXBsYXRlID0gUHJvcGVydHlFZmZlY3RzKEhUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb24pO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfTXV0YWJsZURhdGF9XG4gKiBAZXh0ZW5kcyB7RGF0YVRlbXBsYXRlfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTXV0YWJsZURhdGFUZW1wbGF0ZSA9IE11dGFibGVEYXRhKERhdGFUZW1wbGF0ZSk7XG5cbi8vIEFwcGxpZXMgYSBEYXRhVGVtcGxhdGUgc3ViY2xhc3MgdG8gYSA8dGVtcGxhdGU+IGluc3RhbmNlXG5mdW5jdGlvbiB1cGdyYWRlVGVtcGxhdGUodGVtcGxhdGUsIGNvbnN0cnVjdG9yKSB7XG4gIG5ld0luc3RhbmNlID0gdGVtcGxhdGU7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZih0ZW1wbGF0ZSwgY29uc3RydWN0b3IucHJvdG90eXBlKTtcbiAgbmV3IGNvbnN0cnVjdG9yKCk7XG4gIG5ld0luc3RhbmNlID0gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBUZW1wbGF0ZUluc3RhbmNlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7SFRNTEVsZW1lbnR9XG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCB0ZW1wbGF0ZUluc3RhbmNlQmFzZSA9IFByb3BlcnR5RWZmZWN0cyhcbiAgICAvLyBUaGlzIGNhc3Qgc2hvdWxkbid0IGJlIG5lY2Nlc3NhcnksIGJ1dCBDbG9zdXJlIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGF0XG4gICAgLy8gXCJjbGFzcyB7fVwiIGlzIGEgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAgLyoqIEB0eXBlIHtmdW5jdGlvbihuZXc6T2JqZWN0KX0gKi8oY2xhc3Mge30pKTtcblxuLyoqXG4gKiBAcG9seW1lclxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydHlFZmZlY3RzXG4gKiBAdW5yZXN0cmljdGVkXG4gKi9cbmNsYXNzIFRlbXBsYXRlSW5zdGFuY2VCYXNlIGV4dGVuZHMgdGVtcGxhdGVJbnN0YW5jZUJhc2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uZmlndXJlUHJvcGVydGllcyhwcm9wcyk7XG4gICAgLyoqIEB0eXBlIHshU3RhbXBlZFRlbXBsYXRlfSAqL1xuICAgIHRoaXMucm9vdCA9IHRoaXMuX3N0YW1wVGVtcGxhdGUodGhpcy5fX2RhdGFIb3N0KTtcbiAgICAvLyBTYXZlIGxpc3Qgb2Ygc3RhbXBlZCBjaGlsZHJlblxuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIC8qKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gKi9cbiAgICB0aGlzLmNoaWxkcmVuID0gLyoqIEB0eXBlIHshTm9kZUxpc3R9ICovIChjaGlsZHJlbik7XG4gICAgLy8gUG9seW1lciAxLnggZGlkIG5vdCB1c2UgYFBvbHltZXIuZG9tYCBoZXJlIHNvIG5vdCBib3RoZXJpbmcuXG4gICAgZm9yIChsZXQgbiA9IHRoaXMucm9vdC5maXJzdENoaWxkOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2gobik7XG4gICAgICBuLl9fdGVtcGxhdGl6ZUluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX190ZW1wbGF0aXplT3duZXIgJiZcbiAgICAgIHRoaXMuX190ZW1wbGF0aXplT3duZXIuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSB7XG4gICAgICB0aGlzLl9zaG93SGlkZUNoaWxkcmVuKHRydWUpO1xuICAgIH1cbiAgICAvLyBGbHVzaCBwcm9wcyBvbmx5IHdoZW4gcHJvcHMgYXJlIHBhc3NlZCBpZiBpbnN0YW5jZSBwcm9wcyBleGlzdFxuICAgIC8vIG9yIHdoZW4gdGhlcmUgaXNuJ3QgaW5zdGFuY2UgcHJvcHMuXG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnM7XG4gICAgaWYgKChwcm9wcyAmJiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHx8ICFvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICAgIHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB0aGUgZ2l2ZW4gYHByb3BzYCBieSBjYWxsaW5nIGBfc2V0UGVuZGluZ1Byb3BlcnR5YC4gQWxzb1xuICAgKiBzZXRzIGFueSBwcm9wZXJ0aWVzIHN0b3JlZCBpbiBgX19ob3N0UHJvcHNgLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgT2JqZWN0IG9mIHByb3BlcnR5IG5hbWUtdmFsdWUgcGFpcnMgdG8gc2V0LlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgX2NvbmZpZ3VyZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuX190ZW1wbGF0aXplT3B0aW9ucztcbiAgICBpZiAob3B0aW9ucy5mb3J3YXJkSG9zdFByb3ApIHtcbiAgICAgIGZvciAobGV0IGhwcm9wIGluIHRoaXMuX19ob3N0UHJvcHMpIHtcbiAgICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGhwcm9wLCB0aGlzLl9fZGF0YUhvc3RbJ19ob3N0XycgKyBocHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBbnkgaW5zdGFuY2UgcHJvcHMgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3RvciB3aWxsIG92ZXJ3cml0ZSBob3N0IHByb3BzO1xuICAgIC8vIG5vcm1hbGx5IHRoaXMgd291bGQgYmUgYSB1c2VyIGVycm9yIGJ1dCB3ZSBkb24ndCBzcGVjaWZpY2FsbHkgZmlsdGVyIHRoZW1cbiAgICBmb3IgKGxldCBpcHJvcCBpbiBwcm9wcykge1xuICAgICAgdGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KGlwcm9wLCBwcm9wc1tpcHJvcF0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRm9yd2FyZHMgYSBob3N0IHByb3BlcnR5IHRvIHRoaXMgaW5zdGFuY2UuICBUaGlzIG1ldGhvZCBzaG91bGQgYmVcbiAgICogY2FsbGVkIG9uIGluc3RhbmNlcyBmcm9tIHRoZSBgb3B0aW9ucy5mb3J3YXJkSG9zdFByb3BgIGNhbGxiYWNrXG4gICAqIHRvIHByb3BhZ2F0ZSBjaGFuZ2VzIG9mIGhvc3QgcHJvcGVydGllcyB0byBlYWNoIGluc3RhbmNlLlxuICAgKlxuICAgKiBOb3RlIHRoaXMgbWV0aG9kIGVucXVldWVzIHRoZSBjaGFuZ2UsIHdoaWNoIGFyZSBmbHVzaGVkIGFzIGEgYmF0Y2guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG9yIHBhdGggbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9mIHRoZSBwcm9wZXJ0eSB0byBmb3J3YXJkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBmb3J3YXJkSG9zdFByb3AocHJvcCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHByb3AsIHZhbHVlLCBmYWxzZSwgdHJ1ZSkpIHtcbiAgICAgIHRoaXMuX19kYXRhSG9zdC5fZW5xdWV1ZUNsaWVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIGFkZGluZyBjdXN0b20gb3Igc2ltdWxhdGVkIGV2ZW50IGhhbmRsaW5nLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYWRkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAodGhpcy5fbWV0aG9kSG9zdCAmJiB0aGlzLl9fdGVtcGxhdGl6ZU9wdGlvbnMucGFyZW50TW9kZWwpIHtcbiAgICAgIC8vIElmIHRoaXMgaW5zdGFuY2Ugc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBwYXJlbnQgbW9kZWwsIGRlY29yYXRlXG4gICAgICAvLyBldmVudHMgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZSBhcyBgbW9kZWxgXG4gICAgICB0aGlzLl9tZXRob2RIb3N0Ll9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgICAgZS5tb2RlbCA9IHRoaXM7XG4gICAgICAgIGhhbmRsZXIoZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIGRlbGVnYXRlIHRvIHRoZSB0ZW1wbGF0ZSdzIGhvc3QgKHdoaWNoIGNvdWxkIGJlKVxuICAgICAgLy8gYW5vdGhlciB0ZW1wbGF0ZSBpbnN0YW5jZVxuICAgICAgbGV0IHRlbXBsYXRlSG9zdCA9IHRoaXMuX19kYXRhSG9zdC5fX2RhdGFIb3N0O1xuICAgICAgaWYgKHRlbXBsYXRlSG9zdCkge1xuICAgICAgICB0ZW1wbGF0ZUhvc3QuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZSBTZXQgdG8gdHJ1ZSB0byBoaWRlIHRoZSBjaGlsZHJlbjtcbiAgICogc2V0IHRvIGZhbHNlIHRvIHNob3cgdGhlbS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSkge1xuICAgIGxldCBjID0gdGhpcy5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpPTA7IGk8Yy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSBjW2ldO1xuICAgICAgLy8gSWdub3JlIG5vbi1jaGFuZ2VzXG4gICAgICBpZiAoQm9vbGVhbihoaWRlKSAhPSBCb29sZWFuKG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fKSkge1xuICAgICAgICBpZiAobi5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgbi5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIG4udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbi50ZXh0Q29udGVudCA9IG4uX19wb2x5bWVyVGV4dENvbnRlbnRfXztcbiAgICAgICAgICB9XG4gICAgICAgIC8vIHJlbW92ZSBhbmQgcmVwbGFjZSBzbG90XG4gICAgICAgIH0gZWxzZSBpZiAobi5sb2NhbE5hbWUgPT09ICdzbG90Jykge1xuICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICBuLl9fcG9seW1lclJlcGxhY2VkX18gPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdoaWRkZW4tc2xvdCcpO1xuICAgICAgICAgICAgd3JhcCh3cmFwKG4pLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLl9fcG9seW1lclJlcGxhY2VkX18sIG4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXBsYWNlID0gbi5fX3BvbHltZXJSZXBsYWNlZF9fO1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgd3JhcCh3cmFwKHJlcGxhY2UpLnBhcmVudE5vZGUpLnJlcGxhY2VDaGlsZChuLCByZXBsYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChuLnN0eWxlKSB7XG4gICAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAgIG4uX19wb2x5bWVyRGlzcGxheV9fID0gbi5zdHlsZS5kaXNwbGF5O1xuICAgICAgICAgICAgbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuLnN0eWxlLmRpc3BsYXkgPSBuLl9fcG9seW1lckRpc3BsYXlfXztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG4uX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fID0gaGlkZTtcbiAgICAgIGlmIChuLl9zaG93SGlkZUNoaWxkcmVuKSB7XG4gICAgICAgIG4uX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPdmVycmlkZXMgZGVmYXVsdCBwcm9wZXJ0eS1lZmZlY3RzIGltcGxlbWVudGF0aW9uIHRvIGludGVyY2VwdFxuICAgKiB0ZXh0Q29udGVudCBiaW5kaW5ncyB3aGlsZSBjaGlsZHJlbiBhcmUgXCJoaWRkZW5cIiBhbmQgY2FjaGUgaW5cbiAgICogcHJpdmF0ZSBzdG9yYWdlIGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIFRoZSBub2RlIHRvIHNldCBhIHByb3BlcnR5IG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSB0byBzZXRcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChub2RlLl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyAmJlxuICAgICAgICBub2RlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFICYmIHByb3AgPT0gJ3RleHRDb250ZW50Jykge1xuICAgICAgbm9kZS5fX3BvbHltZXJUZXh0Q29udGVudF9fID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLl9zZXRVbm1hbmFnZWRQcm9wZXJ0eVRvTm9kZShub2RlLCBwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5kIHRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZS4gIFRoZSBwYXJlbnQgbW9kZWxcbiAgICogaXMgZWl0aGVyIGFub3RoZXIgdGVtcGxhdGl6ZSBpbnN0YW5jZSB0aGF0IGhhZCBvcHRpb24gYHBhcmVudE1vZGVsOiB0cnVlYCxcbiAgICogb3IgZWxzZSB0aGUgaG9zdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IFRoZSBwYXJlbnQgbW9kZWwgb2YgdGhpcyBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0IHBhcmVudE1vZGVsKCkge1xuICAgIGxldCBtb2RlbCA9IHRoaXMuX19wYXJlbnRNb2RlbDtcbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICBsZXQgb3B0aW9ucztcbiAgICAgIG1vZGVsID0gdGhpcztcbiAgICAgIGRvIHtcbiAgICAgICAgLy8gQSB0ZW1wbGF0ZSBpbnN0YW5jZSdzIGBfX2RhdGFIb3N0YCBpcyBhIDx0ZW1wbGF0ZT5cbiAgICAgICAgLy8gYG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdGAgaXMgdGhlIHRlbXBsYXRlJ3MgaG9zdFxuICAgICAgICBtb2RlbCA9IG1vZGVsLl9fZGF0YUhvc3QuX19kYXRhSG9zdDtcbiAgICAgIH0gd2hpbGUgKChvcHRpb25zID0gbW9kZWwuX190ZW1wbGF0aXplT3B0aW9ucykgJiYgIW9wdGlvbnMucGFyZW50TW9kZWwpO1xuICAgICAgdGhpcy5fX3BhcmVudE1vZGVsID0gbW9kZWw7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHViIG9mIEhUTUxFbGVtZW50J3MgYGRpc3BhdGNoRXZlbnRgLCBzbyB0aGF0IGVmZmVjdHMgdGhhdCBtYXlcbiAgICogZGlzcGF0Y2ggZXZlbnRzIHNhZmVseSBuby1vcC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgdG8gZGlzcGF0Y2hcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gQWx3YXlzIHRydWUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKiogQHR5cGUgeyFEYXRhVGVtcGxhdGV9ICovXG5UZW1wbGF0ZUluc3RhbmNlQmFzZS5wcm90b3R5cGUuX19kYXRhSG9zdDtcbi8qKiBAdHlwZSB7IVRlbXBsYXRpemVPcHRpb25zfSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU9wdGlvbnM7XG4vKiogQHR5cGUgeyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fbWV0aG9kSG9zdDtcbi8qKiBAdHlwZSB7IU9iamVjdH0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX3RlbXBsYXRpemVPd25lcjtcbi8qKiBAdHlwZSB7IU9iamVjdH0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX2hvc3RQcm9wcztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX011dGFibGVEYXRhfVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlID0gTXV0YWJsZURhdGEoXG4gICAgLy8gVGhpcyBjYXN0IHNob3VsZG4ndCBiZSBuZWNlc3NhcnksIGJ1dCBDbG9zdXJlIGRvZXNuJ3Qgc2VlbSB0byB1bmRlcnN0YW5kXG4gICAgLy8gdGhpcyBjb25zdHJ1Y3Rvci5cbiAgICAvKiogQHR5cGUge2Z1bmN0aW9uKG5ldzpUZW1wbGF0ZUluc3RhbmNlQmFzZSl9ICovKFRlbXBsYXRlSW5zdGFuY2VCYXNlKSk7XG5cbmZ1bmN0aW9uIGZpbmRNZXRob2RIb3N0KHRlbXBsYXRlKSB7XG4gIC8vIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkIGJlIHRoZSBvd25lciBvZiB0aGUgb3V0ZXJtb3N0IHRlbXBsYXRlLlxuICAvLyBJbiBzaGFkb3cgZG9tLCB0aGlzIGlzIGFsd2F5cyBnZXRSb290Tm9kZSgpLmhvc3QsIGJ1dCB3ZSBjYW5cbiAgLy8gYXBwcm94aW1hdGUgdGhpcyB2aWEgY29vcGVyYXRpb24gd2l0aCBvdXIgZGF0YUhvc3QgYWx3YXlzIHNldHRpbmdcbiAgLy8gYF9tZXRob2RIb3N0YCBhcyBsb25nIGFzIHRoZXJlIHdlcmUgYmluZGluZ3MgKG9yIGlkJ3MpIG9uIHRoaXNcbiAgLy8gaW5zdGFuY2UgY2F1c2luZyBpdCB0byBnZXQgYSBkYXRhSG9zdC5cbiAgbGV0IHRlbXBsYXRlSG9zdCA9IHRlbXBsYXRlLl9fZGF0YUhvc3Q7XG4gIHJldHVybiB0ZW1wbGF0ZUhvc3QgJiYgdGVtcGxhdGVIb3N0Ll9tZXRob2RIb3N0IHx8IHRlbXBsYXRlSG9zdDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgdmFsaWQtanNkb2MgKi9cbi8qKlxuICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gY2xhc3MucHJvdG90eXBlIGlzIG5vdCBkZWZpbmVkIGZvciBzb21lIHJlYXNvblxuICovXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0aXplckNsYXNzKHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9XG4gICAqL1xuICBsZXQgdGVtcGxhdGl6ZXJCYXNlID0gb3B0aW9ucy5tdXRhYmxlRGF0YSA/XG4gICAgTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlIDogVGVtcGxhdGVJbnN0YW5jZUJhc2U7XG5cbiAgLy8gQWZmb3JkYW5jZSBmb3IgZ2xvYmFsIG1peGlucyBvbnRvIFRlbXBsYXRpemVJbnN0YW5jZVxuICBpZiAodGVtcGxhdGl6ZS5taXhpbikge1xuICAgIHRlbXBsYXRpemVyQmFzZSA9IHRlbXBsYXRpemUubWl4aW4odGVtcGxhdGl6ZXJCYXNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbm9ueW1vdXMgY2xhc3MgY3JlYXRlZCBieSB0aGUgdGVtcGxhdGl6ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxldCBrbGFzcyA9IGNsYXNzIGV4dGVuZHMgdGVtcGxhdGl6ZXJCYXNlIHsgfTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX190ZW1wbGF0aXplT3B0aW9ucyA9IG9wdGlvbnM7XG4gIGtsYXNzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgYWRkTm90aWZ5RWZmZWN0cyhrbGFzcywgdGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gIHJldHVybiBrbGFzcztcbn1cblxuLyoqXG4gKiBBZGRzIHByb3BhZ2F0ZSBlZmZlY3RzIGZyb20gdGhlIHRlbXBsYXRlIHRvIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBmb3JcbiAqIHByb3BlcnRpZXMgdGhhdCB0aGUgaG9zdCBiaW5kcyB0byB0aGUgdGVtcGxhdGUgdXNpbmcgdGhlIGBfaG9zdF9gIHByZWZpeC5cbiAqIFxuICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gY2xhc3MucHJvdG90eXBlIGlzIG5vdCBkZWZpbmVkIGZvciBzb21lIHJlYXNvblxuICovXG5mdW5jdGlvbiBhZGRQcm9wYWdhdGVFZmZlY3RzKHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgbGV0IHVzZXJGb3J3YXJkSG9zdFByb3AgPSBvcHRpb25zLmZvcndhcmRIb3N0UHJvcDtcbiAgaWYgKHVzZXJGb3J3YXJkSG9zdFByb3AgJiYgdGVtcGxhdGVJbmZvLmhhc0hvc3RQcm9wcykge1xuICAgIC8vIFByb3ZpZGUgZGF0YSBBUEkgYW5kIHByb3BlcnR5IGVmZmVjdHMgb24gbWVtb2l6ZWQgdGVtcGxhdGUgY2xhc3NcbiAgICBsZXQga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3M7XG4gICAgaWYgKCFrbGFzcykge1xuICAgICAgLyoqXG4gICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAqIEBleHRlbmRzIHtEYXRhVGVtcGxhdGV9XG4gICAgICAgKi9cbiAgICAgIGxldCB0ZW1wbGF0aXplZEJhc2UgPSBvcHRpb25zLm11dGFibGVEYXRhID8gTXV0YWJsZURhdGFUZW1wbGF0ZSA6IERhdGFUZW1wbGF0ZTtcbiAgICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgICAga2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZVRlbXBsYXRlQ2xhc3MgPVxuICAgICAgICBjbGFzcyBUZW1wbGF0aXplZFRlbXBsYXRlIGV4dGVuZHMgdGVtcGxhdGl6ZWRCYXNlIHt9O1xuICAgICAgLy8gQWRkIHRlbXBsYXRlIC0gPmluc3RhbmNlcyBlZmZlY3RzXG4gICAgICAvLyBhbmQgaG9zdCA8LSB0ZW1wbGF0ZSBlZmZlY3RzXG4gICAgICBsZXQgaG9zdFByb3BzID0gdGVtcGxhdGVJbmZvLmhvc3RQcm9wcztcbiAgICAgIGZvciAobGV0IHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fYWRkUHJvcGVydHlFZmZlY3QoJ19ob3N0XycgKyBwcm9wLFxuICAgICAgICAgIGtsYXNzLnByb3RvdHlwZS5QUk9QRVJUWV9FRkZFQ1RfVFlQRVMuUFJPUEFHQVRFLFxuICAgICAgICAgIHtmbjogY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KHByb3AsIHVzZXJGb3J3YXJkSG9zdFByb3ApfSk7XG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5fY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkoJ19ob3N0XycgKyBwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBncmFkZVRlbXBsYXRlKHRlbXBsYXRlLCBrbGFzcyk7XG4gICAgLy8gTWl4IGFueSBwcmUtYm91bmQgZGF0YSBpbnRvIF9fZGF0YTsgbm8gbmVlZCB0byBmbHVzaCB0aGlzIHRvXG4gICAgLy8gaW5zdGFuY2VzIHNpbmNlIHRoZXkgcHVsbCBmcm9tIHRoZSB0ZW1wbGF0ZSBhdCBpbnN0YW5jZS10aW1lXG4gICAgaWYgKHRlbXBsYXRlLl9fZGF0YVByb3RvKSB7XG4gICAgICAvLyBOb3RlLCBnZW5lcmFsbHkgYF9fZGF0YVByb3RvYCBjb3VsZCBiZSBjaGFpbmVkLCBidXQgaXQncyBndWFyYW50ZWVkXG4gICAgICAvLyB0byBub3QgYmUgc2luY2UgdGhpcyBpcyBhIHZhbmlsbGEgdGVtcGxhdGUgd2UganVzdCBhZGRlZCBlZmZlY3RzIHRvXG4gICAgICBPYmplY3QuYXNzaWduKHRlbXBsYXRlLl9fZGF0YSwgdGVtcGxhdGUuX19kYXRhUHJvdG8pO1xuICAgIH1cbiAgICAvLyBDbGVhciBhbnkgcGVuZGluZyBkYXRhIGZvciBwZXJmb3JtYW5jZVxuICAgIHRlbXBsYXRlLl9fZGF0YVRlbXAgPSB7fTtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICB0ZW1wbGF0ZS5fX2RhdGFPbGQgPSBudWxsO1xuICAgIHRlbXBsYXRlLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gIH1cbn1cbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MgKi9cblxuZnVuY3Rpb24gY3JlYXRlRm9yd2FyZEhvc3RQcm9wRWZmZWN0KGhvc3RQcm9wLCB1c2VyRm9yd2FyZEhvc3RQcm9wKSB7XG4gIHJldHVybiBmdW5jdGlvbiBmb3J3YXJkSG9zdFByb3AodGVtcGxhdGUsIHByb3AsIHByb3BzKSB7XG4gICAgdXNlckZvcndhcmRIb3N0UHJvcC5jYWxsKHRlbXBsYXRlLl9fdGVtcGxhdGl6ZU93bmVyLFxuICAgICAgcHJvcC5zdWJzdHJpbmcoJ19ob3N0XycubGVuZ3RoKSwgcHJvcHNbcHJvcF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhZGROb3RpZnlFZmZlY3RzKGtsYXNzLCB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKSB7XG4gIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzIHx8IHt9O1xuICBmb3IgKGxldCBpcHJvcCBpbiBvcHRpb25zLmluc3RhbmNlUHJvcHMpIHtcbiAgICBkZWxldGUgaG9zdFByb3BzW2lwcm9wXTtcbiAgICBsZXQgdXNlck5vdGlmeUluc3RhbmNlUHJvcCA9IG9wdGlvbnMubm90aWZ5SW5zdGFuY2VQcm9wO1xuICAgIGlmICh1c2VyTm90aWZ5SW5zdGFuY2VQcm9wKSB7XG4gICAgICBrbGFzcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KGlwcm9wLFxuICAgICAgICBrbGFzcy5wcm90b3R5cGUuUFJPUEVSVFlfRUZGRUNUX1RZUEVTLk5PVElGWSxcbiAgICAgICAge2ZuOiBjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QoaXByb3AsIHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApfSk7XG4gICAgfVxuICB9XG4gIGlmIChvcHRpb25zLmZvcndhcmRIb3N0UHJvcCAmJiB0ZW1wbGF0ZS5fX2RhdGFIb3N0KSB7XG4gICAgZm9yIChsZXQgaHByb3AgaW4gaG9zdFByb3BzKSB7XG4gICAgICAvLyBBcyB3ZSdyZSBpdGVyYXRpbmcgaG9zdFByb3BzIGluIHRoaXMgZnVuY3Rpb24sIG5vdGUgd2hldGhlclxuICAgICAgLy8gdGhlcmUgd2VyZSBhbnksIGZvciBhbiBvcHRpbWl6YXRpb24gaW4gYWRkUHJvcGFnYXRlRWZmZWN0c1xuICAgICAgaWYgKCF0ZW1wbGF0ZUluZm8uaGFzSG9zdFByb3BzKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5oYXNIb3N0UHJvcHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAga2xhc3MucHJvdG90eXBlLl9hZGRQcm9wZXJ0eUVmZmVjdChocHJvcCxcbiAgICAgICAga2xhc3MucHJvdG90eXBlLlBST1BFUlRZX0VGRkVDVF9UWVBFUy5OT1RJRlksXG4gICAgICAgIHtmbjogY3JlYXRlTm90aWZ5SG9zdFByb3BFZmZlY3QoKX0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QoaW5zdFByb3AsIHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5vdGlmeUluc3RhbmNlUHJvcChpbnN0LCBwcm9wLCBwcm9wcykge1xuICAgIHVzZXJOb3RpZnlJbnN0YW5jZVByb3AuY2FsbChpbnN0Ll9fdGVtcGxhdGl6ZU93bmVyLFxuICAgICAgaW5zdCwgcHJvcCwgcHJvcHNbcHJvcF0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb3RpZnlIb3N0UHJvcEVmZmVjdCgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG5vdGlmeUhvc3RQcm9wKGluc3QsIHByb3AsIHByb3BzKSB7XG4gICAgaW5zdC5fX2RhdGFIb3N0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgoJ19ob3N0XycgKyBwcm9wLCBwcm9wc1twcm9wXSwgdHJ1ZSwgdHJ1ZSk7XG4gIH07XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFub255bW91cyBgUHJvcGVydHlFZmZlY3RzYCBjbGFzcyBib3VuZCB0byB0aGVcbiAqIGA8dGVtcGxhdGU+YCBwcm92aWRlZC4gIEluc3RhbmNpbmcgdGhlIGNsYXNzIHdpbGwgcmVzdWx0IGluIHRoZVxuICogdGVtcGxhdGUgYmVpbmcgc3RhbXBlZCBpbnRvIGEgZG9jdW1lbnQgZnJhZ21lbnQgc3RvcmVkIGFzIHRoZSBpbnN0YW5jZSdzXG4gKiBgcm9vdGAgcHJvcGVydHksIGFmdGVyIHdoaWNoIGl0IGNhbiBiZSBhcHBlbmRlZCB0byB0aGUgRE9NLlxuICpcbiAqIFRlbXBsYXRlcyBtYXkgdXRpbGl6ZSBhbGwgUG9seW1lciBkYXRhLWJpbmRpbmcgZmVhdHVyZXMgYXMgd2VsbCBhc1xuICogZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLiAgRXZlbnQgbGlzdGVuZXJzIGFuZCBpbmxpbmUgY29tcHV0aW5nXG4gKiBmdW5jdGlvbnMgaW4gdGhlIHRlbXBsYXRlIHdpbGwgYmUgY2FsbGVkIG9uIHRoZSBob3N0IG9mIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgY29uc3RydWN0b3IgcmV0dXJuZWQgdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQgZGljdGlvbmFyeSBvZiBpbml0aWFsXG4gKiBwcm9wZXJ0eSB2YWx1ZXMgdG8gcHJvcGFnYXRlIGludG8gdGVtcGxhdGUgYmluZGluZ3MuICBBZGRpdGlvbmFsbHlcbiAqIGhvc3QgcHJvcGVydGllcyBjYW4gYmUgZm9yd2FyZGVkIGluLCBhbmQgaW5zdGFuY2UgcHJvcGVydGllcyBjYW4gYmVcbiAqIG5vdGlmaWVkIG91dCBieSBwcm92aWRpbmcgb3B0aW9uYWwgY2FsbGJhY2tzIGluIHRoZSBgb3B0aW9uc2AgZGljdGlvbmFyeS5cbiAqXG4gKiBWYWxpZCBjb25maWd1cmF0aW9uIGluIGBvcHRpb25zYCBhcmUgYXMgZm9sbG93czpcbiAqXG4gKiAtIGBmb3J3YXJkSG9zdFByb3AocHJvcGVydHksIHZhbHVlKWA6IENhbGxlZCB3aGVuIGEgcHJvcGVydHkgcmVmZXJlbmNlZFxuICogICBpbiB0aGUgdGVtcGxhdGUgY2hhbmdlZCBvbiB0aGUgdGVtcGxhdGUncyBob3N0LiBBcyB0aGlzIGxpYnJhcnkgZG9lc1xuICogICBub3QgcmV0YWluIHJlZmVyZW5jZXMgdG8gdGVtcGxhdGVzIGluc3RhbmNlZCBieSB0aGUgdXNlciwgaXQgaXMgdGhlXG4gKiAgIHRlbXBsYXRpemUgb3duZXIncyByZXNwb25zaWJpbGl0eSB0byBmb3J3YXJkIGhvc3QgcHJvcGVydHkgY2hhbmdlcyBpbnRvXG4gKiAgIHVzZXItc3RhbXBlZCBpbnN0YW5jZXMuICBUaGUgYGluc3RhbmNlLmZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpYFxuICogICAgbWV0aG9kIG9uIHRoZSBnZW5lcmF0ZWQgY2xhc3Mgc2hvdWxkIGJlIGNhbGxlZCB0byBmb3J3YXJkIGhvc3RcbiAqICAgcHJvcGVydGllcyBpbnRvIHRoZSB0ZW1wbGF0ZSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IHByb3BlcnR5LWNoYW5nZWRcbiAqICAgbm90aWZpY2F0aW9ucy4gQW55IHByb3BlcnRpZXMgcmVmZXJlbmNlZCBpbiB0aGUgdGVtcGxhdGUgdGhhdCBhcmUgbm90XG4gKiAgIGRlZmluZWQgaW4gYGluc3RhbmNlUHJvcHNgIHdpbGwgYmUgbm90aWZpZWQgdXAgdG8gdGhlIHRlbXBsYXRlJ3MgaG9zdFxuICogICBhdXRvbWF0aWNhbGx5LlxuICogLSBgaW5zdGFuY2VQcm9wc2A6IERpY3Rpb25hcnkgb2YgcHJvcGVydHkgbmFtZXMgdGhhdCB3aWxsIGJlIGFkZGVkXG4gKiAgIHRvIHRoZSBpbnN0YW5jZSBieSB0aGUgdGVtcGxhdGl6ZSBvd25lci4gIFRoZXNlIHByb3BlcnRpZXMgc2hhZG93IGFueVxuICogICBob3N0IHByb3BlcnRpZXMsIGFuZCBjaGFuZ2VzIHdpdGhpbiB0aGUgdGVtcGxhdGUgdG8gdGhlc2UgcHJvcGVydGllc1xuICogICB3aWxsIHJlc3VsdCBpbiBgbm90aWZ5SW5zdGFuY2VQcm9wYCBiZWluZyBjYWxsZWQuXG4gKiAtIGBtdXRhYmxlRGF0YWA6IFdoZW4gYHRydWVgLCB0aGUgZ2VuZXJhdGVkIGNsYXNzIHdpbGwgc2tpcCBzdHJpY3RcbiAqICAgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmVcbiAqICAgXCJkaXJ0eVwiKS5cbiAqIC0gYG5vdGlmeUluc3RhbmNlUHJvcChpbnN0YW5jZSwgcHJvcGVydHksIHZhbHVlKWA6IENhbGxlZCB3aGVuXG4gKiAgIGFuIGluc3RhbmNlIHByb3BlcnR5IGNoYW5nZXMuICBVc2VycyBtYXkgY2hvb3NlIHRvIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAgIG9uIGUuZy4gdGhlIG93bmVyIHRvIG5vdGlmeSB0aGUgY2hhbmdlLlxuICogLSBgcGFyZW50TW9kZWxgOiBXaGVuIGB0cnVlYCwgZXZlbnRzIGhhbmRsZWQgYnkgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzXG4gKiAgIChgb24tZXZlbnQ9XCJoYW5kbGVyXCJgKSB3aWxsIGJlIGRlY29yYXRlZCB3aXRoIGEgYG1vZGVsYCBwcm9wZXJ0eSBwb2ludGluZ1xuICogICB0byB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdGhhdCBzdGFtcGVkIGl0LiAgSXQgd2lsbCBhbHNvIGJlIHJldHVybmVkXG4gKiAgIGZyb20gYGluc3RhbmNlLnBhcmVudE1vZGVsYCBpbiBjYXNlcyB3aGVyZSB0ZW1wbGF0ZSBpbnN0YW5jZSBuZXN0aW5nXG4gKiAgIGNhdXNlcyBhbiBpbm5lciBtb2RlbCB0byBzaGFkb3cgYW4gb3V0ZXIgbW9kZWwuXG4gKlxuICogQWxsIGNhbGxiYWNrcyBhcmUgY2FsbGVkIGJvdW5kIHRvIHRoZSBgb3duZXJgLiBBbnkgY29udGV4dFxuICogbmVlZGVkIGZvciB0aGUgY2FsbGJhY2tzIChzdWNoIGFzIHJlZmVyZW5jZXMgdG8gYGluc3RhbmNlc2Agc3RhbXBlZClcbiAqIHNob3VsZCBiZSBzdG9yZWQgb24gdGhlIGBvd25lcmAgc3VjaCB0aGF0IHRoZXkgY2FuIGJlIHJldHJpZXZlZCB2aWFcbiAqIGB0aGlzYC5cbiAqXG4gKiBXaGVuIGBvcHRpb25zLmZvcndhcmRIb3N0UHJvcGAgaXMgZGVjbGFyZWQgYXMgYW4gb3B0aW9uLCBhbnkgcHJvcGVydGllc1xuICogcmVmZXJlbmNlZCBpbiB0aGUgdGVtcGxhdGUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGZvcndhcmRlZCBmcm9tIHRoZSBob3N0IG9mXG4gKiB0aGUgYDx0ZW1wbGF0ZT5gIHRvIGluc3RhbmNlcywgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGFueSBwcm9wZXJ0aWVzIGxpc3RlZCBpblxuICogdGhlIGBvcHRpb25zLmluc3RhbmNlUHJvcHNgIG9iamVjdC4gIGBpbnN0YW5jZVByb3BzYCBhcmUgYXNzdW1lZCB0byBiZVxuICogbWFuYWdlZCBieSB0aGUgb3duZXIgb2YgdGhlIGluc3RhbmNlcywgZWl0aGVyIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvclxuICogb3Igc2V0IGFmdGVyIHRoZSBmYWN0LiAgTm90ZSwgYW55IHByb3BlcnRpZXMgcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yIHdpbGxcbiAqIGFsd2F5cyBiZSBzZXQgdG8gdGhlIGluc3RhbmNlIChyZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhleSB3b3VsZCBub3JtYWxseVxuICogYmUgZm9yd2FyZGVkIGZyb20gdGhlIGhvc3QpLlxuICpcbiAqIE5vdGUgdGhhdCBgdGVtcGxhdGl6ZSgpYCBjYW4gYmUgcnVuIG9ubHkgb25jZSBmb3IgYSBnaXZlbiBgPHRlbXBsYXRlPmAuXG4gKiBGdXJ0aGVyIGNhbGxzIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yLiBBbHNvLCB0aGVyZSBpcyBhIHNwZWNpYWxcbiAqIGJlaGF2aW9yIGlmIHRoZSB0ZW1wbGF0ZSB3YXMgZHVwbGljYXRlZCB0aHJvdWdoIGEgbWVjaGFuaXNtIHN1Y2ggYXNcbiAqIGA8ZG9tLXJlcGVhdD5gIG9yIGA8dGVzdC1maXh0dXJlPmAuIEluIHRoaXMgY2FzZSwgYWxsIGNhbGxzIHRvXG4gKiBgdGVtcGxhdGl6ZSgpYCByZXR1cm4gdGhlIHNhbWUgY2xhc3MgZm9yIGFsbCBkdXBsaWNhdGVzIG9mIGEgdGVtcGxhdGUuXG4gKiBUaGUgY2xhc3MgcmV0dXJuZWQgZnJvbSBgdGVtcGxhdGl6ZSgpYCBpcyBnZW5lcmF0ZWQgb25seSBvbmNlIHVzaW5nXG4gKiB0aGUgYG9wdGlvbnNgIGZyb20gdGhlIGZpcnN0IGNhbGwuIFRoaXMgbWVhbnMgdGhhdCBhbnkgYG9wdGlvbnNgXG4gKiBwcm92aWRlZCB0byBzdWJzZXF1ZW50IGNhbGxzIHdpbGwgYmUgaWdub3JlZC4gVGhlcmVmb3JlLCBpdCBpcyB2ZXJ5XG4gKiBpbXBvcnRhbnQgbm90IHRvIGNsb3NlIG92ZXIgYW55IHZhcmlhYmxlcyBpbnNpZGUgdGhlIGNhbGxiYWNrcy4gQWxzbyxcbiAqIGFycm93IGZ1bmN0aW9ucyBtdXN0IGJlIGF2b2lkZWQgYmVjYXVzZSB0aGV5IGJpbmQgdGhlIG91dGVyIGB0aGlzYC5cbiAqIEluc2lkZSB0aGUgY2FsbGJhY2tzLCBhbnkgY29udGV4dHVhbCBpbmZvcm1hdGlvbiBjYW4gYmUgYWNjZXNzZWRcbiAqIHRocm91Z2ggYHRoaXNgLCB3aGljaCBwb2ludHMgdG8gdGhlIGBvd25lcmAuXG4gKlxuICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gdGVtcGxhdGl6ZVxuICogQHBhcmFtIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0cz19IG93bmVyIE93bmVyIG9mIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZXM7XG4gKiAgIGFueSBvcHRpb25hbCBjYWxsYmFja3Mgd2lsbCBiZSBib3VuZCB0byB0aGlzIG93bmVyLlxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgZGljdGlvbmFyeSAoc2VlIHN1bW1hcnkgZm9yIGRldGFpbHMpXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UsIE9iamVjdD0pfSBHZW5lcmF0ZWQgY2xhc3MgYm91bmRcbiAqICAgdG8gdGhlIHRlbXBsYXRlIHByb3ZpZGVkXG4gKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRpemUodGVtcGxhdGUsIG93bmVyLCBvcHRpb25zKSB7XG4gIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCB0aGUgdGVtcGxhdGl6ZWQgZWxlbWVudCBtdXN0IGJlIG93bmVkXG4gIC8vIGJ5IGEgKHRydXN0ZWQpIFBvbHltZXIgZWxlbWVudCwgaW5kaWNhdGVkIGJ5IGV4aXN0ZW5jZSBvZiBfbWV0aG9kSG9zdDtcbiAgLy8gZS5nLiBmb3IgZG9tLWlmICYgZG9tLXJlcGVhdCBpbiBtYWluIGRvY3VtZW50LCBfbWV0aG9kSG9zdCBpcyBudWxsXG4gIGlmIChzdHJpY3RUZW1wbGF0ZVBvbGljeSAmJiAhZmluZE1ldGhvZEhvc3QodGVtcGxhdGUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzdHJpY3RUZW1wbGF0ZVBvbGljeTogdGVtcGxhdGUgb3duZXIgbm90IHRydXN0ZWQnKTtcbiAgfVxuICBvcHRpb25zID0gLyoqIEB0eXBlIHshVGVtcGxhdGl6ZU9wdGlvbnN9ICovKG9wdGlvbnMgfHwge30pO1xuICBpZiAodGVtcGxhdGUuX190ZW1wbGF0aXplT3duZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgPHRlbXBsYXRlPiBjYW4gb25seSBiZSB0ZW1wbGF0aXplZCBvbmNlJyk7XG4gIH1cbiAgdGVtcGxhdGUuX190ZW1wbGF0aXplT3duZXIgPSBvd25lcjtcbiAgY29uc3QgY3RvciA9IG93bmVyID8gb3duZXIuY29uc3RydWN0b3IgOiBUZW1wbGF0ZUluc3RhbmNlQmFzZTtcbiAgbGV0IHRlbXBsYXRlSW5mbyA9IGN0b3IuX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAvLyBHZXQgbWVtb2l6ZWQgYmFzZSBjbGFzcyBmb3IgdGhlIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZSwgd2hpY2hcbiAgLy8gaW5jbHVkZXMgcHJvcGVydHkgZWZmZWN0cyBmb3IgYmluZGluZyB0ZW1wbGF0ZSAmIGZvcndhcmRpbmdcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9XG4gICAqL1xuICBsZXQgYmFzZUNsYXNzID0gdGVtcGxhdGVJbmZvLnRlbXBsYXRpemVJbnN0YW5jZUNsYXNzO1xuICBpZiAoIWJhc2VDbGFzcykge1xuICAgIGJhc2VDbGFzcyA9IGNyZWF0ZVRlbXBsYXRpemVyQ2xhc3ModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gICAgdGVtcGxhdGVJbmZvLnRlbXBsYXRpemVJbnN0YW5jZUNsYXNzID0gYmFzZUNsYXNzO1xuICB9XG4gIC8vIEhvc3QgcHJvcGVydHkgZm9yd2FyZGluZyBtdXN0IGJlIGluc3RhbGxlZCBvbnRvIHRlbXBsYXRlIGluc3RhbmNlXG4gIGFkZFByb3BhZ2F0ZUVmZmVjdHModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucyk7XG4gIC8vIFN1YmNsYXNzIGJhc2UgY2xhc3MgYW5kIGFkZCByZWZlcmVuY2UgZm9yIHRoaXMgc3BlY2lmaWMgdGVtcGxhdGVcbiAgLyoqIEBwcml2YXRlICovXG4gIGxldCBrbGFzcyA9IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2UgZXh0ZW5kcyBiYXNlQ2xhc3Mge307XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9tZXRob2RIb3N0ID0gZmluZE1ldGhvZEhvc3QodGVtcGxhdGUpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX2RhdGFIb3N0ID0gLyoqIEB0eXBlIHshRGF0YVRlbXBsYXRlfSAqLyAodGVtcGxhdGUpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX3RlbXBsYXRpemVPd25lciA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKG93bmVyKTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX19ob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICBrbGFzcyA9IC8qKiBAdHlwZSB7ZnVuY3Rpb24obmV3OlRlbXBsYXRlSW5zdGFuY2VCYXNlKX0gKi8oa2xhc3MpOyAvL2VzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgcmV0dXJuIGtsYXNzO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHRlbXBsYXRlIFwibW9kZWxcIiBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50LCB3aGljaFxuICogc2VydmVzIGFzIHRoZSBiaW5kaW5nIHNjb3BlIGZvciB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdGhlIGVsZW1lbnQgaXNcbiAqIGNvbnRhaW5lZCBpbi4gQSB0ZW1wbGF0ZSBtb2RlbCBpcyBhbiBpbnN0YW5jZSBvZlxuICogYFRlbXBsYXRlSW5zdGFuY2VCYXNlYCwgYW5kIHNob3VsZCBiZSB1c2VkIHRvIG1hbmlwdWxhdGUgZGF0YVxuICogYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGVtcGxhdGUgaW5zdGFuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgIGxldCBtb2RlbCA9IG1vZGVsRm9yRWxlbWVudChlbCk7XG4gKiAgIGlmIChtb2RlbC5pbmRleCA8IDEwKSB7XG4gKiAgICAgbW9kZWwuc2V0KCdpdGVtLmNoZWNrZWQnLCB0cnVlKTtcbiAqICAgfVxuICpcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGhlIG1vZGVsIHdpbGwgYmUgcmV0dXJuZWQgZm9yXG4gKiAgIGVsZW1lbnRzIHN0YW1wZWQgZnJvbSB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0ge05vZGU9fSBub2RlIE5vZGUgZm9yIHdoaWNoIHRvIHJldHVybiBhIHRlbXBsYXRlIG1vZGVsLlxuICogQHJldHVybiB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9IFRlbXBsYXRlIGluc3RhbmNlIHJlcHJlc2VudGluZyB0aGVcbiAqICAgYmluZGluZyBzY29wZSBmb3IgdGhlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vZGVsRm9yRWxlbWVudCh0ZW1wbGF0ZSwgbm9kZSkge1xuICBsZXQgbW9kZWw7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgLy8gQW4gZWxlbWVudCB3aXRoIGEgX190ZW1wbGF0aXplSW5zdGFuY2UgbWFya3MgdGhlIHRvcCBib3VuZGFyeVxuICAgIC8vIG9mIGEgc2NvcGU7IHdhbGsgdXAgdW50aWwgd2UgZmluZCBvbmUsIGFuZCB0aGVuIGVuc3VyZSB0aGF0XG4gICAgLy8gaXRzIF9fZGF0YUhvc3QgbWF0Y2hlcyBgdGhpc2AsIG1lYW5pbmcgdGhpcyBkb20tcmVwZWF0IHN0YW1wZWQgaXRcbiAgICBpZiAoKG1vZGVsID0gbm9kZS5fX3RlbXBsYXRpemVJbnN0YW5jZSkpIHtcbiAgICAgIC8vIEZvdW5kIGFuIGVsZW1lbnQgc3RhbXBlZCBieSBhbm90aGVyIHRlbXBsYXRlOyBrZWVwIHdhbGtpbmcgdXBcbiAgICAgIC8vIGZyb20gaXRzIF9fZGF0YUhvc3RcbiAgICAgIGlmIChtb2RlbC5fX2RhdGFIb3N0ICE9IHRlbXBsYXRlKSB7XG4gICAgICAgIG5vZGUgPSBtb2RlbC5fX2RhdGFIb3N0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdGlsbCBpbiBhIHRlbXBsYXRlIHNjb3BlLCBrZWVwIGdvaW5nIHVwIHVudGlsXG4gICAgICAvLyBhIF9fdGVtcGxhdGl6ZUluc3RhbmNlIGlzIGZvdW5kXG4gICAgICBub2RlID0gd3JhcChub2RlKS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZUJhc2UgfTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIE1vZHVsZSB0byBoaWRlIGA8ZG9tLWJpbmQ+YCwgYDxkb20taWY+YCwgYW5kIGA8ZG9tLXJlcGVhdD5gIGVsZW1lbnRzXG4gKiBvcHRpbWFsbHkgaW4gU2hhZHlET01cbiAqL1xuXG5pbXBvcnQge2xlZ2FjeU9wdGltaXphdGlvbnMsIHVzZVNoYWRvd30gZnJvbSAnLi9zZXR0aW5ncy5qcyc7XG5cbmxldCBlbGVtZW50c0hpZGRlbiA9IGZhbHNlO1xuXG4vKipcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgZWxlbWVudHMgd2lsbCBiZSBoaWRkZW4gZ2xvYmFsbHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50c0dsb2JhbGx5KCkge1xuICBpZiAobGVnYWN5T3B0aW1pemF0aW9ucyAmJiAhdXNlU2hhZG93KSB7XG4gICAgaWYgKCFlbGVtZW50c0hpZGRlbikge1xuICAgICAgZWxlbWVudHNIaWRkZW4gPSB0cnVlO1xuICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSAnZG9tLWJpbmQsZG9tLWlmLGRvbS1yZXBlYXR7ZGlzcGxheTpub25lO30nO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgUHJvcGVydHlFZmZlY3RzIH0gZnJvbSAnLi4vbWl4aW5zL3Byb3BlcnR5LWVmZmVjdHMuanMnO1xuaW1wb3J0IHsgT3B0aW9uYWxNdXRhYmxlRGF0YSB9IGZyb20gJy4uL21peGlucy9tdXRhYmxlLWRhdGEuanMnO1xuaW1wb3J0IHsgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi4vbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzJztcbmltcG9ydCB7IHN0cmljdFRlbXBsYXRlUG9saWN5IH0gZnJvbSAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0IHsgaGlkZUVsZW1lbnRzR2xvYmFsbHkgfSBmcm9tICcuLi91dGlscy9oaWRlLXRlbXBsYXRlLWNvbnRyb2xzLmpzJztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX09wdGlvbmFsTXV0YWJsZURhdGF9XG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9HZXN0dXJlRXZlbnRMaXN0ZW5lcnN9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBkb21CaW5kQmFzZSA9XG4gIEdlc3R1cmVFdmVudExpc3RlbmVycyhcbiAgICBPcHRpb25hbE11dGFibGVEYXRhKFxuICAgICAgUHJvcGVydHlFZmZlY3RzKEhUTUxFbGVtZW50KSkpO1xuXG4vKipcbiAqIEN1c3RvbSBlbGVtZW50IHRvIGFsbG93IHVzaW5nIFBvbHltZXIncyB0ZW1wbGF0ZSBmZWF0dXJlcyAoZGF0YSBiaW5kaW5nLFxuICogZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLCBldGMuKSBpbiB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGRlZmluaW5nXG4gKiBhIG5ldyBjdXN0b20gZWxlbWVudC5cbiAqXG4gKiBgPHRlbXBsYXRlPmAgdGFncyB1dGlsaXppbmcgYmluZGluZ3MgbWF5IGJlIHdyYXBwZWQgd2l0aCB0aGUgYDxkb20tYmluZD5gXG4gKiBlbGVtZW50LCB3aGljaCB3aWxsIGltbWVkaWF0ZWx5IHN0YW1wIHRoZSB3cmFwcGVkIHRlbXBsYXRlIGludG8gdGhlIG1haW5cbiAqIGRvY3VtZW50IGFuZCBiaW5kIGVsZW1lbnRzIHRvIHRoZSBgZG9tLWJpbmRgIGVsZW1lbnQgaXRzZWxmIGFzIHRoZVxuICogYmluZGluZyBzY29wZS5cbiAqXG4gKiBAcG9seW1lclxuICogQGN1c3RvbUVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gUHJvcGVydHlFZmZlY3RzXG4gKiBAYXBwbGllc01peGluIE9wdGlvbmFsTXV0YWJsZURhdGFcbiAqIEBhcHBsaWVzTWl4aW4gR2VzdHVyZUV2ZW50TGlzdGVuZXJzXG4gKiBAZXh0ZW5kcyB7ZG9tQmluZEJhc2V9XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0byBhbGxvdyB1c2luZyBQb2x5bWVyJ3MgdGVtcGxhdGUgZmVhdHVyZXMgKGRhdGFcbiAqICAgYmluZGluZywgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLCBldGMuKSBpbiB0aGUgbWFpbiBkb2N1bWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbUJpbmQgZXh0ZW5kcyBkb21CaW5kQmFzZSB7XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7IHJldHVybiBbJ211dGFibGUtZGF0YSddOyB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGRvbS1iaW5kIG5vdCBhbGxvd2VkYCk7XG4gICAgfVxuICAgIHRoaXMucm9vdCA9IG51bGw7XG4gICAgdGhpcy4kID0gbnVsbDtcbiAgICB0aGlzLl9fY2hpbGRyZW4gPSBudWxsO1xuICB9XG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZSB0aGF0IGNoYW5nZWRcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIGF0dHJpYnV0ZSB2YWx1ZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlIE5ldyBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBuYW1lc3BhY2UgQXR0cmlidXRlIG5hbWVzcGFjZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAvLyBhc3N1bWVzIG9ubHkgb25lIG9ic2VydmVkIGF0dHJpYnV0ZVxuICAgIHRoaXMubXV0YWJsZURhdGEgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKCFoaWRlRWxlbWVudHNHbG9iYWxseSgpKSB7XG4gICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl9fcmVtb3ZlQ2hpbGRyZW4oKTtcbiAgfVxuXG4gIF9faW5zZXJ0Q2hpbGRyZW4oKSB7XG4gICAgd3JhcCh3cmFwKHRoaXMpLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh0aGlzLnJvb3QsIHRoaXMpO1xuICB9XG5cbiAgX19yZW1vdmVDaGlsZHJlbigpIHtcbiAgICBpZiAodGhpcy5fX2NoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLl9fY2hpbGRyZW5baV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGVsZW1lbnQgdG8gcmVuZGVyIGl0cyBjb250ZW50LiBUaGlzIGlzIHR5cGljYWxseSBvbmx5XG4gICAqIG5lY2Vzc2FyeSB0byBjYWxsIGlmIEhUTUxJbXBvcnRzIHdpdGggdGhlIGFzeW5jIGF0dHJpYnV0ZSBhcmUgdXNlZC5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgdGVtcGxhdGU7XG4gICAgaWYgKCF0aGlzLl9fY2hpbGRyZW4pIHtcbiAgICAgIHRlbXBsYXRlID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8odGVtcGxhdGUgfHwgdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgLy8gV2FpdCB1bnRpbCBjaGlsZExpc3QgY2hhbmdlcyBhbmQgdGVtcGxhdGUgc2hvdWxkIGJlIHRoZXJlIGJ5IHRoZW5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIHRlbXBsYXRlID0gLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb20tYmluZCByZXF1aXJlcyBhIDx0ZW1wbGF0ZT4gY2hpbGQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5yb290ID0gdGhpcy5fc3RhbXBUZW1wbGF0ZShcbiAgICAgICAgLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gKi8odGVtcGxhdGUpKTtcbiAgICAgIHRoaXMuJCA9IHRoaXMucm9vdC4kO1xuICAgICAgdGhpcy5fX2NoaWxkcmVuID0gW107XG4gICAgICBmb3IgKGxldCBuPXRoaXMucm9vdC5maXJzdENoaWxkOyBuOyBuPW4ubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgdGhpcy5fX2NoaWxkcmVuW3RoaXMuX19jaGlsZHJlbi5sZW5ndGhdID0gbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VuYWJsZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gICAgdGhpcy5fX2luc2VydENoaWxkcmVuKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZG9tLWNoYW5nZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZVxuICAgIH0pKTtcbiAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZG9tLWJpbmQnLCBEb21CaW5kKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJy4uLy4uL3BvbHltZXItZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2VCYXNlLCB0ZW1wbGF0aXplLCBtb2RlbEZvckVsZW1lbnQgfSBmcm9tICcuLi91dGlscy90ZW1wbGF0aXplLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgZW5xdWV1ZURlYm91bmNlciwgZmx1c2ggfSBmcm9tICcuLi91dGlscy9mbHVzaC5qcyc7XG5pbXBvcnQgeyBPcHRpb25hbE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBtYXRjaGVzLCB0cmFuc2xhdGUgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHRpbWVPdXQsIG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50c0dsb2JhbGx5IH0gZnJvbSAnLi4vdXRpbHMvaGlkZS10ZW1wbGF0ZS1jb250cm9scy5qcyc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9PcHRpb25hbE11dGFibGVEYXRhfVxuICogQGV4dGVuZHMge1BvbHltZXJFbGVtZW50fVxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgZG9tUmVwZWF0QmFzZSA9IE9wdGlvbmFsTXV0YWJsZURhdGEoUG9seW1lckVsZW1lbnQpO1xuXG4vKipcbiAqIFRoZSBgPGRvbS1yZXBlYXQ+YCBlbGVtZW50IHdpbGwgYXV0b21hdGljYWxseSBzdGFtcCBhbmQgYmluZHMgb25lIGluc3RhbmNlXG4gKiBvZiB0ZW1wbGF0ZSBjb250ZW50IHRvIGVhY2ggb2JqZWN0IGluIGEgdXNlci1wcm92aWRlZCBhcnJheS5cbiAqIGBkb20tcmVwZWF0YCBhY2NlcHRzIGFuIGBpdGVtc2AgcHJvcGVydHksIGFuZCBvbmUgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlXG4gKiBpcyBzdGFtcGVkIGZvciBlYWNoIGl0ZW0gaW50byB0aGUgRE9NIGF0IHRoZSBsb2NhdGlvbiBvZiB0aGUgYGRvbS1yZXBlYXRgXG4gKiBlbGVtZW50LiAgVGhlIGBpdGVtYCBwcm9wZXJ0eSB3aWxsIGJlIHNldCBvbiBlYWNoIGluc3RhbmNlJ3MgYmluZGluZ1xuICogc2NvcGUsIHRodXMgdGVtcGxhdGVzIHNob3VsZCBiaW5kIHRvIHN1Yi1wcm9wZXJ0aWVzIG9mIGBpdGVtYC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkb20tbW9kdWxlIGlkPVwiZW1wbG95ZWUtbGlzdFwiPlxuICpcbiAqICAgPHRlbXBsYXRlPlxuICpcbiAqICAgICA8ZGl2PiBFbXBsb3llZSBsaXN0OiA8L2Rpdj5cbiAqICAgICA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIj5cbiAqICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICA8L3RlbXBsYXRlPlxuICogICAgIDwvZG9tLXJlcGVhdD5cbiAqXG4gKiAgIDwvdGVtcGxhdGU+XG4gKlxuICogPC9kb20tbW9kdWxlPlxuICogYGBgXG4gKlxuICogV2l0aCB0aGUgZm9sbG93aW5nIGN1c3RvbSBlbGVtZW50IGRlZmluaXRpb246XG4gKlxuICogYGBganNcbiAqIGNsYXNzIEVtcGxveWVlTGlzdCBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcbiAqICAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdlbXBsb3llZS1saXN0JzsgfVxuICogICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gKiAgICAgcmV0dXJuIHtcbiAqICAgICAgIGVtcGxveWVlczoge1xuICogICAgICAgICB2YWx1ZSgpIHtcbiAqICAgICAgICAgICByZXR1cm4gW1xuICogICAgICAgICAgICAge2ZpcnN0OiAnQm9iJywgbGFzdDogJ1NtaXRoJ30sXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdTYWxseScsIGxhc3Q6ICdKb2huc29uJ30sXG4gKiAgICAgICAgICAgICAuLi5cbiAqICAgICAgICAgICBdO1xuICogICAgICAgICB9XG4gKiAgICAgICB9XG4gKiAgICAgfTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogTm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byBpdGVtcyBzdWItcHJvcGVydGllcyB3aWxsIGJlIGZvcndhcmRlZCB0byB0ZW1wbGF0ZVxuICogaW5zdGFuY2VzLCB3aGljaCB3aWxsIHVwZGF0ZSB2aWEgdGhlIG5vcm1hbCBzdHJ1Y3R1cmVkIGRhdGEgbm90aWZpY2F0aW9uIHN5c3RlbS5cbiAqXG4gKiBNdXRhdGlvbnMgdG8gdGhlIGBpdGVtc2AgYXJyYXkgaXRzZWxmIHNob3VsZCBiZSBtYWRlIHVzaW5nIHRoZSBBcnJheVxuICogbXV0YXRpb24gQVBJJ3Mgb24gdGhlIFByb3BlcnR5RWZmZWN0cyBtaXhpbiAoYHB1c2hgLCBgcG9wYCwgYHNwbGljZWAsXG4gKiBgc2hpZnRgLCBgdW5zaGlmdGApLCBhbmQgdGVtcGxhdGUgaW5zdGFuY2VzIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlXG4gKiBkYXRhIGluIHRoZSBhcnJheS5cbiAqXG4gKiBFdmVudHMgY2F1Z2h0IGJ5IGV2ZW50IGhhbmRsZXJzIHdpdGhpbiB0aGUgYGRvbS1yZXBlYXRgIHRlbXBsYXRlIHdpbGwgYmVcbiAqIGRlY29yYXRlZCB3aXRoIGEgYG1vZGVsYCBwcm9wZXJ0eSwgd2hpY2ggcmVwcmVzZW50cyB0aGUgYmluZGluZyBzY29wZSBmb3JcbiAqIGVhY2ggdGVtcGxhdGUgaW5zdGFuY2UuICBUaGUgbW9kZWwgc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhIG9uIHRoZVxuICogaW5zdGFuY2UsIGZvciBleGFtcGxlIGBldmVudC5tb2RlbC5zZXQoJ2l0ZW0uY2hlY2tlZCcsIHRydWUpO2AuXG4gKlxuICogQWx0ZXJuYXRpdmVseSwgdGhlIG1vZGVsIGZvciBhIHRlbXBsYXRlIGluc3RhbmNlIGZvciBhbiBlbGVtZW50IHN0YW1wZWQgYnlcbiAqIGEgYGRvbS1yZXBlYXRgIGNhbiBiZSBvYnRhaW5lZCB1c2luZyB0aGUgYG1vZGVsRm9yRWxlbWVudGAgQVBJIG9uIHRoZVxuICogYGRvbS1yZXBlYXRgIHRoYXQgc3RhbXBlZCBpdCwgZm9yIGV4YW1wbGVcbiAqIGB0aGlzLiQuZG9tUmVwZWF0Lm1vZGVsRm9yRWxlbWVudChldmVudC50YXJnZXQpLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7YC5cbiAqIFRoaXMgbWF5IGJlIHVzZWZ1bCBmb3IgbWFuaXB1bGF0aW5nIGluc3RhbmNlIGRhdGEgb2YgZXZlbnQgdGFyZ2V0cyBvYnRhaW5lZFxuICogYnkgZXZlbnQgaGFuZGxlcnMgb24gcGFyZW50cyBvZiB0aGUgYGRvbS1yZXBlYXRgIChldmVudCBkZWxlZ2F0aW9uKS5cbiAqXG4gKiBBIHZpZXctc3BlY2lmaWMgZmlsdGVyL3NvcnQgbWF5IGJlIGFwcGxpZWQgdG8gZWFjaCBgZG9tLXJlcGVhdGAgYnkgc3VwcGx5aW5nIGFcbiAqIGBmaWx0ZXJgIGFuZC9vciBgc29ydGAgcHJvcGVydHkuICBUaGlzIG1heSBiZSBhIHN0cmluZyB0aGF0IG5hbWVzIGEgZnVuY3Rpb24gb25cbiAqIHRoZSBob3N0LCBvciBhIGZ1bmN0aW9uIG1heSBiZSBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgZGlyZWN0bHkuICBUaGUgZnVuY3Rpb25zXG4gKiBzaG91bGQgaW1wbGVtZW50ZWQgZm9sbG93aW5nIHRoZSBzdGFuZGFyZCBgQXJyYXlgIGZpbHRlci9zb3J0IEFQSS5cbiAqXG4gKiBJbiBvcmRlciB0byByZS1ydW4gdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9ucyBiYXNlZCBvbiBjaGFuZ2VzIHRvIHN1Yi1maWVsZHNcbiAqIG9mIGBpdGVtc2AsIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgbWF5IGJlIHNldCBhcyBhIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mXG4gKiBgaXRlbWAgc3ViLWZpZWxkcyB0aGF0IHNob3VsZCBjYXVzZSBhIHJlLWZpbHRlci9zb3J0IHdoZW4gbW9kaWZpZWQuICBJZlxuICogdGhlIGZpbHRlciBvciBzb3J0IGZ1bmN0aW9uIGRlcGVuZHMgb24gcHJvcGVydGllcyBub3QgY29udGFpbmVkIGluIGBpdGVtc2AsXG4gKiB0aGUgdXNlciBzaG91bGQgb2JzZXJ2ZSBjaGFuZ2VzIHRvIHRob3NlIHByb3BlcnRpZXMgYW5kIGNhbGwgYHJlbmRlcmAgdG8gdXBkYXRlXG4gKiB0aGUgdmlldyBiYXNlZCBvbiB0aGUgZGVwZW5kZW5jeSBjaGFuZ2UuXG4gKlxuICogRm9yIGV4YW1wbGUsIGZvciBhbiBgZG9tLXJlcGVhdGAgd2l0aCBhIGZpbHRlciBvZiB0aGUgZm9sbG93aW5nOlxuICpcbiAqIGBgYGpzXG4gKiBpc0VuZ2luZWVyKGl0ZW0pIHtcbiAqICAgcmV0dXJuIGl0ZW0udHlwZSA9PSAnZW5naW5lZXInIHx8IGl0ZW0ubWFuYWdlci50eXBlID09ICdlbmdpbmVlcic7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGVuIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHkgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIiBmaWx0ZXI9XCJpc0VuZ2luZWVyXCIgb2JzZXJ2ZT1cInR5cGUgbWFuYWdlci50eXBlXCI+XG4gKiBgYGBcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBleHRlbmRzIHtkb21SZXBlYXRCYXNlfVxuICogQGFwcGxpZXNNaXhpbiBPcHRpb25hbE11dGFibGVEYXRhXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBmb3Igc3RhbXBpbmcgaW5zdGFuY2Ugb2YgYSB0ZW1wbGF0ZSBib3VuZCB0b1xuICogICBpdGVtcyBpbiBhbiBhcnJheS5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbVJlcGVhdCBleHRlbmRzIGRvbVJlcGVhdEJhc2Uge1xuXG4gIC8vIE5vdCBuZWVkZWQgdG8gZmluZCB0ZW1wbGF0ZTsgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5hbHl6ZXJcbiAgLy8gY2FuIGZpbmQgdGhlIHRhZyBuYW1lIGZyb20gY3VzdG9tRWxlbWVudHMuZGVmaW5lIGNhbGxcbiAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdkb20tcmVwZWF0JzsgfVxuXG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbmV2ZXIgRE9NIGlzIGFkZGVkIG9yIHJlbW92ZWQgYnkgdGhpcyB0ZW1wbGF0ZSAoYnlcbiAgICAgKiBkZWZhdWx0LCByZW5kZXJpbmcgb2NjdXJzIGxhemlseSkuICBUbyBmb3JjZSBpbW1lZGlhdGUgcmVuZGVyaW5nLCBjYWxsXG4gICAgICogYHJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgZG9tLWNoYW5nZVxuICAgICAqL1xuICAgIHJldHVybiB7XG5cbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBpdGVtcyBkZXRlcm1pbmluZyBob3cgbWFueSBpbnN0YW5jZXMgb2YgdGhlIHRlbXBsYXRlXG4gICAgICAgKiB0byBzdGFtcCBhbmQgdGhhdCB0aGF0IGVhY2ggdGVtcGxhdGUgaW5zdGFuY2Ugc2hvdWxkIGJpbmQgdG8uXG4gICAgICAgKi9cbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSBhcnJheVxuICAgICAgICogZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAgICAgICAqL1xuICAgICAgYXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW0nXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgd2l0aCB0aGUgaW5kZXhcbiAgICAgICAqIG9mIHRoZSBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLlxuICAgICAgICogTm90ZSwgZm9yIHRoZSBpbmRleCBpbiB0aGUgYHRoaXMuaXRlbXNgIGFycmF5LCB1c2UgdGhlIHZhbHVlIG9mIHRoZVxuICAgICAgICogYGl0ZW1zSW5kZXhBc2AgcHJvcGVydHkuXG4gICAgICAgKi9cbiAgICAgIGluZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2luZGV4J1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdmFyaWFibGUgdG8gYWRkIHRvIHRoZSBiaW5kaW5nIHNjb3BlIHdpdGggdGhlIGluZGV4XG4gICAgICAgKiBvZiB0aGUgaW5zdGFuY2UgaW4gdGhlIGB0aGlzLml0ZW1zYCBhcnJheS4gTm90ZSwgZm9yIHRoZSBpbmRleCBvZlxuICAgICAgICogdGhpcyBpbnN0YW5jZSBpbiB0aGUgc29ydGVkIGFuZCBmaWx0ZXJlZCBsaXN0IG9mIHJlbmRlcmVkIGl0ZW1zLFxuICAgICAgICogdXNlIHRoZSB2YWx1ZSBvZiB0aGUgYGluZGV4QXNgIHByb3BlcnR5LlxuICAgICAgICovXG4gICAgICBpdGVtc0luZGV4QXM6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ2l0ZW1zSW5kZXgnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgZGV0ZXJtaW5lIHRoZSBzb3J0IG9yZGVyIG9mIHRoZSBpdGVtcy4gIFRoaXNcbiAgICAgICAqIHByb3BlcnR5IHNob3VsZCBlaXRoZXIgYmUgcHJvdmlkZWQgYXMgYSBzdHJpbmcsIGluZGljYXRpbmcgYSBtZXRob2RcbiAgICAgICAqIG5hbWUgb24gdGhlIGVsZW1lbnQncyBob3N0LCBvciBlbHNlIGJlIGFuIGFjdHVhbCBmdW5jdGlvbi4gIFRoZVxuICAgICAgICogZnVuY3Rpb24gc2hvdWxkIG1hdGNoIHRoZSBzb3J0IGZ1bmN0aW9uIHBhc3NlZCB0byBgQXJyYXkuc29ydGAuXG4gICAgICAgKiBVc2luZyBhIHNvcnQgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBzb3J0OiB7XG4gICAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgICBvYnNlcnZlcjogJ19fc29ydENoYW5nZWQnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgaXRlbXMgb3V0IG9mIHRoZSB2aWV3LiAgVGhpc1xuICAgICAgICogcHJvcGVydHkgc2hvdWxkIGVpdGhlciBiZSBwcm92aWRlZCBhcyBhIHN0cmluZywgaW5kaWNhdGluZyBhIG1ldGhvZFxuICAgICAgICogbmFtZSBvbiB0aGUgZWxlbWVudCdzIGhvc3QsIG9yIGVsc2UgYmUgYW4gYWN0dWFsIGZ1bmN0aW9uLiAgVGhlXG4gICAgICAgKiBmdW5jdGlvbiBzaG91bGQgbWF0Y2ggdGhlIHNvcnQgZnVuY3Rpb24gcGFzc2VkIHRvIGBBcnJheS5maWx0ZXJgLlxuICAgICAgICogVXNpbmcgYSBmaWx0ZXIgZnVuY3Rpb24gaGFzIG5vIGVmZmVjdCBvbiB0aGUgdW5kZXJseWluZyBgaXRlbXNgIGFycmF5LlxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IHtcbiAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgIG9ic2VydmVyOiAnX19maWx0ZXJDaGFuZ2VkJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHVzaW5nIGEgYGZpbHRlcmAgb3IgYHNvcnRgIGZ1bmN0aW9uLCB0aGUgYG9ic2VydmVgIHByb3BlcnR5XG4gICAgICAgKiBzaG91bGQgYmUgc2V0IHRvIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgdGhlIG5hbWVzIG9mIGl0ZW1cbiAgICAgICAqIHN1Yi1maWVsZHMgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHJlLXNvcnQgb3IgcmUtZmlsdGVyIHdoZW4gY2hhbmdlZC5cbiAgICAgICAqIFRoZXNlIHNob3VsZCBnZW5lcmFsbHkgYmUgZmllbGRzIG9mIGBpdGVtYCB0aGF0IHRoZSBzb3J0IG9yIGZpbHRlclxuICAgICAgICogZnVuY3Rpb24gZGVwZW5kcyBvbi5cbiAgICAgICAqL1xuICAgICAgb2JzZXJ2ZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIG9ic2VydmVyOiAnX19vYnNlcnZlQ2hhbmdlZCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB1c2luZyBhIGBmaWx0ZXJgIG9yIGBzb3J0YCBmdW5jdGlvbiwgdGhlIGBkZWxheWAgcHJvcGVydHlcbiAgICAgICAqIGRldGVybWluZXMgYSBkZWJvdW5jZSB0aW1lIGluIG1zIGFmdGVyIGEgY2hhbmdlIHRvIG9ic2VydmVkIGl0ZW1cbiAgICAgICAqIHByb3BlcnRpZXMgdGhhdCBtdXN0IHBhc3MgYmVmb3JlIHRoZSBmaWx0ZXIgb3Igc29ydCBpcyByZS1ydW4uXG4gICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpbiByYXRlLWxpbWl0aW5nIHNodWZmbGluZyBvZiB0aGUgdmlldyB3aGVuXG4gICAgICAgKiBpdGVtIGNoYW5nZXMgbWF5IGJlIGZyZXF1ZW50LlxuICAgICAgICovXG4gICAgICBkZWxheTogTnVtYmVyLFxuXG4gICAgICAvKipcbiAgICAgICAqIENvdW50IG9mIGN1cnJlbnRseSByZW5kZXJlZCBpdGVtcyBhZnRlciBgZmlsdGVyYCAoaWYgYW55KSBoYXMgYmVlbiBhcHBsaWVkLlxuICAgICAgICogSWYgXCJjaHVua2luZyBtb2RlXCIgaXMgZW5hYmxlZCwgYHJlbmRlcmVkSXRlbUNvdW50YCBpcyB1cGRhdGVkIGVhY2ggdGltZSBhXG4gICAgICAgKiBzZXQgb2YgdGVtcGxhdGUgaW5zdGFuY2VzIGlzIHJlbmRlcmVkLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgcmVuZGVyZWRJdGVtQ291bnQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBub3RpZnk6IHRydWUsXG4gICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIERlZmluZXMgYW4gaW5pdGlhbCBjb3VudCBvZiB0ZW1wbGF0ZSBpbnN0YW5jZXMgdG8gcmVuZGVyIGFmdGVyIHNldHRpbmdcbiAgICAgICAqIHRoZSBgaXRlbXNgIGFycmF5LCBiZWZvcmUgdGhlIG5leHQgcGFpbnQsIGFuZCBwdXRzIHRoZSBgZG9tLXJlcGVhdGBcbiAgICAgICAqIGludG8gXCJjaHVua2luZyBtb2RlXCIuICBUaGUgcmVtYWluaW5nIGl0ZW1zIHdpbGwgYmUgY3JlYXRlZCBhbmQgcmVuZGVyZWRcbiAgICAgICAqIGluY3JlbWVudGFsbHkgYXQgZWFjaCBhbmltYXRpb24gZnJhbWUgdGhlcm9mIHVudGlsIGFsbCBpbnN0YW5jZXMgaGF2ZVxuICAgICAgICogYmVlbiByZW5kZXJlZC5cbiAgICAgICAqL1xuICAgICAgaW5pdGlhbENvdW50OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2luaXRpYWxpemVDaHVua2luZydcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBgaW5pdGlhbENvdW50YCBpcyB1c2VkLCB0aGlzIHByb3BlcnR5IGRlZmluZXMgYSBmcmFtZSByYXRlIChpblxuICAgICAgICogZnBzKSB0byB0YXJnZXQgYnkgdGhyb3R0bGluZyB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyByZW5kZXJlZCBlYWNoXG4gICAgICAgKiBmcmFtZSB0byBub3QgZXhjZWVkIHRoZSBidWRnZXQgZm9yIHRoZSB0YXJnZXQgZnJhbWUgcmF0ZS4gIFRoZVxuICAgICAgICogZnJhbWVyYXRlIGlzIGVmZmVjdGl2ZWx5IHRoZSBudW1iZXIgb2YgYHJlcXVlc3RBbmltYXRpb25GcmFtZWBzIHRoYXRcbiAgICAgICAqIGl0IHRyaWVzIHRvIGFsbG93IHRvIGFjdHVhbGx5IGZpcmUgaW4gYSBnaXZlbiBzZWNvbmQuIEl0IGRvZXMgdGhpc1xuICAgICAgICogYnkgbWVhc3VyaW5nIHRoZSB0aW1lIGJldHdlZW4gYHJBRmBzIGFuZCBjb250aW51b3VzbHkgYWRqdXN0aW5nIHRoZVxuICAgICAgICogbnVtYmVyIG9mIGl0ZW1zIGNyZWF0ZWQgZWFjaCBgckFGYCB0byBtYWludGFpbiB0aGUgdGFyZ2V0IGZyYW1lcmF0ZS5cbiAgICAgICAqIFNldHRpbmcgdGhpcyB0byBhIGhpZ2hlciBudW1iZXIgYWxsb3dzIGxvd2VyIGxhdGVuY3kgYW5kIGhpZ2hlclxuICAgICAgICogdGhyb3VnaHB1dCBmb3IgZXZlbnQgaGFuZGxlcnMgYW5kIG90aGVyIHRhc2tzLCBidXQgcmVzdWx0cyBpbiBhXG4gICAgICAgKiBsb25nZXIgdGltZSBmb3IgdGhlIHJlbWFpbmluZyBpdGVtcyB0byBjb21wbGV0ZSByZW5kZXJpbmcuXG4gICAgICAgKi9cbiAgICAgIHRhcmdldEZyYW1lcmF0ZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiAyMFxuICAgICAgfSxcblxuICAgICAgX3RhcmdldEZyYW1lVGltZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIGNvbXB1dGVkOiAnX19jb21wdXRlRnJhbWVUaW1lKHRhcmdldEZyYW1lcmF0ZSknXG4gICAgICB9XG5cbiAgICB9O1xuXG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gWyAnX19pdGVtc0NoYW5nZWQoaXRlbXMuKiknIF07XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19pbnN0YW5jZXMgPSBbXTtcbiAgICB0aGlzLl9fbGltaXQgPSBJbmZpbml0eTtcbiAgICB0aGlzLl9fcG9vbCA9IFtdO1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBudWxsO1xuICAgIHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeCA9IHt9O1xuICAgIHRoaXMuX19jaHVua0NvdW50ID0gbnVsbDtcbiAgICB0aGlzLl9fbGFzdENodW5rVGltZSA9IG51bGw7XG4gICAgdGhpcy5fX3NvcnRGbiA9IG51bGw7XG4gICAgdGhpcy5fX2ZpbHRlckZuID0gbnVsbDtcbiAgICB0aGlzLl9fb2JzZXJ2ZVBhdGhzID0gbnVsbDtcbiAgICAvKiogQHR5cGUgez9mdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UsIE9iamVjdD0pfSAqL1xuICAgIHRoaXMuX19jdG9yID0gbnVsbDtcbiAgICB0aGlzLl9faXNEZXRhY2hlZCA9IHRydWU7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19pc0RldGFjaGVkID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fX2RldGFjaEluc3RhbmNlKGkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgaWYgKCFoaWRlRWxlbWVudHNHbG9iYWxseSgpKSB7XG4gICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIC8vIG9ubHkgcGVyZm9ybSBhdHRhY2htZW50IGlmIHRoZSBlbGVtZW50IHdhcyBwcmV2aW91c2x5IGRldGFjaGVkLlxuICAgIGlmICh0aGlzLl9faXNEZXRhY2hlZCkge1xuICAgICAgdGhpcy5fX2lzRGV0YWNoZWQgPSBmYWxzZTtcbiAgICAgIGxldCB3cmFwcGVkUGFyZW50ID0gd3JhcCh3cmFwKHRoaXMpLnBhcmVudE5vZGUpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPHRoaXMuX19pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fX2F0dGFjaEluc3RhbmNlKGksIHdyYXBwZWRQYXJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9fZW5zdXJlVGVtcGxhdGl6ZWQoKSB7XG4gICAgLy8gVGVtcGxhdGl6aW5nIChnZW5lcmF0aW5nIHRoZSBpbnN0YW5jZSBjb25zdHJ1Y3RvcikgbmVlZHMgdG8gd2FpdFxuICAgIC8vIHVudGlsIHJlYWR5LCBzaW5jZSB3b24ndCBoYXZlIGl0cyB0ZW1wbGF0ZSBjb250ZW50IGhhbmRlZCBiYWNrIHRvXG4gICAgLy8gaXQgdW50aWwgdGhlblxuICAgIGlmICghdGhpcy5fX2N0b3IpIHtcbiAgICAgIGxldCB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIC8vIC8vIFdhaXQgdW50aWwgY2hpbGRMaXN0IGNoYW5nZXMgYW5kIHRlbXBsYXRlIHNob3VsZCBiZSB0aGVyZSBieSB0aGVuXG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLl9fcmVuZGVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZG9tLXJlcGVhdCByZXF1aXJlcyBhIDx0ZW1wbGF0ZT4gY2hpbGQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGVtcGxhdGUgaW5zdGFuY2UgcHJvcHMgdGhhdCBzaG91bGQgYmUgZXhjbHVkZWQgZnJvbSBmb3J3YXJkaW5nXG4gICAgICBsZXQgaW5zdGFuY2VQcm9wcyA9IHt9O1xuICAgICAgaW5zdGFuY2VQcm9wc1t0aGlzLmFzXSA9IHRydWU7XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuaW5kZXhBc10gPSB0cnVlO1xuICAgICAgaW5zdGFuY2VQcm9wc1t0aGlzLml0ZW1zSW5kZXhBc10gPSB0cnVlO1xuICAgICAgdGhpcy5fX2N0b3IgPSB0ZW1wbGF0aXplKHRlbXBsYXRlLCB0aGlzLCB7XG4gICAgICAgIG11dGFibGVEYXRhOiB0aGlzLm11dGFibGVEYXRhLFxuICAgICAgICBwYXJlbnRNb2RlbDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VQcm9wczogaW5zdGFuY2VQcm9wcyxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0aGlzIHtEb21SZXBlYXR9XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRvIHNldFxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCBwcm9wZXJ0eSB0b1xuICAgICAgICAgKi9cbiAgICAgICAgZm9yd2FyZEhvc3RQcm9wOiBmdW5jdGlvbihwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIGxldCBpJCA9IHRoaXMuX19pbnN0YW5jZXM7XG4gICAgICAgICAgZm9yIChsZXQgaT0wLCBpbnN0OyAoaTxpJC5sZW5ndGgpICYmIChpbnN0PWkkW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICBpbnN0LmZvcndhcmRIb3N0UHJvcChwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHRoaXMge0RvbVJlcGVhdH1cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGluc3QgSW5zdGFuY2UgdG8gbm90aWZ5XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRvIG5vdGlmeVxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIG5vdGlmeVxuICAgICAgICAgKi9cbiAgICAgICAgbm90aWZ5SW5zdGFuY2VQcm9wOiBmdW5jdGlvbihpbnN0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChtYXRjaGVzKHRoaXMuYXMsIHByb3ApKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gaW5zdFt0aGlzLml0ZW1zSW5kZXhBc107XG4gICAgICAgICAgICBpZiAocHJvcCA9PSB0aGlzLmFzKSB7XG4gICAgICAgICAgICAgIHRoaXMuaXRlbXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhdGggPSB0cmFuc2xhdGUodGhpcy5hcywgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCwgcHJvcCk7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeVBhdGgocGF0aCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgX19nZXRNZXRob2RIb3N0KCkge1xuICAgIC8vIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkIGJlIHRoZSBvd25lciBvZiB0aGUgb3V0ZXJtb3N0IHRlbXBsYXRlLlxuICAgIC8vIEluIHNoYWRvdyBkb20sIHRoaXMgaXMgYWx3YXlzIGdldFJvb3ROb2RlKCkuaG9zdCwgYnV0IHdlIGNhblxuICAgIC8vIGFwcHJveGltYXRlIHRoaXMgdmlhIGNvb3BlcmF0aW9uIHdpdGggb3VyIGRhdGFIb3N0IGFsd2F5cyBzZXR0aW5nXG4gICAgLy8gYF9tZXRob2RIb3N0YCBhcyBsb25nIGFzIHRoZXJlIHdlcmUgYmluZGluZ3MgKG9yIGlkJ3MpIG9uIHRoaXNcbiAgICAvLyBpbnN0YW5jZSBjYXVzaW5nIGl0IHRvIGdldCBhIGRhdGFIb3N0LlxuICAgIHJldHVybiB0aGlzLl9fZGF0YUhvc3QuX21ldGhvZEhvc3QgfHwgdGhpcy5fX2RhdGFIb3N0O1xuICB9XG5cbiAgX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKGZ1bmN0aW9uT3JNZXRob2ROYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBmdW5jdGlvbk9yTWV0aG9kTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGxldCBtZXRob2ROYW1lID0gZnVuY3Rpb25Pck1ldGhvZE5hbWU7XG4gICAgICBsZXQgb2JqID0gdGhpcy5fX2dldE1ldGhvZEhvc3QoKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIG9ialttZXRob2ROYW1lXS5hcHBseShvYmosIGFyZ3VtZW50cyk7IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uT3JNZXRob2ROYW1lO1xuICB9XG5cbiAgX19zb3J0Q2hhbmdlZChzb3J0KSB7XG4gICAgdGhpcy5fX3NvcnRGbiA9IHRoaXMuX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKHNvcnQpO1xuICAgIGlmICh0aGlzLml0ZW1zKSB7IHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTsgfVxuICB9XG5cbiAgX19maWx0ZXJDaGFuZ2VkKGZpbHRlcikge1xuICAgIHRoaXMuX19maWx0ZXJGbiA9IHRoaXMuX19mdW5jdGlvbkZyb21Qcm9wZXJ0eVZhbHVlKGZpbHRlcik7XG4gICAgaWYgKHRoaXMuaXRlbXMpIHsgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpOyB9XG4gIH1cblxuICBfX2NvbXB1dGVGcmFtZVRpbWUocmF0ZSkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoMTAwMC9yYXRlKTtcbiAgfVxuXG4gIF9faW5pdGlhbGl6ZUNodW5raW5nKCkge1xuICAgIGlmICh0aGlzLmluaXRpYWxDb3VudCkge1xuICAgICAgdGhpcy5fX2xpbWl0ID0gdGhpcy5pbml0aWFsQ291bnQ7XG4gICAgICB0aGlzLl9fY2h1bmtDb3VudCA9IHRoaXMuaW5pdGlhbENvdW50O1xuICAgICAgdGhpcy5fX2xhc3RDaHVua1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB9XG4gIH1cblxuICBfX3RyeVJlbmRlckNodW5rKCkge1xuICAgIC8vIERlYm91bmNlZCBzbyB0aGF0IG11bHRpcGxlIGNhbGxzIHRocm91Z2ggYF9yZW5kZXJgIGJldHdlZW4gYW5pbWF0aW9uXG4gICAgLy8gZnJhbWVzIG9ubHkgcXVldWUgb25lIG5ldyByQUYgKGUuZy4gYXJyYXkgbXV0YXRpb24gJiBjaHVua2VkIHJlbmRlcilcbiAgICBpZiAodGhpcy5pdGVtcyAmJiB0aGlzLl9fbGltaXQgPCB0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZXF1ZXN0UmVuZGVyQ2h1bmspO1xuICAgIH1cbiAgfVxuXG4gIF9fcmVxdWVzdFJlbmRlckNodW5rKCkge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+dGhpcy5fX3JlbmRlckNodW5rKCkpO1xuICB9XG5cbiAgX19yZW5kZXJDaHVuaygpIHtcbiAgICAvLyBTaW1wbGUgYXV0byBjaHVua1NpemUgdGhyb3R0bGluZyBhbGdvcml0aG0gYmFzZWQgb24gZmVlZGJhY2sgbG9vcDpcbiAgICAvLyBtZWFzdXJlIGFjdHVhbCB0aW1lIGJldHdlZW4gZnJhbWVzIGFuZCBzY2FsZSBjaHVuayBjb3VudCBieSByYXRpb1xuICAgIC8vIG9mIHRhcmdldC9hY3R1YWwgZnJhbWUgdGltZVxuICAgIGxldCBjdXJyQ2h1bmtUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IHJhdGlvID0gdGhpcy5fdGFyZ2V0RnJhbWVUaW1lIC8gKGN1cnJDaHVua1RpbWUgLSB0aGlzLl9fbGFzdENodW5rVGltZSk7XG4gICAgdGhpcy5fX2NodW5rQ291bnQgPSBNYXRoLnJvdW5kKHRoaXMuX19jaHVua0NvdW50ICogcmF0aW8pIHx8IDE7XG4gICAgdGhpcy5fX2xpbWl0ICs9IHRoaXMuX19jaHVua0NvdW50O1xuICAgIHRoaXMuX19sYXN0Q2h1bmtUaW1lID0gY3VyckNodW5rVGltZTtcbiAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlcik7XG4gIH1cblxuICBfX29ic2VydmVDaGFuZ2VkKCkge1xuICAgIHRoaXMuX19vYnNlcnZlUGF0aHMgPSB0aGlzLm9ic2VydmUgJiZcbiAgICAgIHRoaXMub2JzZXJ2ZS5yZXBsYWNlKCcuKicsICcuJykuc3BsaXQoJyAnKTtcbiAgfVxuXG4gIF9faXRlbXNDaGFuZ2VkKGNoYW5nZSkge1xuICAgIGlmICh0aGlzLml0ZW1zICYmICFBcnJheS5pc0FycmF5KHRoaXMuaXRlbXMpKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2RvbS1yZXBlYXQgZXhwZWN0ZWQgYXJyYXkgZm9yIGBpdGVtc2AsIGZvdW5kJywgdGhpcy5pdGVtcyk7XG4gICAgfVxuICAgIC8vIElmIHBhdGggd2FzIHRvIGFuIGl0ZW0gKGUuZy4gJ2l0ZW1zLjMnIG9yICdpdGVtcy4zLmZvbycpLCBmb3J3YXJkIHRoZVxuICAgIC8vIHBhdGggdG8gdGhhdCBpbnN0YW5jZSBzeW5jaHJvbm91c2x5IChyZXR1cm5zIGZhbHNlIGZvciBub24taXRlbSBwYXRocylcbiAgICBpZiAoIXRoaXMuX19oYW5kbGVJdGVtUGF0aChjaGFuZ2UucGF0aCwgY2hhbmdlLnZhbHVlKSkge1xuICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgYXJyYXkgd2FzIHJlc2V0ICgnaXRlbXMnKSBvciBzcGxpY2VkICgnaXRlbXMuc3BsaWNlcycpLFxuICAgICAgLy8gc28gcXVldWUgYSBmdWxsIHJlZnJlc2hcbiAgICAgIHRoaXMuX19pbml0aWFsaXplQ2h1bmtpbmcoKTtcbiAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgICB9XG4gIH1cblxuICBfX2hhbmRsZU9ic2VydmVkUGF0aHMocGF0aCkge1xuICAgIC8vIEhhbmRsZSBjYXNlcyB3aGVyZSBwYXRoIGNoYW5nZXMgc2hvdWxkIGNhdXNlIGEgcmUtc29ydC9maWx0ZXJcbiAgICBpZiAodGhpcy5fX3NvcnRGbiB8fCB0aGlzLl9fZmlsdGVyRm4pIHtcbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAvLyBBbHdheXMgcmUtcmVuZGVyIGlmIHRoZSBpdGVtIGl0c2VsZiBjaGFuZ2VkXG4gICAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyLCB0aGlzLmRlbGF5KTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fX29ic2VydmVQYXRocykge1xuICAgICAgICAvLyBPdGhlcndpc2UsIHJlLXJlbmRlciBpZiB0aGUgcGF0aCBjaGFuZ2VkIG1hdGNoZXMgYW4gb2JzZXJ2ZWQgcGF0aFxuICAgICAgICBsZXQgcGF0aHMgPSB0aGlzLl9fb2JzZXJ2ZVBhdGhzO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGk8cGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAocGF0aC5pbmRleE9mKHBhdGhzW2ldKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIsIHRoaXMuZGVsYXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6RG9tUmVwZWF0KX0gZm4gRnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gZGVsYXkgRGVsYXkgaW4gbXMgdG8gZGVib3VuY2UgYnkuXG4gICAqL1xuICBfX2RlYm91bmNlUmVuZGVyKGZuLCBkZWxheSA9IDApIHtcbiAgICB0aGlzLl9fcmVuZGVyRGVib3VuY2VyID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXJcbiAgICAgICAgLCBkZWxheSA+IDAgPyB0aW1lT3V0LmFmdGVyKGRlbGF5KSA6IG1pY3JvVGFza1xuICAgICAgICAsIGZuLmJpbmQodGhpcykpO1xuICAgIGVucXVldWVEZWJvdW5jZXIodGhpcy5fX3JlbmRlckRlYm91bmNlcik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2VzIHRoZSBlbGVtZW50IHRvIHJlbmRlciBpdHMgY29udGVudC4gTm9ybWFsbHkgcmVuZGVyaW5nIGlzXG4gICAqIGFzeW5jaHJvbm91cyB0byBhIHByb3Zva2luZyBjaGFuZ2UuIFRoaXMgaXMgZG9uZSBmb3IgZWZmaWNpZW5jeSBzb1xuICAgKiB0aGF0IG11bHRpcGxlIGNoYW5nZXMgdHJpZ2dlciBvbmx5IGEgc2luZ2xlIHJlbmRlci4gVGhlIHJlbmRlciBtZXRob2RcbiAgICogc2hvdWxkIGJlIGNhbGxlZCBpZiwgZm9yIGV4YW1wbGUsIHRlbXBsYXRlIHJlbmRlcmluZyBpcyByZXF1aXJlZCB0b1xuICAgKiB2YWxpZGF0ZSBhcHBsaWNhdGlvbiBzdGF0ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICAvLyBRdWV1ZSB0aGlzIHJlcGVhdGVyLCB0aGVuIGZsdXNoIGFsbCBpbiBvcmRlclxuICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgICBmbHVzaCgpO1xuICB9XG5cbiAgX19yZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLl9fZW5zdXJlVGVtcGxhdGl6ZWQoKSkge1xuICAgICAgLy8gTm8gdGVtcGxhdGUgZm91bmQgeWV0XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX19hcHBseUZ1bGxSZWZyZXNoKCk7XG4gICAgLy8gUmVzZXQgdGhlIHBvb2xcbiAgICAvLyBUT0RPKGtzY2hhYWYpOiBSZXVzZSBwb29sIGFjcm9zcyB0dXJucyBhbmQgbmVzdGVkIHRlbXBsYXRlc1xuICAgIC8vIE5vdyB0aGF0IG9iamVjdHMvYXJyYXlzIGFyZSByZS1ldmFsdWF0ZWQgd2hlbiBzZXQsIHdlIGNhbiBzYWZlbHlcbiAgICAvLyByZXVzZSBwb29sZWQgaW5zdGFuY2VzIGFjcm9zcyB0dXJucywgaG93ZXZlciB3ZSBzdGlsbCBuZWVkIHRvIGRlY2lkZVxuICAgIC8vIHNlbWFudGljcyByZWdhcmRpbmcgaG93IGxvbmcgdG8gaG9sZCwgaG93IG1hbnkgdG8gaG9sZCwgZXRjLlxuICAgIHRoaXMuX19wb29sLmxlbmd0aCA9IDA7XG4gICAgLy8gU2V0IHJlbmRlcmVkIGl0ZW0gY291bnRcbiAgICB0aGlzLl9zZXRSZW5kZXJlZEl0ZW1Db3VudCh0aGlzLl9faW5zdGFuY2VzLmxlbmd0aCk7XG4gICAgLy8gTm90aWZ5IHVzZXJzXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZG9tLWNoYW5nZScsIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZVxuICAgIH0pKTtcbiAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgbmVlZCB0byByZW5kZXIgbW9yZSBpdGVtc1xuICAgIHRoaXMuX190cnlSZW5kZXJDaHVuaygpO1xuICB9XG5cbiAgX19hcHBseUZ1bGxSZWZyZXNoKCkge1xuICAgIGxldCBpdGVtcyA9IHRoaXMuaXRlbXMgfHwgW107XG4gICAgbGV0IGlzbnRJZHhUb0l0ZW1zSWR4ID0gbmV3IEFycmF5KGl0ZW1zLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaT0wOyBpPGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeFtpXSA9IGk7XG4gICAgfVxuICAgIC8vIEFwcGx5IHVzZXIgZmlsdGVyXG4gICAgaWYgKHRoaXMuX19maWx0ZXJGbikge1xuICAgICAgaXNudElkeFRvSXRlbXNJZHggPSBpc250SWR4VG9JdGVtc0lkeC5maWx0ZXIoKGksIGlkeCwgYXJyYXkpID0+XG4gICAgICAgIHRoaXMuX19maWx0ZXJGbihpdGVtc1tpXSwgaWR4LCBhcnJheSkpO1xuICAgIH1cbiAgICAvLyBBcHBseSB1c2VyIHNvcnRcbiAgICBpZiAodGhpcy5fX3NvcnRGbikge1xuICAgICAgaXNudElkeFRvSXRlbXNJZHguc29ydCgoYSwgYikgPT4gdGhpcy5fX3NvcnRGbihpdGVtc1thXSwgaXRlbXNbYl0pKTtcbiAgICB9XG4gICAgLy8gaXRlbXMtPmluc3QgbWFwIGtlcHQgZm9yIGl0ZW0gcGF0aCBmb3J3YXJkaW5nXG4gICAgY29uc3QgaXRlbXNJZHhUb0luc3RJZHggPSB0aGlzLl9faXRlbXNJZHhUb0luc3RJZHggPSB7fTtcbiAgICBsZXQgaW5zdElkeCA9IDA7XG4gICAgLy8gR2VuZXJhdGUgaW5zdGFuY2VzIGFuZCBhc3NpZ24gaXRlbXNcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgubWluKGlzbnRJZHhUb0l0ZW1zSWR4Lmxlbmd0aCwgdGhpcy5fX2xpbWl0KTtcbiAgICBmb3IgKDsgaW5zdElkeDxsaW1pdDsgaW5zdElkeCsrKSB7XG4gICAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeF07XG4gICAgICBsZXQgaXRlbUlkeCA9IGlzbnRJZHhUb0l0ZW1zSWR4W2luc3RJZHhdO1xuICAgICAgbGV0IGl0ZW0gPSBpdGVtc1tpdGVtSWR4XTtcbiAgICAgIGl0ZW1zSWR4VG9JbnN0SWR4W2l0ZW1JZHhdID0gaW5zdElkeDtcbiAgICAgIGlmIChpbnN0KSB7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLmFzLCBpdGVtKTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaW5kZXhBcywgaW5zdElkeCk7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLml0ZW1zSW5kZXhBcywgaXRlbUlkeCk7XG4gICAgICAgIGluc3QuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX2luc2VydEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgYW55IGV4dHJhIGluc3RhbmNlcyBmcm9tIHByZXZpb3VzIHN0YXRlXG4gICAgZm9yIChsZXQgaT10aGlzLl9faW5zdGFuY2VzLmxlbmd0aC0xOyBpPj1pbnN0SWR4OyBpLS0pIHtcbiAgICAgIHRoaXMuX19kZXRhY2hBbmRSZW1vdmVJbnN0YW5jZShpKTtcbiAgICB9XG4gIH1cblxuICBfX2RldGFjaEluc3RhbmNlKGlkeCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpZHhdO1xuICAgIGNvbnN0IHdyYXBwZWRSb290ID0gd3JhcChpbnN0LnJvb3QpO1xuICAgIGZvciAobGV0IGk9MDsgaTxpbnN0LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZWwgPSBpbnN0LmNoaWxkcmVuW2ldO1xuICAgICAgd3JhcHBlZFJvb3QuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIF9fYXR0YWNoSW5zdGFuY2UoaWR4LCBwYXJlbnQpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaWR4XTtcbiAgICAvLyBOb3RlLCB0aGlzIGlzIHByZS13cmFwcGVkIGFzIGFuIG9wdGltaXphdGlvblxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoaW5zdC5yb290LCB0aGlzKTtcbiAgfVxuXG4gIF9fZGV0YWNoQW5kUmVtb3ZlSW5zdGFuY2UoaWR4KSB7XG4gICAgbGV0IGluc3QgPSB0aGlzLl9fZGV0YWNoSW5zdGFuY2UoaWR4KTtcbiAgICBpZiAoaW5zdCkge1xuICAgICAgdGhpcy5fX3Bvb2wucHVzaChpbnN0KTtcbiAgICB9XG4gICAgdGhpcy5fX2luc3RhbmNlcy5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIF9fc3RhbXBJbnN0YW5jZShpdGVtLCBpbnN0SWR4LCBpdGVtSWR4KSB7XG4gICAgbGV0IG1vZGVsID0ge307XG4gICAgbW9kZWxbdGhpcy5hc10gPSBpdGVtO1xuICAgIG1vZGVsW3RoaXMuaW5kZXhBc10gPSBpbnN0SWR4O1xuICAgIG1vZGVsW3RoaXMuaXRlbXNJbmRleEFzXSA9IGl0ZW1JZHg7XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9fY3Rvcihtb2RlbCk7XG4gIH1cblxuICBfX2luc2VydEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19wb29sLnBvcCgpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICAvLyBUT0RPKGtzY2hhYWYpOiBJZiB0aGUgcG9vbCBpcyBzaGFyZWQgYWNyb3NzIHR1cm5zLCBob3N0UHJvcHNcbiAgICAgIC8vIG5lZWQgdG8gYmUgcmUtc2V0IHRvIHJldXNlZCBpbnN0YW5jZXMgaW4gYWRkaXRpb24gdG8gaXRlbVxuICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuYXMsIGl0ZW0pO1xuICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaW5kZXhBcywgaW5zdElkeCk7XG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pdGVtc0luZGV4QXMsIGl0ZW1JZHgpO1xuICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3QgPSB0aGlzLl9fc3RhbXBJbnN0YW5jZShpdGVtLCBpbnN0SWR4LCBpdGVtSWR4KTtcbiAgICB9XG4gICAgbGV0IGJlZm9yZVJvdyA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeCArIDFdO1xuICAgIGxldCBiZWZvcmVOb2RlID0gYmVmb3JlUm93ID8gYmVmb3JlUm93LmNoaWxkcmVuWzBdIDogdGhpcztcbiAgICB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKGluc3Qucm9vdCwgYmVmb3JlTm9kZSk7XG4gICAgdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4XSA9IGluc3Q7XG4gICAgcmV0dXJuIGluc3Q7XG4gIH1cblxuICAvLyBJbXBsZW1lbnRzIGV4dGVuc2lvbiBwb2ludCBmcm9tIFRlbXBsYXRpemUgbWl4aW5cbiAgLyoqXG4gICAqIFNob3dzIG9yIGhpZGVzIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0b3AgbGV2ZWwgY2hpbGQgZWxlbWVudHMuIEZvclxuICAgKiB0ZXh0IG5vZGVzLCBgdGV4dENvbnRlbnRgIGlzIHJlbW92ZWQgd2hpbGUgXCJoaWRkZW5cIiBhbmQgcmVwbGFjZWQgd2hlblxuICAgKiBcInNob3duLlwiXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZGVuIFNldCB0byB0cnVlIHRvIGhpZGUgdGhlIGNoaWxkcmVuO1xuICAgKiBzZXQgdG8gZmFsc2UgdG8gc2hvdyB0aGVtLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2hvd0hpZGVDaGlsZHJlbihoaWRkZW4pIHtcbiAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fX2luc3RhbmNlc1tpXS5fc2hvd0hpZGVDaGlsZHJlbihoaWRkZW4pO1xuICAgIH1cbiAgfVxuXG4gIC8vIENhbGxlZCBhcyBhIHNpZGUgZWZmZWN0IG9mIGEgaG9zdCBpdGVtcy48a2V5Pi48cGF0aD4gcGF0aCBjaGFuZ2UsXG4gIC8vIHJlc3BvbnNpYmxlIGZvciBub3RpZnlpbmcgaXRlbS48cGF0aD4gY2hhbmdlcyB0byBpbnN0IGZvciBrZXlcbiAgX19oYW5kbGVJdGVtUGF0aChwYXRoLCB2YWx1ZSkge1xuICAgIGxldCBpdGVtc1BhdGggPSBwYXRoLnNsaWNlKDYpOyAvLyAnaXRlbXMuJy5sZW5ndGggPT0gNlxuICAgIGxldCBkb3QgPSBpdGVtc1BhdGguaW5kZXhPZignLicpO1xuICAgIGxldCBpdGVtc0lkeCA9IGRvdCA8IDAgPyBpdGVtc1BhdGggOiBpdGVtc1BhdGguc3Vic3RyaW5nKDAsIGRvdCk7XG4gICAgLy8gSWYgcGF0aCB3YXMgaW5kZXggaW50byBhcnJheS4uLlxuICAgIGlmIChpdGVtc0lkeCA9PSBwYXJzZUludChpdGVtc0lkeCwgMTApKSB7XG4gICAgICBsZXQgaXRlbVN1YlBhdGggPSBkb3QgPCAwID8gJycgOiBpdGVtc1BhdGguc3Vic3RyaW5nKGRvdCsxKTtcbiAgICAgIC8vIElmIHRoZSBwYXRoIGlzIG9ic2VydmVkLCBpdCB3aWxsIHRyaWdnZXIgYSBmdWxsIHJlZnJlc2hcbiAgICAgIHRoaXMuX19oYW5kbGVPYnNlcnZlZFBhdGhzKGl0ZW1TdWJQYXRoKTtcbiAgICAgIC8vIE5vdGUsIGV2ZW4gaWYgYSBydWxsIHJlZnJlc2ggaXMgdHJpZ2dlcmVkLCBhbHdheXMgZG8gdGhlIHBhdGhcbiAgICAgIC8vIG5vdGlmaWNhdGlvbiBiZWNhdXNlIHVubGVzcyBtdXRhYmxlRGF0YSBpcyB1c2VkIGZvciBkb20tcmVwZWF0XG4gICAgICAvLyBhbmQgYWxsIGVsZW1lbnRzIGluIHRoZSBpbnN0YW5jZSBzdWJ0cmVlLCBhIGZ1bGwgcmVmcmVzaCBtYXlcbiAgICAgIC8vIG5vdCB0cmlnZ2VyIHRoZSBwcm9wZXIgdXBkYXRlLlxuICAgICAgbGV0IGluc3RJZHggPSB0aGlzLl9faXRlbXNJZHhUb0luc3RJZHhbaXRlbXNJZHhdO1xuICAgICAgbGV0IGluc3QgPSB0aGlzLl9faW5zdGFuY2VzW2luc3RJZHhdO1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgbGV0IGl0ZW1QYXRoID0gdGhpcy5hcyArIChpdGVtU3ViUGF0aCA/ICcuJyArIGl0ZW1TdWJQYXRoIDogJycpO1xuICAgICAgICAvLyBUaGlzIGlzIGVmZmVjdGl2ZWx5IGBub3RpZnlQYXRoYCwgYnV0IGF2b2lkcyBzb21lIG9mIHRoZSBvdmVyaGVhZFxuICAgICAgICAvLyBvZiB0aGUgcHVibGljIEFQSVxuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgoaXRlbVBhdGgsIHZhbHVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGluc3QuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0gYXNzb2NpYXRlZCB3aXRoIGEgZ2l2ZW4gZWxlbWVudCBzdGFtcGVkIGJ5XG4gICAqIHRoaXMgYGRvbS1yZXBlYXRgLlxuICAgKlxuICAgKiBOb3RlLCB0byBtb2RpZnkgc3ViLXByb3BlcnRpZXMgb2YgdGhlIGl0ZW0sXG4gICAqIGBtb2RlbEZvckVsZW1lbnQoZWwpLnNldCgnaXRlbS48c3ViLXByb3A+JywgdmFsdWUpYFxuICAgKiBzaG91bGQgYmUgdXNlZC5cbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsIEVsZW1lbnQgZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgaXRlbS5cbiAgICogQHJldHVybiB7Kn0gSXRlbSBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQuXG4gICAqL1xuICBpdGVtRm9yRWxlbWVudChlbCkge1xuICAgIGxldCBpbnN0YW5jZSA9IHRoaXMubW9kZWxGb3JFbGVtZW50KGVsKTtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2VbdGhpcy5hc107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaW5zdCBpbmRleCBmb3IgYSBnaXZlbiBlbGVtZW50IHN0YW1wZWQgYnkgdGhpcyBgZG9tLXJlcGVhdGAuXG4gICAqIElmIGBzb3J0YCBpcyBwcm92aWRlZCwgdGhlIGluZGV4IHdpbGwgcmVmbGVjdCB0aGUgc29ydGVkIG9yZGVyIChyYXRoZXJcbiAgICogdGhhbiB0aGUgb3JpZ2luYWwgYXJyYXkgb3JkZXIpLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBpbmRleC5cbiAgICogQHJldHVybiB7P251bWJlcn0gUm93IGluZGV4IGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudCAobm90ZSB0aGlzIG1heVxuICAgKiAgIG5vdCBjb3JyZXNwb25kIHRvIHRoZSBhcnJheSBpbmRleCBpZiBhIHVzZXIgYHNvcnRgIGlzIGFwcGxpZWQpLlxuICAgKi9cbiAgaW5kZXhGb3JFbGVtZW50KGVsKSB7XG4gICAgbGV0IGluc3RhbmNlID0gdGhpcy5tb2RlbEZvckVsZW1lbnQoZWwpO1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZVt0aGlzLmluZGV4QXNdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIFwibW9kZWxcIiBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50LCB3aGljaFxuICAgKiBzZXJ2ZXMgYXMgdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGUgZWxlbWVudCBpc1xuICAgKiBjb250YWluZWQgaW4uIEEgdGVtcGxhdGUgbW9kZWxcbiAgICogc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRlbXBsYXRlIGluc3RhbmNlLlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKlxuICAgKiAgIGxldCBtb2RlbCA9IG1vZGVsRm9yRWxlbWVudChlbCk7XG4gICAqICAgaWYgKG1vZGVsLmluZGV4IDwgMTApIHtcbiAgICogICAgIG1vZGVsLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7XG4gICAqICAgfVxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIGEgdGVtcGxhdGUgbW9kZWwuXG4gICAqIEByZXR1cm4ge1RlbXBsYXRlSW5zdGFuY2VCYXNlfSBNb2RlbCByZXByZXNlbnRpbmcgdGhlIGJpbmRpbmcgc2NvcGUgZm9yXG4gICAqICAgdGhlIGVsZW1lbnQuXG4gICAqL1xuICBtb2RlbEZvckVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gbW9kZWxGb3JFbGVtZW50KHRoaXMudGVtcGxhdGUsIGVsKTtcbiAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShEb21SZXBlYXQuaXMsIERvbVJlcGVhdCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgUG9seW1lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyB0ZW1wbGF0aXplIH0gZnJvbSAnLi4vdXRpbHMvdGVtcGxhdGl6ZS5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBlbnF1ZXVlRGVib3VuY2VyLCBmbHVzaCB9IGZyb20gJy4uL3V0aWxzL2ZsdXNoLmpzJztcbmltcG9ydCB7IG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHJvb3QgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50c0dsb2JhbGx5IH0gZnJvbSAnLi4vdXRpbHMvaGlkZS10ZW1wbGF0ZS1jb250cm9scy5qcyc7XG5cbi8qKlxuICogVGhlIGA8ZG9tLWlmPmAgZWxlbWVudCB3aWxsIHN0YW1wIGEgbGlnaHQtZG9tIGA8dGVtcGxhdGU+YCBjaGlsZCB3aGVuXG4gKiB0aGUgYGlmYCBwcm9wZXJ0eSBiZWNvbWVzIHRydXRoeSwgYW5kIHRoZSB0ZW1wbGF0ZSBjYW4gdXNlIFBvbHltZXJcbiAqIGRhdGEtYmluZGluZyBhbmQgZGVjbGFyYXRpdmUgZXZlbnQgZmVhdHVyZXMgd2hlbiB1c2VkIGluIHRoZSBjb250ZXh0IG9mXG4gKiBhIFBvbHltZXIgZWxlbWVudCdzIHRlbXBsYXRlLlxuICpcbiAqIFdoZW4gYGlmYCBiZWNvbWVzIGZhbHN5LCB0aGUgc3RhbXBlZCBjb250ZW50IGlzIGhpZGRlbiBidXQgbm90XG4gKiByZW1vdmVkIGZyb20gZG9tLiBXaGVuIGBpZmAgc3Vic2VxdWVudGx5IGJlY29tZXMgdHJ1dGh5IGFnYWluLCB0aGUgY29udGVudFxuICogaXMgc2ltcGx5IHJlLXNob3duLiBUaGlzIGFwcHJvYWNoIGlzIHVzZWQgZHVlIHRvIGl0cyBmYXZvcmFibGUgcGVyZm9ybWFuY2VcbiAqIGNoYXJhY3RlcmlzdGljczogdGhlIGV4cGVuc2Ugb2YgY3JlYXRpbmcgdGVtcGxhdGUgY29udGVudCBpcyBwYWlkIG9ubHlcbiAqIG9uY2UgYW5kIGxhemlseS5cbiAqXG4gKiBTZXQgdGhlIGByZXN0YW1wYCBwcm9wZXJ0eSB0byB0cnVlIHRvIGZvcmNlIHRoZSBzdGFtcGVkIGNvbnRlbnQgdG8gYmVcbiAqIGNyZWF0ZWQgLyBkZXN0cm95ZWQgd2hlbiB0aGUgYGlmYCBjb25kaXRpb24gY2hhbmdlcy5cbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBleHRlbmRzIFBvbHltZXJFbGVtZW50XG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCB0aGF0IGNvbmRpdGlvbmFsbHkgc3RhbXBzIGFuZCBoaWRlcyBvciByZW1vdmVzXG4gKiAgIHRlbXBsYXRlIGNvbnRlbnQgYmFzZWQgb24gYSBib29sZWFuIGZsYWcuXG4gKi9cbmV4cG9ydCBjbGFzcyBEb21JZiBleHRlbmRzIFBvbHltZXJFbGVtZW50IHtcblxuICAvLyBOb3QgbmVlZGVkIHRvIGZpbmQgdGVtcGxhdGU7IGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGFuYWx5emVyXG4gIC8vIGNhbiBmaW5kIHRoZSB0YWcgbmFtZSBmcm9tIGN1c3RvbUVsZW1lbnRzLmRlZmluZSBjYWxsXG4gIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAnZG9tLWlmJzsgfVxuXG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuXG4gICAgcmV0dXJuIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaXJlZCB3aGVuZXZlciBET00gaXMgYWRkZWQgb3IgcmVtb3ZlZC9oaWRkZW4gYnkgdGhpcyB0ZW1wbGF0ZSAoYnlcbiAgICAgICAqIGRlZmF1bHQsIHJlbmRlcmluZyBvY2N1cnMgbGF6aWx5KS4gIFRvIGZvcmNlIGltbWVkaWF0ZSByZW5kZXJpbmcsIGNhbGxcbiAgICAgICAqIGByZW5kZXJgLlxuICAgICAgICpcbiAgICAgICAqIEBldmVudCBkb20tY2hhbmdlXG4gICAgICAgKi9cblxuICAgICAgLyoqXG4gICAgICAgKiBBIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgdGVtcGxhdGUgc2hvdWxkIHN0YW1wLlxuICAgICAgICovXG4gICAgICBpZjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICBvYnNlcnZlcjogJ19fZGVib3VuY2VSZW5kZXInXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdHJ1ZSwgZWxlbWVudHMgd2lsbCBiZSByZW1vdmVkIGZyb20gRE9NIGFuZCBkaXNjYXJkZWQgd2hlbiBgaWZgXG4gICAgICAgKiBiZWNvbWVzIGZhbHNlIGFuZCByZS1jcmVhdGVkIGFuZCBhZGRlZCBiYWNrIHRvIHRoZSBET00gd2hlbiBgaWZgXG4gICAgICAgKiBiZWNvbWVzIHRydWUuICBCeSBkZWZhdWx0LCBzdGFtcGVkIGVsZW1lbnRzIHdpbGwgYmUgaGlkZGVuIGJ1dCBsZWZ0XG4gICAgICAgKiBpbiB0aGUgRE9NIHdoZW4gYGlmYCBiZWNvbWVzIGZhbHNlLCB3aGljaCBpcyBnZW5lcmFsbHkgcmVzdWx0c1xuICAgICAgICogaW4gYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICovXG4gICAgICByZXN0YW1wOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG9ic2VydmVyOiAnX19kZWJvdW5jZVJlbmRlcidcbiAgICAgIH1cblxuICAgIH07XG5cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX3JlbmRlckRlYm91bmNlciA9IG51bGw7XG4gICAgdGhpcy5fX2ludmFsaWRQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fX2luc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLl9sYXN0SWYgPSBmYWxzZTtcbiAgICB0aGlzLl9fY3RvciA9IG51bGw7XG4gICAgdGhpcy5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18gPSBmYWxzZTtcbiAgfVxuXG4gIF9fZGVib3VuY2VSZW5kZXIoKSB7XG4gICAgLy8gUmVuZGVyIGlzIGFzeW5jIGZvciAyIHJlYXNvbnM6XG4gICAgLy8gMS4gVG8gZWxpbWluYXRlIGRvbSBjcmVhdGlvbiB0cmFzaGluZyBpZiB1c2VyIGNvZGUgdGhyYXNoZXMgYGlmYCBpbiB0aGVcbiAgICAvLyAgICBzYW1lIHR1cm4uIFRoaXMgd2FzIG1vcmUgY29tbW9uIGluIDEueCB3aGVyZSBhIGNvbXBvdW5kIGNvbXB1dGVkXG4gICAgLy8gICAgcHJvcGVydHkgY291bGQgcmVzdWx0IGluIHRoZSByZXN1bHQgY2hhbmdpbmcgbXVsdGlwbGUgdGltZXMsIGJ1dCBpc1xuICAgIC8vICAgIG1pdGlnYXRlZCB0byBhIGxhcmdlIGV4dGVudCBieSBiYXRjaGVkIHByb3BlcnR5IHByb2Nlc3NpbmcgaW4gMi54LlxuICAgIC8vIDIuIFRvIGF2b2lkIGRvdWJsZSBvYmplY3QgcHJvcGFnYXRpb24gd2hlbiBhIGJhZyBpbmNsdWRpbmcgdmFsdWVzIGJvdW5kXG4gICAgLy8gICAgdG8gdGhlIGBpZmAgcHJvcGVydHkgYXMgd2VsbCBhcyBvbmUgb3IgbW9yZSBob3N0UHJvcHMgY291bGQgZW5xdWV1ZVxuICAgIC8vICAgIHRoZSA8ZG9tLWlmPiB0byBmbHVzaCBiZWZvcmUgdGhlIDx0ZW1wbGF0ZT4ncyBob3N0IHByb3BlcnR5XG4gICAgLy8gICAgZm9yd2FyZGluZy4gSW4gdGhhdCBzY2VuYXJpbyBjcmVhdGluZyBhbiBpbnN0YW5jZSB3b3VsZCByZXN1bHQgaW5cbiAgICAvLyAgICB0aGUgaG9zdCBwcm9wcyBiZWluZyBzZXQgb25jZSwgYW5kIHRoZW4gdGhlIGVucXVldWVkIGNoYW5nZXMgb24gdGhlXG4gICAgLy8gICAgdGVtcGxhdGUgd291bGQgc2V0IHByb3BlcnRpZXMgYSBzZWNvbmQgdGltZSwgcG90ZW50aWFsbHkgY2F1c2luZyBhblxuICAgIC8vICAgIG9iamVjdCB0byBiZSBzZXQgdG8gYW4gaW5zdGFuY2UgbW9yZSB0aGFuIG9uY2UuICBDcmVhdGluZyB0aGVcbiAgICAvLyAgICBpbnN0YW5jZSBhc3luYyBmcm9tIGZsdXNoaW5nIGRhdGEgZW5zdXJlcyB0aGlzIGRvZXNuJ3QgaGFwcGVuLiBJZlxuICAgIC8vICAgIHdlIHdhbnRlZCBhIHN5bmMgb3B0aW9uIGluIHRoZSBmdXR1cmUsIHNpbXBseSBoYXZpbmcgPGRvbS1pZj4gZmx1c2hcbiAgICAvLyAgICAob3IgY2xlYXIpIGl0cyB0ZW1wbGF0ZSdzIHBlbmRpbmcgaG9zdCBwcm9wZXJ0aWVzIGJlZm9yZSBjcmVhdGluZ1xuICAgIC8vICAgIHRoZSBpbnN0YW5jZSB3b3VsZCBhbHNvIGF2b2lkIHRoZSBwcm9ibGVtLlxuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgICAgdGhpcy5fX3JlbmRlckRlYm91bmNlclxuICAgICAgICAsIG1pY3JvVGFza1xuICAgICAgICAsICgpID0+IHRoaXMuX19yZW5kZXIoKSk7XG4gICAgZW5xdWV1ZURlYm91bmNlcih0aGlzLl9fcmVuZGVyRGVib3VuY2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgY29uc3QgcGFyZW50ID0gd3JhcCh0aGlzKS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50IHx8IChwYXJlbnQubm9kZVR5cGUgPT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICYmXG4gICAgICAgICF3cmFwKHBhcmVudCkuaG9zdCkpIHtcbiAgICAgIHRoaXMuX190ZWFyZG93bkluc3RhbmNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBpZiAoIWhpZGVFbGVtZW50c0dsb2JhbGx5KCkpIHtcbiAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgaWYgKHRoaXMuaWYpIHtcbiAgICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGVsZW1lbnQgdG8gcmVuZGVyIGl0cyBjb250ZW50LiBOb3JtYWxseSByZW5kZXJpbmcgaXNcbiAgICogYXN5bmNocm9ub3VzIHRvIGEgcHJvdm9raW5nIGNoYW5nZS4gVGhpcyBpcyBkb25lIGZvciBlZmZpY2llbmN5IHNvXG4gICAqIHRoYXQgbXVsdGlwbGUgY2hhbmdlcyB0cmlnZ2VyIG9ubHkgYSBzaW5nbGUgcmVuZGVyLiBUaGUgcmVuZGVyIG1ldGhvZFxuICAgKiBzaG91bGQgYmUgY2FsbGVkIGlmLCBmb3IgZXhhbXBsZSwgdGVtcGxhdGUgcmVuZGVyaW5nIGlzIHJlcXVpcmVkIHRvXG4gICAqIHZhbGlkYXRlIGFwcGxpY2F0aW9uIHN0YXRlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGZsdXNoKCk7XG4gIH1cblxuICBfX3JlbmRlcigpIHtcbiAgICBpZiAodGhpcy5pZikge1xuICAgICAgaWYgKCF0aGlzLl9fZW5zdXJlSW5zdGFuY2UoKSkge1xuICAgICAgICAvLyBObyB0ZW1wbGF0ZSBmb3VuZCB5ZXRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2hvd0hpZGVDaGlsZHJlbigpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5yZXN0YW1wKSB7XG4gICAgICB0aGlzLl9fdGVhcmRvd25JbnN0YW5jZSgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucmVzdGFtcCAmJiB0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgIHRoaXMuX3Nob3dIaWRlQ2hpbGRyZW4oKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaWYgIT0gdGhpcy5fbGFzdElmKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZVxuICAgICAgfSkpO1xuICAgICAgdGhpcy5fbGFzdElmID0gdGhpcy5pZjtcbiAgICB9XG4gIH1cblxuICBfX2Vuc3VyZUluc3RhbmNlKCkge1xuICAgIGxldCBwYXJlbnROb2RlID0gd3JhcCh0aGlzKS5wYXJlbnROb2RlO1xuICAgIC8vIEd1YXJkIGFnYWluc3QgZWxlbWVudCBiZWluZyBkZXRhY2hlZCB3aGlsZSByZW5kZXIgd2FzIHF1ZXVlZFxuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIXRoaXMuX19jdG9yKSB7XG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8od3JhcCh0aGlzKS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAgIC8vIFdhaXQgdW50aWwgY2hpbGRMaXN0IGNoYW5nZXMgYW5kIHRlbXBsYXRlIHNob3VsZCBiZSB0aGVyZSBieSB0aGVuXG4gICAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHdyYXAodGhpcykucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSkge1xuICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgIHRoaXMuX19yZW5kZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZG9tLWlmIHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fY3RvciA9IHRlbXBsYXRpemUodGVtcGxhdGUsIHRoaXMsIHtcbiAgICAgICAgICAvLyBkb20taWYgdGVtcGxhdGl6ZXIgaW5zdGFuY2VzIHJlcXVpcmUgYG11dGFibGU6IHRydWVgLCBhc1xuICAgICAgICAgIC8vIGBfX3N5bmNIb3N0UHJvcGVydGllc2AgcmVsaWVzIG9uIHRoYXQgYmVoYXZpb3IgdG8gc3luYyBvYmplY3RzXG4gICAgICAgICAgbXV0YWJsZURhdGE6IHRydWUsXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gZm9yd2FyZFxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb2YgcHJvcGVydHlcbiAgICAgICAgICAgKiBAdGhpcyB7RG9tSWZ9XG4gICAgICAgICAgICovXG4gICAgICAgICAgZm9yd2FyZEhvc3RQcm9wOiBmdW5jdGlvbihwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5pZikge1xuICAgICAgICAgICAgICAgIHRoaXMuX19pbnN0YW5jZS5mb3J3YXJkSG9zdFByb3AocHJvcCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gaW5zdGFuY2UgYnV0IGFyZSBzcXVlbGNoaW5nIGhvc3QgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAvLyBmb3J3YXJkaW5nIGR1ZSB0byBpZiBiZWluZyBmYWxzZSwgbm90ZSB0aGUgaW52YWxpZGF0ZWRcbiAgICAgICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIHNvIGBfX3N5bmNIb3N0UHJvcGVydGllc2AgY2FuIHN5bmMgdGhlbSB0aGUgbmV4dFxuICAgICAgICAgICAgICAgIC8vIHRpbWUgYGlmYCBiZWNvbWVzIHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gdGhpcy5fX2ludmFsaWRQcm9wcyB8fCBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuX19pbnZhbGlkUHJvcHNbcm9vdChwcm9wKV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZSA9IG5ldyB0aGlzLl9fY3RvcigpO1xuICAgICAgICB3cmFwKHBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh0aGlzLl9faW5zdGFuY2Uucm9vdCwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fc3luY0hvc3RQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGxldCBjJCA9IHRoaXMuX19pbnN0YW5jZS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGMkICYmIGMkLmxlbmd0aCkge1xuICAgICAgICAgIC8vIERldGVjdCBjYXNlIHdoZXJlIGRvbS1pZiB3YXMgcmUtYXR0YWNoZWQgaW4gbmV3IHBvc2l0aW9uXG4gICAgICAgICAgbGV0IGxhc3RDaGlsZCA9IHdyYXAodGhpcykucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgIGlmIChsYXN0Q2hpbGQgIT09IGMkW2MkLmxlbmd0aC0xXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wLCBuOyAoaTxjJC5sZW5ndGgpICYmIChuPWMkW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICAgIHdyYXAocGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKG4sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIF9fc3luY0hvc3RQcm9wZXJ0aWVzKCkge1xuICAgIGxldCBwcm9wcyA9IHRoaXMuX19pbnZhbGlkUHJvcHM7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZS5fc2V0UGVuZGluZ1Byb3BlcnR5KHByb3AsIHRoaXMuX19kYXRhSG9zdFtwcm9wXSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gbnVsbDtcbiAgICAgIHRoaXMuX19pbnN0YW5jZS5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgfVxuICB9XG5cbiAgX190ZWFyZG93bkluc3RhbmNlKCkge1xuICAgIGlmICh0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgIGxldCBjJCA9IHRoaXMuX19pbnN0YW5jZS5jaGlsZHJlbjtcbiAgICAgIGlmIChjJCAmJiBjJC5sZW5ndGgpIHtcbiAgICAgICAgLy8gdXNlIGZpcnN0IGNoaWxkIHBhcmVudCwgZm9yIGNhc2Ugd2hlbiBkb20taWYgbWF5IGhhdmUgYmVlbiBkZXRhY2hlZFxuICAgICAgICBsZXQgcGFyZW50ID0gd3JhcChjJFswXSkucGFyZW50Tm9kZTtcbiAgICAgICAgLy8gSW5zdGFuY2UgY2hpbGRyZW4gbWF5IGJlIGRpc2Nvbm5lY3RlZCBmcm9tIHBhcmVudHMgd2hlbiBkb20taWZcbiAgICAgICAgLy8gZGV0YWNoZXMgaWYgYSB0cmVlIHdhcyBpbm5lckhUTUwnZWRcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIHBhcmVudCA9IHdyYXAocGFyZW50KTtcbiAgICAgICAgICBmb3IgKGxldCBpPTAsIG47IChpPGMkLmxlbmd0aCkgJiYgKG49YyRbaV0pOyBpKyspIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX19pbnN0YW5jZSA9IG51bGw7XG4gICAgICB0aGlzLl9faW52YWxpZFByb3BzID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRvcCBsZXZlbCBjaGlsZCBlbGVtZW50cy4gRm9yXG4gICAqIHRleHQgbm9kZXMsIGB0ZXh0Q29udGVudGAgaXMgcmVtb3ZlZCB3aGlsZSBcImhpZGRlblwiIGFuZCByZXBsYWNlZCB3aGVuXG4gICAqIFwic2hvd24uXCJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKiBAc3VwcHJlc3Mge3Zpc2liaWxpdHl9XG4gICAqL1xuICBfc2hvd0hpZGVDaGlsZHJlbigpIHtcbiAgICBsZXQgaGlkZGVuID0gdGhpcy5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18gfHwgIXRoaXMuaWY7XG4gICAgaWYgKHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgdGhpcy5fX2luc3RhbmNlLl9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbik7XG4gICAgfVxuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKERvbUlmLmlzLCBEb21JZik7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgUG9seW1lckVsZW1lbnQgfSBmcm9tICcuLi8uLi9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU3BsaWNlcyB9IGZyb20gJy4uL3V0aWxzL2FycmF5LXNwbGljZS5qcyc7XG5pbXBvcnQgeyBFbGVtZW50TWl4aW4gfSBmcm9tICcuLi9taXhpbnMvZWxlbWVudC1taXhpbi5qcyc7XG5cbi8qKlxuICogRWxlbWVudCBtaXhpbiBmb3IgcmVjb3JkaW5nIGR5bmFtaWMgYXNzb2NpYXRpb25zIGJldHdlZW4gaXRlbSBwYXRocyBpbiBhXG4gKiBtYXN0ZXIgYGl0ZW1zYCBhcnJheSBhbmQgYSBgc2VsZWN0ZWRgIGFycmF5IHN1Y2ggdGhhdCBwYXRoIGNoYW5nZXMgdG8gdGhlXG4gKiBtYXN0ZXIgYXJyYXkgKGF0IHRoZSBob3N0KSBlbGVtZW50IG9yIGVsc2V3aGVyZSB2aWEgZGF0YS1iaW5kaW5nKSBhcmVcbiAqIGNvcnJlY3RseSBwcm9wYWdhdGVkIHRvIGl0ZW1zIGluIHRoZSBzZWxlY3RlZCBhcnJheSBhbmQgdmljZS12ZXJzYS5cbiAqXG4gKiBUaGUgYGl0ZW1zYCBwcm9wZXJ0eSBhY2NlcHRzIGFuIGFycmF5IG9mIHVzZXIgZGF0YSwgYW5kIHZpYSB0aGVcbiAqIGBzZWxlY3QoaXRlbSlgIGFuZCBgZGVzZWxlY3QoaXRlbSlgIEFQSSwgdXBkYXRlcyB0aGUgYHNlbGVjdGVkYCBwcm9wZXJ0eVxuICogd2hpY2ggbWF5IGJlIGJvdW5kIHRvIG90aGVyIHBhcnRzIG9mIHRoZSBhcHBsaWNhdGlvbiwgYW5kIGFueSBjaGFuZ2VzIHRvXG4gKiBzdWItZmllbGRzIG9mIGBzZWxlY3RlZGAgaXRlbShzKSB3aWxsIGJlIGtlcHQgaW4gc3luYyB3aXRoIGl0ZW1zIGluIHRoZVxuICogYGl0ZW1zYCBhcnJheS4gIFdoZW4gYG11bHRpYCBpcyBmYWxzZSwgYHNlbGVjdGVkYCBpcyBhIHByb3BlcnR5XG4gKiByZXByZXNlbnRpbmcgdGhlIGxhc3Qgc2VsZWN0ZWQgaXRlbS4gIFdoZW4gYG11bHRpYCBpcyB0cnVlLCBgc2VsZWN0ZWRgXG4gKiBpcyBhbiBhcnJheSBvZiBtdWx0aXBseSBzZWxlY3RlZCBpdGVtcy5cbiAqXG4gKiBAcG9seW1lclxuICogQG1peGluRnVuY3Rpb25cbiAqIEBhcHBsaWVzTWl4aW4gRWxlbWVudE1peGluXG4gKiBAc3VtbWFyeSBFbGVtZW50IG1peGluIGZvciByZWNvcmRpbmcgZHluYW1pYyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBpdGVtIHBhdGhzIGluIGFcbiAqIG1hc3RlciBgaXRlbXNgIGFycmF5IGFuZCBhIGBzZWxlY3RlZGAgYXJyYXlcbiAqL1xubGV0IEFycmF5U2VsZWN0b3JNaXhpbiA9IGRlZHVwaW5nTWl4aW4oc3VwZXJDbGFzcyA9PiB7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9FbGVtZW50TWl4aW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsZXQgZWxlbWVudEJhc2UgPSBFbGVtZW50TWl4aW4oc3VwZXJDbGFzcyk7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0FycmF5U2VsZWN0b3JNaXhpbn1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgQXJyYXlTZWxlY3Rvck1peGluIGV4dGVuZHMgZWxlbWVudEJhc2Uge1xuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgcmV0dXJuIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyBpdGVtcyBmcm9tIHdoaWNoIHNlbGVjdGlvbiB3aWxsIGJlIG1hZGUuXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtczoge1xuICAgICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGB0cnVlYCwgbXVsdGlwbGUgaXRlbXMgbWF5IGJlIHNlbGVjdGVkIGF0IG9uY2UgKGluIHRoaXMgY2FzZSxcbiAgICAgICAgICogYHNlbGVjdGVkYCBpcyBhbiBhcnJheSBvZiBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbXMpLiAgV2hlbiBgZmFsc2VgLFxuICAgICAgICAgKiBvbmx5IG9uZSBpdGVtIG1heSBiZSBzZWxlY3RlZCBhdCBhIHRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICBtdWx0aToge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGBtdWx0aWAgaXMgdHJ1ZSwgdGhpcyBpcyBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGFueSBzZWxlY3RlZC5cbiAgICAgICAgICogV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCB0aGlzIGlzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaXRlbSwgb3IgYG51bGxgXG4gICAgICAgICAqIGlmIG5vIGl0ZW0gaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqIEB0eXBlIHs/T2JqZWN0fD9BcnJheTwhT2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGVkOiB7dHlwZTogT2JqZWN0LCBub3RpZnk6IHRydWV9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGBtdWx0aWAgaXMgZmFsc2UsIHRoaXMgaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtLCBvciBgbnVsbGBcbiAgICAgICAgICogaWYgbm8gaXRlbSBpcyBzZWxlY3RlZC5cbiAgICAgICAgICogQHR5cGUgez9PYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZEl0ZW06IHt0eXBlOiBPYmplY3QsIG5vdGlmeTogdHJ1ZX0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYHRydWVgLCBjYWxsaW5nIGBzZWxlY3RgIG9uIGFuIGl0ZW0gdGhhdCBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAqIHdpbGwgZGVzZWxlY3QgdGhlIGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGU6IHt0eXBlOiBCb29sZWFuLCB2YWx1ZTogZmFsc2V9XG5cbiAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgICByZXR1cm4gWydfX3VwZGF0ZVNlbGVjdGlvbihtdWx0aSwgaXRlbXMuKiknXTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl9fbGFzdEl0ZW1zID0gbnVsbDtcbiAgICAgIHRoaXMuX19sYXN0TXVsdGkgPSBudWxsO1xuICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwID0gbnVsbDtcbiAgICB9XG5cbiAgICBfX3VwZGF0ZVNlbGVjdGlvbihtdWx0aSwgaXRlbXNJbmZvKSB7XG4gICAgICBsZXQgcGF0aCA9IGl0ZW1zSW5mby5wYXRoO1xuICAgICAgaWYgKHBhdGggPT0gSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKSkge1xuICAgICAgICAvLyBDYXNlIDEgLSBpdGVtcyBhcnJheSBjaGFuZ2VkLCBzbyBkaWZmIGFnYWluc3QgcHJldmlvdXMgYXJyYXkgYW5kXG4gICAgICAgIC8vIGRlc2VsZWN0IGFueSByZW1vdmVkIGl0ZW1zIGFuZCBhZGp1c3Qgc2VsZWN0ZWQgaW5kaWNlc1xuICAgICAgICBsZXQgbmV3SXRlbXMgPSBpdGVtc0luZm8uYmFzZSB8fCBbXTtcbiAgICAgICAgbGV0IGxhc3RJdGVtcyA9IHRoaXMuX19sYXN0SXRlbXM7XG4gICAgICAgIGxldCBsYXN0TXVsdGkgPSB0aGlzLl9fbGFzdE11bHRpO1xuICAgICAgICBpZiAobXVsdGkgIT09IGxhc3RNdWx0aSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdEl0ZW1zKSB7XG4gICAgICAgICAgbGV0IHNwbGljZXMgPSBjYWxjdWxhdGVTcGxpY2VzKG5ld0l0ZW1zLCBsYXN0SXRlbXMpO1xuICAgICAgICAgIHRoaXMuX19hcHBseVNwbGljZXMoc3BsaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2xhc3RJdGVtcyA9IG5ld0l0ZW1zO1xuICAgICAgICB0aGlzLl9fbGFzdE11bHRpID0gbXVsdGk7XG4gICAgICB9IGVsc2UgaWYgKGl0ZW1zSW5mby5wYXRoID09IGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LnNwbGljZXNgKSB7XG4gICAgICAgIC8vIENhc2UgMiAtIGdvdCBzcGVjaWZpYyBzcGxpY2UgaW5mb3JtYXRpb24gZGVzY3JpYmluZyB0aGUgYXJyYXkgbXV0YXRpb246XG4gICAgICAgIC8vIGRlc2VsZWN0IGFueSByZW1vdmVkIGl0ZW1zIGFuZCBhZGp1c3Qgc2VsZWN0ZWQgaW5kaWNlc1xuICAgICAgICB0aGlzLl9fYXBwbHlTcGxpY2VzKGl0ZW1zSW5mby52YWx1ZS5pbmRleFNwbGljZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FzZSAzIC0gYW4gYXJyYXkgZWxlbWVudCB3YXMgY2hhbmdlZCwgc28gZGVzZWxlY3QgdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIGl0ZW0gZm9yIHRoYXQgaW5kZXggaWYgaXQgd2FzIHByZXZpb3VzbHkgc2VsZWN0ZWRcbiAgICAgICAgbGV0IHBhcnQgPSBwYXRoLnNsaWNlKGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LmAubGVuZ3RoKTtcbiAgICAgICAgbGV0IGlkeCA9IHBhcnNlSW50KHBhcnQsIDEwKTtcbiAgICAgICAgaWYgKChwYXJ0LmluZGV4T2YoJy4nKSA8IDApICYmIHBhcnQgPT0gaWR4KSB7XG4gICAgICAgICAgdGhpcy5fX2Rlc2VsZWN0Q2hhbmdlZElkeChpZHgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19hcHBseVNwbGljZXMoc3BsaWNlcykge1xuICAgICAgbGV0IHNlbGVjdGVkID0gdGhpcy5fX3NlbGVjdGVkTWFwO1xuICAgICAgLy8gQWRqdXN0IHNlbGVjdGVkIGluZGljZXMgYW5kIG1hcmsgcmVtb3ZhbHNcbiAgICAgIGZvciAobGV0IGk9MDsgaTxzcGxpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzID0gc3BsaWNlc1tpXTtcbiAgICAgICAgc2VsZWN0ZWQuZm9yRWFjaCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgaWYgKGlkeCA8IHMuaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZVxuICAgICAgICAgIH0gZWxzZSBpZiAoaWR4ID49IHMuaW5kZXggKyBzLnJlbW92ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBhZGp1c3QgaW5kZXhcbiAgICAgICAgICAgIHNlbGVjdGVkLnNldChpdGVtLCBpZHggKyBzLmFkZGVkQ291bnQgLSBzLnJlbW92ZWQubGVuZ3RoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGluZGV4XG4gICAgICAgICAgICBzZWxlY3RlZC5zZXQoaXRlbSwgLTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGo9MDsgajxzLmFkZGVkQ291bnQ7IGorKykge1xuICAgICAgICAgIGxldCBpZHggPSBzLmluZGV4ICsgajtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWQuaGFzKHRoaXMuaXRlbXNbaWR4XSkpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLnNldCh0aGlzLml0ZW1zW2lkeF0sIGlkeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBVcGRhdGUgbGlua2VkIHBhdGhzXG4gICAgICB0aGlzLl9fdXBkYXRlTGlua3MoKTtcbiAgICAgIC8vIFJlbW92ZSBzZWxlY3RlZCBpdGVtcyB0aGF0IHdlcmUgcmVtb3ZlZCBmcm9tIHRoZSBpdGVtcyBhcnJheVxuICAgICAgbGV0IHNpZHggPSAwO1xuICAgICAgc2VsZWN0ZWQuZm9yRWFjaCgoaWR4LCBpdGVtKSA9PiB7XG4gICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgICAgIHRoaXMuc3BsaWNlKEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksIHNpZHgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxlY3RlZC5kZWxldGUoaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2lkeCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBfX3VwZGF0ZUxpbmtzKCkge1xuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHt9O1xuICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgbGV0IHNpZHggPSAwO1xuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuZm9yRWFjaChpZHggPT4ge1xuICAgICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5rUGF0aHMoXG4gICAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCxcbiAgICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpfS4ke3NpZHgrK31gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmZvckVhY2goaWR4ID0+IHtcbiAgICAgICAgICB0aGlzLmxpbmtQYXRocyhcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSxcbiAgICAgICAgICAgICAgYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YCk7XG4gICAgICAgICAgdGhpcy5saW5rUGF0aHMoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkSXRlbScsIHRoaXMpLFxuICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBzZWxlY3Rpb24gc3RhdGUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICAgIC8vIFVuYmluZCBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHMgPSB7fTtcbiAgICAgIC8vIFRoZSBzZWxlY3RlZCBtYXAgc3RvcmVzIDMgcGllY2VzIG9mIGluZm9ybWF0aW9uOlxuICAgICAgLy8ga2V5OiBpdGVtcyBhcnJheSBvYmplY3RcbiAgICAgIC8vIHZhbHVlOiBpdGVtcyBhcnJheSBpbmRleFxuICAgICAgLy8gb3JkZXI6IHNlbGVjdGVkIGFycmF5IGluZGV4XG4gICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAvLyBJbml0aWFsaXplIHNlbGVjdGlvblxuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMubXVsdGkgPyBbXSA6IG51bGw7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpdGVtIGlzIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaXRlbSBpcyBzZWxlY3RlZFxuICAgICAqL1xuICAgIGlzU2VsZWN0ZWQoaXRlbSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZWxlY3RlZE1hcC5oYXMoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpdGVtIGlzIGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBpdGVtIGlzIHNlbGVjdGVkXG4gICAgICovXG4gICAgaXNJbmRleFNlbGVjdGVkKGlkeCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNTZWxlY3RlZCh0aGlzLml0ZW1zW2lkeF0pO1xuICAgIH1cblxuICAgIF9fZGVzZWxlY3RDaGFuZ2VkSWR4KGlkeCkge1xuICAgICAgbGV0IHNpZHggPSB0aGlzLl9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleChpZHgpO1xuICAgICAgaWYgKHNpZHggPj0gMCkge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5mb3JFYWNoKChpZHgsIGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoc2lkeCA9PSBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVzZWxlY3QoaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX3NlbGVjdGVkSW5kZXhGb3JJdGVtSW5kZXgoaWR4KSB7XG4gICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzW2Ake0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LiR7aWR4fWBdO1xuICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChzZWxlY3RlZC5zbGljZShgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpfS5gLmxlbmd0aCksIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNlbGVjdHMgdGhlIGdpdmVuIGl0ZW0gaWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byBkZXNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGVzZWxlY3QoaXRlbSkge1xuICAgICAgbGV0IGlkeCA9IHRoaXMuX19zZWxlY3RlZE1hcC5nZXQoaXRlbSk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmRlbGV0ZShpdGVtKTtcbiAgICAgICAgbGV0IHNpZHg7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgc2lkeCA9IHRoaXMuX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4KGlkeCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3VwZGF0ZUxpbmtzKCk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgdGhpcy5zcGxpY2UoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSwgc2lkeCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2VsZWN0cyB0aGUgZ2l2ZW4gaW5kZXggaWYgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIGRlc2VsZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkZXNlbGVjdEluZGV4KGlkeCkge1xuICAgICAgdGhpcy5kZXNlbGVjdCh0aGlzLml0ZW1zW2lkeF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGdpdmVuIGl0ZW0uICBXaGVuIGB0b2dnbGVgIGlzIHRydWUsIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogZGVzZWxlY3QgdGhlIGl0ZW0gaWYgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBJdGVtIGZyb20gYGl0ZW1zYCBhcnJheSB0byBzZWxlY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHNlbGVjdChpdGVtKSB7XG4gICAgICB0aGlzLnNlbGVjdEluZGV4KHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyB0aGUgZ2l2ZW4gaW5kZXguICBXaGVuIGB0b2dnbGVgIGlzIHRydWUsIHRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogZGVzZWxlY3QgdGhlIGl0ZW0gaWYgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggSW5kZXggZnJvbSBgaXRlbXNgIGFycmF5IHRvIHNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2VsZWN0SW5kZXgoaWR4KSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbaWR4XTtcbiAgICAgIGlmICghdGhpcy5pc1NlbGVjdGVkKGl0ZW0pKSB7XG4gICAgICAgIGlmICghdGhpcy5tdWx0aSkge1xuICAgICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5zZXQoaXRlbSwgaWR4KTtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZUxpbmtzKCk7XG4gICAgICAgIGlmICh0aGlzLm11bHRpKSB7XG4gICAgICAgICAgdGhpcy5wdXNoKEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyksIGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy50b2dnbGUpIHtcbiAgICAgICAgdGhpcy5kZXNlbGVjdEluZGV4KGlkeCk7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gQXJyYXlTZWxlY3Rvck1peGluO1xuXG59KTtcblxuLy8gZXhwb3J0IG1peGluXG5leHBvcnQgeyBBcnJheVNlbGVjdG9yTWl4aW4gfTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtQb2x5bWVyRWxlbWVudH1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0FycmF5U2VsZWN0b3JNaXhpbn1cbiAqIEBwcml2YXRlXG4gKi9cbmxldCBiYXNlQXJyYXlTZWxlY3RvciA9IEFycmF5U2VsZWN0b3JNaXhpbihQb2x5bWVyRWxlbWVudCk7XG5cbi8qKlxuICogRWxlbWVudCBpbXBsZW1lbnRpbmcgdGhlIGBBcnJheVNlbGVjdG9yYCBtaXhpbiwgd2hpY2ggcmVjb3Jkc1xuICogZHluYW1pYyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBpdGVtIHBhdGhzIGluIGEgbWFzdGVyIGBpdGVtc2AgYXJyYXkgYW5kIGFcbiAqIGBzZWxlY3RlZGAgYXJyYXkgc3VjaCB0aGF0IHBhdGggY2hhbmdlcyB0byB0aGUgbWFzdGVyIGFycmF5IChhdCB0aGUgaG9zdClcbiAqIGVsZW1lbnQgb3IgZWxzZXdoZXJlIHZpYSBkYXRhLWJpbmRpbmcpIGFyZSBjb3JyZWN0bHkgcHJvcGFnYXRlZCB0byBpdGVtc1xuICogaW4gdGhlIHNlbGVjdGVkIGFycmF5IGFuZCB2aWNlLXZlcnNhLlxuICpcbiAqIFRoZSBgaXRlbXNgIHByb3BlcnR5IGFjY2VwdHMgYW4gYXJyYXkgb2YgdXNlciBkYXRhLCBhbmQgdmlhIHRoZVxuICogYHNlbGVjdChpdGVtKWAgYW5kIGBkZXNlbGVjdChpdGVtKWAgQVBJLCB1cGRhdGVzIHRoZSBgc2VsZWN0ZWRgIHByb3BlcnR5XG4gKiB3aGljaCBtYXkgYmUgYm91bmQgdG8gb3RoZXIgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uLCBhbmQgYW55IGNoYW5nZXMgdG9cbiAqIHN1Yi1maWVsZHMgb2YgYHNlbGVjdGVkYCBpdGVtKHMpIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggaXRlbXMgaW4gdGhlXG4gKiBgaXRlbXNgIGFycmF5LiAgV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCBgc2VsZWN0ZWRgIGlzIGEgcHJvcGVydHlcbiAqIHJlcHJlc2VudGluZyB0aGUgbGFzdCBzZWxlY3RlZCBpdGVtLiAgV2hlbiBgbXVsdGlgIGlzIHRydWUsIGBzZWxlY3RlZGBcbiAqIGlzIGFuIGFycmF5IG9mIG11bHRpcGx5IHNlbGVjdGVkIGl0ZW1zLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGltcG9ydCB7UG9seW1lckVsZW1lbnR9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXInO1xuICogaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9hcnJheS1zZWxlY3Rvci5qcyc7XG4gKlxuICogY2xhc3MgRW1wbG95ZWVMaXN0IGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuICogICBzdGF0aWMgZ2V0IF90ZW1wbGF0ZSgpIHtcbiAqICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgPGRpdj4gRW1wbG95ZWUgbGlzdDogPC9kaXY+XG4gKiAgICAgICAgIDxkb20tcmVwZWF0IGlkPVwiZW1wbG95ZWVMaXN0XCIgaXRlbXM9XCJ7e2VtcGxveWVlc319XCI+XG4gKiAgICAgICAgICAgPHRlbXBsYXRlPlxuICogICAgICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICAgICAgPGRpdj5MYXN0IG5hbWU6IDxzcGFuPnt7aXRlbS5sYXN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgICAgIDxidXR0b24gb24tY2xpY2s9XCJ0b2dnbGVTZWxlY3Rpb25cIj5TZWxlY3Q8L2J1dHRvbj5cbiAqICAgICAgICAgICA8L3RlbXBsYXRlPlxuICogICAgICAgICA8L2RvbS1yZXBlYXQ+XG4gKlxuICogICAgICAgICA8YXJyYXktc2VsZWN0b3IgaWQ9XCJzZWxlY3RvclwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9XCJ7e3NlbGVjdGVkfX1cIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGkgdG9nZ2xlPjwvYXJyYXktc2VsZWN0b3I+XG4gKlxuICogICAgICAgICA8ZGl2PiBTZWxlY3RlZCBlbXBsb3llZXM6IDwvZGl2PlxuICogICAgICAgICA8ZG9tLXJlcGVhdCBpdGVtcz1cInt7c2VsZWN0ZWR9fVwiPlxuICogICAgICAgICAgIDx0ZW1wbGF0ZT5cbiAqICAgICAgICAgICAgIDxkaXY+Rmlyc3QgbmFtZTogPHNwYW4+e3tpdGVtLmZpcnN0fX08L3NwYW4+PC9kaXY+XG4gKiAgICAgICAgICAgICA8ZGl2Pkxhc3QgbmFtZTogPHNwYW4+e3tpdGVtLmxhc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICA8L3RlbXBsYXRlPlxuICogICAgICAgICA8L2RvbS1yZXBlYXQ+YDtcbiAqICAgfVxuICogICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2VtcGxveWVlLWxpc3QnOyB9XG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgZW1wbG95ZWVzOiB7XG4gKiAgICAgICAgIHZhbHVlKCkge1xuICogICAgICAgICAgIHJldHVybiBbXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdCb2InLCBsYXN0OiAnU21pdGgnfSxcbiAqICAgICAgICAgICAgIHtmaXJzdDogJ1NhbGx5JywgbGFzdDogJ0pvaG5zb24nfSxcbiAqICAgICAgICAgICAgIC4uLlxuICogICAgICAgICAgIF07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9O1xuICogICB9XG4gKiAgIHRvZ2dsZVNlbGVjdGlvbihlKSB7XG4gKiAgICAgY29uc3QgaXRlbSA9IHRoaXMuJC5lbXBsb3llZUxpc3QuaXRlbUZvckVsZW1lbnQoZS50YXJnZXQpO1xuICogICAgIHRoaXMuJC5zZWxlY3Rvci5zZWxlY3QoaXRlbSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwb2x5bWVyXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGV4dGVuZHMge2Jhc2VBcnJheVNlbGVjdG9yfVxuICogQGFwcGxpZXNNaXhpbiBBcnJheVNlbGVjdG9yTWl4aW5cbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRoYXQgbGlua3MgcGF0aHMgYmV0d2VlbiBhbiBpbnB1dCBgaXRlbXNgIGFycmF5IGFuZFxuICogICBhbiBvdXRwdXQgYHNlbGVjdGVkYCBpdGVtIG9yIGFycmF5IGJhc2VkIG9uIGNhbGxzIHRvIGl0cyBzZWxlY3Rpb24gQVBJLlxuICovXG5jbGFzcyBBcnJheVNlbGVjdG9yIGV4dGVuZHMgYmFzZUFycmF5U2VsZWN0b3Ige1xuICAvLyBOb3QgbmVlZGVkIHRvIGZpbmQgdGVtcGxhdGU7IGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGFuYWx5emVyXG4gIC8vIGNhbiBmaW5kIHRoZSB0YWcgbmFtZSBmcm9tIGN1c3RvbUVsZW1lbnRzLmRlZmluZSBjYWxsXG4gIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAnYXJyYXktc2VsZWN0b3InOyB9XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7IHJldHVybiBudWxsOyB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoQXJyYXlTZWxlY3Rvci5pcywgQXJyYXlTZWxlY3Rvcik7XG5leHBvcnQgeyBBcnJheVNlbGVjdG9yIH07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0IHsgTXV0YWJsZURhdGEgfSBmcm9tICcuLi9taXhpbnMvbXV0YWJsZS1kYXRhLmpzJztcblxubGV0IG11dGFibGVQcm9wZXJ0eUNoYW5nZTtcbi8qKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSAqL1xuKCgpID0+IHtcbiAgbXV0YWJsZVByb3BlcnR5Q2hhbmdlID0gTXV0YWJsZURhdGEuX211dGFibGVQcm9wZXJ0eUNoYW5nZTtcbn0pKCk7XG5cbi8qKlxuICogTGVnYWN5IGVsZW1lbnQgYmVoYXZpb3IgdG8gc2tpcCBzdHJpY3QgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kIGFycmF5cyxcbiAqIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpIGZvciB1c2Ugb24gbGVnYWN5IEFQSSBQb2x5bWVyIGVsZW1lbnRzLlxuICpcbiAqIEJ5IGRlZmF1bHQsIGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgcGVyZm9ybXMgc3RyaWN0IGRpcnR5IGNoZWNraW5nIG9uXG4gKiBvYmplY3RzLCB3aGljaCBtZWFucyB0aGF0IGFueSBkZWVwIG1vZGlmaWNhdGlvbnMgdG8gYW4gb2JqZWN0IG9yIGFycmF5IHdpbGxcbiAqIG5vdCBiZSBwcm9wYWdhdGVkIHVubGVzcyBcImltbXV0YWJsZVwiIGRhdGEgcGF0dGVybnMgYXJlIHVzZWQgKGkuZS4gYWxsIG9iamVjdFxuICogcmVmZXJlbmNlcyBmcm9tIHRoZSByb290IHRvIHRoZSBtdXRhdGlvbiB3ZXJlIGNoYW5nZWQpLlxuICpcbiAqIFBvbHltZXIgYWxzbyBwcm92aWRlcyBhIHByb3ByaWV0YXJ5IGRhdGEgbXV0YXRpb24gYW5kIHBhdGggbm90aWZpY2F0aW9uIEFQSVxuICogKGUuZy4gYG5vdGlmeVBhdGhgLCBgc2V0YCwgYW5kIGFycmF5IG11dGF0aW9uIEFQSSdzKSB0aGF0IGFsbG93IGVmZmljaWVudFxuICogbXV0YXRpb24gYW5kIG5vdGlmaWNhdGlvbiBvZiBkZWVwIGNoYW5nZXMgaW4gYW4gb2JqZWN0IGdyYXBoIHRvIGFsbCBlbGVtZW50c1xuICogYm91bmQgdG8gdGhlIHNhbWUgb2JqZWN0IGdyYXBoLlxuICpcbiAqIEluIGNhc2VzIHdoZXJlIG5laXRoZXIgaW1tdXRhYmxlIHBhdHRlcm5zIG5vciB0aGUgZGF0YSBtdXRhdGlvbiBBUEkgY2FuIGJlXG4gKiB1c2VkLCBhcHBseWluZyB0aGlzIG1peGluIHdpbGwgY2F1c2UgUG9seW1lciB0byBza2lwIGRpcnR5IGNoZWNraW5nIGZvclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLiAgVGhpcyBhbGxvd3MgYVxuICogdXNlciB0byBtYWtlIGEgZGVlcCBtb2RpZmljYXRpb24gdG8gYSBib3VuZCBvYmplY3QgZ3JhcGgsIGFuZCB0aGVuIGVpdGhlclxuICogc2ltcGx5IHJlLXNldCB0aGUgb2JqZWN0IChlLmcuIGB0aGlzLml0ZW1zID0gdGhpcy5pdGVtc2ApIG9yIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAoZS5nLiBgdGhpcy5ub3RpZnlQYXRoKCdpdGVtcycpYCkgdG8gdXBkYXRlIHRoZSB0cmVlLiAgTm90ZSB0aGF0IGFsbFxuICogZWxlbWVudHMgdGhhdCB3aXNoIHRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gZGVlcCBtdXRhdGlvbnMgbXVzdCBhcHBseSB0aGlzXG4gKiBtaXhpbiBvciBvdGhlcndpc2Ugc2tpcCBzdHJpY3QgZGlydHkgY2hlY2tpbmcgZm9yIG9iamVjdHMvYXJyYXlzLlxuICogU3BlY2lmaWNhbGx5LCBhbnkgZWxlbWVudHMgaW4gdGhlIGJpbmRpbmcgdHJlZSBiZXR3ZWVuIHRoZSBzb3VyY2Ugb2YgYVxuICogbXV0YXRpb24gYW5kIHRoZSBjb25zdW1wdGlvbiBvZiBpdCBtdXN0IGFwcGx5IHRoaXMgYmVoYXZpb3Igb3IgZW5hYmxlIHRoZVxuICogYFBvbHltZXIuT3B0aW9uYWxNdXRhYmxlRGF0YUJlaGF2aW9yYC5cbiAqXG4gKiBJbiBvcmRlciB0byBtYWtlIHRoZSBkaXJ0eSBjaGVjayBzdHJhdGVneSBjb25maWd1cmFibGUsIHNlZVxuICogYFBvbHltZXIuT3B0aW9uYWxNdXRhYmxlRGF0YUJlaGF2aW9yYC5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYXMgb3Bwb3NlZCB0byB1c2luZyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgd2l0aCBpbW11dGFibGVcbiAqIHBhdHRlcm5zIG9yIFBvbHltZXIncyBwYXRoIG5vdGlmaWNhdGlvbiBBUEkuXG4gKlxuICogQHBvbHltZXJCZWhhdmlvclxuICogQHN1bW1hcnkgQmVoYXZpb3IgdG8gc2tpcCBzdHJpY3QgZGlydHktY2hlY2tpbmcgZm9yIG9iamVjdHMgYW5kXG4gKiAgIGFycmF5c1xuICovXG5leHBvcnQgY29uc3QgTXV0YWJsZURhdGFCZWhhdmlvciA9IHtcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgdG8gcHJvdmlkZSBvcHRpb24gZm9yIHNraXBwaW5nXG4gICAqIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyBmb3IgT2JqZWN0cyBhbmQgQXJyYXlzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBwdWxscyB0aGUgdmFsdWUgdG8gZGlydHkgY2hlY2sgYWdhaW5zdCBmcm9tIHRoZSBgX19kYXRhVGVtcGBcbiAgICogY2FjaGUgKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICogY2FjaGUgaXMgY2xlYXJlZCBhdCB0aGUgZW5kIG9mIGEgdHVybiwgdGhpcyBpbXBsZW1lbnRhdGlvbiBhbGxvd3NcbiAgICogc2lkZS1lZmZlY3RzIG9mIGRlZXAgb2JqZWN0IGNoYW5nZXMgdG8gYmUgcHJvY2Vzc2VkIGJ5IHJlLXNldHRpbmcgdGhlXG4gICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICogY3ljbGVzIGR1ZSB0byAyLXdheSBub3RpZmljYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIE5ldyBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IG9sZCBQcmV2aW91cyBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKSB7XG4gICAgcmV0dXJuIG11dGFibGVQcm9wZXJ0eUNoYW5nZSh0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIG9sZCwgdHJ1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogTGVnYWN5IGVsZW1lbnQgYmVoYXZpb3IgdG8gYWRkIHRoZSBvcHRpb25hbCBhYmlsaXR5IHRvIHNraXAgc3RyaWN0XG4gKiBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZVxuICogXCJkaXJ0eVwiKSBieSBzZXR0aW5nIGEgYG11dGFibGUtZGF0YWAgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgaW5zdGFuY2UuXG4gKlxuICogQnkgZGVmYXVsdCwgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCBwZXJmb3JtcyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgb25cbiAqIG9iamVjdHMsIHdoaWNoIG1lYW5zIHRoYXQgYW55IGRlZXAgbW9kaWZpY2F0aW9ucyB0byBhbiBvYmplY3Qgb3IgYXJyYXkgd2lsbFxuICogbm90IGJlIHByb3BhZ2F0ZWQgdW5sZXNzIFwiaW1tdXRhYmxlXCIgZGF0YSBwYXR0ZXJucyBhcmUgdXNlZCAoaS5lLiBhbGwgb2JqZWN0XG4gKiByZWZlcmVuY2VzIGZyb20gdGhlIHJvb3QgdG8gdGhlIG11dGF0aW9uIHdlcmUgY2hhbmdlZCkuXG4gKlxuICogUG9seW1lciBhbHNvIHByb3ZpZGVzIGEgcHJvcHJpZXRhcnkgZGF0YSBtdXRhdGlvbiBhbmQgcGF0aCBub3RpZmljYXRpb24gQVBJXG4gKiAoZS5nLiBgbm90aWZ5UGF0aGAsIGBzZXRgLCBhbmQgYXJyYXkgbXV0YXRpb24gQVBJJ3MpIHRoYXQgYWxsb3cgZWZmaWNpZW50XG4gKiBtdXRhdGlvbiBhbmQgbm90aWZpY2F0aW9uIG9mIGRlZXAgY2hhbmdlcyBpbiBhbiBvYmplY3QgZ3JhcGggdG8gYWxsIGVsZW1lbnRzXG4gKiBib3VuZCB0byB0aGUgc2FtZSBvYmplY3QgZ3JhcGguXG4gKlxuICogSW4gY2FzZXMgd2hlcmUgbmVpdGhlciBpbW11dGFibGUgcGF0dGVybnMgbm9yIHRoZSBkYXRhIG11dGF0aW9uIEFQSSBjYW4gYmVcbiAqIHVzZWQsIGFwcGx5aW5nIHRoaXMgbWl4aW4gd2lsbCBhbGxvdyBQb2x5bWVyIHRvIHNraXAgZGlydHkgY2hlY2tpbmcgZm9yXG4gKiBvYmplY3RzIGFuZCBhcnJheXMgKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikuICBUaGlzIGFsbG93cyBhXG4gKiB1c2VyIHRvIG1ha2UgYSBkZWVwIG1vZGlmaWNhdGlvbiB0byBhIGJvdW5kIG9iamVjdCBncmFwaCwgYW5kIHRoZW4gZWl0aGVyXG4gKiBzaW1wbHkgcmUtc2V0IHRoZSBvYmplY3QgKGUuZy4gYHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zYCkgb3IgY2FsbCBgbm90aWZ5UGF0aGBcbiAqIChlLmcuIGB0aGlzLm5vdGlmeVBhdGgoJ2l0ZW1zJylgKSB0byB1cGRhdGUgdGhlIHRyZWUuICBOb3RlIHRoYXQgYWxsXG4gKiBlbGVtZW50cyB0aGF0IHdpc2ggdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBkZWVwIG11dGF0aW9ucyBtdXN0IGFwcGx5IHRoaXNcbiAqIG1peGluIG9yIG90aGVyd2lzZSBza2lwIHN0cmljdCBkaXJ0eSBjaGVja2luZyBmb3Igb2JqZWN0cy9hcnJheXMuXG4gKiBTcGVjaWZpY2FsbHksIGFueSBlbGVtZW50cyBpbiB0aGUgYmluZGluZyB0cmVlIGJldHdlZW4gdGhlIHNvdXJjZSBvZiBhXG4gKiBtdXRhdGlvbiBhbmQgdGhlIGNvbnN1bXB0aW9uIG9mIGl0IG11c3QgZW5hYmxlIHRoaXMgYmVoYXZpb3Igb3IgYXBwbHkgdGhlXG4gKiBgUG9seW1lci5PcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3JgLlxuICpcbiAqIFdoaWxlIHRoaXMgYmVoYXZpb3IgYWRkcyB0aGUgYWJpbGl0eSB0byBmb3JnbyBPYmplY3QvQXJyYXkgZGlydHkgY2hlY2tpbmcsXG4gKiB0aGUgYG11dGFibGVEYXRhYCBmbGFnIGRlZmF1bHRzIHRvIGZhbHNlIGFuZCBtdXN0IGJlIHNldCBvbiB0aGUgaW5zdGFuY2UuXG4gKlxuICogTm90ZSwgdGhlIHBlcmZvcm1hbmNlIGNoYXJhY3RlcmlzdGljcyBvZiBwcm9wYWdhdGluZyBsYXJnZSBvYmplY3QgZ3JhcGhzXG4gKiB3aWxsIGJlIHdvcnNlIGJ5IHJlbHlpbmcgb24gYG11dGFibGVEYXRhOiB0cnVlYCBhcyBvcHBvc2VkIHRvIHVzaW5nXG4gKiBzdHJpY3QgZGlydHkgY2hlY2tpbmcgd2l0aCBpbW11dGFibGUgcGF0dGVybnMgb3IgUG9seW1lcidzIHBhdGggbm90aWZpY2F0aW9uXG4gKiBBUEkuXG4gKlxuICogQHBvbHltZXJCZWhhdmlvclxuICogQHN1bW1hcnkgQmVoYXZpb3IgdG8gb3B0aW9uYWxseSBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmRcbiAqICAgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBPcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3IgPSB7XG5cbiAgcHJvcGVydGllczoge1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlLWxldmVsIGZsYWcgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkaXJ0eS1jaGVja2luZyBzdHJhdGVneVxuICAgICAqIGZvciB0aGlzIGVsZW1lbnQuICBXaGVuIHRydWUsIE9iamVjdHMgYW5kIEFycmF5cyB3aWxsIHNraXAgZGlydHlcbiAgICAgKiBjaGVja2luZywgb3RoZXJ3aXNlIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZyB3aWxsIGJlIHVzZWQuXG4gICAgICovXG4gICAgbXV0YWJsZURhdGE6IEJvb2xlYW5cbiAgfSxcblxuICAvKipcbiAgICogT3ZlcnJpZGVzIGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgdG8gc2tpcCBzdHJpY3QgZXF1YWxpdHkgY2hlY2tpbmdcbiAgICogZm9yIE9iamVjdHMgYW5kIEFycmF5cy5cbiAgICpcbiAgICogUHVsbHMgdGhlIHZhbHVlIHRvIGRpcnR5IGNoZWNrIGFnYWluc3QgZnJvbSB0aGUgYF9fZGF0YVRlbXBgIGNhY2hlXG4gICAqIChyYXRoZXIgdGhhbiB0aGUgbm9ybWFsIGBfX2RhdGFgIGNhY2hlKSBmb3IgT2JqZWN0cy4gIFNpbmNlIHRoZSB0ZW1wXG4gICAqIGNhY2hlIGlzIGNsZWFyZWQgYXQgdGhlIGVuZCBvZiBhIHR1cm4sIHRoaXMgaW1wbGVtZW50YXRpb24gYWxsb3dzXG4gICAqIHNpZGUtZWZmZWN0cyBvZiBkZWVwIG9iamVjdCBjaGFuZ2VzIHRvIGJlIHByb2Nlc3NlZCBieSByZS1zZXR0aW5nIHRoZVxuICAgKiBzYW1lIG9iamVjdCAodXNpbmcgdGhlIHRlbXAgY2FjaGUgYXMgYW4gaW4tdHVybiBiYWNrc3RvcCB0byBwcmV2ZW50XG4gICAqIGN5Y2xlcyBkdWUgdG8gMi13YXkgbm90aWZpY2F0aW9uKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBOZXcgcHJvcGVydHkgdmFsdWVcbiAgICogQHBhcmFtIHsqfSBvbGQgUHJldmlvdXMgcHJvcGVydHkgdmFsdWVcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcHJvcGVydHkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBjaGFuZ2VcbiAgICogQHByb3RlY3RlZFxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgIHJldHVybiBtdXRhYmxlUHJvcGVydHlDaGFuZ2UodGhpcywgcHJvcGVydHksIHZhbHVlLCBvbGQsIHRoaXMubXV0YWJsZURhdGEpO1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuaW1wb3J0IHsgTGVnYWN5RWxlbWVudE1peGluIH0gZnJvbSAnLi9saWIvbGVnYWN5L2xlZ2FjeS1lbGVtZW50LW1peGluLmpzJztcbmV4cG9ydCB7IFBvbHltZXIgfSBmcm9tICAnLi9saWIvbGVnYWN5L3BvbHltZXItZm4uanMnO1xuLyogdGVtcGxhdGUgZWxlbWVudHMgKi9cbmltcG9ydCAnLi9saWIvbGVnYWN5L3RlbXBsYXRpemVyLWJlaGF2aW9yLmpzJztcbmltcG9ydCAnLi9saWIvZWxlbWVudHMvZG9tLWJpbmQuanMnO1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9kb20tcmVwZWF0LmpzJztcbmltcG9ydCAnLi9saWIvZWxlbWVudHMvZG9tLWlmLmpzJztcbmltcG9ydCAnLi9saWIvZWxlbWVudHMvYXJyYXktc2VsZWN0b3IuanMnO1xuLyogY3VzdG9tLXN0eWxlICovXG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5qcyc7XG4vKiBiYyBiZWhhdmlvcnMgKi9cbmltcG9ydCAnLi9saWIvbGVnYWN5L211dGFibGUtZGF0YS1iZWhhdmlvci5qcyc7XG4vKiBpbXBvcnQgaHRtbC10YWcgdG8gZXhwb3J0IGh0bWwgKi9cbmV4cG9ydCB7IGh0bWwgfSBmcm9tICcuL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbi8vIGJjXG5leHBvcnQgY29uc3QgQmFzZSA9IExlZ2FjeUVsZW1lbnRNaXhpbihIVE1MRWxlbWVudCkucHJvdG90eXBlO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge2RvbX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7dXNlU2hhZG93fSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbi8vIENvbnRhaW5zIGFsbCBjb25uZWN0ZWQgcmVzaXphYmxlcyB0aGF0IGRvIG5vdCBoYXZlIGEgcGFyZW50LlxudmFyIE9SUEhBTlMgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogYElyb25SZXNpemFibGVCZWhhdmlvcmAgaXMgYSBiZWhhdmlvciB0aGF0IGNhbiBiZSB1c2VkIGluIFBvbHltZXIgZWxlbWVudHMgdG9cbiAqIGNvb3JkaW5hdGUgdGhlIGZsb3cgb2YgcmVzaXplIGV2ZW50cyBiZXR3ZWVuIFwicmVzaXplcnNcIiAoZWxlbWVudHMgdGhhdFxuICpjb250cm9sIHRoZSBzaXplIG9yIGhpZGRlbiBzdGF0ZSBvZiB0aGVpciBjaGlsZHJlbikgYW5kIFwicmVzaXphYmxlc1wiIChlbGVtZW50c1xuICp0aGF0IG5lZWQgdG8gYmUgbm90aWZpZWQgd2hlbiB0aGV5IGFyZSByZXNpemVkIG9yIHVuLWhpZGRlbiBieSB0aGVpciBwYXJlbnRzXG4gKmluIG9yZGVyIHRvIHRha2UgYWN0aW9uIG9uIHRoZWlyIG5ldyBtZWFzdXJlbWVudHMpLlxuICpcbiAqIEVsZW1lbnRzIHRoYXQgcGVyZm9ybSBtZWFzdXJlbWVudCBzaG91bGQgYWRkIHRoZSBgSXJvblJlc2l6YWJsZUJlaGF2aW9yYFxuICpiZWhhdmlvciB0byB0aGVpciBlbGVtZW50IGRlZmluaXRpb24gYW5kIGxpc3RlbiBmb3IgdGhlIGBpcm9uLXJlc2l6ZWAgZXZlbnQgb25cbiAqdGhlbXNlbHZlcy4gVGhpcyBldmVudCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhleSBiZWNvbWUgc2hvd2luZyBhZnRlciBoYXZpbmdcbiAqYmVlbiBoaWRkZW4sIHdoZW4gdGhleSBhcmUgcmVzaXplZCBleHBsaWNpdGx5IGJ5IGFub3RoZXIgcmVzaXphYmxlLCBvciB3aGVuXG4gKnRoZSB3aW5kb3cgaGFzIGJlZW4gcmVzaXplZC5cbiAqXG4gKiBOb3RlLCB0aGUgYGlyb24tcmVzaXplYCBldmVudCBpcyBub24tYnViYmxpbmcuXG4gKlxuICogQHBvbHltZXJCZWhhdmlvclxuICogQGRlbW8gZGVtby9pbmRleC5odG1sXG4gKiovXG5leHBvcnQgY29uc3QgSXJvblJlc2l6YWJsZUJlaGF2aW9yID0ge1xuICBwcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogVGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCB0aGF0IGltcGxlbWVudHMgYElyb25SZXNpemFibGVCZWhhdmlvcmAuXG4gICAgICovXG4gICAgX3BhcmVudFJlc2l6YWJsZToge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgb2JzZXJ2ZXI6ICdfcGFyZW50UmVzaXphYmxlQ2hhbmdlZCcsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhpcyBlbGVtZW50IGlzIGN1cnJlbnRseSBub3RpZnlpbmcgaXRzIGRlc2NlbmRhbnQgZWxlbWVudHMgb2ZcbiAgICAgKiByZXNpemUuXG4gICAgICovXG4gICAgX25vdGlmeWluZ0Rlc2NlbmRhbnQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICB2YWx1ZTogZmFsc2UsXG4gICAgfVxuICB9LFxuXG4gIGxpc3RlbmVyczoge1xuICAgICdpcm9uLXJlcXVlc3QtcmVzaXplLW5vdGlmaWNhdGlvbnMnOiAnX29uSXJvblJlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zJ1xuICB9LFxuXG4gIGNyZWF0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgIC8vIFdlIGRvbid0IHJlYWxseSBuZWVkIHByb3BlcnR5IGVmZmVjdHMgb24gdGhlc2UsIGFuZCBhbHNvIHdlIHdhbnQgdGhlbVxuICAgIC8vIHRvIGJlIGNyZWF0ZWQgYmVmb3JlIHRoZSBgX3BhcmVudFJlc2l6YWJsZWAgb2JzZXJ2ZXIgZmlyZXM6XG4gICAgdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMgPSBbXTtcbiAgICB0aGlzLl9ib3VuZE5vdGlmeVJlc2l6ZSA9IHRoaXMubm90aWZ5UmVzaXplLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRPbkRlc2NlbmRhbnRJcm9uUmVzaXplID0gdGhpcy5fb25EZXNjZW5kYW50SXJvblJlc2l6ZS5iaW5kKHRoaXMpO1xuICB9LFxuXG4gIGF0dGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucygpO1xuICB9LFxuXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUuc3RvcFJlc2l6ZU5vdGlmaWNhdGlvbnNGb3IodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9SUEhBTlMuZGVsZXRlKHRoaXMpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2JvdW5kTm90aWZ5UmVzaXplKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYW4gYmUgY2FsbGVkIHRvIG1hbnVhbGx5IG5vdGlmeSBhIHJlc2l6YWJsZSBhbmQgaXRzIGRlc2NlbmRhbnRcbiAgICogcmVzaXphYmxlcyBvZiBhIHJlc2l6ZSBjaGFuZ2UuXG4gICAqL1xuICBub3RpZnlSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy5pc0F0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMuZm9yRWFjaChmdW5jdGlvbihyZXNpemFibGUpIHtcbiAgICAgIGlmICh0aGlzLnJlc2l6ZXJTaG91bGROb3RpZnkocmVzaXphYmxlKSkge1xuICAgICAgICB0aGlzLl9ub3RpZnlEZXNjZW5kYW50KHJlc2l6YWJsZSk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLl9maXJlUmVzaXplKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gYXNzaWduIHRoZSBjbG9zZXN0IHJlc2l6YWJsZSBhbmNlc3RvciB0byB0aGlzIHJlc2l6YWJsZVxuICAgKiBpZiB0aGUgYW5jZXN0b3IgZGV0ZWN0cyBhIHJlcXVlc3QgZm9yIG5vdGlmaWNhdGlvbnMuXG4gICAqL1xuICBhc3NpZ25QYXJlbnRSZXNpemFibGU6IGZ1bmN0aW9uKHBhcmVudFJlc2l6YWJsZSkge1xuICAgIGlmICh0aGlzLl9wYXJlbnRSZXNpemFibGUpIHtcbiAgICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZS5zdG9wUmVzaXplTm90aWZpY2F0aW9uc0Zvcih0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJlbnRSZXNpemFibGUgPSBwYXJlbnRSZXNpemFibGU7XG5cbiAgICBpZiAocGFyZW50UmVzaXphYmxlICYmXG4gICAgICAgIHBhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgIHBhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXMucHVzaCh0aGlzKTtcbiAgICAgIHBhcmVudFJlc2l6YWJsZS5fc3Vic2NyaWJlSXJvblJlc2l6ZSh0aGlzKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gcmVtb3ZlIGEgcmVzaXphYmxlIGRlc2NlbmRhbnQgZnJvbSB0aGUgbGlzdCBvZiBkZXNjZW5kYW50c1xuICAgKiB0aGF0IHNob3VsZCBiZSBub3RpZmllZCBvZiBhIHJlc2l6ZSBjaGFuZ2UuXG4gICAqL1xuICBzdG9wUmVzaXplTm90aWZpY2F0aW9uc0ZvcjogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMuaW5kZXhPZih0YXJnZXQpO1xuXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuX2ludGVyZXN0ZWRSZXNpemFibGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB0aGlzLl91bnN1YnNjcmliZUlyb25SZXNpemUodGFyZ2V0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0aGlzIGVsZW1lbnQgdG8gbGlzdGVuIHRvIGlyb24tcmVzaXplIGV2ZW50cyBvbiB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICAgKlxuICAgKiBQcmVmZXJyZWQgb3ZlciB0YXJnZXQubGlzdGVuIGJlY2F1c2UgdGhlIHByb3BlcnR5IHJlbmFtZXIgZG9lcyBub3RcbiAgICogdW5kZXJzdGFuZCB0byByZW5hbWUgd2hlbiB0aGUgdGFyZ2V0IGlzIG5vdCBzcGVjaWZpY2FsbHkgXCJ0aGlzXCJcbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBFbGVtZW50IHRvIGxpc3RlbiB0byBmb3IgaXJvbi1yZXNpemUgZXZlbnRzLlxuICAgKi9cbiAgX3N1YnNjcmliZUlyb25SZXNpemU6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdpcm9uLXJlc2l6ZScsIHRoaXMuX2JvdW5kT25EZXNjZW5kYW50SXJvblJlc2l6ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIHRoaXMgZWxlbWVudCBmcm9tIGxpc3RlbmluZyB0byB0byBpcm9uLXJlc2l6ZSBldmVudHMgb24gdGhlXG4gICAqIGdpdmVuIHRhcmdldC5cbiAgICpcbiAgICogUHJlZmVycmVkIG92ZXIgdGFyZ2V0LnVubGlzdGVuIGJlY2F1c2UgdGhlIHByb3BlcnR5IHJlbmFtZXIgZG9lcyBub3RcbiAgICogdW5kZXJzdGFuZCB0byByZW5hbWUgd2hlbiB0aGUgdGFyZ2V0IGlzIG5vdCBzcGVjaWZpY2FsbHkgXCJ0aGlzXCJcbiAgICpcbiAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IHRhcmdldCBFbGVtZW50IHRvIGxpc3RlbiB0byBmb3IgaXJvbi1yZXNpemUgZXZlbnRzLlxuICAgKi9cbiAgX3Vuc3Vic2NyaWJlSXJvblJlc2l6ZTogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdpcm9uLXJlc2l6ZScsIHRoaXMuX2JvdW5kT25EZXNjZW5kYW50SXJvblJlc2l6ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIHRvIGZpbHRlciBuZXN0ZWQgZWxlbWVudHMgdGhhdCBzaG91bGQgb3JcbiAgICogc2hvdWxkIG5vdCBiZSBub3RpZmllZCBieSB0aGUgY3VycmVudCBlbGVtZW50LiBSZXR1cm4gdHJ1ZSBpZiBhbiBlbGVtZW50XG4gICAqIHNob3VsZCBiZSBub3RpZmllZCwgb3IgZmFsc2UgaWYgaXQgc2hvdWxkIG5vdCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBBIGNhbmRpZGF0ZSBkZXNjZW5kYW50IGVsZW1lbnQgdGhhdFxuICAgKiBpbXBsZW1lbnRzIGBJcm9uUmVzaXphYmxlQmVoYXZpb3JgLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBgZWxlbWVudGAgc2hvdWxkIGJlIG5vdGlmaWVkIG9mIHJlc2l6ZS5cbiAgICovXG4gIHJlc2l6ZXJTaG91bGROb3RpZnk6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBfb25EZXNjZW5kYW50SXJvblJlc2l6ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5fbm90aWZ5aW5nRGVzY2VuZGFudCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbm8gbmVlZCB0byB1c2UgdGhpcyBkdXJpbmcgc2hhZG93IGRvbSBiZWNhdXNlIG9mIGV2ZW50IHJldGFyZ2V0aW5nXG4gICAgaWYgKCF1c2VTaGFkb3cpIHtcbiAgICAgIHRoaXMuX2ZpcmVSZXNpemUoKTtcbiAgICB9XG4gIH0sXG5cbiAgX2ZpcmVSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZmlyZSgnaXJvbi1yZXNpemUnLCBudWxsLCB7bm9kZTogdGhpcywgYnViYmxlczogZmFsc2V9KTtcbiAgfSxcblxuICBfb25Jcm9uUmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnM6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIHRhcmdldCA9IC8qKiBAdHlwZSB7IUV2ZW50VGFyZ2V0fSAqLyAoZG9tKGV2ZW50KS5yb290VGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0ID09PSB0aGlzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFzc2lnblBhcmVudFJlc2l6YWJsZSh0aGlzKTtcbiAgICB0aGlzLl9ub3RpZnlEZXNjZW5kYW50KHRhcmdldCk7XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICBfcGFyZW50UmVzaXphYmxlQ2hhbmdlZDogZnVuY3Rpb24ocGFyZW50UmVzaXphYmxlKSB7XG4gICAgaWYgKHBhcmVudFJlc2l6YWJsZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX2JvdW5kTm90aWZ5UmVzaXplKTtcbiAgICB9XG4gIH0sXG5cbiAgX25vdGlmeURlc2NlbmRhbnQ6IGZ1bmN0aW9uKGRlc2NlbmRhbnQpIHtcbiAgICAvLyBOT1RFKGNkYXRhKTogSW4gSUUxMCwgYXR0YWNoZWQgaXMgZmlyZWQgb24gY2hpbGRyZW4gZmlyc3QsIHNvIGl0J3NcbiAgICAvLyBpbXBvcnRhbnQgbm90IHRvIG5vdGlmeSB0aGVtIGlmIHRoZSBwYXJlbnQgaXMgbm90IGF0dGFjaGVkIHlldCAob3JcbiAgICAvLyBlbHNlIHRoZXkgd2lsbCBnZXQgcmVkdW5kYW50bHkgbm90aWZpZWQgd2hlbiB0aGUgcGFyZW50IGF0dGFjaGVzKS5cbiAgICBpZiAoIXRoaXMuaXNBdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX25vdGlmeWluZ0Rlc2NlbmRhbnQgPSB0cnVlO1xuICAgIGRlc2NlbmRhbnQubm90aWZ5UmVzaXplKCk7XG4gICAgdGhpcy5fbm90aWZ5aW5nRGVzY2VuZGFudCA9IGZhbHNlO1xuICB9LFxuXG4gIF9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9uczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzQXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgICB2YXIgX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zID1cbiAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucy5iaW5kKHRoaXMpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIHJlYWR5c3RhdGVjaGFuZ2VkKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIHJlYWR5c3RhdGVjaGFuZ2VkKTtcbiAgICAgICAgICAgIF9yZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9ucygpO1xuICAgICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9maW5kUGFyZW50KCk7XG5cbiAgICAgIGlmICghdGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICAgIC8vIElmIHRoaXMgcmVzaXphYmxlIGlzIGFuIG9ycGhhbiwgdGVsbCBvdGhlciBvcnBoYW5zIHRvIHRyeSB0byBmaW5kXG4gICAgICAgIC8vIHRoZWlyIHBhcmVudCBhZ2FpbiwgaW4gY2FzZSBpdCdzIHRoaXMgcmVzaXphYmxlLlxuICAgICAgICBPUlBIQU5TLmZvckVhY2goZnVuY3Rpb24ob3JwaGFuKSB7XG4gICAgICAgICAgaWYgKG9ycGhhbiAhPT0gdGhpcykge1xuICAgICAgICAgICAgb3JwaGFuLl9maW5kUGFyZW50KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmROb3RpZnlSZXNpemUpO1xuICAgICAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhpcyByZXNpemFibGUgaGFzIGEgcGFyZW50LCB0ZWxsIG90aGVyIGNoaWxkIHJlc2l6YWJsZXMgb2ZcbiAgICAgICAgLy8gdGhhdCBwYXJlbnQgdG8gdHJ5IGZpbmRpbmcgdGhlaXIgcGFyZW50IGFnYWluLCBpbiBjYXNlIGl0J3MgdGhpc1xuICAgICAgICAvLyByZXNpemFibGUuXG4gICAgICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZS5faW50ZXJlc3RlZFJlc2l6YWJsZXNcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHJlc2l6YWJsZSkge1xuICAgICAgICAgICAgICBpZiAocmVzaXphYmxlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmVzaXphYmxlLl9maW5kUGFyZW50KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBfZmluZFBhcmVudDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hc3NpZ25QYXJlbnRSZXNpemFibGUobnVsbCk7XG4gICAgdGhpcy5maXJlKFxuICAgICAgICAnaXJvbi1yZXF1ZXN0LXJlc2l6ZS1ub3RpZmljYXRpb25zJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAge25vZGU6IHRoaXMsIGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWV9KTtcblxuICAgIGlmICghdGhpcy5fcGFyZW50UmVzaXphYmxlKSB7XG4gICAgICBPUlBIQU5TLmFkZCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT1JQSEFOUy5kZWxldGUodGhpcyk7XG4gICAgfVxuICB9XG59O1xuIiwiLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBUaGVtZVByb3BlcnR5TWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFZhYWRpblRoZW1lUHJvcGVydHlNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogSGVscGVyIHByb3BlcnR5IHdpdGggdGhlbWUgYXR0cmlidXRlIHZhbHVlIGZhY2lsaXRhdGluZyBwcm9wYWdhdGlvblxuICAgICAgICogaW4gc2hhZG93IERPTS5cbiAgICAgICAqXG4gICAgICAgKiBFbmFibGVzIHRoZSBjb21wb25lbnQgaW1wbGVtZW50YXRpb24gdG8gcHJvcGFnYXRlIHRoZSBgdGhlbWVgXG4gICAgICAgKiBhdHRyaWJ1dGUgdmFsdWUgdG8gdGhlIHN1YmNvbXBvbmVudHMgaW4gU2hhZG93IERPTSBieSBiaW5kaW5nXG4gICAgICAgKiB0aGUgc3ViY29tcG9uZW504oCZcyBcInRoZW1lXCIgYXR0cmlidXRlIHRvIHRoZSBgdGhlbWVgIHByb3BlcnR5IG9mXG4gICAgICAgKiB0aGUgaG9zdC5cbiAgICAgICAqXG4gICAgICAgKiAqKk5PVEU6KiogRXh0ZW5kaW5nIHRoZSBtaXhpbiBvbmx5IHByb3ZpZGVzIHRoZSBwcm9wZXJ0eSBmb3IgYmluZGluZyxcbiAgICAgICAqIGFuZCBkb2VzIG5vdCBtYWtlIHRoZSBwcm9wYWdhdGlvbiBhbG9uZS5cbiAgICAgICAqXG4gICAgICAgKiBTZWUgW1RoZW1lIEF0dHJpYnV0ZSBhbmQgU3ViY29tcG9uZW50c10oaHR0cHM6Ly9naXRodWIuY29tL3ZhYWRpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4vd2lraS81Li1UaGVtZS1BdHRyaWJ1dGUtYW5kLVN1YmNvbXBvbmVudHMpLlxuICAgICAgICogcGFnZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgKi9cbiAgICAgIHRoZW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuXG4gICAgaWYgKG5hbWUgPT09ICd0aGVtZScpIHtcbiAgICAgIHRoaXMuX3NldFRoZW1lKG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBEb21Nb2R1bGUgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tbW9kdWxlLmpzJztcbmltcG9ydCB7IFRoZW1lUHJvcGVydHlNaXhpbiB9IGZyb20gJy4vdmFhZGluLXRoZW1lLXByb3BlcnR5LW1peGluLmpzJztcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKiBAbWl4ZXMgVmFhZGluLlRoZW1lUHJvcGVydHlNaXhpblxuICovXG5leHBvcnQgY29uc3QgVGhlbWFibGVNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgVmFhZGluVGhlbWFibGVNaXhpbiBleHRlbmRzIFRoZW1lUHJvcGVydHlNaXhpbihzdXBlckNsYXNzKSB7XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucHJvdG90eXBlLl90ZW1wbGF0ZTtcblxuICAgIGNvbnN0IGhhc093blRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZSAmJiB0aGlzLnRlbXBsYXRlLnBhcmVudEVsZW1lbnQgJiYgdGhpcy50ZW1wbGF0ZS5wYXJlbnRFbGVtZW50LmlkID09PSB0aGlzLmlzO1xuICAgIGNvbnN0IGluaGVyaXRlZFRlbXBsYXRlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMucHJvdG90eXBlKS5fdGVtcGxhdGU7XG4gICAgaWYgKGluaGVyaXRlZFRlbXBsYXRlICYmICFoYXNPd25UZW1wbGF0ZSkge1xuICAgICAgLy8gVGhlIGVsZW1lbnQgZG9lc24ndCBkZWZpbmUgaXRzIG93biB0ZW1wbGF0ZSAtPiBpbmNsdWRlIHRoZSB0aGVtZSBtb2R1bGVzIGZyb20gdGhlIGluaGVyaXRlZCB0ZW1wbGF0ZVxuICAgICAgQXJyYXkuZnJvbShpbmhlcml0ZWRUZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlW2luY2x1ZGVdJykpLmZvckVhY2gocyA9PiB7XG4gICAgICAgIHRoaXMuX2luY2x1ZGVTdHlsZShzLmdldEF0dHJpYnV0ZSgnaW5jbHVkZScpLCB0ZW1wbGF0ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9pbmNsdWRlTWF0Y2hpbmdUaGVtZXModGVtcGxhdGUpO1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgc3RhdGljIF9pbmNsdWRlTWF0Y2hpbmdUaGVtZXModGVtcGxhdGUpIHtcbiAgICBjb25zdCBkb21Nb2R1bGUgPSBEb21Nb2R1bGU7XG4gICAgY29uc3QgbW9kdWxlcyA9IGRvbU1vZHVsZS5wcm90b3R5cGUubW9kdWxlcztcblxuICAgIGxldCBoYXNUaGVtZXMgPSBmYWxzZTtcbiAgICBjb25zdCBkZWZhdWx0TW9kdWxlTmFtZSA9IHRoaXMuaXMgKyAnLWRlZmF1bHQtdGhlbWUnO1xuXG4gICAgT2JqZWN0LmtleXMobW9kdWxlcylcbiAgICAgIC5zb3J0KChtb2R1bGVOYW1lQSwgbW9kdWxlTmFtZUIpID0+IHtcbiAgICAgICAgY29uc3QgdmFhZGluQSA9IG1vZHVsZU5hbWVBLmluZGV4T2YoJ3ZhYWRpbi0nKSA9PT0gMDtcbiAgICAgICAgY29uc3QgdmFhZGluQiA9IG1vZHVsZU5hbWVCLmluZGV4T2YoJ3ZhYWRpbi0nKSA9PT0gMDtcblxuICAgICAgICBjb25zdCB2YWFkaW5UaGVtZVByZWZpeGVzID0gWydsdW1vLScsICdtYXRlcmlhbC0nXTtcbiAgICAgICAgY29uc3QgdmFhZGluVGhlbWVBID0gdmFhZGluVGhlbWVQcmVmaXhlcy5maWx0ZXIocHJlZml4ID0+IG1vZHVsZU5hbWVBLmluZGV4T2YocHJlZml4KSA9PT0gMCkubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgdmFhZGluVGhlbWVCID0gdmFhZGluVGhlbWVQcmVmaXhlcy5maWx0ZXIocHJlZml4ID0+IG1vZHVsZU5hbWVCLmluZGV4T2YocHJlZml4KSA9PT0gMCkubGVuZ3RoID4gMDtcblxuICAgICAgICBpZiAodmFhZGluQSAhPT0gdmFhZGluQikge1xuICAgICAgICAgIC8vIEluY2x1ZGUgdmFhZGluIGNvcmUgc3R5bGVzIGZpcnN0XG4gICAgICAgICAgcmV0dXJuIHZhYWRpbkEgPyAtMSA6IDE7XG4gICAgICAgIH0gZWxzZSBpZiAodmFhZGluVGhlbWVBICE9PSB2YWFkaW5UaGVtZUIpIHtcbiAgICAgICAgICAvLyBJbmNsdWRlIHZhYWRpbiB0aGVtZSBzdHlsZXMgYWZ0ZXIgdGhhdFxuICAgICAgICAgIHJldHVybiB2YWFkaW5UaGVtZUEgPyAtMSA6IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTGFzdGx5IGluY2x1ZGUgY3VzdG9tIHN0eWxlcyBzbyB0aGV5IG92ZXJyaWRlIGFsbCB2YWFkaW4gc3R5bGVzXG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZm9yRWFjaChtb2R1bGVOYW1lID0+IHtcbiAgICAgICAgaWYgKG1vZHVsZU5hbWUgIT09IGRlZmF1bHRNb2R1bGVOYW1lKSB7XG4gICAgICAgICAgY29uc3QgdGhlbWVGb3IgPSBtb2R1bGVzW21vZHVsZU5hbWVdLmdldEF0dHJpYnV0ZSgndGhlbWUtZm9yJyk7XG4gICAgICAgICAgaWYgKHRoZW1lRm9yKSB7XG4gICAgICAgICAgICB0aGVtZUZvci5zcGxpdCgnICcpLmZvckVhY2godGhlbWVGb3JUb2tlbiA9PiB7XG4gICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCdeJyArIHRoZW1lRm9yVG9rZW4uc3BsaXQoJyonKS5qb2luKCcuKicpICsgJyQnKS50ZXN0KHRoaXMuaXMpKSB7XG4gICAgICAgICAgICAgICAgaGFzVGhlbWVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmNsdWRlU3R5bGUobW9kdWxlTmFtZSwgdGVtcGxhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgaWYgKCFoYXNUaGVtZXMgJiYgbW9kdWxlc1tkZWZhdWx0TW9kdWxlTmFtZV0pIHtcbiAgICAgIC8vIE5vIHRoZW1lIG1vZHVsZXMgZm91bmQsIGluY2x1ZGUgdGhlIGRlZmF1bHQgbW9kdWxlIGlmIGl0IGV4aXN0c1xuICAgICAgdGhpcy5faW5jbHVkZVN0eWxlKGRlZmF1bHRNb2R1bGVOYW1lLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIHN0YXRpYyBfaW5jbHVkZVN0eWxlKG1vZHVsZU5hbWUsIHRlbXBsYXRlKSB7XG4gICAgaWYgKHRlbXBsYXRlICYmICF0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoYHN0eWxlW2luY2x1ZGU9XCIke21vZHVsZU5hbWV9XCJdYCkpIHtcbiAgICAgIGNvbnN0IHN0eWxlRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbC5zZXRBdHRyaWJ1dGUoJ2luY2x1ZGUnLCBtb2R1bGVOYW1lKTtcbiAgICAgIHRlbXBsYXRlLmNvbnRlbnQuYXBwZW5kQ2hpbGQoc3R5bGVFbCk7XG4gICAgfVxuICB9XG5cbn07XG4iLCJjb25zdCBERVZfTU9ERV9DT0RFX1JFR0VYUCA9XG4gIC9cXC9cXCpcXCpcXHMrdmFhZGluLWRldi1tb2RlOnN0YXJ0KFtcXHNcXFNdKil2YWFkaW4tZGV2LW1vZGU6ZW5kXFxzK1xcKlxcKlxcLy9pO1xuXG5jb25zdCBGbG93Q2xpZW50cyA9IHdpbmRvdy5WYWFkaW4gJiYgd2luZG93LlZhYWRpbi5GbG93ICYmIHdpbmRvdy5WYWFkaW4uRmxvdy5jbGllbnRzO1xuXG5mdW5jdGlvbiBpc01pbmlmaWVkKCkge1xuICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgIC8qKiB2YWFkaW4tZGV2LW1vZGU6c3RhcnRcbiAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFhZGluLWRldi1tb2RlOmVuZCAqKi9cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gdW5jb21tZW50QW5kUnVuKHRlc3QpO1xufVxuXG5mdW5jdGlvbiBpc0RldmVsb3BtZW50TW9kZSgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoaXNGb3JjZWREZXZlbG9wbWVudE1vZGUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCFpc0xvY2FsaG9zdCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKEZsb3dDbGllbnRzKSB7XG4gICAgICByZXR1cm4gIWlzRmxvd1Byb2R1Y3Rpb25Nb2RlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc01pbmlmaWVkKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBTb21lIGVycm9yIGluIHRoaXMgY29kZSwgYXNzdW1lIHByb2R1Y3Rpb24gc28gbm8gZnVydGhlciBhY3Rpb25zIHdpbGwgYmUgdGFrZW5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNGb3JjZWREZXZlbG9wbWVudE1vZGUoKSB7XG4gIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInZhYWRpbi5kZXZlbG9wbWVudG1vZGUuZm9yY2VcIik7XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWxob3N0KCkge1xuICByZXR1cm4gKFtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLmluZGV4T2Yod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSA+PSAwKTtcbn1cblxuZnVuY3Rpb24gaXNGbG93UHJvZHVjdGlvbk1vZGUoKSB7XG4gIGlmIChGbG93Q2xpZW50cykge1xuICAgIGNvbnN0IHByb2R1Y3Rpb25Nb2RlQXBwcyA9IE9iamVjdC5rZXlzKEZsb3dDbGllbnRzKVxuICAgICAgLm1hcChrZXkgPT4gRmxvd0NsaWVudHNba2V5XSlcbiAgICAgIC5maWx0ZXIoY2xpZW50ID0+IGNsaWVudC5wcm9kdWN0aW9uTW9kZSk7XG4gICAgaWYgKHByb2R1Y3Rpb25Nb2RlQXBwcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiB1bmNvbW1lbnRBbmRSdW4oY2FsbGJhY2ssIGFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG1hdGNoID0gREVWX01PREVfQ09ERV9SRUdFWFAuZXhlYyhjYWxsYmFjay50b1N0cmluZygpKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIHJlcXVpcmVzIENTUDogc2NyaXB0LXNyYyAndW5zYWZlLWV2YWwnXG4gICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihtYXRjaFsxXSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZWF0IHRoZSBleGNlcHRpb25cbiAgICAgIGNvbnNvbGUubG9nKCd2YWFkaW4tZGV2ZWxvcG1lbnQtbW9kZS1kZXRlY3RvcjogdW5jb21tZW50QW5kUnVuKCkgZmFpbGVkJywgZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY2FsbGJhY2soYXJncyk7XG59XG5cbi8vIEEgZ3VhcmQgYWdhaW5zdCBwb2x5bWVyLW1vZHVsaXplciByZW1vdmluZyB0aGUgd2luZG93LlZhYWRpblxuLy8gaW5pdGlhbGl6YXRpb24gYWJvdmUuXG53aW5kb3dbJ1ZhYWRpbiddID0gd2luZG93WydWYWFkaW4nXSB8fCB7fTtcblxuLyoqXG4gKiBJbnNwZWN0cyB0aGUgc291cmNlIGNvZGUgb2YgdGhlIGdpdmVuIGBjYWxsYmFja2AgZnVuY3Rpb24gZm9yXG4gKiBzcGVjaWFsbHktbWFya2VkIF9jb21tZW50ZWRfIGNvZGUuIElmIHN1Y2ggY29tbWVudGVkIGNvZGUgaXMgZm91bmQgaW4gdGhlXG4gKiBjYWxsYmFjayBzb3VyY2UsIHVuY29tbWVudHMgYW5kIHJ1bnMgdGhhdCBjb2RlIGluc3RlYWQgb2YgdGhlIGNhbGxiYWNrXG4gKiBpdHNlbGYuIE90aGVyd2lzZSBydW5zIHRoZSBjYWxsYmFjayBhcyBpcy5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgYXJndW1lbnRzIGFyZSBwYXNzZWQgaW50byB0aGUgY2FsbGJhY2sgLyB1bmNvbW1lbnRlZCBjb2RlLFxuICogdGhlIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAqXG4gKiBTZWUgdGhlIGBpc01pbmlmaWVkKClgIGZ1bmN0aW9uIHNvdXJjZSBjb2RlIGluIHRoaXMgZmlsZSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBydW5JZkRldmVsb3BtZW50TW9kZSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBhcmdzKSB7XG4gIGlmICh3aW5kb3cuVmFhZGluLmRldmVsb3BtZW50TW9kZSkge1xuICAgIHJldHVybiB1bmNvbW1lbnRBbmRSdW4oY2FsbGJhY2ssIGFyZ3MpO1xuICB9XG59O1xuXG5pZiAod2luZG93LlZhYWRpbi5kZXZlbG9wbWVudE1vZGUgPT09IHVuZGVmaW5lZCkge1xuICB3aW5kb3cuVmFhZGluLmRldmVsb3BtZW50TW9kZSA9IGlzRGV2ZWxvcG1lbnRNb2RlKCk7XG59XG4iLCIvKiBUaGlzIGZpbGUgaXMgYXV0b2dlbmVyYXRlZCBmcm9tIHNyYy92YWFkaW4tdXNhZ2Utc3RhdGlzdGljcy50cGwuaHRtbCAqL1xuLypcblxuVGhpcyBzY3JpcHQgZ2F0aGVycyB1c2FnZSBzdGF0aXN0aWNzIGZyb20gdGhlIGFwcGxpY2F0aW9uIHJ1bm5pbmcgaW4gZGV2ZWxvcG1lbnQgbW9kZS5cblxuU3RhdGlzdGljcyBnYXRoZXJpbmcgaXMgYXV0b21hdGljYWxseSBkaXNhYmxlZCBhbmQgZXhjbHVkZWQgZnJvbSBwcm9kdWN0aW9uIGJ1aWxkcy5cblxuRm9yIGRldGFpbHMgYW5kIHRvIG9wdC1vdXQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzLlxuXG4qL1xuLypcbiAgRklYTUUocG9seW1lci1tb2R1bGl6ZXIpOiB0aGUgYWJvdmUgY29tbWVudHMgd2VyZSBleHRyYWN0ZWRcbiAgZnJvbSBIVE1MIGFuZCBtYXkgYmUgb3V0IG9mIHBsYWNlIGhlcmUuIFJldmlldyB0aGVtIGFuZFxuICB0aGVuIGRlbGV0ZSB0aGlzIGNvbW1lbnQhXG4qL1xuaW1wb3J0IHsgcnVuSWZEZXZlbG9wbWVudE1vZGUgfSBmcm9tICdAdmFhZGluL3ZhYWRpbi1kZXZlbG9wbWVudC1tb2RlLWRldGVjdG9yL3ZhYWRpbi1kZXZlbG9wbWVudC1tb2RlLWRldGVjdG9yLmpzJztcblxuZnVuY3Rpb24gbWF5YmVHYXRoZXJBbmRTZW5kU3RhdHMoKSB7XG4gIC8qKiB2YWFkaW4tZGV2LW1vZGU6c3RhcnRcbiAgKGZ1bmN0aW9uICgpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBnZXRQb2x5bWVyVmVyc2lvbiA9IGZ1bmN0aW9uIGdldFBvbHltZXJWZXJzaW9uKCkge1xuICByZXR1cm4gd2luZG93LlBvbHltZXIgJiYgd2luZG93LlBvbHltZXIudmVyc2lvbjtcbn07XG5cbnZhciBTdGF0aXN0aWNzR2F0aGVyZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0YXRpc3RpY3NHYXRoZXJlcihsb2dnZXIpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0aXN0aWNzR2F0aGVyZXIpO1xuXG4gICAgdGhpcy5ub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFN0YXRpc3RpY3NHYXRoZXJlciwgW3tcbiAgICBrZXk6ICdmcmFtZXdvcmtWZXJzaW9uRGV0ZWN0b3JzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZnJhbWV3b3JrVmVyc2lvbkRldGVjdG9ycygpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICdGbG93JzogZnVuY3Rpb24gRmxvdygpIHtcbiAgICAgICAgICBpZiAod2luZG93LlZhYWRpbiAmJiB3aW5kb3cuVmFhZGluLkZsb3cgJiYgd2luZG93LlZhYWRpbi5GbG93LmNsaWVudHMpIHtcbiAgICAgICAgICAgIHZhciBmbG93VmVyc2lvbnMgPSBPYmplY3Qua2V5cyh3aW5kb3cuVmFhZGluLkZsb3cuY2xpZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5WYWFkaW4uRmxvdy5jbGllbnRzW2tleV07XG4gICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmdldFZlcnNpb25JbmZvO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRWZXJzaW9uSW5mbygpLmZsb3c7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmbG93VmVyc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmxvd1ZlcnNpb25zWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ1ZhYWRpbiBGcmFtZXdvcmsnOiBmdW5jdGlvbiBWYWFkaW5GcmFtZXdvcmsoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy52YWFkaW4gJiYgd2luZG93LnZhYWRpbi5jbGllbnRzKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWV3b3JrVmVyc2lvbnMgPSBPYmplY3QudmFsdWVzKHdpbmRvdy52YWFkaW4uY2xpZW50cykuZmlsdGVyKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRWZXJzaW9uSW5mbztcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjbGllbnQuZ2V0VmVyc2lvbkluZm8oKS52YWFkaW5WZXJzaW9uO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZnJhbWV3b3JrVmVyc2lvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZnJhbWV3b3JrVmVyc2lvbnNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnQW5ndWxhckpzJzogZnVuY3Rpb24gQW5ndWxhckpzKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuYW5ndWxhciAmJiB3aW5kb3cuYW5ndWxhci52ZXJzaW9uICYmIHdpbmRvdy5hbmd1bGFyLnZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYW5ndWxhci52ZXJzaW9uLmZ1bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnQW5ndWxhcic6IGZ1bmN0aW9uIEFuZ3VsYXIoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5uZykge1xuICAgICAgICAgICAgdmFyIHRhZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW25nLXZlcnNpb25dXCIpO1xuICAgICAgICAgICAgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGFnc1swXS5nZXRBdHRyaWJ1dGUoXCJuZy12ZXJzaW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwiVW5rbm93blwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ0JhY2tib25lLmpzJzogZnVuY3Rpb24gQmFja2JvbmVKcygpIHtcbiAgICAgICAgICBpZiAod2luZG93LkJhY2tib25lKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkJhY2tib25lLlZFUlNJT047XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnUmVhY3QnOiBmdW5jdGlvbiBSZWFjdCgpIHtcbiAgICAgICAgICB2YXIgcmVhY3RTZWxlY3RvciA9ICdbZGF0YS1yZWFjdHJvb3RdLCBbZGF0YS1yZWFjdGlkXSc7XG4gICAgICAgICAgaWYgKCEhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyZWFjdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgLy8gUmVhY3QgZG9lcyBub3QgcHVibGlzaCB0aGUgdmVyc2lvbiBieSBkZWZhdWx0XG4gICAgICAgICAgICByZXR1cm4gXCJ1bmtub3duXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnRW1iZXInOiBmdW5jdGlvbiBFbWJlcigpIHtcbiAgICAgICAgICBpZiAod2luZG93LkVtICYmIHdpbmRvdy5FbS5WRVJTSU9OKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkVtLlZFUlNJT047XG4gICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuRW1iZXIgJiYgd2luZG93LkVtYmVyLlZFUlNJT04pIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRW1iZXIuVkVSU0lPTjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdqUXVlcnknOiBmdW5jdGlvbiAoX2pRdWVyeSkge1xuICAgICAgICAgIGZ1bmN0aW9uIGpRdWVyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfalF1ZXJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgalF1ZXJ5LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9qUXVlcnkudG9TdHJpbmcoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIGpRdWVyeTtcbiAgICAgICAgfShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBqUXVlcnkgPT09ICdmdW5jdGlvbicgJiYgalF1ZXJ5LnByb3RvdHlwZS5qcXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGpRdWVyeS5wcm90b3R5cGUuanF1ZXJ5O1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgICdQb2x5bWVyJzogZnVuY3Rpb24gUG9seW1lcigpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IGdldFBvbHltZXJWZXJzaW9uKCk7XG4gICAgICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ0xpdEVsZW1lbnQnOiBmdW5jdGlvbiBMaXRFbGVtZW50KCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gd2luZG93LmxpdEVsZW1lbnRWZXJzaW9ucyAmJiB3aW5kb3cubGl0RWxlbWVudFZlcnNpb25zWzBdO1xuICAgICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdMaXRIdG1sJzogZnVuY3Rpb24gTGl0SHRtbCgpIHtcbiAgICAgICAgICB2YXIgdmVyc2lvbiA9IHdpbmRvdy5saXRIdG1sVmVyc2lvbnMgJiYgd2luZG93LmxpdEh0bWxWZXJzaW9uc1swXTtcbiAgICAgICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnVnVlLmpzJzogZnVuY3Rpb24gVnVlSnMoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5WdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuVnVlLnZlcnNpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFVzZWRWYWFkaW5FbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZWRWYWFkaW5FbGVtZW50cyhlbGVtZW50cykge1xuICAgICAgdmFyIHZlcnNpb24gPSBnZXRQb2x5bWVyVmVyc2lvbigpO1xuICAgICAgdmFyIGVsZW1lbnRDbGFzc2VzID0gdm9pZCAwO1xuICAgICAgLy8gTk9URTogSW4gY2FzZSB5b3UgZWRpdCB0aGUgY29kZSBoZXJlLCBZT1UgTVVTVCBVUERBVEUgYW55IHN0YXRpc3RpY3MgcmVwb3J0aW5nIGNvZGUgaW4gRmxvdy5cbiAgICAgIC8vIENoZWNrIGFsbCBsb2NhdGlvbnMgY2FsbGluZyB0aGUgbWV0aG9kIGdldEVudHJpZXMoKSBpblxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZhYWRpbi9mbG93L2Jsb2IvbWFzdGVyL2Zsb3ctc2VydmVyL3NyYy9tYWluL2phdmEvY29tL3ZhYWRpbi9mbG93L2ludGVybmFsL1VzYWdlU3RhdGlzdGljcy5qYXZhI0wxMDZcbiAgICAgIC8vIEN1cnJlbnRseSBpdCBpcyBvbmx5IHVzZWQgYnkgQm9vdHN0cmFwSGFuZGxlci5cbiAgICAgIGlmICh2ZXJzaW9uICYmIHZlcnNpb24uaW5kZXhPZignMicpID09PSAwKSB7XG4gICAgICAgIC8vIFBvbHltZXIgMjogY29tcG9uZW50cyBjbGFzc2VzIGFyZSBzdG9yZWQgaW4gd2luZG93LlZhYWRpblxuICAgICAgICBlbGVtZW50Q2xhc3NlcyA9IE9iamVjdC5rZXlzKHdpbmRvdy5WYWFkaW4pLm1hcChmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHJldHVybiB3aW5kb3cuVmFhZGluW2NdO1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICByZXR1cm4gYy5pcztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQb2x5bWVyIDM6IGNvbXBvbmVudHMgY2xhc3NlcyBhcmUgc3RvcmVkIGluIHdpbmRvdy5WYWFkaW4ucmVnaXN0cmF0aW9uc1xuICAgICAgICBlbGVtZW50Q2xhc3NlcyA9IHdpbmRvdy5WYWFkaW4ucmVnaXN0cmF0aW9ucyB8fCBbXTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGtsYXNzKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0ga2xhc3MudmVyc2lvbiA/IGtsYXNzLnZlcnNpb24gOiBcIjAuMC4wXCI7XG4gICAgICAgIGVsZW1lbnRzW2tsYXNzLmlzXSA9IHsgdmVyc2lvbjogdmVyc2lvbiB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VXNlZFZhYWRpblRoZW1lcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVzZWRWYWFkaW5UaGVtZXModGhlbWVzKSB7XG4gICAgICBbJ0x1bW8nLCAnTWF0ZXJpYWwnXS5mb3JFYWNoKGZ1bmN0aW9uICh0aGVtZU5hbWUpIHtcbiAgICAgICAgdmFyIHRoZW1lO1xuICAgICAgICB2YXIgdmVyc2lvbiA9IGdldFBvbHltZXJWZXJzaW9uKCk7XG4gICAgICAgIGlmICh2ZXJzaW9uICYmIHZlcnNpb24uaW5kZXhPZignMicpID09PSAwKSB7XG4gICAgICAgICAgLy8gUG9seW1lciAyOiB0aGVtZXMgYXJlIHN0b3JlZCBpbiB3aW5kb3cuVmFhZGluXG4gICAgICAgICAgdGhlbWUgPSB3aW5kb3cuVmFhZGluW3RoZW1lTmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUG9seW1lciAzOiB0aGVtZXMgYXJlIHN0b3JlZCBpbiBjdXN0b20gZWxlbWVudCByZWdpc3RyeVxuICAgICAgICAgIHRoZW1lID0gY3VzdG9tRWxlbWVudHMuZ2V0KCd2YWFkaW4tJyArIHRoZW1lTmFtZS50b0xvd2VyQ2FzZSgpICsgJy1zdHlsZXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhlbWUgJiYgdGhlbWUudmVyc2lvbikge1xuICAgICAgICAgIHRoZW1lc1t0aGVtZU5hbWVdID0geyB2ZXJzaW9uOiB0aGVtZS52ZXJzaW9uIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEZyYW1ld29ya3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGcmFtZXdvcmtzKGZyYW1ld29ya3MpIHtcbiAgICAgIHZhciBkZXRlY3RvcnMgPSB0aGlzLmZyYW1ld29ya1ZlcnNpb25EZXRlY3RvcnMoKTtcbiAgICAgIE9iamVjdC5rZXlzKGRldGVjdG9ycykuZm9yRWFjaChmdW5jdGlvbiAoZnJhbWV3b3JrKSB7XG4gICAgICAgIHZhciBkZXRlY3RvciA9IGRldGVjdG9yc1tmcmFtZXdvcmtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gZGV0ZWN0b3IoKTtcbiAgICAgICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICAgICAgZnJhbWV3b3Jrc1tmcmFtZXdvcmtdID0geyB2ZXJzaW9uOiB2ZXJzaW9uIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2F0aGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2F0aGVyKHN0b3JhZ2UpIHtcbiAgICAgIHZhciBzdG9yZWRTdGF0cyA9IHN0b3JhZ2UucmVhZCgpO1xuICAgICAgdmFyIGdhdGhlcmVkU3RhdHMgPSB7fTtcbiAgICAgIHZhciB0eXBlcyA9IFtcImVsZW1lbnRzXCIsIFwiZnJhbWV3b3Jrc1wiLCBcInRoZW1lc1wiXTtcblxuICAgICAgdHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBnYXRoZXJlZFN0YXRzW3R5cGVdID0ge307XG4gICAgICAgIGlmICghc3RvcmVkU3RhdHNbdHlwZV0pIHtcbiAgICAgICAgICBzdG9yZWRTdGF0c1t0eXBlXSA9IHt9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIHByZXZpb3VzU3RhdHMgPSBKU09OLnN0cmluZ2lmeShzdG9yZWRTdGF0cyk7XG5cbiAgICAgIHRoaXMuZ2V0VXNlZFZhYWRpbkVsZW1lbnRzKGdhdGhlcmVkU3RhdHMuZWxlbWVudHMpO1xuICAgICAgdGhpcy5nZXRGcmFtZXdvcmtzKGdhdGhlcmVkU3RhdHMuZnJhbWV3b3Jrcyk7XG4gICAgICB0aGlzLmdldFVzZWRWYWFkaW5UaGVtZXMoZ2F0aGVyZWRTdGF0cy50aGVtZXMpO1xuXG4gICAgICB2YXIgbm93ID0gdGhpcy5ub3c7XG4gICAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZ2F0aGVyZWRTdGF0c1t0eXBlXSk7XG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgaWYgKCFzdG9yZWRTdGF0c1t0eXBlXVtrZXldIHx8IF90eXBlb2Yoc3RvcmVkU3RhdHNbdHlwZV1ba2V5XSkgIT0gX3R5cGVvZih7fSkpIHtcbiAgICAgICAgICAgIHN0b3JlZFN0YXRzW3R5cGVdW2tleV0gPSB7IGZpcnN0VXNlZDogbm93IH07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIERpc2NhcmRzIGFueSBwcmV2aW91c2x5IGxvZ2dlZCB2ZXJzaW9uIG51bWJlclxuICAgICAgICAgIHN0b3JlZFN0YXRzW3R5cGVdW2tleV0udmVyc2lvbiA9IGdhdGhlcmVkU3RhdHNbdHlwZV1ba2V5XS52ZXJzaW9uO1xuICAgICAgICAgIHN0b3JlZFN0YXRzW3R5cGVdW2tleV0ubGFzdFVzZWQgPSBub3c7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBuZXdTdGF0cyA9IEpTT04uc3RyaW5naWZ5KHN0b3JlZFN0YXRzKTtcbiAgICAgIHN0b3JhZ2Uud3JpdGUobmV3U3RhdHMpO1xuICAgICAgaWYgKG5ld1N0YXRzICE9IHByZXZpb3VzU3RhdHMgJiYgT2JqZWN0LmtleXMoc3RvcmVkU3RhdHMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJOZXcgc3RhdHM6IFwiICsgbmV3U3RhdHMpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3RhdGlzdGljc0dhdGhlcmVyO1xufSgpO1xuXG52YXIgU3RhdGlzdGljc1N0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0YXRpc3RpY3NTdG9yYWdlKGtleSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRpc3RpY3NTdG9yYWdlKTtcblxuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhdGlzdGljc1N0b3JhZ2UsIFt7XG4gICAga2V5OiAncmVhZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgICB2YXIgbG9jYWxTdG9yYWdlU3RhdHNTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleSk7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VTdGF0c1N0cmluZyA/IGxvY2FsU3RvcmFnZVN0YXRzU3RyaW5nIDogJ3t9Jyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd3cml0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlKGRhdGEpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbGVhcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5rZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzRW1wdHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgICAgdmFyIHN0b3JlZFN0YXRzID0gdGhpcy5yZWFkKCk7XG4gICAgICB2YXIgZW1wdHkgPSB0cnVlO1xuICAgICAgT2JqZWN0LmtleXMoc3RvcmVkU3RhdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3RvcmVkU3RhdHNba2V5XSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZW1wdHk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTdGF0aXN0aWNzU3RvcmFnZTtcbn0oKTtcblxudmFyIFN0YXRpc3RpY3NTZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0YXRpc3RpY3NTZW5kZXIodXJsLCBsb2dnZXIpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0aXN0aWNzU2VuZGVyKTtcblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhdGlzdGljc1NlbmRlciwgW3tcbiAgICBrZXk6ICdzZW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZChkYXRhLCBlcnJvckhhbmRsZXIpIHtcbiAgICAgIHZhciBsb2dnZXIgPSB0aGlzLmxvZ2dlcjtcblxuICAgICAgaWYgKG5hdmlnYXRvci5vbkxpbmUgPT09IGZhbHNlKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIk9mZmxpbmUsIGNhbid0IHNlbmRcIik7XG4gICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2dnZXIuZGVidWcoXCJTZW5kaW5nIGRhdGEgdG8gXCIgKyB0aGlzLnVybCk7XG5cbiAgICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHJlcS53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgcmVxLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gU3RhdHMgc2VudCwgbm90aGluZyBtb3JlIHRvIGRvXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIlJlc3BvbnNlOiBcIiArIHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgfSk7XG4gICAgICByZXEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiU2VuZCBmYWlsZWRcIik7XG4gICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgfSk7XG4gICAgICByZXEuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiU2VuZCBhYm9ydGVkXCIpO1xuICAgICAgICBlcnJvckhhbmRsZXIoKTtcbiAgICAgIH0pO1xuICAgICAgcmVxLm9wZW4oXCJQT1NUXCIsIHRoaXMudXJsKTtcbiAgICAgIHJlcS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgIHJlcS5zZW5kKGRhdGEpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3RhdGlzdGljc1NlbmRlcjtcbn0oKTtcblxudmFyIFN0YXRpc3RpY3NMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0YXRpc3RpY3NMb2dnZXIoaWQpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0aXN0aWNzTG9nZ2VyKTtcblxuICAgIHRoaXMuaWQgPSBpZDtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFN0YXRpc3RpY3NMb2dnZXIsIFt7XG4gICAga2V5OiAnX2lzRGVidWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNEZWJ1ZygpIHtcbiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInZhYWRpbi5cIiArIHRoaXMuaWQgKyBcIi5kZWJ1Z1wiKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWJ1ZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlYnVnKG1zZykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVidWcoKSkge1xuICAgICAgICBjb25zb2xlLmluZm8odGhpcy5pZCArIFwiOiBcIiArIG1zZyk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTdGF0aXN0aWNzTG9nZ2VyO1xufSgpO1xuXG52YXIgVXNhZ2VTdGF0aXN0aWNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBVc2FnZVN0YXRpc3RpY3MoKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNhZ2VTdGF0aXN0aWNzKTtcblxuICAgIHRoaXMubm93ID0gbmV3IERhdGUoKTtcbiAgICB0aGlzLnRpbWVOb3cgPSB0aGlzLm5vdy5nZXRUaW1lKCk7XG4gICAgdGhpcy5nYXRoZXJEZWxheSA9IDEwOyAvLyBEZWxheSBiZXR3ZWVuIGxvYWRpbmcgdGhpcyBmaWxlIGFuZCBnYXRoZXJpbmcgc3RhdHNcbiAgICB0aGlzLmluaXRpYWxEZWxheSA9IDI0ICogNjAgKiA2MDtcblxuICAgIHRoaXMubG9nZ2VyID0gbmV3IFN0YXRpc3RpY3NMb2dnZXIoXCJzdGF0aXN0aWNzXCIpO1xuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTdGF0aXN0aWNzU3RvcmFnZShcInZhYWRpbi5zdGF0aXN0aWNzLmJhc2tldFwiKTtcbiAgICB0aGlzLmdhdGhlcmVyID0gbmV3IFN0YXRpc3RpY3NHYXRoZXJlcih0aGlzLmxvZ2dlcik7XG4gICAgdGhpcy5zZW5kZXIgPSBuZXcgU3RhdGlzdGljc1NlbmRlcihcImh0dHBzOi8vdG9vbHMudmFhZGluLmNvbS91c2FnZS1zdGF0cy9zdWJtaXRcIiwgdGhpcy5sb2dnZXIpO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoVXNhZ2VTdGF0aXN0aWNzLCBbe1xuICAgIGtleTogJ21heWJlR2F0aGVyQW5kU2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1heWJlR2F0aGVyQW5kU2VuZCgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVc2FnZVN0YXRpc3RpY3Mub3B0T3V0S2V5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmdhdGhlcmVyLmdhdGhlcih0aGlzLnN0b3JhZ2UpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLm1heWJlU2VuZCgpO1xuICAgICAgfSwgdGhpcy5nYXRoZXJEZWxheSAqIDEwMDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvdHRlcnknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb3R0ZXJ5KCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3VycmVudE1vbnRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3VycmVudE1vbnRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMubm93LmdldFllYXIoKSAqIDEyICsgdGhpcy5ub3cuZ2V0TW9udGgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtYXliZVNlbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXliZVNlbmQoKSB7XG4gICAgICB2YXIgZmlyc3RVc2UgPSBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oVXNhZ2VTdGF0aXN0aWNzLmZpcnN0VXNlS2V5KSk7XG4gICAgICB2YXIgbW9udGhQcm9jZXNzZWQgPSBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oVXNhZ2VTdGF0aXN0aWNzLm1vbnRoUHJvY2Vzc2VkS2V5KSk7XG5cbiAgICAgIGlmICghZmlyc3RVc2UpIHtcbiAgICAgICAgLy8gVXNlIGEgZ3JhY2UgcGVyaW9kIHRvIGF2b2lkIGludGVyZmVyaW5nIHdpdGggdGVzdHMsIGluY29nbml0byBtb2RlIGV0Y1xuICAgICAgICBmaXJzdFVzZSA9IHRoaXMudGltZU5vdztcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVXNhZ2VTdGF0aXN0aWNzLmZpcnN0VXNlS2V5LCBmaXJzdFVzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRpbWVOb3cgPCBmaXJzdFVzZSArIHRoaXMuaW5pdGlhbERlbGF5ICogMTAwMCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5vIHN0YXRpc3RpY3Mgd2lsbCBiZSBzZW50IHVudGlsIHRoZSBpbml0aWFsIGRlbGF5IG9mIFwiICsgdGhpcy5pbml0aWFsRGVsYXkgKyBcInMgaGFzIHBhc3NlZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3VycmVudE1vbnRoKCkgPD0gbW9udGhQcm9jZXNzZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJUaGlzIG1vbnRoIGhhcyBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVc2FnZVN0YXRpc3RpY3MubW9udGhQcm9jZXNzZWRLZXksIHRoaXMuY3VycmVudE1vbnRoKCkpO1xuICAgICAgLy8gVXNlIHJhbmRvbSBzYW1wbGluZ1xuICAgICAgaWYgKHRoaXMubG90dGVyeSgpKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiQ29uZ3JhdHVsYXRpb25zLCB3ZSBoYXZlIGEgd2lubmVyIVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiU29ycnksIG5vIHN0YXRzIGZyb20geW91IHRoaXMgdGltZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNlbmQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZCgpIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIHRoZSBsYXRlc3QgZGF0YVxuICAgICAgdGhpcy5nYXRoZXJlci5nYXRoZXIodGhpcy5zdG9yYWdlKTtcblxuICAgICAgLy8gUmVhZCwgc2VuZCBhbmQgY2xlYW4gdXBcbiAgICAgIHZhciBkYXRhID0gdGhpcy5zdG9yYWdlLnJlYWQoKTtcbiAgICAgIGRhdGFbXCJmaXJzdFVzZVwiXSA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVc2FnZVN0YXRpc3RpY3MuZmlyc3RVc2VLZXkpKTtcbiAgICAgIGRhdGFbXCJ1c2FnZVN0YXRpc3RpY3NWZXJzaW9uXCJdID0gVXNhZ2VTdGF0aXN0aWNzLnZlcnNpb247XG4gICAgICB2YXIgaW5mbyA9ICdUaGlzIHJlcXVlc3QgY29udGFpbnMgdXNhZ2Ugc3RhdGlzdGljcyBnYXRoZXJlZCBmcm9tIHRoZSBhcHBsaWNhdGlvbiBydW5uaW5nIGluIGRldmVsb3BtZW50IG1vZGUuIFxcblxcblN0YXRpc3RpY3MgZ2F0aGVyaW5nIGlzIGF1dG9tYXRpY2FsbHkgZGlzYWJsZWQgYW5kIGV4Y2x1ZGVkIGZyb20gcHJvZHVjdGlvbiBidWlsZHMuXFxuXFxuRm9yIGRldGFpbHMgYW5kIHRvIG9wdC1vdXQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzLlxcblxcblxcblxcbic7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLnNlbmRlci5zZW5kKGluZm8gKyBKU09OLnN0cmluZ2lmeShkYXRhKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXZlcnQgdGhlICdtb250aCBwcm9jZXNzZWQnIGZsYWdcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVXNhZ2VTdGF0aXN0aWNzLm1vbnRoUHJvY2Vzc2VkS2V5LCBzZWxmLmN1cnJlbnRNb250aCgpIC0gMSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ3ZlcnNpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JDEoKSB7XG4gICAgICByZXR1cm4gJzIuMS4wJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdmaXJzdFVzZUtleScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkMSgpIHtcbiAgICAgIHJldHVybiAndmFhZGluLnN0YXRpc3RpY3MuZmlyc3R1c2UnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21vbnRoUHJvY2Vzc2VkS2V5JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQxKCkge1xuICAgICAgcmV0dXJuICd2YWFkaW4uc3RhdGlzdGljcy5tb250aFByb2Nlc3NlZCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb3B0T3V0S2V5JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQxKCkge1xuICAgICAgcmV0dXJuICd2YWFkaW4uc3RhdGlzdGljcy5vcHRvdXQnO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVXNhZ2VTdGF0aXN0aWNzO1xufSgpO1xuXG50cnkge1xuICB3aW5kb3cuVmFhZGluID0gd2luZG93LlZhYWRpbiB8fCB7fTtcbiAgd2luZG93LlZhYWRpbi51c2FnZVN0YXRzQ2hlY2tlciA9IHdpbmRvdy5WYWFkaW4udXNhZ2VTdGF0c0NoZWNrZXIgfHwgbmV3IFVzYWdlU3RhdGlzdGljcygpO1xuICB3aW5kb3cuVmFhZGluLnVzYWdlU3RhdHNDaGVja2VyLm1heWJlR2F0aGVyQW5kU2VuZCgpO1xufSBjYXRjaCAoZSkge1xuICAvLyBJbnRlbnRpb25hbGx5IGlnbm9yZWQgYXMgdGhpcyBpcyBub3QgYSBwcm9ibGVtIGluIHRoZSBhcHAgYmVpbmcgZGV2ZWxvcGVkXG59XG5cbn0oKSk7XG5cbiAgdmFhZGluLWRldi1tb2RlOmVuZCAqKi9cbn1cblxuZXhwb3J0IGNvbnN0IHVzYWdlU3RhdGlzdGljcyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodHlwZW9mIHJ1bklmRGV2ZWxvcG1lbnRNb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHJ1bklmRGV2ZWxvcG1lbnRNb2RlKG1heWJlR2F0aGVyQW5kU2VuZFN0YXRzKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGlkbGVQZXJpb2QgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBlbnF1ZXVlRGVib3VuY2VyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmx1c2guanMnO1xuXG5pbXBvcnQgeyB1c2FnZVN0YXRpc3RpY3MgfSBmcm9tICdAdmFhZGluL3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzL3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzLmpzJztcbmlmICghd2luZG93LlZhYWRpbikge1xuICB3aW5kb3dbJ1ZhYWRpbiddID0ge307XG59XG5cbi8qKlxuICogQXJyYXkgb2YgVmFhZGluIGN1c3RvbSBlbGVtZW50IGNsYXNzZXMgdGhhdCBoYXZlIGJlZW4gZmluYWxpemVkLlxuICovXG53aW5kb3dbJ1ZhYWRpbiddLnJlZ2lzdHJhdGlvbnMgPSB3aW5kb3cuVmFhZGluLnJlZ2lzdHJhdGlvbnMgfHwgW107XG5cbi8vIFVzZSB0aGUgaGFjayB0byBwcmV2ZW50IHBvbHltZXItbW9kdWxpemVyIGZyb20gY29udmVydGluZyB0byBleHBvcnRzXG53aW5kb3dbJ1ZhYWRpbiddLmRldmVsb3BtZW50TW9kZUNhbGxiYWNrID0gd2luZG93LlZhYWRpbi5kZXZlbG9wbWVudE1vZGVDYWxsYmFjayB8fCB7fTtcbndpbmRvd1snVmFhZGluJ10uZGV2ZWxvcG1lbnRNb2RlQ2FsbGJhY2tbJ3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzJ10gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHVzYWdlU3RhdGlzdGljcykge1xuICAgIHVzYWdlU3RhdGlzdGljcygpO1xuICB9XG59O1xuXG5sZXQgc3RhdHNKb2I7XG5cbmNvbnN0IHJlZ2lzdGVyZWQgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgRWxlbWVudE1peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBWYWFkaW5FbGVtZW50TWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIHN1cGVyLmZpbmFsaXplKCk7XG5cbiAgICBjb25zdCB7aXN9ID0gdGhpcztcblxuICAgIC8vIFJlZ2lzdGVycyBhIGNsYXNzIHByb3RvdHlwZSBmb3IgdGVsZW1ldHJ5IHB1cnBvc2VzLlxuICAgIGlmIChpcyAmJiAhcmVnaXN0ZXJlZC5oYXMoaXMpKSB7XG4gICAgICB3aW5kb3cuVmFhZGluLnJlZ2lzdHJhdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgIHJlZ2lzdGVyZWQuYWRkKGlzKTtcblxuICAgICAgaWYgKHdpbmRvdy5WYWFkaW4uZGV2ZWxvcG1lbnRNb2RlQ2FsbGJhY2spIHtcbiAgICAgICAgc3RhdHNKb2IgPSBEZWJvdW5jZXIuZGVib3VuY2Uoc3RhdHNKb2IsXG4gICAgICAgICAgaWRsZVBlcmlvZCwgKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LlZhYWRpbi5kZXZlbG9wbWVudE1vZGVDYWxsYmFja1sndmFhZGluLXVzYWdlLXN0YXRpc3RpY3MnXSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgZW5xdWV1ZURlYm91bmNlcihzdGF0c0pvYik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKGRvY3VtZW50LmRvY3R5cGUgPT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ1ZhYWRpbiBjb21wb25lbnRzIHJlcXVpcmUgdGhlIFwic3RhbmRhcmRzIG1vZGVcIiBkZWNsYXJhdGlvbi4gUGxlYXNlIGFkZCA8IURPQ1RZUEUgaHRtbD4gdG8gdGhlIEhUTUwgZG9jdW1lbnQuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzJztcblxuaW1wb3J0IHsgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzJztcbmltcG9ydCB7IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbGF0dGVuZWQtbm9kZXMtb2JzZXJ2ZXIuanMnO1xuaW1wb3J0IHsgSXJvblJlc2l6YWJsZUJlaGF2aW9yIH0gZnJvbSAnQHBvbHltZXIvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IuanMnO1xuaW1wb3J0IHsgVGhlbWFibGVNaXhpbiB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLXRoZW1hYmxlLW1peGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi5qcyc7XG5pbXBvcnQgeyBFbGVtZW50TWl4aW4gfSBmcm9tICdAdmFhZGluL3ZhYWRpbi1lbGVtZW50LW1peGluL3ZhYWRpbi1lbGVtZW50LW1peGluLmpzJztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5pbXBvcnQgeyBtaXhpbkJlaGF2aW9ycyB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9jbGFzcy5qcyc7XG4vKipcbiAqIGA8dmFhZGluLXNwbGl0LWxheW91dD5gIGlzIGEgV2ViIENvbXBvbmVudCBpbXBsZW1lbnRpbmcgYSBzcGxpdCBsYXlvdXQgZm9yIHR3b1xuICogY29udGVudCBlbGVtZW50cyB3aXRoIGEgZHJhZ2dhYmxlIHNwbGl0dGVyIGJldHdlZW4gdGhlbS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8dmFhZGluLXNwbGl0LWxheW91dD5cbiAqICAgPGRpdj5GaXJzdCBjb250ZW50IGVsZW1lbnQ8L2Rpdj5cbiAqICAgPGRpdj5TZWNvbmQgY29udGVudCBlbGVtZW50PC9kaXY+XG4gKiA8L3ZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiBgYGBcbiAqXG4gKiAjIyMgSG9yaXpvbnRhbCBhbmQgVmVydGljYWwgTGF5b3V0c1xuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBzcGxpdCdzIG9yaWVudGF0aW9uIGlzIGhvcml6b250YWwsIG1lYW5pbmcgdGhhdCB0aGUgY29udGVudCBlbGVtZW50cyBhcmVcbiAqIHBvc2l0aW9uZWQgc2lkZSBieSBzaWRlIGluIGEgZmxleCBjb250YWluZXIgd2l0aCBhIGhvcml6b250YWwgbGF5b3V0LlxuICpcbiAqIFlvdSBjYW4gY2hhbmdlIHRoZSBzcGxpdCBtb2RlIHRvIHZlcnRpY2FsIGJ5IHNldHRpbmcgdGhlIGBvcmllbnRhdGlvbmAgYXR0cmlidXRlIHRvIGBcInZlcnRpY2FsXCJgOlxuICpcbiAqIGBgYGh0bWxcbiAqIDx2YWFkaW4tc3BsaXQtbGF5b3V0IG9yaWVudGF0aW9uPVwidmVydGljYWxcIj5cbiAqICAgPGRpdj5Db250ZW50IG9uIHRoZSB0b3A8L2Rpdj5cbiAqICAgPGRpdj5Db250ZW50IG9uIHRoZSBib3R0b208L2Rpdj5cbiAqIDwvdmFhZGluLXNwbGl0LWxheW91dD5cbiAqIGBgYFxuICpcbiAqICMjIyBMYXlvdXRzIENvbWJpbmF0aW9uXG4gKlxuICogRm9yIHRoZSBsYXlvdXQgY29udGVudHMsIHdlIHVzdWFsbHkgdXNlIGA8ZGl2PmAgZWxlbWVudHMgaW4gdGhlIGV4YW1wbGVzLFxuICogYWx0aG91Z2ggeW91IGNhbiB1c2UgYW55IG90aGVyIGVsZW1lbnRzIGFzIHdlbGwuXG4gKlxuICogRm9yIGluc3RhbmNlLCBpbiBvcmRlciB0byBoYXZlIGEgbmVzdGVkIHZlcnRpY2FsIHNwbGl0IGxheW91dCBpbnNpZGUgYVxuICogaG9yaXpvbnRhbCBvbmUsIHlvdSBjYW4gaW5jbHVkZSBgPHZhYWRpbi1zcGxpdC1sYXlvdXQ+YCBhcyBhIGNvbnRlbnQgZWxlbWVudFxuICogaW5zaWRlIGFub3RoZXIgc3BsaXQgbGF5b3V0OlxuICpcbiAqIGBgYGh0bWxcbiAqIDx2YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogICA8ZGl2PkZpcnN0IGNvbnRlbnQgZWxlbWVudDwvZGl2PlxuICogICA8dmFhZGluLXNwbGl0LWxheW91dCBvcmllbnRhdGlvbj1cInZlcnRpY2FsXCI+XG4gKiAgICAgPGRpdj5TZWNvbmQgY29udGVudCBlbGVtZW50PC9kaXY+XG4gKiAgICAgPGRpdj5UaGlyZCBjb250ZW50IGVsZW1lbnQ8L2Rpdj5cbiAqICAgPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogYGBgXG4gKlxuICogWW91IGNhbiBhbHNvIHRyaWdnZXIgdGhlIHZlcnRpY2FsIG1vZGUgaW4gSmF2YVNjcmlwdCBieSBzZXR0aW5nIHRoZSBwcm9wZXJ0eTpcbiAqIGBzcGxpdExheW91dC5vcmllbnRhdGlvbiA9IFwidmVydGljYWxcIjtgLlxuICpcbiAqICMjIyBTcGxpdCBMYXlvdXQgRWxlbWVudCBIZWlnaHRcbiAqXG4gKiBgPHZhYWRpbi1zcGxpdC1sYXlvdXQ+YCBlbGVtZW50IGl0c2VsZiBpcyBhIGZsZXggY29udGFpbmVyLiBJdCBkb2VzIG5vdCBpbmhlcml0XG4gKiB0aGUgcGFyZW50IGhlaWdodCBieSBkZWZhdWx0LCBidXQgcmF0aGVyIHNldHMgaXRzIGhlaWdodCBkZXBlbmRpbmcgb24gdGhlXG4gKiBjb250ZW50LlxuICpcbiAqIFlvdSBjYW4gdXNlIENTUyB0byBzZXQgdGhlIGZpeGVkIGhlaWdodCBmb3IgdGhlIHNwbGl0IGxheW91dCwgYXMgdXN1YWwgd2l0aCBhbnlcbiAqIGJsb2NrIGVsZW1lbnQ6XG4gKlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1zcGxpdC1sYXlvdXQgc3R5bGU9XCJoZWlnaHQ6IDIwMHB4O1wiPlxuICogICA8ZGl2PkZpcnN0IGNvbnRlbnQgZWxlbWVudDwvZGl2PlxuICogICA8ZGl2PlNlY29uZCBjb250ZW50IGVsZW1lbnQ8L2Rpdj5cbiAqIDwvdmFhZGluLXNwbGl0LWxheW91dD5cbiAqIGBgYFxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGRlZmluZSBwZXJjZW50YWdlIGhlaWdodCBhcyB3ZWxsLiBOb3RlIHRoYXQgeW91IGhhdmUgdG8gc2V0XG4gKiB0aGUgcGFyZW50IGhlaWdodCBpbiBvcmRlciB0byBtYWtlIHBlcmNlbnRhZ2VzIHdvcmsgY29ycmVjdGx5LiBJbiB0aGUgZm9sbG93aW5nXG4gKiBleGFtcGxlLCB0aGUgYDxib2R5PmAgaXMgcmVzaXplZCB0byBmaWxsIHRoZSBlbnRpcmUgdmlld3BvcnQsIGFuZCB0aGVcbiAqIGA8dmFhZGluLXNwbGl0LWxheW91dD5gIGVsZW1lbnQgaXMgc2V0IHRvIHRha2UgMTAwJSBoZWlnaHQgb2YgdGhlIGA8Ym9keT5gOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxib2R5IHN0eWxlPVwiaGVpZ2h0OiAxMDB2aDsgbWFyZ2luOiAwO1wiPlxuICogICA8dmFhZGluLXNwbGl0LWxheW91dCBzdHlsZT1cImhlaWdodDogMTAwJTtcIj5cbiAqICAgICA8ZGl2PkZpcnN0PC9kaXY+XG4gKiAgICAgPGRpdj5TZWNvbmQ8L2Rpdj5cbiAqICAgPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogPC9ib2R5PlxuICogYGBgXG4gKlxuICogQWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgYSBmbGV4Ym94IGxheW91dCB0byBtYWtlIGA8dmFhZGluLXNwbGl0LWxheW91dD5gXG4gKiBmaWxsIHVwIHRoZSBwYXJlbnQ6XG4gKlxuICogYGBgaHRtbFxuICogPGJvZHkgc3R5bGU9XCJoZWlnaHQ6IDEwMHZoOyBtYXJnaW46IDA7IGRpc3BsYXk6IGZsZXg7XCI+XG4gKiAgIDx2YWFkaW4tc3BsaXQtbGF5b3V0IHN0eWxlPVwiZmxleDogMTtcIj5cbiAqICAgICA8ZGl2PkZpcnN0PC9kaXY+XG4gKiAgICAgPGRpdj5TZWNvbmQ8L2Rpdj5cbiAqICAgPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogPC9ib2R5PlxuICogYGBgXG4gKlxuICogIyMjIEluaXRpYWwgU3BsaXR0ZXIgUG9zaXRpb25cbiAqXG4gKiBUaGUgaW5pdGlhbCBzcGxpdHRlciBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIGZyb20gdGhlIHNpemVzIG9mIHRoZSBjb250ZW50IGVsZW1lbnRzXG4gKiBpbnNpZGUgdGhlIHNwbGl0IGxheW91dC4gVGhlcmVmb3JlLCBjaGFuZ2luZyBgd2lkdGhgIG9uIHRoZSBjb250ZW50IGVsZW1lbnRzXG4gKiBhZmZlY3RzIHRoZSBpbml0aWFsIHNwbGl0dGVyIHBvc2l0aW9uIGZvciB0aGUgaG9yaXpvbnRhbCBsYXlvdXRzLCB3aGlsZSBgaGVpZ2h0YFxuICogYWZmZWN0cyB0aGUgdmVydGljYWwgb25lcy5cbiAqXG4gKiBOb3RlIHRoYXQgd2hlbiB0aGUgdG90YWwgc2l6ZSBvZiB0aGUgY29udGVudCBlbGVtZW50cyBkb2VzIG5vdCBmaXQgdGhlIGxheW91dCxcbiAqIHRoZSBjb250ZW50IGVsZW1lbnRzIGFyZSBzY2FsZWQgcHJvcG9ydGlvbmFsbHkuXG4gKlxuICogV2hlbiBzZXR0aW5nIGluaXRpYWwgc2l6ZXMgd2l0aCByZWxhdGl2ZSB1bml0cywgc3VjaCBhcyBwZXJjZW50YWdlcywgaXQgaXNcbiAqIHJlY29tbWVuZGVkIHRvIGFzc2lnbiB0aGUgc2l6ZSBmb3IgYm90aCBjb250ZW50IGVsZW1lbnRzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDx2YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogICA8ZGl2IHN0eWxlPVwid2lkdGg6IDc1JTtcIj5UaHJlZSBmb3VydGhzPC9kaXY+XG4gKiAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogMjUlO1wiPk9uZSBmb3VydGg8L2Rpdj5cbiAqIDwvdmFhZGluLXNwbGl0LWxheW91dD5cbiAqIGBgYFxuICpcbiAqICMjIyBTaXplIExpbWl0c1xuICpcbiAqIFRoZSBgbWluLXdpZHRoYC9gbWluLWhlaWdodGAsIGFuZCBgbWF4LXdpZHRoYC9gbWF4LWhlaWdodGAgQ1NTIHNpemUgdmFsdWVzXG4gKiBmb3IgdGhlIGNvbnRlbnQgZWxlbWVudHMgYXJlIHJlc3BlY3RlZCBhbmQgdXNlZCB0byBsaW1pdCB0aGUgc3BsaXR0ZXIgcG9zaXRpb25cbiAqIHdoZW4gaXQgaXMgZHJhZ2dlZC5cbiAqXG4gKiBJdCBpcyBwcmVmZXJyZWQgdG8gc2V0IHRoZSBsaW1pdHMgb25seSBmb3IgYSBzaW5nbGUgY29udGVudCBlbGVtZW50LCBpbiBvcmRlclxuICogdG8gYXZvaWQgc2l6ZSBjb25mbGljdHM6XG4gKlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiAgIDxkaXYgc3R5bGU9XCJtaW4td2lkdGg6IDUwcHg7IG1heC13aWR0aDogMTUwcHg7XCI+Rmlyc3Q8L2Rpdj5cbiAqICAgPGRpdj5TZWNvbmQ8L2Rpdj5cbiAqIDwvdmFhZGluLXNwbGl0LWxheW91dD5cbiAqIGBgYFxuICpcbiAqICMjIyBSZXNpemUgTm90aWZpY2F0aW9uXG4gKlxuICogVGhpcyBlbGVtZW50IGltcGxlbWVudHMgYElyb25SZXNpemFibGVCZWhhdmlvcmAgdG8gbm90aWZ5IHRoZSBuZXN0ZWQgcmVzaXphYmxlc1xuICogd2hlbiB0aGUgc3BsaXR0ZXIgaXMgZHJhZ2dlZC4gSW4gb3JkZXIgdG8gZGVmaW5lIGEgcmVzaXphYmxlIGFuZCByZWNlaXZlIHRoYXRcbiAqIG5vdGlmaWNhdGlvbiBpbiBhIG5lc3RlZCBlbGVtZW50LCBpbmNsdWRlIGBJcm9uUmVzaXphYmxlQmVoYXZpb3JgIGFuZCBsaXN0ZW5cbiAqIGZvciB0aGUgYGlyb24tcmVzaXplYCBldmVudC5cbiAqXG4gKiAjIyMgU3R5bGluZ1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgc2hhZG93IERPTSBwYXJ0cyBhcmUgYXZhaWxhYmxlIGZvciBzdHlsaW5nOlxuICpcbiAqIFBhcnQgbmFtZSB8IERlc2NyaXB0aW9uIHwgVGhlbWUgZm9yIEVsZW1lbnRcbiAqIC0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tXG4gKiBgc3BsaXR0ZXJgIHwgU3BsaXQgZWxlbWVudCB8IHZhYWRpbi1zcGxpdC1sYXlvdXRcbiAqIGBoYW5kbGVgIHwgVGhlIGhhbmRsZSBvZiB0aGUgc3BsaXR0ZXIgfCB2YWFkaW4tc3BsaXQtbGF5b3V0XG4gKlxuICogU2VlIFtUaGVtYWJsZU1peGluIOKAkyBob3cgdG8gYXBwbHkgc3R5bGVzIGZvciBzaGFkb3cgcGFydHNdKGh0dHBzOi8vZ2l0aHViLmNvbS92YWFkaW4vdmFhZGluLXRoZW1hYmxlLW1peGluL3dpa2kpXG4gKlxuICogQG1lbWJlcm9mIFZhYWRpblxuICogQG1peGVzIFZhYWRpbi5UaGVtYWJsZU1peGluXG4gKiBAbWl4ZXMgUG9seW1lci5HZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBkZW1vIGRlbW8vaW5kZXguaHRtbFxuICovXG5jbGFzcyBTcGxpdExheW91dEVsZW1lbnQgZXh0ZW5kc1xuICBFbGVtZW50TWl4aW4oXG4gICAgVGhlbWFibGVNaXhpbihcbiAgICAgIEdlc3R1cmVFdmVudExpc3RlbmVycyhcbiAgICAgICAgbWl4aW5CZWhhdmlvcnMoW0lyb25SZXNpemFibGVCZWhhdmlvcl0sIFBvbHltZXJFbGVtZW50KSkpKSB7XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2hpZGRlbl0pIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXSkge1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgfVxuXG4gICAgICA6aG9zdCA6OnNsb3R0ZWQoKikge1xuICAgICAgICBmbGV4OiAxIDEgYXV0bztcbiAgICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJzcGxpdHRlclwiXSB7XG4gICAgICAgIGZsZXg6IG5vbmU7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICAgIG1pbi13aWR0aDogOHB4O1xuICAgICAgICBtaW4taGVpZ2h0OiA4cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KDpub3QoW29yaWVudGF0aW9uPVwidmVydGljYWxcIl0pKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl0ge1xuICAgICAgICBjdXJzb3I6IGV3LXJlc2l6ZTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW29yaWVudGF0aW9uPVwidmVydGljYWxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXSB7XG4gICAgICAgIGN1cnNvcjogbnMtcmVzaXplO1xuICAgICAgfVxuXG4gICAgICBbcGFydD1cImhhbmRsZVwiXSB7XG4gICAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtNTAlLCAtNTAlLCAwKTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxzbG90IGlkPVwicHJpbWFyeVwiIG5hbWU9XCJwcmltYXJ5XCI+PC9zbG90PlxuICAgIDxkaXYgcGFydD1cInNwbGl0dGVyXCIgaWQ9XCJzcGxpdHRlclwiIG9uLXRyYWNrPVwiX29uSGFuZGxlVHJhY2tcIiBvbi1kb3duPVwiX3NldFBvaW50ZXJFdmVudHNOb25lXCIgb24tdXA9XCJfcmVzdG9yZVBvaW50ZXJFdmVudHNcIj5cbiAgICAgIDxkaXYgcGFydD1cImhhbmRsZVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxzbG90IGlkPVwic2Vjb25kYXJ5XCIgbmFtZT1cInNlY29uZGFyeVwiPjwvc2xvdD5cblxuICAgIDxkaXYgaGlkZGVuPVwiXCI+XG4gICAgICA8IS0tIFdvcmthcm91bmQgdG8gZml4IGEgU2hhZHkgc3R5bGUgc2NvcGluZyBpc3N1ZSBjYXVzZWQgYnkgZHluYW1pYyBzbG90IG5hbWluZyBvZiB0aGUgY2hpbGQgZWxlbWVudHMgKHByaW1hcnkvc2Vjb25kYXJ5KSAtLT5cbiAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICA8L2Rpdj5cbmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlzKCkge1xuICAgIHJldHVybiAndmFhZGluLXNwbGl0LWxheW91dCc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG4gICAgcmV0dXJuICc0LjEuMSc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIHNwbGl0IGxheW91dCdzIG9yaWVudGF0aW9uLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOiBgaG9yaXpvbnRhbHx2ZXJ0aWNhbGAuXG4gICAgICAgKi9cbiAgICAgIG9yaWVudGF0aW9uOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogJ2hvcml6b250YWwnXG4gICAgICB9LFxuXG4gICAgICBfcHJldmlvdXNQcmltYXJ5UG9pbnRlckV2ZW50czogU3RyaW5nLFxuICAgICAgX3ByZXZpb3VzU2Vjb25kYXJ5UG9pbnRlckV2ZW50czogU3RyaW5nXG4gICAgfTtcbiAgfVxuXG4gIHJlYWR5KCkge1xuICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgbmV3IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIodGhpcywgdGhpcy5fcHJvY2Vzc0NoaWxkcmVuKTtcbiAgfVxuXG4gIF9wcm9jZXNzQ2hpbGRyZW4oKSB7XG4gICAgdGhpcy5nZXRFZmZlY3RpdmVDaGlsZHJlbigpLmZvckVhY2goKGNoaWxkLCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICB0aGlzLl9wcmltYXJ5Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzbG90JywgJ3ByaW1hcnknKTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSAxKSB7XG4gICAgICAgIHRoaXMuX3NlY29uZGFyeUNoaWxkID0gY2hpbGQ7XG4gICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc2xvdCcsICdzZWNvbmRhcnknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLnJlbW92ZUF0dHJpYnV0ZSgnc2xvdCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3NldEZsZXhCYXNpcyhlbGVtZW50LCBmbGV4QmFzaXMsIGNvbnRhaW5lclNpemUpIHtcbiAgICBmbGV4QmFzaXMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihmbGV4QmFzaXMsIGNvbnRhaW5lclNpemUpKTtcbiAgICBpZiAoZmxleEJhc2lzID09PSAwKSB7XG4gICAgICAvLyBQdXJlIHplcm8gZG9lcyBub3QgcGxheSB3ZWxsIGluIFNhZmFyaVxuICAgICAgZmxleEJhc2lzID0gMC4wMDAwMDE7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGUuZmxleCA9ICcxIDEgJyArIGZsZXhCYXNpcyArICdweCc7XG4gIH1cblxuICBfc2V0UG9pbnRlckV2ZW50c05vbmUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuX3ByaW1hcnlDaGlsZCB8fCAhdGhpcy5fc2Vjb25kYXJ5Q2hpbGQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcHJldmlvdXNQcmltYXJ5UG9pbnRlckV2ZW50cyA9IHRoaXMuX3ByaW1hcnlDaGlsZC5zdHlsZS5wb2ludGVyRXZlbnRzO1xuICAgIHRoaXMuX3ByZXZpb3VzU2Vjb25kYXJ5UG9pbnRlckV2ZW50cyA9IHRoaXMuX3NlY29uZGFyeUNoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHM7XG4gICAgdGhpcy5fcHJpbWFyeUNoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgdGhpcy5fc2Vjb25kYXJ5Q2hpbGQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBfcmVzdG9yZVBvaW50ZXJFdmVudHMoKSB7XG4gICAgaWYgKCF0aGlzLl9wcmltYXJ5Q2hpbGQgfHwgIXRoaXMuX3NlY29uZGFyeUNoaWxkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ByaW1hcnlDaGlsZC5zdHlsZS5wb2ludGVyRXZlbnRzID0gdGhpcy5fcHJldmlvdXNQcmltYXJ5UG9pbnRlckV2ZW50cztcbiAgICB0aGlzLl9zZWNvbmRhcnlDaGlsZC5zdHlsZS5wb2ludGVyRXZlbnRzID0gdGhpcy5fcHJldmlvdXNTZWNvbmRhcnlQb2ludGVyRXZlbnRzO1xuICB9XG5cbiAgX29uSGFuZGxlVHJhY2soZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuX3ByaW1hcnlDaGlsZCB8fCAhdGhpcy5fc2Vjb25kYXJ5Q2hpbGQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2l6ZSA9IHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgaWYgKGV2ZW50LmRldGFpbC5zdGF0ZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy5fc3RhcnRTaXplID0ge1xuICAgICAgICBjb250YWluZXI6IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbc2l6ZV0gLSB0aGlzLiQuc3BsaXR0ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbc2l6ZV0sXG4gICAgICAgIHByaW1hcnk6IHRoaXMuX3ByaW1hcnlDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaXplXSxcbiAgICAgICAgc2Vjb25kYXJ5OiB0aGlzLl9zZWNvbmRhcnlDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaXplXVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkaXN0YW5jZSA9IHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcgPyBldmVudC5kZXRhaWwuZHkgOiBldmVudC5kZXRhaWwuZHg7XG4gICAgdGhpcy5fc2V0RmxleEJhc2lzKHRoaXMuX3ByaW1hcnlDaGlsZCwgdGhpcy5fc3RhcnRTaXplLnByaW1hcnkgKyBkaXN0YW5jZSwgdGhpcy5fc3RhcnRTaXplLmNvbnRhaW5lcik7XG4gICAgdGhpcy5fc2V0RmxleEJhc2lzKHRoaXMuX3NlY29uZGFyeUNoaWxkLCB0aGlzLl9zdGFydFNpemUuc2Vjb25kYXJ5IC0gZGlzdGFuY2UsIHRoaXMuX3N0YXJ0U2l6ZS5jb250YWluZXIpO1xuXG4gICAgdGhpcy5ub3RpZnlSZXNpemUoKTtcblxuICAgIGlmIChldmVudC5kZXRhaWwuc3RhdGUgPT09ICdlbmQnKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzcGxpdHRlci1kcmFnZW5kJykpO1xuXG4gICAgICBkZWxldGUgdGhpcy5fc3RhcnRTaXplO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBzcGxpdHRlciBpcyBkcmFnZ2VkLiBOb24tYnViYmxpbmcuIEZpcmVkIGZvciB0aGUgc3BsaXR0ZXJcbiAgICogZWxlbWVudCBhbmQgYW55IG5lc3RlZCBlbGVtZW50cyB3aXRoIGBJcm9uUmVzaXphYmxlQmVoYXZpb3JgLlxuICAgKlxuICAgKiBAZXZlbnQgaXJvbi1yZXNpemVcbiAgICovXG5cbiAgLyoqXG4gICAqIEZpcmVkIGFmdGVyIGRyYWdnaW5nIHRoZSBzcGxpdHRlciBoYXZlIGVuZGVkLlxuICAgKlxuICAgKiBAZXZlbnQgc3BsaXR0ZXItZHJhZ2VuZFxuICAgKi9cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFNwbGl0TGF5b3V0RWxlbWVudC5pcywgU3BsaXRMYXlvdXRFbGVtZW50KTtcblxuZXhwb3J0IHsgU3BsaXRMYXlvdXRFbGVtZW50IH07XG4iLCJcclxuXHJcbmNvbnN0IHtcclxuICBTdGl0Y2gsXHJcbiAgUmVtb3RlTW9uZ29DbGllbnQsXHJcbiAgQW5vbnltb3VzQ3JlZGVudGlhbFxyXG59ID0gcmVxdWlyZSgnbW9uZ29kYi1zdGl0Y2gtYnJvd3Nlci1zZGsnKTtcclxuXHJcbmV4cG9ydCB2YXIgZ2xvYmFsQURkYXRhID0gbnVsbDtcclxuXHJcblxyXG52YXIgY2xpZW50REIgPSBTdGl0Y2guaW5pdGlhbGl6ZURlZmF1bHRBcHBDbGllbnQoJ2FudGlkZWN1Yml0dXMtdWljcXMnKTtcclxuXHJcbi8vYWNjZXNzRGJfZmlsbEFERGF0YShcIjBBOkUwOkYyXCIse3RpbWU6IDEyMywgcG9zOiA2NX0pO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFjY2Vzc0RiX2ZpbGxBRERhdGEobWFjQWRkcmVzcyxsb2cpIHtcclxuXHJcbiAgXHJcbiAgLy8gdG9kbzogYWxzbyBvbmx5IHVzZSAxIGFub255bW91cyB1c2VyIHBlciBzZXNzaW9uXHJcbiAgY2xpZW50REIuYXV0aC5sb2dpbldpdGhDcmVkZW50aWFsKG5ldyBBbm9ueW1vdXNDcmVkZW50aWFsKCkpLnRoZW4oXHJcblxyXG4gIGNsaWVudERCLmNhbGxGdW5jdGlvbihcIkFkZExvZ1wiLFttYWNBZGRyZXNzLGxvZ10pLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdCkgLy8gT3V0cHV0OiBxdWVyeSByZXN1bHQgZnJvbSBzdGl0Y2ggc2VydmVyIGZ1bmN0aW9uXHJcbiAgICBpZiAocmVzdWx0LnJlcy5wb3NpdGlvbl9sb2cucG9zICE9IGxvZy5wb3MpXHJcbiAgICB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiRGIgZXJyb3IgOlwiICsgbWFjQWRkcmVzcyArIFwiIGxvZyA6IFwiICsgbG9nKS8vYWxlcnQoXCJEYXRhQmFzZSBlcnJvcjpcIik7XHJcbiAgICB9XHJcblxyXG4gIH0pKTtcclxuXHJcbiBcclxuICBcclxuXHJcbn1cclxuXHJcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmNvbnN0IGRpcmVjdGl2ZXMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBCcmFuZHMgYSBmdW5jdGlvbiBhcyBhIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uIHNvIHRoYXQgbGl0LWh0bWwgd2lsbCBjYWxsXG4gKiB0aGUgZnVuY3Rpb24gZHVyaW5nIHRlbXBsYXRlIHJlbmRlcmluZywgcmF0aGVyIHRoYW4gcGFzc2luZyBhcyBhIHZhbHVlLlxuICpcbiAqIEEgX2RpcmVjdGl2ZV8gaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgUGFydCBhcyBhbiBhcmd1bWVudC4gSXQgaGFzIHRoZVxuICogc2lnbmF0dXJlOiBgKHBhcnQ6IFBhcnQpID0+IHZvaWRgLlxuICpcbiAqIEEgZGlyZWN0aXZlIF9mYWN0b3J5XyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYXJndW1lbnRzIGZvciBkYXRhIGFuZFxuICogY29uZmlndXJhdGlvbiBhbmQgcmV0dXJucyBhIGRpcmVjdGl2ZS4gVXNlcnMgb2YgZGlyZWN0aXZlIHVzdWFsbHkgcmVmZXIgdG9cbiAqIHRoZSBkaXJlY3RpdmUgZmFjdG9yeSBhcyB0aGUgZGlyZWN0aXZlLiBGb3IgZXhhbXBsZSwgXCJUaGUgcmVwZWF0IGRpcmVjdGl2ZVwiLlxuICpcbiAqIFVzdWFsbHkgYSB0ZW1wbGF0ZSBhdXRob3Igd2lsbCBpbnZva2UgYSBkaXJlY3RpdmUgZmFjdG9yeSBpbiB0aGVpciB0ZW1wbGF0ZVxuICogd2l0aCByZWxldmFudCBhcmd1bWVudHMsIHdoaWNoIHdpbGwgdGhlbiByZXR1cm4gYSBkaXJlY3RpdmUgZnVuY3Rpb24uXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgb2YgdXNpbmcgdGhlIGByZXBlYXQoKWAgZGlyZWN0aXZlIGZhY3RvcnkgdGhhdCB0YWtlcyBhblxuICogYXJyYXkgYW5kIGEgZnVuY3Rpb24gdG8gcmVuZGVyIGFuIGl0ZW06XG4gKlxuICogYGBganNcbiAqIGh0bWxgPHVsPjwke3JlcGVhdChpdGVtcywgKGl0ZW0pID0+IGh0bWxgPGxpPiR7aXRlbX08L2xpPmApfTwvdWw+YFxuICogYGBgXG4gKlxuICogV2hlbiBgcmVwZWF0YCBpcyBpbnZva2VkLCBpdCByZXR1cm5zIGEgZGlyZWN0aXZlIGZ1bmN0aW9uIHRoYXQgY2xvc2VzIG92ZXJcbiAqIGBpdGVtc2AgYW5kIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbi4gV2hlbiB0aGUgb3V0ZXIgdGVtcGxhdGUgaXMgcmVuZGVyZWQsIHRoZVxuICogcmV0dXJuIGRpcmVjdGl2ZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgUGFydCBmb3IgdGhlIGV4cHJlc3Npb24uXG4gKiBgcmVwZWF0YCB0aGVuIHBlcmZvcm1zIGl0J3MgY3VzdG9tIGxvZ2ljIHRvIHJlbmRlciBtdWx0aXBsZSBpdGVtcy5cbiAqXG4gKiBAcGFyYW0gZiBUaGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24uIE11c3QgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYVxuICogZnVuY3Rpb24gb2YgdGhlIHNpZ25hdHVyZSBgKHBhcnQ6IFBhcnQpID0+IHZvaWRgLiBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gd2lsbFxuICogYmUgY2FsbGVkIHdpdGggdGhlIHBhcnQgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IHtkaXJlY3RpdmUsIGh0bWx9IGZyb20gJ2xpdC1odG1sJztcbiAqXG4gKiBjb25zdCBpbW11dGFibGUgPSBkaXJlY3RpdmUoKHYpID0+IChwYXJ0KSA9PiB7XG4gKiAgIGlmIChwYXJ0LnZhbHVlICE9PSB2KSB7XG4gKiAgICAgcGFydC5zZXRWYWx1ZSh2KVxuICogICB9XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGNvbnN0IGRpcmVjdGl2ZSA9IChmKSA9PiAoKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBkID0gZiguLi5hcmdzKTtcbiAgICBkaXJlY3RpdmVzLnNldChkLCB0cnVlKTtcbiAgICByZXR1cm4gZDtcbn0pO1xuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlID0gKG8pID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdmdW5jdGlvbicgJiYgZGlyZWN0aXZlcy5oYXMobyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogVHJ1ZSBpZiB0aGUgY3VzdG9tIGVsZW1lbnRzIHBvbHlmaWxsIGlzIGluIHVzZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ0VQb2x5ZmlsbCA9IHdpbmRvdy5jdXN0b21FbGVtZW50cyAhPT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLnBvbHlmaWxsV3JhcEZsdXNoQ2FsbGJhY2sgIT09XG4gICAgICAgIHVuZGVmaW5lZDtcbi8qKlxuICogUmVwYXJlbnRzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksXG4gKiBpbnRvIGFub3RoZXIgY29udGFpbmVyIChjb3VsZCBiZSB0aGUgc2FtZSBjb250YWluZXIpLCBiZWZvcmUgYGJlZm9yZWAuIElmXG4gKiBgYmVmb3JlYCBpcyBudWxsLCBpdCBhcHBlbmRzIHRoZSBub2RlcyB0byB0aGUgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgcmVwYXJlbnROb2RlcyA9IChjb250YWluZXIsIHN0YXJ0LCBlbmQgPSBudWxsLCBiZWZvcmUgPSBudWxsKSA9PiB7XG4gICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmQpIHtcbiAgICAgICAgY29uc3QgbiA9IHN0YXJ0Lm5leHRTaWJsaW5nO1xuICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHN0YXJ0LCBiZWZvcmUpO1xuICAgICAgICBzdGFydCA9IG47XG4gICAgfVxufTtcbi8qKlxuICogUmVtb3ZlcyBub2Rlcywgc3RhcnRpbmcgZnJvbSBgc3RhcnRgIChpbmNsdXNpdmUpIHRvIGBlbmRgIChleGNsdXNpdmUpLCBmcm9tXG4gKiBgY29udGFpbmVyYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZU5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChzdGFydCk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IHt9O1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIE5vZGVQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHdpdGggZW1iZWRkZWQgdW5pcXVlIGtleSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aFxuICogcG9zc2libGUgdGV4dCBpbiB0ZW1wbGF0ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXJrZXIgPSBge3tsaXQtJHtTdHJpbmcoTWF0aC5yYW5kb20oKSkuc2xpY2UoMil9fX1gO1xuLyoqXG4gKiBBbiBleHByZXNzaW9uIG1hcmtlciB1c2VkIHRleHQtcG9zaXRpb25zLCBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZXMsIGFuZFxuICogYXR0cmlidXRlcyB3aXRoIG1hcmt1cC1saWtlIHRleHQgdmFsdWVzLlxuICovXG5leHBvcnQgY29uc3Qgbm9kZU1hcmtlciA9IGA8IS0tJHttYXJrZXJ9LS0+YDtcbmV4cG9ydCBjb25zdCBtYXJrZXJSZWdleCA9IG5ldyBSZWdFeHAoYCR7bWFya2VyfXwke25vZGVNYXJrZXJ9YCk7XG4vKipcbiAqIFN1ZmZpeCBhcHBlbmRlZCB0byBhbGwgYm91bmQgYXR0cmlidXRlIG5hbWVzLlxuICovXG5leHBvcnQgY29uc3QgYm91bmRBdHRyaWJ1dGVTdWZmaXggPSAnJGxpdCQnO1xuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIFRlbXBsYXRlIHRoYXQgdHJhY2tzIHRoZSBsb2NhdGlvbiBvZiBkeW5hbWljIHBhcnRzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKHJlc3VsdCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9SZW1vdmUgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWxlbWVudC5jb250ZW50LCAxMzMgLyogTm9kZUZpbHRlci5TSE9XX3tFTEVNRU5UfENPTU1FTlR8VEVYVH0gKi8sIG51bGwsIGZhbHNlKTtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIGxhc3QgaW5kZXggYXNzb2NpYXRlZCB3aXRoIGEgcGFydC4gV2UgdHJ5IHRvIGRlbGV0ZVxuICAgICAgICAvLyB1bm5lY2Vzc2FyeSBub2RlcywgYnV0IHdlIG5ldmVyIHdhbnQgdG8gYXNzb2NpYXRlIHR3byBkaWZmZXJlbnQgcGFydHNcbiAgICAgICAgLy8gdG8gdGhlIHNhbWUgaW5kZXguIFRoZXkgbXVzdCBoYXZlIGEgY29uc3RhbnQgbm9kZSBiZXR3ZWVuLlxuICAgICAgICBsZXQgbGFzdFBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpbmRleCA9IC0xO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgeyBzdHJpbmdzLCB2YWx1ZXM6IHsgbGVuZ3RoIH0gfSA9IHJlc3VsdDtcbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBleGhhdXN0ZWQgdGhlIGNvbnRlbnQgaW5zaWRlIGEgbmVzdGVkIHRlbXBsYXRlIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAvLyAtIFRoZSB3YWxrZXIgd2lsbCBmaW5kIGEgbmV4dE5vZGUgb3V0c2lkZSB0aGUgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSAvKiBOb2RlLkVMRU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYW1lZE5vZGVNYXAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZXMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGJlIHJldHVybmVkIGluIGRvY3VtZW50IG9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBFZGdlL0lFIGNhbiByZXR1cm4gdGhlbSBvdXQgb2Ygb3JkZXIsIHNvIHdlIGNhbm5vdFxuICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSBjb3JyZXNwb25kZW5jZSBiZXR3ZWVuIHBhcnQgaW5kZXggYW5kIGF0dHJpYnV0ZSBpbmRleC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZHNXaXRoKGF0dHJpYnV0ZXNbaV0ubmFtZSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY291bnQtLSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBzZWN0aW9uIGxlYWRpbmcgdXAgdG8gdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleHByZXNzaW9uIGluIHRoaXMgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdGb3JQYXJ0ID0gc3RyaW5nc1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgYXR0cmlidXRlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMoc3RyaW5nRm9yUGFydClbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGJvdW5kIGF0dHJpYnV0ZXMgaGF2ZSBoYWQgYSBzdWZmaXggYWRkZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbXBsYXRlUmVzdWx0I2dldEhUTUwgdG8gb3B0IG91dCBvZiBzcGVjaWFsIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxpbmcuIFRvIGxvb2sgdXAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSB3ZSBhbHNvIG5lZWQgdG8gYWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3VmZml4LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTG9va3VwTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKSArIGJvdW5kQXR0cmlidXRlU3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVMb29rdXBOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IGF0dHJpYnV0ZVZhbHVlLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdhdHRyaWJ1dGUnLCBpbmRleCwgbmFtZSwgc3RyaW5nczogc3RhdGljcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBzdGF0aWNzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1RFTVBMQVRFJykge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBub2RlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJpbmdzID0gZGF0YS5zcGxpdChtYXJrZXJSZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdGV4dCBub2RlIGZvciBlYWNoIGxpdGVyYWwgc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNlcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQgPSBjcmVhdGVNYXJrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAhPT0gbnVsbCAmJiBlbmRzV2l0aChtYXRjaFsyXSwgYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzLnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIG1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoWzJdLnNsaWNlKDAsIC1ib3VuZEF0dHJpYnV0ZVN1ZmZpeC5sZW5ndGgpICsgbWF0Y2hbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnNlcnQsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleDogKytpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHRleHQsIHdlIG11c3QgaW5zZXJ0IGEgY29tbWVudCB0byBtYXJrIG91ciBwbGFjZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHRydXN0IGl0IHdpbGwgc3RpY2sgYXJvdW5kIGFmdGVyIGNsb25pbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzW2xhc3RJbmRleF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9IHN0cmluZ3NbbGFzdEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgcGFydCBmb3IgZWFjaCBtYXRjaCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXggKz0gbGFzdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogTm9kZS5DT01NRU5UX05PREUgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5kYXRhID09PSBtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgbWFya2VyIG5vZGUgdG8gYmUgdGhlIHN0YXJ0Tm9kZSBvZiB0aGUgUGFydCBpZiBhbnkgb2ZcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgdHJ1ZTpcbiAgICAgICAgICAgICAgICAgICAgLy8gICogV2UgZG9uJ3QgaGF2ZSBhIHByZXZpb3VzU2libGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyAgKiBUaGUgcHJldmlvdXNTaWJsaW5nIGlzIGFscmVhZHkgdGhlIHN0YXJ0IG9mIGEgcHJldmlvdXMgcGFydFxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IG51bGwgfHwgaW5kZXggPT09IGxhc3RQYXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFydEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBuZXh0U2libGluZywga2VlcCB0aGlzIG5vZGUgc28gd2UgaGF2ZSBhbiBlbmQuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVsc2UsIHdlIGNhbiByZW1vdmUgaXQgdG8gc2F2ZSBmdXR1cmUgY29zdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmRhdGEgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzVG9SZW1vdmUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKGkgPSBub2RlLmRhdGEuaW5kZXhPZihtYXJrZXIsIGkgKyAxKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb21tZW50IG5vZGUgaGFzIGEgYmluZGluZyBtYXJrZXIgaW5zaWRlLCBtYWtlIGFuIGluYWN0aXZlIHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiaW5kaW5nIHdvbid0IHdvcmssIGJ1dCBzdWJzZXF1ZW50IGJpbmRpbmdzIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBjb25zaWRlciB3aGV0aGVyIGl0J3MgZXZlbiB3b3J0aCBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBiaW5kaW5ncyBpbiBjb21tZW50cyB3b3JrXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiAtMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0ZXh0IGJpbmRpbmcgbm9kZXMgYWZ0ZXIgdGhlIHdhbGsgdG8gbm90IGRpc3R1cmIgdGhlIFRyZWVXYWxrZXJcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIG5vZGVzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc3VmZml4KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aDtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBzdHIuc2xpY2UoaW5kZXgpID09PSBzdWZmaXg7XG59O1xuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGVQYXJ0QWN0aXZlID0gKHBhcnQpID0+IHBhcnQuaW5kZXggIT09IC0xO1xuLy8gQWxsb3dzIGBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKWAgdG8gYmUgcmVuYW1lZCBmb3IgYVxuLy8gc21hbGwgbWFudWFsIHNpemUtc2F2aW5ncy5cbmV4cG9ydCBjb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcbi8qKlxuICogVGhpcyByZWdleCBleHRyYWN0cyB0aGUgYXR0cmlidXRlIG5hbWUgcHJlY2VkaW5nIGFuIGF0dHJpYnV0ZS1wb3NpdGlvblxuICogZXhwcmVzc2lvbi4gSXQgZG9lcyB0aGlzIGJ5IG1hdGNoaW5nIHRoZSBzeW50YXggYWxsb3dlZCBmb3IgYXR0cmlidXRlc1xuICogYWdhaW5zdCB0aGUgc3RyaW5nIGxpdGVyYWwgZGlyZWN0bHkgcHJlY2VkaW5nIHRoZSBleHByZXNzaW9uLCBhc3N1bWluZyB0aGF0XG4gKiB0aGUgZXhwcmVzc2lvbiBpcyBpbiBhbiBhdHRyaWJ1dGUtdmFsdWUgcG9zaXRpb24uXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx4MDlcXHgwYVxceDBjXFx4MGRcIiBhcmUgSFRNTCBzcGFjZSBjaGFyYWN0ZXJzOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2luZnJhc3RydWN0dXJlLmh0bWwjc3BhY2UtY2hhcmFjdGVyc1xuICpcbiAqIFwiXFwwLVxceDFGXFx4N0YtXFx4OUZcIiBhcmUgVW5pY29kZSBjb250cm9sIGNoYXJhY3RlcnMsIHdoaWNoIGluY2x1ZGVzIGV2ZXJ5XG4gKiBzcGFjZSBjaGFyYWN0ZXIgZXhjZXB0IFwiIFwiLlxuICpcbiAqIFNvIGFuIGF0dHJpYnV0ZSBpczpcbiAqICAqIFRoZSBuYW1lOiBhbnkgY2hhcmFjdGVyIGV4Y2VwdCBhIGNvbnRyb2wgY2hhcmFjdGVyLCBzcGFjZSBjaGFyYWN0ZXIsICgnKSxcbiAqICAgIChcIiksIFwiPlwiLCBcIj1cIiwgb3IgXCIvXCJcbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmV4cG9ydCBjb25zdCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4ID0gLyhbIFxceDA5XFx4MGFcXHgwY1xceDBkXSkoW15cXDAtXFx4MUZcXHg3Ri1cXHg5RiBcIic+PS9dKykoWyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qPVsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKig/OlteIFxceDA5XFx4MGFcXHgwY1xceDBkXCInYDw+PV0qfFwiW15cIl0qfCdbXiddKikpJC87XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNDRVBvbHlmaWxsIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgYSBgVGVtcGxhdGVgIHRoYXQgY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBET00gYW5kIHVwZGF0ZWRcbiAqIHdpdGggbmV3IHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBwcm9jZXNzb3IsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fX3BhcnRzID0gW107XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHVwZGF0ZSh2YWx1ZXMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fX3BhcnRzKSB7XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcGFydC5zZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LmNvbW1pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIF9jbG9uZSgpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIGEgbnVtYmVyIG9mIHN0ZXBzIGluIHRoZSBsaWZlY3ljbGUgb2YgYSB0ZW1wbGF0ZSBpbnN0YW5jZSdzXG4gICAgICAgIC8vIERPTSBmcmFnbWVudDpcbiAgICAgICAgLy8gIDEuIENsb25lIC0gY3JlYXRlIHRoZSBpbnN0YW5jZSBmcmFnbWVudFxuICAgICAgICAvLyAgMi4gQWRvcHQgLSBhZG9wdCBpbnRvIHRoZSBtYWluIGRvY3VtZW50XG4gICAgICAgIC8vICAzLiBQcm9jZXNzIC0gZmluZCBwYXJ0IG1hcmtlcnMgYW5kIGNyZWF0ZSBwYXJ0c1xuICAgICAgICAvLyAgNC4gVXBncmFkZSAtIHVwZ3JhZGUgY3VzdG9tIGVsZW1lbnRzXG4gICAgICAgIC8vICA1LiBVcGRhdGUgLSBzZXQgbm9kZSwgYXR0cmlidXRlLCBwcm9wZXJ0eSwgZXRjLiwgdmFsdWVzXG4gICAgICAgIC8vICA2LiBDb25uZWN0IC0gY29ubmVjdCB0byB0aGUgZG9jdW1lbnQuIE9wdGlvbmFsIGFuZCBvdXRzaWRlIG9mIHRoaXNcbiAgICAgICAgLy8gICAgIG1ldGhvZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgaGF2ZSBhIGZldyBjb25zdHJhaW50cyBvbiB0aGUgb3JkZXJpbmcgb2YgdGhlc2Ugc3RlcHM6XG4gICAgICAgIC8vICAqIFdlIG5lZWQgdG8gdXBncmFkZSBiZWZvcmUgdXBkYXRpbmcsIHNvIHRoYXQgcHJvcGVydHkgdmFsdWVzIHdpbGwgcGFzc1xuICAgICAgICAvLyAgICB0aHJvdWdoIGFueSBwcm9wZXJ0eSBzZXR0ZXJzLlxuICAgICAgICAvLyAgKiBXZSB3b3VsZCBsaWtlIHRvIHByb2Nlc3MgYmVmb3JlIHVwZ3JhZGluZyBzbyB0aGF0IHdlJ3JlIHN1cmUgdGhhdCB0aGVcbiAgICAgICAgLy8gICAgY2xvbmVkIGZyYWdtZW50IGlzIGluZXJ0IGFuZCBub3QgZGlzdHVyYmVkIGJ5IHNlbGYtbW9kaWZ5aW5nIERPTS5cbiAgICAgICAgLy8gICogV2Ugd2FudCBjdXN0b20gZWxlbWVudHMgdG8gdXBncmFkZSBldmVuIGluIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEdpdmVuIHRoZXNlIGNvbnN0cmFpbnRzLCB3aXRoIGZ1bGwgY3VzdG9tIGVsZW1lbnRzIHN1cHBvcnQgd2Ugd291bGRcbiAgICAgICAgLy8gcHJlZmVyIHRoZSBvcmRlcjogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsIENvbm5lY3RcbiAgICAgICAgLy9cbiAgICAgICAgLy8gQnV0IFNhZmFyaSBkb29lcyBub3QgaW1wbGVtZW50IEN1c3RvbUVsZW1lbnRSZWdpc3RyeSN1cGdyYWRlLCBzbyB3ZVxuICAgICAgICAvLyBjYW4gbm90IGltcGxlbWVudCB0aGF0IG9yZGVyIGFuZCBzdGlsbCBoYXZlIHVwZ3JhZGUtYmVmb3JlLXVwZGF0ZSBhbmRcbiAgICAgICAgLy8gdXBncmFkZSBkaXNjb25uZWN0ZWQgZnJhZ21lbnRzLiBTbyB3ZSBpbnN0ZWFkIHNhY3JpZmljZSB0aGVcbiAgICAgICAgLy8gcHJvY2Vzcy1iZWZvcmUtdXBncmFkZSBjb25zdHJhaW50LCBzaW5jZSBpbiBDdXN0b20gRWxlbWVudHMgdjEgZWxlbWVudHNcbiAgICAgICAgLy8gbXVzdCBub3QgbW9kaWZ5IHRoZWlyIGxpZ2h0IERPTSBpbiB0aGUgY29uc3RydWN0b3IuIFdlIHN0aWxsIGhhdmUgaXNzdWVzXG4gICAgICAgIC8vIHdoZW4gY28tZXhpc3Rpbmcgd2l0aCBDRXYwIGVsZW1lbnRzIGxpa2UgUG9seW1lciAxLCBhbmQgd2l0aCBwb2x5ZmlsbHNcbiAgICAgICAgLy8gdGhhdCBkb24ndCBzdHJpY3RseSBhZGhlcmUgdG8gdGhlIG5vLW1vZGlmaWNhdGlvbiBydWxlIGJlY2F1c2Ugc2hhZG93XG4gICAgICAgIC8vIERPTSwgd2hpY2ggbWF5IGJlIGNyZWF0ZWQgaW4gdGhlIGNvbnN0cnVjdG9yLCBpcyBlbXVsYXRlZCBieSBiZWluZyBwbGFjZWRcbiAgICAgICAgLy8gaW4gdGhlIGxpZ2h0IERPTS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIHJlc3VsdGluZyBvcmRlciBpcyBvbiBuYXRpdmUgaXM6IENsb25lLCBBZG9wdCwgVXBncmFkZSwgUHJvY2VzcyxcbiAgICAgICAgLy8gVXBkYXRlLCBDb25uZWN0LiBkb2N1bWVudC5pbXBvcnROb2RlKCkgcGVyZm9ybXMgQ2xvbmUsIEFkb3B0LCBhbmQgVXBncmFkZVxuICAgICAgICAvLyBpbiBvbmUgc3RlcC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIEN1c3RvbSBFbGVtZW50cyB2MSBwb2x5ZmlsbCBzdXBwb3J0cyB1cGdyYWRlKCksIHNvIHRoZSBvcmRlciB3aGVuXG4gICAgICAgIC8vIHBvbHlmaWxsZWQgaXMgdGhlIG1vcmUgaWRlYWw6IENsb25lLCBQcm9jZXNzLCBBZG9wdCwgVXBncmFkZSwgVXBkYXRlLFxuICAgICAgICAvLyBDb25uZWN0LlxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGlzQ0VQb2x5ZmlsbCA/XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkgOlxuICAgICAgICAgICAgZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLnRlbXBsYXRlLmVsZW1lbnQuY29udGVudCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy50ZW1wbGF0ZS5wYXJ0cztcbiAgICAgICAgLy8gRWRnZSBuZWVkcyBhbGwgNCBwYXJhbWV0ZXJzIHByZXNlbnQ7IElFMTEgbmVlZHMgM3JkIHBhcmFtZXRlciB0byBiZSBudWxsXG4gICAgICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZnJhZ21lbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBwYXJ0O1xuICAgICAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBub2RlcyBhbmQgcGFydHMgb2YgYSB0ZW1wbGF0ZVxuICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgcGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIGlmICghaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHBhcnRJbmRleCsrO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUHJvZ3Jlc3MgdGhlIHRyZWUgd2Fsa2VyIHVudGlsIHdlIGZpbmQgb3VyIG5leHQgcGFydCdzIG5vZGUuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgbXVsdGlwbGUgcGFydHMgbWF5IHNoYXJlIHRoZSBzYW1lIG5vZGUgKGF0dHJpYnV0ZSBwYXJ0c1xuICAgICAgICAgICAgLy8gb24gYSBzaW5nbGUgZWxlbWVudCksIHNvIHRoaXMgbG9vcCBtYXkgbm90IHJ1biBhdCBhbGwuXG4gICAgICAgICAgICB3aGlsZSAobm9kZUluZGV4IDwgcGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChub2RlID0gd2Fsa2VyLm5leHROb2RlKCkpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB3ZSBzdGlsbCBoYXZlIHBhcnRzICh0aGUgb3V0ZXIgZm9yLWxvb3ApLCB3ZSBrbm93OlxuICAgICAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdGVtcGxhdGUgaW4gdGhlIHN0YWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlJ3ZlIGFycml2ZWQgYXQgb3VyIHBhcnQncyBub2RlLlxuICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gJ25vZGUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IHRoaXMucHJvY2Vzc29yLmhhbmRsZVRleHRFeHByZXNzaW9uKHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgcGFydC5pbnNlcnRBZnRlck5vZGUobm9kZS5wcmV2aW91c1NpYmxpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2goLi4udGhpcy5wcm9jZXNzb3IuaGFuZGxlQXR0cmlidXRlRXhwcmVzc2lvbnMobm9kZSwgcGFydC5uYW1lLCBwYXJ0LnN0cmluZ3MsIHRoaXMub3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ0VQb2x5ZmlsbCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRvcHROb2RlKGZyYWdtZW50KTtcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLnVwZ3JhZGUoZnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1pbnN0YW5jZS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgcmVwYXJlbnROb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGJvdW5kQXR0cmlidXRlU3VmZml4LCBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LCBtYXJrZXIsIG5vZGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmNvbnN0IGNvbW1lbnRNYXJrZXIgPSBgICR7bWFya2VyfSBgO1xuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgYGh0bWxgLCB3aGljaCBob2xkcyBhIFRlbXBsYXRlIGFuZCB0aGUgdmFsdWVzIGZyb21cbiAqIGludGVycG9sYXRlZCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmdzLCB2YWx1ZXMsIHR5cGUsIHByb2Nlc3Nvcikge1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgb2YgSFRNTCB1c2VkIHRvIGNyZWF0ZSBhIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICAgICAqL1xuICAgIGdldEhUTUwoKSB7XG4gICAgICAgIGNvbnN0IGwgPSB0aGlzLnN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgICAgbGV0IGlzQ29tbWVudEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLnN0cmluZ3NbaV07XG4gICAgICAgICAgICAvLyBGb3IgZWFjaCBiaW5kaW5nIHdlIHdhbnQgdG8gZGV0ZXJtaW5lIHRoZSBraW5kIG9mIG1hcmtlciB0byBpbnNlcnRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIHRlbXBsYXRlIHNvdXJjZSBiZWZvcmUgaXQncyBwYXJzZWQgYnkgdGhlIGJyb3dzZXIncyBIVE1MXG4gICAgICAgICAgICAvLyBwYXJzZXIuIFRoZSBtYXJrZXIgdHlwZSBpcyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIGluIGFuXG4gICAgICAgICAgICAvLyBhdHRyaWJ1dGUsIHRleHQsIG9yIGNvbW1lbnQgcG9pc2l0aW9uLlxuICAgICAgICAgICAgLy8gICAqIEZvciBub2RlLXBvc2l0aW9uIGJpbmRpbmdzIHdlIGluc2VydCBhIGNvbW1lbnQgd2l0aCB0aGUgbWFya2VyXG4gICAgICAgICAgICAvLyAgICAgc2VudGluZWwgYXMgaXRzIHRleHQgY29udGVudCwgbGlrZSA8IS0te3tsaXQtZ3VpZH19LS0+LlxuICAgICAgICAgICAgLy8gICAqIEZvciBhdHRyaWJ1dGUgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBmb3IgdGhlXG4gICAgICAgICAgICAvLyAgICAgZmlyc3QgYmluZGluZywgc28gdGhhdCB3ZSBzdXBwb3J0IHVucXVvdGVkIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICAgICAgICAgIC8vICAgICBTdWJzZXF1ZW50IGJpbmRpbmdzIGNhbiB1c2UgYSBjb21tZW50IG1hcmtlciBiZWNhdXNlIG11bHRpLWJpbmRpbmdcbiAgICAgICAgICAgIC8vICAgICBhdHRyaWJ1dGVzIG11c3QgYmUgcXVvdGVkLlxuICAgICAgICAgICAgLy8gICAqIEZvciBjb21tZW50IGJpbmRpbmdzIHdlIGluc2VydCBqdXN0IHRoZSBtYXJrZXIgc2VudGluZWwgc28gd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vICAgICBjbG9zZSB0aGUgY29tbWVudC5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHNvdXJjZSwgYnV0IGlzICpub3QqIGFuIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gV2UgZG9uJ3QgbmVlZCB0byB0cmFjayB0aGUgdHJlZSBzdHJ1Y3R1cmUgb2YgdGhlIEhUTUwsIG9ubHlcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgYSBiaW5kaW5nIGlzIGluc2lkZSBhIGNvbW1lbnQsIGFuZCBpZiBub3QsIGlmIGl0IGFwcGVhcnMgdG8gYmVcbiAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaW5kaW5nIGluIGFuIGF0dHJpYnV0ZS5cbiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRPcGVuID0gcy5sYXN0SW5kZXhPZignPCEtLScpO1xuICAgICAgICAgICAgLy8gV2UncmUgaW4gY29tbWVudCBwb3NpdGlvbiBpZiB3ZSBoYXZlIGEgY29tbWVudCBvcGVuIHdpdGggbm8gZm9sbG93aW5nXG4gICAgICAgICAgICAvLyBjb21tZW50IGNsb3NlLiBCZWNhdXNlIDwtLSBjYW4gYXBwZWFyIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZSB0aGVyZSBjYW5cbiAgICAgICAgICAgIC8vIGJlIGZhbHNlIHBvc2l0aXZlcy5cbiAgICAgICAgICAgIGlzQ29tbWVudEJpbmRpbmcgPSAoY29tbWVudE9wZW4gPiAtMSB8fCBpc0NvbW1lbnRCaW5kaW5nKSAmJlxuICAgICAgICAgICAgICAgIHMuaW5kZXhPZignLS0+JywgY29tbWVudE9wZW4gKyAxKSA9PT0gLTE7XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhbiBhdHRyaWJ1dGUtbGlrZSBzZXF1ZW5jZSBwcmVjZWVkaW5nIHRoZVxuICAgICAgICAgICAgLy8gZXhwcmVzc2lvbi4gVGhpcyBjYW4gbWF0Y2ggXCJuYW1lPXZhbHVlXCIgbGlrZSBzdHJ1Y3R1cmVzIGluIHRleHQsXG4gICAgICAgICAgICAvLyBjb21tZW50cywgYW5kIGF0dHJpYnV0ZSB2YWx1ZXMsIHNvIHRoZXJlIGNhbiBiZSBmYWxzZS1wb3NpdGl2ZXMuXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVNYXRjaCA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzKTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVNYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3JlIG9ubHkgaW4gdGhpcyBicmFuY2ggaWYgd2UgZG9uJ3QgaGF2ZSBhIGF0dHJpYnV0ZS1saWtlXG4gICAgICAgICAgICAgICAgLy8gcHJlY2VlZGluZyBzZXF1ZW5jZS4gRm9yIGNvbW1lbnRzLCB0aGlzIGd1YXJkcyBhZ2FpbnN0IHVudXN1YWxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGUgdmFsdWVzIGxpa2UgPGRpdiBmb289XCI8IS0tJHsnYmFyJ31cIj4uIENhc2VzIGxpa2VcbiAgICAgICAgICAgICAgICAvLyA8IS0tIGZvbz0keydiYXInfS0tPiBhcmUgaGFuZGxlZCBjb3JyZWN0bHkgaW4gdGhlIGF0dHJpYnV0ZSBicmFuY2hcbiAgICAgICAgICAgICAgICAvLyBiZWxvdy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMgKyAoaXNDb21tZW50QmluZGluZyA/IGNvbW1lbnRNYXJrZXIgOiBub2RlTWFya2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEZvciBhdHRyaWJ1dGVzIHdlIHVzZSBqdXN0IGEgbWFya2VyIHNlbnRpbmVsLCBhbmQgYWxzbyBhcHBlbmQgYVxuICAgICAgICAgICAgICAgIC8vICRsaXQkIHN1ZmZpeCB0byB0aGUgbmFtZSB0byBvcHQtb3V0IG9mIGF0dHJpYnV0ZS1zcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBJRSBhbmQgRWRnZSBkbyBmb3Igc3R5bGUgYW5kIGNlcnRhaW4gU1ZHIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICAgICAgaHRtbCArPSBzLnN1YnN0cigwLCBhdHRyaWJ1dGVNYXRjaC5pbmRleCkgKyBhdHRyaWJ1dGVNYXRjaFsxXSArXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU1hdGNoWzJdICsgYm91bmRBdHRyaWJ1dGVTdWZmaXggKyBhdHRyaWJ1dGVNYXRjaFszXSArXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBodG1sICs9IHRoaXMuc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0aGlzLmdldEhUTUwoKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCBmb3IgU1ZHIGZyYWdtZW50cy5cbiAqXG4gKiBUaGlzIGNsYXNzIHdyYXBzIEhUTUwgaW4gYW4gYDxzdmc+YCB0YWcgaW4gb3JkZXIgdG8gcGFyc2UgaXRzIGNvbnRlbnRzIGluIHRoZVxuICogU1ZHIG5hbWVzcGFjZSwgdGhlbiBtb2RpZmllcyB0aGUgdGVtcGxhdGUgdG8gcmVtb3ZlIHRoZSBgPHN2Zz5gIHRhZyBzbyB0aGF0XG4gKiBjbG9uZXMgb25seSBjb250YWluZXIgdGhlIG9yaWdpbmFsIGZyYWdtZW50LlxuICovXG5leHBvcnQgY2xhc3MgU1ZHVGVtcGxhdGVSZXN1bHQgZXh0ZW5kcyBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIGA8c3ZnPiR7c3VwZXIuZ2V0SFRNTCgpfTwvc3ZnPmA7XG4gICAgfVxuICAgIGdldFRlbXBsYXRlRWxlbWVudCgpIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzdXBlci5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBjb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoc3ZnRWxlbWVudCk7XG4gICAgICAgIHJlcGFyZW50Tm9kZXMoY29udGVudCwgc3ZnRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLXJlc3VsdC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZS5qcyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9wYXJ0LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi90ZW1wbGF0ZS1yZXN1bHQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTWFya2VyIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgY29uc3QgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gKHZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICEodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpKTtcbn07XG5leHBvcnQgY29uc3QgaXNJdGVyYWJsZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fFxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICEhKHZhbHVlICYmIHZhbHVlW1N5bWJvbC5pdGVyYXRvcl0pO1xufTtcbi8qKlxuICogV3JpdGVzIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gdGhlIERPTSBmb3IgYSBncm91cCBvZiBBdHRyaWJ1dGVQYXJ0cyBib3VuZCB0byBhXG4gKiBzaW5nbGUgYXR0aWJ1dGUuIFRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlIGV2ZW4gaWYgdGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzXG4gKiBmb3IgYW4gYXR0cmlidXRlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlQ29tbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucGFydHNbaV0gPSB0aGlzLl9jcmVhdGVQYXJ0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpbmdsZSBwYXJ0LiBPdmVycmlkZSB0aGlzIHRvIGNyZWF0ZSBhIGRpZmZlcm50IHR5cGUgb2YgcGFydC5cbiAgICAgKi9cbiAgICBfY3JlYXRlUGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGVQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLnN0cmluZ3M7XG4gICAgICAgIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbaV07XG4gICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gcGFydC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcmltaXRpdmUodikgfHwgIWlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdiA9PT0gJ3N0cmluZycgPyB2IDogU3RyaW5nKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gdHlwZW9mIHQgPT09ICdzdHJpbmcnID8gdCA6IFN0cmluZyh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IHN0cmluZ3NbbF07XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgdGhpcy5fZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGFsbCBvciBwYXJ0IG9mIGFuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGNvbW1pdHRlcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNvbW1pdHRlciA9IGNvbW1pdHRlcjtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSBub0NoYW5nZSAmJiAoIWlzUHJpbWl0aXZlKHZhbHVlKSB8fCB2YWx1ZSAhPT0gdGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBhIG5vdCBhIGRpcmVjdGl2ZSwgZGlydHkgdGhlIGNvbW1pdHRlciBzbyB0aGF0IGl0J2xsXG4gICAgICAgICAgICAvLyBjYWxsIHNldEF0dHJpYnV0ZS4gSWYgdGhlIHZhbHVlIGlzIGEgZGlyZWN0aXZlLCBpdCdsbCBkaXJ0eSB0aGVcbiAgICAgICAgICAgIC8vIGNvbW1pdHRlciBpZiBpdCBjYWxscyBzZXRWYWx1ZSgpLlxuICAgICAgICAgICAgaWYgKCFpc0RpcmVjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdHRlci5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21taXR0ZXIuY29tbWl0KCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIFBhcnQgdGhhdCBjb250cm9scyBhIGxvY2F0aW9uIHdpdGhpbiBhIE5vZGUgdHJlZS4gTGlrZSBhIFJhbmdlLCBOb2RlUGFydFxuICogaGFzIHN0YXJ0IGFuZCBlbmQgbG9jYXRpb25zIGFuZCBjYW4gc2V0IGFuZCB1cGRhdGUgdGhlIE5vZGVzIGJldHdlZW4gdGhvc2VcbiAqIGxvY2F0aW9ucy5cbiAqXG4gKiBOb2RlUGFydHMgc3VwcG9ydCBzZXZlcmFsIHZhbHVlIHR5cGVzOiBwcmltaXRpdmVzLCBOb2RlcywgVGVtcGxhdGVSZXN1bHRzLFxuICogYXMgd2VsbCBhcyBhcnJheXMgYW5kIGl0ZXJhYmxlcyBvZiB0aG9zZSB0eXBlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhpcyBwYXJ0IGludG8gYSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvKGNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVNYXJrZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhpcyBwYXJ0IGFmdGVyIHRoZSBgcmVmYCBub2RlIChiZXR3ZWVuIGByZWZgIGFuZCBgcmVmYCdzIG5leHRcbiAgICAgKiBzaWJsaW5nKS4gQm90aCBgcmVmYCBhbmQgaXRzIG5leHQgc2libGluZyBtdXN0IGJlIHN0YXRpYywgdW5jaGFuZ2luZyBub2Rlc1xuICAgICAqIHN1Y2ggYXMgdGhvc2UgdGhhdCBhcHBlYXIgaW4gYSBsaXRlcmFsIHNlY3Rpb24gb2YgYSB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyTm9kZShyZWYpIHtcbiAgICAgICAgdGhpcy5zdGFydE5vZGUgPSByZWY7XG4gICAgICAgIHRoaXMuZW5kTm9kZSA9IHJlZi5uZXh0U2libGluZztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIHBhcmVudCBwYXJ0LlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgYXBwZW5kSW50b1BhcnQocGFydCkge1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICBwYXJ0Ll9faW5zZXJ0KHRoaXMuZW5kTm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlclBhcnQocmVmKSB7XG4gICAgICAgIHJlZi5fX2luc2VydCh0aGlzLnN0YXJ0Tm9kZSA9IGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLmVuZE5vZGU7XG4gICAgICAgIHJlZi5lbmROb2RlID0gdGhpcy5zdGFydE5vZGU7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgIHRoaXMuX19jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2luc2VydChub2RlKSB7XG4gICAgICAgIHRoaXMuZW5kTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbiAgICBfX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9faW5zZXJ0KHZhbHVlKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRleHQodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuc3RhcnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuICAgICAgICAvLyBJZiBgdmFsdWVgIGlzbid0IGFscmVhZHkgYSBzdHJpbmcsIHdlIGV4cGxpY2l0bHkgY29udmVydCBpdCBoZXJlIGluIGNhc2VcbiAgICAgICAgLy8gaXQgY2FuJ3QgYmUgaW1wbGljaXRseSBjb252ZXJ0ZWQgLSBpLmUuIGl0J3MgYSBzeW1ib2wuXG4gICAgICAgIGNvbnN0IHZhbHVlQXNTdHJpbmcgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpO1xuICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5lbmROb2RlLnByZXZpb3VzU2libGluZyAmJlxuICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBOb2RlLlRFWFRfTk9ERSAqLykge1xuICAgICAgICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIHRleHQgbm9kZSBiZXR3ZWVuIHRoZSBtYXJrZXJzLCB3ZSBjYW4ganVzdFxuICAgICAgICAgICAgLy8gc2V0IGl0cyB2YWx1ZSwgcmF0aGVyIHRoYW4gcmVwbGFjaW5nIGl0LlxuICAgICAgICAgICAgLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogQ2FuIHdlIGp1c3QgY2hlY2sgaWYgdGhpcy52YWx1ZSBpcyBwcmltaXRpdmU/XG4gICAgICAgICAgICBub2RlLmRhdGEgPSB2YWx1ZUFzU3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWVBc1N0cmluZykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMub3B0aW9ucy50ZW1wbGF0ZUZhY3RvcnkodmFsdWUpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgJiZcbiAgICAgICAgICAgIHRoaXMudmFsdWUudGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHdlIHByb3BhZ2F0ZSB0aGUgdGVtcGxhdGUgcHJvY2Vzc29yIGZyb20gdGhlIFRlbXBsYXRlUmVzdWx0XG4gICAgICAgICAgICAvLyBzbyB0aGF0IHdlIHVzZSBpdHMgc3ludGF4IGV4dGVuc2lvbiwgZXRjLiBUaGUgdGVtcGxhdGUgZmFjdG9yeSBjb21lc1xuICAgICAgICAgICAgLy8gZnJvbSB0aGUgcmVuZGVyIGZ1bmN0aW9uIG9wdGlvbnMgc28gdGhhdCBpdCBjYW4gY29udHJvbCB0ZW1wbGF0ZVxuICAgICAgICAgICAgLy8gY2FjaGluZyBhbmQgcHJlcHJvY2Vzc2luZy5cbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUsIHZhbHVlLnByb2Nlc3NvciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKCk7XG4gICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUodmFsdWUudmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKGZyYWdtZW50KTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICAgIC8vIEZvciBhbiBJdGVyYWJsZSwgd2UgY3JlYXRlIGEgbmV3IEluc3RhbmNlUGFydCBwZXIgaXRlbSwgdGhlbiBzZXQgaXRzXG4gICAgICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgICAgICAvLyBhbiBJdGVyYWJsZSwgYnV0IGl0IGxldHMgdXMgcmVjdXJzZSBlYXNpbHkgYW5kIGVmZmljaWVudGx5IHVwZGF0ZSBBcnJheXNcbiAgICAgICAgLy8gb2YgVGVtcGxhdGVSZXN1bHRzIHRoYXQgd2lsbCBiZSBjb21tb25seSByZXR1cm5lZCBmcm9tIGV4cHJlc3Npb25zIGxpa2U6XG4gICAgICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG4gICAgICAgIC8vIElmIF92YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgICAgICAvLyBpdGVyYWJsZSBhbmQgX3ZhbHVlIHdpbGwgY29udGFpbiB0aGUgTm9kZVBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgICAgIC8vIHJlbmRlci4gSWYgX3ZhbHVlIGlzIG5vdCBhbiBhcnJheSwgY2xlYXIgdGhpcyBwYXJ0IGFuZCBtYWtlIGEgbmV3XG4gICAgICAgIC8vIGFycmF5IGZvciBOb2RlUGFydHMuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgICAgICAvLyBpdGVtcyBmcm9tIGEgcHJldmlvdXMgcmVuZGVyXG4gICAgICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMudmFsdWU7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaXRlbVBhcnQ7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIHJldXNlIGFuIGV4aXN0aW5nIHBhcnRcbiAgICAgICAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICBpZiAoaXRlbVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0ID0gbmV3IE5vZGVQYXJ0KHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnRzLnB1c2goaXRlbVBhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVBhcnQuYXBwZW5kSW50b1BhcnQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5pbnNlcnRBZnRlclBhcnQoaXRlbVBhcnRzW3BhcnRJbmRleCAtIDFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtUGFydC5zZXRWYWx1ZShpdGVtKTtcbiAgICAgICAgICAgIGl0ZW1QYXJ0LmNvbW1pdCgpO1xuICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKGl0ZW1QYXJ0ICYmIGl0ZW1QYXJ0LmVuZE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKHN0YXJ0Tm9kZSA9IHRoaXMuc3RhcnROb2RlKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKHRoaXMuc3RhcnROb2RlLnBhcmVudE5vZGUsIHN0YXJ0Tm9kZS5uZXh0U2libGluZywgdGhpcy5lbmROb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIEltcGxlbWVudHMgYSBib29sZWFuIGF0dHJpYnV0ZSwgcm91Z2hseSBhcyBkZWZpbmVkIGluIHRoZSBIVE1MXG4gKiBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBpcyB0cnV0aHksIHRoZW4gdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IHdpdGggYSB2YWx1ZSBvZlxuICogJycuIElmIHRoZSB2YWx1ZSBpcyBmYWxzZXksIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzdHJpbmdzLmxlbmd0aCAhPT0gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb29sZWFuIGF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiBhIHNpbmdsZSBleHByZXNzaW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fX3BlbmRpbmdWYWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9ICEhdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICB9XG59XG4vKipcbiAqIFNldHMgYXR0cmlidXRlIHZhbHVlcyBmb3IgUHJvcGVydHlQYXJ0cywgc28gdGhhdCB0aGUgdmFsdWUgaXMgb25seSBzZXQgb25jZVxuICogZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHMgZm9yIGEgcHJvcGVydHkuXG4gKlxuICogSWYgYW4gZXhwcmVzc2lvbiBjb250cm9scyB0aGUgd2hvbGUgcHJvcGVydHkgdmFsdWUsIHRoZW4gdGhlIHZhbHVlIGlzIHNpbXBseVxuICogYXNzaWduZWQgdG8gdGhlIHByb3BlcnR5IHVuZGVyIGNvbnRyb2wuIElmIHRoZXJlIGFyZSBzdHJpbmcgbGl0ZXJhbHMgb3JcbiAqIG11bHRpcGxlIGV4cHJlc3Npb25zLCB0aGVuIHRoZSBzdHJpbmdzIGFyZSBleHByZXNzaW9ucyBhcmUgaW50ZXJwb2xhdGVkIGludG9cbiAqIGEgc3RyaW5nIGZpcnN0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlDb21taXR0ZXIgZXh0ZW5kcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgICAgIHRoaXMuc2luZ2xlID1cbiAgICAgICAgICAgIChzdHJpbmdzLmxlbmd0aCA9PT0gMiAmJiBzdHJpbmdzWzBdID09PSAnJyAmJiBzdHJpbmdzWzFdID09PSAnJyk7XG4gICAgfVxuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5UGFydCh0aGlzKTtcbiAgICB9XG4gICAgX2dldFZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy5zaW5nbGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnRzWzBdLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5fZ2V0VmFsdWUoKTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB0aGlzLl9nZXRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xufVxuLy8gRGV0ZWN0IGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgc3VwcG9ydC4gSWYgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eSBpcyByZWFkXG4vLyBmcm9tIHRoZSBvcHRpb25zIG9iamVjdCwgdGhlbiBvcHRpb25zIGFyZSBzdXBwb3J0ZWQuIElmIG5vdCwgdGhlbiB0aGUgdGhyaWRcbi8vIGFyZ3VtZW50IHRvIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlzIGludGVycHJldGVkIGFzIHRoZSBib29sZWFuIGNhcHR1cmVcbi8vIHZhbHVlIHNvIHdlIHNob3VsZCBvbmx5IHBhc3MgdGhlIGBjYXB0dXJlYCBwcm9wZXJ0eS5cbmxldCBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSBmYWxzZTtcbnRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgZ2V0IGNhcHR1cmUoKSB7XG4gICAgICAgICAgICBldmVudE9wdGlvbnNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbn1cbmNhdGNoIChfZSkge1xufVxuZXhwb3J0IGNsYXNzIEV2ZW50UGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgZXZlbnROYW1lLCBldmVudENvbnRleHQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuZXZlbnRDb250ZXh0ID0gZXZlbnRDb250ZXh0O1xuICAgICAgICB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCA9IChlKSA9PiB0aGlzLmhhbmRsZUV2ZW50KGUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0xpc3RlbmVyID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLnZhbHVlO1xuICAgICAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9IG5ld0xpc3RlbmVyID09IG51bGwgfHxcbiAgICAgICAgICAgIG9sZExpc3RlbmVyICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAobmV3TGlzdGVuZXIuY2FwdHVyZSAhPT0gb2xkTGlzdGVuZXIuY2FwdHVyZSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PSBvbGRMaXN0ZW5lci5vbmNlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09IG9sZExpc3RlbmVyLnBhc3NpdmUpO1xuICAgICAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9IG5ld0xpc3RlbmVyICE9IG51bGwgJiYgKG9sZExpc3RlbmVyID09IG51bGwgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5fX29wdGlvbnMgPSBnZXRPcHRpb25zKG5ld0xpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLl9fYm91bmRIYW5kbGVFdmVudCwgdGhpcy5fX29wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWUgPSBuZXdMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuY2FsbCh0aGlzLmV2ZW50Q29udGV4dCB8fCB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gV2UgY29weSBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIGluY29uc2lzdGVudCBiZWhhdmlvciBvZiBicm93c2VycyB3aGVuIHJlYWRpbmdcbi8vIHRoZSB0aGlyZCBhcmd1bWVudCBvZiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci4gSUUxMSBkb2Vzbid0IHN1cHBvcnQgb3B0aW9uc1xuLy8gYXQgYWxsLiBDaHJvbWUgNDEgb25seSByZWFkcyBgY2FwdHVyZWAgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbmNvbnN0IGdldE9wdGlvbnMgPSAobykgPT4gbyAmJlxuICAgIChldmVudE9wdGlvbnNTdXBwb3J0ZWQgP1xuICAgICAgICB7IGNhcHR1cmU6IG8uY2FwdHVyZSwgcGFzc2l2ZTogby5wYXNzaXZlLCBvbmNlOiBvLm9uY2UgfSA6XG4gICAgICAgIG8uY2FwdHVyZSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0cy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciB9IGZyb20gJy4vcGFydHMuanMnO1xuLyoqXG4gKiBDcmVhdGVzIFBhcnRzIHdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3Ige1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXJ0cyBmb3IgYW4gYXR0cmlidXRlLXBvc2l0aW9uIGJpbmRpbmcsIGdpdmVuIHRoZSBldmVudCwgYXR0cmlidXRlXG4gICAgICogbmFtZSwgYW5kIHN0cmluZyBsaXRlcmFscy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdcbiAgICAgKiBAcGFyYW0gbmFtZSAgVGhlIGF0dHJpYnV0ZSBuYW1lXG4gICAgICogQHBhcmFtIHN0cmluZ3MgVGhlIHN0cmluZyBsaXRlcmFscy4gVGhlcmUgYXJlIGFsd2F5cyBhdCBsZWFzdCB0d28gc3RyaW5ncyxcbiAgICAgKiAgIGV2ZW50IGZvciBmdWxseS1jb250cm9sbGVkIGJpbmRpbmdzIHdpdGggYSBzaW5nbGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICBoYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IG5hbWVbMF07XG4gICAgICAgIGlmIChwcmVmaXggPT09ICcuJykge1xuICAgICAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IFByb3BlcnR5Q29tbWl0dGVyKGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIHN0cmluZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZml4ID09PSAnQCcpIHtcbiAgICAgICAgICAgIHJldHVybiBbbmV3IEV2ZW50UGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBvcHRpb25zLmV2ZW50Q29udGV4dCldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICc/Jykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgQm9vbGVhbkF0dHJpYnV0ZVBhcnQoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbW1pdHRlciA9IG5ldyBBdHRyaWJ1dGVDb21taXR0ZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncyk7XG4gICAgICAgIHJldHVybiBjb21taXR0ZXIucGFydHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXJ0cyBmb3IgYSB0ZXh0LXBvc2l0aW9uIGJpbmRpbmcuXG4gICAgICogQHBhcmFtIHRlbXBsYXRlRmFjdG9yeVxuICAgICAqL1xuICAgIGhhbmRsZVRleHRFeHByZXNzaW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlUGFydChvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yID0gbmV3IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgbWFya2VyLCBUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUZW1wbGF0ZUZhY3Rvcnkgd2hpY2ggY2FjaGVzIFRlbXBsYXRlcyBrZXllZCBvblxuICogcmVzdWx0LnR5cGUgYW5kIHJlc3VsdC5zdHJpbmdzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVGYWN0b3J5KHJlc3VsdCkge1xuICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KHJlc3VsdC50eXBlKTtcbiAgICBpZiAodGVtcGxhdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXAoKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQocmVzdWx0LnR5cGUsIHRlbXBsYXRlQ2FjaGUpO1xuICAgIH1cbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIFRlbXBsYXRlU3RyaW5nc0FycmF5IGlzIG5ldywgZ2VuZXJhdGUgYSBrZXkgZnJvbSB0aGUgc3RyaW5nc1xuICAgIC8vIFRoaXMga2V5IGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCB0ZW1wbGF0ZXMgd2l0aCBpZGVudGljYWwgY29udGVudFxuICAgIGNvbnN0IGtleSA9IHJlc3VsdC5zdHJpbmdzLmpvaW4obWFya2VyKTtcbiAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLmdldChrZXkpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgbm90IHNlZW4gdGhpcyBrZXkgYmVmb3JlLCBjcmVhdGUgYSBuZXcgVGVtcGxhdGVcbiAgICAgICAgdGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0LCByZXN1bHQuZ2V0VGVtcGxhdGVFbGVtZW50KCkpO1xuICAgICAgICAvLyBDYWNoZSB0aGUgVGVtcGxhdGUgZm9yIHRoaXMga2V5XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgLy8gQ2FjaGUgYWxsIGZ1dHVyZSBxdWVyaWVzIGZvciB0aGlzIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufVxuZXhwb3J0IGNvbnN0IHRlbXBsYXRlQ2FjaGVzID0gbmV3IE1hcCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtZmFjdG9yeS5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqL1xuaW1wb3J0IHsgcmVtb3ZlTm9kZXMgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBOb2RlUGFydCB9IGZyb20gJy4vcGFydHMuanMnO1xuaW1wb3J0IHsgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmV4cG9ydCBjb25zdCBwYXJ0cyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFJlbmRlcnMgYSB0ZW1wbGF0ZSByZXN1bHQgb3Igb3RoZXIgdmFsdWUgdG8gYSBjb250YWluZXIuXG4gKlxuICogVG8gdXBkYXRlIGEgY29udGFpbmVyIHdpdGggbmV3IHZhbHVlcywgcmVldmFsdWF0ZSB0aGUgdGVtcGxhdGUgbGl0ZXJhbCBhbmRcbiAqIGNhbGwgYHJlbmRlcmAgd2l0aCB0aGUgbmV3IHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0gcmVzdWx0IEFueSB2YWx1ZSByZW5kZXJhYmxlIGJ5IE5vZGVQYXJ0IC0gdHlwaWNhbGx5IGEgVGVtcGxhdGVSZXN1bHRcbiAqICAgICBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWcgbGlrZSBgaHRtbGAgb3IgYHN2Z2AuXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIHBhcmVudCB0byByZW5kZXIgdG8uIFRoZSBlbnRpcmUgY29udGVudHMgYXJlIGVpdGhlclxuICogICAgIHJlcGxhY2VkLCBvciBlZmZpY2llbnRseSB1cGRhdGVkIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhcyBwcmV2aW91c1xuICogICAgIHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgUmVuZGVyT3B0aW9ucyBmb3IgdGhlIGVudGlyZSByZW5kZXIgdHJlZSByZW5kZXJlZCB0byB0aGlzXG4gKiAgICAgY29udGFpbmVyLiBSZW5kZXIgb3B0aW9ucyBtdXN0ICpub3QqIGNoYW5nZSBiZXR3ZWVuIHJlbmRlcnMgdG8gdGhlIHNhbWVcbiAqICAgICBjb250YWluZXIsIGFzIHRob3NlIGNoYW5nZXMgd2lsbCBub3QgZWZmZWN0IHByZXZpb3VzbHkgcmVuZGVyZWQgRE9NLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IHBhcnQgPSBwYXJ0cy5nZXQoY29udGFpbmVyKTtcbiAgICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlbW92ZU5vZGVzKGNvbnRhaW5lciwgY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0ID0gbmV3IE5vZGVQYXJ0KE9iamVjdC5hc3NpZ24oeyB0ZW1wbGF0ZUZhY3RvcnkgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgcGFydC5hcHBlbmRJbnRvKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIHBhcnQuc2V0VmFsdWUocmVzdWx0KTtcbiAgICBwYXJ0LmNvbW1pdCgpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlbmRlci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqXG4gKiBNYWluIGxpdC1odG1sIG1vZHVsZS5cbiAqXG4gKiBNYWluIGV4cG9ydHM6XG4gKlxuICogLSAgW1todG1sXV1cbiAqIC0gIFtbc3ZnXV1cbiAqIC0gIFtbcmVuZGVyXV1cbiAqXG4gKiBAbW9kdWxlIGxpdC1odG1sXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmltcG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBEZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB9IGZyb20gJy4vbGliL2RlZmF1bHQtdGVtcGxhdGUtcHJvY2Vzc29yLmpzJztcbmV4cG9ydCB7IGRpcmVjdGl2ZSwgaXNEaXJlY3RpdmUgfSBmcm9tICcuL2xpYi9kaXJlY3RpdmUuanMnO1xuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogcmVtb3ZlIGxpbmUgd2hlbiB3ZSBnZXQgTm9kZVBhcnQgbW92aW5nIG1ldGhvZHNcbmV4cG9ydCB7IHJlbW92ZU5vZGVzLCByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9saWIvZG9tLmpzJztcbmV4cG9ydCB7IG5vQ2hhbmdlLCBub3RoaW5nIH0gZnJvbSAnLi9saWIvcGFydC5qcyc7XG5leHBvcnQgeyBBdHRyaWJ1dGVDb21taXR0ZXIsIEF0dHJpYnV0ZVBhcnQsIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0LCBFdmVudFBhcnQsIGlzSXRlcmFibGUsIGlzUHJpbWl0aXZlLCBOb2RlUGFydCwgUHJvcGVydHlDb21taXR0ZXIsIFByb3BlcnR5UGFydCB9IGZyb20gJy4vbGliL3BhcnRzLmpzJztcbmV4cG9ydCB7IHBhcnRzLCByZW5kZXIgfSBmcm9tICcuL2xpYi9yZW5kZXIuanMnO1xuZXhwb3J0IHsgdGVtcGxhdGVDYWNoZXMsIHRlbXBsYXRlRmFjdG9yeSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmV4cG9ydCB7IFNWR1RlbXBsYXRlUmVzdWx0LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJy4vbGliL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5leHBvcnQgeyBjcmVhdGVNYXJrZXIsIGlzVGVtcGxhdGVQYXJ0QWN0aXZlLCBUZW1wbGF0ZSB9IGZyb20gJy4vbGliL3RlbXBsYXRlLmpzJztcbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBpbmplY3QgdmVyc2lvbiBudW1iZXIgYXQgYnVpbGQgdGltZVxuKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gfHwgKHdpbmRvd1snbGl0SHRtbFZlcnNpb25zJ10gPSBbXSkpLnB1c2goJzEuMS4yJyk7XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIEhUTUwgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdodG1sJywgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IChzdHJpbmdzLCAuLi52YWx1ZXMpID0+IG5ldyBTVkdUZW1wbGF0ZVJlc3VsdChzdHJpbmdzLCB2YWx1ZXMsICdzdmcnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWh0bWwuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICovXG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuY29uc3Qgd2Fsa2VyTm9kZUZpbHRlciA9IDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLztcbi8qKlxuICogUmVtb3ZlcyB0aGUgbGlzdCBvZiBub2RlcyBmcm9tIGEgVGVtcGxhdGUgc2FmZWx5LiBJbiBhZGRpdGlvbiB0byByZW1vdmluZ1xuICogbm9kZXMgZnJvbSB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZSBwYXJ0IGluZGljZXMgYXJlIHVwZGF0ZWQgdG8gbWF0Y2hcbiAqIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqXG4gKiBBcyB0aGUgdGVtcGxhdGUgaXMgd2Fsa2VkIHRoZSByZW1vdmFsIHN0YXRlIGlzIHRyYWNrZWQgYW5kXG4gKiBwYXJ0IGluZGljZXMgYXJlIGFkanVzdGVkIGFzIG5lZWRlZC5cbiAqXG4gKiBkaXZcbiAqICAgZGl2IzEgKHJlbW92ZSkgPC0tIHN0YXJ0IHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIGRpdiMxKVxuICogICAgIGRpdlxuICogICAgICAgZGl2IzIgKHJlbW92ZSkgIDwtLSBjb250aW51ZSByZW1vdmluZyAocmVtb3Zpbmcgbm9kZSBpcyBzdGlsbCBkaXYjMSlcbiAqICAgICAgICAgZGl2XG4gKiBkaXYgPC0tIHN0b3AgcmVtb3Zpbmcgc2luY2UgcHJldmlvdXMgc2libGluZyBpcyB0aGUgcmVtb3Zpbmcgbm9kZSAoZGl2IzEsXG4gKiByZW1vdmVkIDQgbm9kZXMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgbm9kZXNUb1JlbW92ZSkge1xuICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0sIHBhcnRzIH0gPSB0ZW1wbGF0ZTtcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGNvbnRlbnQsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICBsZXQgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzKTtcbiAgICBsZXQgcGFydCA9IHBhcnRzW3BhcnRJbmRleF07XG4gICAgbGV0IG5vZGVJbmRleCA9IC0xO1xuICAgIGxldCByZW1vdmVDb3VudCA9IDA7XG4gICAgY29uc3Qgbm9kZXNUb1JlbW92ZUluVGVtcGxhdGUgPSBbXTtcbiAgICBsZXQgY3VycmVudFJlbW92aW5nTm9kZSA9IG51bGw7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLmN1cnJlbnROb2RlO1xuICAgICAgICAvLyBFbmQgcmVtb3ZhbCBpZiBzdGVwcGVkIHBhc3QgdGhlIHJlbW92aW5nIG5vZGVcbiAgICAgICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nID09PSBjdXJyZW50UmVtb3ZpbmdOb2RlKSB7XG4gICAgICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBBIG5vZGUgdG8gcmVtb3ZlIHdhcyBmb3VuZCBpbiB0aGUgdGVtcGxhdGVcbiAgICAgICAgaWYgKG5vZGVzVG9SZW1vdmUuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgLy8gVHJhY2sgbm9kZSB3ZSdyZSByZW1vdmluZ1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHJlbW92aW5nLCBpbmNyZW1lbnQgY291bnQgYnkgd2hpY2ggdG8gYWRqdXN0IHN1YnNlcXVlbnQgcGFydCBpbmRpY2VzXG4gICAgICAgIGlmIChjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZW1vdmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChwYXJ0ICE9PSB1bmRlZmluZWQgJiYgcGFydC5pbmRleCA9PT0gbm9kZUluZGV4KSB7XG4gICAgICAgICAgICAvLyBJZiBwYXJ0IGlzIGluIGEgcmVtb3ZlZCBub2RlIGRlYWN0aXZhdGUgaXQgYnkgc2V0dGluZyBpbmRleCB0byAtMSBvclxuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBpbmRleCBhcyBuZWVkZWQuXG4gICAgICAgICAgICBwYXJ0LmluZGV4ID0gY3VycmVudFJlbW92aW5nTm9kZSAhPT0gbnVsbCA/IC0xIDogcGFydC5pbmRleCAtIHJlbW92ZUNvdW50O1xuICAgICAgICAgICAgLy8gZ28gdG8gdGhlIG5leHQgYWN0aXZlIHBhcnQuXG4gICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZS5mb3JFYWNoKChuKSA9PiBuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpO1xufVxuY29uc3QgY291bnROb2RlcyA9IChub2RlKSA9PiB7XG4gICAgbGV0IGNvdW50ID0gKG5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSAqLykgPyAwIDogMTtcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG5vZGUsIHdhbGtlck5vZGVGaWx0ZXIsIG51bGwsIGZhbHNlKTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgY291bnQrKztcbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufTtcbmNvbnN0IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyA9IChwYXJ0cywgc3RhcnRJbmRleCA9IC0xKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXggKyAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICBpZiAoaXNUZW1wbGF0ZVBhcnRBY3RpdmUocGFydCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG4vKipcbiAqIEluc2VydHMgdGhlIGdpdmVuIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIG9wdGlvbmFsbHkgYmVmb3JlIHRoZSBnaXZlblxuICogcmVmTm9kZS4gSW4gYWRkaXRpb24gdG8gaW5zZXJ0aW5nIHRoZSBub2RlIGludG8gdGhlIFRlbXBsYXRlLCB0aGUgVGVtcGxhdGVcbiAqIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaCB0aGUgbXV0YXRlZCBUZW1wbGF0ZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnROb2RlSW50b1RlbXBsYXRlKHRlbXBsYXRlLCBub2RlLCByZWZOb2RlID0gbnVsbCkge1xuICAgIGNvbnN0IHsgZWxlbWVudDogeyBjb250ZW50IH0sIHBhcnRzIH0gPSB0ZW1wbGF0ZTtcbiAgICAvLyBJZiB0aGVyZSdzIG5vIHJlZk5vZGUsIHRoZW4gcHV0IG5vZGUgYXQgZW5kIG9mIHRlbXBsYXRlLlxuICAgIC8vIE5vIHBhcnQgaW5kaWNlcyBuZWVkIHRvIGJlIHNoaWZ0ZWQgaW4gdGhpcyBjYXNlLlxuICAgIGlmIChyZWZOb2RlID09PSBudWxsIHx8IHJlZk5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICAgIGxldCBpbnNlcnRDb3VudCA9IDA7XG4gICAgbGV0IHdhbGtlckluZGV4ID0gLTE7XG4gICAgd2hpbGUgKHdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgICAgIHdhbGtlckluZGV4Kys7XG4gICAgICAgIGNvbnN0IHdhbGtlck5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGU7XG4gICAgICAgIGlmICh3YWxrZXJOb2RlID09PSByZWZOb2RlKSB7XG4gICAgICAgICAgICBpbnNlcnRDb3VudCA9IGNvdW50Tm9kZXMobm9kZSk7XG4gICAgICAgICAgICByZWZOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xICYmIHBhcnRzW3BhcnRJbmRleF0uaW5kZXggPT09IHdhbGtlckluZGV4KSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSd2ZSBpbnNlcnRlZCB0aGUgbm9kZSwgc2ltcGx5IGFkanVzdCBhbGwgc3Vic2VxdWVudCBwYXJ0c1xuICAgICAgICAgICAgaWYgKGluc2VydENvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChwYXJ0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzW3BhcnRJbmRleF0uaW5kZXggKz0gaW5zZXJ0Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kaWZ5LXRlbXBsYXRlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogTW9kdWxlIHRvIGFkZCBzaGFkeSBET00vc2hhZHkgQ1NTIHBvbHlmaWxsIHN1cHBvcnQgdG8gbGl0LWh0bWwgdGVtcGxhdGVcbiAqIHJlbmRlcmluZy4gU2VlIHRoZSBbW3JlbmRlcl1dIG1ldGhvZCBmb3IgZGV0YWlscy5cbiAqXG4gKiBAbW9kdWxlIHNoYWR5LXJlbmRlclxuICogQHByZWZlcnJlZFxuICovXG4vKipcbiAqIERvIG5vdCByZW1vdmUgdGhpcyBjb21tZW50OyBpdCBrZWVwcyB0eXBlZG9jIGZyb20gbWlzcGxhY2luZyB0aGUgbW9kdWxlXG4gKiBkb2NzLlxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IGluc2VydE5vZGVJbnRvVGVtcGxhdGUsIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIH0gZnJvbSAnLi9tb2RpZnktdGVtcGxhdGUuanMnO1xuaW1wb3J0IHsgcGFydHMsIHJlbmRlciBhcyBsaXRSZW5kZXIgfSBmcm9tICcuL3JlbmRlci5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUNhY2hlcyB9IGZyb20gJy4vdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi90ZW1wbGF0ZS1pbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5leHBvcnQgeyBodG1sLCBzdmcsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuLy8gR2V0IGEga2V5IHRvIGxvb2t1cCBpbiBgdGVtcGxhdGVDYWNoZXNgLlxuY29uc3QgZ2V0VGVtcGxhdGVDYWNoZUtleSA9ICh0eXBlLCBzY29wZU5hbWUpID0+IGAke3R5cGV9LS0ke3Njb3BlTmFtZX1gO1xubGV0IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSB0cnVlO1xuaWYgKHR5cGVvZiB3aW5kb3cuU2hhZHlDU1MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IGZhbHNlO1xufVxuZWxzZSBpZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS53YXJuKGBJbmNvbXBhdGlibGUgU2hhZHlDU1MgdmVyc2lvbiBkZXRlY3RlZC4gYCArXG4gICAgICAgIGBQbGVhc2UgdXBkYXRlIHRvIGF0IGxlYXN0IEB3ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqc0AyLjAuMiBhbmQgYCArXG4gICAgICAgIGBAd2ViY29tcG9uZW50cy9zaGFkeWNzc0AxLjMuMS5gKTtcbiAgICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG4vKipcbiAqIFRlbXBsYXRlIGZhY3Rvcnkgd2hpY2ggc2NvcGVzIHRlbXBsYXRlIERPTSB1c2luZyBTaGFkeUNTUy5cbiAqIEBwYXJhbSBzY29wZU5hbWUge3N0cmluZ31cbiAqL1xuY29uc3Qgc2hhZHlUZW1wbGF0ZUZhY3RvcnkgPSAoc2NvcGVOYW1lKSA9PiAocmVzdWx0KSA9PiB7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBnZXRUZW1wbGF0ZUNhY2hlS2V5KHJlc3VsdC50eXBlLCBzY29wZU5hbWUpO1xuICAgIGxldCB0ZW1wbGF0ZUNhY2hlID0gdGVtcGxhdGVDYWNoZXMuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAodGVtcGxhdGVDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUgPSB7XG4gICAgICAgICAgICBzdHJpbmdzQXJyYXk6IG5ldyBXZWFrTWFwKCksXG4gICAgICAgICAgICBrZXlTdHJpbmc6IG5ldyBNYXAoKVxuICAgICAgICB9O1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlcy5zZXQoY2FjaGVLZXksIHRlbXBsYXRlQ2FjaGUpO1xuICAgIH1cbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24pIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVEb20oZWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIGVsZW1lbnQpO1xuICAgICAgICB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5zZXQoa2V5LCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LnNldChyZXN1bHQuc3RyaW5ncywgdGVtcGxhdGUpO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5jb25zdCBURU1QTEFURV9UWVBFUyA9IFsnaHRtbCcsICdzdmcnXTtcbi8qKlxuICogUmVtb3ZlcyBhbGwgc3R5bGUgZWxlbWVudHMgZnJvbSBUZW1wbGF0ZXMgZm9yIHRoZSBnaXZlbiBzY29wZU5hbWUuXG4gKi9cbmNvbnN0IHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMgPSAoc2NvcGVOYW1lKSA9PiB7XG4gICAgVEVNUExBVEVfVFlQRVMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZXMgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoZ2V0VGVtcGxhdGVDYWNoZUtleSh0eXBlLCBzY29wZU5hbWUpKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZXMua2V5U3RyaW5nLmZvckVhY2goKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSB9ID0gdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgLy8gSUUgMTEgZG9lc24ndCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbSBTZXQgY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShjb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJykpLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLmFkZChzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgc3R5bGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuY29uc3Qgc2hhZHlSZW5kZXJTZXQgPSBuZXcgU2V0KCk7XG4vKipcbiAqIEZvciB0aGUgZ2l2ZW4gc2NvcGUgbmFtZSwgZW5zdXJlcyB0aGF0IFNoYWR5Q1NTIHN0eWxlIHNjb3BpbmcgaXMgcGVyZm9ybWVkLlxuICogVGhpcyBpcyBkb25lIGp1c3Qgb25jZSBwZXIgc2NvcGUgbmFtZSBzbyB0aGUgZnJhZ21lbnQgYW5kIHRlbXBsYXRlIGNhbm5vdFxuICogYmUgbW9kaWZpZWQuXG4gKiAoMSkgZXh0cmFjdHMgc3R5bGVzIGZyb20gdGhlIHJlbmRlcmVkIGZyYWdtZW50IGFuZCBoYW5kcyB0aGVtIHRvIFNoYWR5Q1NTXG4gKiB0byBiZSBzY29wZWQgYW5kIGFwcGVuZGVkIHRvIHRoZSBkb2N1bWVudFxuICogKDIpIHJlbW92ZXMgc3R5bGUgZWxlbWVudHMgZnJvbSBhbGwgbGl0LWh0bWwgVGVtcGxhdGVzIGZvciB0aGlzIHNjb3BlIG5hbWUuXG4gKlxuICogTm90ZSwgPHN0eWxlPiBlbGVtZW50cyBjYW4gb25seSBiZSBwbGFjZWQgaW50byB0ZW1wbGF0ZXMgZm9yIHRoZVxuICogaW5pdGlhbCByZW5kZXJpbmcgb2YgdGhlIHNjb3BlLiBJZiA8c3R5bGU+IGVsZW1lbnRzIGFyZSBpbmNsdWRlZCBpbiB0ZW1wbGF0ZXNcbiAqIGR5bmFtaWNhbGx5IHJlbmRlcmVkIHRvIHRoZSBzY29wZSAoYWZ0ZXIgdGhlIGZpcnN0IHNjb3BlIHJlbmRlciksIHRoZXkgd2lsbFxuICogbm90IGJlIHNjb3BlZCBhbmQgdGhlIDxzdHlsZT4gd2lsbCBiZSBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSBhbmQgcmVuZGVyZWRcbiAqIG91dHB1dC5cbiAqL1xuY29uc3QgcHJlcGFyZVRlbXBsYXRlU3R5bGVzID0gKHNjb3BlTmFtZSwgcmVuZGVyZWRET00sIHRlbXBsYXRlKSA9PiB7XG4gICAgc2hhZHlSZW5kZXJTZXQuYWRkKHNjb3BlTmFtZSk7XG4gICAgLy8gSWYgYHJlbmRlcmVkRE9NYCBpcyBzdGFtcGVkIGZyb20gYSBUZW1wbGF0ZSwgdGhlbiB3ZSBuZWVkIHRvIGVkaXQgdGhhdFxuICAgIC8vIFRlbXBsYXRlJ3MgdW5kZXJseWluZyB0ZW1wbGF0ZSBlbGVtZW50LiBPdGhlcndpc2UsIHdlIGNyZWF0ZSBvbmUgaGVyZVxuICAgIC8vIHRvIGdpdmUgdG8gU2hhZHlDU1MsIHdoaWNoIHN0aWxsIHJlcXVpcmVzIG9uZSB3aGlsZSBzY29waW5nLlxuICAgIGNvbnN0IHRlbXBsYXRlRWxlbWVudCA9ICEhdGVtcGxhdGUgPyB0ZW1wbGF0ZS5lbGVtZW50IDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAvLyBNb3ZlIHN0eWxlcyBvdXQgb2YgcmVuZGVyZWQgRE9NIGFuZCBzdG9yZS5cbiAgICBjb25zdCBzdHlsZXMgPSByZW5kZXJlZERPTS5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBzdHlsZXM7XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHN0eWxlcywgc2tpcCB1bm5lY2Vzc2FyeSB3b3JrXG4gICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBFbnN1cmUgcHJlcGFyZVRlbXBsYXRlU3R5bGVzIGlzIGNhbGxlZCB0byBzdXBwb3J0IGFkZGluZ1xuICAgICAgICAvLyBzdHlsZXMgdmlhIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgIHNpbmNlIHRoYXQgcmVxdWlyZXMgdGhhdFxuICAgICAgICAvLyBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBpcyBjYWxsZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNoYWR5Q1NTIHdpbGwgb25seSB1cGRhdGUgc3R5bGVzIGNvbnRhaW5pbmcgQGFwcGx5IGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAvLyBnaXZlbiB0byBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYC4gSWYgbm8gbGl0IFRlbXBsYXRlIHdhcyBnaXZlbixcbiAgICAgICAgLy8gU2hhZHlDU1Mgd2lsbCBub3QgYmUgYWJsZSB0byB1cGRhdGUgdXNlcyBvZiBAYXBwbHkgaW4gYW55IHJlbGV2YW50XG4gICAgICAgIC8vIHRlbXBsYXRlLiBIb3dldmVyLCB0aGlzIGlzIG5vdCBhIHByb2JsZW0gYmVjYXVzZSB3ZSBvbmx5IGNyZWF0ZSB0aGVcbiAgICAgICAgLy8gdGVtcGxhdGUgZm9yIHRoZSBwdXJwb3NlIG9mIHN1cHBvcnRpbmcgYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGAsXG4gICAgICAgIC8vIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCBAYXBwbHkgYXQgYWxsLlxuICAgICAgICB3aW5kb3cuU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlRWxlbWVudCwgc2NvcGVOYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb25kZW5zZWRTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgLy8gQ29sbGVjdCBzdHlsZXMgaW50byBhIHNpbmdsZSBzdHlsZS4gVGhpcyBoZWxwcyB1cyBtYWtlIHN1cmUgU2hhZHlDU1NcbiAgICAvLyBtYW5pcHVsYXRpb25zIHdpbGwgbm90IHByZXZlbnQgdXMgZnJvbSBiZWluZyBhYmxlIHRvIGZpeCB1cCB0ZW1wbGF0ZVxuICAgIC8vIHBhcnQgaW5kaWNlcy5cbiAgICAvLyBOT1RFOiBjb2xsZWN0aW5nIHN0eWxlcyBpcyBpbmVmZmljaWVudCBmb3IgYnJvd3NlcnMgYnV0IFNoYWR5Q1NTXG4gICAgLy8gY3VycmVudGx5IGRvZXMgdGhpcyBhbnl3YXkuIFdoZW4gaXQgZG9lcyBub3QsIHRoaXMgc2hvdWxkIGJlIGNoYW5nZWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgIGNvbmRlbnNlZFN0eWxlLnRleHRDb250ZW50ICs9IHN0eWxlLnRleHRDb250ZW50O1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc3R5bGVzIGZyb20gbmVzdGVkIHRlbXBsYXRlcyBpbiB0aGlzIHNjb3BlLlxuICAgIHJlbW92ZVN0eWxlc0Zyb21MaXRUZW1wbGF0ZXMoc2NvcGVOYW1lKTtcbiAgICAvLyBBbmQgdGhlbiBwdXQgdGhlIGNvbmRlbnNlZCBzdHlsZSBpbnRvIHRoZSBcInJvb3RcIiB0ZW1wbGF0ZSBwYXNzZWQgaW4gYXNcbiAgICAvLyBgdGVtcGxhdGVgLlxuICAgIGNvbnN0IGNvbnRlbnQgPSB0ZW1wbGF0ZUVsZW1lbnQuY29udGVudDtcbiAgICBpZiAoISF0ZW1wbGF0ZSkge1xuICAgICAgICBpbnNlcnROb2RlSW50b1RlbXBsYXRlKHRlbXBsYXRlLCBjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IFNoYWR5Q1NTIGdldHMgdGhlIHRlbXBsYXRlIHRoYXQgYGxpdC1odG1sYFxuICAgIC8vIHdpbGwgYWN0dWFsbHkgcmVuZGVyIHNvIHRoYXQgaXQgY2FuIHVwZGF0ZSB0aGUgc3R5bGUgaW5zaWRlIHdoZW5cbiAgICAvLyBuZWVkZWQgKGUuZy4gQGFwcGx5IG5hdGl2ZSBTaGFkb3cgRE9NIGNhc2UpLlxuICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGVFbGVtZW50LCBzY29wZU5hbWUpO1xuICAgIGNvbnN0IHN0eWxlID0gY29udGVudC5xdWVyeVNlbGVjdG9yKCdzdHlsZScpO1xuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93ICYmIHN0eWxlICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFdoZW4gaW4gbmF0aXZlIFNoYWRvdyBET00sIGVuc3VyZSB0aGUgc3R5bGUgY3JlYXRlZCBieSBTaGFkeUNTUyBpc1xuICAgICAgICAvLyBpbmNsdWRlZCBpbiBpbml0aWFsbHkgcmVuZGVyZWQgb3V0cHV0IChgcmVuZGVyZWRET01gKS5cbiAgICAgICAgcmVuZGVyZWRET00uaW5zZXJ0QmVmb3JlKHN0eWxlLmNsb25lTm9kZSh0cnVlKSwgcmVuZGVyZWRET00uZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhdGVtcGxhdGUpIHtcbiAgICAgICAgLy8gV2hlbiBubyBzdHlsZSBpcyBsZWZ0IGluIHRoZSB0ZW1wbGF0ZSwgcGFydHMgd2lsbCBiZSBicm9rZW4gYXMgYVxuICAgICAgICAvLyByZXN1bHQuIFRvIGZpeCB0aGlzLCB3ZSBwdXQgYmFjayB0aGUgc3R5bGUgbm9kZSBTaGFkeUNTUyByZW1vdmVkXG4gICAgICAgIC8vIGFuZCB0aGVuIHRlbGwgbGl0IHRvIHJlbW92ZSB0aGF0IG5vZGUgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAgIC8vIFRoZXJlIGNhbiBiZSBubyBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgaW4gMiBjYXNlcyAoMSkgd2hlbiBTaGFkeSBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlLCBTaGFkeUNTUyByZW1vdmVzIGFsbCBzdHlsZXMsICgyKSB3aGVuIG5hdGl2ZSBTaGFkb3cgRE9NXG4gICAgICAgIC8vIGlzIGluIHVzZSBTaGFkeUNTUyByZW1vdmVzIHRoZSBzdHlsZSBpZiBpdCBjb250YWlucyBubyBjb250ZW50LlxuICAgICAgICAvLyBOT1RFLCBTaGFkeUNTUyBjcmVhdGVzIGl0cyBvd24gc3R5bGUgc28gd2UgY2FuIHNhZmVseSBhZGQvcmVtb3ZlXG4gICAgICAgIC8vIGBjb25kZW5zZWRTdHlsZWAgaGVyZS5cbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnN0IHJlbW92ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHJlbW92ZXMuYWRkKGNvbmRlbnNlZFN0eWxlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUsIHJlbW92ZXMpO1xuICAgIH1cbn07XG4vKipcbiAqIEV4dGVuc2lvbiB0byB0aGUgc3RhbmRhcmQgYHJlbmRlcmAgbWV0aG9kIHdoaWNoIHN1cHBvcnRzIHJlbmRlcmluZ1xuICogdG8gU2hhZG93Um9vdHMgd2hlbiB0aGUgU2hhZHlET00gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5ZG9tKVxuICogYW5kIFNoYWR5Q1NTIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy9zaGFkeWNzcykgcG9seWZpbGxzIGFyZSB1c2VkXG4gKiBvciB3aGVuIHRoZSB3ZWJjb21wb25lbnRzanNcbiAqIChodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMpIHBvbHlmaWxsIGlzIHVzZWQuXG4gKlxuICogQWRkcyBhIGBzY29wZU5hbWVgIG9wdGlvbiB3aGljaCBpcyB1c2VkIHRvIHNjb3BlIGVsZW1lbnQgRE9NIGFuZCBzdHlsZXNoZWV0c1xuICogd2hlbiBuYXRpdmUgU2hhZG93RE9NIGlzIHVuYXZhaWxhYmxlLiBUaGUgYHNjb3BlTmFtZWAgd2lsbCBiZSBhZGRlZCB0b1xuICogdGhlIGNsYXNzIGF0dHJpYnV0ZSBvZiBhbGwgcmVuZGVyZWQgRE9NLiBJbiBhZGRpdGlvbiwgYW55IHN0eWxlIGVsZW1lbnRzIHdpbGxcbiAqIGJlIGF1dG9tYXRpY2FsbHkgcmUtd3JpdHRlbiB3aXRoIHRoaXMgYHNjb3BlTmFtZWAgc2VsZWN0b3IgYW5kIG1vdmVkIG91dFxuICogb2YgdGhlIHJlbmRlcmVkIERPTSBhbmQgaW50byB0aGUgZG9jdW1lbnQgYDxoZWFkPmAuXG4gKlxuICogSXQgaXMgY29tbW9uIHRvIHVzZSB0aGlzIHJlbmRlciBtZXRob2QgaW4gY29uanVuY3Rpb24gd2l0aCBhIGN1c3RvbSBlbGVtZW50XG4gKiB3aGljaCByZW5kZXJzIGEgc2hhZG93Um9vdC4gV2hlbiB0aGlzIGlzIGRvbmUsIHR5cGljYWxseSB0aGUgZWxlbWVudCdzXG4gKiBgbG9jYWxOYW1lYCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgYHNjb3BlTmFtZWAuXG4gKlxuICogSW4gYWRkaXRpb24gdG8gRE9NIHNjb3BpbmcsIFNoYWR5Q1NTIGFsc28gc3VwcG9ydHMgYSBiYXNpYyBzaGltIGZvciBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIChuZWVkZWQgb25seSBvbiBvbGRlciBicm93c2VycyBsaWtlIElFMTEpIGFuZCBhIHNoaW0gZm9yXG4gKiBhIGRlcHJlY2F0ZWQgZmVhdHVyZSBjYWxsZWQgYEBhcHBseWAgdGhhdCBzdXBwb3J0cyBhcHBseWluZyBhIHNldCBvZiBjc3NcbiAqIGN1c3RvbSBwcm9wZXJ0aWVzIHRvIGEgZ2l2ZW4gbG9jYXRpb24uXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnM6XG4gKlxuICogKiBQYXJ0IHZhbHVlcyBpbiBgPHN0eWxlPmAgZWxlbWVudHMgYXJlIG9ubHkgYXBwbGllZCB0aGUgZmlyc3QgdGltZSBhIGdpdmVuXG4gKiBgc2NvcGVOYW1lYCByZW5kZXJzLiBTdWJzZXF1ZW50IGNoYW5nZXMgdG8gcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgd2lsbCBoYXZlXG4gKiBubyBlZmZlY3QuIEJlY2F1c2Ugb2YgdGhpcywgcGFydHMgaW4gc3R5bGUgZWxlbWVudHMgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3JcbiAqIHZhbHVlcyB0aGF0IHdpbGwgbmV2ZXIgY2hhbmdlLCBmb3IgZXhhbXBsZSBwYXJ0cyB0aGF0IHNldCBzY29wZS13aWRlIHRoZW1lXG4gKiB2YWx1ZXMgb3IgcGFydHMgd2hpY2ggcmVuZGVyIHNoYXJlZCBzdHlsZSBlbGVtZW50cy5cbiAqXG4gKiAqIE5vdGUsIGR1ZSB0byBhIGxpbWl0YXRpb24gb2YgdGhlIFNoYWR5RE9NIHBvbHlmaWxsLCByZW5kZXJpbmcgaW4gYVxuICogY3VzdG9tIGVsZW1lbnQncyBgY29uc3RydWN0b3JgIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQgcmVuZGVyaW5nIHNob3VsZFxuICogZWl0aGVyIGRvbmUgYXN5bmNocm9ub3VzbHksIGZvciBleGFtcGxlIGF0IG1pY3JvdGFzayB0aW1pbmcgKGZvciBleGFtcGxlXG4gKiBgUHJvbWlzZS5yZXNvbHZlKClgKSwgb3IgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGZpcnN0IHRpbWUgdGhlIGVsZW1lbnQnc1xuICogYGNvbm5lY3RlZENhbGxiYWNrYCBydW5zLlxuICpcbiAqIFVzYWdlIGNvbnNpZGVyYXRpb25zIHdoZW4gdXNpbmcgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllcyBvciBgQGFwcGx5YDpcbiAqXG4gKiAqIFdoZW5ldmVyIGFueSBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgd2hpY2ggYWZmZWN0XG4gKiBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnQoZWxlbWVudClgIG11c3QgYmUgY2FsbGVkXG4gKiB0byB1cGRhdGUgdGhlIGVsZW1lbnQuIFRoZXJlIGFyZSB0d28gY2FzZXMgd2hlbiB0aGlzIGlzIG5lZWRlZDpcbiAqICgxKSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gYSBuZXcgcGFyZW50LCAoMikgYSBjbGFzcyBpcyBhZGRlZCB0byB0aGVcbiAqIGVsZW1lbnQgdGhhdCBjYXVzZXMgaXQgdG8gbWF0Y2ggZGlmZmVyZW50IGN1c3RvbSBwcm9wZXJ0aWVzLlxuICogVG8gYWRkcmVzcyB0aGUgZmlyc3QgY2FzZSB3aGVuIHJlbmRlcmluZyBhIGN1c3RvbSBlbGVtZW50LCBgc3R5bGVFbGVtZW50YFxuICogc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2AuXG4gKlxuICogKiBTaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG1heSBvbmx5IGJlIGRlZmluZWQgZWl0aGVyIGZvciBhbiBlbnRpcmVcbiAqIHNoYWRvd1Jvb3QgKGZvciBleGFtcGxlLCBpbiBhIGA6aG9zdGAgcnVsZSkgb3IgdmlhIGEgcnVsZSB0aGF0IGRpcmVjdGx5XG4gKiBtYXRjaGVzIGFuIGVsZW1lbnQgd2l0aCBhIHNoYWRvd1Jvb3QuIEluIG90aGVyIHdvcmRzLCBpbnN0ZWFkIG9mIGZsb3dpbmcgZnJvbVxuICogcGFyZW50IHRvIGNoaWxkIGFzIGRvIG5hdGl2ZSBjc3MgY3VzdG9tIHByb3BlcnRpZXMsIHNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXNcbiAqIGZsb3cgb25seSBmcm9tIHNoYWRvd1Jvb3RzIHRvIG5lc3RlZCBzaGFkb3dSb290cy5cbiAqXG4gKiAqIFdoZW4gdXNpbmcgYEBhcHBseWAgbWl4aW5nIGNzcyBzaG9ydGhhbmQgcHJvcGVydHkgbmFtZXMgd2l0aFxuICogbm9uLXNob3J0aGFuZCBuYW1lcyAoZm9yIGV4YW1wbGUgYGJvcmRlcmAgYW5kIGBib3JkZXItd2lkdGhgKSBpcyBub3RcbiAqIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChyZXN1bHQsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIGlmICghb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcgfHwgIW9wdGlvbnMuc2NvcGVOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGBzY29wZU5hbWVgIG9wdGlvbiBpcyByZXF1aXJlZC4nKTtcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVOYW1lID0gb3B0aW9ucy5zY29wZU5hbWU7XG4gICAgY29uc3QgaGFzUmVuZGVyZWQgPSBwYXJ0cy5oYXMoY29udGFpbmVyKTtcbiAgICBjb25zdCBuZWVkc1Njb3BpbmcgPSBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uICYmXG4gICAgICAgIGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovICYmXG4gICAgICAgICEhY29udGFpbmVyLmhvc3Q7XG4gICAgLy8gSGFuZGxlIGZpcnN0IHJlbmRlciB0byBhIHNjb3BlIHNwZWNpYWxseS4uLlxuICAgIGNvbnN0IGZpcnN0U2NvcGVSZW5kZXIgPSBuZWVkc1Njb3BpbmcgJiYgIXNoYWR5UmVuZGVyU2V0LmhhcyhzY29wZU5hbWUpO1xuICAgIC8vIE9uIGZpcnN0IHNjb3BlIHJlbmRlciwgcmVuZGVyIGludG8gYSBmcmFnbWVudDsgdGhpcyBjYW5ub3QgYmUgYSBzaW5nbGVcbiAgICAvLyBmcmFnbWVudCB0aGF0IGlzIHJldXNlZCBzaW5jZSBuZXN0ZWQgcmVuZGVycyBjYW4gb2NjdXIgc3luY2hyb25vdXNseS5cbiAgICBjb25zdCByZW5kZXJDb250YWluZXIgPSBmaXJzdFNjb3BlUmVuZGVyID8gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpIDogY29udGFpbmVyO1xuICAgIGxpdFJlbmRlcihyZXN1bHQsIHJlbmRlckNvbnRhaW5lciwgT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeTogc2hhZHlUZW1wbGF0ZUZhY3Rvcnkoc2NvcGVOYW1lKSB9LCBvcHRpb25zKSk7XG4gICAgLy8gV2hlbiBwZXJmb3JtaW5nIGZpcnN0IHNjb3BlIHJlbmRlcixcbiAgICAvLyAoMSkgV2UndmUgcmVuZGVyZWQgaW50byBhIGZyYWdtZW50IHNvIHRoYXQgdGhlcmUncyBhIGNoYW5jZSB0b1xuICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGJlZm9yZSBzdWItZWxlbWVudHMgaGl0IHRoZSBET01cbiAgICAvLyAod2hpY2ggbWlnaHQgY2F1c2UgdGhlbSB0byByZW5kZXIgYmFzZWQgb24gYSBjb21tb24gcGF0dGVybiBvZlxuICAgIC8vIHJlbmRlcmluZyBpbiBhIGN1c3RvbSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYCk7XG4gICAgLy8gKDIpIFNjb3BlIHRoZSB0ZW1wbGF0ZSB3aXRoIFNoYWR5Q1NTIG9uZSB0aW1lIG9ubHkgZm9yIHRoaXMgc2NvcGUuXG4gICAgLy8gKDMpIFJlbmRlciB0aGUgZnJhZ21lbnQgaW50byB0aGUgY29udGFpbmVyIGFuZCBtYWtlIHN1cmUgdGhlXG4gICAgLy8gY29udGFpbmVyIGtub3dzIGl0cyBgcGFydGAgaXMgdGhlIG9uZSB3ZSBqdXN0IHJlbmRlcmVkLiBUaGlzIGVuc3VyZXNcbiAgICAvLyBET00gd2lsbCBiZSByZS11c2VkIG9uIHN1YnNlcXVlbnQgcmVuZGVycy5cbiAgICBpZiAoZmlyc3RTY29wZVJlbmRlcikge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHMuZ2V0KHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLmRlbGV0ZShyZW5kZXJDb250YWluZXIpO1xuICAgICAgICAvLyBTaGFkeUNTUyBtaWdodCBoYXZlIHN0eWxlIHNoZWV0cyAoZS5nLiBmcm9tIGBwcmVwYXJlQWRvcHRlZENzc1RleHRgKVxuICAgICAgICAvLyB0aGF0IHNob3VsZCBhcHBseSB0byBgcmVuZGVyQ29udGFpbmVyYCBldmVuIGlmIHRoZSByZW5kZXJlZCB2YWx1ZSBpc1xuICAgICAgICAvLyBub3QgYSBUZW1wbGF0ZUluc3RhbmNlLiBIb3dldmVyLCBpdCB3aWxsIG9ubHkgaW5zZXJ0IHNjb3BlZCBzdHlsZXNcbiAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQgaWYgYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICAgICAgLy8gZm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLlxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHBhcnQudmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZUluc3RhbmNlID9cbiAgICAgICAgICAgIHBhcnQudmFsdWUudGVtcGxhdGUgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgICAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXMoc2NvcGVOYW1lLCByZW5kZXJDb250YWluZXIsIHRlbXBsYXRlKTtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJDb250YWluZXIpO1xuICAgICAgICBwYXJ0cy5zZXQoY29udGFpbmVyLCBwYXJ0KTtcbiAgICB9XG4gICAgLy8gQWZ0ZXIgZWxlbWVudHMgaGF2ZSBoaXQgdGhlIERPTSwgdXBkYXRlIHN0eWxpbmcgaWYgdGhpcyBpcyB0aGVcbiAgICAvLyBpbml0aWFsIHJlbmRlciB0byB0aGlzIGNvbnRhaW5lci5cbiAgICAvLyBUaGlzIGlzIG5lZWRlZCB3aGVuZXZlciBkeW5hbWljIGNoYW5nZXMgYXJlIG1hZGUgc28gaXQgd291bGQgYmVcbiAgICAvLyBzYWZlc3QgdG8gZG8gZXZlcnkgcmVuZGVyOyBob3dldmVyLCB0aGlzIHdvdWxkIHJlZ3Jlc3MgcGVyZm9ybWFuY2VcbiAgICAvLyBzbyB3ZSBsZWF2ZSBpdCB1cCB0byB0aGUgdXNlciB0byBjYWxsIGBTaGFkeUNTUy5zdHlsZUVsZW1lbnRgXG4gICAgLy8gZm9yIGR5bmFtaWMgY2hhbmdlcy5cbiAgICBpZiAoIWhhc1JlbmRlcmVkICYmIG5lZWRzU2NvcGluZykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KGNvbnRhaW5lci5ob3N0KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhZHktcmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbnZhciBfYTtcbi8qKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG53aW5kb3cuSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9XG4gICAgKHByb3AsIF9vYmopID0+IHByb3A7XG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgICB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsID0gKHZhbHVlLCBvbGQpID0+IHtcbiAgICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICAgIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICAgIHJlZmxlY3Q6IGZhbHNlLFxuICAgIGhhc0NoYW5nZWQ6IG5vdEVxdWFsXG59O1xuY29uc3QgbWljcm90YXNrUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xuLyoqXG4gKiBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGdvb2Qgc3VwcG9ydCBmb3Igc3RhdGljXG4gKiBwcm9wZXJ0eSBzZW1hbnRpY3Mgd2hlcmUgXCJ0aGlzXCIgaXMgZHluYW1pYyAoZS5nLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3IGFuZCBvdGhlcnMpIHNvIHdlIHVzZVxuICogdGhpcyBoYWNrIHRvIGJ5cGFzcyBhbnkgcmV3cml0aW5nIGJ5IHRoZSBjb21waWxlci5cbiAqL1xuY29uc3QgZmluYWxpemVkID0gJ2ZpbmFsaXplZCc7XG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB3aGljaCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcy4gV2hlblxuICogcHJvcGVydGllcyBjaGFuZ2UsIHRoZSBgdXBkYXRlYCBtZXRob2QgaXMgYXN5bmNocm9ub3VzbHkgY2FsbGVkLiBUaGlzIG1ldGhvZFxuICogc2hvdWxkIGJlIHN1cHBsaWVkIGJ5IHN1YmNsYXNzZXJzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBVcGRhdGluZ0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl91cGRhdGVQcm9taXNlID0gbWljcm90YXNrUHJvbWlzZTtcbiAgICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgICAgICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcCB3aXRoIGtleXMgb2YgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICAvLyBub3RlOiBwaWdneSBiYWNraW5nIG9uIHRoaXMgdG8gZW5zdXJlIHdlJ3JlIGZpbmFsaXplZC5cbiAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcy5mb3JFYWNoKCh2LCBwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gdGhpcy5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIHYpO1xuICAgICAgICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuc2V0KGF0dHIsIHApO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoZSBwcml2YXRlIGBfY2xhc3NQcm9wZXJ0aWVzYCBwcm9wZXJ0eSBtZXRhZGF0YSBpcyBjcmVhdGVkLlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGBmaW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAgICogZW5zdXJlIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgY2FuIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gZW5zdXJlIHByaXZhdGUgc3RvcmFnZSBmb3IgcHJvcGVydHkgZGVjbGFyYXRpb25zLlxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgICAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fY2xhc3NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYgKHN1cGVyUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX2NsYXNzUHJvcGVydGllcy5zZXQoaywgdikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuICAgICAqIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIHByb3BlcnR5IG9wdGlvblxuICAgICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICAgKiBhbiB1cGRhdGUuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYGZpbmFsaXplYCwgd2UgZW5zdXJlIHN0b3JhZ2UgZXhpc3RzIGZvciBwcm9wZXJ0eVxuICAgICAgICAvLyBtZXRhZGF0YS5cbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIHRoaXMuX2NsYXNzUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAgICAgLy8gaXQgd291bGQgYmUgbG9zdCBvdGhlcndpc2UgYW5kIHRoYXQgd291bGQgbmV2ZXIgYmUgdGhlIHVzZXIncyBpbnRlbnRpb247XG4gICAgICAgIC8vIEluc3RlYWQsIHdlIGV4cGVjdCB1c2VycyB0byBjYWxsIGByZXF1ZXN0VXBkYXRlYCB0aGVtc2VsdmVzIGZyb21cbiAgICAgICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgICAgICAvLyBzdGlsbCBvdmVyd3JpdGUgaXRcbiAgICAgICAgaWYgKG9wdGlvbnMubm9BY2Nlc3NvciB8fCB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJyA/IFN5bWJvbCgpIDogYF9fJHtuYW1lfWA7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWFueSBubyBzeW1ib2wgaW4gaW5kZXhcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1trZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAgICogYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIC8vIGZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICAgICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgICBpZiAoIXN1cGVyQ3Rvci5oYXNPd25Qcm9wZXJ0eShmaW5hbGl6ZWQpKSB7XG4gICAgICAgICAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzW2ZpbmFsaXplZF0gPSB0cnVlO1xuICAgICAgICB0aGlzLl9lbnN1cmVDbGFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBNYXAgcG9wdWxhdGVkIGluIG9ic2VydmVkQXR0cmlidXRlc1xuICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBtYWtlIGFueSBwcm9wZXJ0aWVzXG4gICAgICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgICAgICAvLyBhbnkgcHJvcGVydGllcyBkZWZpbmVkIG9uIHRoZSBzdXBlckNsYXNzLCBhbmQgZmluYWxpemF0aW9uIGVuc3VyZXNcbiAgICAgICAgLy8gdGhlIGVudGlyZSBwcm90b3R5cGUgY2hhaW4gaXMgZmluYWxpemVkLlxuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgICAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAgICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgICAgICAgICAuLi4odHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpID9cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhwcm9wcykgOlxuICAgICAgICAgICAgICAgICAgICBbXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAgICAgICAgIC8vIG5vdGUsIHVzZSBvZiBgYW55YCBpcyBkdWUgdG8gVHlwZVNyaXB0IGxhY2sgb2Ygc3VwcG9ydCBmb3Igc3ltYm9sIGluXG4gICAgICAgICAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IG5vIHN5bWJvbCBpbiBpbmRleFxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2UgP1xuICAgICAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgICAgICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIDpcbiAgICAgICAgICAgICAgICAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhIHByb3BlcnR5IHNob3VsZCByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICAgKiBDYWxsZWQgd2hlbiBhIHByb3BlcnR5IHZhbHVlIGlzIHNldCBhbmQgdXNlcyB0aGUgYGhhc0NoYW5nZWRgXG4gICAgICogb3B0aW9uIGZvciB0aGUgcHJvcGVydHkgaWYgcHJlc2VudCBvciBhIHN0cmljdCBpZGVudGl0eSBjaGVjay5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfdmFsdWVIYXNDaGFuZ2VkKHZhbHVlLCBvbGQsIGhhc0NoYW5nZWQgPSBub3RFcXVhbCkge1xuICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICogQ2FsbGVkIHZpYSB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AgYW5kIHVzZXMgdGhlIHByb3BlcnR5J3NcbiAgICAgKiBgY29udmVydGVyYCBvciBgY29udmVydGVyLmZyb21BdHRyaWJ1dGVgIHByb3BlcnR5IG9wdGlvbi5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXIgfHwgZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgICAgY29uc3QgZnJvbUF0dHJpYnV0ZSA9ICh0eXBlb2YgY29udmVydGVyID09PSAnZnVuY3Rpb24nID8gY29udmVydGVyIDogY29udmVydGVyLmZyb21BdHRyaWJ1dGUpO1xuICAgICAgICByZXR1cm4gZnJvbUF0dHJpYnV0ZSA/IGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIDogdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IHZhbHVlLiBJZiB0aGlzXG4gICAgICogcmV0dXJucyB1bmRlZmluZWQsIHRoZSBwcm9wZXJ0eSB3aWxsICpub3QqIGJlIHJlZmxlY3RlZCB0byBhbiBhdHRyaWJ1dGUuXG4gICAgICogSWYgdGhpcyByZXR1cm5zIG51bGwsIHRoZSBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkLCBvdGhlcndpc2UgdGhlXG4gICAgICogYXR0cmlidXRlIHdpbGwgYmUgc2V0IHRvIHRoZSB2YWx1ZS5cbiAgICAgKiBUaGlzIHVzZXMgdGhlIHByb3BlcnR5J3MgYHJlZmxlY3RgIGFuZCBgdHlwZS50b0F0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9ucy5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcHJvcGVydHlWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG9wdGlvbnMuY29udmVydGVyO1xuICAgICAgICBjb25zdCB0b0F0dHJpYnV0ZSA9IGNvbnZlcnRlciAmJiBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUgfHxcbiAgICAgICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgICAgIHJldHVybiB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgY2FwdHVyZXMgYW55IHByZS1zZXQgdmFsdWVzIGZvclxuICAgICAqIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLl9zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGVuc3VyZXMgZmlyc3QgdXBkYXRlIHdpbGwgYmUgY2F1Z2h0IGJ5IGFuIGVhcmx5IGFjY2VzcyBvZlxuICAgICAgICAvLyBgdXBkYXRlQ29tcGxldGVgXG4gICAgICAgIHRoaXMuX3JlcXVlc3RVcGRhdGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgICAqIFRoZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSBNYXAgd2hpY2ggaXMgcGxheWVkIGJhY2sgYWZ0ZXIgdGhlXG4gICAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgICAqICg8PTQxKSwgcHJvcGVydGllcyBjcmVhdGVkIGZvciBuYXRpdmUgcGxhdGZvcm0gcHJvcGVydGllcyBsaWtlIChgaWRgIG9yXG4gICAgICogYG5hbWVgKSBtYXkgbm90IGhhdmUgZGVmYXVsdCB2YWx1ZXMgc2V0IGluIHRoZSBlbGVtZW50IGNvbnN0cnVjdG9yLiBPblxuICAgICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgICAqIGRlZmF1bHQgdmFsdWUgd2lsbCBvdmVyd3JpdGUgYW55IGVsZW1lbnQgZGVmYXVsdCAoZS5nLiBpZiB0aGUgZWxlbWVudCBzZXRzXG4gICAgICogdGhpcy5pZCA9ICdpZCcgaW4gdGhlIGNvbnN0cnVjdG9yLCB0aGUgJ2lkJyB3aWxsIGJlY29tZSAnJyBzaW5jZSB0aGlzIGlzXG4gICAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICAgKi9cbiAgICBfc2F2ZUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgLl9jbGFzc1Byb3BlcnRpZXMuZm9yRWFjaCgoX3YsIHApID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHByZXZpb3VzbHkgc2F2ZWQgaW5zdGFuY2UgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBfYXBwbHlJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvciBsb29wc1xuICAgICAgICAvLyBleHBlY3RpbmcgYXJyYXlzXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzLmZvckVhY2goKHYsIHApID0+IHRoaXNbcF0gPSB2KTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0hBU19DT05ORUNURUQ7XG4gICAgICAgIC8vIEVuc3VyZSBmaXJzdCBjb25uZWN0aW9uIGNvbXBsZXRlcyBhbiB1cGRhdGUuIFVwZGF0ZXMgY2Fubm90IGNvbXBsZXRlXG4gICAgICAgIC8vIGJlZm9yZSBjb25uZWN0aW9uIGFuZCBpZiBvbmUgaXMgcGVuZGluZyBjb25uZWN0aW9uIHRoZVxuICAgICAgICAvLyBgX2hhc0Nvbm5lY3Rpb25SZXNvbHZlcmAgd2lsbCBleGlzdC4gSWYgc28sIHJlc29sdmUgaXQgdG8gY29tcGxldGUgdGhlXG4gICAgICAgIC8vIHVwZGF0ZSwgb3RoZXJ3aXNlIHJlcXVlc3RVcGRhdGUuXG4gICAgICAgIGlmICh0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlcikge1xuICAgICAgICAgICAgdGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgYHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIGluIGV4dGVuc2lvbnMgd2hpbGVcbiAgICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wcm9wZXJ0eVRvQXR0cmlidXRlKG5hbWUsIHZhbHVlLCBvcHRpb25zID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24pIHtcbiAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBjdG9yLl9hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGN0b3IuX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBhbiB1bmRlZmluZWQgdmFsdWUgZG9lcyBub3QgY2hhbmdlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAgICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgICAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEU7XG4gICAgICAgICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlICYgflNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlIGlmIGl0IHdhc1xuICAgICAgICAvLyBqdXN0IHNldCBmcm9tIGEgcHJvcGVydHkgc2V0dGVyLlxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGN0b3IuX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQocHJvcE5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSVNfUkVGTEVDVElOR19UT19QUk9QRVJUWTtcbiAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID1cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgcHJpdmF0ZSB2ZXJzaW9uIG9mIGByZXF1ZXN0VXBkYXRlYCBkb2VzIG5vdCBhY2Nlc3Mgb3IgcmV0dXJuIHRoZVxuICAgICAqIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS4gVGhpcyBwcm9taXNlIGNhbiBiZSBvdmVycmlkZGVuIGFuZCBpcyB0aGVyZWZvcmVcbiAgICAgKiBub3QgZnJlZSB0byBhY2Nlc3MuXG4gICAgICovXG4gICAgX3JlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gY3Rvci5fY2xhc3NQcm9wZXJ0aWVzLmdldChuYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIGlmIChjdG9yLl92YWx1ZUhhc0NoYW5nZWQodGhpc1tuYW1lXSwgb2xkVmFsdWUsIG9wdGlvbnMuaGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5zZXQobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlLCBpdCdzIGltcG9ydGFudCB0aGF0IGV2ZXJ5IGNoYW5nZSBoYXMgYSBjaGFuY2UgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5IHRvIGBfcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgICAgICEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICBzaG91bGRSZXF1ZXN0VXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUgJiYgc2hvdWxkUmVxdWVzdFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5xdWV1ZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAgICogYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZFxuICAgICAqIGJ5IHNldHRpbmcgYSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICAgKiBvcHRpb25zIGFyZSBob25vcmVkLiBSZXR1cm5zIHRoZSBgdXBkYXRlQ29tcGxldGVgIFByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWRcbiAgICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUge1Byb3BlcnR5S2V5fSAob3B0aW9uYWwpIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIF9lbnF1ZXVlVXBkYXRlKCkge1xuICAgICAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgbGV0IHJlamVjdDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNVcGRhdGVQcm9taXNlID0gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIHJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICAgICAgICBhd2FpdCBwcmV2aW91c1VwZGF0ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgcHJldmlvdXMgZXJyb3JzLiBXZSBvbmx5IGNhcmUgdGhhdCB0aGUgcHJldmlvdXMgY3ljbGUgaXNcbiAgICAgICAgICAgIC8vIGRvbmUuIEFueSBlcnJvciBzaG91bGQgaGF2ZSBiZWVuIGhhbmRsZWQgaW4gdGhlIHByZXZpb3VzIHVwZGF0ZS5cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzIGNvbm5lY3RlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGVyZm9ybVVwZGF0ZSgpO1xuICAgICAgICAgICAgLy8gSWYgYHBlcmZvcm1VcGRhdGVgIHJldHVybnMgYSBQcm9taXNlLCB3ZSBhd2FpdCBpdC4gVGhpcyBpcyBkb25lIHRvXG4gICAgICAgICAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgICAgICAgICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSk7XG4gICAgfVxuICAgIGdldCBfaGFzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX0NPTk5FQ1RFRCk7XG4gICAgfVxuICAgIGdldCBfaGFzUmVxdWVzdGVkVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfVVBEQVRFX1JFUVVFU1RFRCk7XG4gICAgfVxuICAgIGdldCBoYXNVcGRhdGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSEFTX1VQREFURUQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAgICogdXBkYXRlLCBgZmlyc3RVcGRhdGVkYCBhbmQgYHVwZGF0ZWRgIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZSB0aW1pbmcgb2YgdXBkYXRlcy4gSWYgdGhpc1xuICAgICAqIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIucGVyZm9ybVVwZGF0ZSgpYCBtdXN0IGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgKiAgIHN1cGVyLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFByb3BlcnRpZXMgPSB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRoaXMuc2hvdWxkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAgICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbWFya1VwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9IQVNfVVBEQVRFRDtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9tYXJrVXBkYXRlZCgpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgJiB+U1RBVEVfVVBEQVRFX1JFUVVFU1RFRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAgICogVGhlIFByb21pc2UgdmFsdWUgaXMgYSBib29sZWFuIHRoYXQgaXMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGNvbXBsZXRlZCB0aGVcbiAgICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgICAqIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgICAqXG4gICAgICogVG8gYXdhaXQgYWRkaXRpb25hbCBhc3luY2hyb25vdXMgd29yaywgb3ZlcnJpZGUgdGhlIGBfZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICAgKiBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAgICogYHN1cGVyLl9nZXRVcGRhdGVDb21wbGV0ZSgpYCwgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqL1xuICAgIGdldCB1cGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICAgKiBzdXBlcmNsYXNzIGdldHRlciAoZS5nLiBgc3VwZXIudXBkYXRlQ29tcGxldGUudGhlbiguLi4pYCkgd2hlbiB0aGUgdGFyZ2V0XG4gICAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgICAqICAgICBhc3luYyBfZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAgICogICAgICAgYXdhaXQgc3VwZXIuX2dldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAgICogICAgICAgYXdhaXQgdGhpcy5fbXlDaGlsZC51cGRhdGVDb21wbGV0ZTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqL1xuICAgIF9nZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZVByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGVgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgICAqIGFub3RoZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgodiwgaykgPT4gdGhpcy5fcHJvcGVydHlUb0F0dHJpYnV0ZShrLCB0aGlzW2tdLCB2KSk7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAgICpcbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgfVxufVxuX2EgPSBmaW5hbGl6ZWQ7XG4vKipcbiAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICovXG5VcGRhdGluZ0VsZW1lbnRbX2FdID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0aW5nLWVsZW1lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgbGVnYWN5Q3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBjbGF6eikgPT4ge1xuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAvLyBzdWJ0eXBlIG9mIHRoZSBkZWNvcmF0ZWQgY2xhc3Mgd2hlbiBjbGF6eiBpcyB0eXBlZCBhc1xuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgLy8gYXBwbGllZCB0byBlbGVtZW50cyBob3dldmVyLlxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICByZXR1cm4gY2xheno7XG59O1xuY29uc3Qgc3RhbmRhcmRDdXN0b21FbGVtZW50ID0gKHRhZ05hbWUsIGRlc2NyaXB0b3IpID0+IHtcbiAgICBjb25zdCB7IGtpbmQsIGVsZW1lbnRzIH0gPSBkZXNjcmlwdG9yO1xuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQsXG4gICAgICAgIGVsZW1lbnRzLFxuICAgICAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eik7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8qKlxuICogQ2xhc3MgZGVjb3JhdG9yIGZhY3RvcnkgdGhhdCBkZWZpbmVzIHRoZSBkZWNvcmF0ZWQgY2xhc3MgYXMgYSBjdXN0b20gZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gdGFnTmFtZSB0aGUgbmFtZSBvZiB0aGUgY3VzdG9tIGVsZW1lbnQgdG8gZGVmaW5lXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b21FbGVtZW50ID0gKHRhZ05hbWUpID0+IChjbGFzc09yRGVzY3JpcHRvcikgPT4gKHR5cGVvZiBjbGFzc09yRGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgIGxlZ2FjeUN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpIDpcbiAgICBzdGFuZGFyZEN1c3RvbUVsZW1lbnQodGFnTmFtZSwgY2xhc3NPckRlc2NyaXB0b3IpO1xuY29uc3Qgc3RhbmRhcmRQcm9wZXJ0eSA9IChvcHRpb25zLCBlbGVtZW50KSA9PiB7XG4gICAgLy8gV2hlbiBkZWNvcmF0aW5nIGFuIGFjY2Vzc29yLCBwYXNzIGl0IHRocm91Z2ggYW5kIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAvLyBOb3RlLCB0aGUgYGhhc093blByb3BlcnR5YCBjaGVjayBpbiBgY3JlYXRlUHJvcGVydHlgIGVuc3VyZXMgd2UgZG9uJ3RcbiAgICAvLyBzdG9tcCBvdmVyIHRoZSB1c2VyJ3MgYWNjZXNzb3IuXG4gICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiYgZWxlbWVudC5kZXNjcmlwdG9yICYmXG4gICAgICAgICEoJ3ZhbHVlJyBpbiBlbGVtZW50LmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50LCB7IGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIGNyZWF0ZVByb3BlcnR5KCkgdGFrZXMgY2FyZSBvZiBkZWZpbmluZyB0aGUgcHJvcGVydHksIGJ1dCB3ZSBzdGlsbFxuICAgICAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAgICAgLy8gdW51c2VkIHByb3RvdHlwZSBmaWVsZC4gVGhlIGZpbmlzaGVyIGNhbGxzIGNyZWF0ZVByb3BlcnR5KCkuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAnZmllbGQnLFxuICAgICAgICAgICAga2V5OiBTeW1ib2woKSxcbiAgICAgICAgICAgIHBsYWNlbWVudDogJ293bicsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiB7fSxcbiAgICAgICAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy85MjYwIGV4dHJhczogW1xuICAgICAgICAgICAgLy8gICB7XG4gICAgICAgICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgICAgICAgIC8vICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyBdLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZXIoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmluaXRpYWxpemVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHtcbiAgICBwcm90by5jb25zdHJ1Y3RvclxuICAgICAgICAuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgTGl0RWxlbWVudCBwcm9wZXJ0eSB3aGljaCByZWZsZWN0cyBhXG4gKiBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gQSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgbWF5IG9wdGlvbmFsbHkgYmVcbiAqIHN1cHBsaWVkIHRvIGNvbmZpZ3VyZSBwcm9wZXJ0eSBmZWF0dXJlcy5cbiAqXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnMpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgbGVnYWN5UHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpIDpcbiAgICAgICAgc3RhbmRhcmRQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcik7XG59XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyIHRoYXRcbiAqIGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvciBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKlxuICogQEV4cG9ydERlY29yYXRlZEl0ZW1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcikge1xuICAgIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3IsIFxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgZGVjb3JhdG9yXG4gICAgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChuYW1lICE9PSB1bmRlZmluZWQpID9cbiAgICAgICAgICAgIGxlZ2FjeVF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgICAgICAgICBzdGFuZGFyZFF1ZXJ5KGRlc2NyaXB0b3IsIHByb3RvT3JEZXNjcmlwdG9yKTtcbiAgICB9O1xufVxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlclxuICogdGhhdCBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3JBbGwgb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBFeHBvcnREZWNvcmF0ZWRJdGVtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlBbGwoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gKHByb3RvT3JEZXNjcmlwdG9yLCBcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55IGRlY29yYXRvclxuICAgIG5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgICBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgOlxuICAgICAgICAgICAgc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbmNvbnN0IGxlZ2FjeVF1ZXJ5ID0gKGRlc2NyaXB0b3IsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCBkZXNjcmlwdG9yKTtcbn07XG5jb25zdCBzdGFuZGFyZFF1ZXJ5ID0gKGRlc2NyaXB0b3IsIGVsZW1lbnQpID0+ICh7XG4gICAga2luZDogJ21ldGhvZCcsXG4gICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICBrZXk6IGVsZW1lbnQua2V5LFxuICAgIGRlc2NyaXB0b3IsXG59KTtcbmNvbnN0IHN0YW5kYXJkRXZlbnRPcHRpb25zID0gKG9wdGlvbnMsIGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjbGF6ei5wcm90b3R5cGVbZWxlbWVudC5rZXldLCBvcHRpb25zKTtcbiAgICAgICAgfSB9KTtcbn07XG5jb25zdCBsZWdhY3lFdmVudE9wdGlvbnMgPSBcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnkgbGVnYWN5IGRlY29yYXRvclxuKG9wdGlvbnMsIHByb3RvLCBuYW1lKSA9PiB7XG4gICAgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7XG59O1xuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgdG8gYSBtZXRob2QgdXNlZCBhcyBhbiBldmVudCBsaXN0ZW5lciBpbiBhXG4gKiBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgdGhhdCBzcGVjaWZpcyBldmVudCBsaXN0ZW5lciBvcHRpb25zIGFzIGFjY2VwdGVkIGJ5XG4gKiBgRXZlbnRUYXJnZXQjYWRkRXZlbnRMaXN0ZW5lcmAgYW5kIGBFdmVudFRhcmdldCNyZW1vdmVFdmVudExpc3RlbmVyYC5cbiAqXG4gKiBDdXJyZW50IGJyb3dzZXJzIHN1cHBvcnQgdGhlIGBjYXB0dXJlYCwgYHBhc3NpdmVgLCBhbmQgYG9uY2VgIG9wdGlvbnMuIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FdmVudFRhcmdldC9hZGRFdmVudExpc3RlbmVyI1BhcmFtZXRlcnNcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICBjbGFzcyBNeUVsZW1lbnQge1xuICpcbiAqICAgICAgIGNsaWNrZWQgPSBmYWxzZTtcbiAqXG4gKiAgICAgICByZW5kZXIoKSB7XG4gKiAgICAgICAgIHJldHVybiBodG1sYDxkaXYgQGNsaWNrPSR7dGhpcy5fb25DbGlja31gPjxidXR0b24+PC9idXR0b24+PC9kaXY+YDtcbiAqICAgICAgIH1cbiAqXG4gKiAgICAgICBAZXZlbnRPcHRpb25zKHtjYXB0dXJlOiB0cnVlfSlcbiAqICAgICAgIF9vbkNsaWNrKGUpIHtcbiAqICAgICAgICAgdGhpcy5jbGlja2VkID0gdHJ1ZTtcbiAqICAgICAgIH1cbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjb25zdCBldmVudE9wdGlvbnMgPSAob3B0aW9ucykgPT4gXG4vLyBSZXR1cm4gdmFsdWUgdHlwZWQgYXMgYW55IHRvIHByZXZlbnQgVHlwZVNjcmlwdCBmcm9tIGNvbXBsYWluaW5nIHRoYXRcbi8vIHN0YW5kYXJkIGRlY29yYXRvciBmdW5jdGlvbiBzaWduYXR1cmUgZG9lcyBub3QgbWF0Y2ggVHlwZVNjcmlwdCBkZWNvcmF0b3Jcbi8vIHNpZ25hdHVyZVxuLy8gVE9ETyhrc2NoYWFmKTogdW5jbGVhciB3aHkgaXQgd2FzIG9ubHkgZmFpbGluZyBvbiB0aGlzIGRlY29yYXRvciBhbmQgbm90XG4vLyB0aGUgb3RoZXJzXG4oKHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA9PiAobmFtZSAhPT0gdW5kZWZpbmVkKSA/XG4gICAgbGVnYWN5RXZlbnRPcHRpb25zKG9wdGlvbnMsIHByb3RvT3JEZXNjcmlwdG9yLCBuYW1lKSA6XG4gICAgc3RhbmRhcmRFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY29yYXRvcnMuanMubWFwIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE5IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5leHBvcnQgY29uc3Qgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzID0gKCdhZG9wdGVkU3R5bGVTaGVldHMnIGluIERvY3VtZW50LnByb3RvdHlwZSkgJiZcbiAgICAoJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlKTtcbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5leHBvcnQgY2xhc3MgQ1NTUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3Rvcihjc3NUZXh0LCBzYWZlVG9rZW4pIHtcbiAgICAgICAgaWYgKHNhZmVUb2tlbiAhPT0gY29uc3RydWN0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIH1cbiAgICAvLyBOb3RlLCB0aGlzIGlzIGEgZ2V0dGVyIHNvIHRoYXQgaXQncyBsYXp5LiBJbiBwcmFjdGljZSwgdGhpcyBtZWFuc1xuICAgIC8vIHN0eWxlc2hlZXRzIGFyZSBub3QgY3JlYXRlZCB1bnRpbCB0aGUgZmlyc3QgZWxlbWVudCBpbnN0YW5jZSBpcyBtYWRlLlxuICAgIGdldCBzdHlsZVNoZWV0KCkge1xuICAgICAgICBpZiAodGhpcy5fc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBOb3RlLCBpZiBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBzdXBwb3J0ZWQgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldFxuICAgICAgICAgICAgLy8gaXMgY29uc3RydWN0YWJsZS5cbiAgICAgICAgICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0LnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHlsZVNoZWV0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGVTaGVldDtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNzc1RleHQ7XG4gICAgfVxufVxuLyoqXG4gKiBXcmFwIGEgdmFsdWUgZm9yIGludGVycG9sYXRpb24gaW4gYSBjc3MgdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWwuXG4gKlxuICogVGhpcyBpcyB1bnNhZmUgYmVjYXVzZSB1bnRydXN0ZWQgQ1NTIHRleHQgY2FuIGJlIHVzZWQgdG8gcGhvbmUgaG9tZVxuICogb3IgZXhmaWx0cmF0ZSBkYXRhIHRvIGFuIGF0dGFja2VyIGNvbnRyb2xsZWQgc2l0ZS4gVGFrZSBjYXJlIHRvIG9ubHkgdXNlXG4gKiB0aGlzIHdpdGggdHJ1c3RlZCBpbnB1dC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUNTUyA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBuZXcgQ1NTUmVzdWx0KFN0cmluZyh2YWx1ZSksIGNvbnN0cnVjdGlvblRva2VuKTtcbn07XG5jb25zdCB0ZXh0RnJvbUNTU1Jlc3VsdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENTU1Jlc3VsdCkge1xuICAgICAgICByZXR1cm4gdmFsdWUuY3NzVGV4dDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXRcbiAgICAgICAgICAgIHRha2UgY2FyZSB0byBlbnN1cmUgcGFnZSBzZWN1cml0eS5gKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUZW1wbGF0ZSB0YWcgd2hpY2ggd2hpY2ggY2FuIGJlIHVzZWQgd2l0aCBMaXRFbGVtZW50J3MgYHN0eWxlYCBwcm9wZXJ0eSB0b1xuICogc2V0IGVsZW1lbnQgc3R5bGVzLiBGb3Igc2VjdXJpdHkgcmVhc29ucywgb25seSBsaXRlcmFsIHN0cmluZyB2YWx1ZXMgbWF5IGJlXG4gKiB1c2VkLiBUbyBpbmNvcnBvcmF0ZSBub24tbGl0ZXJhbCB2YWx1ZXMgYHVuc2FmZUNTU2AgbWF5IGJlIHVzZWQgaW5zaWRlIGFcbiAqIHRlbXBsYXRlIHN0cmluZyBwYXJ0LlxuICovXG5leHBvcnQgY29uc3QgY3NzID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGNzc1RleHQgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKTtcbiAgICByZXR1cm4gbmV3IENTU1Jlc3VsdChjc3NUZXh0LCBjb25zdHJ1Y3Rpb25Ub2tlbik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gJ2xpdC1odG1sL2xpYi9zaGFkeS1yZW5kZXIuanMnO1xuaW1wb3J0IHsgVXBkYXRpbmdFbGVtZW50IH0gZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi91cGRhdGluZy1lbGVtZW50LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlY29yYXRvcnMuanMnO1xuZXhwb3J0IHsgaHRtbCwgc3ZnLCBUZW1wbGF0ZVJlc3VsdCwgU1ZHVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbC9saXQtaHRtbC5qcyc7XG5pbXBvcnQgeyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfSBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL2Nzcy10YWcuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBMaXRFbGVtZW50IHVzYWdlLlxuLy8gVE9ETyhqdXN0aW5mYWduYW5pKTogaW5qZWN0IHZlcnNpb24gbnVtYmVyIGF0IGJ1aWxkIHRpbWVcbih3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddIHx8ICh3aW5kb3dbJ2xpdEVsZW1lbnRWZXJzaW9ucyddID0gW10pKVxuICAgIC5wdXNoKCcyLjIuMScpO1xuLyoqXG4gKiBNaW5pbWFsIGltcGxlbWVudGF0aW9uIG9mIEFycmF5LnByb3RvdHlwZS5mbGF0XG4gKiBAcGFyYW0gYXJyIHRoZSBhcnJheSB0byBmbGF0dGVuXG4gKiBAcGFyYW0gcmVzdWx0IHRoZSBhY2N1bWxhdGVkIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhcnJheUZsYXQoc3R5bGVzLCByZXN1bHQgPSBbXSkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZXNbaV07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgYXJyYXlGbGF0KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogRGVlcGx5IGZsYXR0ZW5zIHN0eWxlcyBhcnJheS4gVXNlcyBuYXRpdmUgZmxhdCBpZiBhdmFpbGFibGUuICovXG5jb25zdCBmbGF0dGVuU3R5bGVzID0gKHN0eWxlcykgPT4gc3R5bGVzLmZsYXQgPyBzdHlsZXMuZmxhdChJbmZpbml0eSkgOiBhcnJheUZsYXQoc3R5bGVzKTtcbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgICAgIC8vIFRoZSBDbG9zdXJlIEpTIENvbXBpbGVyIGRvZXMgbm90IGFsd2F5cyBwcmVzZXJ2ZSB0aGUgY29ycmVjdCBcInRoaXNcIlxuICAgICAgICAvLyB3aGVuIGNhbGxpbmcgc3RhdGljIHN1cGVyIG1ldGhvZHMgKGIvMTM3NDYwMjQzKSwgc28gZXhwbGljaXRseSBiaW5kLlxuICAgICAgICBzdXBlci5maW5hbGl6ZS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBQcmVwYXJlIHN0eWxpbmcgdGhhdCBpcyBzdGFtcGVkIGF0IGZpcnN0IHJlbmRlciB0aW1lLiBTdHlsaW5nXG4gICAgICAgIC8vIGlzIGJ1aWx0IGZyb20gdXNlciBwcm92aWRlZCBgc3R5bGVzYCBvciBpcyBpbmhlcml0ZWQgZnJvbSB0aGUgc3VwZXJjbGFzcy5cbiAgICAgICAgdGhpcy5fc3R5bGVzID1cbiAgICAgICAgICAgIHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc3R5bGVzJywgdGhpcykpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRVbmlxdWVTdHlsZXMoKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzIHx8IFtdO1xuICAgIH1cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2dldFVuaXF1ZVN0eWxlcygpIHtcbiAgICAgICAgLy8gVGFrZSBjYXJlIG5vdCB0byBjYWxsIGB0aGlzLnN0eWxlc2AgbXVsdGlwbGUgdGltZXMgc2luY2UgdGhpcyBnZW5lcmF0ZXNcbiAgICAgICAgLy8gbmV3IENTU1Jlc3VsdHMgZWFjaCB0aW1lLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBTaW5jZSB3ZSBkbyBub3QgY2FjaGUgQ1NTUmVzdWx0cyBieSBpbnB1dCwgYW55XG4gICAgICAgIC8vIHNoYXJlZCBzdHlsZXMgd2lsbCBnZW5lcmF0ZSBuZXcgc3R5bGVzaGVldCBvYmplY3RzLCB3aGljaCBpcyB3YXN0ZWZ1bC5cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIHdoZW4gYSBicm93c2VyIHNoaXBzIGNvbnN0cnVjdGFibGVcbiAgICAgICAgLy8gc3R5bGVzaGVldHMuXG4gICAgICAgIGNvbnN0IHVzZXJTdHlsZXMgPSB0aGlzLnN0eWxlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHVzZXJTdHlsZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBmbGF0U3R5bGVzID0gZmxhdHRlblN0eWxlcyh1c2VyU3R5bGVzKTtcbiAgICAgICAgICAgIC8vIEFzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGluZyB0aGF0IGNhblxuICAgICAgICAgICAgLy8gb2NjdXIgZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcsIGRlLWR1cGxpY2F0ZSBzdHlsZXNcbiAgICAgICAgICAgIC8vIHByZXNlcnZpbmcgdGhlIGxhc3QgaXRlbSBpbiB0aGUgbGlzdC4gVGhlIGxhc3QgaXRlbSBpcyBrZXB0IHRvXG4gICAgICAgICAgICAvLyB0cnkgdG8gcHJlc2VydmUgY2FzY2FkZSBvcmRlciB3aXRoIHRoZSBhc3N1bXB0aW9uIHRoYXQgaXQncyBtb3N0XG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAgICAgICAgICBjb25zdCBzdHlsZVNldCA9IGZsYXRTdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgICAgICAgICAgLy8gb24gSUUgc2V0LmFkZCBkb2VzIG5vdCByZXR1cm4gdGhlIHNldC5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgICAgIC8vIEFycmF5LmZyb20gZG9lcyBub3Qgd29yayBvbiBTZXQgaW4gSUVcbiAgICAgICAgICAgIHN0eWxlU2V0LmZvckVhY2goKHYpID0+IHN0eWxlcy51bnNoaWZ0KHYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1c2VyU3R5bGVzKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh1c2VyU3R5bGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBlbGVtZW50IGluaXRpYWxpemF0aW9uLiBCeSBkZWZhdWx0IHRoaXMgY2FsbHMgYGNyZWF0ZVJlbmRlclJvb3RgXG4gICAgICogdG8gY3JlYXRlIHRoZSBlbGVtZW50IGByZW5kZXJSb290YCBub2RlIGFuZCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJSb290ID1cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgICAvLyBOb3RlLCBpZiByZW5kZXJSb290IGlzIG5vdCBhIHNoYWRvd1Jvb3QsIHN0eWxlcyB3b3VsZC9jb3VsZCBhcHBseSB0byB0aGVcbiAgICAgICAgLy8gZWxlbWVudCdzIGdldFJvb3ROb2RlKCkuIFdoaWxlIHRoaXMgY291bGQgYmUgZG9uZSwgd2UncmUgY2hvb3Npbmcgbm90IHRvXG4gICAgICAgIC8vIHN1cHBvcnQgdGhpcyBub3cgc2luY2UgaXQgd291bGQgcmVxdWlyZSBkaWZmZXJlbnQgbG9naWMgYXJvdW5kIGRlLWR1cGluZy5cbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkb3dSb290ICYmIHRoaXMucmVuZGVyUm9vdCBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290KSB7XG4gICAgICAgICAgICB0aGlzLmFkb3B0U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbm9kZSBpbnRvIHdoaWNoIHRoZSBlbGVtZW50IHNob3VsZCByZW5kZXIgYW5kIGJ5IGRlZmF1bHRcbiAgICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgICAqIGNoaWxkTm9kZXMsIHJldHVybiBgdGhpc2AuXG4gICAgICogQHJldHVybnMge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gUmV0dXJucyBhIG5vZGUgaW50byB3aGljaCB0byByZW5kZXIuXG4gICAgICovXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHN0eWxpbmcgdG8gdGhlIGVsZW1lbnQgc2hhZG93Um9vdCB1c2luZyB0aGUgYHN0YXRpYyBnZXQgc3R5bGVzYFxuICAgICAqIHByb3BlcnR5LiBTdHlsaW5nIHdpbGwgYXBwbHkgdXNpbmcgYHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzYCB3aGVyZVxuICAgICAqIGF2YWlsYWJsZSBhbmQgd2lsbCBmYWxsYmFjayBvdGhlcndpc2UuIFdoZW4gU2hhZG93IERPTSBpcyBwb2x5ZmlsbGVkLFxuICAgICAqIFNoYWR5Q1NTIHNjb3BlcyBzdHlsZXMgYW5kIGFkZHMgdGhlbSB0byB0aGUgZG9jdW1lbnQuIFdoZW4gU2hhZG93IERPTVxuICAgICAqIGlzIGF2YWlsYWJsZSBidXQgYGFkb3B0ZWRTdHlsZVNoZWV0c2AgaXMgbm90LCBzdHlsZXMgYXJlIGFwcGVuZGVkIHRvIHRoZVxuICAgICAqIGVuZCBvZiB0aGUgYHNoYWRvd1Jvb3RgIHRvIFttaW1pYyBzcGVjXG4gICAgICogYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gICAgICovXG4gICAgYWRvcHRTdHlsZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcztcbiAgICAgICAgaWYgKHN0eWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVyZSBhcmUgdGhyZWUgc2VwYXJhdGUgY2FzZXMgaGVyZSBiYXNlZCBvbiBTaGFkb3cgRE9NIHN1cHBvcnQuXG4gICAgICAgIC8vICgxKSBzaGFkb3dSb290IHBvbHlmaWxsZWQ6IHVzZSBTaGFkeUNTU1xuICAgICAgICAvLyAoMikgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgYXZhaWxhYmxlOiB1c2UgaXQuXG4gICAgICAgIC8vICgzKSBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyBwb2x5ZmlsbGVkOiBhcHBlbmQgc3R5bGVzIGFmdGVyXG4gICAgICAgIC8vIHJlbmRlcmluZ1xuICAgICAgICBpZiAod2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQgJiYgIXdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbS5wcmVwYXJlQWRvcHRlZENzc1RleHQoc3R5bGVzLm1hcCgocykgPT4gcy5jc3NUZXh0KSwgdGhpcy5sb2NhbE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSb290LmFkb3B0ZWRTdHlsZVNoZWV0cyA9XG4gICAgICAgICAgICAgICAgc3R5bGVzLm1hcCgocykgPT4gcy5zdHlsZVNoZWV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBkb25lIGFmdGVyIHJlbmRlcmluZyBzbyB0aGUgYWN0dWFsIHN0eWxlIGluc2VydGlvbiBpcyBkb25lXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYC5cbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIC8vIE5vdGUsIGZpcnN0IHVwZGF0ZS9yZW5kZXIgaGFuZGxlcyBzdHlsZUVsZW1lbnQgc28gd2Ugb25seSBjYWxsIHRoaXMgaWZcbiAgICAgICAgLy8gY29ubmVjdGVkIGFmdGVyIGZpcnN0IHVwZGF0ZS5cbiAgICAgICAgaWYgKHRoaXMuaGFzVXBkYXRlZCAmJiB3aW5kb3cuU2hhZHlDU1MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgICAqIGFuZCBjYWxscyBgcmVuZGVyYCB0byByZW5kZXIgRE9NIHZpYSBsaXQtaHRtbC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZVxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlciBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKiAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgY29uc3QgdGVtcGxhdGVSZXN1bHQgPSB0aGlzLnJlbmRlcigpO1xuICAgICAgICBpZiAodGVtcGxhdGVSZXN1bHQgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIC5yZW5kZXIodGVtcGxhdGVSZXN1bHQsIHRoaXMucmVuZGVyUm9vdCwgeyBzY29wZU5hbWU6IHRoaXMubG9jYWxOYW1lLCBldmVudENvbnRleHQ6IHRoaXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiBuYXRpdmUgU2hhZG93IERPTSBpcyB1c2VkIGJ1dCBhZG9wdGVkU3R5bGVzIGFyZSBub3Qgc3VwcG9ydGVkLFxuICAgICAgICAvLyBpbnNlcnQgc3R5bGluZyBhZnRlciByZW5kZXJpbmcgdG8gZW5zdXJlIGFkb3B0ZWRTdHlsZXMgaGF2ZSBoaWdoZXN0XG4gICAgICAgIC8vIHByaW9yaXR5LlxuICAgICAgICBpZiAodGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuX3N0eWxlcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gcy5jc3NUZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGVhY2ggdXBkYXRlIHRvIHBlcmZvcm0gcmVuZGVyaW5nIHRhc2tzLiBUaGlzIG1ldGhvZCBtdXN0IHJldHVyblxuICAgICAqIGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KlxuICAgICAqIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgdXBkYXRpbmctZWxlbWVudC50cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuTGl0RWxlbWVudFsnZmluYWxpemVkJ10gPSB0cnVlO1xuLyoqXG4gKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCB0byB0aGUgZWxlbWVudCdzXG4gKiBET00uXG4gKiBAcGFyYW0ge1RlbXBsYXRlUmVzdWx0fSBUZW1wbGF0ZSB0byByZW5kZXIuXG4gKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gKiBAbm9jb2xsYXBzZVxuICovXG5MaXRFbGVtZW50LnJlbmRlciA9IHJlbmRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcCIsIi8qKlxyXG4gKiBJbXBvcnQgTGl0RWxlbWVudCBiYXNlIGNsYXNzLCBodG1sIGhlbHBlciBmdW5jdGlvbixcclxuICogYW5kIFR5cGVTY3JpcHQgZGVjb3JhdG9yc1xyXG4gKiovXHJcbmltcG9ydCB7XHJcbiAgTGl0RWxlbWVudCwgaHRtbCwgY3VzdG9tRWxlbWVudCwgcHJvcGVydHlcclxufSBmcm9tICdsaXQtZWxlbWVudCc7XHJcblxyXG5pbXBvcnQgeyBCVExFX0FjdGlvbiwgQlRMRV9TdHJ1Y3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xTR19idGxlL21haW4tdmlldydcclxuaW1wb3J0IHthY2Nlc3NEYl9maWxsQUREYXRhfSBmcm9tICcuL2RhdGFiYXNlL2FjY2Vzc0RiJ1xyXG5pbXBvcnQgeyBpbnRlcnBvbGF0ZUJ1R24gfSBmcm9tICdkMyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIHBvc2l0aW9uX2xvZyB7XHJcbiAgdGltZTogbnVtYmVyLCAgLy8gZXBvY2ggdGltZS9udW1iZXJcclxuICBwb3M6IG51bWJlcixcclxuICBhbGFybTogbnVtYmVyICAgLy8gdGltZSBpbiBvbmUgcG9zaXRpb24gaW4gc2Vjb25kc1xyXG59XHJcbnZhciBtYWNBZGRyZXNzOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuLy8gc2V0dGluZ3NcclxudmFyIGRldGVjdGlvbkludGVydmFsbVM6bnVtYmVyID0gKDEqMTAwMCk7IC8vIDEgc2VjXHJcbnZhciBuck9mU2FtcGxlc1BlckF2ZzpudW1iZXIgICA9IDEqNjA7IC8vIDEgbWludXRlblxyXG52YXIgY3VycmVudEF2Z0J1ZjpudW1iZXJbXSA9IFtdO1xyXG52YXIgbWluVHVybkFuZ2xlICA9IDIwOyAvLyAyMCBkZWdyZWVzIFxyXG52YXIgY3VycmVudEF2ZyA9IDA7XHJcbnZhciBhbGFybVRpbWUgPSA2MCo2MCo0OyAvLyBpbiBzZWMgYWxhcm0gNGhcclxudmFyIGFsYXJtRHVyYXRpb24gPSAwOyAgLy8gaG93IGxvbmcgYW5nbGUgaXMgbm90IGNoYW5nZWRcclxuXHJcblxyXG4vLyB0cnkgdG8gbG9jayB0aGUgc2NyZWVuIC4uLlxyXG5cclxuLy8gVGhlIHdha2UgbG9jayBzZW50aW5lbC5cclxudmFyIHdha2VMb2NrOmFueSA9IG51bGw7XHJcblxyXG4vLyBGdW5jdGlvbiB0aGF0IGF0dGVtcHRzIHRvIHJlcXVlc3QgYSBzY3JlZW4gd2FrZSBsb2NrLlxyXG5jb25zdCByZXF1ZXN0V2FrZUxvY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgd2FrZUxvY2sgPSBhd2FpdCBuYXZpZ2F0b3Iud2FrZUxvY2sucmVxdWVzdCgnc2NyZWVuJyk7XHJcbiAgICB3YWtlTG9jay5hZGRFdmVudExpc3RlbmVyKCdyZWxlYXNlJywgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU2NyZWVuIFdha2UgTG9jayB3YXMgcmVsZWFzZWQnKTtcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ1NjcmVlbiBXYWtlIExvY2sgaXMgYWN0aXZlJyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGAke2Vyci5uYW1lfSwgJHtlcnIubWVzc2FnZX1gKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlID0gKCkgPT4ge1xyXG4gIGlmICh3YWtlTG9jayAhPT0gbnVsbCAmJiBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xyXG4gICAgY29uc29sZS5sb2coXCJyZWxlYXNlZCBsb2NrIGdldHRpbmcgaXQgYWdhaW5cIilcclxuICAgIHJlcXVlc3RXYWtlTG9jaygpO1xyXG4gIH1cclxufTtcclxuXHJcbnJlcXVlc3RXYWtlTG9jaygpO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGhhbmRsZVZpc2liaWxpdHlDaGFuZ2UpO1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcblxyXG4vLyBlbmQgdHJ5IHRvIGxvY2sgdGhlIHNjcmVlbiBcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRcIikub25jbGljayA9IGZ1bmN0aW9uKCkgeyBhbGFybUR1cmF0aW9uID0gMDsgfTtcclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUFuZ2xlc0F2ZyhCdWY6bnVtYmVyW10pXHJcbntcclxuICAgdmFyIGF2ZzpudW1iZXIgPSAwLjA7XHJcblxyXG4gICB2YXIgQnVmID0gQnVmLnNvcnQoKTsgIC8vIHNvcnQgc28gd2UgY2FuIHJlbW92ZSB0aGUgbG93ZXN0IGFuZCBoaWdoZXN0IHZhbHVlXHJcblxyXG4gICAvLyBjYWxjdWxhdGUgYXZlcmFnZVxyXG4gICBmb3IgKHZhciBjbnQ9MTsgY250IDwgQnVmLmxlbmd0aC0xOyBjbnQrKykgLy8gc2tpcCB0aGUgZmlyc3QgYW5kIGxhc3QgYmVjYXVzZSB0aGV5IG1pZ2h0IGJlIGFydGlmYWN0c1xyXG4gICB7XHJcbiAgICAgIGF2ZyA9IGF2ZyArIEJ1ZltjbnRdO1xyXG4gICB9XHJcbiAgIGF2ZyA9IGF2ZyAvIChCdWYubGVuZ3RoLTIpOyAvLyAtMiBiZWNhdXNlIHdlIGRpZCBub3QgaW5jbHVkZSB0aGUgbG93ZXN0IGFuZCBoaWdoZXN0IG51bWJlclxyXG4gICBcclxuICAgcmV0dXJuIGF2ZztcclxufVxyXG5cclxuLyoqXHJcbiAqIFVzZSB0aGUgY3VzdG9tRWxlbWVudCBkZWNvcmF0b3IgdG8gZGVmaW5lIHlvdXIgY2xhc3MgYXNcclxuICogYSBjdXN0b20gZWxlbWVudC4gUmVnaXN0ZXJzIDxteS1lbGVtZW50PiBhcyBhbiBIVE1MIHRhZy5cclxuICovXHJcbkBjdXN0b21FbGVtZW50KCdsc2ctY2FyaW4nKVxyXG5leHBvcnQgY2xhc3MgTFNHX2NhcmluIGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcblxyXG4gIGZpcnN0cmVhZCA9IHRydWU7XHJcbiAgLyoqIFxyXG4gICAqIENyZWF0ZSBhbiBvYnNlcnZlZCBwcm9wZXJ0eS4gVHJpZ2dlcnMgdXBkYXRlIG9uIGNoYW5nZS4gXHJcbiAgICovXHJcblxyXG4gIC8vIHRha2VzIHN0eWxlcyBmcm9tIHJvb3RcclxuICBjcmVhdGVSZW5kZXJSb290KCkge1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVHZXRBY2NlbGVyb21ldGVyID0gdGhpcy5faGFuZGxlR2V0QWNjZWxlcm9tZXRlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5maXJzdHJlYWQgPSB0cnVlO1xyXG5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEltcGxlbWVudCBgcmVuZGVyYCB0byBkZWZpbmUgYSB0ZW1wbGF0ZSBmb3IgeW91ciBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHJlbmRlcigpIHtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIEphdmFTY3JpcHQgZXhwcmVzc2lvbnMgdG8gaW5jbHVkZSBwcm9wZXJ0eSB2YWx1ZXMgaW5cclxuICAgICAqIHRoZSBlbGVtZW50IHRlbXBsYXRlLlxyXG4gICAgICovXHJcblxyXG5cclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgPHN0eWxlPlxyXG4gICAgLmNvbnRhaW5lcntcclxuICAgICAgd2lkdGg6MzMlO1xyXG4gICAgICBtYXgtd2lkdGg6ODI1cHg7XHJcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgIH1cclxuICAgICA8L3N0eWxlPlxyXG4gICAgIFxyXG4gICAgICA8bHNnLWJsdWV0b290aCBpZD1CVExFIFxyXG4gICAgICBwcmltYXJ5U2VydmljZU9iamVjdCA9ICdbW3tcInNlcnZpY2VcIjpcIjAwMDAxNTIzLTNlZGItZWNhYy05YjRiLTYzMWY4YTdmODg1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hhcmFjdGVyaXN0aWNcIjpcIjAwMDAxNTI1LTNlZGItZWNhYy05YjRiLTYzMWY4YTdmODg1ZVwifV1dJ1xyXG4gICAgICAgbmFtZT1cInNlbnNvclwiIGNsYXNzPVwiYnV0dG9uIHczLXJvdW5kLXh4bGFyZ2UgdzMtY2VsbCB3My1ob3Zlci1vcGFjaXR5XCI+XHJcbiAgICAgIDwvbHNnLWJsdWV0b290aD4gXHJcbiAgICAgXHJcbiAgICAgICAgYDtcclxuICB9XHJcbiAgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBhbnkpIHtcclxuICAgIC8vIHNpbmNlIHdlIGhhdmUgZGlzYWJsZWQgc2hhZG93RG9tIHdlIGNhbiB1c2UgZG9jdW1lbnQgXHJcbiAgICAvLyB3aXRoIHNoYWRvdyBkb20gdXNlIDpcclxuICAgIC8vICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKS5hZGRFdmVudExpc3RlbmVyKFwiZGF0YS1ldmVudFwiLCBCVExFZGF0YWNoYW5nZWQpO1xyXG4gICAgKDxhbnk+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpKS5hZGRFdmVudExpc3RlbmVyKFwiZGF0YS1ldmVudFwiLCBCVExFZGF0YWNoYW5nZWQpO1xyXG5cclxuICAgIHNldEludGVydmFsKHRoaXMuX2hhbmRsZUdldEFjY2VsZXJvbWV0ZXIuYmluZCh0aGlzKSwgZGV0ZWN0aW9uSW50ZXJ2YWxtUyk7IFxyXG5cclxuICB9XHJcblxyXG4gIF9oYW5kbGVHZXRBY2NlbGVyb21ldGVyKCkge1xyXG4gICAgLy8gdXBkYXRlIHRoaXMuY29ubmVjdGVkU3RyIHdoZW4gdGhlIEJUTEUncyBzdGFnZSBjaGFuZ2VzXHJcbiAgICBpZiAoKDxhbnk+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpKS5jb25uZWN0ZWRTdHIgPT09IFwiY29ubmVjdGVkXCIpIHtcclxuICAgICAgaWYgKHRoaXMuZmlyc3RyZWFkKSB7XHJcbiAgICAgICAgaWYgKG1hY0FkZHJlc3MgPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmVhZFNlbnNvck1hY0FkcigpO1xyXG4gICAgICAgICAgbWFjQWRkcmVzcyA9IFwiMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZmlyc3RyZWFkID0gZmFsc2U7XHJcbiAgICAgICAgICByZWFkU2Vuc29yRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkucmVhZCA9IHRydWU7ICAvLyBhZnRlciB3cml0ZSB3ZSBjYW4gZG8gbWFueSByZWFkc1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuZmlyc3RyZWFkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGNsaWNrRnVuY3Rpb25SZWFkKCkge1xyXG4gICAgLy92YXIgZGF0YSA9IFs4MF07XHJcbiAgICAvLyg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUElFXCIpKS5kYXRhUG9pbnRzID0gZGF0YTsgIFxyXG5cclxuXHJcblxyXG4gICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpLnJlYWQgPSB0cnVlO1xyXG4gICAgY29uc29sZS5sb2coXCJyIGNsaWNrIGNhbGxlZFwiKVxyXG4gIH1cclxuXHJcbiAgY2xpY2tGdW5jdGlvbldyaXRlKCkge1xyXG4gICAgcmVhZFNlbnNvckV2ZW50cygpO1xyXG4gICAgLy8gIHZhciBkYXRhID0gW3N0cmluZ1RvQXJyYXkoXCJ7J0NMUl9GTEgnOjF9XCIpLCBzdHJpbmdUb0FycmF5KFwieydSRVNFVCc6MX1cIildO1xyXG5cclxuICAgIC8vICAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmRhdGEgPSBkYXRhO1xyXG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikuZGF0YSA9IGRhdGE7XHJcbiAgICBjb25zb2xlLmxvZyhcIncgY2xpY2sgY2FsbGVkXCIpXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gdWludFRvU3RyaW5nKGFycmF5OmFueSkge1xyXG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkuYnVmZmVyKTtcclxuICB2YXIgcmVzdWx0ID0gXCJcIjtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5LmJ5dGVMZW5ndGgtMTsgaSsrKSB7ICAvLyAtMSBiZWNhdXNlIGxhc3QgaXMgc3RyaW5nIHRlcm1pbmF0ZSAgKDApXHJcbiAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gQlRMRWRhdGFjaGFuZ2VkKGV2dDogYW55KSB7XHJcbiAgdmFyIHZhbHVlID0gZXZ0LmRldGFpbC5tZXNzYWdlO1xyXG5cclxuICBjb25zb2xlLmxvZyhcImJ0bGUgaW5jb21pbmcgOlwiICsgdmFsdWUpO1xyXG4gIGlmICh2YWx1ZSA9PT0gJ2Nvbm5lY3RlZCcpXHJcbiAgICByZXR1cm47ICAvLyBubyBwcm9jZXNzIG5lZWRlZCBcclxuICAgIFxyXG4gIGlmIChtYWNBZGRyZXNzID09PSBcIjBcIilcclxuICB7XHJcbiAgICBtYWNBZGRyZXNzID0gdWludFRvU3RyaW5nKHZhbHVlKTtcclxuICAgIGNvbnNvbGUubG9nKFwibWFjQWRyciBzZXQgdG8gOlwiLCBtYWNBZGRyZXNzKTtcclxuICAgICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFjYWRkcmVzc1R4dFwiKSkuaW5uZXJUZXh0ID0gXCJMU0cgXCIgKyBtYWNBZGRyZXNzO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHZhciB0eHQgPSBzdHJpbmdGcm9tQXJyYXkodmFsdWUpO1xyXG4gICAgdmFyIHR4dDIgPSB0eHQuc2xpY2UoMCwgLTEpICsgJyBcXG4nO1xyXG4gICAgdmFyIHNwbGl0ID0gdHh0Mi5zcGxpdChcIiBcIiwgMyk7XHJcblxyXG4gICAgdmFyIHh2YWwgPSBwYXJzZUludChzcGxpdFswXSk7XHJcbiAgICB2YXIgeXZhbCA9IHBhcnNlSW50KHNwbGl0WzFdKTtcclxuICAgIHZhciB6dmFsID0gcGFyc2VJbnQoc3BsaXRbMl0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwieHZhbCA6XCIgKyB4dmFsLCBcInl2YWwgOlwiICsgeXZhbCwgXCJ6dmFsIDpcIiArIHp2YWwpO1xyXG5cclxuICAgIC8vIGRpdiBieSAwIGNhbiBnaXZlIHN0cmFuZ2UgcmVzdWx0cyBzbyBpZiAwIG1ha2UgYSBzbWFsbCBudW1iZXIgb2YgaXRcclxuICAgIGlmICh4dmFsID09IDApIHh2YWwgPSAxO1xyXG4gICAgaWYgKHl2YWwgPT0gMCkgeXZhbCA9IDE7XHJcbiAgICBpZiAoenZhbCA9PSAwKSB6dmFsID0gMTtcclxuXHJcbiAgICBpZiAoKE1hdGguYWJzKHh2YWwpKyBNYXRoLmFicyh5dmFsKSArIE1hdGguYWJzKHp2YWwpKSA+IDEwMDApIC8vIG5ldyBzZW5zb3JcclxuICAgIHtcclxuICAgIC8vTWF0aC5hdGFuKG9wcG9zaXRlIC8gYWRqYWNlbnQpXHJcbiAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4oeHZhbCAvIHp2YWwpXHJcbiAgICAvL3ZhciBhbmdsZSA9IGNhbGN1bGF0ZUFuZ2xlKHh2YWwsIHl2YWwsIHp2YWwpO1xyXG4gICAgY29uc29sZS5sb2coXCJhbmdsZSA6IFwiICsgYW5nbGUpO1xyXG4gICAgYW5nbGUgPSAoYW5nbGUgKiAoMTgwIC8gTWF0aC5QSSkpOyAgLy8gMTAgZGVncmVlcyBvZmYgc29tZWhvd1xyXG4gICAgY29uc29sZS5sb2coXCJhbmdsZVBJIDpcIiArIGFuZ2xlKVxyXG5cclxuXHJcbiAgICBpZiAoKHp2YWwgPiAwKSAmJiAoeHZhbCA+IDApKVxyXG4gICAgICBhbmdsZSA9IDE4MCAtIGFuZ2xlO1xyXG4gICAgaWYgKCh6dmFsIDwgMCkgJiYgKHh2YWwgPiAwKSlcclxuICAgICAgYW5nbGUgPSAwICsgTWF0aC5hYnMoYW5nbGUpO1xyXG4gICAgaWYgKCh6dmFsIDwgMCkgJiYgKHh2YWwgPCAwKSlcclxuICAgICAgYW5nbGUgPSAzNjAgLSBhbmdsZTtcclxuICAgIGlmICgoenZhbCA+IDApICYmICh4dmFsIDwgMCkpXHJcbiAgICAgIGFuZ2xlID0gMTgwICsgTWF0aC5hYnMoYW5nbGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICB2YXIgcm9sbCA9IE1hdGguYXRhbih5dmFsIC8gTWF0aC5zcXJ0KE1hdGgucG93KHh2YWwsMikgKyBNYXRoLnBvdyh6dmFsLCAyKSkpICogMTgwL01hdGguUEk7XHJcbiAgICAgIHZhciBwaXRjaCA9IE1hdGguYXRhbigtMSAqIHh2YWwgLyBNYXRoLnNxcnQoTWF0aC5wb3coeXZhbCwyKSArIE1hdGgucG93KHp2YWwsIDIpKSkgKiAxODAvTWF0aC5QSTtcclxuICAgICAgY29uc29sZS5sb2coXCJyb2xsIDpcIiArIHJvbGwpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcInBpdGNoIDpcIiArIHBpdGNoKTtcclxuXHJcbiAgICAgIGlmICgoeXZhbCA+IDApICYmICh6dmFsID4gMCkpIC8vIHF1YWRyYW50IElcclxuICAgICAge1xyXG4gICAgICAgICAgYW5nbGUgPSByb2xsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgoeXZhbCA+IDApICYmICh6dmFsIDwgMCkpLy8gcXVhZHJhbnQgSUlcclxuICAgICAge1xyXG4gICAgICAgICAgYW5nbGUgPSAxODAgLSByb2xsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgoeXZhbCA8IDApICYmICh6dmFsIDwgMCkpLy8gcXVhZHJhbnQgSUlJXHJcbiAgICAgIHtcclxuICAgICAgICAgIGFuZ2xlID0gMTgwICsgTWF0aC5hYnMocm9sbCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCh5dmFsIDwgMCkgJiYgKHp2YWwgPiAwKSkvLyBxdWFkcmFudCBJVlxyXG4gICAgICB7XHJcbiAgICAgICAgICBhbmdsZSA9IDM2MCAtIE1hdGguYWJzKHJvbGwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJhbmdsZWNvcnIgOlwiICsgYW5nbGUpXHJcblxyXG4gICAgaWYgKCFpc05hTihhbmdsZSkpIHtcclxuICAgICAgdmFyIGRhdGEgPSBbYW5nbGVdO1xyXG5cclxuXHJcbiAgICAgICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUElFXCIpKS5kYXRhUG9pbnRzID0gZGF0YTtcclxuXHJcbiAgICAgIGN1cnJlbnRBdmdCdWYucHVzaChhbmdsZSk7IC8vIHB1dCBhIG5ldyBzYW1wbGUgaW4gdGhlIGFycmF5XHJcblxyXG4gICAgICBpZiAoY3VycmVudEF2Z0J1Zi5sZW5ndGggPj0gbnJPZlNhbXBsZXNQZXJBdmcpIC8vIGFycmF5IGlzIGZ1bGxcclxuICAgICAge1xyXG4gICAgICAgIGxldCBhdmcgPSBjYWxjdWxhdGVBbmdsZXNBdmcoY3VycmVudEF2Z0J1Zik7XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50QXZnIC0gYXZnKSA8IG1pblR1cm5BbmdsZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICBhbGFybUR1cmF0aW9uID0gYWxhcm1EdXJhdGlvbiArICgoZGV0ZWN0aW9uSW50ZXJ2YWxtUy8xMDAwKSpuck9mU2FtcGxlc1BlckF2ZykqMTA7IC8vIGluIHNlY29uZHMsIDEwIGZvciBzcGVlZHVwIHBsZWFzZSByZW1vdmVcclxuICAgICAgICAgIFxyXG5cclxuICAgICAgICAgIGlmIChhbGFybUR1cmF0aW9uID4gYWxhcm1UaW1lKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtTWVudScpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1cm5Qcm9ncmVzc0JhcicpLmNsYXNzTmFtZSA9IFwidzMtY29udGFpbmVyIHczLXJvdW5kIHczLXJlZCB3My1jZW50ZXJcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2VcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGFsYXJtRHVyYXRpb24gPiAoYWxhcm1UaW1lLzIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtTWVudScpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd5ZWxsb3cnO1xyXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0dXJuUHJvZ3Jlc3NCYXInKS5jbGFzc05hbWUgPSBcInczLWNvbnRhaW5lciB3My1yb3VuZCB3My15ZWxsb3cgdzMtY2VudGVyXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsYXJtTWVudScpLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1cm5Qcm9ncmVzc0JhcicpLmNsYXNzTmFtZSA9IFwidzMtY29udGFpbmVyIHczLXJvdW5kIHczLWJsdWUgdzMtY2VudGVyXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFsYXJtRHVyYXRpb24gPSAwOyAvLyBcclxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGFybU1lbnUnKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1cm5Qcm9ncmVzc0JhcicpLmNsYXNzTmFtZSA9IFwidzMtY29udGFpbmVyIHczLXJvdW5kIHczLWJsdWUgdzMtY2VudGVyXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAxMDAlIGlzIDYwKjYwKjQgIChjaGFuZ2VkIDRob3VycyBpbnRvIDYgc28gYWxzbyA1IGhvdXJzIGlzIHN0aWxsIHZpc2libGUgKVxyXG4gICAgICAgIGxldCBjYWxjd2lkdGggPSBhbGFybUR1cmF0aW9uLygoNjAqNjAqNikvMTAwKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHVyblByb2dyZXNzQmFyJykuc3R5bGUud2lkdGggPSBjYWxjd2lkdGggKyAnJSc7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3R1cm5Qcm9ncmVzc0JhcicpLmlubmVyVGV4dCA9IChhbGFybUR1cmF0aW9uLzYwKS50b1N0cmluZygpICsgJ01pbic7XHJcblxyXG4gICAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dFbnRyeTogcG9zaXRpb25fbG9nID0geyB0aW1lOiAwLCBwb3M6IDAsIGFsYXJtOjB9O1xyXG4gICAgXHJcbiAgICAgICAgbG9nRW50cnkudGltZSA9IChkYXRldGltZS5nZXRUaW1lKCkgLyAxMDAwKTtcclxuICAgICAgICBsb2dFbnRyeS5wb3MgPSBhdmc7XHJcbiAgICAgICAgbG9nRW50cnkuYWxhcm0gPSBhbGFybUR1cmF0aW9uOyAgXHJcbiBcclxuICAgICAgICBhcHBfZmlsbGRhdGFiYXNlKGxvZ0VudHJ5KTtcclxuICAgICAgICBjdXJyZW50QXZnID0gYXZnOyAvLyByZW1lYmVyIHRoaXMgYXZlcmFnZVxyXG4gICAgICAgIGN1cnJlbnRBdmdCdWYgPSBbXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxudmFyIGZpbGxkYXRhQmFzZUNudCA9IDA7XHJcbmZ1bmN0aW9uIGFwcF9maWxsZGF0YWJhc2UoIGxvZ0VudHJ5OnBvc2l0aW9uX2xvZylcclxue1xyXG4gICBhY2Nlc3NEYl9maWxsQUREYXRhKG1hY0FkZHJlc3MsbG9nRW50cnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdGcm9tQXJyYXkoZGF0YTogRGF0YVZpZXcpIHtcclxuICB2YXIgY291bnQgPSBkYXRhLmJ5dGVMZW5ndGg7XHJcbiAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgdmFyIHZhbCA9IDA7XHJcblxyXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXggKz0gMSkge1xyXG4gICAgdmFsID0gZGF0YS5nZXRVaW50OChpbmRleCk7XHJcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2YWwpO1xyXG4gIH1cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdUb0FycmF5KHR4dDogc3RyaW5nKSB7XHJcbiAgdmFyIGNvdW50ID0gdHh0Lmxlbmd0aDtcclxuICAvL3ZhciBzdHIgPSBcIlwiO1xyXG4gIHZhciB2YWwgPSAwO1xyXG4gIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY291bnQpO1xyXG4gIHZhciB2aWV3ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xyXG5cclxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4ICs9IDEpIHtcclxuICAgIHZpZXdbaW5kZXhdID0gdHh0LmNoYXJDb2RlQXQoaW5kZXgpO1xyXG4gIH1cclxuICB2YXIgZGF0YSA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkU2Vuc29yRXZlbnRzKCkge1xyXG4gIGxldCBidGxlZDogQlRMRV9TdHJ1Y3RbXSA9IFt7IHNlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi53cml0ZSwgZGF0YTogc3RyaW5nVG9BcnJheShcInsnUl9BQ0MnOjF9XCIpIH0sXHJcbiAgeyBzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ucmVhZCwgZGF0YTogbnVsbCB9XTtcclxuXHJcblxyXG4gICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkuYnRsZWRhdGEgPSBidGxlZDtcclxuICAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLnJlYWQgPSB0cnVlOyAgLy8gYnRsZSBjb21wb25lbnQgdXNlcyBtdXRleCBzbyBpdCB3aWxsIHdhaXQgZm9yIHdyaXRlIHRvIGZpbmlzaFxyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkU2Vuc29yTWFjQWRyKCkge1xyXG4gIGxldCBidGxlZDogQlRMRV9TdHJ1Y3RbXSA9IFt7IHNlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi53cml0ZSwgZGF0YTogc3RyaW5nVG9BcnJheShcInsnUl9NQUMnOjF9XCIpIH0sXHJcbiAgeyBzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ucmVhZCwgZGF0YTogbnVsbCB9XTtcclxuXHJcblxyXG4gICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkuYnRsZWRhdGEgPSBidGxlZDtcclxuICAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLnJlYWQgPSB0cnVlOyAgLy8gYnRsZSBjb21wb25lbnQgdXNlcyBtdXRleCBzbyBpdCB3aWxsIHdhaXQgZm9yIHdyaXRlIHRvIGZpbmlzaFxyXG59XHJcbiIsImltcG9ydCAnLi9zdHlsZXMuY3NzJztcclxuaW1wb3J0ICcuLi8uLi9jb21wb25lbnRzL0xTR19idGxlL21haW4tdmlldy50cydcclxuaW1wb3J0ICcuLi8uLi9jb21wb25lbnRzL0xTR19waWUvTFNHX3BpZS5qcydcclxuaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1zcGxpdC1sYXlvdXQvdmFhZGluLXNwbGl0LWxheW91dC5qcyc7XHJcbmltcG9ydCAnLi9kYXRhYmFzZS9hY2Nlc3NEYi5qcydcclxuaW1wb3J0ICcuL2FwcC50cyc7XHJcblxyXG5cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgcmVnaXN0ZXJTVygpO1xyXG59KTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyU1coKSB7XHJcbiAgICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikgeyBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignLi9zdy5qcycpOyBcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBmYWlsZWQuIFNvcnJ5IGFib3V0IHRoYXQuJywgZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBTZXJ2aWNlV29ya2VyLicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gZnVuY3Rpb24gc3RyaW5nRnJvbUFycmF5KGRhdGEpXHJcbiAgLy8ge1xyXG4gIC8vICAgICB2YXIgY291bnQgPSBkYXRhLmJ5dGVMZW5ndGg7XHJcbiAgLy8gICAgIHZhciBzdHIgPSBcIlwiO1xyXG4gIC8vICAgICB2YXIgdmFsID0gMDtcclxuXHJcbiAgLy8gICAgIGZvcih2YXIgaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCArPSAxKVxyXG4gIC8vICAgICB7XHJcbiAgLy8gICAgICAgdmFsID0gIGRhdGEuZ2V0VWludDgoaW5kZXgpO1xyXG4gIC8vICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbCk7XHJcbiAgLy8gICAgIH1cclxuXHJcbiAgLy8gICAgIHJldHVybiBzdHI7XHJcbiAgLy8gfVxyXG5cclxuICBcclxuXHJcbiAgIiwiZXhwb3J0IHZhciBBdXRoRXZlbnRLaW5kO1xuKGZ1bmN0aW9uIChBdXRoRXZlbnRLaW5kKSB7XG4gICAgQXV0aEV2ZW50S2luZFtBdXRoRXZlbnRLaW5kW1wiQWN0aXZlVXNlckNoYW5nZWRcIl0gPSAwXSA9IFwiQWN0aXZlVXNlckNoYW5nZWRcIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJMaXN0ZW5lclJlZ2lzdGVyZWRcIl0gPSAxXSA9IFwiTGlzdGVuZXJSZWdpc3RlcmVkXCI7XG4gICAgQXV0aEV2ZW50S2luZFtBdXRoRXZlbnRLaW5kW1wiVXNlckFkZGVkXCJdID0gMl0gPSBcIlVzZXJBZGRlZFwiO1xuICAgIEF1dGhFdmVudEtpbmRbQXV0aEV2ZW50S2luZFtcIlVzZXJMaW5rZWRcIl0gPSAzXSA9IFwiVXNlckxpbmtlZFwiO1xuICAgIEF1dGhFdmVudEtpbmRbQXV0aEV2ZW50S2luZFtcIlVzZXJMb2dnZWRJblwiXSA9IDRdID0gXCJVc2VyTG9nZ2VkSW5cIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJVc2VyTG9nZ2VkT3V0XCJdID0gNV0gPSBcIlVzZXJMb2dnZWRPdXRcIjtcbiAgICBBdXRoRXZlbnRLaW5kW0F1dGhFdmVudEtpbmRbXCJVc2VyUmVtb3ZlZFwiXSA9IDZdID0gXCJVc2VyUmVtb3ZlZFwiO1xufSkoQXV0aEV2ZW50S2luZCB8fCAoQXV0aEV2ZW50S2luZCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRoRXZlbnQuanMubWFwIiwidmFyIEF1dGhJbmZvID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBdXRoSW5mbyh1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGxhc3RBdXRoQWN0aXZpdHksIHVzZXJQcm9maWxlKSB7XG4gICAgICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgICAgICB0aGlzLmRldmljZUlkID0gZGV2aWNlSWQ7XG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjtcbiAgICAgICAgdGhpcy5yZWZyZXNoVG9rZW4gPSByZWZyZXNoVG9rZW47XG4gICAgICAgIHRoaXMubG9nZ2VkSW5Qcm92aWRlclR5cGUgPSBsb2dnZWRJblByb3ZpZGVyVHlwZTtcbiAgICAgICAgdGhpcy5sb2dnZWRJblByb3ZpZGVyTmFtZSA9IGxvZ2dlZEluUHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLmxhc3RBdXRoQWN0aXZpdHkgPSBsYXN0QXV0aEFjdGl2aXR5O1xuICAgICAgICB0aGlzLnVzZXJQcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgfVxuICAgIEF1dGhJbmZvLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEF1dGhJbmZvKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRoSW5mby5wcm90b3R5cGUsIFwiaGFzVXNlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXNlcklkICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBdXRoSW5mby5wcm90b3R5cGUsIFwiaXNFbXB0eVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlSWQgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXV0aEluZm8ucHJvdG90eXBlLmxvZ2dlZE91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoSW5mbyh0aGlzLnVzZXJJZCwgdGhpcy5kZXZpY2VJZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMubG9nZ2VkSW5Qcm92aWRlclR5cGUsIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUsIG5ldyBEYXRlKCksIHRoaXMudXNlclByb2ZpbGUpO1xuICAgIH07XG4gICAgQXV0aEluZm8ucHJvdG90eXBlLndpdGhDbGVhcmVkVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoSW5mbyh1bmRlZmluZWQsIHRoaXMuZGV2aWNlSWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgIH07XG4gICAgQXV0aEluZm8ucHJvdG90eXBlLndpdGhBdXRoUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXJUeXBlLCBwcm92aWRlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoSW5mbyh0aGlzLnVzZXJJZCwgdGhpcy5kZXZpY2VJZCwgdGhpcy5hY2Nlc3NUb2tlbiwgdGhpcy5yZWZyZXNoVG9rZW4sIHByb3ZpZGVyVHlwZSwgcHJvdmlkZXJOYW1lLCBuZXcgRGF0ZSgpLCB0aGlzLnVzZXJQcm9maWxlKTtcbiAgICB9O1xuICAgIEF1dGhJbmZvLnByb3RvdHlwZS53aXRoTmV3QXV0aEFjdGl2aXR5VGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoSW5mbyh0aGlzLnVzZXJJZCwgdGhpcy5kZXZpY2VJZCwgdGhpcy5hY2Nlc3NUb2tlbiwgdGhpcy5yZWZyZXNoVG9rZW4sIHRoaXMubG9nZ2VkSW5Qcm92aWRlclR5cGUsIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUsIG5ldyBEYXRlKCksIHRoaXMudXNlclByb2ZpbGUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1dGhJbmZvLnByb3RvdHlwZSwgXCJpc0xvZ2dlZEluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVmcmVzaFRva2VuICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEF1dGhJbmZvLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChuZXdJbmZvKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXV0aEluZm8obmV3SW5mby51c2VySWQgPT09IHVuZGVmaW5lZCA/IHRoaXMudXNlcklkIDogbmV3SW5mby51c2VySWQsIG5ld0luZm8uZGV2aWNlSWQgPT09IHVuZGVmaW5lZCA/IHRoaXMuZGV2aWNlSWQgOiBuZXdJbmZvLmRldmljZUlkLCBuZXdJbmZvLmFjY2Vzc1Rva2VuID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy5hY2Nlc3NUb2tlblxuICAgICAgICAgICAgOiBuZXdJbmZvLmFjY2Vzc1Rva2VuLCBuZXdJbmZvLnJlZnJlc2hUb2tlbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHRoaXMucmVmcmVzaFRva2VuXG4gICAgICAgICAgICA6IG5ld0luZm8ucmVmcmVzaFRva2VuLCBuZXdJbmZvLmxvZ2dlZEluUHJvdmlkZXJUeXBlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy5sb2dnZWRJblByb3ZpZGVyVHlwZVxuICAgICAgICAgICAgOiBuZXdJbmZvLmxvZ2dlZEluUHJvdmlkZXJUeXBlLCBuZXdJbmZvLmxvZ2dlZEluUHJvdmlkZXJOYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy5sb2dnZWRJblByb3ZpZGVyTmFtZVxuICAgICAgICAgICAgOiBuZXdJbmZvLmxvZ2dlZEluUHJvdmlkZXJOYW1lLCBuZXdJbmZvLmxhc3RBdXRoQWN0aXZpdHkgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB0aGlzLmxhc3RBdXRoQWN0aXZpdHlcbiAgICAgICAgICAgIDogbmV3SW5mby5sYXN0QXV0aEFjdGl2aXR5LCBuZXdJbmZvLnVzZXJQcm9maWxlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gdGhpcy51c2VyUHJvZmlsZVxuICAgICAgICAgICAgOiBuZXdJbmZvLnVzZXJQcm9maWxlKTtcbiAgICB9O1xuICAgIHJldHVybiBBdXRoSW5mbztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBdXRoSW5mbztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhJbmZvLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9FcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyk7XG4gICAgfVxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xufTtcbl9FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG52YXIgU3RpdGNoRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoRXJyb3I7XG59KF9FcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hFcnJvci5qcy5tYXAiLCJ2YXIgX2E7XG5leHBvcnQgdmFyIFN0aXRjaFJlcXVlc3RFcnJvckNvZGU7XG4oZnVuY3Rpb24gKFN0aXRjaFJlcXVlc3RFcnJvckNvZGUpIHtcbiAgICBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW1N0aXRjaFJlcXVlc3RFcnJvckNvZGVbXCJUUkFOU1BPUlRfRVJST1JcIl0gPSAwXSA9IFwiVFJBTlNQT1JUX0VSUk9SXCI7XG4gICAgU3RpdGNoUmVxdWVzdEVycm9yQ29kZVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW1wiREVDT0RJTkdfRVJST1JcIl0gPSAxXSA9IFwiREVDT0RJTkdfRVJST1JcIjtcbiAgICBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlW1N0aXRjaFJlcXVlc3RFcnJvckNvZGVbXCJFTkNPRElOR19FUlJPUlwiXSA9IDJdID0gXCJFTkNPRElOR19FUlJPUlwiO1xufSkoU3RpdGNoUmVxdWVzdEVycm9yQ29kZSB8fCAoU3RpdGNoUmVxdWVzdEVycm9yQ29kZSA9IHt9KSk7XG5leHBvcnQgdmFyIHJlcXVlc3RFcnJvckNvZGVEZXNjcyA9IChfYSA9IHt9LFxuICAgIF9hW1N0aXRjaFJlcXVlc3RFcnJvckNvZGUuVFJBTlNQT1JUX0VSUk9SXSA9IFwidGhlIHJlcXVlc3QgdHJhbnNwb3J0IGVuY291bnRlcmVkIGFuIGVycm9yIGNvbW11bmljYXRpbmcgd2l0aCBTdGl0Y2hcIixcbiAgICBfYVtTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SXSA9IFwiYW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgZGVjb2RpbmcgYSByZXNwb25zZSBmcm9tIFN0aXRjaFwiLFxuICAgIF9hW1N0aXRjaFJlcXVlc3RFcnJvckNvZGUuRU5DT0RJTkdfRVJST1JdID0gXCJhbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBlbmNvZGluZyBhIHJlcXVlc3QgZm9yIFN0aXRjaFwiLFxuICAgIF9hKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFJlcXVlc3RFcnJvckNvZGUuanMubWFwIiwiZXhwb3J0IHZhciBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlKSB7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiTWlzc2luZ0F1dGhSZXFcIl0gPSAwXSA9IFwiTWlzc2luZ0F1dGhSZXFcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbnZhbGlkU2Vzc2lvblwiXSA9IDFdID0gXCJJbnZhbGlkU2Vzc2lvblwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlVzZXJBcHBEb21haW5NaXNtYXRjaFwiXSA9IDJdID0gXCJVc2VyQXBwRG9tYWluTWlzbWF0Y2hcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJEb21haW5Ob3RBbGxvd2VkXCJdID0gM10gPSBcIkRvbWFpbk5vdEFsbG93ZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJSZWFkU2l6ZUxpbWl0RXhjZWVkZWRcIl0gPSA0XSA9IFwiUmVhZFNpemVMaW1pdEV4Y2VlZGVkXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiSW52YWxpZFBhcmFtZXRlclwiXSA9IDVdID0gXCJJbnZhbGlkUGFyYW1ldGVyXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiTWlzc2luZ1BhcmFtZXRlclwiXSA9IDZdID0gXCJNaXNzaW5nUGFyYW1ldGVyXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVHdpbGlvRXJyb3JcIl0gPSA3XSA9IFwiVHdpbGlvRXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJHQ01FcnJvclwiXSA9IDhdID0gXCJHQ01FcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkhUVFBFcnJvclwiXSA9IDldID0gXCJIVFRQRXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJBV1NFcnJvclwiXSA9IDEwXSA9IFwiQVdTRXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJNb25nb0RCRXJyb3JcIl0gPSAxMV0gPSBcIk1vbmdvREJFcnJvclwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkFyZ3VtZW50c05vdEFsbG93ZWRcIl0gPSAxMl0gPSBcIkFyZ3VtZW50c05vdEFsbG93ZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvbkV4ZWN1dGlvbkVycm9yXCJdID0gMTNdID0gXCJGdW5jdGlvbkV4ZWN1dGlvbkVycm9yXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiTm9NYXRjaGluZ1J1bGVGb3VuZFwiXSA9IDE0XSA9IFwiTm9NYXRjaGluZ1J1bGVGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkludGVybmFsU2VydmVyRXJyb3JcIl0gPSAxNV0gPSBcIkludGVybmFsU2VydmVyRXJyb3JcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJBdXRoUHJvdmlkZXJOb3RGb3VuZFwiXSA9IDE2XSA9IFwiQXV0aFByb3ZpZGVyTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJBdXRoUHJvdmlkZXJBbHJlYWR5RXhpc3RzXCJdID0gMTddID0gXCJBdXRoUHJvdmlkZXJBbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiU2VydmljZU5vdEZvdW5kXCJdID0gMThdID0gXCJTZXJ2aWNlTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJTZXJ2aWNlVHlwZU5vdEZvdW5kXCJdID0gMTldID0gXCJTZXJ2aWNlVHlwZU5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiU2VydmljZUFscmVhZHlFeGlzdHNcIl0gPSAyMF0gPSBcIlNlcnZpY2VBbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiU2VydmljZUNvbW1hbmROb3RGb3VuZFwiXSA9IDIxXSA9IFwiU2VydmljZUNvbW1hbmROb3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlZhbHVlTm90Rm91bmRcIl0gPSAyMl0gPSBcIlZhbHVlTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJWYWx1ZUFscmVhZHlFeGlzdHNcIl0gPSAyM10gPSBcIlZhbHVlQWxyZWFkeUV4aXN0c1wiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlZhbHVlRHVwbGljYXRlTmFtZVwiXSA9IDI0XSA9IFwiVmFsdWVEdXBsaWNhdGVOYW1lXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRnVuY3Rpb25Ob3RGb3VuZFwiXSA9IDI1XSA9IFwiRnVuY3Rpb25Ob3RGb3VuZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkZ1bmN0aW9uQWxyZWFkeUV4aXN0c1wiXSA9IDI2XSA9IFwiRnVuY3Rpb25BbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRnVuY3Rpb25EdXBsaWNhdGVOYW1lXCJdID0gMjddID0gXCJGdW5jdGlvbkR1cGxpY2F0ZU5hbWVcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJGdW5jdGlvblN5bnRheEVycm9yXCJdID0gMjhdID0gXCJGdW5jdGlvblN5bnRheEVycm9yXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRnVuY3Rpb25JbnZhbGlkXCJdID0gMjldID0gXCJGdW5jdGlvbkludmFsaWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbmNvbWluZ1dlYmhvb2tOb3RGb3VuZFwiXSA9IDMwXSA9IFwiSW5jb21pbmdXZWJob29rTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbmNvbWluZ1dlYmhvb2tBbHJlYWR5RXhpc3RzXCJdID0gMzFdID0gXCJJbmNvbWluZ1dlYmhvb2tBbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiSW5jb21pbmdXZWJob29rRHVwbGljYXRlTmFtZVwiXSA9IDMyXSA9IFwiSW5jb21pbmdXZWJob29rRHVwbGljYXRlTmFtZVwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlJ1bGVOb3RGb3VuZFwiXSA9IDMzXSA9IFwiUnVsZU5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiQXBpS2V5Tm90Rm91bmRcIl0gPSAzNF0gPSBcIkFwaUtleU5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiUnVsZUFscmVhZHlFeGlzdHNcIl0gPSAzNV0gPSBcIlJ1bGVBbHJlYWR5RXhpc3RzXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiUnVsZUR1cGxpY2F0ZU5hbWVcIl0gPSAzNl0gPSBcIlJ1bGVEdXBsaWNhdGVOYW1lXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiQXV0aFByb3ZpZGVyRHVwbGljYXRlTmFtZVwiXSA9IDM3XSA9IFwiQXV0aFByb3ZpZGVyRHVwbGljYXRlTmFtZVwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlJlc3RyaWN0ZWRIb3N0XCJdID0gMzhdID0gXCJSZXN0cmljdGVkSG9zdFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIkFwaUtleUFscmVhZHlFeGlzdHNcIl0gPSAzOV0gPSBcIkFwaUtleUFscmVhZHlFeGlzdHNcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJJbmNvbWluZ1dlYmhvb2tBdXRoRmFpbGVkXCJdID0gNDBdID0gXCJJbmNvbWluZ1dlYmhvb2tBdXRoRmFpbGVkXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRXhlY3V0aW9uVGltZUxpbWl0RXhjZWVkZWRcIl0gPSA0MV0gPSBcIkV4ZWN1dGlvblRpbWVMaW1pdEV4Y2VlZGVkXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiRnVuY3Rpb25Ob3RDYWxsYWJsZVwiXSA9IDQyXSA9IFwiRnVuY3Rpb25Ob3RDYWxsYWJsZVwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlVzZXJBbHJlYWR5Q29uZmlybWVkXCJdID0gNDNdID0gXCJVc2VyQWxyZWFkeUNvbmZpcm1lZFwiO1xuICAgIFN0aXRjaFNlcnZpY2VFcnJvckNvZGVbU3RpdGNoU2VydmljZUVycm9yQ29kZVtcIlVzZXJOb3RGb3VuZFwiXSA9IDQ0XSA9IFwiVXNlck5vdEZvdW5kXCI7XG4gICAgU3RpdGNoU2VydmljZUVycm9yQ29kZVtTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1wiVXNlckRpc2FibGVkXCJdID0gNDVdID0gXCJVc2VyRGlzYWJsZWRcIjtcbiAgICBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlW1N0aXRjaFNlcnZpY2VFcnJvckNvZGVbXCJVbmtub3duXCJdID0gNDZdID0gXCJVbmtub3duXCI7XG59KShTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlIHx8IChTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlID0ge30pKTtcbnZhciBhcGlFcnJvckNvZGVzID0ge1xuICAgIEFQSUtleUFscmVhZHlFeGlzdHM6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuQXBpS2V5QWxyZWFkeUV4aXN0cyxcbiAgICBBUElLZXlOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BcGlLZXlOb3RGb3VuZCxcbiAgICBBV1NFcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BV1NFcnJvcixcbiAgICBBcmd1bWVudHNOb3RBbGxvd2VkOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkFyZ3VtZW50c05vdEFsbG93ZWQsXG4gICAgQXV0aFByb3ZpZGVyQWxyZWFkeUV4aXN0czogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BdXRoUHJvdmlkZXJBbHJlYWR5RXhpc3RzLFxuICAgIEF1dGhQcm92aWRlckR1cGxpY2F0ZU5hbWU6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuQXV0aFByb3ZpZGVyRHVwbGljYXRlTmFtZSxcbiAgICBBdXRoUHJvdmlkZXJOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5BdXRoUHJvdmlkZXJOb3RGb3VuZCxcbiAgICBEb21haW5Ob3RBbGxvd2VkOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkRvbWFpbk5vdEFsbG93ZWQsXG4gICAgRXhlY3V0aW9uVGltZUxpbWl0RXhjZWVkZWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRXhlY3V0aW9uVGltZUxpbWl0RXhjZWVkZWQsXG4gICAgRnVuY3Rpb25BbHJlYWR5RXhpc3RzOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkZ1bmN0aW9uQWxyZWFkeUV4aXN0cyxcbiAgICBGdW5jdGlvbkR1cGxpY2F0ZU5hbWU6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25EdXBsaWNhdGVOYW1lLFxuICAgIEZ1bmN0aW9uRXhlY3V0aW9uRXJyb3I6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25FeGVjdXRpb25FcnJvcixcbiAgICBGdW5jdGlvbkludmFsaWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25JbnZhbGlkLFxuICAgIEZ1bmN0aW9uTm90Q2FsbGFibGU6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuRnVuY3Rpb25Ob3RDYWxsYWJsZSxcbiAgICBGdW5jdGlvbk5vdEZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkZ1bmN0aW9uTm90Rm91bmQsXG4gICAgRnVuY3Rpb25TeW50YXhFcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5GdW5jdGlvblN5bnRheEVycm9yLFxuICAgIEdDTUVycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkdDTUVycm9yLFxuICAgIEhUVFBFcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5IVFRQRXJyb3IsXG4gICAgSW5jb21pbmdXZWJob29rQWxyZWFkeUV4aXN0czogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbmNvbWluZ1dlYmhvb2tBbHJlYWR5RXhpc3RzLFxuICAgIEluY29taW5nV2ViaG9va0F1dGhGYWlsZWQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuSW5jb21pbmdXZWJob29rQXV0aEZhaWxlZCxcbiAgICBJbmNvbWluZ1dlYmhvb2tEdXBsaWNhdGVOYW1lOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkluY29taW5nV2ViaG9va0R1cGxpY2F0ZU5hbWUsXG4gICAgSW5jb21pbmdXZWJob29rTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuSW5jb21pbmdXZWJob29rTm90Rm91bmQsXG4gICAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbnRlcm5hbFNlcnZlckVycm9yLFxuICAgIEludmFsaWRQYXJhbWV0ZXI6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuSW52YWxpZFBhcmFtZXRlcixcbiAgICBJbnZhbGlkU2Vzc2lvbjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5JbnZhbGlkU2Vzc2lvbixcbiAgICBNaXNzaW5nQXV0aFJlcTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5NaXNzaW5nQXV0aFJlcSxcbiAgICBNaXNzaW5nUGFyYW1ldGVyOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLk1pc3NpbmdQYXJhbWV0ZXIsXG4gICAgTW9uZ29EQkVycm9yOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLk1vbmdvREJFcnJvcixcbiAgICBOb01hdGNoaW5nUnVsZUZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLk5vTWF0Y2hpbmdSdWxlRm91bmQsXG4gICAgUmVhZFNpemVMaW1pdEV4Y2VlZGVkOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlJlYWRTaXplTGltaXRFeGNlZWRlZCxcbiAgICBSZXN0cmljdGVkSG9zdDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5SZXN0cmljdGVkSG9zdCxcbiAgICBSdWxlQWxyZWFkeUV4aXN0czogU3RpdGNoU2VydmljZUVycm9yQ29kZS5SdWxlQWxyZWFkeUV4aXN0cyxcbiAgICBSdWxlRHVwbGljYXRlTmFtZTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5SdWxlRHVwbGljYXRlTmFtZSxcbiAgICBSdWxlTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuUnVsZU5vdEZvdW5kLFxuICAgIFNlcnZpY2VBbHJlYWR5RXhpc3RzOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlNlcnZpY2VBbHJlYWR5RXhpc3RzLFxuICAgIFNlcnZpY2VDb21tYW5kTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuU2VydmljZUNvbW1hbmROb3RGb3VuZCxcbiAgICBTZXJ2aWNlTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuU2VydmljZU5vdEZvdW5kLFxuICAgIFNlcnZpY2VUeXBlTm90Rm91bmQ6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuU2VydmljZVR5cGVOb3RGb3VuZCxcbiAgICBUd2lsaW9FcnJvcjogU3RpdGNoU2VydmljZUVycm9yQ29kZS5Ud2lsaW9FcnJvcixcbiAgICBVc2VyQWxyZWFkeUNvbmZpcm1lZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vc2VyQWxyZWFkeUNvbmZpcm1lZCxcbiAgICBVc2VyQXBwRG9tYWluTWlzbWF0Y2g6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVXNlckFwcERvbWFpbk1pc21hdGNoLFxuICAgIFVzZXJEaXNhYmxlZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vc2VyRGlzYWJsZWQsXG4gICAgVXNlck5vdEZvdW5kOiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVzZXJOb3RGb3VuZCxcbiAgICBWYWx1ZUFscmVhZHlFeGlzdHM6IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVmFsdWVBbHJlYWR5RXhpc3RzLFxuICAgIFZhbHVlRHVwbGljYXRlTmFtZTogU3RpdGNoU2VydmljZUVycm9yQ29kZS5WYWx1ZUR1cGxpY2F0ZU5hbWUsXG4gICAgVmFsdWVOb3RGb3VuZDogU3RpdGNoU2VydmljZUVycm9yQ29kZS5WYWx1ZU5vdEZvdW5kXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHN0aXRjaFNlcnZpY2VFcnJvckNvZGVGcm9tQXBpKGNvZGUpIHtcbiAgICBpZiAoIShjb2RlIGluIGFwaUVycm9yQ29kZXMpKSB7XG4gICAgICAgIHJldHVybiBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLlVua25vd247XG4gICAgfVxuICAgIHJldHVybiBhcGlFcnJvckNvZGVzW2NvZGVdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoU2VydmljZUVycm9yQ29kZS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBTdGl0Y2hFcnJvciBmcm9tIFwiLi9TdGl0Y2hFcnJvclwiO1xuaW1wb3J0IHsgcmVxdWVzdEVycm9yQ29kZURlc2NzLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlIH0gZnJvbSBcIi4vU3RpdGNoUmVxdWVzdEVycm9yQ29kZVwiO1xudmFyIFN0aXRjaFJlcXVlc3RFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaFJlcXVlc3RFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hSZXF1ZXN0RXJyb3IodW5kZXJseWluZ0Vycm9yLCBlcnJvckNvZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIihcIiArIFN0aXRjaFJlcXVlc3RFcnJvckNvZGVbZXJyb3JDb2RlXSArIFwiKTogXCIgKyByZXF1ZXN0RXJyb3JDb2RlRGVzY3NbZXJyb3JDb2RlXSArIFwiOiBcIiArIHVuZGVybHlpbmdFcnJvci5tZXNzYWdlO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVuZGVybHlpbmdFcnJvciA9IHVuZGVybHlpbmdFcnJvcjtcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xuICAgICAgICBfdGhpcy5lcnJvckNvZGVOYW1lID0gU3RpdGNoUmVxdWVzdEVycm9yQ29kZVtlcnJvckNvZGVdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hSZXF1ZXN0RXJyb3I7XG59KFN0aXRjaEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hSZXF1ZXN0RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hSZXF1ZXN0RXJyb3IuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4vU3RpdGNoRXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUgfSBmcm9tIFwiLi9TdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlXCI7XG52YXIgU3RpdGNoU2VydmljZUVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoU2VydmljZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaFNlcnZpY2VFcnJvcihtZXNzYWdlLCBlcnJvckNvZGUpIHtcbiAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gdm9pZCAwKSB7IGVycm9yQ29kZSA9IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xuICAgICAgICBfdGhpcy5lcnJvckNvZGVOYW1lID0gU3RpdGNoU2VydmljZUVycm9yQ29kZVtlcnJvckNvZGVdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hTZXJ2aWNlRXJyb3I7XG59KFN0aXRjaEVycm9yKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hTZXJ2aWNlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hTZXJ2aWNlRXJyb3IuanMubWFwIiwiaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hFcnJvclwiO1xuaW1wb3J0IFN0aXRjaFJlcXVlc3RFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uL1N0aXRjaFJlcXVlc3RFcnJvckNvZGVcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlRXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaFNlcnZpY2VFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoU2VydmljZUVycm9yQ29kZSwgc3RpdGNoU2VydmljZUVycm9yQ29kZUZyb21BcGkgfSBmcm9tIFwiLi4vLi4vU3RpdGNoU2VydmljZUVycm9yQ29kZVwiO1xuaW1wb3J0IENvbnRlbnRUeXBlcyBmcm9tIFwiLi4vbmV0L0NvbnRlbnRUeXBlc1wiO1xuaW1wb3J0IEhlYWRlcnMgZnJvbSBcIi4uL25ldC9IZWFkZXJzXCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJFUlJPUlwiXSA9IFwiZXJyb3JcIjtcbiAgICBGaWVsZHNbXCJFUlJPUl9DT0RFXCJdID0gXCJlcnJvcl9jb2RlXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gd3JhcERlY29kaW5nRXJyb3IoZXJyKSB7XG4gICAgaWYgKGVyciBpbnN0YW5jZW9mIFN0aXRjaEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKGVyciwgU3RpdGNoUmVxdWVzdEVycm9yQ29kZS5ERUNPRElOR19FUlJPUik7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEVycm9yKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLmJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgU3RpdGNoU2VydmljZUVycm9yKFwicmVjZWl2ZWQgdW5leHBlY3RlZCBzdGF0dXMgY29kZSBcIiArIHJlc3BvbnNlLnN0YXR1c0NvZGUsIFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bik7XG4gICAgfVxuICAgIHZhciBib2R5O1xuICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSByZXNwb25zZS5ib2R5O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgU3RpdGNoU2VydmljZUVycm9yKFwicmVjZWl2ZWQgdW5leHBlY3RlZCBzdGF0dXMgY29kZSBcIiArIHJlc3BvbnNlLnN0YXR1c0NvZGUsIFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bik7XG4gICAgfVxuICAgIHZhciBlcnJvck1zZyA9IGhhbmRsZVJpY2hFcnJvcihyZXNwb25zZSwgYm9keSk7XG4gICAgdGhyb3cgbmV3IFN0aXRjaFNlcnZpY2VFcnJvcihlcnJvck1zZywgU3RpdGNoU2VydmljZUVycm9yQ29kZS5Vbmtub3duKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZVJpY2hFcnJvcihyZXNwb25zZSwgYm9keSkge1xuICAgIGlmIChyZXNwb25zZS5oZWFkZXJzW0hlYWRlcnMuQ09OVEVOVF9UWVBFXSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIChyZXNwb25zZS5oZWFkZXJzW0hlYWRlcnMuQ09OVEVOVF9UWVBFXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzW0hlYWRlcnMuQ09OVEVOVF9UWVBFXSAhPT0gQ29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT04pKSB7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICB2YXIgYnNvbk9iaiA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgaWYgKCEoYnNvbk9iaiBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuICAgIHZhciBkb2MgPSBic29uT2JqO1xuICAgIGlmIChkb2NbRmllbGRzLkVSUk9SXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICB2YXIgZXJyb3JNc2cgPSBkb2NbRmllbGRzLkVSUk9SXTtcbiAgICBpZiAoZG9jW0ZpZWxkcy5FUlJPUl9DT0RFXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlcnJvck1zZztcbiAgICB9XG4gICAgdmFyIGVycm9yQ29kZSA9IGRvY1tGaWVsZHMuRVJST1JfQ09ERV07XG4gICAgdGhyb3cgbmV3IFN0aXRjaFNlcnZpY2VFcnJvcihlcnJvck1zZywgc3RpdGNoU2VydmljZUVycm9yQ29kZUZyb21BcGkoZXJyb3JDb2RlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hFcnJvclV0aWxzLmpzLm1hcCIsInZhciBNZXRob2Q7XG4oZnVuY3Rpb24gKE1ldGhvZCkge1xuICAgIE1ldGhvZFtcIkdFVFwiXSA9IFwiR0VUXCI7XG4gICAgTWV0aG9kW1wiUE9TVFwiXSA9IFwiUE9TVFwiO1xuICAgIE1ldGhvZFtcIlBVVFwiXSA9IFwiUFVUXCI7XG4gICAgTWV0aG9kW1wiREVMRVRFXCJdID0gXCJERUxFVEVcIjtcbiAgICBNZXRob2RbXCJIRUFEXCJdID0gXCJIRUFEXCI7XG4gICAgTWV0aG9kW1wiT1BUSU9OU1wiXSA9IFwiT1BUSU9OU1wiO1xuICAgIE1ldGhvZFtcIlRSQUNFXCJdID0gXCJUUkFDRVwiO1xuICAgIE1ldGhvZFtcIlBBVENIXCJdID0gXCJQQVRDSFwiO1xufSkoTWV0aG9kIHx8IChNZXRob2QgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgTWV0aG9kO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TWV0aG9kLmpzLm1hcCIsInZhciBDb250ZW50VHlwZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRlbnRUeXBlcygpIHtcbiAgICB9XG4gICAgQ29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT04gPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICBDb250ZW50VHlwZXMuVEVYVF9FVkVOVF9TVFJFQU0gPSBcInRleHQvZXZlbnQtc3RyZWFtXCI7XG4gICAgcmV0dXJuIENvbnRlbnRUeXBlcztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb250ZW50VHlwZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db250ZW50VHlwZXMuanMubWFwIiwidmFyIEhlYWRlcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhlYWRlcnMoKSB7XG4gICAgfVxuICAgIEhlYWRlcnMuZ2V0QXV0aG9yaXphdGlvbkJlYXJlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSGVhZGVycy5BVVRIT1JJWkFUSU9OX0JFQVJFUiArIFwiIFwiICsgdmFsdWU7XG4gICAgfTtcbiAgICBIZWFkZXJzLkNPTlRFTlRfVFlQRV9DQU5PTiA9IFwiQ29udGVudC1UeXBlXCI7XG4gICAgSGVhZGVycy5DT05URU5UX1RZUEUgPSBIZWFkZXJzLkNPTlRFTlRfVFlQRV9DQU5PTi50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIEhlYWRlcnMuQVVUSE9SSVpBVElPTl9DQU5PTiA9IFwiQXV0aG9yaXphdGlvblwiO1xuICAgIEhlYWRlcnMuQVVUSE9SSVpBVElPTiA9IEhlYWRlcnMuQVVUSE9SSVpBVElPTl9DQU5PTi50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIEhlYWRlcnMuQUNDRVBUX0NBTk9OID0gXCJBY2NlcHRcIjtcbiAgICBIZWFkZXJzLkFDQ0VQVCA9IEhlYWRlcnMuQUNDRVBUX0NBTk9OLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgSGVhZGVycy5BVVRIT1JJWkFUSU9OX0JFQVJFUiA9IFwiQmVhcmVyXCI7XG4gICAgcmV0dXJuIEhlYWRlcnM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgSGVhZGVycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhlYWRlcnMuanMubWFwIiwidmFyIFN0aXRjaFJlcXVlc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFJlcXVlc3QobWV0aG9kLCBwYXRoLCBoZWFkZXJzLCBzdGFydGVkQXQsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuc3RhcnRlZEF0ID0gc3RhcnRlZEF0O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoUmVxdWVzdC5wcm90b3R5cGUsIFwiYnVpbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdGl0Y2hSZXF1ZXN0O1xufSgpKTtcbmV4cG9ydCB7IFN0aXRjaFJlcXVlc3QgfTtcbihmdW5jdGlvbiAoU3RpdGNoUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQnVpbGRlcihyZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGggPSByZXF1ZXN0LnBhdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWRBdCA9IHJlcXVlc3Quc3RhcnRlZEF0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhNZXRob2QgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhIZWFkZXJzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEJvZHkgPSBmdW5jdGlvbiAoYm9keSkge1xuICAgICAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJtdXN0IHNldCBtZXRob2RcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIm11c3Qgc2V0IG5vbi1lbXB0eSBwYXRoXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZEF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWRBdCA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hSZXF1ZXN0KHRoaXMubWV0aG9kLCB0aGlzLnBhdGgsIHRoaXMuaGVhZGVycyA9PT0gdW5kZWZpbmVkID8ge30gOiB0aGlzLmhlYWRlcnMsIHRoaXMuc3RhcnRlZEF0LCB0aGlzLmJvZHkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQnVpbGRlcjtcbiAgICB9KCkpO1xuICAgIFN0aXRjaFJlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hSZXF1ZXN0IHx8IChTdGl0Y2hSZXF1ZXN0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFJlcXVlc3QuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBTdGl0Y2hSZXF1ZXN0IH0gZnJvbSBcIi4vU3RpdGNoUmVxdWVzdFwiO1xudmFyIFN0aXRjaEF1dGhSZXF1ZXN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoQXV0aFJlcXVlc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXV0aFJlcXVlc3QocmVxdWVzdCwgdXNlUmVmcmVzaFRva2VuLCBzaG91bGRSZWZyZXNoT25GYWlsdXJlKSB7XG4gICAgICAgIGlmICh1c2VSZWZyZXNoVG9rZW4gPT09IHZvaWQgMCkgeyB1c2VSZWZyZXNoVG9rZW4gPSBmYWxzZTsgfVxuICAgICAgICBpZiAoc2hvdWxkUmVmcmVzaE9uRmFpbHVyZSA9PT0gdm9pZCAwKSB7IHNob3VsZFJlZnJlc2hPbkZhaWx1cmUgPSB0cnVlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnBhdGgsIHJlcXVlc3QuaGVhZGVycywgcmVxdWVzdC5zdGFydGVkQXQsIHJlcXVlc3QuYm9keSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudXNlUmVmcmVzaFRva2VuID0gdXNlUmVmcmVzaFRva2VuO1xuICAgICAgICBfdGhpcy5zaG91bGRSZWZyZXNoT25GYWlsdXJlID0gc2hvdWxkUmVmcmVzaE9uRmFpbHVyZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoQXV0aFJlcXVlc3QucHJvdG90eXBlLCBcImJ1aWxkZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcih0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFN0aXRjaEF1dGhSZXF1ZXN0O1xufShTdGl0Y2hSZXF1ZXN0KSk7XG5leHBvcnQgeyBTdGl0Y2hBdXRoUmVxdWVzdCB9O1xuKGZ1bmN0aW9uIChTdGl0Y2hBdXRoUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QpIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51c2VSZWZyZXNoVG9rZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoUmVmcmVzaFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51c2VSZWZyZXNoVG9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhTaG91bGRSZWZyZXNoT25GYWlsdXJlID0gZnVuY3Rpb24gKHNob3VsZFJlZnJlc2hPbkZhaWx1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkUmVmcmVzaE9uRmFpbHVyZSA9IHNob3VsZFJlZnJlc2hPbkZhaWx1cmU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy51c2VSZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFJlZnJlc2hPbkZhaWx1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoQXV0aFJlcXVlc3QoX3N1cGVyLnByb3RvdHlwZS5idWlsZC5jYWxsKHRoaXMpLCB0aGlzLnVzZVJlZnJlc2hUb2tlbiwgdGhpcy5zaG91bGRSZWZyZXNoT25GYWlsdXJlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfShTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIpKTtcbiAgICBTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyID0gQnVpbGRlcjtcbn0pKFN0aXRjaEF1dGhSZXF1ZXN0IHx8IChTdGl0Y2hBdXRoUmVxdWVzdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hBdXRoUmVxdWVzdC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCBDb250ZW50VHlwZXMgZnJvbSBcIi4vQ29udGVudFR5cGVzXCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi9IZWFkZXJzXCI7XG5pbXBvcnQgeyBTdGl0Y2hBdXRoUmVxdWVzdCB9IGZyb20gXCIuL1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG52YXIgU3RpdGNoQXV0aERvY1JlcXVlc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hBdXRoRG9jUmVxdWVzdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBdXRoRG9jUmVxdWVzdChyZXF1ZXN0LCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXF1ZXN0IGluc3RhbmNlb2YgU3RpdGNoQXV0aFJlcXVlc3RcbiAgICAgICAgICAgID8gX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0LCByZXF1ZXN0LnVzZVJlZnJlc2hUb2tlbiwgcmVxdWVzdC5zaG91bGRSZWZyZXNoT25GYWlsdXJlKSB8fCB0aGlzIDogX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hBdXRoRG9jUmVxdWVzdC5wcm90b3R5cGUsIFwiYnVpbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hBdXRoRG9jUmVxdWVzdC5CdWlsZGVyKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3RpdGNoQXV0aERvY1JlcXVlc3Q7XG59KFN0aXRjaEF1dGhSZXF1ZXN0KSk7XG5leHBvcnQgeyBTdGl0Y2hBdXRoRG9jUmVxdWVzdCB9O1xuKGZ1bmN0aW9uIChTdGl0Y2hBdXRoRG9jUmVxdWVzdCkge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1aWxkZXIsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdCkgfHwgdGhpcztcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudCA9IHJlcXVlc3QuZG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgX3RoaXMudXNlUmVmcmVzaFRva2VuID0gcmVxdWVzdC51c2VSZWZyZXNoVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aERvY3VtZW50ID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy51c2VSZWZyZXNoVG9rZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50ID09PSB1bmRlZmluZWQgfHwgISh0aGlzLmRvY3VtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRvY3VtZW50IG11c3QgYmUgc2V0OiBcIiArIHRoaXMuZG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aXRoSGVhZGVycyh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdID0gQ29udGVudFR5cGVzLkFQUExJQ0FUSU9OX0pTT047XG4gICAgICAgICAgICB0aGlzLndpdGhCb2R5KEVKU09OLnN0cmluZ2lmeSh0aGlzLmRvY3VtZW50LCB7IHJlbGF4ZWQ6IGZhbHNlIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoQXV0aERvY1JlcXVlc3QoX3N1cGVyLnByb3RvdHlwZS5idWlsZC5jYWxsKHRoaXMpLCB0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfShTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKSk7XG4gICAgU3RpdGNoQXV0aERvY1JlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hBdXRoRG9jUmVxdWVzdCB8fCAoU3RpdGNoQXV0aERvY1JlcXVlc3QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXV0aERvY1JlcXVlc3QuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBFSlNPTiB9IGZyb20gXCJic29uXCI7XG5pbXBvcnQgQ29udGVudFR5cGVzIGZyb20gXCIuL0NvbnRlbnRUeXBlc1wiO1xuaW1wb3J0IEhlYWRlcnMgZnJvbSBcIi4vSGVhZGVyc1wiO1xuaW1wb3J0IHsgU3RpdGNoUmVxdWVzdCB9IGZyb20gXCIuL1N0aXRjaFJlcXVlc3RcIjtcbnZhciBTdGl0Y2hEb2NSZXF1ZXN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoRG9jUmVxdWVzdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hEb2NSZXF1ZXN0KHJlcXVlc3QsIGRvY3VtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnBhdGgsIHJlcXVlc3QuaGVhZGVycywgcmVxdWVzdC5zdGFydGVkQXQsIHJlcXVlc3QuYm9keSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RpdGNoRG9jUmVxdWVzdC5wcm90b3R5cGUsIFwiYnVpbGRlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdGl0Y2hEb2NSZXF1ZXN0O1xufShTdGl0Y2hSZXF1ZXN0KSk7XG5leHBvcnQgeyBTdGl0Y2hEb2NSZXF1ZXN0IH07XG4oZnVuY3Rpb24gKFN0aXRjaERvY1JlcXVlc3QpIHtcbiAgICB2YXIgQnVpbGRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCdWlsZGVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBCdWlsZGVyKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHJlcXVlc3QpIHx8IHRoaXM7XG4gICAgICAgICAgICBpZiAocmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZG9jdW1lbnQgPSByZXF1ZXN0LmRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhEb2N1bWVudCA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnQgPT09IHVuZGVmaW5lZCB8fCAhKHRoaXMuZG9jdW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZG9jdW1lbnQgbXVzdCBiZSBzZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpdGhIZWFkZXJzKHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1tIZWFkZXJzLkNPTlRFTlRfVFlQRV0gPSBDb250ZW50VHlwZXMuQVBQTElDQVRJT05fSlNPTjtcbiAgICAgICAgICAgIHRoaXMud2l0aEJvZHkoRUpTT04uc3RyaW5naWZ5KHRoaXMuZG9jdW1lbnQsIHsgcmVsYXhlZDogZmFsc2UgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hEb2NSZXF1ZXN0KF9zdXBlci5wcm90b3R5cGUuYnVpbGQuY2FsbCh0aGlzKSwgdGhpcy5kb2N1bWVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBCdWlsZGVyO1xuICAgIH0oU3RpdGNoUmVxdWVzdC5CdWlsZGVyKSk7XG4gICAgU3RpdGNoRG9jUmVxdWVzdC5CdWlsZGVyID0gQnVpbGRlcjtcbn0pKFN0aXRjaERvY1JlcXVlc3QgfHwgKFN0aXRjaERvY1JlcXVlc3QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoRG9jUmVxdWVzdC5qcy5tYXAiLCJ2YXIgX2E7XG5leHBvcnQgdmFyIFN0aXRjaENsaWVudEVycm9yQ29kZTtcbihmdW5jdGlvbiAoU3RpdGNoQ2xpZW50RXJyb3JDb2RlKSB7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIkxvZ2dlZE91dER1cmluZ1JlcXVlc3RcIl0gPSAwXSA9IFwiTG9nZ2VkT3V0RHVyaW5nUmVxdWVzdFwiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJNdXN0QXV0aGVudGljYXRlRmlyc3RcIl0gPSAxXSA9IFwiTXVzdEF1dGhlbnRpY2F0ZUZpcnN0XCI7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIlVzZXJOb0xvbmdlclZhbGlkXCJdID0gMl0gPSBcIlVzZXJOb0xvbmdlclZhbGlkXCI7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIlVzZXJOb3RGb3VuZFwiXSA9IDNdID0gXCJVc2VyTm90Rm91bmRcIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiVXNlck5vdExvZ2dlZEluXCJdID0gNF0gPSBcIlVzZXJOb3RMb2dnZWRJblwiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJDb3VsZE5vdExvYWRQZXJzaXN0ZWRBdXRoSW5mb1wiXSA9IDVdID0gXCJDb3VsZE5vdExvYWRQZXJzaXN0ZWRBdXRoSW5mb1wiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJDb3VsZE5vdFBlcnNpc3RBdXRoSW5mb1wiXSA9IDZdID0gXCJDb3VsZE5vdFBlcnNpc3RBdXRoSW5mb1wiO1xuICAgIFN0aXRjaENsaWVudEVycm9yQ29kZVtTdGl0Y2hDbGllbnRFcnJvckNvZGVbXCJTdHJlYW1pbmdOb3RTdXBwb3J0ZWRcIl0gPSA3XSA9IFwiU3RyZWFtaW5nTm90U3VwcG9ydGVkXCI7XG4gICAgU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1N0aXRjaENsaWVudEVycm9yQ29kZVtcIlN0cmVhbUNsb3NlZFwiXSA9IDhdID0gXCJTdHJlYW1DbG9zZWRcIjtcbiAgICBTdGl0Y2hDbGllbnRFcnJvckNvZGVbU3RpdGNoQ2xpZW50RXJyb3JDb2RlW1wiVW5leHBlY3RlZEFyZ3VtZW50c1wiXSA9IDldID0gXCJVbmV4cGVjdGVkQXJndW1lbnRzXCI7XG59KShTdGl0Y2hDbGllbnRFcnJvckNvZGUgfHwgKFN0aXRjaENsaWVudEVycm9yQ29kZSA9IHt9KSk7XG5leHBvcnQgdmFyIGNsaWVudEVycm9yQ29kZURlc2NzID0gKF9hID0ge30sXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkxvZ2dlZE91dER1cmluZ1JlcXVlc3RdID0gXCJsb2dnZWQgb3V0IHdoaWxlIG1ha2luZyBhIHJlcXVlc3QgdG8gU3RpdGNoXCIsXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLk11c3RBdXRoZW50aWNhdGVGaXJzdF0gPSBcIm1ldGhvZCBjYWxsZWQgcmVxdWlyZXMgYmVpbmcgYXV0aGVudGljYXRlZFwiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5Vc2VyTm9Mb25nZXJWYWxpZF0gPSBcInVzZXIgaW5zdGFuY2UgYmVpbmcgYWNjZXNzZWQgaXMgbm8gbG9uZ2VyIHZhbGlkOyBwbGVhc2UgZ2V0IGEgbmV3IHVzZXIgd2l0aCBhdXRoLmdldFVzZXIoKVwiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5Vc2VyTm90Rm91bmRdID0gXCJ1c2VyIG5vdCBmb3VuZCBpbiBsaXN0IG9mIHVzZXJzXCIsXG4gICAgX2FbU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RMb2dnZWRJbl0gPSBcImNhbm5vdCBtYWtlIHRoZSBhY3RpdmUgdXNlciBhIGxvZ2dlZCBvdXQgdXNlcjsgcGxlYXNlIHVzZSBsb2dpbldpdGhDcmVkZW50aWFsKCkgdG8gc3dpdGNoIHRvIHRoaXMgdXNlclwiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5Db3VsZE5vdExvYWRQZXJzaXN0ZWRBdXRoSW5mb10gPSBcImZhaWxlZCB0byBsb2FkIHN0b3JlZCBhdXRoIGluZm9ybWF0aW9uIGZvciBTdGl0Y2hcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RQZXJzaXN0QXV0aEluZm9dID0gXCJmYWlsZWQgdG8gc2F2ZSBhdXRoIGluZm9ybWF0aW9uIGZvciBTdGl0Y2hcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuU3RyZWFtaW5nTm90U3VwcG9ydGVkXSA9IFwic3RyZWFtaW5nIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBTREtcIixcbiAgICBfYVtTdGl0Y2hDbGllbnRFcnJvckNvZGUuU3RyZWFtQ2xvc2VkXSA9IFwic3RyZWFtIGlzIGNsb3NlZFwiLFxuICAgIF9hW1N0aXRjaENsaWVudEVycm9yQ29kZS5VbmV4cGVjdGVkQXJndW1lbnRzXSA9IFwiZnVuY3Rpb24gZG9lcyBub3QgYWNjZXB0IGFyZ3VtZW50c1wiLFxuICAgIF9hKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaENsaWVudEVycm9yQ29kZS5qcy5tYXAiLCJpbXBvcnQgeyBFSlNPTiB9IGZyb20gXCJic29uXCI7XG5pbXBvcnQgU3RpdGNoU2VydmljZUVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hTZXJ2aWNlRXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUsIHN0aXRjaFNlcnZpY2VFcnJvckNvZGVGcm9tQXBpIH0gZnJvbSBcIi4uLy4uL1N0aXRjaFNlcnZpY2VFcnJvckNvZGVcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi9FdmVudFwiO1xudmFyIFN0aXRjaEV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hFdmVudChldmVudE5hbWUsIGRhdGEsIGRlY29kZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIGRhdGEgPSBkYXRhID8gZGF0YSA6IFwiXCI7XG4gICAgICAgIHZhciBkZWNvZGVkU3RyaW5nQnVmZmVyID0gW107XG4gICAgICAgIGZvciAodmFyIGNoSWR4ID0gMDsgY2hJZHggPCBkYXRhLmxlbmd0aDsgY2hJZHgrKykge1xuICAgICAgICAgICAgdmFyIGMgPSBkYXRhW2NoSWR4XTtcbiAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hJZHggKyAyID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGRhdGEuc3Vic3RyaW5nKGNoSWR4ICsgMSwgY2hJZHggKyAzKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIyNVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkU3RyaW5nQnVmZmVyLnB1c2goXCIlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjBBXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRTdHJpbmdCdWZmZXIucHVzaChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIwRFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkU3RyaW5nQnVmZmVyLnB1c2goXCJcXHJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaElkeCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNvZGVkU3RyaW5nQnVmZmVyLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlY29kZWREYXRhID0gZGVjb2RlZFN0cmluZ0J1ZmZlci5qb2luKCcnKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLmV2ZW50TmFtZSkge1xuICAgICAgICAgICAgY2FzZSBTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FOlxuICAgICAgICAgICAgICAgIHZhciBlcnJvck1zZyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JDb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckRvYyA9IEVKU09OLnBhcnNlKGRlY29kZWREYXRhLCB7IHN0cmljdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnID0gZXJyb3JEb2NbRXJyb3JGaWVsZHMuRXJyb3JdO1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPSBzdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlRnJvbUFwaShlcnJvckRvY1tFcnJvckZpZWxkcy5FcnJvckNvZGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnID0gZGVjb2RlZERhdGE7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZSA9IFN0aXRjaFNlcnZpY2VFcnJvckNvZGUuVW5rbm93bjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IG5ldyBTdGl0Y2hTZXJ2aWNlRXJyb3IoZXJyb3JNc2csIGVycm9yQ29kZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50Lk1FU1NBR0VfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gRUpTT04ucGFyc2UoZGVjb2RlZERhdGEsIHsgc3RyaWN0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkZWNvZGVyLmRlY29kZSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdGl0Y2hFdmVudC5mcm9tRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hFdmVudChldmVudC5ldmVudE5hbWUsIGV2ZW50LmRhdGEsIGRlY29kZXIpO1xuICAgIH07XG4gICAgU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSA9IFwiZXJyb3JcIjtcbiAgICByZXR1cm4gU3RpdGNoRXZlbnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoRXZlbnQ7XG52YXIgRXJyb3JGaWVsZHM7XG4oZnVuY3Rpb24gKEVycm9yRmllbGRzKSB7XG4gICAgRXJyb3JGaWVsZHNbXCJFcnJvclwiXSA9IFwiZXJyb3JcIjtcbiAgICBFcnJvckZpZWxkc1tcIkVycm9yQ29kZVwiXSA9IFwiZXJyb3JfY29kZVwiO1xufSkoRXJyb3JGaWVsZHMgfHwgKEVycm9yRmllbGRzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEV2ZW50LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgY2xpZW50RXJyb3JDb2RlRGVzY3MsIFN0aXRjaENsaWVudEVycm9yQ29kZSB9IGZyb20gXCIuL1N0aXRjaENsaWVudEVycm9yQ29kZVwiO1xuaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuL1N0aXRjaEVycm9yXCI7XG52YXIgU3RpdGNoQ2xpZW50RXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hDbGllbnRFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hDbGllbnRFcnJvcihlcnJvckNvZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBcIihcIiArIFN0aXRjaENsaWVudEVycm9yQ29kZVtlcnJvckNvZGVdICsgXCIpOiBcIiArIGNsaWVudEVycm9yQ29kZURlc2NzW2Vycm9yQ29kZV07XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xuICAgICAgICBfdGhpcy5lcnJvckNvZGVOYW1lID0gU3RpdGNoQ2xpZW50RXJyb3JDb2RlW2Vycm9yQ29kZV07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaENsaWVudEVycm9yO1xufShTdGl0Y2hFcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQ2xpZW50RXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hDbGllbnRFcnJvci5qcy5tYXAiLCJ2YXIgRXZlbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50KGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgRXZlbnQuTUVTU0FHRV9FVkVOVCA9IFwibWVzc2FnZVwiO1xuICAgIHJldHVybiBFdmVudDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFdmVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50LmpzLm1hcCIsImltcG9ydCBFdmVudCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvRXZlbnRcIjtcbmltcG9ydCBTdGl0Y2hFdmVudCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvU3RpdGNoRXZlbnRcIjtcbnZhciBTdHJlYW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmVhbShldmVudFN0cmVhbSwgZGVjb2Rlcikge1xuICAgICAgICB0aGlzLmV2ZW50U3RyZWFtID0gZXZlbnRTdHJlYW07XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IGRlY29kZXI7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgfVxuICAgIFN0cmVhbS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRTdHJlYW0ubmV4dEV2ZW50KClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHNlID0gU3RpdGNoRXZlbnQuZnJvbUV2ZW50KGV2ZW50LCBfdGhpcy5kZWNvZGVyKTtcbiAgICAgICAgICAgIGlmIChzZS5ldmVudE5hbWUgPT09IFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBzZS5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZS5ldmVudE5hbWUgPT09IEV2ZW50Lk1FU1NBR0VfRVZFTlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5uZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5vbk5leHQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7XG4gICAgICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZSA9IFN0aXRjaEV2ZW50LmZyb21FdmVudChlLCBfdGhpcy5kZWNvZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2UuZXZlbnROYW1lICE9PSBFdmVudC5NRVNTQUdFX0VWRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soc2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXZlbnRTdHJlYW0uYWRkTGlzdGVuZXIod3JhcHBlcik7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7XG4gICAgICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZSA9IFN0aXRjaEV2ZW50LmZyb21FdmVudChlLCBfdGhpcy5kZWNvZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2UuZXZlbnROYW1lID09PSBTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXZlbnRTdHJlYW0uYWRkTGlzdGVuZXIod3JhcHBlcik7XG4gICAgfTtcbiAgICBTdHJlYW0ucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB3cmFwcGVyID0ge1xuICAgICAgICAgICAgb25FdmVudDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2UgPSBTdGl0Y2hFdmVudC5mcm9tRXZlbnQoZSwgX3RoaXMuZGVjb2Rlcik7XG4gICAgICAgICAgICAgICAgaWYgKHNlLmV2ZW50TmFtZSA9PT0gU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25FcnJvcihzZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbk5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uTmV4dChzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChbbGlzdGVuZXIsIHdyYXBwZXJdKTtcbiAgICAgICAgdGhpcy5ldmVudFN0cmVhbS5hZGRMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICB9O1xuICAgIFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1tpXVswXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5saXN0ZW5lcnNbaW5kZXhdWzFdO1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmV2ZW50U3RyZWFtLnJlbW92ZUxpc3RlbmVyKHdyYXBwZXIpO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50U3RyZWFtLmlzT3BlbigpO1xuICAgIH07XG4gICAgU3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ldmVudFN0cmVhbS5jbG9zZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cmVhbTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdHJlYW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJlYW0uanMubWFwIiwidmFyIE5BTUUgPSBcIm5hbWVcIjtcbnZhciBFTUFJTCA9IFwiZW1haWxcIjtcbnZhciBQSUNUVVJFX1VSTCA9IFwicGljdHVyZVwiO1xudmFyIEZJUlNUX05BTUUgPSBcImZpcnN0X25hbWVcIjtcbnZhciBMQVNUX05BTUUgPSBcImxhc3RfbmFtZVwiO1xudmFyIEdFTkRFUiA9IFwiZ2VuZGVyXCI7XG52YXIgQklSVEhEQVkgPSBcImJpcnRoZGF5XCI7XG52YXIgTUlOX0FHRSA9IFwibWluX2FnZVwiO1xudmFyIE1BWF9BR0UgPSBcIm1heF9hZ2VcIjtcbnZhciBTdGl0Y2hVc2VyUHJvZmlsZUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFVzZXJQcm9maWxlSW1wbCh1c2VyVHlwZSwgZGF0YSwgaWRlbnRpdGllcykge1xuICAgICAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSB7IGRhdGEgPSB7fTsgfVxuICAgICAgICBpZiAoaWRlbnRpdGllcyA9PT0gdm9pZCAwKSB7IGlkZW50aXRpZXMgPSBbXTsgfVxuICAgICAgICB0aGlzLnVzZXJUeXBlID0gdXNlclR5cGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuaWRlbnRpdGllcyA9IGlkZW50aXRpZXM7XG4gICAgfVxuICAgIFN0aXRjaFVzZXJQcm9maWxlSW1wbC5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hVc2VyUHJvZmlsZUltcGwoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbTkFNRV07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcImVtYWlsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW0VNQUlMXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0aXRjaFVzZXJQcm9maWxlSW1wbC5wcm90b3R5cGUsIFwicGljdHVyZVVybFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtQSUNUVVJFX1VSTF07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcImZpcnN0TmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtGSVJTVF9OQU1FXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0aXRjaFVzZXJQcm9maWxlSW1wbC5wcm90b3R5cGUsIFwibGFzdE5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbTEFTVF9OQU1FXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0aXRjaFVzZXJQcm9maWxlSW1wbC5wcm90b3R5cGUsIFwiZ2VuZGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW0dFTkRFUl07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcImJpcnRoZGF5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW0JJUlRIREFZXTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0aXRjaFVzZXJQcm9maWxlSW1wbC5wcm90b3R5cGUsIFwibWluQWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYWdlID0gdGhpcy5kYXRhW01JTl9BR0VdO1xuICAgICAgICAgICAgaWYgKGFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hVc2VyUHJvZmlsZUltcGwucHJvdG90eXBlLCBcIm1heEFnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFnZSA9IHRoaXMuZGF0YVtNQVhfQUdFXTtcbiAgICAgICAgICAgIGlmIChhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWdlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU3RpdGNoVXNlclByb2ZpbGVJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaFVzZXJQcm9maWxlSW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFVzZXJQcm9maWxlSW1wbC5qcy5tYXAiLCJpbXBvcnQgU3RpdGNoVXNlclByb2ZpbGVJbXBsIGZyb20gXCIuL1N0aXRjaFVzZXJQcm9maWxlSW1wbFwiO1xudmFyIENvcmVTdGl0Y2hVc2VySW1wbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZVN0aXRjaFVzZXJJbXBsKGlkLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGlzTG9nZ2VkSW4sIGxhc3RBdXRoQWN0aXZpdHksIHByb2ZpbGUsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlID0gbG9nZ2VkSW5Qcm92aWRlclR5cGU7XG4gICAgICAgIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUgPSBsb2dnZWRJblByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm9maWxlID1cbiAgICAgICAgICAgIHByb2ZpbGUgPT09IHVuZGVmaW5lZCA/IFN0aXRjaFVzZXJQcm9maWxlSW1wbC5lbXB0eSgpIDogcHJvZmlsZTtcbiAgICAgICAgdGhpcy5pc0xvZ2dlZEluID0gaXNMb2dnZWRJbjtcbiAgICAgICAgdGhpcy5sYXN0QXV0aEFjdGl2aXR5ID0gbGFzdEF1dGhBY3Rpdml0eTtcbiAgICAgICAgdGhpcy5jdXN0b21EYXRhID0gY3VzdG9tRGF0YSA9PT0gdW5kZWZpbmVkID8ge30gOiBjdXN0b21EYXRhO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yZVN0aXRjaFVzZXJJbXBsLnByb3RvdHlwZSwgXCJ1c2VyVHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvZmlsZS51c2VyVHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcmVTdGl0Y2hVc2VySW1wbC5wcm90b3R5cGUsIFwiaWRlbnRpdGllc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvZmlsZS5pZGVudGl0aWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb3JlU3RpdGNoVXNlckltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pZCA9PT0gb3RoZXIuaWRcbiAgICAgICAgICAgICYmIEpTT04uc3RyaW5naWZ5KHRoaXMuaWRlbnRpdGllcykgPT09IEpTT04uc3RyaW5naWZ5KG90aGVyLmlkZW50aXRpZXMpXG4gICAgICAgICAgICAmJiB0aGlzLmlzTG9nZ2VkSW4gPT09IG90aGVyLmlzTG9nZ2VkSW5cbiAgICAgICAgICAgICYmIHRoaXMubG9nZ2VkSW5Qcm92aWRlck5hbWUgPT09IG90aGVyLmxvZ2dlZEluUHJvdmlkZXJOYW1lXG4gICAgICAgICAgICAmJiB0aGlzLmxvZ2dlZEluUHJvdmlkZXJUeXBlID09PSBvdGhlci5sb2dnZWRJblByb3ZpZGVyVHlwZVxuICAgICAgICAgICAgJiYgSlNPTi5zdHJpbmdpZnkodGhpcy5wcm9maWxlKSA9PT0gSlNPTi5zdHJpbmdpZnkob3RoZXIucHJvZmlsZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVN0aXRjaFVzZXJJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVTdGl0Y2hVc2VySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVTdGl0Y2hVc2VySW1wbC5qcy5tYXAiLCJ2YXIgQW5vbnltb3VzQXV0aFByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNBdXRoUHJvdmlkZXIoKSB7XG4gICAgfVxuICAgIEFub255bW91c0F1dGhQcm92aWRlci5UWVBFID0gXCJhbm9uLXVzZXJcIjtcbiAgICBBbm9ueW1vdXNBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FID0gXCJhbm9uLXVzZXJcIjtcbiAgICByZXR1cm4gQW5vbnltb3VzQXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFub255bW91c0F1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFub255bW91c0F1dGhQcm92aWRlci5qcy5tYXAiLCJ2YXIgU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbChhdXRoSW5mbywgcHJvdmlkZXJUeXBlLCBwcm92aWRlck5hbWUsIGFzTGluaykge1xuICAgICAgICB0aGlzLmF1dGhJbmZvID0gYXV0aEluZm87XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gcHJvdmlkZXJUeXBlO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5hc0xpbmsgPSBhc0xpbms7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsLmpzLm1hcCIsImltcG9ydCB7IGZyb21CeXRlQXJyYXksIHRvQnl0ZUFycmF5IH0gZnJvbSBcImJhc2U2NC1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NERlY29kZShzdHIpIHtcbiAgICB2YXIgdW5ldmVuQnl0ZXMgPSBzdHIubGVuZ3RoICUgNDtcbiAgICB2YXIgc3RyVG9EZWNvZGU7XG4gICAgaWYgKHVuZXZlbkJ5dGVzICE9IDApIHtcbiAgICAgICAgdmFyIHBhZGRpbmdOZWVkZWQgPSA0IC0gdW5ldmVuQnl0ZXM7XG4gICAgICAgIHN0clRvRGVjb2RlID0gc3RyICsgXCI9XCIucmVwZWF0KHBhZGRpbmdOZWVkZWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RyVG9EZWNvZGUgPSBzdHI7XG4gICAgfVxuICAgIHZhciBieXRlcyA9IHRvQnl0ZUFycmF5KHN0clRvRGVjb2RlKTtcbiAgICByZXR1cm4gdXRmOFNsaWNlKGJ5dGVzLCAwLCBieXRlcy5sZW5ndGgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NEVuY29kZShzdHIpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgVWludDhBcnJheSkge1xuICAgICAgICByZXN1bHQgPSB1dGY4VG9CeXRlcyhzdHIpO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheSh1dGY4VG9CeXRlcyhzdHIpKTtcbiAgICByZXR1cm4gZnJvbUJ5dGVBcnJheShyZXN1bHQpO1xufVxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMoc3RyaW5nKSB7XG4gICAgdmFyIHVuaXRzID0gSW5maW5pdHk7XG4gICAgdmFyIGNvZGVQb2ludDtcbiAgICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGw7XG4gICAgdmFyIGJ5dGVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweGQ3ZmYgJiYgY29kZVBvaW50IDwgMHhlMDAwKSB7XG4gICAgICAgICAgICBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCAweGRjMDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlcy5wdXNoKDB4ZWYsIDB4YmYsIDB4YmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICgobGVhZFN1cnJvZ2F0ZSAtIDB4ZDgwMCkgPDwgMTApIHwgKGNvZGVQb2ludCAtIDB4ZGMwMCkgfCAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhkYmZmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzLnB1c2goMHhlZiwgMHhiZiwgMHhiZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgYnl0ZXMucHVzaCgweGVmLCAweGJmLCAweGJkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICAgICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICAgICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnl0ZXMucHVzaCgoY29kZVBvaW50ID4+IDB4NikgfCAweGMwLCAoY29kZVBvaW50ICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnl0ZXMucHVzaCgoY29kZVBvaW50ID4+IDB4YykgfCAweGUwLCAoKGNvZGVQb2ludCA+PiAweDYpICYgMHgzZikgfCAweDgwLCAoY29kZVBvaW50ICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDIwMDAwMCkge1xuICAgICAgICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzLnB1c2goKGNvZGVQb2ludCA+PiAweDEyKSB8IDB4ZjAsICgoY29kZVBvaW50ID4+IDB4YykgJiAweDNmKSB8IDB4ODAsICgoY29kZVBvaW50ID4+IDB4NikgJiAweDNmKSB8IDB4ODAsIChjb2RlUG9pbnQgJiAweDNmKSB8IDB4ODApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb2RlIHBvaW50XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBieXRlcztcbn1cbmV4cG9ydCBmdW5jdGlvbiB1dGY4U2xpY2UoYnVmLCBzdGFydCwgZW5kKSB7XG4gICAgdmFyIHJlcyA9IFwiXCI7XG4gICAgdmFyIHRtcCA9IFwiXCI7XG4gICAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kIHx8IEluZmluaXR5KTtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgaWYgKGJ1ZltpXSA8PSAweDdmKSB7XG4gICAgICAgICAgICByZXMgKz0gZGVjb2RlVXRmOENoYXIodG1wKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtcbiAgICAgICAgICAgIHRtcCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0bXAgKz0gXCIlXCIgKyBidWZbaV0udG9TdHJpbmcoMTYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMgKyBkZWNvZGVVdGY4Q2hhcih0bXApO1xufVxuZnVuY3Rpb24gZGVjb2RlVXRmOENoYXIoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZmZmZCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZTY0LmpzLm1hcCIsImltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9jb21tb24vQmFzZTY0XCI7XG52YXIgRVhQSVJFUyA9IFwiZXhwXCI7XG52YXIgSVNTVUVEX0FUID0gXCJpYXRcIjtcbnZhciBVU0VSX0RBVEEgPSBcInVzZXJfZGF0YVwiO1xudmFyIEpXVCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSldUKGV4cGlyZXMsIGlzc3VlZEF0LCB1c2VyRGF0YSkge1xuICAgICAgICB0aGlzLmV4cGlyZXMgPSBleHBpcmVzO1xuICAgICAgICB0aGlzLmlzc3VlZEF0ID0gaXNzdWVkQXQ7XG4gICAgICAgIHRoaXMudXNlckRhdGEgPSB1c2VyRGF0YTtcbiAgICB9XG4gICAgSldULmZyb21FbmNvZGVkID0gZnVuY3Rpb24gKGVuY29kZWRKV1QpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gSldULnNwbGl0VG9rZW4oZW5jb2RlZEpXVCk7XG4gICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShiYXNlNjREZWNvZGUocGFydHNbMV0pKTtcbiAgICAgICAgdmFyIGV4cGlyZXMgPSBqc29uW0VYUElSRVNdO1xuICAgICAgICB2YXIgaWF0ID0ganNvbltJU1NVRURfQVRdO1xuICAgICAgICB2YXIgdXNlckRhdGEgPSBqc29uW1VTRVJfREFUQV07XG4gICAgICAgIHJldHVybiBuZXcgSldUKGV4cGlyZXMsIGlhdCwgdXNlckRhdGEpO1xuICAgIH07XG4gICAgSldULnNwbGl0VG9rZW4gPSBmdW5jdGlvbiAoand0KSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IGp3dC5zcGxpdChcIi5cIik7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBKV1QgdG9rZW4uIFRoZSBzdHJpbmcgXCIgKyBqd3QgKyBcIiBzaG91bGQgaGF2ZSAzIHBhcnRzLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgfTtcbiAgICByZXR1cm4gSldUO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEpXVDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpXVC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBdXRoSW5mbyBmcm9tIFwiLi4vQXV0aEluZm9cIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIlVTRVJfSURcIl0gPSBcInVzZXJfaWRcIjtcbiAgICBGaWVsZHNbXCJERVZJQ0VfSURcIl0gPSBcImRldmljZV9pZFwiO1xuICAgIEZpZWxkc1tcIkFDQ0VTU19UT0tFTlwiXSA9IFwiYWNjZXNzX3Rva2VuXCI7XG4gICAgRmllbGRzW1wiUkVGUkVTSF9UT0tFTlwiXSA9IFwicmVmcmVzaF90b2tlblwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEFwaUF1dGhJbmZvID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXBpQXV0aEluZm8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXBpQXV0aEluZm8odXNlcklkLCBkZXZpY2VJZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgdXNlcklkLCBkZXZpY2VJZCwgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbikgfHwgdGhpcztcbiAgICB9XG4gICAgQXBpQXV0aEluZm8uZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IEFwaUF1dGhJbmZvKGpzb25bRmllbGRzLlVTRVJfSURdLCBqc29uW0ZpZWxkcy5ERVZJQ0VfSURdLCBqc29uW0ZpZWxkcy5BQ0NFU1NfVE9LRU5dLCBqc29uW0ZpZWxkcy5SRUZSRVNIX1RPS0VOXSk7XG4gICAgfTtcbiAgICBBcGlBdXRoSW5mby5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLlVTRVJfSURdID0gdGhpcy51c2VySWQsXG4gICAgICAgICAgICBfYVtGaWVsZHMuREVWSUNFX0lEXSA9IHRoaXMuZGV2aWNlSWQsXG4gICAgICAgICAgICBfYVtGaWVsZHMuQUNDRVNTX1RPS0VOXSA9IHRoaXMuYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICBfYVtGaWVsZHMuUkVGUkVTSF9UT0tFTl0gPSB0aGlzLnJlZnJlc2hUb2tlbixcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIEFwaUF1dGhJbmZvO1xufShBdXRoSW5mbykpO1xuZXhwb3J0IGRlZmF1bHQgQXBpQXV0aEluZm87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcGlBdXRoSW5mby5qcy5tYXAiLCJpbXBvcnQgSldUIGZyb20gXCIuL0pXVFwiO1xudmFyIFNMRUVQX01JTExJUyA9IDYwMDAwO1xudmFyIEVYUElSQVRJT05fV0lORE9XX1NFQ1MgPSAzMDA7XG52YXIgQWNjZXNzVG9rZW5SZWZyZXNoZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFjY2Vzc1Rva2VuUmVmcmVzaGVyKGF1dGgpIHtcbiAgICAgICAgdGhpcy5hdXRoID0gYXV0aDtcbiAgICB9XG4gICAgQWNjZXNzVG9rZW5SZWZyZXNoZXIucHJvdG90eXBlLnNob3VsZFJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhdXRoID0gdGhpcy5hdXRoO1xuICAgICAgICBpZiAoYXV0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhdXRoLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5mbyA9IGF1dGguYXV0aEluZm87XG4gICAgICAgIGlmIChpbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluZm8uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBqd3Q7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqd3QgPSBKV1QuZnJvbUVuY29kZWQoaW5mby5hY2Nlc3NUb2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC8gMTAwMCA8IGp3dC5leHBpcmVzIC0gRVhQSVJBVElPTl9XSU5ET1dfU0VDUykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQWNjZXNzVG9rZW5SZWZyZXNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFJlZnJlc2goKSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucnVuKCk7IH0sIFNMRUVQX01JTExJUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmF1dGgucmVmcmVzaEFjY2Vzc1Rva2VuKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubmV4dFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJ1bigpOyB9LCBTTEVFUF9NSUxMSVMpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm5leHRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5ydW4oKTsgfSwgU0xFRVBfTUlMTElTKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBY2Nlc3NUb2tlblJlZnJlc2hlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFRpbWVvdXQpO1xuICAgIH07XG4gICAgcmV0dXJuIEFjY2Vzc1Rva2VuUmVmcmVzaGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFjY2Vzc1Rva2VuUmVmcmVzaGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzVG9rZW5SZWZyZXNoZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuLi8uLi9TdGl0Y2hVc2VySWRlbnRpdHlcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIklEXCJdID0gXCJpZFwiO1xuICAgIEZpZWxkc1tcIlBST1ZJREVSX1RZUEVcIl0gPSBcInByb3ZpZGVyX3R5cGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBBcGlTdGl0Y2hVc2VySWRlbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcGlTdGl0Y2hVc2VySWRlbnRpdHksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXBpU3RpdGNoVXNlcklkZW50aXR5KGlkLCBwcm92aWRlclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGlkLCBwcm92aWRlclR5cGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFwaVN0aXRjaFVzZXJJZGVudGl0eS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXBpU3RpdGNoVXNlcklkZW50aXR5KGpzb25bRmllbGRzLklEXSwganNvbltGaWVsZHMuUFJPVklERVJfVFlQRV0pO1xuICAgIH07XG4gICAgQXBpU3RpdGNoVXNlcklkZW50aXR5LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9hID0ge30sXG4gICAgICAgICAgICBfYVtGaWVsZHMuSURdID0gdGhpcy5pZCxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5QUk9WSURFUl9UWVBFXSA9IHRoaXMucHJvdmlkZXJUeXBlLFxuICAgICAgICAgICAgX2E7XG4gICAgfTtcbiAgICByZXR1cm4gQXBpU3RpdGNoVXNlcklkZW50aXR5O1xufShTdGl0Y2hVc2VySWRlbnRpdHkpKTtcbmV4cG9ydCBkZWZhdWx0IEFwaVN0aXRjaFVzZXJJZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFwaVN0aXRjaFVzZXJJZGVudGl0eS5qcy5tYXAiLCJ2YXIgQXNzZXJ0aW9ucyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXNzZXJ0aW9ucygpIHtcbiAgICB9XG4gICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50ID0gZnVuY3Rpb24gKGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3Rba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCBcIiArIGtleSArIFwiIHRvIGJlIHByZXNlbnRcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3NlcnRpb25zO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFzc2VydGlvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3NlcnRpb25zLmpzLm1hcCIsInZhciBTdGl0Y2hVc2VySWRlbnRpdHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFVzZXJJZGVudGl0eShpZCwgcHJvdmlkZXJUeXBlKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBwcm92aWRlclR5cGU7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hVc2VySWRlbnRpdHk7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoVXNlcklkZW50aXR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoVXNlcklkZW50aXR5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEFzc2VydGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2NvbW1vbi9Bc3NlcnRpb25zXCI7XG5pbXBvcnQgU3RpdGNoVXNlclByb2ZpbGVJbXBsIGZyb20gXCIuLi9TdGl0Y2hVc2VyUHJvZmlsZUltcGxcIjtcbmltcG9ydCBBcGlTdGl0Y2hVc2VySWRlbnRpdHkgZnJvbSBcIi4vQXBpU3RpdGNoVXNlcklkZW50aXR5XCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJEQVRBXCJdID0gXCJkYXRhXCI7XG4gICAgRmllbGRzW1wiVVNFUl9UWVBFXCJdID0gXCJ0eXBlXCI7XG4gICAgRmllbGRzW1wiSURFTlRJVElFU1wiXSA9IFwiaWRlbnRpdGllc1wiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEFwaUNvcmVVc2VyUHJvZmlsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFwaUNvcmVVc2VyUHJvZmlsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcGlDb3JlVXNlclByb2ZpbGUodXNlclR5cGUsIGRhdGEsIGlkZW50aXRpZXMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHVzZXJUeXBlLCBkYXRhLCBpZGVudGl0aWVzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBcGlDb3JlVXNlclByb2ZpbGUuZnJvbUpTT04gPSBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoRmllbGRzLlVTRVJfVFlQRSwganNvbik7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChGaWVsZHMuREFUQSwganNvbik7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChGaWVsZHMuSURFTlRJVElFUywganNvbik7XG4gICAgICAgIHJldHVybiBuZXcgQXBpQ29yZVVzZXJQcm9maWxlKGpzb25bRmllbGRzLlVTRVJfVFlQRV0sIGpzb25bRmllbGRzLkRBVEFdLCBqc29uW0ZpZWxkcy5JREVOVElUSUVTXS5tYXAoQXBpU3RpdGNoVXNlcklkZW50aXR5LmZyb21KU09OKSk7XG4gICAgfTtcbiAgICBBcGlDb3JlVXNlclByb2ZpbGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5EQVRBXSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5VU0VSX1RZUEVdID0gdGhpcy51c2VyVHlwZSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5JREVOVElUSUVTXSA9IHRoaXMuaWRlbnRpdGllcyxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIEFwaUNvcmVVc2VyUHJvZmlsZTtcbn0oU3RpdGNoVXNlclByb2ZpbGVJbXBsKSk7XG5leHBvcnQgZGVmYXVsdCBBcGlDb3JlVXNlclByb2ZpbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcGlDb3JlVXNlclByb2ZpbGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoVXNlcklkZW50aXR5IGZyb20gXCIuLi8uLi9TdGl0Y2hVc2VySWRlbnRpdHlcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIklEXCJdID0gXCJpZFwiO1xuICAgIEZpZWxkc1tcIlBST1ZJREVSX1RZUEVcIl0gPSBcInByb3ZpZGVyX3R5cGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0b3JlU3RpdGNoVXNlcklkZW50aXR5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0b3JlU3RpdGNoVXNlcklkZW50aXR5KGlkLCBwcm92aWRlclR5cGUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGlkLCBwcm92aWRlclR5cGUpIHx8IHRoaXM7XG4gICAgfVxuICAgIFN0b3JlU3RpdGNoVXNlcklkZW50aXR5LmRlY29kZSA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkoZnJvbVtGaWVsZHMuSURdLCBmcm9tW0ZpZWxkcy5QUk9WSURFUl9UWVBFXSk7XG4gICAgfTtcbiAgICBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLklEXSA9IHRoaXMuaWQsXG4gICAgICAgICAgICBfYVtGaWVsZHMuUFJPVklERVJfVFlQRV0gPSB0aGlzLnByb3ZpZGVyVHlwZSxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIFN0b3JlU3RpdGNoVXNlcklkZW50aXR5O1xufShTdGl0Y2hVc2VySWRlbnRpdHkpKTtcbmV4cG9ydCBkZWZhdWx0IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RpdGNoVXNlclByb2ZpbGVJbXBsIGZyb20gXCIuLi9TdGl0Y2hVc2VyUHJvZmlsZUltcGxcIjtcbmltcG9ydCBTdG9yZVN0aXRjaFVzZXJJZGVudGl0eSBmcm9tIFwiLi9TdG9yZVN0aXRjaFVzZXJJZGVudGl0eVwiO1xudmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiREFUQVwiXSA9IFwiZGF0YVwiO1xuICAgIEZpZWxkc1tcIlVTRVJfVFlQRVwiXSA9IFwidHlwZVwiO1xuICAgIEZpZWxkc1tcIklERU5USVRJRVNcIl0gPSBcImlkZW50aXRpZXNcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBTdG9yZUNvcmVVc2VyUHJvZmlsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0b3JlQ29yZVVzZXJQcm9maWxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0b3JlQ29yZVVzZXJQcm9maWxlKHVzZXJUeXBlLCBkYXRhLCBpZGVudGl0aWVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVzZXJUeXBlLCBkYXRhLCBpZGVudGl0aWVzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51c2VyVHlwZSA9IHVzZXJUeXBlO1xuICAgICAgICBfdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgX3RoaXMuaWRlbnRpdGllcyA9IGlkZW50aXRpZXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RvcmVDb3JlVXNlclByb2ZpbGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIGZyb21cbiAgICAgICAgICAgID8gbmV3IFN0b3JlQ29yZVVzZXJQcm9maWxlKGZyb21bRmllbGRzLlVTRVJfVFlQRV0sIGZyb21bRmllbGRzLkRBVEFdLCBmcm9tW0ZpZWxkcy5JREVOVElUSUVTXS5tYXAoZnVuY3Rpb24gKGlkZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0b3JlU3RpdGNoVXNlcklkZW50aXR5LmRlY29kZShpZGVudGl0eSk7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3RvcmVDb3JlVXNlclByb2ZpbGUucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5EQVRBXSA9IHRoaXMuZGF0YSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5VU0VSX1RZUEVdID0gdGhpcy51c2VyVHlwZSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5JREVOVElUSUVTXSA9IHRoaXMuaWRlbnRpdGllcy5tYXAoZnVuY3Rpb24gKGlkZW50aXR5KSB7IHJldHVybiBpZGVudGl0eS5lbmNvZGUoKTsgfSksXG4gICAgICAgICAgICBfYTtcbiAgICB9O1xuICAgIHJldHVybiBTdG9yZUNvcmVVc2VyUHJvZmlsZTtcbn0oU3RpdGNoVXNlclByb2ZpbGVJbXBsKSk7XG5leHBvcnQgZGVmYXVsdCBTdG9yZUNvcmVVc2VyUHJvZmlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JlQ29yZVVzZXJQcm9maWxlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFN0aXRjaENsaWVudEVycm9yIGZyb20gXCIuLi8uLi8uLi9TdGl0Y2hDbGllbnRFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoQ2xpZW50RXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uLy4uL1N0aXRjaENsaWVudEVycm9yQ29kZVwiO1xuaW1wb3J0IEF1dGhJbmZvIGZyb20gXCIuLi9BdXRoSW5mb1wiO1xuaW1wb3J0IFN0b3JlQ29yZVVzZXJQcm9maWxlIGZyb20gXCIuL1N0b3JlQ29yZVVzZXJQcm9maWxlXCI7XG5pbXBvcnQgU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkgZnJvbSBcIi4vU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHlcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIlVTRVJfSURcIl0gPSBcInVzZXJfaWRcIjtcbiAgICBGaWVsZHNbXCJERVZJQ0VfSURcIl0gPSBcImRldmljZV9pZFwiO1xuICAgIEZpZWxkc1tcIkFDQ0VTU19UT0tFTlwiXSA9IFwiYWNjZXNzX3Rva2VuXCI7XG4gICAgRmllbGRzW1wiUkVGUkVTSF9UT0tFTlwiXSA9IFwicmVmcmVzaF90b2tlblwiO1xuICAgIEZpZWxkc1tcIkxBU1RfQVVUSF9BQ1RJVklUWVwiXSA9IFwibGFzdF9hdXRoX2FjdGl2aXR5XCI7XG4gICAgRmllbGRzW1wiTE9HR0VEX0lOX1BST1ZJREVSX1RZUEVcIl0gPSBcImxvZ2dlZF9pbl9wcm92aWRlcl90eXBlXCI7XG4gICAgRmllbGRzW1wiTE9HR0VEX0lOX1BST1ZJREVSX05BTUVcIl0gPSBcImxvZ2dlZF9pbl9wcm92aWRlcl9uYW1lXCI7XG4gICAgRmllbGRzW1wiVVNFUl9QUk9GSUxFXCJdID0gXCJ1c2VyX3Byb2ZpbGVcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbmZ1bmN0aW9uIHJlYWRBY3RpdmVVc2VyRnJvbVN0b3JhZ2Uoc3RvcmFnZSkge1xuICAgIHZhciByYXdJbmZvID0gc3RvcmFnZS5nZXQoU3RvcmVBdXRoSW5mby5BQ1RJVkVfVVNFUl9TVE9SQUdFX05BTUUpO1xuICAgIGlmICghcmF3SW5mbykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gU3RvcmVBdXRoSW5mby5kZWNvZGUoSlNPTi5wYXJzZShyYXdJbmZvKSk7XG59XG5mdW5jdGlvbiByZWFkQ3VycmVudFVzZXJzRnJvbVN0b3JhZ2Uoc3RvcmFnZSkge1xuICAgIHZhciByYXdJbmZvID0gc3RvcmFnZS5nZXQoU3RvcmVBdXRoSW5mby5BTExfVVNFUlNfU1RPUkFHRV9OQU1FKTtcbiAgICBpZiAoIXJhd0luZm8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgICB9XG4gICAgdmFyIHJhd0FycmF5ID0gSlNPTi5wYXJzZShyYXdJbmZvKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmF3QXJyYXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm8pO1xuICAgIH1cbiAgICB2YXIgdXNlcklkVG9BdXRoSW5mb01hcCA9IG5ldyBNYXAoKTtcbiAgICByYXdBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChyYXdFbnRyeSkge1xuICAgICAgICB2YXIgYXV0aEluZm8gPSBTdG9yZUF1dGhJbmZvLmRlY29kZShyYXdFbnRyeSk7XG4gICAgICAgIHVzZXJJZFRvQXV0aEluZm9NYXAuc2V0KGF1dGhJbmZvLnVzZXJJZCwgYXV0aEluZm8pO1xuICAgIH0pO1xuICAgIHJldHVybiB1c2VySWRUb0F1dGhJbmZvTWFwO1xufVxuZnVuY3Rpb24gd3JpdGVBY3RpdmVVc2VyQXV0aEluZm9Ub1N0b3JhZ2UoYXV0aEluZm8sIHN0b3JhZ2UpIHtcbiAgICBpZiAoYXV0aEluZm8uaXNFbXB0eSkge1xuICAgICAgICBzdG9yYWdlLnJlbW92ZShTdG9yZUF1dGhJbmZvLkFDVElWRV9VU0VSX1NUT1JBR0VfTkFNRSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGluZm8gPSBuZXcgU3RvcmVBdXRoSW5mbyhhdXRoSW5mby51c2VySWQsIGF1dGhJbmZvLmRldmljZUlkLCBhdXRoSW5mby5hY2Nlc3NUb2tlbiwgYXV0aEluZm8ucmVmcmVzaFRva2VuLCBhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSwgYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUsIGF1dGhJbmZvLmxhc3RBdXRoQWN0aXZpdHksIGF1dGhJbmZvLnVzZXJQcm9maWxlXG4gICAgICAgID8gbmV3IFN0b3JlQ29yZVVzZXJQcm9maWxlKGF1dGhJbmZvLnVzZXJQcm9maWxlLnVzZXJUeXBlLCBhdXRoSW5mby51c2VyUHJvZmlsZS5kYXRhLCBhdXRoSW5mby51c2VyUHJvZmlsZS5pZGVudGl0aWVzLm1hcChmdW5jdGlvbiAoaWRlbnRpdHkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RvcmVTdGl0Y2hVc2VySWRlbnRpdHkoaWRlbnRpdHkuaWQsIGlkZW50aXR5LnByb3ZpZGVyVHlwZSk7XG4gICAgICAgIH0pKVxuICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgc3RvcmFnZS5zZXQoU3RvcmVBdXRoSW5mby5BQ1RJVkVfVVNFUl9TVE9SQUdFX05BTUUsIEpTT04uc3RyaW5naWZ5KGluZm8uZW5jb2RlKCkpKTtcbn1cbmZ1bmN0aW9uIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZShjdXJyZW50VXNlcnNBdXRoSW5mbywgc3RvcmFnZSkge1xuICAgIHZhciBlbmNvZGVkU3RvcmVJbmZvcyA9IFtdO1xuICAgIGN1cnJlbnRVc2Vyc0F1dGhJbmZvLmZvckVhY2goZnVuY3Rpb24gKGF1dGhJbmZvLCB1c2VySWQpIHtcbiAgICAgICAgdmFyIHN0b3JlSW5mbyA9IG5ldyBTdG9yZUF1dGhJbmZvKHVzZXJJZCwgYXV0aEluZm8uZGV2aWNlSWQsIGF1dGhJbmZvLmFjY2Vzc1Rva2VuLCBhdXRoSW5mby5yZWZyZXNoVG9rZW4sIGF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJUeXBlLCBhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyTmFtZSwgYXV0aEluZm8ubGFzdEF1dGhBY3Rpdml0eSwgYXV0aEluZm8udXNlclByb2ZpbGVcbiAgICAgICAgICAgID8gbmV3IFN0b3JlQ29yZVVzZXJQcm9maWxlKGF1dGhJbmZvLnVzZXJQcm9maWxlLnVzZXJUeXBlLCBhdXRoSW5mby51c2VyUHJvZmlsZS5kYXRhLCBhdXRoSW5mby51c2VyUHJvZmlsZS5pZGVudGl0aWVzLm1hcChmdW5jdGlvbiAoaWRlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0b3JlU3RpdGNoVXNlcklkZW50aXR5KGlkZW50aXR5LmlkLCBpZGVudGl0eS5wcm92aWRlclR5cGUpO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGVuY29kZWRTdG9yZUluZm9zLnB1c2goc3RvcmVJbmZvLmVuY29kZSgpKTtcbiAgICB9KTtcbiAgICBzdG9yYWdlLnNldChTdG9yZUF1dGhJbmZvLkFMTF9VU0VSU19TVE9SQUdFX05BTUUsIEpTT04uc3RyaW5naWZ5KGVuY29kZWRTdG9yZUluZm9zKSk7XG59XG52YXIgU3RvcmVBdXRoSW5mbyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0b3JlQXV0aEluZm8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RvcmVBdXRoSW5mbyh1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGxhc3RBdXRoQWN0aXZpdHksIHVzZXJQcm9maWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHVzZXJJZCwgZGV2aWNlSWQsIGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4sIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgbGFzdEF1dGhBY3Rpdml0eSwgdXNlclByb2ZpbGUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnVzZXJQcm9maWxlID0gdXNlclByb2ZpbGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RvcmVBdXRoSW5mby5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICB2YXIgdXNlcklkID0gZnJvbVtGaWVsZHMuVVNFUl9JRF07XG4gICAgICAgIHZhciBkZXZpY2VJZCA9IGZyb21bRmllbGRzLkRFVklDRV9JRF07XG4gICAgICAgIHZhciBhY2Nlc3NUb2tlbiA9IGZyb21bRmllbGRzLkFDQ0VTU19UT0tFTl07XG4gICAgICAgIHZhciByZWZyZXNoVG9rZW4gPSBmcm9tW0ZpZWxkcy5SRUZSRVNIX1RPS0VOXTtcbiAgICAgICAgdmFyIGxvZ2dlZEluUHJvdmlkZXJUeXBlID0gZnJvbVtGaWVsZHMuTE9HR0VEX0lOX1BST1ZJREVSX1RZUEVdO1xuICAgICAgICB2YXIgbG9nZ2VkSW5Qcm92aWRlck5hbWUgPSBmcm9tW0ZpZWxkcy5MT0dHRURfSU5fUFJPVklERVJfTkFNRV07XG4gICAgICAgIHZhciB1c2VyUHJvZmlsZSA9IGZyb21bRmllbGRzLlVTRVJfUFJPRklMRV07XG4gICAgICAgIHZhciBsYXN0QXV0aEFjdGl2aXR5TWlsbGlzU2luY2VFcG9jaCA9IGZyb21bRmllbGRzLkxBU1RfQVVUSF9BQ1RJVklUWV07XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmVBdXRoSW5mbyh1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIG5ldyBEYXRlKGxhc3RBdXRoQWN0aXZpdHlNaWxsaXNTaW5jZUVwb2NoKSwgU3RvcmVDb3JlVXNlclByb2ZpbGUuZGVjb2RlKHVzZXJQcm9maWxlKSk7XG4gICAgfTtcbiAgICBTdG9yZUF1dGhJbmZvLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0byA9IHt9O1xuICAgICAgICB0b1tGaWVsZHMuVVNFUl9JRF0gPSB0aGlzLnVzZXJJZDtcbiAgICAgICAgdG9bRmllbGRzLkFDQ0VTU19UT0tFTl0gPSB0aGlzLmFjY2Vzc1Rva2VuO1xuICAgICAgICB0b1tGaWVsZHMuUkVGUkVTSF9UT0tFTl0gPSB0aGlzLnJlZnJlc2hUb2tlbjtcbiAgICAgICAgdG9bRmllbGRzLkRFVklDRV9JRF0gPSB0aGlzLmRldmljZUlkO1xuICAgICAgICB0b1tGaWVsZHMuTE9HR0VEX0lOX1BST1ZJREVSX05BTUVdID0gdGhpcy5sb2dnZWRJblByb3ZpZGVyTmFtZTtcbiAgICAgICAgdG9bRmllbGRzLkxPR0dFRF9JTl9QUk9WSURFUl9UWVBFXSA9IHRoaXMubG9nZ2VkSW5Qcm92aWRlclR5cGU7XG4gICAgICAgIHRvW0ZpZWxkcy5MQVNUX0FVVEhfQUNUSVZJVFldID0gdGhpcy5sYXN0QXV0aEFjdGl2aXR5XG4gICAgICAgICAgICA/IHRoaXMubGFzdEF1dGhBY3Rpdml0eS5nZXRUaW1lKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICB0b1tGaWVsZHMuVVNFUl9QUk9GSUxFXSA9IHRoaXMudXNlclByb2ZpbGVcbiAgICAgICAgICAgID8gdGhpcy51c2VyUHJvZmlsZS5lbmNvZGUoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0bztcbiAgICB9O1xuICAgIFN0b3JlQXV0aEluZm8uQUNUSVZFX1VTRVJfU1RPUkFHRV9OQU1FID0gXCJhdXRoX2luZm9cIjtcbiAgICBTdG9yZUF1dGhJbmZvLkFMTF9VU0VSU19TVE9SQUdFX05BTUUgPSBcImFsbF9hdXRoX2luZm9zXCI7XG4gICAgcmV0dXJuIFN0b3JlQXV0aEluZm87XG59KEF1dGhJbmZvKSk7XG5leHBvcnQgeyBTdG9yZUF1dGhJbmZvLCByZWFkQWN0aXZlVXNlckZyb21TdG9yYWdlLCByZWFkQ3VycmVudFVzZXJzRnJvbVN0b3JhZ2UsIHdyaXRlQWN0aXZlVXNlckF1dGhJbmZvVG9TdG9yYWdlLCB3cml0ZUFsbFVzZXJzQXV0aEluZm9Ub1N0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JlQXV0aEluZm8uanMubWFwIiwidmFyIERldmljZUZpZWxkcztcbihmdW5jdGlvbiAoRGV2aWNlRmllbGRzKSB7XG4gICAgRGV2aWNlRmllbGRzW1wiREVWSUNFX0lEXCJdID0gXCJkZXZpY2VJZFwiO1xuICAgIERldmljZUZpZWxkc1tcIkFQUF9JRFwiXSA9IFwiYXBwSWRcIjtcbiAgICBEZXZpY2VGaWVsZHNbXCJBUFBfVkVSU0lPTlwiXSA9IFwiYXBwVmVyc2lvblwiO1xuICAgIERldmljZUZpZWxkc1tcIlBMQVRGT1JNXCJdID0gXCJwbGF0Zm9ybVwiO1xuICAgIERldmljZUZpZWxkc1tcIlBMQVRGT1JNX1ZFUlNJT05cIl0gPSBcInBsYXRmb3JtVmVyc2lvblwiO1xuICAgIERldmljZUZpZWxkc1tcIlNES19WRVJTSU9OXCJdID0gXCJzZGtWZXJzaW9uXCI7XG59KShEZXZpY2VGaWVsZHMgfHwgKERldmljZUZpZWxkcyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBEZXZpY2VGaWVsZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXZpY2VGaWVsZHMuanMubWFwIiwidmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24gKG8pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xufTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCB7IHdyYXBEZWNvZGluZ0Vycm9yIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2NvbW1vbi9TdGl0Y2hFcnJvclV0aWxzXCI7XG5pbXBvcnQgSGVhZGVycyBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvbmV0L0hlYWRlcnNcIjtcbmltcG9ydCBNZXRob2QgZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9NZXRob2RcIjtcbmltcG9ydCB7IFN0aXRjaEF1dGhEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoRG9jUmVxdWVzdFwiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG5pbXBvcnQgeyBTdGl0Y2hEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hEb2NSZXF1ZXN0XCI7XG5pbXBvcnQgU3RpdGNoQ2xpZW50RXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaENsaWVudEVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hDbGllbnRFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vU3RpdGNoQ2xpZW50RXJyb3JDb2RlXCI7XG5pbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaEVycm9yXCI7XG5pbXBvcnQgU3RpdGNoUmVxdWVzdEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hSZXF1ZXN0RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yQ29kZVwiO1xuaW1wb3J0IFN0aXRjaFNlcnZpY2VFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoU2VydmljZUVycm9yXCI7XG5pbXBvcnQgeyBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlIH0gZnJvbSBcIi4uLy4uL1N0aXRjaFNlcnZpY2VFcnJvckNvZGVcIjtcbmltcG9ydCBTdHJlYW0gZnJvbSBcIi4uLy4uL1N0cmVhbVwiO1xuaW1wb3J0IENvcmVTdGl0Y2hVc2VySW1wbCBmcm9tIFwiLi4vaW50ZXJuYWwvQ29yZVN0aXRjaFVzZXJJbXBsXCI7XG5pbXBvcnQgQW5vbnltb3VzQXV0aFByb3ZpZGVyIGZyb20gXCIuLi9wcm92aWRlcnMvYW5vbnltb3VzL0Fub255bW91c0F1dGhQcm92aWRlclwiO1xuaW1wb3J0IFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwgZnJvbSBcIi4uL3Byb3ZpZGVycy9pbnRlcm5hbC9TdGl0Y2hBdXRoUmVzcG9uc2VDcmVkZW50aWFsXCI7XG5pbXBvcnQgQWNjZXNzVG9rZW5SZWZyZXNoZXIgZnJvbSBcIi4vQWNjZXNzVG9rZW5SZWZyZXNoZXJcIjtcbmltcG9ydCB7IEF1dGhFdmVudEtpbmQgfSBmcm9tIFwiLi9BdXRoRXZlbnRcIjtcbmltcG9ydCBBdXRoSW5mbyBmcm9tIFwiLi9BdXRoSW5mb1wiO1xuaW1wb3J0IEpXVCBmcm9tIFwiLi9KV1RcIjtcbmltcG9ydCBBcGlBdXRoSW5mbyBmcm9tIFwiLi9tb2RlbHMvQXBpQXV0aEluZm9cIjtcbmltcG9ydCBBcGlDb3JlVXNlclByb2ZpbGUgZnJvbSBcIi4vbW9kZWxzL0FwaUNvcmVVc2VyUHJvZmlsZVwiO1xuaW1wb3J0IHsgcmVhZEFjdGl2ZVVzZXJGcm9tU3RvcmFnZSwgcmVhZEN1cnJlbnRVc2Vyc0Zyb21TdG9yYWdlLCB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZSwgd3JpdGVBbGxVc2Vyc0F1dGhJbmZvVG9TdG9yYWdlIH0gZnJvbSBcIi4vbW9kZWxzL1N0b3JlQXV0aEluZm9cIjtcbnZhciBPUFRJT05TID0gXCJvcHRpb25zXCI7XG52YXIgREVWSUNFID0gXCJkZXZpY2VcIjtcbnZhciBDb3JlU3RpdGNoQXV0aCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29yZVN0aXRjaEF1dGgocmVxdWVzdENsaWVudCwgYXV0aFJvdXRlcywgc3RvcmFnZSwgdXNlVG9rZW5SZWZyZXNoZXIpIHtcbiAgICAgICAgaWYgKHVzZVRva2VuUmVmcmVzaGVyID09PSB2b2lkIDApIHsgdXNlVG9rZW5SZWZyZXNoZXIgPSB0cnVlOyB9XG4gICAgICAgIHRoaXMucmVxdWVzdENsaWVudCA9IHJlcXVlc3RDbGllbnQ7XG4gICAgICAgIHRoaXMuYXV0aFJvdXRlcyA9IGF1dGhSb3V0ZXM7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgICAgIHZhciBhbGxVc2Vyc0F1dGhJbmZvO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYWxsVXNlcnNBdXRoSW5mbyA9IHJlYWRDdXJyZW50VXNlcnNGcm9tU3RvcmFnZShzdG9yYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5Db3VsZE5vdExvYWRQZXJzaXN0ZWRBdXRoSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbGxVc2Vyc0F1dGhJbmZvID0gYWxsVXNlcnNBdXRoSW5mbztcbiAgICAgICAgdmFyIGFjdGl2ZVVzZXJBdXRoSW5mbztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFjdGl2ZVVzZXJBdXRoSW5mbyA9IHJlYWRBY3RpdmVVc2VyRnJvbVN0b3JhZ2Uoc3RvcmFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RMb2FkUGVyc2lzdGVkQXV0aEluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvID1cbiAgICAgICAgICAgIGFjdGl2ZVVzZXJBdXRoSW5mbyA9PT0gdW5kZWZpbmVkID8gQXV0aEluZm8uZW1wdHkoKSA6IGFjdGl2ZVVzZXJBdXRoSW5mbztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmhhc1VzZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFVzZXIgPSB0aGlzLnByZXBVc2VyKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlVG9rZW5SZWZyZXNoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzVG9rZW5SZWZyZXNoZXIgPSBuZXcgQWNjZXNzVG9rZW5SZWZyZXNoZXIodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuUmVmcmVzaGVyLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUsIFwiYXV0aEluZm9cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZSwgXCJpc0xvZ2dlZEluXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlciAhPT0gdW5kZWZpbmVkICYmIHRoaXMuY3VycmVudFVzZXIuaXNMb2dnZWRJbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZSwgXCJ1c2VyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZSwgXCJoYXNEZXZpY2VJZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5kZXZpY2VJZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uZGV2aWNlSWQgIT09IFwiXCIgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5kZXZpY2VJZCAhPT0gXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUsIFwiZGV2aWNlSWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNEZXZpY2VJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uZGV2aWNlSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5saXN0VXNlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIHRoaXMuYWxsVXNlcnNBdXRoSW5mby5mb3JFYWNoKGZ1bmN0aW9uIChhdXRoSW5mbykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKF90aGlzLnByZXBVc2VyKGF1dGhJbmZvKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0ID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgYXV0aEluZm8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgICAgICAuZG9SZXF1ZXN0KHRoaXMucHJlcGFyZUF1dGhSZXF1ZXN0KHN0aXRjaFJlcSwgYXV0aEluZm8gfHwgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8pKVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmhhbmRsZUF1dGhGYWlsdXJlKGVyciwgc3RpdGNoUmVxKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuZG9BdXRoZW50aWNhdGVkUmVxdWVzdFdpdGhEZWNvZGVyID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgZGVjb2Rlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHN0aXRjaFJlcSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IEVKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHksIHsgc3RyaWN0OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGlmIChkZWNvZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IHdyYXBEZWNvZGluZ0Vycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLm9wZW5BdXRoZW50aWNhdGVkRXZlbnRTdHJlYW0gPSBmdW5jdGlvbiAoc3RpdGNoUmVxLCBvcGVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcGVuID09PSB2b2lkIDApIHsgb3BlbiA9IHRydWU7IH1cbiAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuTXVzdEF1dGhlbnRpY2F0ZUZpcnN0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXV0aFRva2VuID0gc3RpdGNoUmVxLnVzZVJlZnJlc2hUb2tlbiA/XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5yZWZyZXNoVG9rZW4gOiB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5hY2Nlc3NUb2tlbjtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb1N0cmVhbVJlcXVlc3Qoc3RpdGNoUmVxLmJ1aWxkZXJcbiAgICAgICAgICAgIC53aXRoUGF0aChzdGl0Y2hSZXEucGF0aCArIFwiJnN0aXRjaF9hdD1cIiArIGF1dGhUb2tlbilcbiAgICAgICAgICAgIC5idWlsZCgpLCBvcGVuLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vcGVuQXV0aGVudGljYXRlZEV2ZW50U3RyZWFtKHN0aXRjaFJlcSwgZmFsc2UpOyB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5oYW5kbGVBdXRoRmFpbHVyZUZvckV2ZW50U3RyZWFtKGVyciwgc3RpdGNoUmVxLCBvcGVuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUub3BlbkF1dGhlbnRpY2F0ZWRTdHJlYW1XaXRoRGVjb2RlciA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3BlbkF1dGhlbnRpY2F0ZWRFdmVudFN0cmVhbShzdGl0Y2hSZXEpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZXZlbnRTdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtKGV2ZW50U3RyZWFtLCBkZWNvZGVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUucmVmcmVzaEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hBdXRoUmVxdWVzdC5CdWlsZGVyKClcbiAgICAgICAgICAgIC53aXRoUmVmcmVzaFRva2VuKClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmF1dGhSb3V0ZXMuc2Vzc2lvblJvdXRlKVxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRpYWxJbmZvID0gQXBpQXV0aEluZm8uZnJvbUpTT04oSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvID0gX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvLm1lcmdlKHBhcnRpYWxJbmZvKTtcbiAgICAgICAgICAgICAgICBpZiAocGFydGlhbEluZm8uYWNjZXNzVG9rZW4gJiYgX3RoaXMudXNlciBpbnN0YW5jZW9mIENvcmVTdGl0Y2hVc2VySW1wbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlckRhdGEgPSBKV1QuZnJvbUVuY29kZWQocGFydGlhbEluZm8uYWNjZXNzVG9rZW4pLnVzZXJEYXRhO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyLmN1c3RvbURhdGEgPSB1c2VyRGF0YSA9PT0gdW5kZWZpbmVkID8ge30gOiB1c2VyRGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlcXVlc3RFcnJvcihlcnIsIFN0aXRjaFJlcXVlc3RFcnJvckNvZGUuREVDT0RJTkdfRVJST1IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZShfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8sIF90aGlzLnN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFsbFVzZXJzQXV0aEluZm8uc2V0KF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQsIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyk7XG4gICAgICAgICAgICAgICAgd3JpdGVBbGxVc2Vyc0F1dGhJbmZvVG9TdG9yYWdlKF90aGlzLmFsbFVzZXJzQXV0aEluZm8sIF90aGlzLnN0b3JhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RQZXJzaXN0QXV0aEluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5zd2l0Y2hUb1VzZXJXaXRoSWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHZhciBhdXRoSW5mbyA9IHRoaXMuYWxsVXNlcnNBdXRoSW5mby5nZXQodXNlcklkKTtcbiAgICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vdEZvdW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF1dGhJbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vdExvZ2dlZEluKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8uaGFzVXNlcikge1xuICAgICAgICAgICAgdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLnNldCh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQsIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLndpdGhOZXdBdXRoQWN0aXZpdHlUaW1lKCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdBdXRoSW5mbyA9IGF1dGhJbmZvLndpdGhOZXdBdXRoQWN0aXZpdHlUaW1lKCk7XG4gICAgICAgIHRoaXMuYWxsVXNlcnNBdXRoSW5mby5zZXQodXNlcklkLCBuZXdBdXRoSW5mbyk7XG4gICAgICAgIHdyaXRlQWN0aXZlVXNlckF1dGhJbmZvVG9TdG9yYWdlKG5ld0F1dGhJbmZvLCB0aGlzLnN0b3JhZ2UpO1xuICAgICAgICB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9IG5ld0F1dGhJbmZvO1xuICAgICAgICB2YXIgcHJldmlvdXNVc2VyID0gdGhpcy5jdXJyZW50VXNlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHRoaXMucHJlcFVzZXIobmV3QXV0aEluZm8pO1xuICAgICAgICB0aGlzLm9uQXV0aEV2ZW50KCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAgY3VycmVudEFjdGl2ZVVzZXI6IHRoaXMuY3VycmVudFVzZXIsXG4gICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLkFjdGl2ZVVzZXJDaGFuZ2VkLFxuICAgICAgICAgICAgcHJldmlvdXNBY3RpdmVVc2VyOiBwcmV2aW91c1VzZXJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRVc2VyO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmxvZ2luV2l0aENyZWRlbnRpYWxJbnRlcm5hbCA9IGZ1bmN0aW9uIChjcmVkZW50aWFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBpZiAoY3JlZGVudGlhbCBpbnN0YW5jZW9mIFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NMb2dpbihjcmVkZW50aWFsLCBjcmVkZW50aWFsLmF1dGhJbmZvLCBjcmVkZW50aWFsLmFzTGluaykudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5Vc2VyTG9nZ2VkSW4sXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlZEluVXNlcjogdXNlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNyZWRlbnRpYWwucHJvdmlkZXJDYXBhYmlsaXRpZXMucmV1c2VzRXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5hbGxVc2Vyc0F1dGhJbmZvKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCB1c2VySWQgPSBfZFswXSwgYXV0aEluZm8gPSBfZFsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJUeXBlID09PSBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhJbmZvLmlzTG9nZ2VkSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3dpdGNoVG9Vc2VyV2l0aElkKHVzZXJJZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aEluZm8udXNlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVVzZXJXaXRoSWRJbnRlcm5hbChhdXRoSW5mby51c2VySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRvTG9naW4oY3JlZGVudGlhbCwgZmFsc2UpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmxpbmtVc2VyV2l0aENyZWRlbnRpYWxJbnRlcm5hbCA9IGZ1bmN0aW9uICh1c2VyLCBjcmVkZW50aWFsKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRVc2VyICE9PSB1bmRlZmluZWQgJiYgdXNlci5pZCAhPT0gdGhpcy5jdXJyZW50VXNlci5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vTG9uZ2VyVmFsaWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kb0xvZ2luKGNyZWRlbnRpYWwsIHRydWUpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmxvZ291dEludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWRJbiB8fCAhdGhpcy5jdXJyZW50VXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ291dFVzZXJXaXRoSWRJbnRlcm5hbCh0aGlzLmN1cnJlbnRVc2VyLmlkKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5sb2dvdXRVc2VyV2l0aElkSW50ZXJuYWwgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhdXRoSW5mbyA9IHRoaXMuYWxsVXNlcnNBdXRoSW5mby5nZXQodXNlcklkKTtcbiAgICAgICAgaWYgKGF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVzZXJOb3RGb3VuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYXV0aEluZm8uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGVhckF1dGhCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmNsZWFyVXNlckF1dGhUb2tlbnMoYXV0aEluZm8udXNlcklkKTtcbiAgICAgICAgICAgIGlmIChhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSA9PT0gQW5vbnltb3VzQXV0aFByb3ZpZGVyLlRZUEUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVVc2VyV2l0aElkSW50ZXJuYWwoYXV0aEluZm8udXNlcklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9Mb2dvdXQoYXV0aEluZm8pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhckF1dGhCbG9jaygpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyQXV0aEJsb2NrKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnJlbW92ZVVzZXJJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzTG9nZ2VkSW4gfHwgdGhpcy5jdXJyZW50VXNlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlVXNlcldpdGhJZEludGVybmFsKHRoaXMuY3VycmVudFVzZXIuaWQpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLnJlbW92ZVVzZXJXaXRoSWRJbnRlcm5hbCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGF1dGhJbmZvID0gdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLmdldCh1c2VySWQpO1xuICAgICAgICBpZiAoYXV0aEluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vdEZvdW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbW92ZUJsb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuY2xlYXJVc2VyQXV0aFRva2VucyhhdXRoSW5mby51c2VySWQpO1xuICAgICAgICAgICAgX3RoaXMuYWxsVXNlcnNBdXRoSW5mby5kZWxldGUodXNlcklkKTtcbiAgICAgICAgICAgIHdyaXRlQWxsVXNlcnNBdXRoSW5mb1RvU3RvcmFnZShfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLCBfdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgIHZhciByZW1vdmVkVXNlciA9IF90aGlzLnByZXBVc2VyKGF1dGhJbmZvLmxvZ2dlZE91dCgpKTtcbiAgICAgICAgICAgIF90aGlzLm9uQXV0aEV2ZW50KCk7XG4gICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5Vc2VyUmVtb3ZlZCxcbiAgICAgICAgICAgICAgICByZW1vdmVkVXNlcjogcmVtb3ZlZFVzZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYXV0aEluZm8uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9Mb2dvdXQoYXV0aEluZm8pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUJsb2NrKCk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQmxvY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZUJsb2NrKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWNjZXNzVG9rZW5SZWZyZXNoZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzVG9rZW5SZWZyZXNoZXIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUucHJlcGFyZUF1dGhSZXF1ZXN0ID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgYXV0aEluZm8pIHtcbiAgICAgICAgaWYgKCFhdXRoSW5mby5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLk11c3RBdXRoZW50aWNhdGVGaXJzdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld1JlcSA9IHN0aXRjaFJlcS5idWlsZGVyO1xuICAgICAgICB2YXIgbmV3SGVhZGVycyA9IG5ld1JlcS5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBpZiAoc3RpdGNoUmVxLnVzZVJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgbmV3SGVhZGVyc1tIZWFkZXJzLkFVVEhPUklaQVRJT05dID0gSGVhZGVycy5nZXRBdXRob3JpemF0aW9uQmVhcmVyKGF1dGhJbmZvLnJlZnJlc2hUb2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdIZWFkZXJzW0hlYWRlcnMuQVVUSE9SSVpBVElPTl0gPSBIZWFkZXJzLmdldEF1dGhvcml6YXRpb25CZWFyZXIoYXV0aEluZm8uYWNjZXNzVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIG5ld1JlcS53aXRoSGVhZGVycyhuZXdIZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIG5ld1JlcS5idWlsZCgpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmhhbmRsZUF1dGhGYWlsdXJlRm9yRXZlbnRTdHJlYW0gPSBmdW5jdGlvbiAoZXgsIHJlcSwgb3Blbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIGlmICghKGV4IGluc3RhbmNlb2YgU3RpdGNoU2VydmljZUVycm9yKSB8fFxuICAgICAgICAgICAgZXguZXJyb3JDb2RlICE9PSBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkludmFsaWRTZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnVzZVJlZnJlc2hUb2tlbiB8fCAhcmVxLnNob3VsZFJlZnJlc2hPbkZhaWx1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBY3RpdmVVc2VyQXV0aCgpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJ5UmVmcmVzaEFjY2Vzc1Rva2VuKHJlcS5zdGFydGVkQXQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wZW5BdXRoZW50aWNhdGVkRXZlbnRTdHJlYW0ocmVxLmJ1aWxkZXIud2l0aFNob3VsZFJlZnJlc2hPbkZhaWx1cmUoZmFsc2UpLmJ1aWxkKCksIG9wZW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5oYW5kbGVBdXRoRmFpbHVyZSA9IGZ1bmN0aW9uIChleCwgcmVxKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghKGV4IGluc3RhbmNlb2YgU3RpdGNoU2VydmljZUVycm9yKSB8fFxuICAgICAgICAgICAgZXguZXJyb3JDb2RlICE9PSBTdGl0Y2hTZXJ2aWNlRXJyb3JDb2RlLkludmFsaWRTZXNzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnVzZVJlZnJlc2hUb2tlbiB8fCAhcmVxLnNob3VsZFJlZnJlc2hPbkZhaWx1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJBY3RpdmVVc2VyQXV0aCgpO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJ5UmVmcmVzaEFjY2Vzc1Rva2VuKHJlcS5zdGFydGVkQXQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmRvQXV0aGVudGljYXRlZFJlcXVlc3QocmVxLmJ1aWxkZXIud2l0aFNob3VsZFJlZnJlc2hPbkZhaWx1cmUoZmFsc2UpLmJ1aWxkKCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS50cnlSZWZyZXNoQWNjZXNzVG9rZW4gPSBmdW5jdGlvbiAocmVxU3RhcnRlZEF0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkxvZ2dlZE91dER1cmluZ1JlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgand0ID0gSldULmZyb21FbmNvZGVkKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgIGlmIChqd3QuaXNzdWVkQXQgPj0gcmVxU3RhcnRlZEF0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaEFjY2Vzc1Rva2VuKCk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUucHJlcFVzZXIgPSBmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlckZhY3RvcnkubWFrZVVzZXIoYXV0aEluZm8udXNlcklkLCBhdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSwgYXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUsIGF1dGhJbmZvLmlzTG9nZ2VkSW4sIGF1dGhJbmZvLmxhc3RBdXRoQWN0aXZpdHksIGF1dGhJbmZvLnVzZXJQcm9maWxlKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5hdHRhY2hBdXRoT3B0aW9ucyA9IGZ1bmN0aW9uIChhdXRoQm9keSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgICBvcHRpb25zW0RFVklDRV0gPSB0aGlzLmRldmljZUluZm87XG4gICAgICAgIGF1dGhCb2R5W09QVElPTlNdID0gb3B0aW9ucztcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5kb0xvZ2luID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByZXZpb3VzQWN0aXZlVXNlciA9IHRoaXMuY3VycmVudFVzZXI7XG4gICAgICAgIHJldHVybiB0aGlzLmRvTG9naW5SZXF1ZXN0KGNyZWRlbnRpYWwsIGFzTGlua1JlcXVlc3QpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIF90aGlzLnByb2Nlc3NMb2dpblJlc3BvbnNlKGNyZWRlbnRpYWwsIHJlc3BvbnNlLCBhc0xpbmtSZXF1ZXN0KTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgICAgICBfdGhpcy5vbkF1dGhFdmVudCgpO1xuICAgICAgICAgICAgaWYgKGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuVXNlckxpbmtlZCxcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkVXNlcjogdXNlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLlVzZXJMb2dnZWRJbixcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VkSW5Vc2VyOiB1c2VyLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEFjdGl2ZVVzZXI6IHVzZXIsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuQWN0aXZlVXNlckNoYW5nZWQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQWN0aXZlVXNlcjogcHJldmlvdXNBY3RpdmVVc2VyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuZG9Mb2dpblJlcXVlc3QgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCwgYXNMaW5rUmVxdWVzdCkge1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKTtcbiAgICAgICAgaWYgKGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgICAgIHJlcUJ1aWxkZXIud2l0aFBhdGgodGhpcy5hdXRoUm91dGVzLmdldEF1dGhQcm92aWRlckxpbmtSb3V0ZShjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxQnVpbGRlci53aXRoUGF0aCh0aGlzLmF1dGhSb3V0ZXMuZ2V0QXV0aFByb3ZpZGVyTG9naW5Sb3V0ZShjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXRlcmlhbCA9IGNyZWRlbnRpYWwubWF0ZXJpYWw7XG4gICAgICAgIHRoaXMuYXR0YWNoQXV0aE9wdGlvbnMobWF0ZXJpYWwpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudChtYXRlcmlhbCk7XG4gICAgICAgIGlmICghYXNMaW5rUmVxdWVzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb1JlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlua1JlcXVlc3QgPSBuZXcgU3RpdGNoQXV0aERvY1JlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpLCByZXFCdWlsZGVyLmRvY3VtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChsaW5rUmVxdWVzdCk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUucHJvY2Vzc0xvZ2luID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIG5ld0F1dGhJbmZvLCBhc0xpbmtSZXF1ZXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvbGRBY3RpdmVVc2VySW5mbyA9IHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvO1xuICAgICAgICB2YXIgb2xkQWN0aXZlVXNlciA9IHRoaXMuY3VycmVudFVzZXI7XG4gICAgICAgIG5ld0F1dGhJbmZvID0gdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8ubWVyZ2UobmV3IEF1dGhJbmZvKG5ld0F1dGhJbmZvLnVzZXJJZCwgbmV3QXV0aEluZm8uZGV2aWNlSWQsIG5ld0F1dGhJbmZvLmFjY2Vzc1Rva2VuLCBuZXdBdXRoSW5mby5yZWZyZXNoVG9rZW4sIGNyZWRlbnRpYWwucHJvdmlkZXJUeXBlLCBjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSBuZXdBdXRoSW5mbztcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IHRoaXMudXNlckZhY3RvcnkubWFrZVVzZXIodGhpcy5hY3RpdmVVc2VyQXV0aEluZm8udXNlcklkLCBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSwgY3JlZGVudGlhbC5wcm92aWRlck5hbWUsIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmlzTG9nZ2VkSW4sIG5ldyBEYXRlKCksIHVuZGVmaW5lZCwgSldULmZyb21FbmNvZGVkKG5ld0F1dGhJbmZvLmFjY2Vzc1Rva2VuKS51c2VyRGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvR2V0VXNlclByb2ZpbGUoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHByb2ZpbGUpIHtcbiAgICAgICAgICAgIGlmIChvbGRBY3RpdmVVc2VySW5mby5oYXNVc2VyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWxsVXNlcnNBdXRoSW5mby5zZXQob2xkQWN0aXZlVXNlckluZm8udXNlcklkLCBvbGRBY3RpdmVVc2VySW5mby53aXRoTmV3QXV0aEFjdGl2aXR5VGltZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0F1dGhJbmZvID0gbmV3QXV0aEluZm8ubWVyZ2UobmV3IEF1dGhJbmZvKG5ld0F1dGhJbmZvLnVzZXJJZCwgbmV3QXV0aEluZm8uZGV2aWNlSWQsIG5ld0F1dGhJbmZvLmFjY2Vzc1Rva2VuLCBuZXdBdXRoSW5mby5yZWZyZXNoVG9rZW4sIGNyZWRlbnRpYWwucHJvdmlkZXJUeXBlLCBjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSwgbmV3IERhdGUoKSwgcHJvZmlsZSkpO1xuICAgICAgICAgICAgdmFyIG5ld1VzZXJBZGRlZCA9ICFfdGhpcy5hbGxVc2Vyc0F1dGhJbmZvLmhhcyhuZXdBdXRoSW5mby51c2VySWQpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3cml0ZUFjdGl2ZVVzZXJBdXRoSW5mb1RvU3RvcmFnZShuZXdBdXRoSW5mbywgX3RoaXMuc3RvcmFnZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWxsVXNlcnNBdXRoSW5mby5zZXQobmV3QXV0aEluZm8udXNlcklkLCBuZXdBdXRoSW5mbyk7XG4gICAgICAgICAgICAgICAgd3JpdGVBbGxVc2Vyc0F1dGhJbmZvVG9TdG9yYWdlKF90aGlzLmFsbFVzZXJzQXV0aEluZm8sIF90aGlzLnN0b3JhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9IG9sZEFjdGl2ZVVzZXJJbmZvO1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVc2VyID0gb2xkQWN0aXZlVXNlcjtcbiAgICAgICAgICAgICAgICBpZiAobmV3QXV0aEluZm8udXNlcklkICE9PSBvbGRBY3RpdmVVc2VySW5mby51c2VySWQgJiYgbmV3QXV0aEluZm8udXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFsbFVzZXJzQXV0aEluZm8uZGVsZXRlKG5ld0F1dGhJbmZvLnVzZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuQ291bGROb3RQZXJzaXN0QXV0aEluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvID0gbmV3QXV0aEluZm87XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50VXNlciA9IF90aGlzLnVzZXJGYWN0b3J5Lm1ha2VVc2VyKF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQsIGNyZWRlbnRpYWwucHJvdmlkZXJUeXBlLCBjcmVkZW50aWFsLnByb3ZpZGVyTmFtZSwgX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvLmlzTG9nZ2VkSW4sIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5sYXN0QXV0aEFjdGl2aXR5LCBwcm9maWxlLCBKV1QuZnJvbUVuY29kZWQobmV3QXV0aEluZm8uYWNjZXNzVG9rZW4pLnVzZXJEYXRhKTtcbiAgICAgICAgICAgIGlmIChuZXdVc2VyQWRkZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkF1dGhFdmVudCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgYWRkZWRVc2VyOiBfdGhpcy5jdXJyZW50VXNlcixcbiAgICAgICAgICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5Vc2VyQWRkZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5jdXJyZW50VXNlcjtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgU3RpdGNoQ2xpZW50RXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXNMaW5rUmVxdWVzdCB8fCBvbGRBY3RpdmVVc2VySW5mby5oYXNVc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmtlZEF1dGhJbmZvID0gX3RoaXMuYWN0aXZlVXNlckF1dGhJbmZvO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZVVzZXJBdXRoSW5mbyA9IG9sZEFjdGl2ZVVzZXJJbmZvO1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVc2VyID0gb2xkQWN0aXZlVXNlcjtcbiAgICAgICAgICAgICAgICBpZiAoYXNMaW5rUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSBfdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8ud2l0aEF1dGhQcm92aWRlcihsaW5rZWRBdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyVHlwZSwgbGlua2VkQXV0aEluZm8ubG9nZ2VkSW5Qcm92aWRlck5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyQWN0aXZlVXNlckF1dGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUucHJvY2Vzc0xvZ2luUmVzcG9uc2UgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCwgcmVzcG9uc2UsIGFzTGlua1JlcXVlc3QpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoU2VydmljZUVycm9yKFwidGhlIGxvZ2luIHJlc3BvbnNlIGNvdWxkIG5vdCBiZSBwcm9jZXNzZWQgZm9yIGNyZWRlbnRpYWw6IFwiICsgY3JlZGVudGlhbCArIFwiO1wiICtcbiAgICAgICAgICAgICAgICAgICAgXCJyZXNwb25zZSB3YXMgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFNlcnZpY2VFcnJvcihcInJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGUgXCIgKyByZXNwb25zZS5zdGF0dXNDb2RlICsgXCIgaGFzIGVtcHR5IGJvZHlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzTG9naW4oY3JlZGVudGlhbCwgQXBpQXV0aEluZm8uZnJvbUpTT04oSlNPTi5wYXJzZShyZXNwb25zZS5ib2R5KSksIGFzTGlua1JlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZXF1ZXN0RXJyb3IoZXJyLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmRvR2V0VXNlclByb2ZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoTWV0aG9kKE1ldGhvZC5HRVQpLndpdGhQYXRoKHRoaXMuYXV0aFJvdXRlcy5wcm9maWxlUm91dGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gQXBpQ29yZVVzZXJQcm9maWxlLmZyb21KU09OKEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSkpOyB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBTdGl0Y2hFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZXF1ZXN0RXJyb3IoZXJyLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoQXV0aC5wcm90b3R5cGUuZG9Mb2dvdXQgPSBmdW5jdGlvbiAoYXV0aEluZm8pIHtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aFJlZnJlc2hUb2tlbigpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5hdXRoUm91dGVzLnNlc3Npb25Sb3V0ZSlcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5ERUxFVEUpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSwgYXV0aEluZm8pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hBdXRoLnByb3RvdHlwZS5jbGVhckFjdGl2ZVVzZXJBdXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJVc2VyQXV0aFRva2Vucyh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaEF1dGgucHJvdG90eXBlLmNsZWFyVXNlckF1dGhUb2tlbnMgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHZhciB1bmNsZWFyZWRBdXRoSW5mbyA9IHRoaXMuYWxsVXNlcnNBdXRoSW5mby5nZXQodXNlcklkKTtcbiAgICAgICAgaWYgKHVuY2xlYXJlZEF1dGhJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby51c2VySWQgIT09IHVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vdEZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdW5jbGVhcmVkQXV0aEluZm8uaXNMb2dnZWRJbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbG9nZ2VkT3V0VXNlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh1bmNsZWFyZWRBdXRoSW5mbykge1xuICAgICAgICAgICAgICAgIHZhciBsb2dnZWRPdXRBdXRoSW5mbyA9IHVuY2xlYXJlZEF1dGhJbmZvLmxvZ2dlZE91dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxsVXNlcnNBdXRoSW5mby5zZXQodXNlcklkLCBsb2dnZWRPdXRBdXRoSW5mbyk7XG4gICAgICAgICAgICAgICAgd3JpdGVBbGxVc2Vyc0F1dGhJbmZvVG9TdG9yYWdlKHRoaXMuYWxsVXNlcnNBdXRoSW5mbywgdGhpcy5zdG9yYWdlKTtcbiAgICAgICAgICAgICAgICBsb2dnZWRPdXRVc2VyID0gdGhpcy51c2VyRmFjdG9yeS5tYWtlVXNlcihsb2dnZWRPdXRBdXRoSW5mby51c2VySWQsIGxvZ2dlZE91dEF1dGhJbmZvLmxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRPdXRBdXRoSW5mby5sb2dnZWRJblByb3ZpZGVyTmFtZSwgbG9nZ2VkT3V0QXV0aEluZm8uaXNMb2dnZWRJbiwgbG9nZ2VkT3V0QXV0aEluZm8ubGFzdEF1dGhBY3Rpdml0eSwgbG9nZ2VkT3V0QXV0aEluZm8udXNlclByb2ZpbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdhc0FjdGl2ZVVzZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby5oYXNVc2VyICYmIHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLnVzZXJJZCA9PT0gdXNlcklkKSB7XG4gICAgICAgICAgICAgICAgd2FzQWN0aXZlVXNlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVVc2VyQXV0aEluZm8gPSB0aGlzLmFjdGl2ZVVzZXJBdXRoSW5mby53aXRoQ2xlYXJlZFVzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHdyaXRlQWN0aXZlVXNlckF1dGhJbmZvVG9TdG9yYWdlKHRoaXMuYWN0aXZlVXNlckF1dGhJbmZvLCB0aGlzLnN0b3JhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZ2dlZE91dFVzZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQXV0aEV2ZW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEF1dGhFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuVXNlckxvZ2dlZE91dCxcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VkT3V0VXNlcjogbG9nZ2VkT3V0VXNlcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAod2FzQWN0aXZlVXNlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBY3RpdmVVc2VyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBBdXRoRXZlbnRLaW5kLkFjdGl2ZVVzZXJDaGFuZ2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNBY3RpdmVVc2VyOiBsb2dnZWRPdXRVc2VyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLkNvdWxkTm90UGVyc2lzdEF1dGhJbmZvKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvcmVTdGl0Y2hBdXRoO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVTdGl0Y2hBdXRoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVN0aXRjaEF1dGguanMubWFwIiwiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEN1c3RvbUF1dGhQcm92aWRlciBmcm9tIFwiLi9DdXN0b21BdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIlRPS0VOXCJdID0gXCJ0b2tlblwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEN1c3RvbUNyZWRlbnRpYWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEN1c3RvbUNyZWRlbnRpYWwodG9rZW4sIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBDdXN0b21BdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gQ3VzdG9tQXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXMoZmFsc2UpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gKF9hID0ge30sIF9hW0ZpZWxkcy5UT0tFTl0gPSB0aGlzLnRva2VuLCBfYSk7XG4gICAgfVxuICAgIHJldHVybiBDdXN0b21DcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUNyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXN0b21DcmVkZW50aWFsLmpzLm1hcCIsInZhciBQcm92aWRlckNhcGFiaWxpdGllcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvdmlkZXJDYXBhYmlsaXRpZXMocmV1c2VzRXhpc3RpbmdTZXNzaW9uKSB7XG4gICAgICAgIGlmIChyZXVzZXNFeGlzdGluZ1Nlc3Npb24gPT09IHZvaWQgMCkgeyByZXVzZXNFeGlzdGluZ1Nlc3Npb24gPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLnJldXNlc0V4aXN0aW5nU2Vzc2lvbiA9IHJldXNlc0V4aXN0aW5nU2Vzc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuIFByb3ZpZGVyQ2FwYWJpbGl0aWVzO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvdmlkZXJDYXBhYmlsaXRpZXMuanMubWFwIiwiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IEFub255bW91c0F1dGhQcm92aWRlciBmcm9tIFwiLi9Bbm9ueW1vdXNBdXRoUHJvdmlkZXJcIjtcbnZhciBBbm9ueW1vdXNDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNDcmVkZW50aWFsKHByb3ZpZGVyTmFtZSkge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gQW5vbnltb3VzQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IEFub255bW91c0F1dGhQcm92aWRlci5UWVBFO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0ge307XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXModHJ1ZSk7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gQW5vbnltb3VzQ3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBBbm9ueW1vdXNDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5vbnltb3VzQ3JlZGVudGlhbC5qcy5tYXAiLCJ2YXIgQ3VzdG9tQXV0aFByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDdXN0b21BdXRoUHJvdmlkZXIoKSB7XG4gICAgfVxuICAgIEN1c3RvbUF1dGhQcm92aWRlci5UWVBFID0gXCJjdXN0b20tdG9rZW5cIjtcbiAgICBDdXN0b21BdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FID0gXCJjdXN0b20tdG9rZW5cIjtcbiAgICByZXR1cm4gQ3VzdG9tQXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUN1c3RvbUF1dGhQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgRmFjZWJvb2tBdXRoUHJvdmlkZXIgZnJvbSBcIi4vRmFjZWJvb2tBdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIkFDQ0VTU19UT0tFTlwiXSA9IFwiYWNjZXNzVG9rZW5cIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBGYWNlYm9va0NyZWRlbnRpYWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZhY2Vib29rQ3JlZGVudGlhbChhY2Nlc3NUb2tlbiwgcHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHByb3ZpZGVyTmFtZSA9PT0gdm9pZCAwKSB7IHByb3ZpZGVyTmFtZSA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSAoX2EgPSB7fSwgX2FbRmllbGRzLkFDQ0VTU19UT0tFTl0gPSB0aGlzLmFjY2Vzc1Rva2VuLCBfYSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWNlYm9va0NyZWRlbnRpYWwucHJvdG90eXBlLCBcInByb3ZpZGVyQ2FwYWJpbGl0aWVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3ZpZGVyQ2FwYWJpbGl0aWVzKGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEZhY2Vib29rQ3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGYWNlYm9va0NyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNlYm9va0NyZWRlbnRpYWwuanMubWFwIiwidmFyIEZhY2Vib29rQXV0aFByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWNlYm9va0F1dGhQcm92aWRlcigpIHtcbiAgICB9XG4gICAgRmFjZWJvb2tBdXRoUHJvdmlkZXIuVFlQRSA9IFwib2F1dGgyLWZhY2Vib29rXCI7XG4gICAgRmFjZWJvb2tBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FID0gXCJvYXV0aDItZmFjZWJvb2tcIjtcbiAgICByZXR1cm4gRmFjZWJvb2tBdXRoUHJvdmlkZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmFjZWJvb2tBdXRoUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GYWNlYm9va0F1dGhQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgR29vZ2xlQXV0aFByb3ZpZGVyIGZyb20gXCIuL0dvb2dsZUF1dGhQcm92aWRlclwiO1xudmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiQVVUSF9DT0RFXCJdID0gXCJhdXRoQ29kZVwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEdvb2dsZUNyZWRlbnRpYWwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdvb2dsZUNyZWRlbnRpYWwoYXV0aENvZGUsIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBHb29nbGVBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gR29vZ2xlQXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXMoZmFsc2UpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5hdXRoQ29kZSA9IGF1dGhDb2RlO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gKF9hID0ge30sIF9hW0ZpZWxkcy5BVVRIX0NPREVdID0gdGhpcy5hdXRoQ29kZSwgX2EpO1xuICAgIH1cbiAgICByZXR1cm4gR29vZ2xlQ3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBHb29nbGVDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R29vZ2xlQ3JlZGVudGlhbC5qcy5tYXAiLCJ2YXIgRnVuY3Rpb25BdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZ1bmN0aW9uQXV0aFByb3ZpZGVyKCkge1xuICAgIH1cbiAgICBGdW5jdGlvbkF1dGhQcm92aWRlci5UWVBFID0gXCJjdXN0b20tZnVuY3Rpb25cIjtcbiAgICBGdW5jdGlvbkF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcImN1c3RvbS1mdW5jdGlvblwiO1xuICAgIHJldHVybiBGdW5jdGlvbkF1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGdW5jdGlvbkF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZ1bmN0aW9uQXV0aFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCBQcm92aWRlckNhcGFiaWxpdGllcyBmcm9tIFwiLi4vLi4vUHJvdmlkZXJDYXBhYmlsaXRpZXNcIjtcbmltcG9ydCBGdW5jdGlvbkF1dGhQcm92aWRlciBmcm9tIFwiLi9GdW5jdGlvbkF1dGhQcm92aWRlclwiO1xudmFyIEZ1bmN0aW9uQ3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25DcmVkZW50aWFsKHBheWxvYWQsIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gRnVuY3Rpb25BdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gRnVuY3Rpb25BdXRoUHJvdmlkZXIuVFlQRTtcbiAgICAgICAgdGhpcy5wcm92aWRlck5hbWUgPSBwcm92aWRlck5hbWU7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSBwYXlsb2FkO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb25DcmVkZW50aWFsLnByb3RvdHlwZSwgXCJwcm92aWRlckNhcGFiaWxpdGllc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBGdW5jdGlvbkNyZWRlbnRpYWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRnVuY3Rpb25DcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RnVuY3Rpb25DcmVkZW50aWFsLmpzLm1hcCIsInZhciBHb29nbGVBdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdvb2dsZUF1dGhQcm92aWRlcigpIHtcbiAgICB9XG4gICAgR29vZ2xlQXV0aFByb3ZpZGVyLlRZUEUgPSBcIm9hdXRoMi1nb29nbGVcIjtcbiAgICBHb29nbGVBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FID0gXCJvYXV0aDItZ29vZ2xlXCI7XG4gICAgcmV0dXJuIEdvb2dsZUF1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBHb29nbGVBdXRoUHJvdmlkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hb29nbGVBdXRoUHJvdmlkZXIuanMubWFwIiwiaW1wb3J0IFByb3ZpZGVyQ2FwYWJpbGl0aWVzIGZyb20gXCIuLi8uLi9Qcm92aWRlckNhcGFiaWxpdGllc1wiO1xuaW1wb3J0IFNlcnZlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9TZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXJcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIktFWVwiXSA9IFwia2V5XCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgU2VydmVyQXBpS2V5Q3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VydmVyQXBpS2V5Q3JlZGVudGlhbChrZXksIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyLlRZUEU7XG4gICAgICAgIHRoaXMucHJvdmlkZXJDYXBhYmlsaXRpZXMgPSBuZXcgUHJvdmlkZXJDYXBhYmlsaXRpZXMoZmFsc2UpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSAoX2EgPSB7fSwgX2FbRmllbGRzLktFWV0gPSB0aGlzLmtleSwgX2EpO1xuICAgIH1cbiAgICByZXR1cm4gU2VydmVyQXBpS2V5Q3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTZXJ2ZXJBcGlLZXlDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyQXBpS2V5Q3JlZGVudGlhbC5qcy5tYXAiLCJ2YXIgU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXIoKSB7XG4gICAgfVxuICAgIFNlcnZlckFwaUtleUF1dGhQcm92aWRlci5UWVBFID0gXCJhcGkta2V5XCI7XG4gICAgU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwiYXBpLWtleVwiO1xuICAgIHJldHVybiBTZXJ2ZXJBcGlLZXlBdXRoUHJvdmlkZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyQXBpS2V5QXV0aFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCBCU09OIGZyb20gXCJic29uXCI7XG5pbXBvcnQgQXNzZXJ0aW9ucyBmcm9tIFwiLi4vLi4vLi4vLi4vaW50ZXJuYWwvY29tbW9uL0Fzc2VydGlvbnNcIjtcbnZhciBGaWVsZHM7XG4oZnVuY3Rpb24gKEZpZWxkcykge1xuICAgIEZpZWxkc1tcIklEXCJdID0gXCJfaWRcIjtcbiAgICBGaWVsZHNbXCJLRVlcIl0gPSBcImtleVwiO1xuICAgIEZpZWxkc1tcIk5BTUVcIl0gPSBcIm5hbWVcIjtcbiAgICBGaWVsZHNbXCJESVNBQkxFRFwiXSA9IFwiZGlzYWJsZWRcIjtcbn0pKEZpZWxkcyB8fCAoRmllbGRzID0ge30pKTtcbnZhciBVc2VyQXBpS2V5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQXBpS2V5KGlkLCBrZXksIG5hbWUsIGRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBCU09OLk9iamVjdElELmNyZWF0ZUZyb21IZXhTdHJpbmcoaWQpO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBVc2VyQXBpS2V5LnJlYWRGcm9tQXBpID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgdmFyIGJvZHkgPSB0eXBlb2YganNvbiA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2UoanNvbikgOiBqc29uO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoRmllbGRzLklELCBib2R5KTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KEZpZWxkcy5OQU1FLCBib2R5KTtcbiAgICAgICAgQXNzZXJ0aW9ucy5rZXlQcmVzZW50KEZpZWxkcy5ESVNBQkxFRCwgYm9keSk7XG4gICAgICAgIHJldHVybiBuZXcgVXNlckFwaUtleShib2R5W0ZpZWxkcy5JRF0sIGJvZHlbRmllbGRzLktFWV0sIGJvZHlbRmllbGRzLk5BTUVdLCBib2R5W0ZpZWxkcy5ESVNBQkxFRF0pO1xuICAgIH07XG4gICAgVXNlckFwaUtleS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLklEXSA9IHRoaXMuaWQsXG4gICAgICAgICAgICBfYVtGaWVsZHMuS0VZXSA9IHRoaXMua2V5LFxuICAgICAgICAgICAgX2FbRmllbGRzLk5BTUVdID0gdGhpcy5uYW1lLFxuICAgICAgICAgICAgX2FbRmllbGRzLkRJU0FCTEVEXSA9IHRoaXMuZGlzYWJsZWQsXG4gICAgICAgICAgICBfYTtcbiAgICB9O1xuICAgIHJldHVybiBVc2VyQXBpS2V5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJBcGlLZXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyQXBpS2V5LmpzLm1hcCIsInZhciBDb3JlQXV0aFByb3ZpZGVyQ2xpZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb3JlQXV0aFByb3ZpZGVyQ2xpZW50KHByb3ZpZGVyTmFtZSwgcmVxdWVzdENsaWVudCwgYmFzZVJvdXRlKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLnJlcXVlc3RDbGllbnQgPSByZXF1ZXN0Q2xpZW50O1xuICAgICAgICB0aGlzLmJhc2VSb3V0ZSA9IGJhc2VSb3V0ZTtcbiAgICB9XG4gICAgcmV0dXJuIENvcmVBdXRoUHJvdmlkZXJDbGllbnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZUF1dGhQcm92aWRlckNsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVBdXRoUHJvdmlkZXJDbGllbnQuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyB3cmFwRGVjb2RpbmdFcnJvciB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC9jb21tb24vU3RpdGNoRXJyb3JVdGlsc1wiO1xuaW1wb3J0IE1ldGhvZCBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvbmV0L01ldGhvZFwiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aERvY1JlcXVlc3QgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhEb2NSZXF1ZXN0XCI7XG5pbXBvcnQgeyBTdGl0Y2hBdXRoUmVxdWVzdCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC9uZXQvU3RpdGNoQXV0aFJlcXVlc3RcIjtcbmltcG9ydCBTdGl0Y2hSZXF1ZXN0RXJyb3IgZnJvbSBcIi4uLy4uLy4uL1N0aXRjaFJlcXVlc3RFcnJvclwiO1xuaW1wb3J0IHsgU3RpdGNoUmVxdWVzdEVycm9yQ29kZSB9IGZyb20gXCIuLi8uLi8uLi9TdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlXCI7XG5pbXBvcnQgQ29yZUF1dGhQcm92aWRlckNsaWVudCBmcm9tIFwiLi4vaW50ZXJuYWwvQ29yZUF1dGhQcm92aWRlckNsaWVudFwiO1xuaW1wb3J0IFVzZXJBcGlLZXkgZnJvbSBcIi4vbW9kZWxzL1VzZXJBcGlLZXlcIjtcbmltcG9ydCBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyIGZyb20gXCIuL1VzZXJBcGlLZXlBdXRoUHJvdmlkZXJcIjtcbnZhciBBcGlLZXlGaWVsZHM7XG4oZnVuY3Rpb24gKEFwaUtleUZpZWxkcykge1xuICAgIEFwaUtleUZpZWxkc1tcIk5BTUVcIl0gPSBcIm5hbWVcIjtcbn0pKEFwaUtleUZpZWxkcyB8fCAoQXBpS2V5RmllbGRzID0ge30pKTtcbnZhciBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50KHJlcXVlc3RDbGllbnQsIGF1dGhSb3V0ZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGJhc2VSb3V0ZSA9IGF1dGhSb3V0ZXMuYmFzZUF1dGhSb3V0ZSArIFwiL2FwaV9rZXlzXCI7XG4gICAgICAgIHZhciBuYW1lID0gVXNlckFwaUtleUF1dGhQcm92aWRlci5ERUZBVUxUX05BTUU7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmFtZSwgcmVxdWVzdENsaWVudCwgYmFzZVJvdXRlKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVBcGlLZXkgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5iYXNlUm91dGUpXG4gICAgICAgICAgICAud2l0aERvY3VtZW50KChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQXBpS2V5RmllbGRzLk5BTUVdID0gbmFtZSxcbiAgICAgICAgICAgIF9hKSlcbiAgICAgICAgICAgIC53aXRoUmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgIC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIFVzZXJBcGlLZXkucmVhZEZyb21BcGkocmVzcG9uc2UuYm9keSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdGhyb3cgd3JhcERlY29kaW5nRXJyb3IoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZmV0Y2hBcGlLZXkgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuR0VUKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuZ2V0QXBpS2V5Um91dGUoa2V5SWQudG9IZXhTdHJpbmcoKSkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhSZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudFxuICAgICAgICAgICAgLmRvQXV0aGVudGljYXRlZFJlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gVXNlckFwaUtleS5yZWFkRnJvbUFwaShyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyB3cmFwRGVjb2RpbmdFcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5mZXRjaEFwaUtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoTWV0aG9kKE1ldGhvZC5HRVQpLndpdGhQYXRoKHRoaXMuYmFzZVJvdXRlKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoUmVmcmVzaFRva2VuKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnRcbiAgICAgICAgICAgIC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbi5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBVc2VyQXBpS2V5LnJlYWRGcm9tQXBpKHZhbHVlKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgbm9uLWFycmF5IHJlc3BvbnNlIGZyb20gc2VydmVyXCIpLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLkRFQ09ESU5HX0VSUk9SKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyB3cmFwRGVjb2RpbmdFcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5kZWxldGVBcGlLZXkgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuREVMRVRFKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuZ2V0QXBpS2V5Um91dGUoa2V5SWQudG9IZXhTdHJpbmcoKSkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhSZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudFxuICAgICAgICAgICAgLmRvQXV0aGVudGljYXRlZFJlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5lbmFibGVBcGlLZXkgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aFJlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuUFVUKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuZ2V0QXBpS2V5RW5hYmxlUm91dGUoa2V5SWQudG9IZXhTdHJpbmcoKSkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhSZWZyZXNoVG9rZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudFxuICAgICAgICAgICAgLmRvQXV0aGVudGljYXRlZFJlcXVlc3QocmVxQnVpbGRlci5idWlsZCgpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5kaXNhYmxlQXBpS2V5ID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBVVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLmdldEFwaUtleURpc2FibGVSb3V0ZShrZXlJZC50b0hleFN0cmluZygpKSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aFJlZnJlc2hUb2tlbigpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50XG4gICAgICAgICAgICAuZG9BdXRoZW50aWNhdGVkUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldEFwaUtleVJvdXRlID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VSb3V0ZSArIFwiL1wiICsga2V5SWQ7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0QXBpS2V5RW5hYmxlUm91dGUgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXBpS2V5Um91dGUoa2V5SWQpICsgXCIvZW5hYmxlXCI7XG4gICAgfTtcbiAgICBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0QXBpS2V5RGlzYWJsZVJvdXRlID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEFwaUtleVJvdXRlKGtleUlkKSArIFwiL2Rpc2FibGVcIjtcbiAgICB9O1xuICAgIHJldHVybiBDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudDtcbn0oQ29yZUF1dGhQcm92aWRlckNsaWVudCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudC5qcy5tYXAiLCJ2YXIgVXNlckFwaUtleUF1dGhQcm92aWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlckFwaUtleUF1dGhQcm92aWRlcigpIHtcbiAgICB9XG4gICAgVXNlckFwaUtleUF1dGhQcm92aWRlci5UWVBFID0gXCJhcGkta2V5XCI7XG4gICAgVXNlckFwaUtleUF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUgPSBcImFwaS1rZXlcIjtcbiAgICByZXR1cm4gVXNlckFwaUtleUF1dGhQcm92aWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlckFwaUtleUF1dGhQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgVXNlckFwaUtleUF1dGhQcm92aWRlciBmcm9tIFwiLi9Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyXCI7XG52YXIgRmllbGRzO1xuKGZ1bmN0aW9uIChGaWVsZHMpIHtcbiAgICBGaWVsZHNbXCJLRVlcIl0gPSBcImtleVwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIFVzZXJBcGlLZXlDcmVkZW50aWFsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQXBpS2V5Q3JlZGVudGlhbChrZXksIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB0aGlzLnByb3ZpZGVyVHlwZSA9IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXIuVFlQRTtcbiAgICAgICAgdGhpcy5wcm92aWRlckNhcGFiaWxpdGllcyA9IG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIHRoaXMucHJvdmlkZXJOYW1lID0gcHJvdmlkZXJOYW1lO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbRmllbGRzLktFWV0gPSB0aGlzLmtleSxcbiAgICAgICAgICAgIF9hKTtcbiAgICB9XG4gICAgcmV0dXJuIFVzZXJBcGlLZXlDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJBcGlLZXlDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlckFwaUtleUNyZWRlbnRpYWwuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgTWV0aG9kIGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC9uZXQvTWV0aG9kXCI7XG5pbXBvcnQgeyBTdGl0Y2hEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hEb2NSZXF1ZXN0XCI7XG5pbXBvcnQgQ29yZUF1dGhQcm92aWRlckNsaWVudCBmcm9tIFwiLi4vaW50ZXJuYWwvQ29yZUF1dGhQcm92aWRlckNsaWVudFwiO1xuaW1wb3J0IFVzZXJQYXNzd29yZEF1dGhQcm92aWRlciBmcm9tIFwiLi9Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJcIjtcbnZhciBSZWdpc3RyYXRpb25GaWVsZHM7XG4oZnVuY3Rpb24gKFJlZ2lzdHJhdGlvbkZpZWxkcykge1xuICAgIFJlZ2lzdHJhdGlvbkZpZWxkc1tcIkVNQUlMXCJdID0gXCJlbWFpbFwiO1xuICAgIFJlZ2lzdHJhdGlvbkZpZWxkc1tcIlBBU1NXT1JEXCJdID0gXCJwYXNzd29yZFwiO1xufSkoUmVnaXN0cmF0aW9uRmllbGRzIHx8IChSZWdpc3RyYXRpb25GaWVsZHMgPSB7fSkpO1xudmFyIEFjdGlvbkZpZWxkcztcbihmdW5jdGlvbiAoQWN0aW9uRmllbGRzKSB7XG4gICAgQWN0aW9uRmllbGRzW1wiRU1BSUxcIl0gPSBcImVtYWlsXCI7XG4gICAgQWN0aW9uRmllbGRzW1wiUEFTU1dPUkRcIl0gPSBcInBhc3N3b3JkXCI7XG4gICAgQWN0aW9uRmllbGRzW1wiVE9LRU5cIl0gPSBcInRva2VuXCI7XG4gICAgQWN0aW9uRmllbGRzW1wiVE9LRU5fSURcIl0gPSBcInRva2VuSWRcIjtcbiAgICBBY3Rpb25GaWVsZHNbXCJBUkdTXCJdID0gXCJhcmd1bWVudHNcIjtcbn0pKEFjdGlvbkZpZWxkcyB8fCAoQWN0aW9uRmllbGRzID0ge30pKTtcbnZhciBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50KHByb3ZpZGVyTmFtZSwgcmVxdWVzdENsaWVudCwgYXV0aFJvdXRlcykge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYmFzZVJvdXRlID0gYXV0aFJvdXRlcy5nZXRBdXRoUHJvdmlkZXJSb3V0ZShwcm92aWRlck5hbWUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3ZpZGVyTmFtZSwgcmVxdWVzdENsaWVudCwgYmFzZVJvdXRlKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLnJlZ2lzdGVyV2l0aEVtYWlsSW50ZXJuYWwgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoRG9jUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXJcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuZ2V0UmVnaXN0ZXJXaXRoRW1haWxSb3V0ZSgpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoRG9jdW1lbnQoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtSZWdpc3RyYXRpb25GaWVsZHMuRU1BSUxdID0gZW1haWwsXG4gICAgICAgICAgICBfYVtSZWdpc3RyYXRpb25GaWVsZHMuUEFTU1dPUkRdID0gcGFzc3dvcmQsXG4gICAgICAgICAgICBfYSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50LmRvUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmNvbmZpcm1Vc2VySW50ZXJuYWwgPSBmdW5jdGlvbiAodG9rZW4sIHRva2VuSWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKS53aXRoUGF0aCh0aGlzLmdldENvbmZpcm1Vc2VyUm91dGUoKSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aERvY3VtZW50KChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLlRPS0VOXSA9IHRva2VuLFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLlRPS0VOX0lEXSA9IHRva2VuSWQsXG4gICAgICAgICAgICBfYSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50LmRvUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLnJlc2VuZENvbmZpcm1hdGlvbkVtYWlsSW50ZXJuYWwgPSBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5nZXRSZXNlbmRDb25maXJtYXRpb25FbWFpbFJvdXRlKCkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudCgoX2EgPSB7fSwgX2FbQWN0aW9uRmllbGRzLkVNQUlMXSA9IGVtYWlsLCBfYSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50LmRvUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLnJlc2V0UGFzc3dvcmRJbnRlcm5hbCA9IGZ1bmN0aW9uICh0b2tlbiwgdG9rZW5JZCwgcGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKS53aXRoUGF0aCh0aGlzLmdldFJlc2V0UGFzc3dvcmRSb3V0ZSgpKTtcbiAgICAgICAgcmVxQnVpbGRlci53aXRoRG9jdW1lbnQoKF9hID0ge30sXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuVE9LRU5dID0gdG9rZW4sXG4gICAgICAgICAgICBfYVtBY3Rpb25GaWVsZHMuVE9LRU5fSURdID0gdG9rZW5JZCxcbiAgICAgICAgICAgIF9hW0FjdGlvbkZpZWxkcy5QQVNTV09SRF0gPSBwYXNzd29yZCxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuc2VuZFJlc2V0UGFzc3dvcmRFbWFpbEludGVybmFsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoRG9jUmVxdWVzdC5CdWlsZGVyKCk7XG4gICAgICAgIHJlcUJ1aWxkZXJcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKE1ldGhvZC5QT1NUKVxuICAgICAgICAgICAgLndpdGhQYXRoKHRoaXMuZ2V0U2VuZFJlc2V0UGFzc3dvcmRFbWFpbFJvdXRlKCkpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudCgoX2EgPSB7fSwgX2FbQWN0aW9uRmllbGRzLkVNQUlMXSA9IGVtYWlsLCBfYSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0Q2xpZW50LmRvUmVxdWVzdChyZXFCdWlsZGVyLmJ1aWxkKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmNhbGxSZXNldFBhc3N3b3JkRnVuY3Rpb25JbnRlcm5hbCA9IGZ1bmN0aW9uIChlbWFpbCwgcGFzc3dvcmQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgcmVxQnVpbGRlciA9IG5ldyBTdGl0Y2hEb2NSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLlBPU1QpXG4gICAgICAgICAgICAud2l0aFBhdGgodGhpcy5nZXRDYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uUm91dGUoKSk7XG4gICAgICAgIHJlcUJ1aWxkZXIud2l0aERvY3VtZW50KChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLkVNQUlMXSA9IGVtYWlsLFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLlBBU1NXT1JEXSA9IHBhc3N3b3JkLFxuICAgICAgICAgICAgX2FbQWN0aW9uRmllbGRzLkFSR1NdID0gYXJncyxcbiAgICAgICAgICAgIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RDbGllbnQuZG9SZXF1ZXN0KHJlcUJ1aWxkZXIuYnVpbGQoKSkudGhlbihmdW5jdGlvbiAoKSB7IH0pO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0UmVnaXN0ZXJXaXRoRW1haWxSb3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXh0ZW5zaW9uUm91dGUoXCJyZWdpc3RlclwiKTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldENvbmZpcm1Vc2VyUm91dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVuc2lvblJvdXRlKFwiY29uZmlybVwiKTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldFJlc2VuZENvbmZpcm1hdGlvbkVtYWlsUm91dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVuc2lvblJvdXRlKFwiY29uZmlybS9zZW5kXCIpO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0UmVzZXRQYXNzd29yZFJvdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFeHRlbnNpb25Sb3V0ZShcInJlc2V0XCIpO1xuICAgIH07XG4gICAgQ29yZVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5wcm90b3R5cGUuZ2V0U2VuZFJlc2V0UGFzc3dvcmRFbWFpbFJvdXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFeHRlbnNpb25Sb3V0ZShcInJlc2V0L3NlbmRcIik7XG4gICAgfTtcbiAgICBDb3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LnByb3RvdHlwZS5nZXRDYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uUm91dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEV4dGVuc2lvblJvdXRlKFwicmVzZXQvY2FsbFwiKTtcbiAgICB9O1xuICAgIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQucHJvdG90eXBlLmdldEV4dGVuc2lvblJvdXRlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZVJvdXRlICsgXCIvXCIgKyBwYXRoO1xuICAgIH07XG4gICAgcmV0dXJuIENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQ7XG59KENvcmVBdXRoUHJvdmlkZXJDbGllbnQpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50LmpzLm1hcCIsInZhciBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlcigpIHtcbiAgICB9XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLlRZUEUgPSBcImxvY2FsLXVzZXJwYXNzXCI7XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRSA9IFwibG9jYWwtdXNlcnBhc3NcIjtcbiAgICByZXR1cm4gVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJQYXNzd29yZEF1dGhQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJQYXNzd29yZEF1dGhQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgUHJvdmlkZXJDYXBhYmlsaXRpZXMgZnJvbSBcIi4uLy4uL1Byb3ZpZGVyQ2FwYWJpbGl0aWVzXCI7XG5pbXBvcnQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyIGZyb20gXCIuL1VzZXJQYXNzd29yZEF1dGhQcm92aWRlclwiO1xudmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiVVNFUk5BTUVcIl0gPSBcInVzZXJuYW1lXCI7XG4gICAgRmllbGRzW1wiUEFTU1dPUkRcIl0gPSBcInBhc3N3b3JkXCI7XG59KShGaWVsZHMgfHwgKEZpZWxkcyA9IHt9KSk7XG52YXIgVXNlclBhc3N3b3JkQ3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXNlclBhc3N3b3JkQ3JlZGVudGlhbCh1c2VybmFtZSwgcGFzc3dvcmQsIHByb3ZpZGVyTmFtZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIuREVGQVVMVF9OQU1FOyB9XG4gICAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTtcbiAgICAgICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXIuVFlQRTtcbiAgICAgICAgdGhpcy5wcm92aWRlckNhcGFiaWxpdGllcyA9IG5ldyBQcm92aWRlckNhcGFiaWxpdGllcyhmYWxzZSk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5VU0VSTkFNRV0gPSB0aGlzLnVzZXJuYW1lLFxuICAgICAgICAgICAgX2FbRmllbGRzLlBBU1NXT1JEXSA9IHRoaXMucGFzc3dvcmQsXG4gICAgICAgICAgICBfYSk7XG4gICAgfVxuICAgIHJldHVybiBVc2VyUGFzc3dvcmRDcmVkZW50aWFsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJQYXNzd29yZENyZWRlbnRpYWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyUGFzc3dvcmRDcmVkZW50aWFsLmpzLm1hcCIsInZhciBVc2VyVHlwZTtcbihmdW5jdGlvbiAoVXNlclR5cGUpIHtcbiAgICBVc2VyVHlwZVtcIk5vcm1hbFwiXSA9IFwibm9ybWFsXCI7XG4gICAgVXNlclR5cGVbXCJTZXJ2ZXJcIl0gPSBcInNlcnZlclwiO1xuICAgIFVzZXJUeXBlW1wiVW5rbm93blwiXSA9IFwidW5rbm93blwiO1xufSkoVXNlclR5cGUgfHwgKFVzZXJUeXBlID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJUeXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlclR5cGUuanMubWFwIiwidmFyIFJlYmluZEV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWJpbmRFdmVudCgpIHtcbiAgICB9XG4gICAgcmV0dXJuIFJlYmluZEV2ZW50O1xufSgpKTtcbmV4cG9ydCB7IFJlYmluZEV2ZW50IH07XG5leHBvcnQgdmFyIFJlYmluZEV2ZW50VHlwZTtcbihmdW5jdGlvbiAoUmViaW5kRXZlbnRUeXBlKSB7XG4gICAgUmViaW5kRXZlbnRUeXBlW1JlYmluZEV2ZW50VHlwZVtcIkFVVEhfRVZFTlRcIl0gPSAwXSA9IFwiQVVUSF9FVkVOVFwiO1xufSkoUmViaW5kRXZlbnRUeXBlIHx8IChSZWJpbmRFdmVudFR5cGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmViaW5kRXZlbnQuanMubWFwIiwidmFyIE1lbW9yeVN0b3JhZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lbW9yeVN0b3JhZ2Uoc3VpdGVOYW1lKSB7XG4gICAgICAgIHRoaXMuc3VpdGVOYW1lID0gc3VpdGVOYW1lO1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSB7fTtcbiAgICB9XG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlW3RoaXMuc3VpdGVOYW1lICsgXCIuXCIgKyBrZXldO1xuICAgIH07XG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlW3RoaXMuc3VpdGVOYW1lICsgXCIuXCIgKyBrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgICBNZW1vcnlTdG9yYWdlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0b3JhZ2VbdGhpcy5zdWl0ZU5hbWUgKyBcIi5cIiArIGtleV07XG4gICAgfTtcbiAgICByZXR1cm4gTWVtb3J5U3RvcmFnZTtcbn0oKSk7XG5leHBvcnQgeyBNZW1vcnlTdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yYWdlLmpzLm1hcCIsImltcG9ydCB7IEVKU09OIH0gZnJvbSAnYnNvbic7XG5pbXBvcnQgeyBBdXRoRXZlbnRLaW5kIH0gZnJvbSAnLi4vLi4vYXV0aC9pbnRlcm5hbC9BdXRoRXZlbnQnO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2NvbW1vbi9CYXNlNjRcIjtcbmltcG9ydCBNZXRob2QgZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9NZXRob2RcIjtcbmltcG9ydCB7IFN0aXRjaEF1dGhEb2NSZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hBdXRoRG9jUmVxdWVzdFwiO1xuaW1wb3J0IHsgU3RpdGNoQXV0aFJlcXVlc3QgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvbmV0L1N0aXRjaEF1dGhSZXF1ZXN0XCI7XG5pbXBvcnQgeyBSZWJpbmRFdmVudFR5cGUgfSBmcm9tICcuL1JlYmluZEV2ZW50JztcbnZhciBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbChyZXF1ZXN0Q2xpZW50LCByb3V0ZXMsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlRmllbGQgPSBcInNlcnZpY2VcIjtcbiAgICAgICAgdGhpcy5hcmd1bWVudHNGaWVsZCA9IFwiYXJndW1lbnRzXCI7XG4gICAgICAgIHRoaXMucmVxdWVzdENsaWVudCA9IHJlcXVlc3RDbGllbnQ7XG4gICAgICAgIHRoaXMuc2VydmljZVJvdXRlcyA9IHJvdXRlcztcbiAgICAgICAgdGhpcy5zZXJ2aWNlTmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2VydmljZUJpbmRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRTdHJlYW1zID0gW107XG4gICAgfVxuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGRlY29kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5kb0F1dGhlbnRpY2F0ZWRSZXF1ZXN0V2l0aERlY29kZXIodGhpcy5nZXRDYWxsU2VydmljZUZ1bmN0aW9uUmVxdWVzdChuYW1lLCBhcmdzKSwgZGVjb2Rlcik7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLnN0cmVhbUZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGRlY29kZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5vcGVuQXV0aGVudGljYXRlZFN0cmVhbVdpdGhEZWNvZGVyKHRoaXMuZ2V0U3RyZWFtU2VydmljZUZ1bmN0aW9uUmVxdWVzdChuYW1lLCBhcmdzKSwgZGVjb2RlcikudGhlbihmdW5jdGlvbiAobmV3U3RyZWFtKSB7XG4gICAgICAgICAgICBfdGhpcy5hbGxvY2F0ZWRTdHJlYW1zLnB1c2gobmV3U3RyZWFtKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdTdHJlYW07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gKGJpbmRlcikge1xuICAgICAgICB0aGlzLnNlcnZpY2VCaW5kZXJzLnB1c2goYmluZGVyKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUub25SZWJpbmRFdmVudCA9IGZ1bmN0aW9uIChyZWJpbmRFdmVudCkge1xuICAgICAgICBzd2l0Y2ggKHJlYmluZEV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmViaW5kRXZlbnRUeXBlLkFVVEhfRVZFTlQ6XG4gICAgICAgICAgICAgICAgdmFyIGF1dGhSZWJpbmRFdmVudCA9IHJlYmluZEV2ZW50O1xuICAgICAgICAgICAgICAgIGlmIChhdXRoUmViaW5kRXZlbnQuZXZlbnQua2luZCA9PT0gQXV0aEV2ZW50S2luZC5BY3RpdmVVc2VyQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsb2NhdGVkU3RyZWFtcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXJ2aWNlQmluZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChiaW5kZXIpIHtcbiAgICAgICAgICAgIGJpbmRlci5vblJlYmluZEV2ZW50KHJlYmluZEV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlLmdldFN0cmVhbVNlcnZpY2VGdW5jdGlvblJlcXVlc3QgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICB2YXIgYm9keSA9IHsgbmFtZTogbmFtZSB9O1xuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib2R5W3RoaXMuc2VydmljZUZpZWxkXSA9IHRoaXMuc2VydmljZU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgYm9keVt0aGlzLmFyZ3VtZW50c0ZpZWxkXSA9IGFyZ3M7XG4gICAgICAgIHZhciByZXFCdWlsZGVyID0gbmV3IFN0aXRjaEF1dGhSZXF1ZXN0LkJ1aWxkZXIoKTtcbiAgICAgICAgcmVxQnVpbGRlclxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkdFVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnNlcnZpY2VSb3V0ZXMuZnVuY3Rpb25DYWxsUm91dGUgK1xuICAgICAgICAgICAgKFwiP3N0aXRjaF9yZXF1ZXN0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJhc2U2NEVuY29kZShFSlNPTi5zdHJpbmdpZnkoYm9keSkpKSkpO1xuICAgICAgICByZXR1cm4gcmVxQnVpbGRlci5idWlsZCgpO1xuICAgIH07XG4gICAgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRDYWxsU2VydmljZUZ1bmN0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciBib2R5ID0geyBuYW1lOiBuYW1lIH07XG4gICAgICAgIGlmICh0aGlzLnNlcnZpY2VOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJvZHlbdGhpcy5zZXJ2aWNlRmllbGRdID0gdGhpcy5zZXJ2aWNlTmFtZTtcbiAgICAgICAgfVxuICAgICAgICBib2R5W3RoaXMuYXJndW1lbnRzRmllbGRdID0gYXJncztcbiAgICAgICAgdmFyIHJlcUJ1aWxkZXIgPSBuZXcgU3RpdGNoQXV0aERvY1JlcXVlc3QuQnVpbGRlcigpO1xuICAgICAgICByZXFCdWlsZGVyXG4gICAgICAgICAgICAud2l0aE1ldGhvZChNZXRob2QuUE9TVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnNlcnZpY2VSb3V0ZXMuZnVuY3Rpb25DYWxsUm91dGUpO1xuICAgICAgICByZXFCdWlsZGVyLndpdGhEb2N1bWVudChib2R5KTtcbiAgICAgICAgcmV0dXJuIHJlcUJ1aWxkZXIuYnVpbGQoKTtcbiAgICB9O1xuICAgIENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuY2xvc2VBbGxvY2F0ZWRTdHJlYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmlzT3BlbigpKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFN0cmVhbXMgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsLmpzLm1hcCIsImltcG9ydCBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwgZnJvbSBcIi4uL3NlcnZpY2VzL2ludGVybmFsL0NvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbFwiO1xudmFyIENvcmVTdGl0Y2hBcHBDbGllbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVTdGl0Y2hBcHBDbGllbnQoYXV0aFJlcXVlc3RDbGllbnQsIHJvdXRlcykge1xuICAgICAgICB0aGlzLmZ1bmN0aW9uU2VydmljZSA9XG4gICAgICAgICAgICBuZXcgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsKGF1dGhSZXF1ZXN0Q2xpZW50LCByb3V0ZXMuc2VydmljZVJvdXRlcyk7XG4gICAgfVxuICAgIENvcmVTdGl0Y2hBcHBDbGllbnQucHJvdG90eXBlLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzLCBkZWNvZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uU2VydmljZS5jYWxsRnVuY3Rpb24obmFtZSwgYXJncywgZGVjb2Rlcik7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVN0aXRjaEFwcENsaWVudDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb3JlU3RpdGNoQXBwQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVN0aXRjaEFwcENsaWVudC5qcy5tYXAiLCJ2YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbiAobykge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuaW1wb3J0IFN0aXRjaEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hFcnJvclwiO1xuaW1wb3J0IFN0aXRjaFJlcXVlc3RFcnJvciBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcbmltcG9ydCBTdGl0Y2hFdmVudCBmcm9tIFwiLi9TdGl0Y2hFdmVudFwiO1xudmFyIEJhc2VFdmVudFN0cmVhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZUV2ZW50U3RyZWFtKHJlY29ubmVjdGVyKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0ZXIgPSByZWNvbm5lY3RlcjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXN0RXJyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBCYXNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNsb3NlZDtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxpc3RlbmVyLm9uRXZlbnQobmV3IEV2ZW50KFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUsIFwic3RyZWFtIGNsb3NlZFwiKSk7IH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RFcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5vbkV2ZW50KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBfdGhpcy5sYXN0RXJyKSk7IH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnBvbGwoKTtcbiAgICB9O1xuICAgIEJhc2VFdmVudFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5uZXh0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBcInN0cmVhbSBjbG9zZWRcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RFcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCB0aGlzLmxhc3RFcnIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMubGlzdGVuT25jZSh7XG4gICAgICAgICAgICAgICAgb25FdmVudDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCYXNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWZ0ZXJDbG9zZSgpO1xuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnJlY29ubmVjdGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2gobmV3IEV2ZW50KFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUsIFwic3RyZWFtIGNsb3NlZDogXCIgKyBlcnJvcikpO1xuICAgICAgICAgICAgICAgIHRoaXMucG9sbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb25uZWN0ZXIoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgICAgIF90aGlzLm9uUmVjb25uZWN0KG5leHQpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgU3RpdGNoRXJyb3IpIHx8ICEoZSBpbnN0YW5jZW9mIFN0aXRjaFJlcXVlc3RFcnJvcikpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy5wdXNoKG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBcInN0cmVhbSBjbG9zZWQ6IFwiICsgZXJyb3IpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb2xsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5yZWNvbm5lY3QoZSk7IH0sIEJhc2VFdmVudFN0cmVhbS5SRVRSWV9USU1FT1VUX01JTExJUyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgd2hpbGUgKHRoaXMuZXZlbnRzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSB0aGlzLmV2ZW50cy5wb3AoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLmxpc3RlbmVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vbkV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkV2ZW50KGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCYXNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLmxpc3Rlbk9uY2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxpc3RlbmVyLm9uRXZlbnQobmV3IEV2ZW50KFN0aXRjaEV2ZW50LkVSUk9SX0VWRU5UX05BTUUsIFwic3RyZWFtIGNsb3NlZFwiKSk7IH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RFcnIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5vbkV2ZW50KG5ldyBFdmVudChTdGl0Y2hFdmVudC5FUlJPUl9FVkVOVF9OQU1FLCBfdGhpcy5sYXN0RXJyKSk7IH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3cmFwcGVyID0ge1xuICAgICAgICAgICAgb25FdmVudDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVMaXN0ZW5lcih3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5vbkV2ZW50KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZExpc3RlbmVyKHdyYXBwZXIpO1xuICAgIH07XG4gICAgQmFzZUV2ZW50U3RyZWFtLlJFVFJZX1RJTUVPVVRfTUlMTElTID0gNTAwMDtcbiAgICByZXR1cm4gQmFzZUV2ZW50U3RyZWFtO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJhc2VFdmVudFN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VFdmVudFN0cmVhbS5qcy5tYXAiLCJ2YXIgQmFzaWNSZXF1ZXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNpY1JlcXVlc3QobWV0aG9kLCB1cmwsIGhlYWRlcnMsIGJvZHkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gQmFzaWNSZXF1ZXN0O1xufSgpKTtcbmV4cG9ydCB7IEJhc2ljUmVxdWVzdCB9O1xuKGZ1bmN0aW9uIChCYXNpY1JlcXVlc3QpIHtcbiAgICB2YXIgQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJ1aWxkZXIocmVxdWVzdCkge1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgICAgIHRoaXMudXJsID0gcmVxdWVzdC51cmw7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnM7XG4gICAgICAgICAgICB0aGlzLmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aE1ldGhvZCA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoSGVhZGVycyA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhCb2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm11c3Qgc2V0IG1ldGhvZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibXVzdCBzZXQgbm9uLWVtcHR5IHVybFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFzaWNSZXF1ZXN0KHRoaXMubWV0aG9kLCB0aGlzLnVybCwgdGhpcy5oZWFkZXJzID09PSB1bmRlZmluZWQgPyB7fSA6IHRoaXMuaGVhZGVycywgdGhpcy5ib2R5KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfSgpKTtcbiAgICBCYXNpY1JlcXVlc3QuQnVpbGRlciA9IEJ1aWxkZXI7XG59KShCYXNpY1JlcXVlc3QgfHwgKEJhc2ljUmVxdWVzdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNpY1JlcXVlc3QuanMubWFwIiwidmFyIFJlc3BvbnNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNwb25zZShoZWFkZXJzLCBzdGF0dXNDb2RlLCBib2R5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5tYXAoZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIF90aGlzLmhlYWRlcnNba2V5LnRvTG9jYWxlTG93ZXJDYXNlKCldID0gaGVhZGVyc1trZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc3BvbnNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzcG9uc2UuanMubWFwIiwidmFyIEJBU0VfUk9VVEUgPSBcIi9hcGkvY2xpZW50L3YyLjBcIjtcbmZ1bmN0aW9uIGdldEFwcFJvdXRlKGNsaWVudEFwcElkKSB7XG4gICAgcmV0dXJuIEJBU0VfUk9VVEUgKyAoXCIvYXBwL1wiICsgY2xpZW50QXBwSWQpO1xufVxuZnVuY3Rpb24gZ2V0RnVuY3Rpb25DYWxsUm91dGUoY2xpZW50QXBwSWQpIHtcbiAgICByZXR1cm4gZ2V0QXBwUm91dGUoY2xpZW50QXBwSWQpICsgXCIvZnVuY3Rpb25zL2NhbGxcIjtcbn1cbmZ1bmN0aW9uIGdldEFwcE1ldGFkYXRhUm91dGUoY2xpZW50QXBwSWQpIHtcbiAgICByZXR1cm4gZ2V0QXBwUm91dGUoY2xpZW50QXBwSWQpICsgXCIvbG9jYXRpb25cIjtcbn1cbmV4cG9ydCB7IEJBU0VfUk9VVEUsIGdldEFwcFJvdXRlLCBnZXRGdW5jdGlvbkNhbGxSb3V0ZSwgZ2V0QXBwTWV0YWRhdGFSb3V0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoUm91dGVzLmpzLm1hcCIsImltcG9ydCB7IEJBU0VfUk9VVEUsIGdldEFwcFJvdXRlIH0gZnJvbSBcIi4vU3RpdGNoUm91dGVzXCI7XG5mdW5jdGlvbiBnZXRBdXRoUHJvdmlkZXJSb3V0ZShjbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKSB7XG4gICAgcmV0dXJuIGdldEFwcFJvdXRlKGNsaWVudEFwcElkKSArIChcIi9hdXRoL3Byb3ZpZGVycy9cIiArIHByb3ZpZGVyTmFtZSk7XG59XG5mdW5jdGlvbiBnZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKGNsaWVudEFwcElkLCBwcm92aWRlck5hbWUpIHtcbiAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyUm91dGUoY2xpZW50QXBwSWQsIHByb3ZpZGVyTmFtZSkgKyBcIi9sb2dpblwiO1xufVxuZnVuY3Rpb24gZ2V0QXV0aFByb3ZpZGVyTGlua1JvdXRlKGNsaWVudEFwcElkLCBwcm92aWRlck5hbWUpIHtcbiAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyTG9naW5Sb3V0ZShjbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKSArIFwiP2xpbms9dHJ1ZVwiO1xufVxudmFyIFN0aXRjaEFwcEF1dGhSb3V0ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaEFwcEF1dGhSb3V0ZXMoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5iYXNlQXV0aFJvdXRlID0gQkFTRV9ST1VURSArIFwiL2F1dGhcIjtcbiAgICAgICAgdGhpcy5zZXNzaW9uUm91dGUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmJhc2VBdXRoUm91dGUgKyBcIi9zZXNzaW9uXCI7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHRoaXMucHJvZmlsZVJvdXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5iYXNlQXV0aFJvdXRlICsgXCIvcHJvZmlsZVwiO1xuICAgICAgICB9KSgpO1xuICAgICAgICB0aGlzLmNsaWVudEFwcElkID0gY2xpZW50QXBwSWQ7XG4gICAgfVxuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlclJvdXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gZ2V0QXV0aFByb3ZpZGVyUm91dGUodGhpcy5jbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlckxvZ2luUm91dGUgPSBmdW5jdGlvbiAocHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBnZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKHRoaXMuY2xpZW50QXBwSWQsIHByb3ZpZGVyTmFtZSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBBdXRoUm91dGVzLnByb3RvdHlwZS5nZXRBdXRoUHJvdmlkZXJMaW5rUm91dGUgPSBmdW5jdGlvbiAocHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIHJldHVybiBnZXRBdXRoUHJvdmlkZXJMaW5rUm91dGUodGhpcy5jbGllbnRBcHBJZCwgcHJvdmlkZXJOYW1lKTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlckV4dGVuc2lvblJvdXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyTmFtZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdXRoUHJvdmlkZXJSb3V0ZShwcm92aWRlck5hbWUpICsgXCIvXCIgKyBwYXRoO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcEF1dGhSb3V0ZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwQXV0aFJvdXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEFwcEF1dGhSb3V0ZXMuanMubWFwIiwidmFyIEZpZWxkcztcbihmdW5jdGlvbiAoRmllbGRzKSB7XG4gICAgRmllbGRzW1wiREVQTE9ZTUVOVF9NT0RFTFwiXSA9IFwiZGVwbG95bWVudF9tb2RlbFwiO1xuICAgIEZpZWxkc1tcIkxPQ0FUSU9OXCJdID0gXCJsb2NhdGlvblwiO1xuICAgIEZpZWxkc1tcIkhPU1ROQU1FXCJdID0gXCJob3N0bmFtZVwiO1xufSkoRmllbGRzIHx8IChGaWVsZHMgPSB7fSkpO1xudmFyIEFwaUFwcE1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcGlBcHBNZXRhZGF0YShkZXBsb3ltZW50TW9kZWwsIGxvY2F0aW9uLCBob3N0bmFtZSkge1xuICAgICAgICB0aGlzLmRlcGxveW1lbnRNb2RlbCA9IGRlcGxveW1lbnRNb2RlbDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmhvc3RuYW1lID0gaG9zdG5hbWU7XG4gICAgfVxuICAgIEFwaUFwcE1ldGFkYXRhLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcGlBcHBNZXRhZGF0YShqc29uW0ZpZWxkcy5ERVBMT1lNRU5UX01PREVMXSwganNvbltGaWVsZHMuTE9DQVRJT05dLCBqc29uW0ZpZWxkcy5IT1NUTkFNRV0pO1xuICAgIH07XG4gICAgQXBpQXBwTWV0YWRhdGEucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW0ZpZWxkcy5ERVBMT1lNRU5UX01PREVMXSA9IHRoaXMuZGVwbG95bWVudE1vZGVsLFxuICAgICAgICAgICAgX2FbRmllbGRzLkxPQ0FUSU9OXSA9IHRoaXMubG9jYXRpb24sXG4gICAgICAgICAgICBfYVtGaWVsZHMuSE9TVE5BTUVdID0gdGhpcy5ob3N0bmFtZSxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgcmV0dXJuIEFwaUFwcE1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFwaUFwcE1ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXBpQXBwTWV0YWRhdGEuanMubWFwIiwiaW1wb3J0IHsgaGFuZGxlUmVxdWVzdEVycm9yIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2NvbW1vbi9TdGl0Y2hFcnJvclV0aWxzXCI7XG5pbXBvcnQgU3RpdGNoRXJyb3IgZnJvbSBcIi4uLy4uL1N0aXRjaEVycm9yXCI7XG5pbXBvcnQgU3RpdGNoUmVxdWVzdEVycm9yIGZyb20gXCIuLi8uLi9TdGl0Y2hSZXF1ZXN0RXJyb3JcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3RFcnJvckNvZGUgfSBmcm9tIFwiLi4vLi4vU3RpdGNoUmVxdWVzdEVycm9yQ29kZVwiO1xuaW1wb3J0IHsgQmFzaWNSZXF1ZXN0IH0gZnJvbSBcIi4vQmFzaWNSZXF1ZXN0XCI7XG5mdW5jdGlvbiBpbnNwZWN0UmVzcG9uc2UocmVxdWVzdCwgdXJsLCByZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RFcnJvcihyZXNwb25zZSk7XG59XG52YXIgQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50KGJhc2VVcmwsIHRyYW5zcG9ydCkge1xuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICB9XG4gICAgQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvUmVxdWVzdFRvVVJMID0gZnVuY3Rpb24gKHN0aXRjaFJlcSwgdXJsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydFxuICAgICAgICAgICAgLnJvdW5kVHJpcCh0aGlzLmJ1aWxkUmVxdWVzdChzdGl0Y2hSZXEsIHVybCkpXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKGVycm9yLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLlRSQU5TUE9SVF9FUlJPUik7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkgeyByZXR1cm4gaW5zcGVjdFJlc3BvbnNlKHN0aXRjaFJlcSwgdXJsLCByZXNwKTsgfSk7XG4gICAgfTtcbiAgICBCYXNlU3RpdGNoUmVxdWVzdENsaWVudC5wcm90b3R5cGUuZG9TdHJlYW1SZXF1ZXN0VG9VUkwgPSBmdW5jdGlvbiAoc3RpdGNoUmVxLCB1cmwsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydFxuICAgICAgICAgICAgLnN0cmVhbSh0aGlzLmJ1aWxkUmVxdWVzdChzdGl0Y2hSZXEsIHVybCksIG9wZW4sIHJldHJ5UmVxdWVzdClcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFN0aXRjaEVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVxdWVzdEVycm9yKGVycm9yLCBTdGl0Y2hSZXF1ZXN0RXJyb3JDb2RlLlRSQU5TUE9SVF9FUlJPUik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQmFzZVN0aXRjaFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmJ1aWxkUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IEJhc2ljUmVxdWVzdC5CdWlsZGVyKClcbiAgICAgICAgICAgIC53aXRoTWV0aG9kKHN0aXRjaFJlcS5tZXRob2QpXG4gICAgICAgICAgICAud2l0aFVybChcIlwiICsgdXJsICsgc3RpdGNoUmVxLnBhdGgpXG4gICAgICAgICAgICAud2l0aEhlYWRlcnMoc3RpdGNoUmVxLmhlYWRlcnMpXG4gICAgICAgICAgICAud2l0aEJvZHkoc3RpdGNoUmVxLmJvZHkpXG4gICAgICAgICAgICAuYnVpbGQoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlU3RpdGNoUmVxdWVzdENsaWVudDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCYXNlU3RpdGNoUmVxdWVzdENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50LmpzLm1hcCIsImltcG9ydCB7IGdldEZ1bmN0aW9uQ2FsbFJvdXRlIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL25ldC9TdGl0Y2hSb3V0ZXNcIjtcbnZhciBTdGl0Y2hTZXJ2aWNlUm91dGVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hTZXJ2aWNlUm91dGVzKGNsaWVudEFwcElkKSB7XG4gICAgICAgIHRoaXMuY2xpZW50QXBwSWQgPSBjbGllbnRBcHBJZDtcbiAgICAgICAgdGhpcy5mdW5jdGlvbkNhbGxSb3V0ZSA9IGdldEZ1bmN0aW9uQ2FsbFJvdXRlKGNsaWVudEFwcElkKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaFNlcnZpY2VSb3V0ZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoU2VydmljZVJvdXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFNlcnZpY2VSb3V0ZXMuanMubWFwIiwiaW1wb3J0IFN0aXRjaFNlcnZpY2VSb3V0ZXMgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL2ludGVybmFsL1N0aXRjaFNlcnZpY2VSb3V0ZXNcIjtcbmltcG9ydCBTdGl0Y2hBcHBBdXRoUm91dGVzIGZyb20gXCIuL1N0aXRjaEFwcEF1dGhSb3V0ZXNcIjtcbmltcG9ydCB7IGdldEFwcE1ldGFkYXRhUm91dGUsIGdldEZ1bmN0aW9uQ2FsbFJvdXRlIH0gZnJvbSBcIi4vU3RpdGNoUm91dGVzXCI7XG52YXIgU3RpdGNoQXBwUm91dGVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBcHBSb3V0ZXMoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnRBcHBJZCA9IGNsaWVudEFwcElkO1xuICAgICAgICB0aGlzLmF1dGhSb3V0ZXMgPSBuZXcgU3RpdGNoQXBwQXV0aFJvdXRlcyhjbGllbnRBcHBJZCk7XG4gICAgICAgIHRoaXMuc2VydmljZVJvdXRlcyA9IG5ldyBTdGl0Y2hTZXJ2aWNlUm91dGVzKGNsaWVudEFwcElkKTtcbiAgICAgICAgdGhpcy5hcHBNZXRhZGF0YVJvdXRlID0gZ2V0QXBwTWV0YWRhdGFSb3V0ZShjbGllbnRBcHBJZCk7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25DYWxsUm91dGUgPSBnZXRGdW5jdGlvbkNhbGxSb3V0ZShjbGllbnRBcHBJZCk7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hBcHBSb3V0ZXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwUm91dGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwUm91dGVzLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbmltcG9ydCB7IEVKU09OIH0gZnJvbSBcImJzb25cIjtcbmltcG9ydCBBcHBNZXRhZGF0YSBmcm9tIFwiLi9BcGlBcHBNZXRhZGF0YVwiO1xuaW1wb3J0IEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50IGZyb20gXCIuL0Jhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50XCI7XG5pbXBvcnQgTWV0aG9kIGZyb20gXCIuL01ldGhvZFwiO1xuaW1wb3J0IFN0aXRjaEFwcFJvdXRlcyBmcm9tIFwiLi9TdGl0Y2hBcHBSb3V0ZXNcIjtcbmltcG9ydCB7IFN0aXRjaFJlcXVlc3QgfSBmcm9tIFwiLi9TdGl0Y2hSZXF1ZXN0XCI7XG52YXIgU3RpdGNoQXBwUmVxdWVzdENsaWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEFwcFJlcXVlc3RDbGllbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXBwUmVxdWVzdENsaWVudChjbGllbnRBcHBJZCwgYmFzZVVybCwgdHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJhc2VVcmwsIHRyYW5zcG9ydCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2xpZW50QXBwSWQgPSBjbGllbnRBcHBJZDtcbiAgICAgICAgX3RoaXMucm91dGVzID0gbmV3IFN0aXRjaEFwcFJvdXRlcyhjbGllbnRBcHBJZCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RpdGNoQXBwUmVxdWVzdENsaWVudC5wcm90b3R5cGUuZG9SZXF1ZXN0ID0gZnVuY3Rpb24gKHN0aXRjaFJlcSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0QXBwTWV0YWRhdGEoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRvUmVxdWVzdFRvVVJMLmNhbGwoX3RoaXMsIHN0aXRjaFJlcSwgbWV0YWRhdGEuaG9zdG5hbWUpOyB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvU3RyZWFtUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmluaXRBcHBNZXRhZGF0YSgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZG9TdHJlYW1SZXF1ZXN0VG9VUkwuY2FsbChfdGhpcywgc3RpdGNoUmVxLCBtZXRhZGF0YS5ob3N0bmFtZSwgb3BlbiwgcmV0cnlSZXF1ZXN0KTsgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5nZXRCYXNlVVJMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyLCB0aGlzLmluaXRBcHBNZXRhZGF0YSgpLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7IHJldHVybiBtZXRhZGF0YS5ob3N0bmFtZTsgfSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RpdGNoQXBwUmVxdWVzdENsaWVudC5wcm90b3R5cGUuaW5pdEFwcE1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5hcHBNZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmFwcE1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBTdGl0Y2hSZXF1ZXN0LkJ1aWxkZXIoKVxuICAgICAgICAgICAgLndpdGhNZXRob2QoTWV0aG9kLkdFVClcbiAgICAgICAgICAgIC53aXRoUGF0aCh0aGlzLnJvdXRlcy5hcHBNZXRhZGF0YVJvdXRlKVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRvUmVxdWVzdFRvVVJMLmNhbGwodGhpcywgcmVxdWVzdCwgdGhpcy5iYXNlVXJsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgICAgIF90aGlzLmFwcE1ldGFkYXRhID0gQXBwTWV0YWRhdGEuZnJvbUpTT04oRUpTT04ucGFyc2UocmVzcC5ib2R5KSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYXBwTWV0YWRhdGE7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQ7XG59KEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50KSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hBcHBSZXF1ZXN0Q2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwUmVxdWVzdENsaWVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBCYXNlU3RpdGNoUmVxdWVzdENsaWVudCBmcm9tIFwiLi9CYXNlU3RpdGNoUmVxdWVzdENsaWVudFwiO1xudmFyIFN0aXRjaFJlcXVlc3RDbGllbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hSZXF1ZXN0Q2xpZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaFJlcXVlc3RDbGllbnQoYmFzZVVybCwgdHJhbnNwb3J0KSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBiYXNlVXJsLCB0cmFuc3BvcnQpIHx8IHRoaXM7XG4gICAgfVxuICAgIFN0aXRjaFJlcXVlc3RDbGllbnQucHJvdG90eXBlLmRvUmVxdWVzdCA9IGZ1bmN0aW9uIChzdGl0Y2hSZXEpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZG9SZXF1ZXN0VG9VUkwuY2FsbCh0aGlzLCBzdGl0Y2hSZXEsIHRoaXMuYmFzZVVybCk7XG4gICAgfTtcbiAgICBTdGl0Y2hSZXF1ZXN0Q2xpZW50LnByb3RvdHlwZS5kb1N0cmVhbVJlcXVlc3QgPSBmdW5jdGlvbiAoc3RpdGNoUmVxLCBvcGVuLCByZXRyeVJlcXVlc3QpIHtcbiAgICAgICAgaWYgKG9wZW4gPT09IHZvaWQgMCkgeyBvcGVuID0gdHJ1ZTsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5kb1N0cmVhbVJlcXVlc3RUb1VSTC5jYWxsKHRoaXMsIHN0aXRjaFJlcSwgdGhpcy5iYXNlVXJsLCBvcGVuLCByZXRyeVJlcXVlc3QpO1xuICAgIH07XG4gICAgU3RpdGNoUmVxdWVzdENsaWVudC5wcm90b3R5cGUuZ2V0QmFzZVVSTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmJhc2VVcmwpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaFJlcXVlc3RDbGllbnQ7XG59KEJhc2VTdGl0Y2hSZXF1ZXN0Q2xpZW50KSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hSZXF1ZXN0Q2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoUmVxdWVzdENsaWVudC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFJlYmluZEV2ZW50LCBSZWJpbmRFdmVudFR5cGUgfSBmcm9tIFwiLi9SZWJpbmRFdmVudFwiO1xudmFyIEF1dGhSZWJpbmRFdmVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEF1dGhSZWJpbmRFdmVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdXRoUmViaW5kRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHlwZSA9IFJlYmluZEV2ZW50VHlwZS5BVVRIX0VWRU5UO1xuICAgICAgICBfdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBdXRoUmViaW5kRXZlbnQ7XG59KFJlYmluZEV2ZW50KSk7XG5leHBvcnQgZGVmYXVsdCBBdXRoUmViaW5kRXZlbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRoUmViaW5kRXZlbnQuanMubWFwIiwidmFyIFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24oYmFzZVVybCwgc3RvcmFnZSwgZGF0YURpcmVjdG9yeSwgdHJhbnNwb3J0KSB7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgICAgIHRoaXMuZGF0YURpcmVjdG9yeSA9IGRhdGFEaXJlY3Rvcnk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgIH1cbiAgICBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLnByb3RvdHlwZS5idWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcih0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24gfTtcbihmdW5jdGlvbiAoU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbikge1xuICAgIHZhciBCdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQnVpbGRlcihjb25maWcpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSBjb25maWcuYmFzZVVybDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2UgPSBjb25maWcuc3RvcmFnZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFEaXJlY3RvcnkgPSBjb25maWcuZGF0YURpcmVjdG9yeTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IGNvbmZpZy50cmFuc3BvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aEJhc2VVcmwgPSBmdW5jdGlvbiAoYmFzZVVybCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS53aXRoU3RvcmFnZSA9IGZ1bmN0aW9uIChzdG9yYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhEYXRhRGlyZWN0b3J5ID0gZnVuY3Rpb24gKGRhdGFEaXJlY3RvcnkpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YURpcmVjdG9yeSA9IGRhdGFEaXJlY3Rvcnk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aFRyYW5zcG9ydCA9IGZ1bmN0aW9uICh0cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uKHRoaXMuYmFzZVVybCwgdGhpcy5zdG9yYWdlLCB0aGlzLmRhdGFEaXJlY3RvcnksIHRoaXMudHJhbnNwb3J0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEJ1aWxkZXI7XG4gICAgfSgpKTtcbiAgICBTdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIgPSBCdWlsZGVyO1xufSkoU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbiB8fCAoU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbiA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hDbGllbnRDb25maWd1cmF0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbiB9IGZyb20gXCIuL1N0aXRjaENsaWVudENvbmZpZ3VyYXRpb25cIjtcbnZhciBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uKGNvbmZpZywgbG9jYWxBcHBOYW1lLCBsb2NhbEFwcFZlcnNpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnLmJhc2VVcmwsIGNvbmZpZy5zdG9yYWdlLCBjb25maWcuZGF0YURpcmVjdG9yeSwgY29uZmlnLnRyYW5zcG9ydCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9jYWxBcHBWZXJzaW9uID0gbG9jYWxBcHBWZXJzaW9uO1xuICAgICAgICBfdGhpcy5sb2NhbEFwcE5hbWUgPSBsb2NhbEFwcE5hbWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbi5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbjtcbn0oU3RpdGNoQ2xpZW50Q29uZmlndXJhdGlvbikpO1xuZXhwb3J0IHsgU3RpdGNoQXBwQ2xpZW50Q29uZmlndXJhdGlvbiB9O1xuKGZ1bmN0aW9uIChTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uKSB7XG4gICAgdmFyIEJ1aWxkZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQnVpbGRlciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQnVpbGRlcihjb25maWcpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcbiAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2NhbEFwcFZlcnNpb24gPSBjb25maWcubG9jYWxBcHBWZXJzaW9uO1xuICAgICAgICAgICAgICAgIF90aGlzLmxvY2FsQXBwTmFtZSA9IGNvbmZpZy5sb2NhbEFwcE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQnVpbGRlci5wcm90b3R5cGUud2l0aExvY2FsQXBwTmFtZSA9IGZ1bmN0aW9uIChsb2NhbEFwcE5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYWxBcHBOYW1lID0gbG9jYWxBcHBOYW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIEJ1aWxkZXIucHJvdG90eXBlLndpdGhMb2NhbEFwcFZlcnNpb24gPSBmdW5jdGlvbiAobG9jYWxBcHBWZXJzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2FsQXBwVmVyc2lvbiA9IGxvY2FsQXBwVmVyc2lvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICBCdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb25maWcgPSBfc3VwZXIucHJvdG90eXBlLmJ1aWxkLmNhbGwodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24oY29uZmlnLCB0aGlzLmxvY2FsQXBwTmFtZSwgdGhpcy5sb2NhbEFwcFZlcnNpb24pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQnVpbGRlcjtcbiAgICB9KFN0aXRjaENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcikpO1xuICAgIFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlciA9IEJ1aWxkZXI7XG59KShTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uIHx8IChTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uanMubWFwIiwidmFyIFN0aXRjaEFwcENsaWVudEluZm8gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaEFwcENsaWVudEluZm8oY2xpZW50QXBwSWQsIGRhdGFEaXJlY3RvcnksIGxvY2FsQXBwTmFtZSwgbG9jYWxBcHBWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMuY2xpZW50QXBwSWQgPSBjbGllbnRBcHBJZDtcbiAgICAgICAgdGhpcy5kYXRhRGlyZWN0b3J5ID0gZGF0YURpcmVjdG9yeTtcbiAgICAgICAgdGhpcy5sb2NhbEFwcE5hbWUgPSBsb2NhbEFwcE5hbWU7XG4gICAgICAgIHRoaXMubG9jYWxBcHBWZXJzaW9uID0gbG9jYWxBcHBWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gU3RpdGNoQXBwQ2xpZW50SW5mbztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdGl0Y2hBcHBDbGllbnRJbmZvO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwQ2xpZW50SW5mby5qcy5tYXAiLCJpbXBvcnQgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwgZnJvbSBcIi4vaW50ZXJuYWwvVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGxcIjtcbmV4cG9ydCB2YXIgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudDtcbihmdW5jdGlvbiAoVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCkge1xuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuZmFjdG9yeSA9IG5ldyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBjbGFzc18xKCkge1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldENsaWVudCA9IGZ1bmN0aW9uIChhdXRoUmVxdWVzdENsaWVudCwgcmVxdWVzdENsaWVudCwgcm91dGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsKGF1dGhSZXF1ZXN0Q2xpZW50LCByb3V0ZXMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICB9KCkpKCk7XG59KShVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50IHx8IChVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQuanMubWFwIiwiaW1wb3J0IHsgRmFjZWJvb2tBdXRoUHJvdmlkZXIgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbnZhciBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFjZWJvb2tSZWRpcmVjdENyZWRlbnRpYWwocmVkaXJlY3RVcmwsIHByb3ZpZGVyTmFtZSwgcHJvdmlkZXJUeXBlKSB7XG4gICAgICAgIGlmIChwcm92aWRlck5hbWUgPT09IHZvaWQgMCkgeyBwcm92aWRlck5hbWUgPSBGYWNlYm9va0F1dGhQcm92aWRlci5ERUZBVUxUX05BTUU7IH1cbiAgICAgICAgaWYgKHByb3ZpZGVyVHlwZSA9PT0gdm9pZCAwKSB7IHByb3ZpZGVyVHlwZSA9IEZhY2Vib29rQXV0aFByb3ZpZGVyLlRZUEU7IH1cbiAgICAgICAgdGhpcy5yZWRpcmVjdFVybCA9IHJlZGlyZWN0VXJsO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBwcm92aWRlclR5cGU7XG4gICAgfVxuICAgIHJldHVybiBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGYWNlYm9va1JlZGlyZWN0Q3JlZGVudGlhbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZhY2Vib29rUmVkaXJlY3RDcmVkZW50aWFsLmpzLm1hcCIsImltcG9ydCB7IEdvb2dsZUF1dGhQcm92aWRlciB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIEdvb2dsZVJlZGlyZWN0Q3JlZGVudGlhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsKHJlZGlyZWN0VXJsLCBwcm92aWRlck5hbWUsIHByb3ZpZGVyVHlwZSkge1xuICAgICAgICBpZiAocHJvdmlkZXJOYW1lID09PSB2b2lkIDApIHsgcHJvdmlkZXJOYW1lID0gR29vZ2xlQXV0aFByb3ZpZGVyLkRFRkFVTFRfTkFNRTsgfVxuICAgICAgICBpZiAocHJvdmlkZXJUeXBlID09PSB2b2lkIDApIHsgcHJvdmlkZXJUeXBlID0gR29vZ2xlQXV0aFByb3ZpZGVyLlRZUEU7IH1cbiAgICAgICAgdGhpcy5yZWRpcmVjdFVybCA9IHJlZGlyZWN0VXJsO1xuICAgICAgICB0aGlzLnByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZTtcbiAgICAgICAgdGhpcy5wcm92aWRlclR5cGUgPSBwcm92aWRlclR5cGU7XG4gICAgfVxuICAgIHJldHVybiBHb29nbGVSZWRpcmVjdENyZWRlbnRpYWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgR29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R29vZ2xlUmVkaXJlY3RDcmVkZW50aWFsLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgQ29yZVVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnQgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbnZhciBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsKHJlcXVlc3RDbGllbnQsIHJvdXRlcykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcmVxdWVzdENsaWVudCwgcm91dGVzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlQXBpS2V5ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY3JlYXRlQXBpS2V5LmNhbGwodGhpcywgbmFtZSk7XG4gICAgfTtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuZmV0Y2hBcGlLZXkgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZmV0Y2hBcGlLZXkuY2FsbCh0aGlzLCBrZXlJZCk7XG4gICAgfTtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuZmV0Y2hBcGlLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5mZXRjaEFwaUtleXMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5kZWxldGVBcGlLZXkgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZGVsZXRlQXBpS2V5LmNhbGwodGhpcywga2V5SWQpO1xuICAgIH07XG4gICAgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGwucHJvdG90eXBlLmVuYWJsZUFwaUtleSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5lbmFibGVBcGlLZXkuY2FsbCh0aGlzLCBrZXlJZCk7XG4gICAgfTtcbiAgICBVc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuZGlzYWJsZUFwaUtleSA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5kaXNhYmxlQXBpS2V5LmNhbGwodGhpcywga2V5SWQpO1xuICAgIH07XG4gICAgcmV0dXJuIFVzZXJBcGlLZXlBdXRoUHJvdmlkZXJDbGllbnRJbXBsO1xufShDb3JlVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudCkpO1xuZXhwb3J0IGRlZmF1bHQgVXNlckFwaUtleUF1dGhQcm92aWRlckNsaWVudEltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyQXBpS2V5QXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IENvcmVVc2VyUGFzc0F1dGhQcm92aWRlckNsaWVudCwgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG52YXIgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbChyZXF1ZXN0Q2xpZW50LCByb3V0ZXMpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlci5ERUZBVUxUX05BTUUsIHJlcXVlc3RDbGllbnQsIHJvdXRlcykgfHwgdGhpcztcbiAgICB9XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUucmVnaXN0ZXJXaXRoRW1haWwgPSBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlZ2lzdGVyV2l0aEVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCwgcGFzc3dvcmQpO1xuICAgIH07XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuY29uZmlybVVzZXIgPSBmdW5jdGlvbiAodG9rZW4sIHRva2VuSWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuY29uZmlybVVzZXJJbnRlcm5hbC5jYWxsKHRoaXMsIHRva2VuLCB0b2tlbklkKTtcbiAgICB9O1xuICAgIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwucHJvdG90eXBlLnJlc2VuZENvbmZpcm1hdGlvbkVtYWlsID0gZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlc2VuZENvbmZpcm1hdGlvbkVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCk7XG4gICAgfTtcbiAgICBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKHRva2VuLCB0b2tlbklkLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkSW50ZXJuYWwuY2FsbCh0aGlzLCB0b2tlbiwgdG9rZW5JZCwgcGFzc3dvcmQpO1xuICAgIH07XG4gICAgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbC5wcm90b3R5cGUuc2VuZFJlc2V0UGFzc3dvcmRFbWFpbCA9IGZ1bmN0aW9uIChlbWFpbCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zZW5kUmVzZXRQYXNzd29yZEVtYWlsSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCk7XG4gICAgfTtcbiAgICBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnRJbXBsLnByb3RvdHlwZS5jYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uID0gZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCwgYXJncykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jYWxsUmVzZXRQYXNzd29yZEZ1bmN0aW9uSW50ZXJuYWwuY2FsbCh0aGlzLCBlbWFpbCwgcGFzc3dvcmQsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGw7XG59KENvcmVVc2VyUGFzc0F1dGhQcm92aWRlckNsaWVudCkpO1xuZXhwb3J0IGRlZmF1bHQgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwuanMubWFwIiwiaW1wb3J0IFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudEltcGwgZnJvbSBcIi4vaW50ZXJuYWwvVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbFwiO1xuZXhwb3J0IHZhciBVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQ7XG4oZnVuY3Rpb24gKFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCkge1xuICAgIFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudC5mYWN0b3J5ID0gbmV3IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XG4gICAgICAgIH1cbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0Q2xpZW50ID0gZnVuY3Rpb24gKGF1dGhSZXF1ZXN0Q2xpZW50LCByZXF1ZXN0Q2xpZW50LCByb3V0ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVXNlclBhc3N3b3JkQXV0aFByb3ZpZGVyQ2xpZW50SW1wbChyZXF1ZXN0Q2xpZW50LCByb3V0ZXMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICB9KCkpKCk7XG59KShVc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQgfHwgKFVzZXJQYXNzd29yZEF1dGhQcm92aWRlckNsaWVudCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Vc2VyUGFzc3dvcmRBdXRoUHJvdmlkZXJDbGllbnQuanMubWFwIiwidmFyIHN1cHBvcnQgPSB7XG4gIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gIGJsb2I6XG4gICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAnQmxvYicgaW4gc2VsZiAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxufVxuXG5mdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbn1cblxuaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gIF1cblxuICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPVxuICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgfVxuICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICB9XG4gIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbmZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gIHZhciBpdGVyYXRvciA9IHtcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGl0ZXJhdG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdGhpcy5tYXAgPSB7fVxuXG4gIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgIH0sIHRoaXMpXG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWVcbn1cblxuSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgfVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChuYW1lKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpdGVtcy5wdXNoKHZhbHVlKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbmlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG59XG5cbmZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gIH1cbiAgYm9keS5ib2R5VXNlZCA9IHRydWVcbn1cblxuZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgIH1cbiAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICB9IGVsc2Uge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBCb2R5KCkge1xuICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYm9keSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3RlZFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxudmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gIHJldHVybiBtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSA/IHVwY2FzZWQgOiBtZXRob2Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgIH1cbiAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbFxuICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICB9XG5cbiAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nXG4gIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgfVxuICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWxcbiAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICB9XG4gIHRoaXMuX2luaXRCb2R5KGJvZHkpXG59XG5cblJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7Ym9keTogdGhpcy5fYm9keUluaXR9KVxufVxuXG5mdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gIGJvZHlcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgcmV0dXJuIGZvcm1cbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgIGlmIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgfVxuICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG5Cb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge31cbiAgfVxuXG4gIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1c1xuICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG59XG5cbkJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cblJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICB1cmw6IHRoaXMudXJsXG4gIH0pXG59XG5cblJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gIHJldHVybiByZXNwb25zZVxufVxuXG52YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG59XG5cbmV4cG9ydCB2YXIgRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb25cbnRyeSB7XG4gIG5ldyBET01FeGNlcHRpb24oKVxufSBjYXRjaCAoZXJyKSB7XG4gIERPTUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIG5hbWUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHZhciBlcnJvciA9IEVycm9yKG1lc3NhZ2UpXG4gICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrXG4gIH1cbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRE9NRXhjZXB0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaChpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgZnVuY3Rpb24gYWJvcnRYaHIoKSB7XG4gICAgICB4aHIuYWJvcnQoKVxuICAgIH1cblxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgIH1cblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgfVxuXG4gICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ29taXQnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgIH1cblxuICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICB9KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuXG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERPTkUgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gIH0pXG59XG5cbmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXG5pZiAoIXNlbGYuZmV0Y2gpIHtcbiAgc2VsZi5mZXRjaCA9IGZldGNoXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2Vcbn1cbiIsImltcG9ydCB7IFJlc3BvbnNlLCBTdGl0Y2hDbGllbnRFcnJvciwgU3RpdGNoQ2xpZW50RXJyb3JDb2RlIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgeyBmZXRjaCBhcyBmZXRjaCB9IGZyb20gJ3doYXR3Zy1mZXRjaCc7XG52YXIgQnJvd3NlckZldGNoVHJhbnNwb3J0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyRmV0Y2hUcmFuc3BvcnQoKSB7XG4gICAgfVxuICAgIEJyb3dzZXJGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUucm91bmRUcmlwID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlUHJvbWlzZSA9IGZldGNoKHJlcXVlc3QudXJsLCB7XG4gICAgICAgICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmVzcG9uc2VUZXh0UHJvbWlzZSA9IHJlc3BvbnNlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbcmVzcG9uc2VQcm9taXNlLCByZXNwb25zZVRleHRQcm9taXNlXSkudGhlbihmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgYm9keSA9IHZhbHVlc1sxXTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShoZWFkZXJzLCByZXNwb25zZS5zdGF0dXMsIGJvZHkpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEJyb3dzZXJGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc3RyZWFtID0gZnVuY3Rpb24gKHJlcXVlc3QsIG9wZW4sIHJldHJ5UmVxdWVzdCkge1xuICAgICAgICBpZiAob3BlbiA9PT0gdm9pZCAwKSB7IG9wZW4gPSB0cnVlOyB9XG4gICAgICAgIHRocm93IG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuU3RyZWFtaW5nTm90U3VwcG9ydGVkKTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRmV0Y2hUcmFuc3BvcnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQnJvd3NlckZldGNoVHJhbnNwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckZldGNoVHJhbnNwb3J0LmpzLm1hcCIsInZhciBSZWRpcmVjdEZyYWdtZW50RmllbGRzO1xuKGZ1bmN0aW9uIChSZWRpcmVjdEZyYWdtZW50RmllbGRzKSB7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlN0aXRjaEVycm9yXCJdID0gXCJfc3RpdGNoX2Vycm9yXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlN0YXRlXCJdID0gXCJfc3RpdGNoX3N0YXRlXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIlVzZXJBdXRoXCJdID0gXCJfc3RpdGNoX3VhXCI7XG4gICAgUmVkaXJlY3RGcmFnbWVudEZpZWxkc1tcIkxpbmtVc2VyXCJdID0gXCJfc3RpdGNoX2xpbmtfdXNlclwiO1xuICAgIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHNbXCJTdGl0Y2hMaW5rXCJdID0gXCJfc3RpdGNoX2xpbmtcIjtcbiAgICBSZWRpcmVjdEZyYWdtZW50RmllbGRzW1wiQ2xpZW50QXBwSWRcIl0gPSBcIl9zdGl0Y2hfY2xpZW50X2FwcF9pZFwiO1xufSkoUmVkaXJlY3RGcmFnbWVudEZpZWxkcyB8fCAoUmVkaXJlY3RGcmFnbWVudEZpZWxkcyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBSZWRpcmVjdEZyYWdtZW50RmllbGRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVkaXJlY3RGcmFnbWVudEZpZWxkcy5qcy5tYXAiLCJ2YXIgc3RpdGNoUHJlZml4S2V5ID0gXCJfX3N0aXRjaC5jbGllbnRcIjtcbnZhciBMb2NhbFN0b3JhZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsU3RvcmFnZShzdWl0ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zdWl0ZU5hbWUgPSBzdWl0ZU5hbWU7XG4gICAgfVxuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5nZXRLZXkoa2V5KSk7XG4gICAgfTtcbiAgICBMb2NhbFN0b3JhZ2UucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuZ2V0S2V5KGtleSksIHZhbHVlKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmdldEtleShrZXkpKTtcbiAgICB9O1xuICAgIExvY2FsU3RvcmFnZS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24gKGZvcktleSkge1xuICAgICAgICByZXR1cm4gc3RpdGNoUHJlZml4S2V5ICsgXCIuXCIgKyB0aGlzLnN1aXRlTmFtZSArIFwiLlwiICsgZm9yS2V5O1xuICAgIH07XG4gICAgcmV0dXJuIExvY2FsU3RvcmFnZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBMb2NhbFN0b3JhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Mb2NhbFN0b3JhZ2UuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBCYXNlRXZlbnRTdHJlYW0sIEV2ZW50LCBTdGl0Y2hDbGllbnRFcnJvciwgU3RpdGNoQ2xpZW50RXJyb3JDb2RlLCBTdGl0Y2hFdmVudCB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIEV2ZW50U291cmNlRXZlbnRTdHJlYW0gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFdmVudFNvdXJjZUV2ZW50U3RyZWFtLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV2ZW50U291cmNlRXZlbnRTdHJlYW0oZXZ0U3JjLCBvbk9wZW4sIG9uT3BlbkVycm9yLCByZWNvbm5lY3Rlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZWNvbm5lY3RlcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXZ0U3JjID0gZXZ0U3JjO1xuICAgICAgICBfdGhpcy5vbk9wZW5FcnJvciA9IG9uT3BlbkVycm9yO1xuICAgICAgICBfdGhpcy5vcGVuZWRPbmNlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmV2dFNyYy5vbm9wZW4gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgb25PcGVuKF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLm9wZW5lZE9uY2UgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEV2ZW50U291cmNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5TdHJlYW1DbG9zZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFdmVudFNvdXJjZUV2ZW50U3RyZWFtLnByb3RvdHlwZS5hZnRlckNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmV2dFNyYy5jbG9zZSgpO1xuICAgIH07XG4gICAgRXZlbnRTb3VyY2VFdmVudFN0cmVhbS5wcm90b3R5cGUub25SZWNvbm5lY3QgPSBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICB0aGlzLmV2dFNyYyA9IG5leHQuZXZ0U3JjO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV4dC5ldmVudHMuY29uY2F0KHRoaXMuZXZlbnRzKTtcbiAgICB9O1xuICAgIEV2ZW50U291cmNlRXZlbnRTdHJlYW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmV2dFNyYy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnB1c2gobmV3IEV2ZW50KEV2ZW50Lk1FU1NBR0VfRVZFTlQsIGUuZGF0YSkpO1xuICAgICAgICAgICAgX3RoaXMucG9sbCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV2dFNyYy5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEVyciA9IGUuZGF0YTtcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMucHVzaChuZXcgRXZlbnQoU3RpdGNoRXZlbnQuRVJST1JfRVZFTlRfTkFNRSwgX3RoaXMubGFzdEVycikpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMucG9sbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMub3BlbmVkT25jZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMub25PcGVuRXJyb3IobmV3IEVycm9yKFwiZXZlbnQgc291cmNlIGZhaWxlZCB0byBvcGVuIGFuZCB3aWxsIG5vdCByZWNvbm5lY3Q7IGNoZWNrIG5ldHdvcmsgbG9nIGZvciBtb3JlIGRldGFpbHNcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmV2dFNyYy5jbG9zZSgpO1xuICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRTb3VyY2VFdmVudFN0cmVhbTtcbn0oQmFzZUV2ZW50U3RyZWFtKSk7XG5leHBvcnQgZGVmYXVsdCBFdmVudFNvdXJjZUV2ZW50U3RyZWFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRTb3VyY2VFdmVudFN0cmVhbS5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgQ29udGVudFR5cGVzLCBoYW5kbGVSZXF1ZXN0RXJyb3IsIEhlYWRlcnMsIFJlc3BvbnNlIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgeyBmZXRjaCBhcyBmZXRjaCB9IGZyb20gJ3doYXR3Zy1mZXRjaCc7XG5pbXBvcnQgQnJvd3NlckZldGNoVHJhbnNwb3J0IGZyb20gXCIuL0Jyb3dzZXJGZXRjaFRyYW5zcG9ydFwiO1xuaW1wb3J0IEV2ZW50U291cmNlRXZlbnRTdHJlYW0gZnJvbSBcIi4vRXZlbnRTb3VyY2VFdmVudFN0cmVhbVwiO1xudmFyIEJyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0LnByb3RvdHlwZS5zdHJlYW0gPSBmdW5jdGlvbiAocmVxdWVzdCwgb3BlbiwgcmV0cnlSZXF1ZXN0KSB7XG4gICAgICAgIGlmIChvcGVuID09PSB2b2lkIDApIHsgb3BlbiA9IHRydWU7IH1cbiAgICAgICAgdmFyIHJlcUhlYWRlcnMgPSBfX2Fzc2lnbih7fSwgcmVxdWVzdC5oZWFkZXJzKTtcbiAgICAgICAgcmVxSGVhZGVyc1tIZWFkZXJzLkFDQ0VQVF0gPSBDb250ZW50VHlwZXMuVEVYVF9FVkVOVF9TVFJFQU07XG4gICAgICAgIHJlcUhlYWRlcnNbSGVhZGVycy5DT05URU5UX1RZUEVdID0gQ29udGVudFR5cGVzLlRFWFRfRVZFTlRfU1RSRUFNO1xuICAgICAgICByZXR1cm4gZmV0Y2gocmVxdWVzdC51cmwgKyBcIiZzdGl0Y2hfdmFsaWRhdGU9dHJ1ZVwiLCB7XG4gICAgICAgICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiByZXFIZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJ1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgdmFyIHJlc3BIZWFkZXJzID0ge307XG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXNwSGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJvZHkpIHsgcmV0dXJuIGhhbmRsZVJlcXVlc3RFcnJvcihuZXcgUmVzcG9uc2UocmVzcEhlYWRlcnMsIHJlc3BvbnNlLnN0YXR1cywgYm9keSkpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFdmVudFNvdXJjZUV2ZW50U3RyZWFtKG5ldyBFdmVudFNvdXJjZShyZXF1ZXN0LnVybCksIGZ1bmN0aW9uIChzdHJlYW0pIHsgcmV0dXJuIHJlc29sdmUoc3RyZWFtKTsgfSwgZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiByZWplY3QoZXJyb3IpOyB9LCByZXRyeVJlcXVlc3QgP1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiByZXRyeVJlcXVlc3QoKS50aGVuKGZ1bmN0aW9uIChlcykgeyByZXR1cm4gZXM7IH0pOyB9XG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQ7XG59KEJyb3dzZXJGZXRjaFRyYW5zcG9ydCkpO1xuZXhwb3J0IGRlZmF1bHQgQnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckZldGNoU3RyZWFtVHJhbnNwb3J0LmpzLm1hcCIsInZhciBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RpdGNoU2VydmljZUNsaWVudEltcGwocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgIH1cbiAgICBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuY2FsbEZ1bmN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MsIGNvZGVjKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmNhbGxGdW5jdGlvbihuYW1lLCBhcmdzLCBjb2RlYyk7XG4gICAgfTtcbiAgICBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGUuc3RyZWFtRnVuY3Rpb24gPSBmdW5jdGlvbiAobmFtZSwgYXJncywgY29kZWMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuc3RyZWFtRnVuY3Rpb24obmFtZSwgYXJncywgY29kZWMpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaFNlcnZpY2VDbGllbnRJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0aXRjaFNlcnZpY2VDbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoU2VydmljZUNsaWVudEltcGwuanMubWFwIiwidmFyIFJlZGlyZWN0S2V5cztcbihmdW5jdGlvbiAoUmVkaXJlY3RLZXlzKSB7XG4gICAgUmVkaXJlY3RLZXlzW1wiUHJvdmlkZXJOYW1lXCJdID0gXCJfc3RpdGNoX3JlZGlyZWN0X3Byb3ZpZGVyX25hbWVcIjtcbiAgICBSZWRpcmVjdEtleXNbXCJQcm92aWRlclR5cGVcIl0gPSBcIl9zdGl0Y2hfcmVkaXJlY3RfcHJvdmlkZXJfdHlwZVwiO1xuICAgIFJlZGlyZWN0S2V5c1tcIlN0YXRlXCJdID0gXCJfc3RpdGNoX3JlZGlyZWN0X3N0YXRlXCI7XG59KShSZWRpcmVjdEtleXMgfHwgKFJlZGlyZWN0S2V5cyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBSZWRpcmVjdEtleXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWRpcmVjdEtleXMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBTdGl0Y2hFcnJvciB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xudmFyIFN0aXRjaFJlZGlyZWN0RXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdGl0Y2hSZWRpcmVjdEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaFJlZGlyZWN0RXJyb3IobXNnKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtc2cpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdGl0Y2hSZWRpcmVjdEVycm9yO1xufShTdGl0Y2hFcnJvcikpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoUmVkaXJlY3RFcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaFJlZGlyZWN0RXJyb3IuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBDb3JlU3RpdGNoVXNlckltcGwgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbnZhciBTdGl0Y2hVc2VySW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaFVzZXJJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaFVzZXJJbXBsKGlkLCBsb2dnZWRJblByb3ZpZGVyVHlwZSwgbG9nZ2VkSW5Qcm92aWRlck5hbWUsIGlzTG9nZ2VkSW4sIGxhc3RBdXRoQWN0aXZpdHksIHByb2ZpbGUsIGF1dGgsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaWQsIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgaXNMb2dnZWRJbiwgbGFzdEF1dGhBY3Rpdml0eSwgcHJvZmlsZSwgY3VzdG9tRGF0YSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYXV0aCA9IGF1dGg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RpdGNoVXNlckltcGwucHJvdG90eXBlLmxpbmtXaXRoQ3JlZGVudGlhbCA9IGZ1bmN0aW9uIChjcmVkZW50aWFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGgubGlua1dpdGhDcmVkZW50aWFsKHRoaXMsIGNyZWRlbnRpYWwpO1xuICAgIH07XG4gICAgU3RpdGNoVXNlckltcGwucHJvdG90eXBlLmxpbmtVc2VyV2l0aFJlZGlyZWN0ID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXV0aC5saW5rV2l0aFJlZGlyZWN0SW50ZXJuYWwodGhpcywgY3JlZGVudGlhbCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RpdGNoVXNlckltcGw7XG59KENvcmVTdGl0Y2hVc2VySW1wbCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoVXNlckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hVc2VySW1wbC5qcy5tYXAiLCJpbXBvcnQgU3RpdGNoVXNlckltcGwgZnJvbSBcIi4vU3RpdGNoVXNlckltcGxcIjtcbnZhciBTdGl0Y2hVc2VyRmFjdG9yeUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaFVzZXJGYWN0b3J5SW1wbChhdXRoKSB7XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgfVxuICAgIFN0aXRjaFVzZXJGYWN0b3J5SW1wbC5wcm90b3R5cGUubWFrZVVzZXIgPSBmdW5jdGlvbiAoaWQsIGxvZ2dlZEluUHJvdmlkZXJUeXBlLCBsb2dnZWRJblByb3ZpZGVyTmFtZSwgaXNMb2dnZWRJbiwgbGFzdEF1dGhBY3Rpdml0eSwgdXNlclByb2ZpbGUsIGN1c3RvbURhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hVc2VySW1wbChpZCwgbG9nZ2VkSW5Qcm92aWRlclR5cGUsIGxvZ2dlZEluUHJvdmlkZXJOYW1lLCBpc0xvZ2dlZEluLCBsYXN0QXV0aEFjdGl2aXR5LCB1c2VyUHJvZmlsZSwgdGhpcy5hdXRoLCBjdXN0b21EYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hVc2VyRmFjdG9yeUltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoVXNlckZhY3RvcnlJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoVXNlckZhY3RvcnlJbXBsLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuaW1wb3J0IHsgZGV0ZWN0IH0gZnJvbSBcImRldGVjdC1icm93c2VyXCI7XG5pbXBvcnQgeyBBdXRoRXZlbnRLaW5kLCBBdXRoSW5mbywgQ29yZVN0aXRjaEF1dGgsIERldmljZUZpZWxkcywgU3RpdGNoQXV0aFJlc3BvbnNlQ3JlZGVudGlhbCwgU3RpdGNoQ2xpZW50RXJyb3IsIFN0aXRjaENsaWVudEVycm9yQ29kZSB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xuaW1wb3J0IHZlcnNpb24gZnJvbSBcIi4uLy4uL2ludGVybmFsL2NvbW1vbi9WZXJzaW9uXCI7XG5pbXBvcnQgUmVkaXJlY3RGcmFnbWVudEZpZWxkcyBmcm9tIFwiLi9SZWRpcmVjdEZyYWdtZW50RmllbGRzXCI7XG5pbXBvcnQgUmVkaXJlY3RLZXlzIGZyb20gXCIuL1JlZGlyZWN0S2V5c1wiO1xuaW1wb3J0IFN0aXRjaFJlZGlyZWN0RXJyb3IgZnJvbSBcIi4vU3RpdGNoUmVkaXJlY3RFcnJvclwiO1xuaW1wb3J0IFN0aXRjaFVzZXJGYWN0b3J5SW1wbCBmcm9tIFwiLi9TdGl0Y2hVc2VyRmFjdG9yeUltcGxcIjtcbnZhciBhbHBoYU51bWVyaWNDaGFyYWN0ZXJzID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xudmFyIFN0aXRjaEF1dGhJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RpdGNoQXV0aEltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQXV0aEltcGwocmVxdWVzdENsaWVudCwgYnJvd3NlckF1dGhSb3V0ZXMsIGF1dGhTdG9yYWdlLCBhcHBJbmZvLCBqc2RvbVdpbmRvdykge1xuICAgICAgICBpZiAoanNkb21XaW5kb3cgPT09IHZvaWQgMCkgeyBqc2RvbVdpbmRvdyA9IHdpbmRvdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByZXF1ZXN0Q2xpZW50LCBicm93c2VyQXV0aFJvdXRlcywgYXV0aFN0b3JhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJyb3dzZXJBdXRoUm91dGVzID0gYnJvd3NlckF1dGhSb3V0ZXM7XG4gICAgICAgIF90aGlzLmF1dGhTdG9yYWdlID0gYXV0aFN0b3JhZ2U7XG4gICAgICAgIF90aGlzLmFwcEluZm8gPSBhcHBJbmZvO1xuICAgICAgICBfdGhpcy5qc2RvbVdpbmRvdyA9IGpzZG9tV2luZG93O1xuICAgICAgICBfdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIF90aGlzLnN5bmNocm9ub3VzTGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUsIFwidXNlckZhY3RvcnlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RpdGNoVXNlckZhY3RvcnlJbXBsKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuZ2V0UHJvdmlkZXJDbGllbnQgPSBmdW5jdGlvbiAoZmFjdG9yeSwgcHJvdmlkZXJOYW1lKSB7XG4gICAgICAgIGlmIChpc0F1dGhQcm92aWRlckNsaWVudEZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmdldENsaWVudCh0aGlzLCB0aGlzLnJlcXVlc3RDbGllbnQsIHRoaXMuYXV0aFJvdXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5nZXROYW1lZENsaWVudChwcm92aWRlck5hbWUsIHRoaXMucmVxdWVzdENsaWVudCwgdGhpcy5hdXRoUm91dGVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmxvZ2luV2l0aENyZWRlbnRpYWwgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5sb2dpbldpdGhDcmVkZW50aWFsSW50ZXJuYWwuY2FsbCh0aGlzLCBjcmVkZW50aWFsKTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5sb2dpbldpdGhSZWRpcmVjdCA9IGZ1bmN0aW9uIChjcmVkZW50aWFsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJlcGFyZVJlZGlyZWN0KGNyZWRlbnRpYWwpLCByZWRpcmVjdFVybCA9IF9hLnJlZGlyZWN0VXJsLCBzdGF0ZSA9IF9hLnN0YXRlO1xuICAgICAgICB0aGlzLnJlcXVlc3RDbGllbnQuZ2V0QmFzZVVSTCgpLnRoZW4oZnVuY3Rpb24gKGJhc2VVcmwpIHtcbiAgICAgICAgICAgIF90aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYmFzZVVybCArXG4gICAgICAgICAgICAgICAgX3RoaXMuYnJvd3NlckF1dGhSb3V0ZXMuZ2V0QXV0aFByb3ZpZGVyUmVkaXJlY3RSb3V0ZShjcmVkZW50aWFsLCByZWRpcmVjdFVybCwgc3RhdGUsIF90aGlzLmRldmljZUluZm8pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUubGlua1dpdGhSZWRpcmVjdEludGVybmFsID0gZnVuY3Rpb24gKHVzZXIsIGNyZWRlbnRpYWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMudXNlciAhPT0gdW5kZWZpbmVkICYmIHVzZXIuaWQgIT09IHRoaXMudXNlci5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBTdGl0Y2hDbGllbnRFcnJvcihTdGl0Y2hDbGllbnRFcnJvckNvZGUuVXNlck5vTG9uZ2VyVmFsaWQpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLnByZXBhcmVSZWRpcmVjdChjcmVkZW50aWFsKSwgcmVkaXJlY3RVcmwgPSBfYS5yZWRpcmVjdFVybCwgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdENsaWVudC5nZXRCYXNlVVJMKCkudGhlbihmdW5jdGlvbiAoYmFzZVVybCkge1xuICAgICAgICAgICAgdmFyIGxpbmsgPSBiYXNlVXJsICtcbiAgICAgICAgICAgICAgICBfdGhpcy5icm93c2VyQXV0aFJvdXRlcy5nZXRBdXRoUHJvdmlkZXJMaW5rUmVkaXJlY3RSb3V0ZShjcmVkZW50aWFsLCByZWRpcmVjdFVybCwgc3RhdGUsIF90aGlzLmRldmljZUluZm8pO1xuICAgICAgICAgICAgcmV0dXJuIChTdGl0Y2hBdXRoSW1wbC5pbmplY3RlZEZldGNoID8gU3RpdGNoQXV0aEltcGwuaW5qZWN0ZWRGZXRjaCA6IGZldGNoKShuZXcgUmVxdWVzdChsaW5rLCB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBfdGhpcy5hdXRoSW5mby5hY2Nlc3NUb2tlblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBfdGhpcy5qc2RvbVdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiWC1TdGl0Y2gtTG9jYXRpb25cIikpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5oYXNSZWRpcmVjdFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzVmFsaWQgPSB0aGlzLnBhcnNlUmVkaXJlY3QoKS5pc1ZhbGlkO1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cFJlZGlyZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5oYW5kbGVSZWRpcmVjdFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlck5hbWUgPSB0aGlzLmF1dGhTdG9yYWdlLmdldChSZWRpcmVjdEtleXMuUHJvdmlkZXJOYW1lKTtcbiAgICAgICAgICAgIHZhciBwcm92aWRlclR5cGUgPSB0aGlzLmF1dGhTdG9yYWdlLmdldChSZWRpcmVjdEtleXMuUHJvdmlkZXJUeXBlKTtcbiAgICAgICAgICAgIHZhciByZWRpcmVjdEZyYWdtZW50ID0gdGhpcy5wYXJzZVJlZGlyZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dpbldpdGhDcmVkZW50aWFsSW50ZXJuYWwobmV3IFN0aXRjaEF1dGhSZXNwb25zZUNyZWRlbnRpYWwodGhpcy5wcm9jZXNzUmVkaXJlY3RSZXN1bHQocmVkaXJlY3RGcmFnbWVudCksIHByb3ZpZGVyVHlwZSwgcHJvdmlkZXJOYW1lLCByZWRpcmVjdEZyYWdtZW50LmFzTGluaykpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsgcmV0dXJuIHVzZXI7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUubGlua1dpdGhDcmVkZW50aWFsID0gZnVuY3Rpb24gKHVzZXIsIGNyZWRlbnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUubGlua1VzZXJXaXRoQ3JlZGVudGlhbEludGVybmFsLmNhbGwodGhpcywgdXNlciwgY3JlZGVudGlhbCk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUubG9nb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgU3RpdGNoQ2xpZW50RXJyb3IoU3RpdGNoQ2xpZW50RXJyb3JDb2RlLlVuZXhwZWN0ZWRBcmd1bWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5sb2dvdXRJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmxvZ291dFVzZXJXaXRoSWQgPSBmdW5jdGlvbiAodXNlcklkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmxvZ291dFVzZXJXaXRoSWRJbnRlcm5hbC5jYWxsKHRoaXMsIHVzZXJJZCk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucmVtb3ZlVXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFN0aXRjaENsaWVudEVycm9yKFN0aXRjaENsaWVudEVycm9yQ29kZS5VbmV4cGVjdGVkQXJndW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVtb3ZlVXNlckludGVybmFsLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucmVtb3ZlVXNlcldpdGhJZCA9IGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVtb3ZlVXNlcldpdGhJZEludGVybmFsLmNhbGwodGhpcywgdXNlcklkKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUsIFwiZGV2aWNlSW5mb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0RldmljZUlkKSB7XG4gICAgICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuREVWSUNFX0lEXSA9IHRoaXMuZGV2aWNlSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBJbmZvLmxvY2FsQXBwTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuQVBQX0lEXSA9IHRoaXMuYXBwSW5mby5sb2NhbEFwcE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBJbmZvLmxvY2FsQXBwVmVyc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuQVBQX1ZFUlNJT05dID0gdGhpcy5hcHBJbmZvLmxvY2FsQXBwVmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBicm93c2VyID0gZGV0ZWN0KCk7XG4gICAgICAgICAgICBpZiAoYnJvd3Nlcikge1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLlBMQVRGT1JNXSA9IGJyb3dzZXIubmFtZTtcbiAgICAgICAgICAgICAgICBpbmZvW0RldmljZUZpZWxkcy5QTEFURk9STV9WRVJTSU9OXSA9IGJyb3dzZXIudmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZm9bRGV2aWNlRmllbGRzLlBMQVRGT1JNXSA9IFwid2ViXCI7XG4gICAgICAgICAgICAgICAgaW5mb1tEZXZpY2VGaWVsZHMuUExBVEZPUk1fVkVSU0lPTl0gPSBcIjAuMC4wXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmZvW0RldmljZUZpZWxkcy5TREtfVkVSU0lPTl0gPSB2ZXJzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5hZGRBdXRoTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5vbkF1dGhFdmVudChsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hBdXRoRXZlbnQoe1xuICAgICAgICAgICAga2luZDogQXV0aEV2ZW50S2luZC5MaXN0ZW5lclJlZ2lzdGVyZWQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmFkZFN5bmNocm9ub3VzQXV0aExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMub25BdXRoRXZlbnQobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQXV0aEV2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuTGlzdGVuZXJSZWdpc3RlcmVkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5yZW1vdmVBdXRoTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5vbkF1dGhFdmVudCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHZhciBfMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uQXV0aEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uQXV0aEV2ZW50KF90aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkF1dGhFdmVudChvbmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5kaXNwYXRjaEF1dGhFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgQXV0aEV2ZW50S2luZC5BY3RpdmVVc2VyQ2hhbmdlZDpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmxvY2tUb0xpc3RlbmVycyhmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uQWN0aXZlVXNlckNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uQWN0aXZlVXNlckNoYW5nZWQoX3RoaXMsIGV2ZW50LmN1cnJlbnRBY3RpdmVVc2VyLCBldmVudC5wcmV2aW91c0FjdGl2ZVVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhFdmVudEtpbmQuTGlzdGVuZXJSZWdpc3RlcmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25MaXN0ZW5lclJlZ2lzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uTGlzdGVuZXJSZWdpc3RlcmVkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBdXRoRXZlbnRLaW5kLlVzZXJBZGRlZDpcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmxvY2tUb0xpc3RlbmVycyhmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm9uVXNlckFkZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblVzZXJBZGRlZChfdGhpcywgZXZlbnQuYWRkZWRVc2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBdXRoRXZlbnRLaW5kLlVzZXJMaW5rZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vblVzZXJMaW5rZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uVXNlckxpbmtlZChfdGhpcywgZXZlbnQubGlua2VkVXNlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aEV2ZW50S2luZC5Vc2VyTG9nZ2VkSW46XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vblVzZXJMb2dnZWRJbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25Vc2VyTG9nZ2VkSW4oX3RoaXMsIGV2ZW50LmxvZ2dlZEluVXNlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXV0aEV2ZW50S2luZC5Vc2VyTG9nZ2VkT3V0OlxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25Vc2VyTG9nZ2VkT3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblVzZXJMb2dnZWRPdXQoX3RoaXMsIGV2ZW50LmxvZ2dlZE91dFVzZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEF1dGhFdmVudEtpbmQuVXNlclJlbW92ZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJsb2NrVG9MaXN0ZW5lcnMoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5vblVzZXJSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblVzZXJSZW1vdmVkKF90aGlzLCBldmVudC5yZW1vdmVkVXNlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TmV2ZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucmVmcmVzaEN1c3RvbURhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hBY2Nlc3NUb2tlbigpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLmFzc2VydE5ldmVyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBvYmplY3Q6IFwiICsgeCk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUuZGlzcGF0Y2hCbG9ja1RvTGlzdGVuZXJzID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gICAgICAgIHRoaXMuc3luY2hyb25vdXNMaXN0ZW5lcnMuZm9yRWFjaChibG9jayk7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgXyA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgYmxvY2sobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0aXRjaEF1dGhJbXBsLnByb3RvdHlwZS5jbGVhbnVwUmVkaXJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuanNkb21XaW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgdGhpcy5wYWdlUm9vdFVybCgpKTtcbiAgICAgICAgdGhpcy5hdXRoU3RvcmFnZS5yZW1vdmUoUmVkaXJlY3RLZXlzLlN0YXRlKTtcbiAgICAgICAgdGhpcy5hdXRoU3RvcmFnZS5yZW1vdmUoUmVkaXJlY3RLZXlzLlByb3ZpZGVyTmFtZSk7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2UucmVtb3ZlKFJlZGlyZWN0S2V5cy5Qcm92aWRlclR5cGUpO1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnBhcnNlUmVkaXJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5qc2RvbVdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlZGlyZWN0RXJyb3IoXCJydW5uaW5nIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uIHx8ICF0aGlzLmpzZG9tV2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZWRpcmVjdEVycm9yKFwid2luZG93IGxvY2F0aW9uIGhhc2ggd2FzIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3VyU3RhdGUgPSB0aGlzLmF1dGhTdG9yYWdlLmdldChSZWRpcmVjdEtleXMuU3RhdGUpO1xuICAgICAgICB2YXIgcmVkaXJlY3RGcmFnbWVudCA9IHRoaXMuanNkb21XaW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7XG4gICAgICAgIHJldHVybiBwYXJzZVJlZGlyZWN0RnJhZ21lbnQocmVkaXJlY3RGcmFnbWVudCwgb3VyU3RhdGUsIHRoaXMuYXBwSW5mby5jbGllbnRBcHBJZCk7XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucHJvY2Vzc1JlZGlyZWN0UmVzdWx0ID0gZnVuY3Rpb24gKHJlZGlyZWN0RnJhZ21lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghcmVkaXJlY3RGcmFnbWVudC5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlZGlyZWN0RXJyb3IoXCJpbnZhbGlkIHJlZGlyZWN0IHJlc3VsdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZWRpcmVjdEZyYWdtZW50Lmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdGl0Y2hSZWRpcmVjdEVycm9yKFwiZXJyb3IgaGFuZGxpbmcgcmVkaXJlY3Q6IFwiICsgcmVkaXJlY3RGcmFnbWVudC5sYXN0RXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZWRpcmVjdEZyYWdtZW50LmF1dGhJbmZvKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0aXRjaFJlZGlyZWN0RXJyb3IoXCJubyB1c2VyIGF1dGggdmFsdWUgd2FzIGZvdW5kOiBpdCBjb3VsZCBub3QgYmUgZGVjb2RlZCBmcm9tIGZyYWdtZW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFJlZGlyZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZGlyZWN0RnJhZ21lbnQuYXV0aEluZm87XG4gICAgfTtcbiAgICBTdGl0Y2hBdXRoSW1wbC5wcm90b3R5cGUucHJlcGFyZVJlZGlyZWN0ID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwpIHtcbiAgICAgICAgdGhpcy5hdXRoU3RvcmFnZS5zZXQoUmVkaXJlY3RLZXlzLlByb3ZpZGVyTmFtZSwgY3JlZGVudGlhbC5wcm92aWRlck5hbWUpO1xuICAgICAgICB0aGlzLmF1dGhTdG9yYWdlLnNldChSZWRpcmVjdEtleXMuUHJvdmlkZXJUeXBlLCBjcmVkZW50aWFsLnByb3ZpZGVyVHlwZSk7XG4gICAgICAgIHZhciByZWRpcmVjdFVybCA9IGNyZWRlbnRpYWwucmVkaXJlY3RVcmw7XG4gICAgICAgIGlmIChyZWRpcmVjdFVybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZWRpcmVjdFVybCA9IHRoaXMucGFnZVJvb3RVcmwoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGUgPSBnZW5lcmF0ZVN0YXRlKCk7XG4gICAgICAgIHRoaXMuYXV0aFN0b3JhZ2Uuc2V0KFJlZGlyZWN0S2V5cy5TdGF0ZSwgc3RhdGUpO1xuICAgICAgICByZXR1cm4geyByZWRpcmVjdFVybDogcmVkaXJlY3RVcmwsIHN0YXRlOiBzdGF0ZSB9O1xuICAgIH07XG4gICAgU3RpdGNoQXV0aEltcGwucHJvdG90eXBlLnBhZ2VSb290VXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgdGhpcy5qc2RvbVdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCxcbiAgICAgICAgICAgIFwiLy9cIixcbiAgICAgICAgICAgIHRoaXMuanNkb21XaW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICAgICAgICAgIHRoaXMuanNkb21XaW5kb3cubG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgXS5qb2luKFwiXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEF1dGhJbXBsO1xufShDb3JlU3RpdGNoQXV0aCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXV0aEltcGw7XG5mdW5jdGlvbiBnZW5lcmF0ZVN0YXRlKCkge1xuICAgIHZhciBzdGF0ZSA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2NDsgKytpKSB7XG4gICAgICAgIHN0YXRlICs9IGFscGhhTnVtZXJpY0NoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFscGhhTnVtZXJpY0NoYXJhY3RlcnMubGVuZ3RoKSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVubWFyc2hhbGxVc2VyQXV0aChkYXRhKSB7XG4gICAgdmFyIHBhcnRzID0gZGF0YS5zcGxpdChcIiRcIik7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gNCkge1xuICAgICAgICB0aHJvdyBuZXcgU3RpdGNoUmVkaXJlY3RFcnJvcihcImludmFsaWQgdXNlciBhdXRoIGRhdGEgcHJvdmlkZWQgd2hpbGUgXCIgK1xuICAgICAgICAgICAgXCJtYXJzaGFsbGluZyB1c2VyIGF1dGhlbnRpY2F0aW9uIGRhdGE6IFwiICtcbiAgICAgICAgICAgIGRhdGEpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBfX3JlYWQocGFydHMsIDQpLCBhY2Nlc3NUb2tlbiA9IF9hWzBdLCByZWZyZXNoVG9rZW4gPSBfYVsxXSwgdXNlcklkID0gX2FbMl0sIGRldmljZUlkID0gX2FbM107XG4gICAgcmV0dXJuIG5ldyBBdXRoSW5mbyh1c2VySWQsIGRldmljZUlkLCBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuKTtcbn1cbnZhciBQYXJzZWRSZWRpcmVjdEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJzZWRSZWRpcmVjdEZyYWdtZW50KCkge1xuICAgICAgICB0aGlzLnN0YXRlVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGllbnRBcHBJZFZhbGlkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXNMaW5rID0gZmFsc2U7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJzZWRSZWRpcmVjdEZyYWdtZW50LnByb3RvdHlwZSwgXCJpc1ZhbGlkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZVZhbGlkICYmIHRoaXMuY2xpZW50QXBwSWRWYWxpZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFBhcnNlZFJlZGlyZWN0RnJhZ21lbnQ7XG59KCkpO1xuZnVuY3Rpb24gcGFyc2VSZWRpcmVjdEZyYWdtZW50KGZyYWdtZW50LCBvdXJTdGF0ZSwgb3VyQ2xpZW50QXBwSWQpIHtcbiAgICB2YXIgdmFycyA9IGZyYWdtZW50LnNwbGl0KFwiJlwiKTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFBhcnNlZFJlZGlyZWN0RnJhZ21lbnQoKTtcbiAgICB2YXJzLmZvckVhY2goZnVuY3Rpb24gKGt2cCkge1xuICAgICAgICB2YXIgcGFpclBhcnRzID0ga3ZwLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIHBhaXJLZXkgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclBhcnRzWzBdKTtcbiAgICAgICAgc3dpdGNoIChwYWlyS2V5KSB7XG4gICAgICAgICAgICBjYXNlIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHMuU3RpdGNoRXJyb3I6XG4gICAgICAgICAgICAgICAgcmVzdWx0Lmxhc3RFcnJvciA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyUGFydHNbMV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBSZWRpcmVjdEZyYWdtZW50RmllbGRzLlVzZXJBdXRoOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hdXRoSW5mbyA9IHVubWFyc2hhbGxVc2VyQXV0aChkZWNvZGVVUklDb21wb25lbnQocGFpclBhcnRzWzFdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5sYXN0RXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVkaXJlY3RGcmFnbWVudEZpZWxkcy5TdGl0Y2hMaW5rOlxuICAgICAgICAgICAgICAgIGlmIChwYWlyUGFydHNbMV0gPT09IFwib2tcIikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXNMaW5rID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJlZGlyZWN0RnJhZ21lbnRGaWVsZHMuU3RhdGU6XG4gICAgICAgICAgICAgICAgdmFyIHRoZWlyU3RhdGUgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclBhcnRzWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAob3VyU3RhdGUgPT09IHRoZWlyU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXRlVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUmVkaXJlY3RGcmFnbWVudEZpZWxkcy5DbGllbnRBcHBJZDpcbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50QXBwSWQgPSBkZWNvZGVVUklDb21wb25lbnQocGFpclBhcnRzWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAob3VyQ2xpZW50QXBwSWQgPT09IGNsaWVudEFwcElkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jbGllbnRBcHBJZFZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGlzQXV0aFByb3ZpZGVyQ2xpZW50RmFjdG9yeShmYWN0b3J5KSB7XG4gICAgcmV0dXJuIChmYWN0b3J5LmdldENsaWVudCAhPT0gdW5kZWZpbmVkKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEF1dGhJbXBsLmpzLm1hcCIsInZhciB2ZXJzaW9uID0gXCI0LjguMFwiO1xuZXhwb3J0IHsgdmVyc2lvbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZXJzaW9uLmpzLm1hcFxuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBiYXNlNjRFbmNvZGUsIFN0aXRjaEFwcEF1dGhSb3V0ZXMgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbnZhciBTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzKGNsaWVudEFwcElkKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjbGllbnRBcHBJZCkgfHwgdGhpcztcbiAgICB9XG4gICAgU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlclJlZGlyZWN0Um91dGUgPSBmdW5jdGlvbiAoY3JlZGVudGlhbCwgcmVkaXJlY3RVcmwsIHN0YXRlLCBkZXZpY2VJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF1dGhQcm92aWRlckxvZ2luUm91dGUoY3JlZGVudGlhbC5wcm92aWRlck5hbWUpICsgXCI/cmVkaXJlY3Q9XCIgKyBlbmNvZGVVUkkocmVkaXJlY3RVcmwpICsgXCImc3RhdGU9XCIgKyBzdGF0ZSArIFwiJmRldmljZT1cIiArIHRoaXMudXJpRW5jb2RlT2JqZWN0KGRldmljZUluZm8pO1xuICAgIH07XG4gICAgU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXMucHJvdG90eXBlLmdldEF1dGhQcm92aWRlckxpbmtSZWRpcmVjdFJvdXRlID0gZnVuY3Rpb24gKGNyZWRlbnRpYWwsIHJlZGlyZWN0VXJsLCBzdGF0ZSwgZGV2aWNlSW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdXRoUHJvdmlkZXJMb2dpblJvdXRlKGNyZWRlbnRpYWwucHJvdmlkZXJOYW1lKSArIFwiP3JlZGlyZWN0PVwiICsgZW5jb2RlVVJJKHJlZGlyZWN0VXJsKSArIFwiJnN0YXRlPVwiICsgc3RhdGUgKyBcIiZkZXZpY2U9XCIgKyB0aGlzLnVyaUVuY29kZU9iamVjdChkZXZpY2VJbmZvKSArIFwiJmxpbms9dHJ1ZSZwcm92aWRlclJlZGlyZWN0SGVhZGVyPXRydWVcIjtcbiAgICB9O1xuICAgIFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzLnByb3RvdHlwZS51cmlFbmNvZGVPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoYmFzZTY0RW5jb2RlKEpTT04uc3RyaW5naWZ5KG9iaikpKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcztcbn0oU3RpdGNoQXBwQXV0aFJvdXRlcykpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQnJvd3NlckFwcEF1dGhSb3V0ZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcy5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFN0aXRjaEFwcFJvdXRlcyB9IGZyb20gXCJtb25nb2RiLXN0aXRjaC1jb3JlLXNka1wiO1xuaW1wb3J0IFN0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzIGZyb20gXCIuL1N0aXRjaEJyb3dzZXJBcHBBdXRoUm91dGVzXCI7XG52YXIgU3RpdGNoQnJvd3NlckFwcFJvdXRlcyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0aXRjaEJyb3dzZXJBcHBSb3V0ZXMsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RpdGNoQnJvd3NlckFwcFJvdXRlcyhjbGllbnRBcHBJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjbGllbnRBcHBJZCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYXV0aFJvdXRlcyA9IG5ldyBTdGl0Y2hCcm93c2VyQXBwQXV0aFJvdXRlcyhjbGllbnRBcHBJZCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIFN0aXRjaEJyb3dzZXJBcHBSb3V0ZXM7XG59KFN0aXRjaEFwcFJvdXRlcykpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQnJvd3NlckFwcFJvdXRlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0aXRjaEJyb3dzZXJBcHBSb3V0ZXMuanMubWFwIiwiaW1wb3J0IHsgQXV0aEV2ZW50S2luZCwgQXV0aFJlYmluZEV2ZW50LCBDb3JlU3RpdGNoQXBwQ2xpZW50LCBDb3JlU3RpdGNoU2VydmljZUNsaWVudEltcGwsIFN0aXRjaEFwcENsaWVudEluZm8sIFN0aXRjaEFwcFJlcXVlc3RDbGllbnQgfSBmcm9tIFwibW9uZ29kYi1zdGl0Y2gtY29yZS1zZGtcIjtcbmltcG9ydCBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCBmcm9tIFwiLi4vLi4vc2VydmljZXMvaW50ZXJuYWwvU3RpdGNoU2VydmljZUNsaWVudEltcGxcIjtcbmltcG9ydCBTdGl0Y2hBdXRoSW1wbCBmcm9tIFwiLi4vYXV0aC9pbnRlcm5hbC9TdGl0Y2hBdXRoSW1wbFwiO1xuaW1wb3J0IFN0aXRjaEJyb3dzZXJBcHBSb3V0ZXMgZnJvbSBcIi4uL2F1dGgvaW50ZXJuYWwvU3RpdGNoQnJvd3NlckFwcFJvdXRlc1wiO1xudmFyIFN0aXRjaEFwcENsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0aXRjaEFwcENsaWVudEltcGwoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmluZm8gPSBuZXcgU3RpdGNoQXBwQ2xpZW50SW5mbyhjbGllbnRBcHBJZCwgY29uZmlnLmRhdGFEaXJlY3RvcnksIGNvbmZpZy5sb2NhbEFwcE5hbWUsIGNvbmZpZy5sb2NhbEFwcFZlcnNpb24pO1xuICAgICAgICB0aGlzLnJvdXRlcyA9IG5ldyBTdGl0Y2hCcm93c2VyQXBwUm91dGVzKHRoaXMuaW5mby5jbGllbnRBcHBJZCk7XG4gICAgICAgIHZhciByZXF1ZXN0Q2xpZW50ID0gbmV3IFN0aXRjaEFwcFJlcXVlc3RDbGllbnQoY2xpZW50QXBwSWQsIGNvbmZpZy5iYXNlVXJsLCBjb25maWcudHJhbnNwb3J0KTtcbiAgICAgICAgdGhpcy5hdXRoID0gbmV3IFN0aXRjaEF1dGhJbXBsKHJlcXVlc3RDbGllbnQsIHRoaXMucm91dGVzLmF1dGhSb3V0ZXMsIGNvbmZpZy5zdG9yYWdlLCB0aGlzLmluZm8pO1xuICAgICAgICB0aGlzLmNvcmVDbGllbnQgPSBuZXcgQ29yZVN0aXRjaEFwcENsaWVudCh0aGlzLmF1dGgsIHRoaXMucm91dGVzKTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlQ2xpZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmF1dGguYWRkU3luY2hyb25vdXNBdXRoTGlzdGVuZXIodGhpcyk7XG4gICAgfVxuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmdldFNlcnZpY2VDbGllbnQgPSBmdW5jdGlvbiAoZmFjdG9yeSwgc2VydmljZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzU2VydmljZUNsaWVudEZhY3RvcnkoZmFjdG9yeSkpIHtcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlQ2xpZW50ID0gbmV3IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCh0aGlzLmF1dGgsIHRoaXMucm91dGVzLnNlcnZpY2VSb3V0ZXMsIFwiXCIpO1xuICAgICAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmdldENsaWVudChzZXJ2aWNlQ2xpZW50LCB0aGlzLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2VDbGllbnQgPSBuZXcgQ29yZVN0aXRjaFNlcnZpY2VDbGllbnRJbXBsKHRoaXMuYXV0aCwgdGhpcy5yb3V0ZXMuc2VydmljZVJvdXRlcywgc2VydmljZU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmdldE5hbWVkQ2xpZW50KHNlcnZpY2VDbGllbnQsIHRoaXMuaW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmdldEdlbmVyYWxTZXJ2aWNlQ2xpZW50ID0gZnVuY3Rpb24gKHNlcnZpY2VOYW1lKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlQ2xpZW50ID0gbmV3IENvcmVTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbCh0aGlzLmF1dGgsIHRoaXMucm91dGVzLnNlcnZpY2VSb3V0ZXMsIHNlcnZpY2VOYW1lKTtcbiAgICAgICAgdGhpcy5iaW5kU2VydmljZUNsaWVudChzZXJ2aWNlQ2xpZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGl0Y2hTZXJ2aWNlQ2xpZW50SW1wbChzZXJ2aWNlQ2xpZW50KTtcbiAgICB9O1xuICAgIFN0aXRjaEFwcENsaWVudEltcGwucHJvdG90eXBlLmNhbGxGdW5jdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcmVDbGllbnQuY2FsbEZ1bmN0aW9uKG5hbWUsIGFyZ3MpO1xuICAgIH07XG4gICAgU3RpdGNoQXBwQ2xpZW50SW1wbC5wcm90b3R5cGUub25BY3RpdmVVc2VyQ2hhbmdlZCA9IGZ1bmN0aW9uIChfLCBjdXJyZW50QWN0aXZlVXNlciwgcHJldmlvdXNBY3RpdmVVc2VyKSB7XG4gICAgICAgIHRoaXMub25SZWJpbmRFdmVudChuZXcgQXV0aFJlYmluZEV2ZW50KHtcbiAgICAgICAgICAgIGN1cnJlbnRBY3RpdmVVc2VyOiBjdXJyZW50QWN0aXZlVXNlcixcbiAgICAgICAgICAgIGtpbmQ6IEF1dGhFdmVudEtpbmQuQWN0aXZlVXNlckNoYW5nZWQsXG4gICAgICAgICAgICBwcmV2aW91c0FjdGl2ZVVzZXI6IHByZXZpb3VzQWN0aXZlVXNlclxuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBTdGl0Y2hBcHBDbGllbnRJbXBsLnByb3RvdHlwZS5iaW5kU2VydmljZUNsaWVudCA9IGZ1bmN0aW9uIChjb3JlU3RpdGNoU2VydmljZUNsaWVudCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VDbGllbnRzLnB1c2goY29yZVN0aXRjaFNlcnZpY2VDbGllbnQpO1xuICAgIH07XG4gICAgU3RpdGNoQXBwQ2xpZW50SW1wbC5wcm90b3R5cGUub25SZWJpbmRFdmVudCA9IGZ1bmN0aW9uIChyZWJpbmRFdmVudCkge1xuICAgICAgICB0aGlzLnNlcnZpY2VDbGllbnRzLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2VDbGllbnQpIHtcbiAgICAgICAgICAgIHNlcnZpY2VDbGllbnQub25SZWJpbmRFdmVudChyZWJpbmRFdmVudCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFN0aXRjaEFwcENsaWVudEltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoQXBwQ2xpZW50SW1wbDtcbmZ1bmN0aW9uIGlzU2VydmljZUNsaWVudEZhY3RvcnkoZmFjdG9yeSkge1xuICAgIHJldHVybiBmYWN0b3J5LmdldENsaWVudCAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoQXBwQ2xpZW50SW1wbC5qcy5tYXAiLCJpbXBvcnQgeyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgTG9jYWxTdG9yYWdlIGZyb20gXCIuL2ludGVybmFsL2NvbW1vbi9Mb2NhbFN0b3JhZ2VcIjtcbmltcG9ydCBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQgZnJvbSBcIi4vaW50ZXJuYWwvbmV0L0Jyb3dzZXJGZXRjaFN0cmVhbVRyYW5zcG9ydFwiO1xuaW1wb3J0IEJyb3dzZXJGZXRjaFRyYW5zcG9ydCBmcm9tIFwiLi9pbnRlcm5hbC9uZXQvQnJvd3NlckZldGNoVHJhbnNwb3J0XCI7XG5pbXBvcnQgU3RpdGNoQXBwQ2xpZW50SW1wbCBmcm9tIFwiLi9pbnRlcm5hbC9TdGl0Y2hBcHBDbGllbnRJbXBsXCI7XG52YXIgREVGQVVMVF9CQVNFX1VSTCA9IFwiaHR0cHM6Ly9zdGl0Y2gubW9uZ29kYi5jb21cIjtcbnZhciBhcHBDbGllbnRzID0ge307XG52YXIgU3RpdGNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGl0Y2goKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdGl0Y2gsIFwiZGVmYXVsdEFwcENsaWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKFN0aXRjaC5kZWZhdWx0Q2xpZW50QXBwSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRlZmF1bHQgYXBwIGNsaWVudCBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkL3NldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHBDbGllbnRzW1N0aXRjaC5kZWZhdWx0Q2xpZW50QXBwSWRdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdGl0Y2guZ2V0QXBwQ2xpZW50ID0gZnVuY3Rpb24gKGNsaWVudEFwcElkKSB7XG4gICAgICAgIGlmIChhcHBDbGllbnRzW2NsaWVudEFwcElkXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjbGllbnQgZm9yIGFwcCAnXCIgKyBjbGllbnRBcHBJZCArIFwiJyBoYXMgbm90IHlldCBiZWVuIGluaXRpYWxpemVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBDbGllbnRzW2NsaWVudEFwcElkXTtcbiAgICB9O1xuICAgIFN0aXRjaC5oYXNBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQpIHtcbiAgICAgICAgcmV0dXJuIGFwcENsaWVudHNbY2xpZW50QXBwSWRdICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdGl0Y2guaW5pdGlhbGl6ZURlZmF1bHRBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gbmV3IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcigpLmJ1aWxkKCk7IH1cbiAgICAgICAgaWYgKGNsaWVudEFwcElkID09PSB1bmRlZmluZWQgfHwgY2xpZW50QXBwSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsaWVudEFwcElkIG11c3QgYmUgc2V0IHRvIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RpdGNoLmRlZmF1bHRDbGllbnRBcHBJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWZhdWx0IGFwcCBjYW4gb25seSBiZSBzZXQgb25jZTsgY3VycmVudGx5IHNldCB0byAnXCIgKyBTdGl0Y2guZGVmYXVsdENsaWVudEFwcElkICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGllbnQgPSBTdGl0Y2guaW5pdGlhbGl6ZUFwcENsaWVudChjbGllbnRBcHBJZCwgY29uZmlnKTtcbiAgICAgICAgU3RpdGNoLmRlZmF1bHRDbGllbnRBcHBJZCA9IGNsaWVudEFwcElkO1xuICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgIH07XG4gICAgU3RpdGNoLmluaXRpYWxpemVBcHBDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50QXBwSWQsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0gbmV3IFN0aXRjaEFwcENsaWVudENvbmZpZ3VyYXRpb24uQnVpbGRlcigpLmJ1aWxkKCk7IH1cbiAgICAgICAgaWYgKGNsaWVudEFwcElkID09PSB1bmRlZmluZWQgfHwgY2xpZW50QXBwSWQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsaWVudEFwcElkIG11c3QgYmUgc2V0IHRvIGEgbm9uLWVtcHR5IHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBwQ2xpZW50c1tjbGllbnRBcHBJZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2xpZW50IGZvciBhcHAgJ1wiICsgY2xpZW50QXBwSWQgKyBcIicgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVpbGRlciA9IGNvbmZpZy5idWlsZGVyID8gY29uZmlnLmJ1aWxkZXIoKSA6IG5ldyBTdGl0Y2hBcHBDbGllbnRDb25maWd1cmF0aW9uLkJ1aWxkZXIoY29uZmlnKTtcbiAgICAgICAgaWYgKGJ1aWxkZXIuc3RvcmFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhTdG9yYWdlKG5ldyBMb2NhbFN0b3JhZ2UoY2xpZW50QXBwSWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVpbGRlci50cmFuc3BvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvd1tcIkV2ZW50U291cmNlXCJdKSB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci53aXRoVHJhbnNwb3J0KG5ldyBCcm93c2VyRmV0Y2hTdHJlYW1UcmFuc3BvcnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndpdGhUcmFuc3BvcnQobmV3IEJyb3dzZXJGZXRjaFRyYW5zcG9ydCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVpbGRlci5iYXNlVXJsID09PSB1bmRlZmluZWQgfHwgYnVpbGRlci5iYXNlVXJsID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhCYXNlVXJsKERFRkFVTFRfQkFTRV9VUkwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWlsZGVyLmxvY2FsQXBwTmFtZSA9PT0gdW5kZWZpbmVkIHx8IGJ1aWxkZXIubG9jYWxBcHBOYW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhMb2NhbEFwcE5hbWUoU3RpdGNoLmxvY2FsQXBwTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1aWxkZXIubG9jYWxBcHBWZXJzaW9uID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIGJ1aWxkZXIubG9jYWxBcHBWZXJzaW9uID09PSBcIlwiKSB7XG4gICAgICAgICAgICBidWlsZGVyLndpdGhMb2NhbEFwcFZlcnNpb24oU3RpdGNoLmxvY2FsQXBwVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsaWVudCA9IG5ldyBTdGl0Y2hBcHBDbGllbnRJbXBsKGNsaWVudEFwcElkLCBidWlsZGVyLmJ1aWxkKCkpO1xuICAgICAgICBhcHBDbGllbnRzW2NsaWVudEFwcElkXSA9IGNsaWVudDtcbiAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICB9O1xuICAgIFN0aXRjaC5jbGVhckFwcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFwcENsaWVudHMgPSB7fTtcbiAgICB9O1xuICAgIHJldHVybiBTdGl0Y2g7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RpdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RpdGNoLmpzLm1hcCIsImV4cG9ydCB2YXIgT3BlcmF0aW9uVHlwZTtcbihmdW5jdGlvbiAoT3BlcmF0aW9uVHlwZSkge1xuICAgIE9wZXJhdGlvblR5cGVbXCJJbnNlcnRcIl0gPSBcImluc2VydFwiO1xuICAgIE9wZXJhdGlvblR5cGVbXCJEZWxldGVcIl0gPSBcImRlbGV0ZVwiO1xuICAgIE9wZXJhdGlvblR5cGVbXCJSZXBsYWNlXCJdID0gXCJyZXBsYWNlXCI7XG4gICAgT3BlcmF0aW9uVHlwZVtcIlVwZGF0ZVwiXSA9IFwidXBkYXRlXCI7XG4gICAgT3BlcmF0aW9uVHlwZVtcIlVua25vd25cIl0gPSBcInVua25vd25cIjtcbn0pKE9wZXJhdGlvblR5cGUgfHwgKE9wZXJhdGlvblR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGlvblR5cGVGcm9tUmVtb3RlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImluc2VydFwiOlxuICAgICAgICAgICAgcmV0dXJuIE9wZXJhdGlvblR5cGUuSW5zZXJ0O1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5EZWxldGU7XG4gICAgICAgIGNhc2UgXCJyZXBsYWNlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5SZXBsYWNlO1xuICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5VcGRhdGU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gT3BlcmF0aW9uVHlwZS5Vbmtub3duO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdGlvblR5cGUuanMubWFwIiwidmFyIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24oY29tbWFuZCwgYXJncywgc2VydmljZSwgZGVjb2Rlcikge1xuICAgICAgICB0aGlzLmNvbW1hbmQgPSBjb21tYW5kO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgICBpZiAoZGVjb2Rlcikge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uRGVjb2RlciA9IG5ldyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9tIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gZGVjb2Rlci5kZWNvZGUodCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZGVjb2Rlci5kZWNvZGUoZnJvbSldO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgICAgICAgICB9KCkpKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZWFkKCkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiByZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyB9KTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVhZCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcmVzWzBdOyB9KTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZWFkKCk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLnByb3RvdHlwZS5hc0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLnByb3RvdHlwZS5leGVjdXRlUmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24odGhpcy5jb21tYW5kLCBbdGhpcy5hcmdzXSwgdGhpcy5jb2xsZWN0aW9uRGVjb2Rlcik7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5qcy5tYXAiLCJ2YXIgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVtb3RlSW5zZXJ0TWFueVJlc3VsdChhcnIpIHtcbiAgICAgICAgdmFyIGluc2VydGVkID0ge307XG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGluc2VydGVkW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbnNlcnRlZElkcyA9IGluc2VydGVkO1xuICAgIH1cbiAgICByZXR1cm4gUmVtb3RlSW5zZXJ0TWFueVJlc3VsdDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZW1vdGVJbnNlcnRNYW55UmVzdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlSW5zZXJ0TWFueVJlc3VsdC5qcy5tYXAiLCJpbXBvcnQgeyBBc3NlcnRpb25zIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2RrXCI7XG5pbXBvcnQgeyBvcGVyYXRpb25UeXBlRnJvbVJlbW90ZSB9IGZyb20gXCIuLi9PcGVyYXRpb25UeXBlXCI7XG5pbXBvcnQgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdCBmcm9tIFwiLi4vUmVtb3RlSW5zZXJ0TWFueVJlc3VsdFwiO1xudmFyIFJlbW90ZUluc2VydE1hbnlSZXN1bHRGaWVsZHM7XG4oZnVuY3Rpb24gKFJlbW90ZUluc2VydE1hbnlSZXN1bHRGaWVsZHMpIHtcbiAgICBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RmllbGRzW1wiSW5zZXJ0ZWRJZHNcIl0gPSBcImluc2VydGVkSWRzXCI7XG59KShSZW1vdGVJbnNlcnRNYW55UmVzdWx0RmllbGRzIHx8IChSZW1vdGVJbnNlcnRNYW55UmVzdWx0RmllbGRzID0ge30pKTtcbnZhciBSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHM7XG4oZnVuY3Rpb24gKFJlbW90ZUluc2VydE9uZVJlc3VsdEZpZWxkcykge1xuICAgIFJlbW90ZUluc2VydE9uZVJlc3VsdEZpZWxkc1tcIkluc2VydGVkSWRcIl0gPSBcImluc2VydGVkSWRcIjtcbn0pKFJlbW90ZUluc2VydE9uZVJlc3VsdEZpZWxkcyB8fCAoUmVtb3RlSW5zZXJ0T25lUmVzdWx0RmllbGRzID0ge30pKTtcbnZhciBSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHM7XG4oZnVuY3Rpb24gKFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkcykge1xuICAgIFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkc1tcIk1hdGNoZWRDb3VudFwiXSA9IFwibWF0Y2hlZENvdW50XCI7XG4gICAgUmVtb3RlVXBkYXRlUmVzdWx0RmllbGRzW1wiTW9kaWZpZWRDb3VudFwiXSA9IFwibW9kaWZpZWRDb3VudFwiO1xuICAgIFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkc1tcIlVwc2VydGVkSWRcIl0gPSBcInVwc2VydGVkSWRcIjtcbn0pKFJlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkcyB8fCAoUmVtb3RlVXBkYXRlUmVzdWx0RmllbGRzID0ge30pKTtcbnZhciBSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHM7XG4oZnVuY3Rpb24gKFJlbW90ZURlbGV0ZVJlc3VsdEZpZWxkcykge1xuICAgIFJlbW90ZURlbGV0ZVJlc3VsdEZpZWxkc1tcIkRlbGV0ZWRDb3VudFwiXSA9IFwiZGVsZXRlZENvdW50XCI7XG59KShSZW1vdGVEZWxldGVSZXN1bHRGaWVsZHMgfHwgKFJlbW90ZURlbGV0ZVJlc3VsdEZpZWxkcyA9IHt9KSk7XG52YXIgVXBkYXRlRGVzY3JpcHRpb25GaWVsZHM7XG4oZnVuY3Rpb24gKFVwZGF0ZURlc2NyaXB0aW9uRmllbGRzKSB7XG4gICAgVXBkYXRlRGVzY3JpcHRpb25GaWVsZHNbXCJVcGRhdGVkRmllbGRzXCJdID0gXCJ1cGRhdGVkRmllbGRzXCI7XG4gICAgVXBkYXRlRGVzY3JpcHRpb25GaWVsZHNbXCJSZW1vdmVkRmllbGRzXCJdID0gXCJyZW1vdmVkRmllbGRzXCI7XG59KShVcGRhdGVEZXNjcmlwdGlvbkZpZWxkcyB8fCAoVXBkYXRlRGVzY3JpcHRpb25GaWVsZHMgPSB7fSkpO1xudmFyIENoYW5nZUV2ZW50RmllbGRzO1xuKGZ1bmN0aW9uIChDaGFuZ2VFdmVudEZpZWxkcykge1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiSWRcIl0gPSBcIl9pZFwiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiT3BlcmF0aW9uVHlwZVwiXSA9IFwib3BlcmF0aW9uVHlwZVwiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiRnVsbERvY3VtZW50XCJdID0gXCJmdWxsRG9jdW1lbnRcIjtcbiAgICBDaGFuZ2VFdmVudEZpZWxkc1tcIkRvY3VtZW50S2V5XCJdID0gXCJkb2N1bWVudEtleVwiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiTmFtZXNwYWNlXCJdID0gXCJuc1wiO1xuICAgIENoYW5nZUV2ZW50RmllbGRzW1wiTmFtZXNwYWNlRGJcIl0gPSBcImRiXCI7XG4gICAgQ2hhbmdlRXZlbnRGaWVsZHNbXCJOYW1lc3BhY2VDb2xsXCJdID0gXCJjb2xsXCI7XG4gICAgQ2hhbmdlRXZlbnRGaWVsZHNbXCJVcGRhdGVEZXNjcmlwdGlvblwiXSA9IFwidXBkYXRlRGVzY3JpcHRpb25cIjtcbn0pKENoYW5nZUV2ZW50RmllbGRzIHx8IChDaGFuZ2VFdmVudEZpZWxkcyA9IHt9KSk7XG52YXIgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzO1xuKGZ1bmN0aW9uIChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMpIHtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJPcGVyYXRpb25UeXBlXCJdID0gXCJvdFwiO1xuICAgIENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkc1tcIkZ1bGxEb2N1bWVudFwiXSA9IFwiZmRcIjtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJEb2N1bWVudEtleVwiXSA9IFwiZGtcIjtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJVcGRhdGVEZXNjcmlwdGlvblwiXSA9IFwidWRcIjtcbiAgICBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHNbXCJTdGl0Y2hEb2N1bWVudFZlcnNpb25cIl0gPSBcInNkdlwiO1xuICAgIENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkc1tcIlN0aXRjaERvY3VtZW50SGFzaFwiXSA9IFwic2RoXCI7XG59KShDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMgfHwgKENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcyA9IHt9KSk7XG52YXIgUmVtb3RlSW5zZXJ0TWFueVJlc3VsdERlY29kZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyKCkge1xuICAgIH1cbiAgICBSZW1vdGVJbnNlcnRNYW55UmVzdWx0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW1vdGVJbnNlcnRNYW55UmVzdWx0KGZyb21bUmVtb3RlSW5zZXJ0TWFueVJlc3VsdEZpZWxkcy5JbnNlcnRlZElkc10pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyO1xufSgpKTtcbnZhciBSZW1vdGVJbnNlcnRPbmVSZXN1bHREZWNvZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVJbnNlcnRPbmVSZXN1bHREZWNvZGVyKCkge1xuICAgIH1cbiAgICBSZW1vdGVJbnNlcnRPbmVSZXN1bHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5zZXJ0ZWRJZDogZnJvbVtSZW1vdGVJbnNlcnRPbmVSZXN1bHRGaWVsZHMuSW5zZXJ0ZWRJZF1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVJbnNlcnRPbmVSZXN1bHREZWNvZGVyO1xufSgpKTtcbnZhciBSZW1vdGVVcGRhdGVSZXN1bHREZWNvZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVVcGRhdGVSZXN1bHREZWNvZGVyKCkge1xuICAgIH1cbiAgICBSZW1vdGVVcGRhdGVSZXN1bHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0Y2hlZENvdW50OiBmcm9tW1JlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkcy5NYXRjaGVkQ291bnRdLFxuICAgICAgICAgICAgbW9kaWZpZWRDb3VudDogZnJvbVtSZW1vdGVVcGRhdGVSZXN1bHRGaWVsZHMuTW9kaWZpZWRDb3VudF0sXG4gICAgICAgICAgICB1cHNlcnRlZElkOiBmcm9tW1JlbW90ZVVwZGF0ZVJlc3VsdEZpZWxkcy5VcHNlcnRlZElkXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZVVwZGF0ZVJlc3VsdERlY29kZXI7XG59KCkpO1xudmFyIFJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIoKSB7XG4gICAgfVxuICAgIFJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZWxldGVkQ291bnQ6IGZyb21bUmVtb3RlRGVsZXRlUmVzdWx0RmllbGRzLkRlbGV0ZWRDb3VudF1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyO1xufSgpKTtcbnZhciBVcGRhdGVEZXNjcmlwdGlvbkRlY29kZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVwZGF0ZURlc2NyaXB0aW9uRGVjb2RlcigpIHtcbiAgICB9XG4gICAgVXBkYXRlRGVzY3JpcHRpb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoVXBkYXRlRGVzY3JpcHRpb25GaWVsZHMuVXBkYXRlZEZpZWxkcywgZnJvbSk7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChVcGRhdGVEZXNjcmlwdGlvbkZpZWxkcy5SZW1vdmVkRmllbGRzLCBmcm9tKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlbW92ZWRGaWVsZHM6IGZyb21bVXBkYXRlRGVzY3JpcHRpb25GaWVsZHMuUmVtb3ZlZEZpZWxkc10sXG4gICAgICAgICAgICB1cGRhdGVkRmllbGRzOiBmcm9tW1VwZGF0ZURlc2NyaXB0aW9uRmllbGRzLlVwZGF0ZWRGaWVsZHNdLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFVwZGF0ZURlc2NyaXB0aW9uRGVjb2Rlcjtcbn0oKSk7XG5mdW5jdGlvbiBkZWNvZGVCYXNlQ2hhbmdlRXZlbnRGaWVsZHMoZnJvbSwgdXBkYXRlRGVzY3JpcHRpb25GaWVsZCwgZnVsbERvY3VtZW50RmllbGQsIGRlY29kZXIpIHtcbiAgICB2YXIgdXBkYXRlRGVzY3JpcHRpb247XG4gICAgaWYgKHVwZGF0ZURlc2NyaXB0aW9uRmllbGQgaW4gZnJvbSkge1xuICAgICAgICB1cGRhdGVEZXNjcmlwdGlvbiA9IFJlc3VsdERlY29kZXJzLnVwZGF0ZURlc2NyaXB0aW9uRGVjb2Rlci5kZWNvZGUoZnJvbVt1cGRhdGVEZXNjcmlwdGlvbkZpZWxkXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB1cGRhdGVEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIGZ1bGxEb2N1bWVudDtcbiAgICBpZiAoZnVsbERvY3VtZW50RmllbGQgaW4gZnJvbSkge1xuICAgICAgICBmdWxsRG9jdW1lbnQgPSBmcm9tW2Z1bGxEb2N1bWVudEZpZWxkXTtcbiAgICAgICAgaWYgKGRlY29kZXIpIHtcbiAgICAgICAgICAgIGZ1bGxEb2N1bWVudCA9IGRlY29kZXIuZGVjb2RlKGZ1bGxEb2N1bWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZ1bGxEb2N1bWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHsgdXBkYXRlRGVzY3JpcHRpb246IHVwZGF0ZURlc2NyaXB0aW9uLCBmdWxsRG9jdW1lbnQ6IGZ1bGxEb2N1bWVudCB9O1xufVxudmFyIENoYW5nZUV2ZW50RGVjb2RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhbmdlRXZlbnREZWNvZGVyKGRlY29kZXIpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gZGVjb2RlcjtcbiAgICB9XG4gICAgQ2hhbmdlRXZlbnREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ2hhbmdlRXZlbnRGaWVsZHMuSWQsIGZyb20pO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ2hhbmdlRXZlbnRGaWVsZHMuT3BlcmF0aW9uVHlwZSwgZnJvbSk7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChDaGFuZ2VFdmVudEZpZWxkcy5OYW1lc3BhY2UsIGZyb20pO1xuICAgICAgICBBc3NlcnRpb25zLmtleVByZXNlbnQoQ2hhbmdlRXZlbnRGaWVsZHMuRG9jdW1lbnRLZXksIGZyb20pO1xuICAgICAgICB2YXIgbnNEb2MgPSBmcm9tW0NoYW5nZUV2ZW50RmllbGRzLk5hbWVzcGFjZV07XG4gICAgICAgIHZhciBfYSA9IGRlY29kZUJhc2VDaGFuZ2VFdmVudEZpZWxkcyhmcm9tLCBDaGFuZ2VFdmVudEZpZWxkcy5VcGRhdGVEZXNjcmlwdGlvbiwgQ2hhbmdlRXZlbnRGaWVsZHMuRnVsbERvY3VtZW50LCB0aGlzLmRlY29kZXIpLCB1cGRhdGVEZXNjcmlwdGlvbiA9IF9hLnVwZGF0ZURlc2NyaXB0aW9uLCBmdWxsRG9jdW1lbnQgPSBfYS5mdWxsRG9jdW1lbnQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb2N1bWVudEtleTogZnJvbVtDaGFuZ2VFdmVudEZpZWxkcy5Eb2N1bWVudEtleV0sXG4gICAgICAgICAgICBmdWxsRG9jdW1lbnQ6IGZ1bGxEb2N1bWVudCxcbiAgICAgICAgICAgIGlkOiBmcm9tW0NoYW5nZUV2ZW50RmllbGRzLklkXSxcbiAgICAgICAgICAgIG5hbWVzcGFjZToge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246IG5zRG9jW0NoYW5nZUV2ZW50RmllbGRzLk5hbWVzcGFjZUNvbGxdLFxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBuc0RvY1tDaGFuZ2VFdmVudEZpZWxkcy5OYW1lc3BhY2VEYl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGVyYXRpb25UeXBlOiBvcGVyYXRpb25UeXBlRnJvbVJlbW90ZShmcm9tW0NoYW5nZUV2ZW50RmllbGRzLk9wZXJhdGlvblR5cGVdKSxcbiAgICAgICAgICAgIHVwZGF0ZURlc2NyaXB0aW9uOiB1cGRhdGVEZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENoYW5nZUV2ZW50RGVjb2Rlcjtcbn0oKSk7XG52YXIgQ29tcGFjdENoYW5nZUV2ZW50RGVjb2RlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGFjdENoYW5nZUV2ZW50RGVjb2RlcihkZWNvZGVyKSB7XG4gICAgICAgIHRoaXMuZGVjb2RlciA9IGRlY29kZXI7XG4gICAgfVxuICAgIENvbXBhY3RDaGFuZ2VFdmVudERlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChmcm9tKSB7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuT3BlcmF0aW9uVHlwZSwgZnJvbSk7XG4gICAgICAgIEFzc2VydGlvbnMua2V5UHJlc2VudChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuRG9jdW1lbnRLZXksIGZyb20pO1xuICAgICAgICB2YXIgX2EgPSBkZWNvZGVCYXNlQ2hhbmdlRXZlbnRGaWVsZHMoZnJvbSwgQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLlVwZGF0ZURlc2NyaXB0aW9uLCBDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuRnVsbERvY3VtZW50LCB0aGlzLmRlY29kZXIpLCB1cGRhdGVEZXNjcmlwdGlvbiA9IF9hLnVwZGF0ZURlc2NyaXB0aW9uLCBmdWxsRG9jdW1lbnQgPSBfYS5mdWxsRG9jdW1lbnQ7XG4gICAgICAgIHZhciBzdGl0Y2hEb2N1bWVudFZlcnNpb247XG4gICAgICAgIGlmIChDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuU3RpdGNoRG9jdW1lbnRWZXJzaW9uIGluIGZyb20pIHtcbiAgICAgICAgICAgIHN0aXRjaERvY3VtZW50VmVyc2lvbiA9IGZyb21bQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLlN0aXRjaERvY3VtZW50VmVyc2lvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGl0Y2hEb2N1bWVudFZlcnNpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0aXRjaERvY3VtZW50SGFzaDtcbiAgICAgICAgaWYgKENvbXBhY3RDaGFuZ2VFdmVudEZpZWxkcy5TdGl0Y2hEb2N1bWVudEhhc2ggaW4gZnJvbSkge1xuICAgICAgICAgICAgc3RpdGNoRG9jdW1lbnRIYXNoID0gZnJvbVtDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuU3RpdGNoRG9jdW1lbnRIYXNoXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0aXRjaERvY3VtZW50SGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9jdW1lbnRLZXk6IGZyb21bQ29tcGFjdENoYW5nZUV2ZW50RmllbGRzLkRvY3VtZW50S2V5XSxcbiAgICAgICAgICAgIGZ1bGxEb2N1bWVudDogZnVsbERvY3VtZW50LFxuICAgICAgICAgICAgb3BlcmF0aW9uVHlwZTogb3BlcmF0aW9uVHlwZUZyb21SZW1vdGUoZnJvbVtDb21wYWN0Q2hhbmdlRXZlbnRGaWVsZHMuT3BlcmF0aW9uVHlwZV0pLFxuICAgICAgICAgICAgc3RpdGNoRG9jdW1lbnRIYXNoOiBzdGl0Y2hEb2N1bWVudEhhc2gsXG4gICAgICAgICAgICBzdGl0Y2hEb2N1bWVudFZlcnNpb246IHN0aXRjaERvY3VtZW50VmVyc2lvbixcbiAgICAgICAgICAgIHVwZGF0ZURlc2NyaXB0aW9uOiB1cGRhdGVEZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wYWN0Q2hhbmdlRXZlbnREZWNvZGVyO1xufSgpKTtcbnZhciBSZXN1bHREZWNvZGVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzdWx0RGVjb2RlcnMoKSB7XG4gICAgfVxuICAgIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyID0gbmV3IFJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyKCk7XG4gICAgUmVzdWx0RGVjb2RlcnMucmVtb3RlSW5zZXJ0T25lUmVzdWx0RGVjb2RlciA9IG5ldyBSZW1vdGVJbnNlcnRPbmVSZXN1bHREZWNvZGVyKCk7XG4gICAgUmVzdWx0RGVjb2RlcnMucmVtb3RlVXBkYXRlUmVzdWx0RGVjb2RlciA9IG5ldyBSZW1vdGVVcGRhdGVSZXN1bHREZWNvZGVyKCk7XG4gICAgUmVzdWx0RGVjb2RlcnMucmVtb3RlRGVsZXRlUmVzdWx0RGVjb2RlciA9IG5ldyBSZW1vdGVEZWxldGVSZXN1bHREZWNvZGVyKCk7XG4gICAgUmVzdWx0RGVjb2RlcnMudXBkYXRlRGVzY3JpcHRpb25EZWNvZGVyID0gbmV3IFVwZGF0ZURlc2NyaXB0aW9uRGVjb2RlcigpO1xuICAgIFJlc3VsdERlY29kZXJzLkNoYW5nZUV2ZW50RGVjb2RlciA9IENoYW5nZUV2ZW50RGVjb2RlcjtcbiAgICBSZXN1bHREZWNvZGVycy5Db21wYWN0Q2hhbmdlRXZlbnREZWNvZGVyID0gQ29tcGFjdENoYW5nZUV2ZW50RGVjb2RlcjtcbiAgICByZXR1cm4gUmVzdWx0RGVjb2RlcnM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVzdWx0RGVjb2RlcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXN1bHREZWNvZGVycy5qcy5tYXAiLCJpbXBvcnQgeyBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsIH0gZnJvbSBcIm1vbmdvZGItc3RpdGNoLWNvcmUtc2VydmljZXMtbW9uZ29kYi1yZW1vdGVcIjtcbmltcG9ydCBSZW1vdGVNb25nb0NsaWVudEltcGwgZnJvbSBcIi4vaW50ZXJuYWwvUmVtb3RlTW9uZ29DbGllbnRJbXBsXCI7XG5leHBvcnQgdmFyIFJlbW90ZU1vbmdvQ2xpZW50O1xuKGZ1bmN0aW9uIChSZW1vdGVNb25nb0NsaWVudCkge1xuICAgIFJlbW90ZU1vbmdvQ2xpZW50LmZhY3RvcnkgPSBuZXcgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgfVxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXROYW1lZENsaWVudCA9IGZ1bmN0aW9uIChzZXJ2aWNlLCBjbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVtb3RlTW9uZ29DbGllbnRJbXBsKG5ldyBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsKHNlcnZpY2UpKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgfSgpKSgpO1xufSkoUmVtb3RlTW9uZ29DbGllbnQgfHwgKFJlbW90ZU1vbmdvQ2xpZW50ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbW90ZU1vbmdvQ2xpZW50LmpzLm1hcCIsInZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IEJTT04gZnJvbSBcImJzb25cIjtcbmltcG9ydCBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uIGZyb20gXCIuL0NvcmVSZW1vdGVNb25nb1JlYWRPcGVyYXRpb25cIjtcbmltcG9ydCBSZXN1bHREZWNvZGVycyBmcm9tIFwiLi9SZXN1bHREZWNvZGVyc1wiO1xudmFyIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbChuYW1lLCBkYXRhYmFzZU5hbWUsIHNlcnZpY2UsIGNvZGVjKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VOYW1lID0gZGF0YWJhc2VOYW1lO1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgICAgICB0aGlzLmNvZGVjID0gY29kZWM7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gdGhpcy5kYXRhYmFzZU5hbWUgKyBcIi5cIiArIHRoaXMubmFtZTtcbiAgICAgICAgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAoe1xuICAgICAgICAgICAgY29sbGVjdGlvbjogX3RoaXMubmFtZSxcbiAgICAgICAgICAgIGRhdGFiYXNlOiBfdGhpcy5kYXRhYmFzZU5hbWVcbiAgICAgICAgfSk7IH0pKCk7XG4gICAgfVxuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53aXRoQ29sbGVjdGlvblR5cGUgPSBmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCh0aGlzLm5hbWUsIHRoaXMuZGF0YWJhc2VOYW1lLCB0aGlzLnNlcnZpY2UsIGNvZGVjKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGZpbHRlciwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZmlsdGVyID09PSB2b2lkIDApIHsgZmlsdGVyID0ge307IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MucXVlcnkgPSBmaWx0ZXI7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGFyZ3MubGltaXQgPSBvcHRpb25zLmxpbWl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFyZ3MucHJvamVjdCA9IG9wdGlvbnMucHJvamVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnNvcnQgPSBvcHRpb25zLnNvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb3JlUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uKFwiZmluZFwiLCBhcmdzLCB0aGlzLnNlcnZpY2UsIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmUgPSBmdW5jdGlvbiAoZmlsdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChmaWx0ZXIgPT09IHZvaWQgMCkgeyBmaWx0ZXIgPSB7fTsgfVxuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5xdWVyeSA9IGZpbHRlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3QgPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKFwiZmluZE9uZVwiLCBbYXJnc10sIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmVBbmRVcGRhdGUgPSBmdW5jdGlvbiAoZmlsdGVyLCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICBhcmdzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXBzZXJ0KSB7XG4gICAgICAgICAgICAgICAgYXJncy51cHNlcnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmV0dXJuTmV3RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnJldHVybk5ld0RvY3VtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImZpbmRPbmVBbmRVcGRhdGVcIiwgW2FyZ3NdLCB0aGlzLmNvZGVjKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kT25lQW5kUmVwbGFjZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgYXJncy51cGRhdGUgPSByZXBsYWNlbWVudDtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhcmdzLnByb2plY3Rpb24gPSBvcHRpb25zLnByb2plY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgICAgICAgICAgYXJncy5zb3J0ID0gb3B0aW9ucy5zb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXBzZXJ0KSB7XG4gICAgICAgICAgICAgICAgYXJncy51cHNlcnQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmV0dXJuTmV3RG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnJldHVybk5ld0RvY3VtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImZpbmRPbmVBbmRSZXBsYWNlXCIsIFthcmdzXSwgdGhpcy5jb2RlYyk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZE9uZUFuZERlbGV0ZSA9IGZ1bmN0aW9uIChmaWx0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFyZ3MucHJvamVjdGlvbiA9IG9wdGlvbnMucHJvamVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgICAgICAgICBhcmdzLnNvcnQgPSBvcHRpb25zLnNvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24oXCJmaW5kT25lQW5kRGVsZXRlXCIsIFthcmdzXSwgdGhpcy5jb2RlYyk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuYWdncmVnYXRlID0gZnVuY3Rpb24gKHBpcGVsaW5lKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLnBpcGVsaW5lID0gcGlwZWxpbmU7XG4gICAgICAgIHJldHVybiBuZXcgQ29yZVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbihcImFnZ3JlZ2F0ZVwiLCBhcmdzLCB0aGlzLnNlcnZpY2UsIHRoaXMuY29kZWMpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7IHF1ZXJ5ID0ge307IH1cbiAgICAgICAgdmFyIGFyZ3MgPSBfX2Fzc2lnbih7fSwgdGhpcy5iYXNlT3BlcmF0aW9uQXJncyk7XG4gICAgICAgIGFyZ3MucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgYXJncy5saW1pdCA9IG9wdGlvbnMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24oXCJjb3VudFwiLCBbYXJnc10pO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmluc2VydE9uZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5kb2N1bWVudCA9IHRoaXMuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyh0aGlzLmNvZGVjID8gdGhpcy5jb2RlYy5lbmNvZGUodmFsdWUpIDogdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLmNhbGxGdW5jdGlvbihcImluc2VydE9uZVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE9uZVJlc3VsdERlY29kZXIpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmluc2VydE1hbnkgPSBmdW5jdGlvbiAoZG9jcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5kb2N1bWVudHMgPSBkb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyhfdGhpcy5jb2RlYyA/IF90aGlzLmNvZGVjLmVuY29kZShkb2MpIDogZG9jKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKFwiaW5zZXJ0TWFueVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZUluc2VydE1hbnlSZXN1bHREZWNvZGVyKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5kZWxldGVPbmUgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZURlbGV0ZShxdWVyeSwgZmFsc2UpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmRlbGV0ZU1hbnkgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZURlbGV0ZShxdWVyeSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlT25lID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVVwZGF0ZShxdWVyeSwgdXBkYXRlLCBvcHRpb25zLCBmYWxzZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlTWFueSA9IGZ1bmN0aW9uIChxdWVyeSwgdXBkYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGVVcGRhdGUocXVlcnksIHVwZGF0ZSwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBpZiAoYXJnICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuaWRzID0gYXJnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGFyZ3MuZmlsdGVyID0gYXJnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyZ3MudXNlQ29tcGFjdEV2ZW50cyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlLnN0cmVhbUZ1bmN0aW9uKFwid2F0Y2hcIiwgW2FyZ3NdLCBuZXcgUmVzdWx0RGVjb2RlcnMuQ2hhbmdlRXZlbnREZWNvZGVyKHRoaXMuY29kZWMpKTtcbiAgICB9O1xuICAgIENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53YXRjaENvbXBhY3QgPSBmdW5jdGlvbiAoaWRzKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLmlkcyA9IGlkcztcbiAgICAgICAgYXJncy51c2VDb21wYWN0RXZlbnRzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5zdHJlYW1GdW5jdGlvbihcIndhdGNoXCIsIFthcmdzXSwgbmV3IFJlc3VsdERlY29kZXJzLkNvbXBhY3RDaGFuZ2VFdmVudERlY29kZXIodGhpcy5jb2RlYykpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmV4ZWN1dGVEZWxldGUgPSBmdW5jdGlvbiAocXVlcnksIG11bHRpKSB7XG4gICAgICAgIHZhciBhcmdzID0gX19hc3NpZ24oe30sIHRoaXMuYmFzZU9wZXJhdGlvbkFyZ3MpO1xuICAgICAgICBhcmdzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2UuY2FsbEZ1bmN0aW9uKG11bHRpID8gXCJkZWxldGVNYW55XCIgOiBcImRlbGV0ZU9uZVwiLCBbYXJnc10sIFJlc3VsdERlY29kZXJzLnJlbW90ZURlbGV0ZVJlc3VsdERlY29kZXIpO1xuICAgIH07XG4gICAgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmV4ZWN1dGVVcGRhdGUgPSBmdW5jdGlvbiAocXVlcnksIHVwZGF0ZSwgb3B0aW9ucywgbXVsdGkpIHtcbiAgICAgICAgaWYgKG11bHRpID09PSB2b2lkIDApIHsgbXVsdGkgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgYXJncyA9IF9fYXNzaWduKHt9LCB0aGlzLmJhc2VPcGVyYXRpb25BcmdzKTtcbiAgICAgICAgYXJncy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICBhcmdzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy51cHNlcnQpIHtcbiAgICAgICAgICAgIGFyZ3MudXBzZXJ0ID0gb3B0aW9ucy51cHNlcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZS5jYWxsRnVuY3Rpb24obXVsdGkgPyBcInVwZGF0ZU1hbnlcIiA6IFwidXBkYXRlT25lXCIsIFthcmdzXSwgUmVzdWx0RGVjb2RlcnMucmVtb3RlVXBkYXRlUmVzdWx0RGVjb2Rlcik7XG4gICAgfTtcbiAgICBDb3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZ2VuZXJhdGVPYmplY3RJZElmTWlzc2luZyA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgaWYgKCFkb2MuX2lkKSB7XG4gICAgICAgICAgICB2YXIgbmV3RG9jID0gZG9jO1xuICAgICAgICAgICAgbmV3RG9jLl9pZCA9IG5ldyBCU09OLk9iamVjdElEKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3RG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db3JlUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcy5tYXAiLCJpbXBvcnQgQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwgZnJvbSBcIi4vQ29yZVJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGxcIjtcbnZhciBDb3JlUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbChuYW1lLCBzZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XG4gICAgfVxuICAgIENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5wcm90b3R5cGUuY29sbGVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBjb2RlYykge1xuICAgICAgICByZXR1cm4gbmV3IENvcmVSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsKG5hbWUsIHRoaXMubmFtZSwgdGhpcy5zZXJ2aWNlLCBjb2RlYyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5qcy5tYXAiLCJpbXBvcnQgQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsIGZyb20gXCIuL0NvcmVSZW1vdGVNb25nb0RhdGFiYXNlSW1wbFwiO1xudmFyIENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvcmVSZW1vdGVNb25nb0NsaWVudEltcGwoc2VydmljZSkge1xuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIH1cbiAgICBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsLnByb3RvdHlwZS5kYiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29yZVJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsKG5hbWUsIHRoaXMuc2VydmljZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBDb3JlUmVtb3RlTW9uZ29DbGllbnRJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29yZVJlbW90ZU1vbmdvQ2xpZW50SW1wbC5qcy5tYXAiLCJ2YXIgUmVtb3RlTW9uZ29DdXJzb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZU1vbmdvQ3Vyc29yKHByb3h5KSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBwcm94eTtcbiAgICB9XG4gICAgUmVtb3RlTW9uZ29DdXJzb3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5wcm94eS5uZXh0KCkudmFsdWUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZU1vbmdvQ3Vyc29yO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1vbmdvQ3Vyc29yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlTW9uZ29DdXJzb3IuanMubWFwIiwiaW1wb3J0IFJlbW90ZU1vbmdvQ3Vyc29yIGZyb20gXCIuL1JlbW90ZU1vbmdvQ3Vyc29yXCI7XG52YXIgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ocHJveHkpIHtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgIH1cbiAgICBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maXJzdCgpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS50b0FycmF5KCk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb1JlYWRPcGVyYXRpb24ucHJvdG90eXBlLmFzQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5Lml0ZXJhdG9yKCkudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBuZXcgUmVtb3RlTW9uZ29DdXJzb3IocmVzKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbi5qcy5tYXAiLCJpbXBvcnQgUmVtb3RlTW9uZ29SZWFkT3BlcmF0aW9uIGZyb20gXCIuLi9SZW1vdGVNb25nb1JlYWRPcGVyYXRpb25cIjtcbnZhciBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsKHByb3h5KSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBwcm94eTtcbiAgICAgICAgdGhpcy5uYW1lc3BhY2UgPSB0aGlzLnByb3h5Lm5hbWVzcGFjZTtcbiAgICB9XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUud2l0aENvbGxlY3Rpb25UeXBlID0gZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCh0aGlzLnByb3h5LndpdGhDb2xsZWN0aW9uVHlwZShjb2RlYykpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAocXVlcnksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuY291bnQocXVlcnksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChxdWVyeSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbih0aGlzLnByb3h5LmZpbmQocXVlcnksIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmUgPSBmdW5jdGlvbiAocXVlcnksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuZmluZE9uZShxdWVyeSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5maW5kT25lQW5kVXBkYXRlID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkuZmluZE9uZUFuZFVwZGF0ZShxdWVyeSwgdXBkYXRlLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmZpbmRPbmVBbmRSZXBsYWNlID0gZnVuY3Rpb24gKHF1ZXJ5LCByZXBsYWNlbWVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maW5kT25lQW5kUmVwbGFjZShxdWVyeSwgcmVwbGFjZW1lbnQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZmluZE9uZUFuZERlbGV0ZSA9IGZ1bmN0aW9uIChxdWVyeSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5maW5kT25lQW5kRGVsZXRlKHF1ZXJ5LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uIChwaXBlbGluZSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZU1vbmdvUmVhZE9wZXJhdGlvbih0aGlzLnByb3h5LmFnZ3JlZ2F0ZShwaXBlbGluZSkpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuaW5zZXJ0T25lID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5pbnNlcnRPbmUoZG9jKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLmluc2VydE1hbnkgPSBmdW5jdGlvbiAoZG9jcykge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm94eS5pbnNlcnRNYW55KGRvY3MpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUuZGVsZXRlT25lID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmRlbGV0ZU9uZShxdWVyeSk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS5kZWxldGVNYW55ID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LmRlbGV0ZU1hbnkocXVlcnkpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlT25lID0gZnVuY3Rpb24gKHF1ZXJ5LCB1cGRhdGUsIHVwZGF0ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkudXBkYXRlT25lKHF1ZXJ5LCB1cGRhdGUsIHVwZGF0ZU9wdGlvbnMpO1xuICAgIH07XG4gICAgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5wcm90b3R5cGUudXBkYXRlTWFueSA9IGZ1bmN0aW9uIChxdWVyeSwgdXBkYXRlLCB1cGRhdGVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3h5LnVwZGF0ZU1hbnkocXVlcnksIHVwZGF0ZSwgdXBkYXRlT3B0aW9ucyk7XG4gICAgfTtcbiAgICBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsLnByb3RvdHlwZS53YXRjaCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkud2F0Y2goYXJnKTtcbiAgICB9O1xuICAgIFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwucHJvdG90eXBlLndhdGNoQ29tcGFjdCA9IGZ1bmN0aW9uIChpZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJveHkud2F0Y2hDb21wYWN0KGlkcyk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbC5qcy5tYXAiLCJpbXBvcnQgUmVtb3RlTW9uZ29Db2xsZWN0aW9uSW1wbCBmcm9tIFwiLi9SZW1vdGVNb25nb0NvbGxlY3Rpb25JbXBsXCI7XG52YXIgUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsKHByb3h5KSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBwcm94eTtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5wcm94eS5uYW1lO1xuICAgIH1cbiAgICBSZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5wcm90b3R5cGUuY29sbGVjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBjb2RlYykge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZU1vbmdvQ29sbGVjdGlvbkltcGwodGhpcy5wcm94eS5jb2xsZWN0aW9uKG5hbWUsIGNvZGVjKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVtb3RlTW9uZ29EYXRhYmFzZUltcGw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVtb3RlTW9uZ29EYXRhYmFzZUltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW1vdGVNb25nb0RhdGFiYXNlSW1wbC5qcy5tYXAiLCJpbXBvcnQgUmVtb3RlTW9uZ29EYXRhYmFzZUltcGwgZnJvbSBcIi4vUmVtb3RlTW9uZ29EYXRhYmFzZUltcGxcIjtcbnZhciBSZW1vdGVNb25nb0NsaWVudEltcGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbW90ZU1vbmdvQ2xpZW50SW1wbChwcm94eSkge1xuICAgICAgICB0aGlzLnByb3h5ID0gcHJveHk7XG4gICAgfVxuICAgIFJlbW90ZU1vbmdvQ2xpZW50SW1wbC5wcm90b3R5cGUuZGIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZU1vbmdvRGF0YWJhc2VJbXBsKHRoaXMucHJveHkuZGIobmFtZSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZU1vbmdvQ2xpZW50SW1wbDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSZW1vdGVNb25nb0NsaWVudEltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW1vdGVNb25nb0NsaWVudEltcGwuanMubWFwIiwiZXhwb3J0ICogZnJvbSBcIm1vbmdvZGItc3RpdGNoLWJyb3dzZXItY29yZVwiO1xuZXhwb3J0ICogZnJvbSBcIm1vbmdvZGItc3RpdGNoLWJyb3dzZXItc2VydmljZXMtbW9uZ29kYi1yZW1vdGVcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=